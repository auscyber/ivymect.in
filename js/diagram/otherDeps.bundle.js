(self.webpackChunkzolarwind=self.webpackChunkzolarwind||[]).push([[855],{23:(e,t,n)=>{"use strict";function r(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}n.d(t,{xI:()=>pe});var i={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function o(e){i=e}var s={exec:()=>null};function a(e,t=""){let n="string"==typeof e?e:e.source,r={replace:(e,t)=>{let i="string"==typeof t?t:t.source;return i=i.replace(l.caret,"$1"),n=n.replace(e,i),r},getRegex:()=>new RegExp(n,t)};return r}var l={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},c=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,u=/(?:[*+-]|\d{1,9}[.)])/,h=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,d=a(h).replace(/bull/g,u).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),p=a(h).replace(/bull/g,u).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),f=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,g=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,m=a(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",g).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),v=a(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,u).getRegex(),y="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",b=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,w=a("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",b).replace("tag",y).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),x=a(f).replace("hr",c).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",y).getRegex(),_={blockquote:a(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",x).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:m,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:c,html:w,lheading:d,list:v,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:x,table:s,text:/^[^\n]+/},A=a("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",c).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",y).getRegex(),T={..._,lheading:p,table:A,paragraph:a(f).replace("hr",c).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",A).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",y).getRegex()},E={..._,html:a("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",b).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:s,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:a(f).replace("hr",c).replace("heading"," *#{1,6} *[^\n]").replace("lheading",d).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},k=/^( {2,}|\\)\n(?!\s*$)/,S=/[\p{P}\p{S}]/u,C=/[\s\p{P}\p{S}]/u,N=/[^\s\p{P}\p{S}]/u,M=a(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,C).getRegex(),O=/(?!~)[\p{P}\p{S}]/u,R=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,I=a(R,"u").replace(/punct/g,S).getRegex(),L=a(R,"u").replace(/punct/g,O).getRegex(),P="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",D=a(P,"gu").replace(/notPunctSpace/g,N).replace(/punctSpace/g,C).replace(/punct/g,S).getRegex(),B=a(P,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,O).getRegex(),F=a("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,N).replace(/punctSpace/g,C).replace(/punct/g,S).getRegex(),z=a(/\\(punct)/,"gu").replace(/punct/g,S).getRegex(),$=a(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),j=a(b).replace("(?:--\x3e|$)","--\x3e").getRegex(),U=a("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",j).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),H=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,G=a(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",H).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),V=a(/^!?\[(label)\]\[(ref)\]/).replace("label",H).replace("ref",g).getRegex(),W=a(/^!?\[(ref)\](?:\[\])?/).replace("ref",g).getRegex(),Y={_backpedal:s,anyPunctuation:z,autolink:$,blockSkip:/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,br:k,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:s,emStrongLDelim:I,emStrongRDelimAst:D,emStrongRDelimUnd:F,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:G,nolink:W,punctuation:M,reflink:V,reflinkSearch:a("reflink|nolink(?!\\()","g").replace("reflink",V).replace("nolink",W).getRegex(),tag:U,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:s},q={...Y,link:a(/^!?\[(label)\]\((.*?)\)/).replace("label",H).getRegex(),reflink:a(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",H).getRegex()},X={...Y,emStrongRDelimAst:B,emStrongLDelim:L,url:a(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},K={...X,br:a(k).replace("{2,}","*").getRegex(),text:a(X.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Z={normal:_,gfm:T,pedantic:E},Q={normal:Y,gfm:X,breaks:K,pedantic:q},J={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ee=e=>J[e];function te(e,t){if(t){if(l.escapeTest.test(e))return e.replace(l.escapeReplace,ee)}else if(l.escapeTestNoEncode.test(e))return e.replace(l.escapeReplaceNoEncode,ee);return e}function ne(e){try{e=encodeURI(e).replace(l.percentDecode,"%")}catch{return null}return e}function re(e,t){let n=e.replace(l.findPipe,(e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(l.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(l.slashPipe,"|");return n}function ie(e,t,n){let r=e.length;if(0===r)return"";let i=0;for(;i<r;){let o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.slice(0,r-i)}function oe(e,t,n,r,i){let o=t.href,s=t.title||null,a=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:o,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}var se=class{options;rules;lexer;constructor(e){this.options=e||i}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:ie(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(null===r)return t;let i=r[1];return t.split("\n").map(e=>{let t=e.match(n.other.beginningSpace);if(null===t)return e;let[r]=t;return r.length>=i.length?e.slice(i.length):e}).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=ie(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:ie(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=ie(t[0],"\n").split("\n"),n="",r="",i=[];for(;e.length>0;){let t,o=!1,s=[];for(t=0;t<e.length;t++)if(this.rules.other.blockquoteStart.test(e[t]))s.push(e[t]),o=!0;else{if(o)break;s.push(e[t])}e=e.slice(t);let a=s.join("\n"),l=a.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${a}`:a,r=r?`${r}\n${l}`:l;let c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,i,!0),this.lexer.state.top=c,0===e.length)break;let u=i.at(-1);if("code"===u?.type)break;if("blockquote"===u?.type){let t=u,o=t.raw+"\n"+e.join("\n"),s=this.blockquote(o);i[i.length-1]=s,n=n.substring(0,n.length-t.raw.length)+s.raw,r=r.substring(0,r.length-t.text.length)+s.text;break}if("list"===u?.type){let t=u,o=t.raw+"\n"+e.join("\n"),s=this.list(o);i[i.length-1]=s,n=n.substring(0,n.length-u.raw.length)+s.raw,r=r.substring(0,r.length-t.raw.length)+s.raw,e=o.substring(i.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:n,tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let o=this.rules.other.listItemRegex(n),s=!1;for(;e;){let n=!1,r="",a="";if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let l=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,e=>" ".repeat(3*e.length)),c=e.split("\n",1)[0],u=!l.trim(),h=0;if(this.options.pedantic?(h=2,a=l.trimStart()):u?h=t[1].length+1:(h=t[2].search(this.rules.other.nonSpaceChar),h=h>4?1:h,a=l.slice(h),h+=t[1].length),u&&this.rules.other.blankLine.test(c)&&(r+=c+"\n",e=e.substring(c.length+1),n=!0),!n){let t=this.rules.other.nextBulletRegex(h),n=this.rules.other.hrRegex(h),i=this.rules.other.fencesBeginRegex(h),o=this.rules.other.headingBeginRegex(h),s=this.rules.other.htmlBeginRegex(h);for(;e;){let d,p=e.split("\n",1)[0];if(c=p,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),d=c):d=c.replace(this.rules.other.tabCharGlobal,"    "),i.test(c)||o.test(c)||s.test(c)||t.test(c)||n.test(c))break;if(d.search(this.rules.other.nonSpaceChar)>=h||!c.trim())a+="\n"+d.slice(h);else{if(u||l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||i.test(l)||o.test(l)||n.test(l))break;a+="\n"+c}!u&&!c.trim()&&(u=!0),r+=p+"\n",e=e.substring(p.length+1),l=d.slice(h)}}i.loose||(s?i.loose=!0:this.rules.other.doubleBlankLine.test(r)&&(s=!0));let d,p=null;this.options.gfm&&(p=this.rules.other.listIsTask.exec(a),p&&(d="[ ] "!==p[0],a=a.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:r,task:!!p,checked:d,loose:!1,text:a,tokens:[]}),i.raw+=r}let a=i.items.at(-1);if(!a)return;a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd(),i.raw=i.raw.trimEnd();for(let e=0;e<i.items.length;e++)if(this.lexer.state.top=!1,i.items[e].tokens=this.lexer.blockTokens(i.items[e].text,[]),!i.loose){let t=i.items[e].tokens.filter(e=>"space"===e.type),n=t.length>0&&t.some(e=>this.rules.other.anyLine.test(e.raw));i.loose=n}if(i.loose)for(let e=0;e<i.items.length;e++)i.items[e].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=re(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let e of r)this.rules.other.tableAlignRight.test(e)?o.align.push("right"):this.rules.other.tableAlignCenter.test(e)?o.align.push("center"):this.rules.other.tableAlignLeft.test(e)?o.align.push("left"):o.align.push(null);for(let e=0;e<n.length;e++)o.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:o.align[e]});for(let e of i)o.rows.push(re(e,o.header.length).map((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:o.align[t]})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=ie(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n.slice(1):n.slice(1,-1)),oe(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return oe(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){let n,i,o=[...r[0]].length-1,s=o,a=0,l="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+o);null!=(r=l.exec(t));){if(n=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!n)continue;if(i=[...n].length,r[3]||r[4]){s+=i;continue}if((r[5]||r[6])&&o%3&&!((o+i)%3)){a+=i;continue}if(s-=i,s>0)continue;i=Math.min(i,i+s+a);let t=[...r[0]][0].length,l=e.slice(0,o+r.index+t+i);if(Math.min(o,i)%2){let e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}let c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),r=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&r&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=t[0],n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=t[0],n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},ae=class e{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||i,this.options.tokenizer=this.options.tokenizer||new se,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:l,block:Z.normal,inline:Q.normal};this.options.pedantic?(t.block=Z.pedantic,t.inline=Q.pedantic):this.options.gfm&&(t.block=Z.gfm,this.options.breaks?t.inline=Q.breaks:t.inline=Q.gfm),this.tokenizer.rules=t}static get rules(){return{block:Z,inline:Q}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){e=e.replace(l.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(l.tabCharGlobal,"    ").replace(l.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some(n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let n=t.at(-1);1===r.raw.length&&void 0!==n?n.raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.text,this.inlineQueue.at(-1).src=n.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startBlock){let t,n=1/0,r=e.slice(1);this.options.extensions.startBlock.forEach(e=>{t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){let o=t.at(-1);n&&"paragraph"===o?.type?(o.raw+=(o.raw.endsWith("\n")?"":"\n")+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let n=t.at(-1);"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(r);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,r=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(n));)e.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(n));)n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let i=!1,o="";for(;e;){let r;if(i||(o=""),i=!1,this.options.extensions?.inline?.some(n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))continue;if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length);let n=t.at(-1);"text"===r.type&&"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,n,o)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),t.push(r);continue}let s=e;if(this.options.extensions?.startInline){let t,n=1/0,r=e.slice(1);this.options.extensions.startInline.forEach(e=>{t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(s=e.substring(0,n+1))}if(r=this.tokenizer.inlineText(s)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(o=r.raw.slice(-1)),i=!0;let n=t.at(-1);"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(t)}}return t}},le=class{options;parser;constructor(e){this.options=e||i}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(l.notSpaceStart)?.[0],i=e.replace(l.endingNewline,"")+"\n";return r?'<pre><code class="language-'+te(r)+'">'+(n?i:te(i,!0))+"</code></pre>\n":"<pre><code>"+(n?i:te(i,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,r="";for(let t=0;t<e.items.length;t++){let n=e.items[t];r+=this.listitem(n)}let i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+i+">\n"}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+te(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let r="";for(let t=0;t<e.rows.length;t++){let i=e.rows[t];n="";for(let e=0;e<i.length;e++)n+=this.tablecell(i[e]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${te(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=ne(e);if(null===i)return r;let o='<a href="'+(e=i)+'"';return t&&(o+=' title="'+te(t)+'"'),o+=">"+r+"</a>",o}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=ne(e);if(null===i)return te(n);let o=`<img src="${e=i}" alt="${n}"`;return t&&(o+=` title="${te(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:te(e.text)}},ce=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},ue=class e{options;renderer;textRenderer;constructor(e){this.options=e||i,this.options.renderer=this.options.renderer||new le,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ce}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let e=i,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(e.type)){n+=t||"";continue}}let o=i;switch(o.type){case"space":n+=this.renderer.space(o);continue;case"hr":n+=this.renderer.hr(o);continue;case"heading":n+=this.renderer.heading(o);continue;case"code":n+=this.renderer.code(o);continue;case"table":n+=this.renderer.table(o);continue;case"blockquote":n+=this.renderer.blockquote(o);continue;case"list":n+=this.renderer.list(o);continue;case"html":n+=this.renderer.html(o);continue;case"def":n+=this.renderer.def(o);continue;case"paragraph":n+=this.renderer.paragraph(o);continue;case"text":{let i=o,s=this.renderer.text(i);for(;r+1<e.length&&"text"===e[r+1].type;)i=e[++r],s+="\n"+this.renderer.text(i);n+=t?this.renderer.paragraph({type:"paragraph",raw:s,text:s,tokens:[{type:"text",raw:s,text:s,escaped:!0}]}):s;continue}default:{let e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return"";throw new Error(e)}}}return n}parseInline(e,t=this.renderer){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let e=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=e||"";continue}}let o=i;switch(o.type){case"escape":case"text":n+=t.text(o);break;case"html":n+=t.html(o);break;case"link":n+=t.link(o);break;case"image":n+=t.image(o);break;case"strong":n+=t.strong(o);break;case"em":n+=t.em(o);break;case"codespan":n+=t.codespan(o);break;case"br":n+=t.br(o);break;case"del":n+=t.del(o);break;default:{let e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return"";throw new Error(e)}}}return n}},he=class{options;block;constructor(e){this.options=e||i}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?ae.lex:ae.lexInline}provideParser(){return this.block?ue.parse:ue.parseInline}},de=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ue;Renderer=le;TextRenderer=ce;Lexer=ae;Tokenizer=se;Hooks=he;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let e=r;for(let r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(let r of e.rows)for(let e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{let e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach(r=>{let i=e[r].flat(1/0);n=n.concat(this.walkTokens(i,t))}):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(e=>{let n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){let n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");let n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),n.extensions=t),e.renderer){let t=this.defaults.renderer||new le(this.defaults);for(let n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;let r=n,i=e.renderer[r],o=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){let t=this.defaults.tokenizer||new se(this.defaults);for(let n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;let r=n,i=e.tokenizer[r],o=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){let t=this.defaults.hooks||new he;for(let n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;let r=n,i=e.hooks[r],o=t[r];he.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async&&he.passThroughHooksRespectAsync.has(n))return Promise.resolve(i.call(t,e)).then(e=>o.call(t,e));let r=i.call(t,e);return o.call(t,r)}:t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){let t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ae.lex(e,t??this.defaults)}parser(e,t){return ue.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},i={...this.defaults,...r},o=this.onError(!!i.silent,!!i.async);if(!0===this.defaults.async&&!1===r.async)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=e);let s=i.hooks?i.hooks.provideLexer():e?ae.lex:ae.lexInline,a=i.hooks?i.hooks.provideParser():e?ue.parse:ue.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(t):t).then(e=>s(e,i)).then(e=>i.hooks?i.hooks.processAllTokens(e):e).then(e=>i.walkTokens?Promise.all(this.walkTokens(e,i.walkTokens)).then(()=>e):e).then(e=>a(e,i)).then(e=>i.hooks?i.hooks.postprocess(e):e).catch(o);try{i.hooks&&(t=i.hooks.preprocess(t));let e=s(t,i);i.hooks&&(e=i.hooks.processAllTokens(e)),i.walkTokens&&this.walkTokens(e,i.walkTokens);let n=a(e,i);return i.hooks&&(n=i.hooks.postprocess(n)),n}catch(e){return o(e)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let e="<p>An error occurred:</p><pre>"+te(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function pe(e,t){return de.parse(e,t)}pe.options=pe.setOptions=function(e){return de.setOptions(e),pe.defaults=de.defaults,o(pe.defaults),pe},pe.getDefaults=r,pe.defaults=i,pe.use=function(...e){return de.use(...e),pe.defaults=de.defaults,o(pe.defaults),pe},pe.walkTokens=function(e,t){return de.walkTokens(e,t)},pe.parseInline=de.parseInline,pe.Parser=ue,pe.parser=ue.parse,pe.Renderer=le,pe.TextRenderer=ce,pe.Lexer=ae,pe.lexer=ae.lex,pe.Tokenizer=se,pe.Hooks=he,pe.parse=pe;pe.options,pe.setOptions,pe.use,pe.walkTokens,pe.parseInline,ue.parse,ae.lex},53:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(4507);const i=function(e){return(0,r.A)(e,4)}},154:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1917),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof module&&module&&!module.nodeType&&module,s=o&&o.exports===i?r.A.Buffer:void 0,a=s?s.allocUnsafe:void 0;const l=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}},165:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function a(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}n.d(t,{A:()=>Wd});var p="undefined"==typeof window?null:window,f=p?p.navigator:null;p&&p.document;var g,m,v,y,b,w,x,_,A,T,E,k,S,C,N,M,O,R,I,L,P,D,B,F,z,$,j,U,H=h(""),G=h({}),V=h(function(){}),W="undefined"==typeof HTMLElement?"undefined":h(HTMLElement),Y=function(e){return e&&e.instanceString&&X(e.instanceString)?e.instanceString():null},q=function(e){return null!=e&&h(e)==H},X=function(e){return null!=e&&h(e)===V},K=function(e){return!ee(e)&&(Array.isArray?Array.isArray(e):null!=e&&e instanceof Array)},Z=function(e){return null!=e&&h(e)===G&&!K(e)&&e.constructor===Object},Q=function(e){return null!=e&&h(e)===h(1)&&!isNaN(e)},J=function(e){return"undefined"===W?void 0:null!=e&&e instanceof HTMLElement},ee=function(e){return te(e)||ne(e)},te=function(e){return"collection"===Y(e)&&e._private.single},ne=function(e){return"collection"===Y(e)&&!e._private.single},re=function(e){return"core"===Y(e)},ie=function(e){return"stylesheet"===Y(e)},oe=function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},se=function(e){return function(e){return null!=e&&h(e)===G}(e)&&X(e.then)},ae=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function(){var r,i=arguments,o=t.apply(this,i),s=n.cache;return(r=s[o])||(r=s[o]=e.apply(this,i)),r};return n.cache={},n},le=ae(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),ce=ae(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),ue=ae(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),he=function(e){return oe(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},de=function(e,t){return e.slice(-1*t.length)===t},pe="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",fe="rgb[a]?\\(("+pe+"[%]?)\\s*,\\s*("+pe+"[%]?)\\s*,\\s*("+pe+"[%]?)(?:\\s*,\\s*("+pe+"))?\\)",ge="rgb[a]?\\((?:"+pe+"[%]?)\\s*,\\s*(?:"+pe+"[%]?)\\s*,\\s*(?:"+pe+"[%]?)(?:\\s*,\\s*(?:"+pe+"))?\\)",me="hsl[a]?\\(("+pe+")\\s*,\\s*("+pe+"[%])\\s*,\\s*("+pe+"[%])(?:\\s*,\\s*("+pe+"))?\\)",ve="hsl[a]?\\((?:"+pe+")\\s*,\\s*(?:"+pe+"[%])\\s*,\\s*(?:"+pe+"[%])(?:\\s*,\\s*(?:"+pe+"))?\\)",ye=function(e,t){return e<t?-1:e>t?1:0},be=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var i=Object.keys(r),o=0;o<i.length;o++){var s=i[o];e[s]=r[s]}}return e},we=function(e){return(K(e)?e:null)||function(e){return xe[e.toLowerCase()]}(e)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,r,i=16;return 4===e.length?(t=parseInt(e[1]+e[1],i),n=parseInt(e[2]+e[2],i),r=parseInt(e[3]+e[3],i)):(t=parseInt(e[1]+e[2],i),n=parseInt(e[3]+e[4],i),r=parseInt(e[5]+e[6],i)),[t,n,r]}}(e)||function(e){var t,n=new RegExp("^"+fe+"$").exec(e);if(n){t=[];for(var r=[],i=1;i<=3;i++){var o=n[i];if("%"===o[o.length-1]&&(r[i]=!0),o=parseFloat(o),r[i]&&(o=o/100*255),o<0||o>255)return;t.push(Math.floor(o))}var s=r[1]||r[2]||r[3],a=r[1]&&r[2]&&r[3];if(s&&!a)return;var l=n[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;t.push(l)}}return t}(e)||function(e){var t,n,r,i,o,s,a,l;function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var u=new RegExp("^"+me+"$").exec(e);if(u){if((n=parseInt(u[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(u[2]))<0||r>100)return;if(r/=100,(i=parseFloat(u[3]))<0||i>100)return;if(i/=100,void 0!==(o=u[4])&&((o=parseFloat(o))<0||o>1))return;if(0===r)s=a=l=Math.round(255*i);else{var h=i<.5?i*(1+r):i+r-i*r,d=2*i-h;s=Math.round(255*c(d,h,n+1/3)),a=Math.round(255*c(d,h,n)),l=Math.round(255*c(d,h,n-1/3))}t=[s,a,l,o]}return t}(e)},xe={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_e=function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var o=n[i];if(Z(o))throw Error("Tried to set map with object key");i<n.length-1?(null==t[o]&&(t[o]={}),t=t[o]):t[o]=e.value}},Ae=function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var o=n[i];if(Z(o))throw Error("Tried to get map with object key");if(null==(t=t[o]))return t}return t},Te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ee(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ke(){if(m)return g;return m=1,g=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}function Se(){if(w)return b;w=1;var e=function(){if(y)return v;y=1;var e="object"==typeof Te&&Te&&Te.Object===Object&&Te;return v=e}(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return b=n}function Ce(){if(k)return E;k=1;var e=function(){if(T)return A;T=1;var e=/\s/;return A=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n},A}(),t=/^\s+/;return E=function(n){return n?n.slice(0,e(n)+1).replace(t,""):n},E}function Ne(){if(C)return S;C=1;var e=Se().Symbol;return S=e}function Me(){if(L)return I;L=1;var e=Ne(),t=function(){if(M)return N;M=1;var e=Ne(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;return N=function(e){var t=n.call(e,i),o=e[i];try{e[i]=void 0;var s=!0}catch(e){}var a=r.call(e);return s&&(t?e[i]=o:delete e[i]),a}}(),n=function(){if(R)return O;R=1;var e=Object.prototype.toString;return O=function(t){return e.call(t)}}(),r=e?e.toStringTag:void 0;return I=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e)}}function Oe(){if(F)return B;F=1;var e=Me(),t=D?P:(D=1,P=function(e){return null!=e&&"object"==typeof e});return B=function(n){return"symbol"==typeof n||t(n)&&"[object Symbol]"==e(n)}}var Re=Ee(function(){if(U)return j;U=1;var e=ke(),t=function(){if(_)return x;_=1;var e=Se();return x=function(){return e.Date.now()}}(),n=function(){if($)return z;$=1;var e=Ce(),t=ke(),n=Oe(),r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;return z=function(a){if("number"==typeof a)return a;if(n(a))return NaN;if(t(a)){var l="function"==typeof a.valueOf?a.valueOf():a;a=t(l)?l+"":l}if("string"!=typeof a)return 0===a?a:+a;a=e(a);var c=i.test(a);return c||o.test(a)?s(a.slice(2),c?2:8):r.test(a)?NaN:+a}}(),r=Math.max,i=Math.min;return j=function(o,s,a){var l,c,u,h,d,p,f=0,g=!1,m=!1,v=!0;if("function"!=typeof o)throw new TypeError("Expected a function");function y(e){var t=l,n=c;return l=c=void 0,f=e,h=o.apply(n,t)}function b(e){var t=e-p;return void 0===p||t>=s||t<0||m&&e-f>=u}function w(){var e=t();if(b(e))return x(e);d=setTimeout(w,function(e){var t=s-(e-p);return m?i(t,u-(e-f)):t}(e))}function x(e){return d=void 0,v&&l?y(e):(l=c=void 0,h)}function _(){var e=t(),n=b(e);if(l=arguments,c=this,p=e,n){if(void 0===d)return function(e){return f=e,d=setTimeout(w,s),g?y(e):h}(p);if(m)return clearTimeout(d),d=setTimeout(w,s),y(p)}return void 0===d&&(d=setTimeout(w,s)),h}return s=n(s)||0,e(a)&&(g=!!a.leading,u=(m="maxWait"in a)?r(n(a.maxWait)||0,s):u,v="trailing"in a?!!a.trailing:v),_.cancel=function(){void 0!==d&&clearTimeout(d),f=0,l=p=c=d=void 0},_.flush=function(){return void 0===d?h:x(t())},_}}()),Ie=p?p.performance:null,Le=Ie&&Ie.now?function(){return Ie.now()}:function(){return Date.now()},Pe=function(){if(p){if(p.requestAnimationFrame)return function(e){p.requestAnimationFrame(e)};if(p.mozRequestAnimationFrame)return function(e){p.mozRequestAnimationFrame(e)};if(p.webkitRequestAnimationFrame)return function(e){p.webkitRequestAnimationFrame(e)};if(p.msRequestAnimationFrame)return function(e){p.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(Le())},1e3/60)}}(),De=function(e){return Pe(e)},Be=Le,Fe=9261,ze=5381,$e=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe;!(t=e.next()).done;)n=65599*n+t.value|0;return n},je=function(e){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe)+e|0},Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze;return(t<<5)+t+e|0},He=function(e){return 2097152*e[0]+e[1]},Ge=function(e,t){return[je(e[0],t[0]),Ue(e[1],t[1])]},Ve=function(e,t){var n={value:0,done:!1},r=0,i=e.length;return $e({next:function(){return r<i?n.value=e[r++]:n.done=!0,n}},t)},We=function(e,t){var n={value:0,done:!1},r=0,i=e.length;return $e({next:function(){return r<i?n.value=e.charCodeAt(r++):n.done=!0,n}},t)},Ye=function(){return qe(arguments)},qe=function(e){for(var t,n=0;n<e.length;n++){var r=e[n];t=0===n?We(r):We(r,t)}return t};function Xe(e,t,n){if(0===n)return e;var r=(t.x1+t.x2)/2,i=(t.y1+t.y2)/2,o=t.w/t.h,s=1/o,a=function(e,t,n,r,i){var o=i*Math.PI/180;return{x:Math.cos(o)*(e-n)-Math.sin(o)*(t-r)+n,y:Math.sin(o)*(e-n)+Math.cos(o)*(t-r)+r}}(e.x,e.y,r,i,n),l=function(e,t,n,r,i,o){return{x:(e-n)*i+n,y:(t-r)*o+r}}(a.x,a.y,r,i,o,s);return{x:l.x,y:l.y}}var Ke=!0,Ze=(console.warn,console.trace,Number.MAX_SAFE_INTEGER||9007199254740991),Qe=function(){return!0},Je=function(){return!1},et=function(){return 0},tt=function(){},nt=function(e){throw new Error(e)},rt=function(e){if(void 0===e)return Ke;Ke=!!e},it=function(e){rt()},ot=function(e){return null==e?e:K(e)?e.slice():Z(e)?function(e){return be({},e)}(e):e},st=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},at={},lt=function(){return at},ct=function(e){var t=Object.keys(e);return function(n){for(var r={},i=0;i<t.length;i++){var o=t[i],s=null==n?void 0:n[o];r[o]=void 0===s?e[o]:s}return r}},ut=function(e,t,n){for(var r=e.length-1;r>=0;r--)e[r]===t&&e.splice(r,1)},ht=function(e){e.splice(0,e.length)},dt=function(e,t,n){return n&&(t=ue(n,t)),e[t]},pt=function(e,t,n,r){n&&(t=ue(n,t)),e[t]=r},ft="undefined"!=typeof Map?Map:function(){return o(function e(){i(this,e),this._obj={}},[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}])}(),gt=function(){return o(function e(t){if(i(this,e),this._obj=Object.create(null),this.size=0,null!=t){var n;n=null!=t.instanceString&&t.instanceString()===this.instanceString()?t.toArray():t;for(var r=0;r<n.length;r++)this.add(n[r])}},[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter(function(t){return e.has(t)})}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}])}(),mt="undefined"!==("undefined"==typeof Set?"undefined":h(Set))?Set:gt,vt=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e&&void 0!==t&&re(e)){var r=t.group;if(null==r&&(r=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,pannable:void 0===t.pannable?"edges"===r:!!t.pannable,active:!1,classes:new mt,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==i.position.x&&(i.position.x=0),null==i.position.y&&(i.position.y=0),t.renderedPosition){var o=t.renderedPosition,s=e.pan(),a=e.zoom();i.position={x:(o.x-s.x)/a,y:(o.y-s.y)/a}}var l=[];K(t.classes)?l=t.classes:q(t.classes)&&(l=t.classes.split(/\s+/));for(var c=0,u=l.length;c<u;c++){var h=l[c];h&&""!==h&&i.classes.add(h)}this.createEmitter(),(void 0===n||n)&&this.restore();var d=t.style||t.css;d&&(it(),this.style(d))}else nt("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else nt("An element must have a core reference and parameters set")},yt=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,r){var i;Z(t)&&!ee(t)&&(t=(i=t).roots||i.root,n=i.visit,r=i.directed),r=2!==arguments.length||X(n)?r:n,n=X(n)?n:function(){};for(var o,s=this._private.cy,a=t=q(t)?this.filter(t):t,l=[],c=[],u={},h={},d={},p=0,f=this.byGroup(),g=f.nodes,m=f.edges,v=0;v<a.length;v++){var y=a[v],b=y.id();y.isNode()&&(l.unshift(y),e.bfs&&(d[b]=!0,c.push(y)),h[b]=0)}for(var w,x=function(){var t=e.bfs?l.shift():l.pop(),i=t.id();if(e.dfs){if(d[i])return 0;d[i]=!0,c.push(t)}var s,a=h[i],f=u[i],v=null!=f?f.source():null,y=null!=f?f.target():null,b=null==f?void 0:t.same(v)?y[0]:v[0];if(!0===(s=n(t,f,b,p++,a)))return o=t,1;if(!1===s)return 1;for(var w=t.connectedEdges().filter(function(e){return(!r||e.source().same(t))&&m.has(e)}),x=0;x<w.length;x++){var _=w[x],A=_.connectedNodes().filter(function(e){return!e.same(t)&&g.has(e)}),T=A.id();0===A.length||d[T]||(A=A[0],l.push(A),e.bfs&&(d[T]=!0,c.push(A)),u[T]=_,h[T]=h[i]+1)}};0!==l.length&&(0===(w=x())||1!==w););for(var _=s.collection(),A=0;A<c.length;A++){var T=c[A],E=u[T.id()];null!=E&&_.push(E),_.push(T)}return{path:s.collection(_),found:s.collection(o)}}},bt={breadthFirstSearch:yt({bfs:!0}),depthFirstSearch:yt({dfs:!0})};bt.bfs=bt.breadthFirstSearch,bt.dfs=bt.depthFirstSearch;var wt,xt,_t,At={exports:{}},Tt=At.exports;function Et(){return wt||(wt=1,function(e){(function(){var t,n,r,i,o,s,a,l,c,u,h,d,p,f,g;r=Math.floor,u=Math.min,n=function(e,t){return e<t?-1:e>t?1:0},c=function(e,t,i,o,s){var a;if(null==i&&(i=0),null==s&&(s=n),i<0)throw new Error("lo must be non-negative");for(null==o&&(o=e.length);i<o;)s(t,e[a=r((i+o)/2)])<0?o=a:i=a+1;return[].splice.apply(e,[i,i-i].concat(t)),t},s=function(e,t,r){return null==r&&(r=n),e.push(t),f(e,0,e.length-1,r)},o=function(e,t){var r,i;return null==t&&(t=n),r=e.pop(),e.length?(i=e[0],e[0]=r,g(e,0,t)):i=r,i},l=function(e,t,r){var i;return null==r&&(r=n),i=e[0],e[0]=t,g(e,0,r),i},a=function(e,t,r){var i;return null==r&&(r=n),e.length&&r(e[0],t)<0&&(t=(i=[e[0],t])[0],e[0]=i[1],g(e,0,r)),t},i=function(e,t){var i,o,s,a,l,c;for(null==t&&(t=n),l=[],o=0,s=(a=function(){c=[];for(var t=0,n=r(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)c.push(t);return c}.apply(this).reverse()).length;o<s;o++)i=a[o],l.push(g(e,i,t));return l},p=function(e,t,r){var i;if(null==r&&(r=n),-1!==(i=e.indexOf(t)))return f(e,0,i,r),g(e,i,r)},h=function(e,t,r){var o,s,l,c,u;if(null==r&&(r=n),!(s=e.slice(0,t)).length)return s;for(i(s,r),l=0,c=(u=e.slice(t)).length;l<c;l++)o=u[l],a(s,o,r);return s.sort(r).reverse()},d=function(e,t,r){var s,a,l,h,d,p,f,g,m;if(null==r&&(r=n),10*t<=e.length){if(!(l=e.slice(0,t).sort(r)).length)return l;for(a=l[l.length-1],h=0,p=(f=e.slice(t)).length;h<p;h++)r(s=f[h],a)<0&&(c(l,s,0,null,r),l.pop(),a=l[l.length-1]);return l}for(i(e,r),m=[],d=0,g=u(t,e.length);0<=g?d<g:d>g;0<=g?++d:--d)m.push(o(e,r));return m},f=function(e,t,r,i){var o,s,a;for(null==i&&(i=n),o=e[r];r>t&&i(o,s=e[a=r-1>>1])<0;)e[r]=s,r=a;return e[r]=o},g=function(e,t,r){var i,o,s,a,l;for(null==r&&(r=n),o=e.length,l=t,s=e[t],i=2*t+1;i<o;)(a=i+1)<o&&!(r(e[i],e[a])<0)&&(i=a),e[t]=e[i],i=2*(t=i)+1;return e[t]=s,f(e,l,t,r)},t=function(){function e(e){this.cmp=null!=e?e:n,this.nodes=[]}return e.push=s,e.pop=o,e.replace=l,e.pushpop=a,e.heapify=i,e.updateItem=p,e.nlargest=h,e.nsmallest=d,e.prototype.push=function(e){return s(this.nodes,e,this.cmp)},e.prototype.pop=function(){return o(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return l(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return a(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return i(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return p(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),e.exports=t}).call(Tt)}(At)),At.exports}var kt,St=Ee(_t?xt:(_t=1,xt=Et())),Ct=ct({root:null,weight:function(e){return 1},directed:!1}),Nt={dijkstra:function(e){if(!Z(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=Ct(e),r=n.root,i=n.weight,o=n.directed,s=this,a=i,l=q(r)?this.filter(r)[0]:r[0],c={},u={},h={},d=this.byGroup(),p=d.nodes,f=d.edges;f.unmergeBy(function(e){return e.isLoop()});for(var g=function(e){return c[e.id()]},m=function(e,t){c[e.id()]=t,v.updateItem(e)},v=new St(function(e,t){return g(e)-g(t)}),y=0;y<p.length;y++){var b=p[y];c[b.id()]=b.same(l)?0:1/0,v.push(b)}for(var w=function(e,t){for(var n,r=(o?e.edgesTo(t):e.edgesWith(t)).intersect(f),i=1/0,s=0;s<r.length;s++){var l=r[s],c=a(l);(c<i||!n)&&(i=c,n=l)}return{edge:n,dist:i}};v.size()>0;){var x=v.pop(),_=g(x),A=x.id();if(h[A]=_,_!==1/0)for(var T=x.neighborhood().intersect(p),E=0;E<T.length;E++){var k=T[E],S=k.id(),C=w(x,k),N=_+C.dist;N<g(k)&&(m(k,N),u[S]={node:x,edge:C.edge})}}return{distanceTo:function(e){var t=q(e)?p.filter(e)[0]:e[0];return h[t.id()]},pathTo:function(e){var t=q(e)?p.filter(e)[0]:e[0],n=[],r=t,i=r.id();if(t.length>0)for(n.unshift(t);u[i];){var o=u[i];n.unshift(o.edge),n.unshift(o.node),i=(r=o.node).id()}return s.spawn(n)}}}},Mt={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),n=t.nodes,r=t.edges,i=n.length,o=new Array(i),s=n,a=function(e){for(var t=0;t<o.length;t++){if(o[t].has(e))return t}},l=0;l<i;l++)o[l]=this.spawn(n[l]);for(var c=r.sort(function(t,n){return e(t)-e(n)}),u=0;u<c.length;u++){var h=c[u],d=h.source()[0],p=h.target()[0],f=a(d),g=a(p),m=o[f],v=o[g];f!==g&&(s.merge(h),m.merge(v),o.splice(g,1))}return s}},Ot=ct({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),Rt={aStar:function(e){var t=this.cy(),n=Ot(e),r=n.root,i=n.goal,o=n.heuristic,s=n.directed,a=n.weight;r=t.collection(r)[0],i=t.collection(i)[0];var l,c,u=r.id(),h=i.id(),d={},p={},f={},g=new St(function(e,t){return p[e.id()]-p[t.id()]}),m=new mt,v={},y={},b=function(e,t){g.push(e),m.add(t)},w=function(){l=g.pop(),c=l.id(),m.delete(c)},x=function(e){return m.has(e)};b(r,u),d[u]=0,p[u]=o(r);for(var _=0;g.size()>0;){if(w(),_++,c===h){for(var A=[],T=i,E=h,k=y[E];A.unshift(T),null!=k&&A.unshift(k),null!=(T=v[E]);)k=y[E=T.id()];return{found:!0,distance:d[c],path:this.spawn(A),steps:_}}f[c]=!0;for(var S=l._private.edges,C=0;C<S.length;C++){var N=S[C];if(this.hasElementWithId(N.id())&&(!s||N.data("source")===c)){var M=N.source(),O=N.target(),R=M.id()!==c?M:O,I=R.id();if(this.hasElementWithId(I)&&!f[I]){var L=d[c]+a(N);x(I)?L<d[I]&&(d[I]=L,p[I]=L+o(R),v[I]=l,y[I]=N):(d[I]=L,p[I]=L+o(R),b(R,I),v[I]=l,y[I]=N)}}}}return{found:!1,distance:void 0,path:void 0,steps:_}}},It=ct({weight:function(e){return 1},directed:!1}),Lt={floydWarshall:function(e){for(var t=this.cy(),n=It(e),r=n.weight,i=n.directed,o=r,s=this.byGroup(),a=s.nodes,l=s.edges,c=a.length,u=c*c,h=function(e){return a.indexOf(e)},d=function(e){return a[e]},p=new Array(u),f=0;f<u;f++){var g=f%c,m=(f-g)/c;p[f]=m===g?0:1/0}for(var v=new Array(u),y=new Array(u),b=0;b<l.length;b++){var w=l[b],x=w.source()[0],_=w.target()[0];if(x!==_){var A=h(x),T=h(_),E=A*c+T,k=o(w);if(p[E]>k&&(p[E]=k,v[E]=T,y[E]=w),!i){var S=T*c+A;!i&&p[S]>k&&(p[S]=k,v[S]=A,y[S]=w)}}}for(var C=0;C<c;C++)for(var N=0;N<c;N++)for(var M=N*c+C,O=0;O<c;O++){var R=N*c+O,I=C*c+O;p[M]+p[I]<p[R]&&(p[R]=p[M]+p[I],v[R]=v[M])}var L=function(e){return h(function(e){return(q(e)?t.filter(e):e)[0]}(e))},P={distance:function(e,t){var n=L(e),r=L(t);return p[n*c+r]},path:function(e,n){var r=L(e),i=L(n),o=d(r);if(r===i)return o.collection();if(null==v[r*c+i])return t.collection();var s,a=t.collection(),l=r;for(a.merge(o);r!==i;)l=r,r=v[r*c+i],s=y[l*c+r],a.merge(s),a.merge(d(r));return a}};return P}},Pt=ct({weight:function(e){return 1},directed:!1,root:null}),Dt={bellmanFord:function(e){var t=this,n=Pt(e),r=n.weight,i=n.directed,o=n.root,s=r,a=this,l=this.cy(),c=this.byGroup(),u=c.edges,h=c.nodes,d=h.length,p=new ft,f=!1,g=[];o=l.collection(o)[0],u.unmergeBy(function(e){return e.isLoop()});for(var m=u.length,v=function(e){var t=p.get(e.id());return t||(t={},p.set(e.id(),t)),t},y=function(e){return(q(e)?l.$(e):e)[0]},b=0;b<d;b++){var w=h[b],x=v(w);w.same(o)?x.dist=0:x.dist=1/0,x.pred=null,x.edge=null}for(var _=!1,A=function(e,t,n,r,i,o){var s=r.dist+o;s<i.dist&&!n.same(r.edge)&&(i.dist=s,i.pred=e,i.edge=n,_=!0)},T=1;T<d;T++){_=!1;for(var E=0;E<m;E++){var k=u[E],S=k.source(),C=k.target(),N=s(k),M=v(S),O=v(C);A(S,0,k,M,O,N),i||A(C,0,k,O,M,N)}if(!_)break}if(_)for(var R=[],I=0;I<m;I++){var L=u[I],P=L.source(),D=L.target(),B=s(L),F=v(P).dist,z=v(D).dist;if(F+B<z||!i&&z+B<F){if(f||(it(),f=!0),!1===e.findNegativeWeightCycles)break;var $=[];F+B<z&&$.push(P),!i&&z+B<F&&$.push(D);for(var j=$.length,U=0;U<j;U++){var H=$[U],G=[H];G.push(v(H).edge);for(var V=v(H).pred;-1===G.indexOf(V);)G.push(V),G.push(v(V).edge),V=v(V).pred;for(var W=(G=G.slice(G.indexOf(V)))[0].id(),Y=0,X=2;X<G.length;X+=2)G[X].id()<W&&(W=G[X].id(),Y=X);(G=G.slice(Y).concat(G.slice(0,Y))).push(G[0]);var K=G.map(function(e){return e.id()}).join(",");-1===R.indexOf(K)&&(g.push(a.spawn(G)),R.push(K))}}}return{distanceTo:function(e){return v(y(e)).dist},pathTo:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,r=[],i=y(e);;){if(null==i)return t.spawn();var s=v(i),l=s.edge,c=s.pred;if(r.unshift(i[0]),i.same(n)&&r.length>0)break;null!=l&&r.unshift(l),i=c}return a.spawn(r)},hasNegativeWeightCycle:f,negativeWeightCycles:g}}},Bt=Math.sqrt(2),Ft=function(e,t,n){0===n.length&&nt("Karger-Stein must be run on a connected (sub)graph");for(var r=n[e],i=r[1],o=r[2],s=t[i],a=t[o],l=n,c=l.length-1;c>=0;c--){var u=l[c],h=u[1],d=u[2];(t[h]===s&&t[d]===a||t[h]===a&&t[d]===s)&&l.splice(c,1)}for(var p=0;p<l.length;p++){var f=l[p];f[1]===a?(l[p]=f.slice(),l[p][1]=s):f[2]===a&&(l[p]=f.slice(),l[p][2]=s)}for(var g=0;g<t.length;g++)t[g]===a&&(t[g]=s);return l},zt=function(e,t,n,r){for(;n>r;){var i=Math.floor(Math.random()*t.length);t=Ft(i,e,t),n--}return t},$t={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,r=t.edges;r.unmergeBy(function(e){return e.isLoop()});var i=n.length,o=r.length,s=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),a=Math.floor(i/Bt);if(!(i<2)){for(var l=[],c=0;c<o;c++){var u=r[c];l.push([c,n.indexOf(u.source()),n.indexOf(u.target())])}for(var h=1/0,d=[],p=new Array(i),f=new Array(i),g=new Array(i),m=function(e,t){for(var n=0;n<i;n++)t[n]=e[n]},v=0;v<=s;v++){for(var y=0;y<i;y++)f[y]=y;var b=zt(f,l.slice(),i,a),w=b.slice();m(f,g);var x=zt(f,b,a,2),_=zt(g,w,a,2);x.length<=_.length&&x.length<h?(h=x.length,d=x,m(f,p)):_.length<=x.length&&_.length<h&&(h=_.length,d=_,m(g,p))}for(var A=this.spawn(d.map(function(e){return r[e[0]]})),T=this.spawn(),E=this.spawn(),k=p[0],S=0;S<p.length;S++){var C=p[S],N=n[S];C===k?T.merge(N):E.merge(N)}var M=function(t){var n=e.spawn();return t.forEach(function(t){n.merge(t),t.connectedEdges().forEach(function(t){e.contains(t)&&!A.contains(t)&&n.merge(t)})}),n},O=[M(T),M(E)];return{cut:A,components:O,partition1:T,partition2:E}}nt("At least 2 nodes are required for Karger-Stein algorithm")}},jt=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},Ut=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},Ht=function(e){return{x:e[0],y:e[1]}},Gt=function(e,t){return Math.atan2(t,e)-Math.PI/2},Vt=Math.log2||function(e){return Math.log(e)/Math.log(2)},Wt=function(e){return e>0?1:e<0?-1:0},Yt=function(e,t){return Math.sqrt(qt(e,t))},qt=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},Xt=function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(var i=0;i<t;i++)e[i]=e[i]/n;return e},Kt=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},Zt=function(e,t,n,r){return{x:Kt(e.x,t.x,n.x,r),y:Kt(e.y,t.y,n.y,r)}},Qt=function(e,t,n){return Math.max(e,Math.min(n,t))},Jt=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},en=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},tn=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},nn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},rn=function(e){var t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===o.length)t=n=r=i=o[0];else if(2===o.length)t=r=o[0],i=n=o[1];else if(4===o.length){var s=l(o,4);t=s[0],n=s[1],r=s[2],i=s[3]}return e.x1-=i,e.x2+=n,e.y1-=t,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},on=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},sn=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))},an=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},ln=function(e,t){return an(e,t.x,t.y)},cn=function(e,t){return an(e,t.x1,t.y1)&&an(e,t.x2,t.y2)},un=null!==(kt=Math.hypot)&&void 0!==kt?kt:function(e,t){return Math.sqrt(e*e+t*t)};function hn(e,t,n,r,i,o){var s=function(e,t){if(e.length<3)throw new Error("Need at least 3 vertices");var n=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},r=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},i=function(e,t){return{x:e.x*t,y:e.y*t}},o=function(e,t){return e.x*t.y-e.y*t.x},s=function(e){var t=un(e.x,e.y);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},a=function(e,t,s,a){var l=r(t,e),c=r(a,s),u=o(l,c);if(Math.abs(u)<1e-9)return n(e,i(l,.5));var h=o(r(s,e),c)/u;return n(e,i(l,h))},l=e.map(function(e){return{x:e.x,y:e.y}});(function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n],i=e[(n+1)%e.length];t+=r.x*i.y-i.x*r.y}return t/2})(l)<0&&l.reverse();for(var c=l.length,u=[],h=0;h<c;h++){var d=l[h],p=l[(h+1)%c],f=r(p,d),g=s({x:f.y,y:-f.x});u.push(g)}for(var m=u.map(function(e,r){return{p1:n(l[r],i(e,t)),p2:n(l[(r+1)%c],i(e,t))}}),v=[],y=0;y<c;y++){var b=m[(y-1+c)%c],w=m[y],x=a(b.p1,b.p2,w.p1,w.p2);v.push(x)}return v}(En(e,t,n,r,i),o),a=Jt();return s.forEach(function(e){return tn(a,e.x,e.y)}),a}var dn=function(e,t,n,r,i,o,s){var a,l,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"auto",u="auto"===c?On(i,o):c,h=i/2,d=o/2,p=(u=Math.min(u,h,d))!==h,f=u!==d;if(p){var g=r-d-s;if((a=Tn(e,t,n,r,n-h+u-s,g,n+h-u+s,g,!1)).length>0)return a}if(f){var m=n+h+s;if((a=Tn(e,t,n,r,m,r-d+u-s,m,r+d-u+s,!1)).length>0)return a}if(p){var v=r+d+s;if((a=Tn(e,t,n,r,n-h+u-s,v,n+h-u+s,v,!1)).length>0)return a}if(f){var y=n-h-s;if((a=Tn(e,t,n,r,y,r-d+u-s,y,r+d-u+s,!1)).length>0)return a}var b=n-h+u,w=r-d+u;if((l=_n(e,t,n,r,b,w,u+s)).length>0&&l[0]<=b&&l[1]<=w)return[l[0],l[1]];var x=n+h-u,_=r-d+u;if((l=_n(e,t,n,r,x,_,u+s)).length>0&&l[0]>=x&&l[1]<=_)return[l[0],l[1]];var A=n+h-u,T=r+d-u;if((l=_n(e,t,n,r,A,T,u+s)).length>0&&l[0]>=A&&l[1]>=T)return[l[0],l[1]];var E=n-h+u,k=r+d-u;return(l=_n(e,t,n,r,E,k,u+s)).length>0&&l[0]<=E&&l[1]>=k?[l[0],l[1]]:[]},pn=function(e,t,n,r,i,o,s){var a=s,l=Math.min(n,i),c=Math.max(n,i),u=Math.min(r,o),h=Math.max(r,o);return l-a<=e&&e<=c+a&&u-a<=t&&t<=h+a},fn=function(e,t,n,r,i,o,s,a,l){var c=Math.min(n,s,i)-l,u=Math.max(n,s,i)+l,h=Math.min(r,a,o)-l,d=Math.max(r,a,o)+l;return!(e<c||e>u||t<h||t>d)},gn=function(e,t,n,r,i,o,s,a){var l=[];!function(e,t,n,r,i){var o,s,a,l,c,u,h,d;0===e&&(e=1e-5),a=-27*(r/=e)+(t/=e)*(9*(n/=e)-t*t*2),o=(s=(3*n-t*t)/9)*s*s+(a/=54)*a,i[1]=0,h=t/3,o>0?(c=(c=a+Math.sqrt(o))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),u=(u=a-Math.sqrt(o))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),i[0]=-h+c+u,h+=(c+u)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-u+c)/2,i[3]=h,i[5]=-h):(i[5]=i[3]=0,0===o?(d=a<0?-Math.pow(-a,1/3):Math.pow(a,1/3),i[0]=2*d-h,i[4]=i[2]=-(d+h)):(l=(s=-s)*s*s,l=Math.acos(a/Math.sqrt(l)),d=2*Math.sqrt(s),i[0]=-h+d*Math.cos(l/3),i[2]=-h+d*Math.cos((l+2*Math.PI)/3),i[4]=-h+d*Math.cos((l+4*Math.PI)/3)))}(1*n*n-4*n*i+2*n*s+4*i*i-4*i*s+s*s+r*r-4*r*o+2*r*a+4*o*o-4*o*a+a*a,9*n*i-3*n*n-3*n*s-6*i*i+3*i*s+9*r*o-3*r*r-3*r*a-6*o*o+3*o*a,3*n*n-6*n*i+n*s-n*e+2*i*i+2*i*e-s*e+3*r*r-6*r*o+r*a-r*t+2*o*o+2*o*t-a*t,1*n*i-n*n+n*e-i*e+r*o-r*r+r*t-o*t,l);for(var c=[],u=0;u<6;u+=2)Math.abs(l[u+1])<1e-7&&l[u]>=0&&l[u]<=1&&c.push(l[u]);c.push(1),c.push(0);for(var h,d,p,f=-1,g=0;g<c.length;g++)h=Math.pow(1-c[g],2)*n+2*(1-c[g])*c[g]*i+c[g]*c[g]*s,d=Math.pow(1-c[g],2)*r+2*(1-c[g])*c[g]*o+c[g]*c[g]*a,p=Math.pow(h-e,2)+Math.pow(d-t,2),f>=0?p<f&&(f=p):f=p;return f},mn=function(e,t,n,r,i,o){var s=[e-n,t-r],a=[i-n,o-r],l=a[0]*a[0]+a[1]*a[1],c=s[0]*s[0]+s[1]*s[1],u=s[0]*a[0]+s[1]*a[1],h=u*u/l;return u<0?c:h>l?(e-i)*(e-i)+(t-o)*(t-o):c-h},vn=function(e,t,n){for(var r,i,o,s,a=0,l=0;l<n.length/2;l++)if(r=n[2*l],i=n[2*l+1],l+1<n.length/2?(o=n[2*(l+1)],s=n[2*(l+1)+1]):(o=n[2*(l+1-n.length/2)],s=n[2*(l+1-n.length/2)+1]),r==e&&o==e);else{if(!(r>=e&&e>=o||r<=e&&e<=o))continue;(e-r)/(o-r)*(s-i)+i>t&&a++}return a%2!=0},yn=function(e,t,n,r,i,o,s,a,l){var c,u=new Array(n.length);null!=a[0]?(c=Math.atan(a[1]/a[0]),a[0]<0?c+=Math.PI/2:c=-c-Math.PI/2):c=a;for(var h,d=Math.cos(-c),p=Math.sin(-c),f=0;f<u.length/2;f++)u[2*f]=o/2*(n[2*f]*d-n[2*f+1]*p),u[2*f+1]=s/2*(n[2*f+1]*d+n[2*f]*p),u[2*f]+=r,u[2*f+1]+=i;if(l>0){var g=wn(u,-l);h=bn(g)}else h=u;return vn(e,t,h)},bn=function(e){for(var t,n,r,i,o,s,a,l,c=new Array(e.length/2),u=0;u<e.length/4;u++){t=e[4*u],n=e[4*u+1],r=e[4*u+2],i=e[4*u+3],u<e.length/4-1?(o=e[4*(u+1)],s=e[4*(u+1)+1],a=e[4*(u+1)+2],l=e[4*(u+1)+3]):(o=e[0],s=e[1],a=e[2],l=e[3]);var h=Tn(t,n,r,i,o,s,a,l,!0);c[2*u]=h[0],c[2*u+1]=h[1]}return c},wn=function(e,t){for(var n,r,i,o,s=new Array(2*e.length),a=0;a<e.length/2;a++){n=e[2*a],r=e[2*a+1],a<e.length/2-1?(i=e[2*(a+1)],o=e[2*(a+1)+1]):(i=e[0],o=e[1]);var l=o-r,c=-(i-n),u=Math.sqrt(l*l+c*c),h=l/u,d=c/u;s[4*a]=n+h*t,s[4*a+1]=r+d*t,s[4*a+2]=i+h*t,s[4*a+3]=o+d*t}return s},xn=function(e,t,n,r,i,o,s){return e-=i,t-=o,(e/=n/2+s)*e+(t/=r/2+s)*t<=1},_n=function(e,t,n,r,i,o,s){var a=[n-e,r-t],l=[e-i,t-o],c=a[0]*a[0]+a[1]*a[1],u=2*(l[0]*a[0]+l[1]*a[1]),h=u*u-4*c*(l[0]*l[0]+l[1]*l[1]-s*s);if(h<0)return[];var d=(-u+Math.sqrt(h))/(2*c),p=(-u-Math.sqrt(h))/(2*c),f=Math.min(d,p),g=Math.max(d,p),m=[];if(f>=0&&f<=1&&m.push(f),g>=0&&g<=1&&m.push(g),0===m.length)return[];var v=m[0]*a[0]+e,y=m[0]*a[1]+t;return m.length>1?m[0]==m[1]?[v,y]:[v,y,m[1]*a[0]+e,m[1]*a[1]+t]:[v,y]},An=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},Tn=function(e,t,n,r,i,o,s,a,l){var c=e-i,u=n-e,h=s-i,d=t-o,p=r-t,f=a-o,g=h*d-f*c,m=u*d-p*c,v=f*u-h*p;if(0!==v){var y=g/v,b=m/v,w=-.001;return w<=y&&y<=1.001&&w<=b&&b<=1.001||l?[e+y*u,t+y*p]:[]}return 0===g||0===m?An(e,n,s)===s?[s,a]:An(e,n,i)===i?[i,o]:An(i,s,n)===n?[n,r]:[]:[]},En=function(e,t,n,r,i){var o=[],s=r/2,a=i/2,l=t,c=n;o.push({x:l+s*e[0],y:c+a*e[1]});for(var u=1;u<e.length/2;u++)o.push({x:l+s*e[2*u],y:c+a*e[2*u+1]});return o},kn=function(e,t,n,r,i,o,s,a){var l,c,u,h,d,p,f=[],g=new Array(n.length),m=!0;if(null==o&&(m=!1),m){for(var v=0;v<g.length/2;v++)g[2*v]=n[2*v]*o+r,g[2*v+1]=n[2*v+1]*s+i;if(a>0){var y=wn(g,-a);c=bn(y)}else c=g}else c=n;for(var b=0;b<c.length/2;b++)u=c[2*b],h=c[2*b+1],b<c.length/2-1?(d=c[2*(b+1)],p=c[2*(b+1)+1]):(d=c[0],p=c[1]),0!==(l=Tn(e,t,r,i,u,h,d,p)).length&&f.push(l[0],l[1]);return f},Sn=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),o=(i-n)/i;return o<0&&(o=1e-5),[t[0]+o*r[0],t[1]+o*r[1]]},Cn=function(e,t){var n=Mn(e,t);return n=Nn(n)},Nn=function(e){for(var t,n,r=e.length/2,i=1/0,o=1/0,s=-1/0,a=-1/0,l=0;l<r;l++)t=e[2*l],n=e[2*l+1],i=Math.min(i,t),s=Math.max(s,t),o=Math.min(o,n),a=Math.max(a,n);for(var c=2/(s-i),u=2/(a-o),h=0;h<r;h++)t=e[2*h]=e[2*h]*c,n=e[2*h+1]=e[2*h+1]*u,i=Math.min(i,t),s=Math.max(s,t),o=Math.min(o,n),a=Math.max(a,n);if(o<-1)for(var d=0;d<r;d++)n=e[2*d+1]=e[2*d+1]+(-1-o);return e},Mn=function(e,t){var n=1/e*2*Math.PI,r=e%2==0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var i,o=new Array(2*e),s=0;s<e;s++)i=s*n+r,o[2*s]=Math.cos(i),o[2*s+1]=Math.sin(-i);return o},On=function(e,t){return Math.min(e/4,t/4,8)},Rn=function(e,t){return Math.min(e/10,t/10,8)},In=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function Ln(e,t){function n(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=e[(n+1)%e.length],o={x:i.x-r.x,y:i.y-r.y},s={x:-o.y,y:o.x},a=Math.sqrt(s.x*s.x+s.y*s.y);t.push({x:s.x/a,y:s.y/a})}return t}function r(e,t){var n,r=1/0,i=-1/0,o=s(e);try{for(o.s();!(n=o.n()).done;){var a=n.value,l=a.x*t.x+a.y*t.y;r=Math.min(r,l),i=Math.max(i,l)}}catch(e){o.e(e)}finally{o.f()}return{min:r,max:i}}function i(e,t){return!(e.max<t.min||t.max<e.min)}var o,a=s([].concat(c(n(e)),c(n(t))));try{for(a.s();!(o=a.n()).done;){var l=o.value;if(!i(r(e,l),r(t,l)))return!1}}catch(e){a.e(e)}finally{a.f()}return!0}var Pn=ct({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Dn={pageRank:function(e){for(var t=Pn(e),n=t.dampingFactor,r=t.precision,i=t.iterations,o=t.weight,s=this._private.cy,a=this.byGroup(),l=a.nodes,c=a.edges,u=l.length,h=u*u,d=c.length,p=new Array(h),f=new Array(u),g=(1-n)/u,m=0;m<u;m++){for(var v=0;v<u;v++){p[m*u+v]=0}f[m]=0}for(var y=0;y<d;y++){var b=c[y],w=b.data("source"),x=b.data("target");if(w!==x){var _=l.indexOfId(w),A=l.indexOfId(x),T=o(b);p[A*u+_]+=T,f[_]+=T}}for(var E=1/u+g,k=0;k<u;k++)if(0===f[k])for(var S=0;S<u;S++){p[S*u+k]=E}else for(var C=0;C<u;C++){var N=C*u+k;p[N]=p[N]/f[k]+g}for(var M,O=new Array(u),R=new Array(u),I=0;I<u;I++)O[I]=1;for(var L=0;L<i;L++){for(var P=0;P<u;P++)R[P]=0;for(var D=0;D<u;D++)for(var B=0;B<u;B++){var F=D*u+B;R[D]+=p[F]*O[B]}Xt(R),M=O,O=R,R=M;for(var z=0,$=0;$<u;$++){var j=M[$]-O[$];z+=j*j}if(z<r)break}return{rank:function(e){return e=s.collection(e)[0],O[l.indexOf(e)]}}}},Bn=ct({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Fn={degreeCentralityNormalized:function(e){e=Bn(e);var t=this.cy(),n=this.nodes(),r=n.length;if(e.directed){for(var i={},o={},s=0,a=0,l=0;l<r;l++){var c=n[l],u=c.id();e.root=c;var h=this.degreeCentrality(e);s<h.indegree&&(s=h.indegree),a<h.outdegree&&(a=h.outdegree),i[u]=h.indegree,o[u]=h.outdegree}return{indegree:function(e){return 0==s?0:(q(e)&&(e=t.filter(e)),i[e.id()]/s)},outdegree:function(e){return 0===a?0:(q(e)&&(e=t.filter(e)),o[e.id()]/a)}}}for(var d={},p=0,f=0;f<r;f++){var g=n[f];e.root=g;var m=this.degreeCentrality(e);p<m.degree&&(p=m.degree),d[g.id()]=m.degree}return{degree:function(e){return 0===p?0:(q(e)&&(e=t.filter(e)),d[e.id()]/p)}}},degreeCentrality:function(e){e=Bn(e);var t=this.cy(),n=this,r=e,i=r.root,o=r.weight,s=r.directed,a=r.alpha;if(i=t.collection(i)[0],s){for(var l=i.connectedEdges(),c=l.filter(function(e){return e.target().same(i)&&n.has(e)}),u=l.filter(function(e){return e.source().same(i)&&n.has(e)}),h=c.length,d=u.length,p=0,f=0,g=0;g<c.length;g++)p+=o(c[g]);for(var m=0;m<u.length;m++)f+=o(u[m]);return{indegree:Math.pow(h,1-a)*Math.pow(p,a),outdegree:Math.pow(d,1-a)*Math.pow(f,a)}}for(var v=i.connectedEdges().intersection(n),y=v.length,b=0,w=0;w<v.length;w++)b+=o(v[w]);return{degree:Math.pow(y,1-a)*Math.pow(b,a)}}};Fn.dc=Fn.degreeCentrality,Fn.dcn=Fn.degreeCentralityNormalised=Fn.degreeCentralityNormalized;var zn=ct({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),$n={closenessCentralityNormalized:function(e){for(var t=zn(e),n=t.harmonic,r=t.weight,i=t.directed,o=this.cy(),s={},a=0,l=this.nodes(),c=this.floydWarshall({weight:r,directed:i}),u=0;u<l.length;u++){for(var h=0,d=l[u],p=0;p<l.length;p++)if(u!==p){var f=c.distance(d,l[p]);h+=n?1/f:f}n||(h=1/h),a<h&&(a=h),s[d.id()]=h}return{closeness:function(e){return 0==a?0:(e=q(e)?o.filter(e)[0].id():e.id(),s[e]/a)}}},closenessCentrality:function(e){var t=zn(e),n=t.root,r=t.weight,i=t.directed,o=t.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:r,directed:i}),a=0,l=this.nodes(),c=0;c<l.length;c++){var u=l[c];if(!u.same(n)){var h=s.distanceTo(u);a+=o?1/h:h}}return o?a:1/a}};$n.cc=$n.closenessCentrality,$n.ccn=$n.closenessCentralityNormalised=$n.closenessCentralityNormalized;var jn=ct({weight:null,directed:!1}),Un={betweennessCentrality:function(e){for(var t=jn(e),n=t.directed,r=t.weight,i=null!=r,o=this.cy(),s=this.nodes(),a={},l={},c=0,u=function(e,t){l[e]=t,t>c&&(c=t)},h=function(e){return l[e]},d=0;d<s.length;d++){var p=s[d],f=p.id();a[f]=n?p.outgoers().nodes():p.openNeighborhood().nodes(),u(f,0)}for(var g=function(){for(var e=s[m].id(),t=[],n={},l={},c={},d=new St(function(e,t){return c[e]-c[t]}),p=0;p<s.length;p++){var f=s[p].id();n[f]=[],l[f]=0,c[f]=1/0}for(l[e]=1,c[e]=0,d.push(e);!d.empty();){var g=d.pop();if(t.push(g),i)for(var v=0;v<a[g].length;v++){var y=a[g][v],b=o.getElementById(g),w=void 0;w=b.edgesTo(y).length>0?b.edgesTo(y)[0]:y.edgesTo(b)[0];var x=r(w);y=y.id(),c[y]>c[g]+x&&(c[y]=c[g]+x,d.nodes.indexOf(y)<0?d.push(y):d.updateItem(y),l[y]=0,n[y]=[]),c[y]==c[g]+x&&(l[y]=l[y]+l[g],n[y].push(g))}else for(var _=0;_<a[g].length;_++){var A=a[g][_].id();c[A]==1/0&&(d.push(A),c[A]=c[g]+1),c[A]==c[g]+1&&(l[A]=l[A]+l[g],n[A].push(g))}}for(var T={},E=0;E<s.length;E++)T[s[E].id()]=0;for(;t.length>0;){for(var k=t.pop(),S=0;S<n[k].length;S++){var C=n[k][S];T[C]=T[C]+l[C]/l[k]*(1+T[k])}k!=s[m].id()&&u(k,h(k)+T[k])}},m=0;m<s.length;m++)g();var v={betweenness:function(e){var t=o.collection(e).id();return h(t)},betweennessNormalized:function(e){if(0==c)return 0;var t=o.collection(e).id();return h(t)/c}};return v.betweennessNormalised=v.betweennessNormalized,v}};Un.bc=Un.betweennessCentrality;var Hn=ct({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),Gn=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r](e);return n},Vn=function(e,t){for(var n,r=0;r<t;r++){n=0;for(var i=0;i<t;i++)n+=e[i*t+r];for(var o=0;o<t;o++)e[o*t+r]=e[o*t+r]/n}},Wn=function(e,t,n){for(var r=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)r[i*n+o]=0;for(var s=0;s<n;s++)for(var a=0;a<n;a++)r[i*n+a]+=e[i*n+s]*t[s*n+a]}return r},Yn=function(e,t,n){for(var r=e.slice(0),i=1;i<n;i++)e=Wn(e,r,t);return e},qn=function(e,t,n){for(var r=new Array(t*t),i=0;i<t*t;i++)r[i]=Math.pow(e[i],n);return Vn(r,t),r},Xn=function(e,t,n,r){for(var i=0;i<n;i++){if(Math.round(e[i]*Math.pow(10,r))/Math.pow(10,r)!==Math.round(t[i]*Math.pow(10,r))/Math.pow(10,r))return!1}return!0},Kn=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},Zn=function(e){for(var t=this.nodes(),n=this.edges(),r=this.cy(),i=function(e){return Hn(e)}(e),o={},s=0;s<t.length;s++)o[t[s].id()]=s;for(var a,l=t.length,c=l*l,u=new Array(c),h=0;h<c;h++)u[h]=0;for(var d=0;d<n.length;d++){var p=n[d],f=o[p.source().id()],g=o[p.target().id()],m=Gn(p,i.attributes);u[f*l+g]+=m,u[g*l+f]+=m}!function(e,t,n){for(var r=0;r<t;r++)e[r*t+r]=n}(u,l,i.multFactor),Vn(u,l);for(var v=!0,y=0;v&&y<i.maxIterations;)v=!1,a=Yn(u,l,i.expandFactor),u=qn(a,l,i.inflateFactor),Xn(u,a,c,4)||(v=!0),y++;var b=function(e,t,n,r){for(var i=[],o=0;o<t;o++){for(var s=[],a=0;a<t;a++)Math.round(1e3*e[o*t+a])/1e3>0&&s.push(n[a]);0!==s.length&&i.push(r.collection(s))}return i}(u,l,t,r);return b=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&Kn(e[t],e[n])&&e.splice(n,1);return e}(b),b},Qn={markovClustering:Zn,mcl:Zn},Jn=function(e){return e},er=function(e,t){return Math.abs(t-e)},tr=function(e,t,n){return e+er(t,n)},nr=function(e,t,n){return e+Math.pow(n-t,2)},rr=function(e){return Math.sqrt(e)},ir=function(e,t,n){return Math.max(e,er(t,n))},or=function(e,t,n,r,i){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jn,s=r,a=0;a<e;a++)s=i(s,t(a),n(a));return o(s)},sr={euclidean:function(e,t,n){return e>=2?or(e,t,n,0,nr,rr):or(e,t,n,0,tr)},squaredEuclidean:function(e,t,n){return or(e,t,n,0,nr)},manhattan:function(e,t,n){return or(e,t,n,0,tr)},max:function(e,t,n){return or(e,t,n,-1/0,ir)}};function ar(e,t,n,r,i,o){var s;return s=X(e)?e:sr[e]||sr.euclidean,0===t&&X(e)?s(i,o):s(t,n,r,i,o)}sr["squared-euclidean"]=sr.squaredEuclidean,sr.squaredeuclidean=sr.squaredEuclidean;var lr=ct({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),cr=function(e){return lr(e)},ur=function(e,t,n,r,i){var o="kMedoids"!==i?function(e){return n[e]}:function(e){return r[e](n)},s=n,a=t;return ar(e,r.length,o,function(e){return r[e](t)},s,a)},hr=function(e,t,n){for(var r=n.length,i=new Array(r),o=new Array(r),s=new Array(t),a=null,l=0;l<r;l++)i[l]=e.min(n[l]).value,o[l]=e.max(n[l]).value;for(var c=0;c<t;c++){a=[];for(var u=0;u<r;u++)a[u]=Math.random()*(o[u]-i[u])+i[u];s[c]=a}return s},dr=function(e,t,n,r,i){for(var o=1/0,s=0,a=0;a<t.length;a++){var l=ur(n,e,t[a],r,i);l<o&&(o=l,s=a)}return s},pr=function(e,t,n){for(var r=[],i=null,o=0;o<t.length;o++)n[(i=t[o]).id()]===e&&r.push(i);return r},fr=function(e,t,n){return Math.abs(t-e)<=n},gr=function(e,t,n){for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){if(Math.abs(e[r][i]-t[r][i])>n)return!1}return!0},mr=function(e,t,n){for(var r=0;r<n;r++)if(e===t[r])return!0;return!1},vr=function(e,t){var n=new Array(t);if(e.length<50)for(var r=0;r<t;r++){for(var i=e[Math.floor(Math.random()*e.length)];mr(i,n,r);)i=e[Math.floor(Math.random()*e.length)];n[r]=i}else for(var o=0;o<t;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},yr=function(e,t,n){for(var r=0,i=0;i<t.length;i++)r+=ur("manhattan",t[i],e,n,"kMedoids");return r},br=function(e,t,n,r,i){for(var o,s,a=0;a<t.length;a++)for(var l=0;l<e.length;l++)r[a][l]=Math.pow(n[a][l],i.m);for(var c=0;c<e.length;c++)for(var u=0;u<i.attributes.length;u++){o=0,s=0;for(var h=0;h<t.length;h++)o+=r[h][c]*i.attributes[u](t[h]),s+=r[h][c];e[c][u]=o/s}},wr=function(e,t,n,r,i){for(var o=0;o<e.length;o++)t[o]=e[o].slice();for(var s,a,l,c=2/(i.m-1),u=0;u<n.length;u++)for(var h=0;h<r.length;h++){s=0;for(var d=0;d<n.length;d++)a=ur(i.distance,r[h],n[u],i.attributes,"cmeans"),l=ur(i.distance,r[h],n[d],i.attributes,"cmeans"),s+=Math.pow(a/l,c);e[h][u]=1/s}},xr=function(e){var t,n,r,i,o,s=this.cy(),a=this.nodes(),l=cr(e);i=new Array(a.length);for(var c=0;c<a.length;c++)i[c]=new Array(l.k);r=new Array(a.length);for(var u=0;u<a.length;u++)r[u]=new Array(l.k);for(var h=0;h<a.length;h++){for(var d=0,p=0;p<l.k;p++)r[h][p]=Math.random(),d+=r[h][p];for(var f=0;f<l.k;f++)r[h][f]=r[h][f]/d}n=new Array(l.k);for(var g=0;g<l.k;g++)n[g]=new Array(l.attributes.length);o=new Array(a.length);for(var m=0;m<a.length;m++)o[m]=new Array(l.k);for(var v=!0,y=0;v&&y<l.maxIterations;)v=!1,br(n,a,r,o,l),wr(r,i,n,a,l),gr(r,i,l.sensitivityThreshold)||(v=!0),y++;return t=function(e,t,n,r){for(var i,o,s=new Array(n.k),a=0;a<s.length;a++)s[a]=[];for(var l=0;l<t.length;l++){i=-1/0,o=-1;for(var c=0;c<t[0].length;c++)t[l][c]>i&&(i=t[l][c],o=c);s[o].push(e[l])}for(var u=0;u<s.length;u++)s[u]=r.collection(s[u]);return s}(a,r,l,s),{clusters:t,degreeOfMembership:r}},_r={kMeans:function(e){var t,n=this.cy(),r=this.nodes(),i=null,o=cr(e),s=new Array(o.k),a={};o.testMode?"number"==typeof o.testCentroids?(o.testCentroids,t=hr(r,o.k,o.attributes)):t="object"===h(o.testCentroids)?o.testCentroids:hr(r,o.k,o.attributes):t=hr(r,o.k,o.attributes);for(var l=!0,c=0;l&&c<o.maxIterations;){for(var u=0;u<r.length;u++)a[(i=r[u]).id()]=dr(i,t,o.distance,o.attributes,"kMeans");l=!1;for(var d=0;d<o.k;d++){var p=pr(d,r,a);if(0!==p.length){for(var f=o.attributes.length,g=t[d],m=new Array(f),v=new Array(f),y=0;y<f;y++){v[y]=0;for(var b=0;b<p.length;b++)i=p[b],v[y]+=o.attributes[y](i);m[y]=v[y]/p.length,fr(m[y],g[y],o.sensitivityThreshold)||(l=!0)}t[d]=m,s[d]=n.collection(p)}}c++}return s},kMedoids:function(e){var t,n,r=this.cy(),i=this.nodes(),o=null,s=cr(e),a=new Array(s.k),l={},c=new Array(s.k);s.testMode?"number"==typeof s.testCentroids||(t="object"===h(s.testCentroids)?s.testCentroids:vr(i,s.k)):t=vr(i,s.k);for(var u=!0,d=0;u&&d<s.maxIterations;){for(var p=0;p<i.length;p++)l[(o=i[p]).id()]=dr(o,t,s.distance,s.attributes,"kMedoids");u=!1;for(var f=0;f<t.length;f++){var g=pr(f,i,l);if(0!==g.length){c[f]=yr(t[f],g,s.attributes);for(var m=0;m<g.length;m++)(n=yr(g[m],g,s.attributes))<c[f]&&(c[f]=n,t[f]=g[m],u=!0);a[f]=r.collection(g)}}d++}return a},fuzzyCMeans:xr,fcm:xr},Ar=ct({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Tr={single:"min",complete:"max"},Er=function(e,t,n,r,i){for(var o,s=0,a=1/0,l=i.attributes,c=function(e,t){return ar(i.distance,l.length,function(t){return l[t](e)},function(e){return l[e](t)},e,t)},u=0;u<e.length;u++){var h=e[u].key,d=n[h][r[h]];d<a&&(s=h,a=d)}if("threshold"===i.mode&&a>=i.threshold||"dendrogram"===i.mode&&1===e.length)return!1;var p,f=t[s],g=t[r[s]];p="dendrogram"===i.mode?{left:f,right:g,key:f.key}:{value:f.value.concat(g.value),key:f.key},e[f.index]=p,e.splice(g.index,1),t[f.key]=p;for(var m=0;m<e.length;m++){var v=e[m];f.key===v.key?o=1/0:"min"===i.linkage?(o=n[f.key][v.key],n[f.key][v.key]>n[g.key][v.key]&&(o=n[g.key][v.key])):"max"===i.linkage?(o=n[f.key][v.key],n[f.key][v.key]<n[g.key][v.key]&&(o=n[g.key][v.key])):o="mean"===i.linkage?(n[f.key][v.key]*f.size+n[g.key][v.key]*g.size)/(f.size+g.size):"dendrogram"===i.mode?c(v.value,f.value):c(v.value[0],f.value[0]),n[f.key][v.key]=n[v.key][f.key]=o}for(var y=0;y<e.length;y++){var b=e[y].key;if(r[b]===f.key||r[b]===g.key){for(var w=b,x=0;x<e.length;x++){var _=e[x].key;n[b][_]<n[b][w]&&(w=_)}r[b]=w}e[y].index=y}return f.key=g.key=f.index=g.index=null,!0},kr=function(e,t,n){e&&(e.value?t.push(e.value):(e.left&&kr(e.left,t),e.right&&kr(e.right,t)))},Sr=function(e,t){if(!e)return"";if(e.left&&e.right){var n=Sr(e.left,t),r=Sr(e.right,t),i=t.add({group:"nodes",data:{id:n+","+r}});return t.add({group:"edges",data:{source:n,target:i.id()}}),t.add({group:"edges",data:{source:r,target:i.id()}}),i.id()}return e.value?e.value.id():void 0},Cr=function(e,t,n){if(!e)return[];var r=[],i=[],o=[];return 0===t?(e.left&&kr(e.left,r),e.right&&kr(e.right,i),o=r.concat(i),[n.collection(o)]):1===t?e.value?[n.collection(e.value)]:(e.left&&kr(e.left,r),e.right&&kr(e.right,i),[n.collection(r),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(r=Cr(e.left,t-1,n)),e.right&&(i=Cr(e.right,t-1,n)),r.concat(i))},Nr=function(e){for(var t=this.cy(),n=this.nodes(),r=function(e){var t=Ar(e),n=Tr[t.linkage];return null!=n&&(t.linkage=n),t}(e),i=r.attributes,o=function(e,t){return ar(r.distance,i.length,function(t){return i[t](e)},function(e){return i[e](t)},e,t)},s=[],a=[],l=[],c=[],u=0;u<n.length;u++){var h={value:"dendrogram"===r.mode?n[u]:[n[u]],key:u,index:u};s[u]=h,c[u]=h,a[u]=[],l[u]=0}for(var d=0;d<s.length;d++)for(var p=0;p<=d;p++){var f=void 0;f="dendrogram"===r.mode?d===p?1/0:o(s[d].value,s[p].value):d===p?1/0:o(s[d].value[0],s[p].value[0]),a[d][p]=f,a[p][d]=f,f<a[d][l[d]]&&(l[d]=p)}for(var g,m=Er(s,c,a,l,r);m;)m=Er(s,c,a,l,r);return"dendrogram"===r.mode?(g=Cr(s[0],r.dendrogramDepth,t),r.addDendrogram&&Sr(s[0],t)):(g=new Array(s.length),s.forEach(function(e,n){e.key=e.index=null,g[n]=t.collection(e.value)})),g},Mr={hierarchicalClustering:Nr,hca:Nr},Or=ct({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Rr=function(e,t,n,r){var i=function(e,t){return r[t](e)};return-ar(e,r.length,function(e){return i(t,e)},function(e){return i(n,e)},t,n)},Ir=function(e,t){var n=null;return n="median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t)):e=e.slice(t,n);for(var o=0,s=e.length-1;s>=0;s--){var a=e[s];i?isFinite(a)||(e[s]=-1/0,o++):e.splice(s,1)}r&&e.sort(function(e,t){return e-t});var l=e.length,c=Math.floor(l/2);return l%2!=0?e[c+1+o]:(e[c-1+o]+e[c+o])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,i=0,o=t;o<n;o++){var s=e[o];isFinite(s)&&(r+=s,i++)}return r/i}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=1/0,i=t;i<n;i++){var o=e[i];isFinite(o)&&(r=Math.min(o,r))}return r}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=-1/0,i=t;i<n;i++){var o=e[i];isFinite(o)&&(r=Math.max(o,r))}return r}(e):t,n},Lr=function(e,t,n){for(var r=[],i=0;i<e;i++){for(var o=-1,s=-1/0,a=0;a<n.length;a++){var l=n[a];t[i*e+l]>s&&(o=l,s=t[i*e+l])}o>0&&r.push(o)}for(var c=0;c<n.length;c++)r[n[c]]=n[c];return r},Pr=function(e){for(var t,n,r,i,o,s,a=this.cy(),l=this.nodes(),c=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||nt("Damping must range on [0.5, 1).  Got: ".concat(t));var r=["median","mean","min","max"];return r.some(function(e){return e===n})||Q(n)||nt("Preference must be one of [".concat(r.map(function(e){return"'".concat(e,"'")}).join(", "),"] or a number.  Got: ").concat(n)),Or(e)}(e),u={},h=0;h<l.length;h++)u[l[h].id()]=h;n=(t=l.length)*t,r=new Array(n);for(var d=0;d<n;d++)r[d]=-1/0;for(var p=0;p<t;p++)for(var f=0;f<t;f++)p!==f&&(r[p*t+f]=Rr(c.distance,l[p],l[f],c.attributes));i=Ir(r,c.preference);for(var g=0;g<t;g++)r[g*t+g]=i;o=new Array(n);for(var m=0;m<n;m++)o[m]=0;s=new Array(n);for(var v=0;v<n;v++)s[v]=0;for(var y=new Array(t),b=new Array(t),w=new Array(t),x=0;x<t;x++)y[x]=0,b[x]=0,w[x]=0;for(var _,A=new Array(t*c.minIterations),T=0;T<A.length;T++)A[T]=0;for(_=0;_<c.maxIterations;_++){for(var E=0;E<t;E++){for(var k=-1/0,S=-1/0,C=-1,N=0,M=0;M<t;M++)y[M]=o[E*t+M],(N=s[E*t+M]+r[E*t+M])>=k?(S=k,k=N,C=M):N>S&&(S=N);for(var O=0;O<t;O++)o[E*t+O]=(1-c.damping)*(r[E*t+O]-k)+c.damping*y[O];o[E*t+C]=(1-c.damping)*(r[E*t+C]-S)+c.damping*y[C]}for(var R=0;R<t;R++){for(var I=0,L=0;L<t;L++)y[L]=s[L*t+R],b[L]=Math.max(0,o[L*t+R]),I+=b[L];I-=b[R],b[R]=o[R*t+R],I+=b[R];for(var P=0;P<t;P++)s[P*t+R]=(1-c.damping)*Math.min(0,I-b[P])+c.damping*y[P];s[R*t+R]=(1-c.damping)*(I-b[R])+c.damping*y[R]}for(var D=0,B=0;B<t;B++){var F=s[B*t+B]+o[B*t+B]>0?1:0;A[_%c.minIterations*t+B]=F,D+=F}if(D>0&&(_>=c.minIterations-1||_==c.maxIterations-1)){for(var z=0,$=0;$<t;$++){w[$]=0;for(var j=0;j<c.minIterations;j++)w[$]+=A[j*t+$];0!==w[$]&&w[$]!==c.minIterations||z++}if(z===t)break}}for(var U=function(e,t,n){for(var r=[],i=0;i<e;i++)t[i*e+i]+n[i*e+i]>0&&r.push(i);return r}(t,o,s),H=function(e,t,n){for(var r=Lr(e,t,n),i=0;i<n.length;i++){for(var o=[],s=0;s<r.length;s++)r[s]===n[i]&&o.push(s);for(var a=-1,l=-1/0,c=0;c<o.length;c++){for(var u=0,h=0;h<o.length;h++)u+=t[o[h]*e+o[c]];u>l&&(a=c,l=u)}n[i]=o[a]}return Lr(e,t,n)}(t,r,U),G={},V=0;V<U.length;V++)G[U[V]]=[];for(var W=0;W<l.length;W++){var Y=H[u[l[W].id()]];null!=Y&&G[Y].push(l[W])}for(var q=new Array(U.length),X=0;X<U.length;X++)q[X]=a.collection(G[U[X]]);return q},Dr={affinityPropagation:Pr,ap:Pr},Br=ct({root:void 0,directed:!1}),Fr=function(){var e=this,t={},n=0,r=0,i=[],o=[],s={},a=function(l,c,u){l===u&&(r+=1),t[c]={id:n,low:n++,cutVertex:!1};var h,d,p,f,g=e.getElementById(c).connectedEdges().intersection(e);0===g.size()?i.push(e.spawn(e.getElementById(c))):g.forEach(function(n){h=n.source().id(),d=n.target().id(),(p=h===c?d:h)!==u&&(f=n.id(),s[f]||(s[f]=!0,o.push({x:c,y:p,edge:n})),p in t?t[c].low=Math.min(t[c].low,t[p].id):(a(l,p,c),t[c].low=Math.min(t[c].low,t[p].low),t[c].id<=t[p].low&&(t[c].cutVertex=!0,function(n,r){for(var s=o.length-1,a=[],l=e.spawn();o[s].x!=n||o[s].y!=r;)a.push(o.pop().edge),s--;a.push(o.pop().edge),a.forEach(function(n){var r=n.connectedNodes().intersection(e);l.merge(n),r.forEach(function(n){var r=n.id(),i=n.connectedEdges().intersection(e);l.merge(n),t[r].cutVertex?l.merge(i.filter(function(e){return e.isLoop()})):l.merge(i)})}),i.push(l)}(c,p))))})};e.forEach(function(e){if(e.isNode()){var n=e.id();n in t||(r=0,a(n,n),t[n].cutVertex=r>1)}});var l=Object.keys(t).filter(function(e){return t[e].cutVertex}).map(function(t){return e.getElementById(t)});return{cut:e.spawn(l),components:i}},zr=function(){var e=this,t={},n=0,r=[],i=[],o=e.spawn(e),s=function(a){if(i.push(a),t[a]={index:n,low:n++,explored:!1},e.getElementById(a).connectedEdges().intersection(e).forEach(function(e){var n=e.target().id();n!==a&&(n in t||s(n),t[n].explored||(t[a].low=Math.min(t[a].low,t[n].low)))}),t[a].index===t[a].low){for(var l=e.spawn();;){var c=i.pop();if(l.merge(e.getElementById(c)),t[c].low=t[a].index,t[c].explored=!0,c===a)break}var u=l.edgesWith(l),h=l.merge(u);r.push(h),o=o.difference(h)}};return e.forEach(function(e){if(e.isNode()){var n=e.id();n in t||s(n)}}),{cut:o,components:r}},$r={};[bt,Nt,Mt,Rt,Lt,Dt,$t,Dn,Fn,$n,Un,Qn,_r,Mr,Dr,{hierholzer:function(e){if(!Z(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n,r,i,o=Br(e),s=o.root,a=o.directed,l=this,c=!1;s&&(i=q(s)?this.filter(s)[0].id():s[0].id());var u={},h={};a?l.forEach(function(e){var t=e.id();if(e.isNode()){var i=e.indegree(!0),o=e.outdegree(!0),s=i-o,a=o-i;1==s?n?c=!0:n=t:1==a?r?c=!0:r=t:(a>1||s>1)&&(c=!0),u[t]=[],e.outgoers().forEach(function(e){e.isEdge()&&u[t].push(e.id())})}else h[t]=[void 0,e.target().id()]}):l.forEach(function(e){var t=e.id();e.isNode()?(e.degree(!0)%2&&(n?r?c=!0:r=t:n=t),u[t]=[],e.connectedEdges().forEach(function(e){return u[t].push(e.id())})):h[t]=[e.source().id(),e.target().id()]});var d={found:!1,trail:void 0};if(c)return d;if(r&&n)if(a){if(i&&r!=i)return d;i=r}else{if(i&&r!=i&&n!=i)return d;i||(i=r)}else i||(i=l[0].id());var p=function(e){for(var t,n,r,i=e,o=[e];u[i].length;)t=u[i].shift(),n=h[t][0],i!=(r=h[t][1])?(u[r]=u[r].filter(function(e){return e!=t}),i=r):a||i==n||(u[n]=u[n].filter(function(e){return e!=t}),i=n),o.unshift(t),o.unshift(i);return o},f=[],g=[];for(g=p(i);1!=g.length;)0==u[g[0]].length?(f.unshift(l.getElementById(g.shift())),f.unshift(l.getElementById(g.shift()))):g=p(g.shift()).concat(g);for(var m in f.unshift(l.getElementById(g.shift())),u)if(u[m].length)return d;return d.found=!0,d.trail=this.spawn(f,!0),d}},{hopcroftTarjanBiconnected:Fr,htbc:Fr,htb:Fr,hopcroftTarjanBiconnectedComponents:Fr},{tarjanStronglyConnected:zr,tsc:zr,tscc:zr,tarjanStronglyConnectedComponents:zr}].forEach(function(e){be($r,e)});var jr=function(e){if(!(this instanceof jr))return new jr(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};jr.prototype={fulfill:function(e){return Ur(this,1,"fulfillValue",e)},reject:function(e){return Ur(this,2,"rejectReason",e)},then:function(e,t){var n=this,r=new jr;return n.onFulfilled.push(Vr(e,r,"fulfill")),n.onRejected.push(Vr(t,r,"reject")),Hr(n),r.proxy}};var Ur=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,Hr(e)),e},Hr=function(e){1===e.state?Gr(e,"onFulfilled",e.fulfillValue):2===e.state&&Gr(e,"onRejected",e.rejectReason)},Gr=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var i=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},Vr=function(e,t,n){return function(r){if("function"!=typeof e)t[n].call(t,r);else{var i;try{i=e(r)}catch(e){return void t.reject(e)}Wr(t,i)}}},Wr=function(e,t){if(e!==t&&e.proxy!==t){var n;if("object"===h(t)&&null!==t||"function"==typeof t)try{n=t.then}catch(t){return void e.reject(t)}if("function"!=typeof n)e.fulfill(t);else{var r=!1;try{n.call(t,function(n){r||(r=!0,n===t?e.reject(new TypeError("circular thenable chain")):Wr(e,n))},function(t){r||(r=!0,e.reject(t))})}catch(t){r||e.reject(t)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};jr.all=function(e){return new jr(function(t,n){for(var r=new Array(e.length),i=0,o=function(n,o){r[n]=o,++i===e.length&&t(r)},s=0;s<e.length;s++)(function(t){var r=e[t];null!=r&&null!=r.then?r.then(function(e){o(t,e)},function(e){n(e)}):o(t,r)})(s)})},jr.resolve=function(e){return new jr(function(t,n){t(e)})},jr.reject=function(e){return new jr(function(t,n){n(e)})};var Yr="undefined"!=typeof Promise?Promise:jr,qr=function(e,t,n){var r=re(e),i=!r,o=this._private=be({duration:1e3},t,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&X(o.complete)&&o.completes.push(o.complete),i){var s=e.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(r){var a=e.pan();o.startPan={x:a.x,y:a.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},Xr=qr.prototype;be(Xr,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),ee(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var r=e[t];null!=r&&(e[t]=e[n],e[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var r=0;r<e.style.length;r++){var i=e.style[r],o=i.name,s=e.startStyle[o];e.startStyle[o]=i,e.style[r]=s}return t&&this.play(),this},promise:function(e){var t,n=this._private;if("frame"===e)t=n.frames;else t=n.completes;return new Yr(function(e,n){t.push(function(){e()})})}}),Xr.complete=Xr.completed,Xr.run=Xr.play,Xr.running=Xr.playing;var Kr,Zr,Qr,Jr,ei,ti,ni,ri,ii,oi,si,ai,li,ci,ui,hi,di,pi,fi,gi,mi,vi,yi,bi,wi,xi,_i,Ai,Ti,Ei,ki,Si,Ci,Ni,Mi,Oi,Ri,Ii,Li,Pi,Di,Bi,Fi,zi,$i,ji,Ui,Hi,Gi,Vi,Wi,Yi,qi,Xi,Ki,Zi,Qi,Ji,eo,to,no,ro,io,oo,so,ao,lo,co,uo,ho,po,fo,go,mo,vo,yo,bo,wo,xo,_o,Ao,To,Eo,ko,So,Co,No={animated:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var n=t[0];return n?n._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var n=0;n<t.length;n++){t[n]._private.animation.queue=[]}return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=this,r=void 0!==n.length,i=r?n:[n],o=this._private.cy||this,s=!r,a=!s;if(!o.styleEnabled())return this;var l=o.style();if(e=be({},e,t),0===Object.keys(e).length)return new qr(i[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(a&&(e.style=l.getPropsList(e.style||e.css),e.css=void 0),a&&null!=e.renderedPosition){var c=e.renderedPosition,u=o.pan(),h=o.zoom();e.position=Ut(c,h,u)}if(s&&null!=e.panBy){var d=e.panBy,p=o.pan();e.pan={x:p.x+d.x,y:p.y+d.y}}var f=e.center||e.centre;if(s&&null!=f){var g=o.getCenterPan(f.eles,e.zoom);null!=g&&(e.pan=g)}if(s&&null!=e.fit){var m=e.fit,v=o.getFitViewport(m.eles||m.boundingBox,m.padding);null!=v&&(e.pan=v.pan,e.zoom=v.zoom)}if(s&&Z(e.zoom)){var y=o.getZoomedViewport(e.zoom);null!=y?(y.zoomed&&(e.zoom=y.zoom),y.panned&&(e.pan=y.pan)):e.zoom=null}return new qr(i[0],e)}},animate:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=be({},e,t));for(var i=0;i<r.length;i++){var o=r[i],s=o.animated()&&(void 0===e.queue||e.queue);o.animation(e,s?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<r.length;o++){for(var s=r[o]._private,a=s.animation.current,l=0;l<a.length;l++){var c=a[l]._private;t&&(c.duration=0)}e&&(s.animation.queue=[]),t||(s.animation.current=[])}return i.notify("draw"),this}}};function Mo(){if(Zr)return Kr;Zr=1;var e=Array.isArray;return Kr=e}function Oo(){if(oi)return ii;oi=1;var e,t=function(){if(ri)return ni;ri=1;var e=Se()["__core-js_shared__"];return ni=e}(),n=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return ii=function(e){return!!n&&n in e}}function Ro(){if(ci)return li;ci=1;var e=function(){if(ti)return ei;ti=1;var e=Me(),t=ke();return ei=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}}(),t=Oo(),n=ke(),r=function(){if(ai)return si;ai=1;var e=Function.prototype.toString;return si=function(t){if(null!=t){try{return e.call(t)}catch(e){}try{return t+""}catch(e){}}return""}}(),i=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,a=o.toString,l=s.hasOwnProperty,c=RegExp("^"+a.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return li=function(o){return!(!n(o)||t(o))&&(e(o)?c:i).test(r(o))}}function Io(){if(pi)return di;pi=1;var e=Ro(),t=(hi||(hi=1,ui=function(e,t){return null==e?void 0:e[t]}),ui);return di=function(n,r){var i=t(n,r);return e(i)?i:void 0},di}function Lo(){if(gi)return fi;gi=1;var e=Io()(Object,"create");return fi=e}function Po(){if(Si)return ki;Si=1;var e=function(){if(vi)return mi;vi=1;var e=Lo();return mi=function(){this.__data__=e?e(null):{},this.size=0}}(),t=bi?yi:(bi=1,yi=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),n=function(){if(xi)return wi;xi=1;var e=Lo(),t=Object.prototype.hasOwnProperty;return wi=function(n){var r=this.__data__;if(e){var i=r[n];return"__lodash_hash_undefined__"===i?void 0:i}return t.call(r,n)?r[n]:void 0},wi}(),r=function(){if(Ai)return _i;Ai=1;var e=Lo(),t=Object.prototype.hasOwnProperty;return _i=function(n){var r=this.__data__;return e?void 0!==r[n]:t.call(r,n)},_i}(),i=function(){if(Ei)return Ti;Ei=1;var e=Lo();return Ti=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this},Ti}();function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,ki=o}function Do(){if(Oi)return Mi;return Oi=1,Mi=function(e,t){return e===t||e!=e&&t!=t}}function Bo(){if(Ii)return Ri;Ii=1;var e=Do();return Ri=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1},Ri}function Fo(){if(Hi)return Ui;Hi=1;var e=Ni?Ci:(Ni=1,Ci=function(){this.__data__=[],this.size=0}),t=function(){if(Pi)return Li;Pi=1;var e=Bo(),t=Array.prototype.splice;return Li=function(n){var r=this.__data__,i=e(r,n);return!(i<0||(i==r.length-1?r.pop():t.call(r,i,1),--this.size,0))},Li}(),n=function(){if(Bi)return Di;Bi=1;var e=Bo();return Di=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]},Di}(),r=function(){if(zi)return Fi;zi=1;var e=Bo();return Fi=function(t){return e(this.__data__,t)>-1}}(),i=function(){if(ji)return $i;ji=1;var e=Bo();return $i=function(t,n){var r=this.__data__,i=e(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this},$i}();function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Ui=o}function zo(){if(Yi)return Wi;Yi=1;var e=Po(),t=Fo(),n=function(){if(Vi)return Gi;Vi=1;var e=Io()(Se(),"Map");return Gi=e}();return Wi=function(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}}function $o(){if(Zi)return Ki;Zi=1;var e=Xi?qi:(Xi=1,qi=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return Ki=function(t,n){var r=t.__data__;return e(n)?r["string"==typeof n?"string":"hash"]:r.map},Ki}function jo(){if(ao)return so;ao=1;var e=zo(),t=function(){if(Ji)return Qi;Ji=1;var e=$o();return Qi=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}}(),n=function(){if(to)return eo;to=1;var e=$o();return eo=function(t){return e(this,t).get(t)}}(),r=function(){if(ro)return no;ro=1;var e=$o();return no=function(t){return e(this,t).has(t)}}(),i=function(){if(oo)return io;oo=1;var e=$o();return io=function(t,n){var r=e(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this},io}();function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,so=o}function Uo(){if(ho)return uo;ho=1;var e=function(){if(co)return lo;co=1;var e=jo();function t(n,r){if("function"!=typeof n||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var i=function(){var e=arguments,t=r?r.apply(this,e):e[0],o=i.cache;if(o.has(t))return o.get(t);var s=n.apply(this,e);return i.cache=o.set(t,s)||o,s};return i.cache=new(t.Cache||e),i}return t.Cache=e,lo=t}();return uo=function(t){var n=e(t,function(e){return 500===r.size&&r.clear(),e}),r=n.cache;return n},uo}function Ho(){if(fo)return po;fo=1;var e=Uo(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(t,function(e,t,i,o){r.push(i?o.replace(n,"$1"):t||e)}),r});return po=r}function Go(){if(mo)return go;return mo=1,go=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},go}function Vo(){if(wo)return bo;wo=1;var e=function(){if(yo)return vo;yo=1;var e=Ne(),t=Go(),n=Mo(),r=Oe(),i=e?e.prototype:void 0,o=i?i.toString:void 0;return vo=function e(i){if("string"==typeof i)return i;if(n(i))return t(i,e)+"";if(r(i))return o?o.call(i):"";var s=i+"";return"0"==s&&1/i==-1/0?"-0":s},vo}();return bo=function(t){return null==t?"":e(t)}}function Wo(){if(_o)return xo;_o=1;var e=Mo(),t=function(){if(Jr)return Qr;Jr=1;var e=Mo(),t=Oe(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;return Qr=function(i,o){if(e(i))return!1;var s=typeof i;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=i&&!t(i))||r.test(i)||!n.test(i)||null!=o&&i in Object(o)},Qr}(),n=Ho(),r=Vo();return xo=function(i,o){return e(i)?i:t(i,o)?[i]:n(r(i))},xo}function Yo(){if(To)return Ao;To=1;var e=Oe();return Ao=function(t){if("string"==typeof t||e(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}}var qo,Xo,Ko,Zo,Qo,Jo,es,ts,ns,rs,is,os,ss=function(){if(Co)return So;Co=1;var e=function(){if(ko)return Eo;ko=1;var e=Wo(),t=Yo();return Eo=function(n,r){for(var i=0,o=(r=e(r,n)).length;null!=n&&i<o;)n=n[t(r[i++])];return i&&i==o?n:void 0},Eo}();return So=function(t,n,r){var i=null==t?void 0:e(t,n);return void 0===i?r:i},So}(),as=Ee(ss);function ls(){if(Zo)return Ko;Zo=1;var e=function(){if(Xo)return qo;Xo=1;var e=Io(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();return qo=t}();return Ko=function(t,n,r){"__proto__"==n&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r},Ko}function cs(){if(rs)return ns;rs=1;var e=function(){if(Jo)return Qo;Jo=1;var e=ls(),t=Do(),n=Object.prototype.hasOwnProperty;return Qo=function(r,i,o){var s=r[i];n.call(r,i)&&t(s,o)&&(void 0!==o||i in r)||e(r,i,o)},Qo}(),t=Wo(),n=function(){if(ts)return es;ts=1;var e=/^(?:0|[1-9]\d*)$/;return es=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}}(),r=ke(),i=Yo();return ns=function(o,s,a,l){if(!r(o))return o;for(var c=-1,u=(s=t(s,o)).length,h=u-1,d=o;null!=d&&++c<u;){var p=i(s[c]),f=a;if("__proto__"===p||"constructor"===p||"prototype"===p)return o;if(c!=h){var g=d[p];void 0===(f=l?l(g,p,d):void 0)&&(f=r(g)?g:n(s[c+1])?[]:{})}e(d,p,f),d=d[p]}return o},ns}var us,hs,ds,ps,fs=function(){if(os)return is;os=1;var e=cs();return is=function(t,n,r){return null==t?t:e(t,n,r)},is}(),gs=Ee(fs);var ms=function(){if(ps)return ds;ps=1;var e=Go(),t=(hs||(hs=1,us=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}),us),n=Mo(),r=Oe(),i=Ho(),o=Yo(),s=Vo();return ds=function(a){return n(a)?e(a,o):r(a)?[a]:t(i(s(a)))}}(),vs=Ee(ms),ys={data:function(e){return e=be({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,n){var r=e,i=this,o=void 0!==i.length,s=o?i:[i],l=o?i[0]:i;if(q(t)){var c,u=-1!==t.indexOf(".")&&vs(t);if(r.allowGetting&&void 0===n)return l&&(r.beforeGet(l),c=u&&void 0===l._private[r.field][t]?as(l._private[r.field],u):l._private[r.field][t]),c;if(r.allowSetting&&void 0!==n&&!r.immutableKeys[t]){var h=a({},t,n);r.beforeSet(i,h);for(var d=0,p=s.length;d<p;d++){var f=s[d];r.canSet(f)&&(u&&void 0===l._private[r.field][t]?gs(f._private[r.field],u,n):f._private[r.field][t]=n)}r.updateStyle&&i.updateStyle(),r.onSet(i),r.settingTriggersEvent&&i[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&Z(t)){var g,m,v=t,y=Object.keys(v);r.beforeSet(i,v);for(var b=0;b<y.length;b++){if(m=v[g=y[b]],!r.immutableKeys[g])for(var w=0;w<s.length;w++){var x=s[w];r.canSet(x)&&(x._private[r.field][g]=m)}}r.updateStyle&&i.updateStyle(),r.onSet(i),r.settingTriggersEvent&&i[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&X(t)){var _=t;i.on(r.bindingEvent,_)}else if(r.allowGetting&&void 0===t){var A;return l&&(r.beforeGet(l),A=l._private[r.field]),A}return i}},removeData:function(e){return e=be({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,r=this,i=void 0!==r.length?r:[r];if(q(t)){for(var o=t.split(/\s+/),s=o.length,a=0;a<s;a++){var l=o[a];if(!oe(l))if(!n.immutableKeys[l])for(var c=0,u=i.length;c<u;c++)i[c]._private[n.field][l]=void 0}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===t){for(var h=0,d=i.length;h<d;h++)for(var p=i[h]._private[n.field],f=Object.keys(p),g=0;g<f.length;g++){var m=f[g];!n.immutableKeys[m]&&(p[m]=void 0)}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}}},bs={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,r=Array.prototype.slice.call(arguments,0);return new Yr(function(e,t){var i=r.concat([function(t){n.off.apply(n,o),e(t)}]),o=i.concat([]);n.on.apply(n,i)})}}},ws={};[No,ys,bs].forEach(function(e){be(ws,e)});var xs={animate:ws.animate(),animation:ws.animation(),animated:ws.animated(),clearQueue:ws.clearQueue(),delay:ws.delay(),delayAnimation:ws.delayAnimation(),stop:ws.stop()},_s={classes:function(e){var t=this;if(void 0===e){var n=[];return t[0]._private.classes.forEach(function(e){return n.push(e)}),n}K(e)||(e=(e||"").match(/\S+/g)||[]);for(var r=[],i=new mt(e),o=0;o<t.length;o++){for(var s=t[o],a=s._private,l=a.classes,c=!1,u=0;u<e.length;u++){var h=e[u];if(!l.has(h)){c=!0;break}}c||(c=l.size!==e.length),c&&(a.classes=i,r.push(s))}return r.length>0&&this.spawn(r).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){K(e)||(e=e.match(/\S+/g)||[]);for(var n=this,r=void 0===t,i=[],o=0,s=n.length;o<s;o++)for(var a=n[o],l=a._private.classes,c=!1,u=0;u<e.length;u++){var h=e[u],d=l.has(h),p=!1;t||r&&!d?(l.add(h),p=!0):(!t||r&&d)&&(l.delete(h),p=!0),!c&&p&&(i.push(a),c=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};_s.className=_s.classNames=_s.classes;var As={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:pe,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};As.variable="(?:[\\w-.]|(?:\\\\"+As.metaChar+"))+",As.className="(?:[\\w-]|(?:\\\\"+As.metaChar+"))+",As.value=As.string+"|"+As.number,As.id=As.variable,function(){var e,t,n;for(e=As.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],As.comparatorOp+="|@"+t;for(e=As.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(As.comparatorOp+="|\\!"+t)}();var Ts=0,Es=1,ks=2,Ss=3,Cs=4,Ns=5,Ms=6,Os=7,Rs=8,Is=9,Ls=10,Ps=11,Ds=12,Bs=13,Fs=14,zs=15,$s=16,js=17,Us=18,Hs=19,Gs=20,Vs=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(e,t){return function(e,t){return-1*ye(e,t)}(e.selector,t.selector)}),Ws=function(){for(var e,t={},n=0;n<Vs.length;n++)t[(e=Vs[n]).selector]=e.matches;return t}(),Ys="("+Vs.map(function(e){return e.selector}).join("|")+")",qs=function(e){return e.replace(new RegExp("\\\\("+As.metaChar+")","g"),function(e,t){return t})},Xs=function(e,t,n){e[e.length-1]=n},Ks=[{name:"group",query:!0,regex:"("+As.group+")",populate:function(e,t,n){var r=l(n,1)[0];t.checks.push({type:Ts,value:"*"===r?r:r+"s"})}},{name:"state",query:!0,regex:Ys,populate:function(e,t,n){var r=l(n,1)[0];t.checks.push({type:Os,value:r})}},{name:"id",query:!0,regex:"\\#("+As.id+")",populate:function(e,t,n){var r=l(n,1)[0];t.checks.push({type:Rs,value:qs(r)})}},{name:"className",query:!0,regex:"\\.("+As.className+")",populate:function(e,t,n){var r=l(n,1)[0];t.checks.push({type:Is,value:qs(r)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+As.variable+")\\s*\\]",populate:function(e,t,n){var r=l(n,1)[0];t.checks.push({type:Cs,field:qs(r)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+As.variable+")\\s*("+As.comparatorOp+")\\s*("+As.value+")\\s*\\]",populate:function(e,t,n){var r=l(n,3),i=r[0],o=r[1],s=r[2];s=null!=new RegExp("^"+As.string+"$").exec(s)?s.substring(1,s.length-1):parseFloat(s),t.checks.push({type:Ss,field:qs(i),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+As.boolOp+")\\s*("+As.variable+")\\s*\\]",populate:function(e,t,n){var r=l(n,2),i=r[0],o=r[1];t.checks.push({type:Ns,field:qs(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+As.meta+")\\s*("+As.comparatorOp+")\\s*("+As.number+")\\s*\\]\\]",populate:function(e,t,n){var r=l(n,3),i=r[0],o=r[1],s=r[2];t.checks.push({type:Ms,field:qs(i),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:As.separator,populate:function(e,t){var n=e.currentSubject,r=e.edgeCount,i=e.compoundCount,o=e[e.length-1];return null!=n&&(o.subject=n,e.currentSubject=null),o.edgeCount=r,o.compoundCount=i,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:As.directedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,i={checks:[]};return n.checks.push({type:Ps,source:r,target:i}),Xs(e,0,n),e.edgeCount++,i}var o={checks:[]},s=t,a={checks:[]};return o.checks.push({type:Ds,source:s,target:a}),Xs(e,0,o),e.edgeCount++,a}},{name:"undirectedEdge",separator:!0,regex:As.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,i={checks:[]};return n.checks.push({type:Ls,nodes:[r,i]}),Xs(e,0,n),e.edgeCount++,i}var o={checks:[]},s=t,a={checks:[]};return o.checks.push({type:Fs,node:s,neighbor:a}),Xs(e,0,o),a}},{name:"child",separator:!0,regex:As.child,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},i=e[e.length-1];return n.checks.push({type:zs,parent:i,child:r}),Xs(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var o={checks:[]},s=e[e.length-1],a={checks:[]},l={checks:[]},c={checks:[]},u={checks:[]};return o.checks.push({type:Hs,left:s,right:a,subject:l}),l.checks=t.checks,t.checks=[{type:Gs}],u.checks.push({type:Gs}),a.checks.push({type:js,parent:u,child:c}),Xs(e,0,o),e.currentSubject=l,e.compoundCount++,c}var h={checks:[]},d={checks:[]},p=[{type:js,parent:h,child:d}];return h.checks=t.checks,t.checks=p,e.compoundCount++,d}},{name:"descendant",separator:!0,regex:As.descendant,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},i=e[e.length-1];return n.checks.push({type:$s,ancestor:i,descendant:r}),Xs(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var o={checks:[]},s=e[e.length-1],a={checks:[]},l={checks:[]},c={checks:[]},u={checks:[]};return o.checks.push({type:Hs,left:s,right:a,subject:l}),l.checks=t.checks,t.checks=[{type:Gs}],u.checks.push({type:Gs}),a.checks.push({type:Us,ancestor:u,descendant:c}),Xs(e,0,o),e.currentSubject=l,e.compoundCount++,c}var h={checks:[]},d={checks:[]},p=[{type:Us,ancestor:h,descendant:d}];return h.checks=t.checks,t.checks=p,e.compoundCount++,d}},{name:"subject",modifier:!0,regex:As.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return it(e.toString()),!1;e.currentSubject=t;var n=e[e.length-1].checks[0],r=null==n?null:n.type;r===Ps?n.type=Bs:r===Ls&&(n.type=Fs,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];Ks.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var Zs=function(e){for(var t,n,r,i=0;i<Ks.length;i++){var o=Ks[i],s=o.name,a=e.match(o.regexObj);if(null!=a){n=a,t=o,r=s;var l=a[0];e=e.substring(l.length);break}}return{expr:t,match:n,name:r,remaining:e}},Qs={parse:function(e){var t=this,n=t.inputText=e,r=t[0]={checks:[]};for(t.length=1,n=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(n);;){var i=Zs(n);if(null==i.expr)return it(),!1;var o=i.match.slice(1),s=i.expr.populate(t,r,o);if(!1===s)return!1;if(null!=s&&(r=s),(n=i.remaining).match(/^\s*$/))break}var a=t[t.length-1];null!=t.currentSubject&&(a.subject=t.currentSubject),a.edgeCount=t.edgeCount,a.compoundCount=t.compoundCount;for(var l=0;l<t.length;l++){var c=t[l];if(c.compoundCount>0&&c.edgeCount>0)return it(),!1;if(c.edgeCount>1)return it(),!1;1===c.edgeCount&&it()}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return q(t)?'"'+t+'"':e(t)},n=function(e){return" "+e+" "},r=function(r,o){var s=r.type,a=r.value;switch(s){case Ts:var l=e(a);return l.substring(0,l.length-1);case Ss:var c=r.field,u=r.operator;return"["+c+n(e(u))+t(a)+"]";case Ns:var h=r.operator,d=r.field;return"["+e(h)+d+"]";case Cs:return"["+r.field+"]";case Ms:var p=r.operator;return"[["+r.field+n(e(p))+t(a)+"]]";case Os:return a;case Rs:return"#"+a;case Is:return"."+a;case js:case zs:return i(r.parent,o)+n(">")+i(r.child,o);case Us:case $s:return i(r.ancestor,o)+" "+i(r.descendant,o);case Hs:var f=i(r.left,o),g=i(r.subject,o),m=i(r.right,o);return f+(f.length>0?" ":"")+g+m;case Gs:return""}},i=function(e,t){return e.checks.reduce(function(n,i,o){return n+(t===e&&0===o?"$":"")+r(i,t)},"")},o="",s=0;s<this.length;s++){var a=this[s];o+=i(a,a.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o}},Js=function(e,t,n){var r,i,o,s=q(e),a=Q(e),l=q(n),c=!1,u=!1,h=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),u=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),c=!0),(s||l||c)&&(i=s||a?""+e:"",o=""+n),c&&(e=i=i.toLowerCase(),n=o=o.toLowerCase()),t){case"*=":r=i.indexOf(o)>=0;break;case"$=":r=i.indexOf(o,i.length-o.length)>=0;break;case"^=":r=0===i.indexOf(o);break;case"=":r=e===n;break;case">":h=!0,r=e>n;break;case">=":h=!0,r=e>=n;break;case"<":h=!0,r=e<n;break;case"<=":h=!0,r=e<=n;break;default:r=!1}return!u||null==e&&h||(r=!r),r},ea=function(e,t){return e.data(t)},ta=[],na=function(e,t){return e.checks.every(function(e){return ta[e.type](e,t)})};ta[Ts]=function(e,t){var n=e.value;return"*"===n||n===t.group()},ta[Os]=function(e,t){return function(e,t){return Ws[e](t)}(e.value,t)},ta[Rs]=function(e,t){var n=e.value;return t.id()===n},ta[Is]=function(e,t){var n=e.value;return t.hasClass(n)},ta[Ms]=function(e,t){var n=e.field,r=e.operator,i=e.value;return Js(function(e,t){return e[t]()}(t,n),r,i)},ta[Ss]=function(e,t){var n=e.field,r=e.operator,i=e.value;return Js(ea(t,n),r,i)},ta[Ns]=function(e,t){var n=e.field,r=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(ea(t,n),r)},ta[Cs]=function(e,t){var n=e.field;return e.operator,void 0!==ea(t,n)},ta[Ls]=function(e,t){var n=e.nodes[0],r=e.nodes[1],i=t.source(),o=t.target();return na(n,i)&&na(r,o)||na(r,i)&&na(n,o)},ta[Fs]=function(e,t){return na(e.node,t)&&t.neighborhood().some(function(t){return t.isNode()&&na(e.neighbor,t)})},ta[Ps]=function(e,t){return na(e.source,t.source())&&na(e.target,t.target())},ta[Ds]=function(e,t){return na(e.source,t)&&t.outgoers().some(function(t){return t.isNode()&&na(e.target,t)})},ta[Bs]=function(e,t){return na(e.target,t)&&t.incomers().some(function(t){return t.isNode()&&na(e.source,t)})},ta[zs]=function(e,t){return na(e.child,t)&&na(e.parent,t.parent())},ta[js]=function(e,t){return na(e.parent,t)&&t.children().some(function(t){return na(e.child,t)})},ta[$s]=function(e,t){return na(e.descendant,t)&&t.ancestors().some(function(t){return na(e.ancestor,t)})},ta[Us]=function(e,t){return na(e.ancestor,t)&&t.descendants().some(function(t){return na(e.descendant,t)})},ta[Hs]=function(e,t){return na(e.subject,t)&&na(e.left,t)&&na(e.right,t)},ta[Gs]=function(){return!0},ta[Es]=function(e,t){return e.value.has(t)},ta[ks]=function(e,t){return(0,e.value)(t)};var ra={matches:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(na(n,e))return!0}return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&t[0].checks[0].type===Rs)return e.getElementById(t[0].checks[0].value).collection();var n=function(e){for(var n=0;n<t.length;n++){var r=t[n];if(na(r,e))return!0}return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)}},ia=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||q(e)&&e.match(/^\s*$/)||(ee(e)?this.addQuery({checks:[{type:Es,value:e.collection()}]}):X(e)?this.addQuery({checks:[{type:ks,value:e}]}):q(e)?this.parse(e)||(this.invalid=!0):nt("A selector must be created from a string; found "))},oa=ia.prototype;[Qs,ra].forEach(function(e){return be(oa,e)}),oa.text=function(){return this.inputText},oa.size=function(){return this.length},oa.eq=function(e){return this[e]},oa.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},oa.addQuery=function(e){this[this.length++]=e},oa.selector=oa.toString;var sa={allAre:function(e){var t=new ia(e);return this.every(function(e){return t.matches(e)})},is:function(e){var t=new ia(e);return this.some(function(e){return t.matches(e)})},some:function(e,t){for(var n=0;n<this.length;n++){if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every(function(t){return e.hasElementWithId(t.id())}))},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(e){return t.hasElementWithId(e.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(e){return t.hasElementWithId(e.id())})}};sa.allAreNeighbours=sa.allAreNeighbors,sa.has=sa.contains,sa.equal=sa.equals=sa.same;var aa,la,ca=function(e,t){return function(n,r,i,o){var s,a=n,l=this;if(null==a?s="":ee(a)&&1===a.length&&(s=a.id()),1===l.length&&s){var c=l[0]._private,u=c.traversalCache=c.traversalCache||{},h=u[t]=u[t]||[],d=We(s),p=h[d];return p||(h[d]=e.call(l,n,r,i,o))}return e.call(l,n,r,i,o)}},ua={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var i=this[r]._private.parent;i&&t.push(i)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var i=n[r];t.push(i)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var r=this[n].parents();t=(t=t||r).intersect(r)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isChild()}).filter(e)},children:ca(function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n]._private.children,i=0;i<r.length;i++)t.push(r[i]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(n){for(var r=0;r<n.length;r++){var i=n[r];t.push(i),i.children().nonempty()&&e(i.children())}}(this.children()),this.spawn(t,!0).filter(e)}};function ha(e,t,n,r){for(var i=[],o=new mt,s=e.cy().hasCompoundNodes(),a=0;a<e.length;a++){var l=e[a];n?i.push(l):s&&r(i,o,l)}for(;i.length>0;){var c=i.shift();t(c),o.add(c.id()),s&&r(i,o,c)}return e}function da(e,t,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var o=r[i];t.has(o.id())||e.push(o)}}function pa(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function fa(e,t,n){pa(e,t,n),da(e,t,n)}ua.forEachDown=function(e){return ha(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],da)},ua.forEachUp=function(e){return ha(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],pa)},ua.forEachUpAndDown=function(e){return ha(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],fa)},ua.ancestors=ua.parents,(aa=la={data:ws.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ws.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ws.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ws.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ws.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ws.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=aa.data,aa.removeAttr=aa.removeData;var ga,ma,va=la,ya={};function ba(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,i=n[0],o=i._private.edges,s=0;s<o.length;s++){var a=o[s];!t&&a.isLoop()||(r+=e(i,a))}return r}}}function wa(e,t){return function(n){for(var r,i=this.nodes(),o=0;o<i.length;o++){var s=i[o][e](n);void 0===s||void 0!==r&&!t(s,r)||(r=s)}return r}}be(ya,{degree:ba(function(e,t){return t.source().same(t.target())?2:1}),indegree:ba(function(e,t){return t.target().same(e)?1:0}),outdegree:ba(function(e,t){return t.source().same(e)?1:0})}),be(ya,{minDegree:wa("degree",function(e,t){return e<t}),maxDegree:wa("degree",function(e,t){return e>t}),minIndegree:wa("indegree",function(e,t){return e<t}),maxIndegree:wa("indegree",function(e,t){return e>t}),minOutdegree:wa("outdegree",function(e,t){return e<t}),maxOutdegree:wa("outdegree",function(e,t){return e>t})}),be(ya,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}});var xa=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(!i.locked()){var o=i._private.position,s={x:null!=t.x?t.x-o.x:0,y:null!=t.y?t.y-o.y:0};!i.isParent()||0===s.x&&0===s.y||i.children().shift(s,n),i.dirtyBoundingBoxCache()}}},_a={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){xa(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};ga=ma={position:ws.data(_a),silentPosition:ws.data(be({},_a,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){xa(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(Z(e))t?this.silentPosition(e):this.position(e);else if(X(e)){var n=e,r=this.cy();r.startBatch();for(var i=0;i<this.length;i++){var o,s=this[i];(o=n(s,i))&&(t?s.silentPosition(o):s.position(o))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var r;if(Z(e)?(r={x:Q(e.x)?e.x:0,y:Q(e.y)?e.y:0},n=t):q(e)&&Q(t)&&((r={x:0,y:0})[e]=t),null!=r){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(i.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var a=s.position(),l={x:a.x+r.x,y:a.y+r.y};n?s.silentPosition(l):s.position(l)}}i.endBatch()}return this},silentShift:function(e,t){return Z(e)?this.shift(e,!0):q(e)&&Q(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],r=this.cy(),i=r.zoom(),o=r.pan(),s=Z(e)?e:void 0,a=void 0!==s||void 0!==t&&q(e);if(n&&n.isNode()){if(!a){var l=n.position();return s=jt(l,i,o),void 0===e?s:s[e]}for(var c=0;c<this.length;c++){var u=this[c];void 0!==t?u.position(e,(t-o[e])/i):void 0!==s&&u.position(Ut(s,i,o))}}else if(!a)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),i=Z(e)?e:void 0,o=void 0!==i||void 0!==t&&q(e),s=r.hasCompoundNodes();if(n&&n.isNode()){if(!o){var a=n.position(),l=s?n.parent():null,c=l&&l.length>0,u=c;c&&(l=l[0]);var h=u?l.position():{x:0,y:0};return i={x:a.x-h.x,y:a.y-h.y},void 0===e?i:i[e]}for(var d=0;d<this.length;d++){var p=this[d],f=s?p.parent():null,g=f&&f.length>0,m=g;g&&(f=f[0]);var v=m?f.position():{x:0,y:0};void 0!==t?p.position(e,t+v[e]):void 0!==i&&p.position({x:i.x+v.x,y:i.y+v.y})}}else if(!o)return;return this}},ga.modelPosition=ga.point=ga.position,ga.modelPositions=ga.points=ga.positions,ga.renderedPoint=ga.renderedPosition,ga.relativePoint=ga.relativePosition;var Aa,Ta,Ea=ma;Aa=Ta={},Ta.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),o=t.x1*r+i.x,s=t.x2*r+i.x,a=t.y1*r+i.y,l=t.y2*r+i.y;return{x1:o,x2:s,y1:a,y2:l,w:s-o,h:l-a}},Ta.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp(function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,e||t.emitAndNotify("bounds")}}),this):this},Ta.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(e){if(e.isParent()){var t=e._private,n=e.children(),r="include"===e.pstyle("compound-sizing-wrt-labels").value,i={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},o=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),s=t.position;0!==o.w&&0!==o.h||((o={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=s.x-o.w/2,o.x2=s.x+o.w/2,o.y1=s.y-o.h/2,o.y2=s.y+o.h/2);var a=i.width.left.value;"px"===i.width.left.units&&i.width.val>0&&(a=100*a/i.width.val);var l=i.width.right.value;"px"===i.width.right.units&&i.width.val>0&&(l=100*l/i.width.val);var c=i.height.top.value;"px"===i.height.top.units&&i.height.val>0&&(c=100*c/i.height.val);var u=i.height.bottom.value;"px"===i.height.bottom.units&&i.height.val>0&&(u=100*u/i.height.val);var h=v(i.width.val-o.w,a,l),d=h.biasDiff,p=h.biasComplementDiff,f=v(i.height.val-o.h,c,u),g=f.biasDiff,m=f.biasComplementDiff;t.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(o.w,o.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(o.w,i.width.val),s.x=(-d+o.x1+o.x2+p)/2,t.autoHeight=Math.max(o.h,i.height.val),s.y=(-g+o.y1+o.y2+m)/2}function v(e,t,n){var r=0,i=0,o=t+n;return e>0&&o>0&&(r=t/o*e,i=n/o*e),{biasDiff:r,biasComplementDiff:i}}}for(var r=0;r<this.length;r++){var i=this[r],o=i._private;o.compoundBoundsClean&&!e||(n(i),t.batching()||(o.compoundBoundsClean=!0))}return this};var ka=function(e){return e===1/0||e===-1/0?0:e},Sa=function(e,t,n,r,i){r-t!==0&&i-n!==0&&null!=t&&null!=n&&null!=r&&null!=i&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Ca=function(e,t){return null==t?e:Sa(e,t.x1,t.y1,t.x2,t.y2)},Na=function(e,t,n){return dt(e,t,n)},Ma=function(e,t,n){if(!t.cy().headless()){var r,i,o=t._private,s=o.rstyle,a=s.arrowWidth/2;if("none"!==t.pstyle(n+"-arrow-shape").value){"source"===n?(r=s.srcX,i=s.srcY):"target"===n?(r=s.tgtX,i=s.tgtY):(r=s.midX,i=s.midY);var l=o.arrowBounds=o.arrowBounds||{},c=l[n]=l[n]||{};c.x1=r-a,c.y1=i-a,c.x2=r+a,c.y2=i+a,c.w=c.x2-c.x1,c.h=c.y2-c.y1,nn(c,1),Sa(e,c.x1,c.y1,c.x2,c.y2)}}},Oa=function(e,t,n){if(!t.cy().headless()){var r;r=n?n+"-":"";var i=t._private,o=i.rstyle;if(t.pstyle(r+"label").strValue){var s,a,l,c,u=t.pstyle("text-halign"),h=t.pstyle("text-valign"),d=Na(o,"labelWidth",n),p=Na(o,"labelHeight",n),f=Na(o,"labelX",n),g=Na(o,"labelY",n),m=t.pstyle(r+"text-margin-x").pfValue,v=t.pstyle(r+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle(r+"text-rotation"),w=t.pstyle("text-outline-width").pfValue,x=t.pstyle("text-border-width").pfValue/2,_=t.pstyle("text-background-padding").pfValue,A=p,T=d,E=T/2,k=A/2;if(y)s=f-E,a=f+E,l=g-k,c=g+k;else{switch(u.value){case"left":s=f-T,a=f;break;case"center":s=f-E,a=f+E;break;case"right":s=f,a=f+T}switch(h.value){case"top":l=g-A,c=g;break;case"center":l=g-k,c=g+k;break;case"bottom":l=g,c=g+A}}var S=m-Math.max(w,x)-_-2,C=m+Math.max(w,x)+_+2,N=v-Math.max(w,x)-_-2,M=v+Math.max(w,x)+_+2;s+=S,a+=C,l+=N,c+=M;var O=n||"main",R=i.labelBounds,I=R[O]=R[O]||{};I.x1=s,I.y1=l,I.x2=a,I.y2=c,I.w=a-s,I.h=c-l,I.leftPad=S,I.rightPad=C,I.topPad=N,I.botPad=M;var L=y&&"autorotate"===b.strValue,P=null!=b.pfValue&&0!==b.pfValue;if(L||P){var D=L?Na(i.rstyle,"labelAngle",n):b.pfValue,B=Math.cos(D),F=Math.sin(D),z=(s+a)/2,$=(l+c)/2;if(!y){switch(u.value){case"left":z=a;break;case"right":z=s}switch(h.value){case"top":$=c;break;case"bottom":$=l}}var j=function(e,t){return{x:(e-=z)*B-(t-=$)*F+z,y:e*F+t*B+$}},U=j(s,l),H=j(s,c),G=j(a,l),V=j(a,c);s=Math.min(U.x,H.x,G.x,V.x),a=Math.max(U.x,H.x,G.x,V.x),l=Math.min(U.y,H.y,G.y,V.y),c=Math.max(U.y,H.y,G.y,V.y)}var W=O+"Rot",Y=R[W]=R[W]||{};Y.x1=s,Y.y1=l,Y.x2=a,Y.y2=c,Y.w=a-s,Y.h=c-l,Sa(e,s,l,a,c),Sa(i.labelBounds.all,s,l,a,c)}return e}},Ra=function(e,t){if(!t.cy().headless()){var n=t.pstyle("outline-opacity").value,r=t.pstyle("outline-width").value+t.pstyle("outline-offset").value;Ia(e,t,n,r,"outside",r/2)}},Ia=function(e,t,n,r,i,o){if(!(0===n||r<=0||"inside"===i)){var s=t.cy(),a=t.pstyle("shape").value,l=s.renderer().nodeShapes[a],c=t.position(),u=c.x,h=c.y,d=t.width(),p=t.height();if(l.hasMiterBounds){"center"===i&&(r/=2);var f=l.miterBounds(u,h,d,p,r);Ca(e,f)}else null!=o&&o>0&&rn(e,[o,o,o,o])}},La=function(e,t){var n,r,i,o,s,a,l,c=e._private.cy,u=c.styleEnabled(),h=c.headless(),d=Jt(),p=e._private,f=e.isNode(),g=e.isEdge(),m=p.rstyle,v=f&&u?e.pstyle("bounds-expansion").pfValue:[0],y=function(e){return"none"!==e.pstyle("display").value},b=!u||y(e)&&(!g||y(e.source())&&y(e.target()));if(b){var w=0;u&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(w=e.pstyle("overlay-padding").value);var x=0;u&&t.includeUnderlays&&0!==e.pstyle("underlay-opacity").value&&(x=e.pstyle("underlay-padding").value);var _=Math.max(w,x),A=0;if(u&&(A=e.pstyle("width").pfValue/2),f&&t.includeNodes){var T=e.position();s=T.x,a=T.y;var E=e.outerWidth()/2,k=e.outerHeight()/2;Sa(d,n=s-E,i=a-k,r=s+E,o=a+k),u&&Ra(d,e),u&&t.includeOutlines&&!h&&Ra(d,e),u&&function(e,t){if(!t.cy().headless()){var n=t.pstyle("border-opacity").value,r=t.pstyle("border-width").pfValue,i=t.pstyle("border-position").value;Ia(e,t,n,r,i)}}(d,e)}else if(g&&t.includeEdges)if(u&&!h){var S=e.pstyle("curve-style").strValue;if(n=Math.min(m.srcX,m.midX,m.tgtX),r=Math.max(m.srcX,m.midX,m.tgtX),i=Math.min(m.srcY,m.midY,m.tgtY),o=Math.max(m.srcY,m.midY,m.tgtY),Sa(d,n-=A,i-=A,r+=A,o+=A),"haystack"===S){var C=m.haystackPts;if(C&&2===C.length){if(n=C[0].x,i=C[0].y,n>(r=C[1].x)){var N=n;n=r,r=N}if(i>(o=C[1].y)){var M=i;i=o,o=M}Sa(d,n-A,i-A,r+A,o+A)}}else if("bezier"===S||"unbundled-bezier"===S||de(S,"segments")||de(S,"taxi")){var O;switch(S){case"bezier":case"unbundled-bezier":O=m.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":O=m.linePts}if(null!=O)for(var R=0;R<O.length;R++){var I=O[R];n=I.x-A,r=I.x+A,i=I.y-A,o=I.y+A,Sa(d,n,i,r,o)}}}else{var L=e.source().position(),P=e.target().position();if((n=L.x)>(r=P.x)){var D=n;n=r,r=D}if((i=L.y)>(o=P.y)){var B=i;i=o,o=B}Sa(d,n-=A,i-=A,r+=A,o+=A)}if(u&&t.includeEdges&&g&&(Ma(d,e,"mid-source"),Ma(d,e,"mid-target"),Ma(d,e,"source"),Ma(d,e,"target")),u)if("yes"===e.pstyle("ghost").value){var F=e.pstyle("ghost-offset-x").pfValue,z=e.pstyle("ghost-offset-y").pfValue;Sa(d,d.x1+F,d.y1+z,d.x2+F,d.y2+z)}var $=p.bodyBounds=p.bodyBounds||{};on($,d),rn($,v),nn($,1),u&&(n=d.x1,r=d.x2,i=d.y1,o=d.y2,Sa(d,n-_,i-_,r+_,o+_));var j=p.overlayBounds=p.overlayBounds||{};on(j,d),rn(j,v),nn(j,1);var U=p.labelBounds=p.labelBounds||{};null!=U.all?((l=U.all).x1=1/0,l.y1=1/0,l.x2=-1/0,l.y2=-1/0,l.w=0,l.h=0):U.all=Jt(),u&&t.includeLabels&&(t.includeMainLabels&&Oa(d,e,null),g&&(t.includeSourceLabels&&Oa(d,e,"source"),t.includeTargetLabels&&Oa(d,e,"target")))}return d.x1=ka(d.x1),d.y1=ka(d.y1),d.x2=ka(d.x2),d.y2=ka(d.y2),d.w=ka(d.x2-d.x1),d.h=ka(d.y2-d.y1),d.w>0&&d.h>0&&b&&(rn(d,v),nn(d,1)),d},Pa=function(e){var t=0,n=function(e){return(e?1:0)<<t++},r=0;return r+=n(e.incudeNodes),r+=n(e.includeEdges),r+=n(e.includeLabels),r+=n(e.includeMainLabels),r+=n(e.includeSourceLabels),r+=n(e.includeTargetLabels),r+=n(e.includeOverlays),r+=n(e.includeOutlines)},Da=function(e){var t=function(e){return Math.round(e)};if(e.isEdge()){var n=e.source().position(),r=e.target().position();return Ve([t(n.x),t(n.y),t(r.x),t(r.y)])}var i=e.position();return Ve([t(i.x),t(i.y)])},Ba=function(e,t){var n,r=e._private,i=e.isEdge(),o=(null==t?za:Pa(t))===za;if(null==r.bbCache?(n=La(e,Fa),r.bbCache=n,r.bbCachePosKey=Da(e)):n=r.bbCache,!o){var s=e.isNode();n=Jt(),(t.includeNodes&&s||t.includeEdges&&!s)&&(t.includeOverlays?Ca(n,r.overlayBounds):Ca(n,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!i||t.includeSourceLabels&&t.includeTargetLabels)?Ca(n,r.labelBounds.all):(t.includeMainLabels&&Ca(n,r.labelBounds.mainRot),t.includeSourceLabels&&Ca(n,r.labelBounds.sourceRot),t.includeTargetLabels&&Ca(n,r.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},Fa={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},za=Pa(Fa),$a=ct(Fa);Ta.boundingBox=function(e){var t,n=void 0===e||void 0===e.useCache||!0===e.useCache,r=ae(function(e){var t=e._private;return null==t.bbCache||t.styleDirty||t.bbCachePosKey!==Da(e)},function(e){return e.id()});if(n&&1===this.length&&!r(this[0]))e=void 0===e?Fa:$a(e),t=Ba(this[0],e);else{t=Jt();var i=$a(e=e||Fa),o=this,s=o.cy().styleEnabled();this.edges().forEach(r),this.nodes().forEach(r),s&&this.recalculateRenderedStyle(n),this.updateCompoundBounds(!n);for(var a=0;a<o.length;a++){var l=o[a];r(l)&&l.dirtyBoundingBoxCache(),Ca(t,Ba(l,i))}}return t.x1=ka(t.x1),t.y1=ka(t.y1),t.x2=ka(t.x2),t.y2=ka(t.y2),t.w=ka(t.x2-t.x1),t.h=ka(t.y2-t.y1),t},Ta.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Ta.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),i=n.collection();if(r&&(i=t.filter(function(e){return e.isParent()}),t=t.not(i)),Z(e)){var o=e;e=function(){return o}}n.startBatch(),t.forEach(function(t,n){return t._private.bbAtOldPos=e(t,n)}).silentPositions(e),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var s=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return t.silentPositions(function(e){return e._private.bbAtOldPos}),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),n.endBatch(),s},Aa.boundingbox=Aa.bb=Aa.boundingBox,Aa.renderedBoundingbox=Aa.renderedBoundingBox;var ja,Ua,Ha=Ta;ja=Ua={};var Ga=function(e){e.uppercaseName=he(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=he(e.outerName),ja[e.name]=function(){var t=this[0],n=t._private,r=n.cy._private.styleEnabled;if(t){if(r){if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var i=t.pstyle(e.name);return"label"===i.strValue?(t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0):i.pfValue}return 1}},ja["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private.cy._private.styleEnabled;if(t){if(n){var r=t[e.name](),i=t.pstyle("border-position").value;return r+("center"===i?t.pstyle("border-width").pfValue:"outside"===i?2*t.pstyle("border-width").pfValue:0)+2*t.padding()}return 1}},ja["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},ja["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};Ga({name:"width"}),Ga({name:"height"}),Ua.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},Ua.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},Ua.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var Va=Ua,Wa={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},Ya=Object.keys(Wa).reduce(function(e,t){var n=Wa[t],r=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace())return t(e)}(this,n.get)},n.mult?e[r]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),r=n.pan(),i=n.zoom();return t(e).map(function(e){return jt(e,i,r)})}}(this,n.get)}:e[r]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return jt(t(e),n.zoom(),n.pan())}}(this,n.get)},e},{}),qa=be({},Ea,Ha,Va,Ya),Xa=function(e,t){this.recycle(e,t)};function Ka(){return!1}function Za(){return!0}Xa.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ka,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Za:Ka):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*r+i.x,y:n.y*r+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Za;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Za;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Za,this.stopPropagation()},isDefaultPrevented:Ka,isPropagationStopped:Ka,isImmediatePropagationStopped:Ka};var Qa=/^([^.]+)(\.(?:[^.]+))?$/,Ja={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},el=Object.keys(Ja),tl={};function nl(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tl,t=arguments.length>1?arguments[1]:void 0,n=0;n<el.length;n++){var r=el[n];this[r]=e[r]||Ja[r]}this.context=t||this.context,this.listeners=[],this.emitting=0}var rl=nl.prototype,il=function(e,t,n,r,i,o,s){X(r)&&(i=r,r=null),s&&(o=null==o?s:be({},o,s));for(var a=K(n)?n:n.split(/\s+/),l=0;l<a.length;l++){var c=a[l];if(!oe(c)){var u=c.match(Qa);if(u)if(!1===t(e,c,u[1],u[2]?u[2]:null,r,i,o))break}}},ol=function(e,t){return e.addEventFields(e.context,t),new Xa(t.type,t)},sl=function(e,t,n){if("event"!==Y(n))if(Z(n))t(e,ol(e,n));else for(var r=K(n)?n:n.split(/\s+/),i=0;i<r.length;i++){var o=r[i];if(!oe(o)){var s=o.match(Qa);if(s){var a=s[1],l=s[2]?s[2]:null;t(e,ol(e,{type:a,namespace:l,target:e.context}))}}}else t(e,n)};rl.on=rl.addListener=function(e,t,n,r,i){return il(this,function(e,t,n,r,i,o,s){X(o)&&e.listeners.push({event:t,callback:o,type:n,namespace:r,qualifier:i,conf:s})},e,t,n,r,i),this},rl.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},rl.removeListener=rl.off=function(e,t,n,r){var i=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var o=this.listeners,s=function(s){var a=o[s];il(i,function(t,n,r,i,l,c){if((a.type===r||"*"===e)&&(!i&&".*"!==a.namespace||a.namespace===i)&&(!l||t.qualifierCompare(a.qualifier,l))&&(!c||a.callback===c))return o.splice(s,1),!1},e,t,n,r)},a=o.length-1;a>=0;a--)s(a);return this},rl.removeAllListeners=function(){return this.removeListener("*")},rl.emit=rl.trigger=function(e,t,n){var r=this.listeners,i=r.length;return this.emitting++,K(t)||(t=[t]),sl(this,function(e,o){null!=n&&(r=[{event:o.event,type:o.type,namespace:o.namespace,callback:n}],i=r.length);for(var s=function(){var n=r[a];if(n.type===o.type&&(!n.namespace||n.namespace===o.namespace||".*"===n.namespace)&&e.eventMatches(e.context,n,o)){var i=[o];null!=t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}}(i,t),e.beforeEmit(e.context,n,o),n.conf&&n.conf.one&&(e.listeners=e.listeners.filter(function(e){return e!==n}));var s=e.callbackContext(e.context,n,o),l=n.callback.apply(s,i);e.afterEmit(e.context,n,o),!1===l&&(o.stopPropagation(),o.preventDefault())}},a=0;a<i;a++)s();e.bubble(e.context)&&!o.isPropagationStopped()&&e.parent(e.context).emit(o,t)},e),this.emitting--,this};var al={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&te(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},ll=function(e){return q(e)?new ia(e):e},cl={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new nl(al,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var r=ll(t),i=0;i<this.length;i++){this[i].emitter().on(e,r,n)}return this},removeListener:function(e,t,n){for(var r=ll(t),i=0;i<this.length;i++){this[i].emitter().removeListener(e,r,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){this[e].emitter().removeAllListeners()}return this},one:function(e,t,n){for(var r=ll(t),i=0;i<this.length;i++){this[i].emitter().one(e,r,n)}return this},once:function(e,t,n){for(var r=ll(t),i=0;i<this.length;i++){this[i].emitter().on(e,r,n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){this[n].emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};ws.eventAliasesOn(cl);var ul={nodes:function(e){return this.filter(function(e){return e.isNode()}).filter(e)},edges:function(e){return this.filter(function(e){return e.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var r=this[n];r.isNode()?e.push(r):t.push(r)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(q(e)||ee(e))return new ia(e).filter(this);if(X(e)){for(var n=this.spawn(),r=this,i=0;i<r.length;i++){var o=r[i];(t?e.apply(t,[o,i,r]):e(o,i,r))&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){q(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var r=this[n];e.has(r)||t.push(r)}return t}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(q(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),r=e,i=this.length<e.length,o=i?this:r,s=i?r:this,a=0;a<o.length;a++){var l=o[a];s.has(l)&&n.push(l)}return n},xor:function(e){var t=this._private.cy;q(e)&&(e=t.$(e));var n=this.spawn(),r=e,i=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],o=i._private.data.id;t.hasElementWithId(o)||n.push(i)}};return i(this,r),i(r,this),n},diff:function(e){var t=this._private.cy;q(e)&&(e=t.$(e));var n=this.spawn(),r=this.spawn(),i=this.spawn(),o=e,s=function(e,t,n){for(var r=0;r<e.length;r++){var o=e[r],s=o._private.data.id;t.hasElementWithId(s)?i.merge(o):n.push(o)}};return s(this,o,n),s(o,this,r),{left:n,right:r,both:i}},add:function(e){var t=this._private.cy;if(!e)return this;if(q(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=this.spawnSelf(),i=0;i<e.length;i++){var o=e[i],s=!this.has(o);s&&r.push(o)}return r},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&q(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=t.map,o=0;o<e.length;o++){var s=e[o],a=s._private.data.id;if(!i.has(a)){var l=this.length++;this[l]=s,i.set(a,{ele:s,index:l})}}return this},unmergeAt:function(e){var t=this[e].id(),n=this._private.map;this[e]=void 0,n.delete(t);var r=e===this.length-1;if(this.length>1&&!r){var i=this.length-1,o=this[i],s=o._private.data.id;this[i]=void 0,this[e]=o,n.set(s,{ele:o,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map.get(n);if(!r)return this;var i=r.index;return this.unmergeAt(i),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&q(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){e(this[t])&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],r=this,i=0;i<r.length;i++){var o=r[i],s=t?e.apply(t,[o,i,r]):e(o,i,r);n.push(s)}return n},reduce:function(e,t){for(var n=t,r=this,i=0;i<r.length;i++)n=e(n,r[i],i,r);return n},max:function(e,t){for(var n,r=-1/0,i=this,o=0;o<i.length;o++){var s=i[o],a=t?e.apply(t,[s,o,i]):e(s,o,i);a>r&&(r=a,n=s)}return{value:r,ele:n}},min:function(e,t){for(var n,r=1/0,i=this,o=0;o<i.length;o++){var s=i[o],a=t?e.apply(t,[s,o,i]):e(s,o,i);a<r&&(r=a,n=s)}return{value:r,ele:n}}},hl=ul;hl.u=hl["|"]=hl["+"]=hl.union=hl.or=hl.add,hl["\\"]=hl["!"]=hl["-"]=hl.difference=hl.relativeComplement=hl.subtract=hl.not,hl.n=hl["&"]=hl["."]=hl.and=hl.intersection=hl.intersect,hl["^"]=hl["(+)"]=hl["(-)"]=hl.symmetricDifference=hl.symdiff=hl.xor,hl.fnFilter=hl.filterFn=hl.stdFilter=hl.filter,hl.complement=hl.abscomp=hl.absoluteComplement;var dl=function(e,t){var n=e.cy().hasCompoundNodes();function r(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?Ze:0}var i=r(e)-r(t);if(0!==i)return i;function o(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var s=o(e)-o(t);if(0!==s)return s;var a=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==a?a:e.poolIndex()-t.poolIndex()},pl={forEach:function(e,t){if(X(e))for(var n=this.length,r=0;r<n;r++){var i=this[r];if(!1===(t?e.apply(t,[i,r,this]):e(i,r,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var i=e;i>=0&&i<t&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!X(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(dl)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:Ze-1}var r=t.source,i=t.target,o=r.zDepth(),s=i.zDepth();return Math.max(o,s,0)}}};pl.each=pl.forEach;var fl;fl="undefined",("undefined"==typeof Symbol?"undefined":h(Symbol))!=fl&&h(Symbol.iterator)!=fl&&(pl[Symbol.iterator]=function(){var e=this,t={value:void 0,done:!1},n=0,r=this.length;return a({next:function(){return n<r?t.value=e[n++]:(t.value=void 0,t.done=!0),t}},Symbol.iterator,function(){return this})});var gl=ct({nodeDimensionsIncludeLabels:!1}),ml={layoutDimensions:function(e){var t;if(e=gl(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return 0!==t.w&&0!==t.h||(t.w=t.h=1),t},layoutPositions:function(e,t,n){var r=this.nodes().filter(function(e){return!e.isParent()}),i=this.cy(),o=t.eles,s=function(e){return e.id()},a=ae(n,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=t.spacingFactor&&1!==t.spacingFactor,c=function(){if(!l)return null;for(var e=Jt(),t=0;t<r.length;t++){var n=r[t],i=a(n,t);tn(e,i.x,i.y)}return e}(),u=ae(function(e,n){var r=a(e,n);l&&(r=function(e,t,n){var r=t.x1+t.w/2,i=t.y1+t.h/2;return{x:r+(n.x-r)*e,y:i+(n.y-i)*e}}(Math.abs(t.spacingFactor),c,r));return null!=t.transform&&(r=t.transform(e,r)),r},s);if(t.animate){for(var h=0;h<r.length;h++){var d=r[h],p=u(d,h);if(null==t.animateFilter||t.animateFilter(d,h)){var f=d.animation({position:p,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(f)}else d.position(p)}if(t.fit){var g=i.animation({fit:{boundingBox:o.boundingBoxAt(u),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}else if(void 0!==t.zoom&&void 0!==t.pan){var m=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(m)}e.animations.forEach(function(e){return e.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),Yr.all(e.animations.map(function(e){return e.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else r.positions(u),t.fit&&i.fit(t.eles,t.padding),null!=t.zoom&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(be({},e,{eles:this}))}};function vl(e,t,n){var r,i=n._private,o=i.styleCache=i.styleCache||[];return null!=(r=o[e])?r:r=o[e]=t(n)}function yl(e,t){return e=We(e),function(n){return vl(e,t,n)}}function bl(e,t){e=We(e);var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return vl(e,n,t)}}ml.createLayout=ml.makeLayout=ml.layout;var wl={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),n=function(e){return e._private.styleCache=null};t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(n)):this.forEach(function(e){n(e),e.connectedEdges().forEach(n)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var n=this;e=!(!e&&void 0!==e),t.hasCompoundNodes()&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var r=n;return e?r.emitAndNotify("style"):r.emit("style"),n.forEach(function(e){return e._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],r=n.cy();if(r.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,r.style().apply(n));var i=n._private.style[e];return null!=i?i:t?r.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=!1,i=n.style();if(Z(e)){var o=e;i.applyBypass(this,o,r),this.emitAndNotify("style")}else if(q(e)){if(void 0===t){var s=this[0];return s?i.getStylePropertyValue(s,e):void 0}i.applyBypass(this,e,t,r),this.emitAndNotify("style")}else if(void 0===e){var a=this[0];return a?i.getRawStyle(a):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,r=t.style(),i=this;if(void 0===e)for(var o=0;o<i.length;o++){var s=i[o];r.removeAllBypasses(s,n)}else{e=e.split(/\s+/);for(var a=0;a<i.length;a++){var l=i[a];r.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!t)return i;var o=r.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){i*=o[s].pstyle("opacity").value}return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function xl(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var r=0;r<n.length;r++){if(!t(n[r]))return!1}return!0}function _l(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var i=this[0],o=e.hasCompoundNodes();if(i){var s=i._private;if(!t(i))return!1;if(i.isNode())return!o||xl(i,r);var a=s.source,l=s.target;return n(a)&&(!o||xl(a,n))&&(a===l||n(l)&&(!o||xl(l,n)))}}}var Al=yl("eleTakesUpSpace",function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())});wl.takesUpSpace=bl("takesUpSpace",_l({ok:Al}));var Tl=yl("eleInteractive",function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&Al(e)}),El=yl("parentInteractive",function(e){return"visible"===e.pstyle("visibility").value&&Al(e)});wl.interactive=bl("interactive",_l({ok:Tl,parentOk:El,edgeOkViaNode:Al})),wl.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var kl=yl("eleVisible",function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&Al(e)}),Sl=Al;wl.visible=bl("visible",_l({ok:kl,edgeOkViaNode:Sl})),wl.hidden=function(){var e=this[0];if(e)return!e.visible()},wl.isBundledBezier=bl("isBundledBezier",function(){return!!this.cy().styleEnabled()&&(!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace())}),wl.bypass=wl.css=wl.style,wl.renderedCss=wl.renderedStyle,wl.removeBypass=wl.removeCss=wl.removeStyle,wl.pstyle=wl.parsedStyle;var Cl={};function Nl(e){return function(){var t=arguments,n=[];if(2===t.length){var r=t[0],i=t[1];this.on(e.event,r,i)}else if(1===t.length&&X(t[0])){var o=t[0];this.on(e.event,o)}else if(0===t.length||1===t.length&&K(t[0])){for(var s=1===t.length?t[0]:null,a=0;a<this.length;a++){var l=this[a],c=!e.ableField||l._private[e.ableField],u=l._private[e.field]!=e.value;if(e.overrideAble){var h=e.overrideAble(l);if(void 0!==h&&(c=h,!h))return this}c&&(l._private[e.field]=e.value,u&&n.push(l))}var d=this.spawn(n);d.updateStyle(),d.emit(e.event),s&&d.emit(s)}return this}}function Ml(e){Cl[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},Cl[e.on]=Nl({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Cl[e.off]=Nl({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}Ml({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),Ml({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Ml({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Ml({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Cl.deselect=Cl.unselect,Cl.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},Ml({field:"active",on:"activate",off:"unactivate"}),Ml({field:"pannable",on:"panify",off:"unpanify"}),Cl.inactive=function(){var e=this[0];if(e)return!e._private.active};var Ol={},Rl=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode()){for(var o=!1,s=i.connectedEdges(),a=0;a<s.length;a++){var l=s[a],c=l.source(),u=l.target();if(e.noIncomingEdges&&u===i&&c!==i||e.noOutgoingEdges&&c===i&&u!==i){o=!0;break}}o||n.push(i)}}return this.spawn(n,!0).filter(t)}},Il=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode())for(var o=i.connectedEdges(),s=0;s<o.length;s++){var a=o[s],l=a.source(),c=a.target();e.outgoing&&l===i?(n.push(a),n.push(c)):e.incoming&&c===i&&(n.push(a),n.push(l))}}return this.spawn(n,!0).filter(t)}},Ll=function(e){return function(t){for(var n=this,r=[],i={};;){var o=e.outgoing?n.outgoers():n.incomers();if(0===o.length)break;for(var s=!1,a=0;a<o.length;a++){var l=o[a],c=l.id();i[c]||(i[c]=!0,r.push(l),s=!0)}if(!s)break;n=o}return this.spawn(r,!0).filter(t)}};function Pl(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r]._private[e.attr];i&&n.push(i)}return this.spawn(n,!0).filter(t)}}function Dl(e){return function(t){var n=[],r=this._private.cy,i=e||{};q(t)&&(t=r.$(t));for(var o=0;o<t.length;o++)for(var s=t[o]._private.edges,a=0;a<s.length;a++){var l=s[a],c=l._private.data,u=this.hasElementWithId(c.source)&&t.hasElementWithId(c.target),h=t.hasElementWithId(c.source)&&this.hasElementWithId(c.target);if(u||h){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!u)continue;if(i.thisIsTgt&&!h)continue}n.push(l)}}return this.spawn(n,!0)}}function Bl(e){return e=be({},{codirected:!1},e),function(t){for(var n=[],r=this.edges(),i=e,o=0;o<r.length;o++)for(var s=r[o]._private,a=s.source,l=a._private.data.id,c=s.data.target,u=a._private.edges,h=0;h<u.length;h++){var d=u[h],p=d._private.data,f=p.target,g=p.source,m=f===c&&g===l,v=l===f&&c===g;(i.codirected&&m||!i.codirected&&(m||v))&&n.push(d)}return this.spawn(n,!0).filter(t)}}Ol.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},be(Ol,{roots:Rl({noIncomingEdges:!0}),leaves:Rl({noOutgoingEdges:!0}),outgoers:ca(Il({outgoing:!0}),"outgoers"),successors:Ll({outgoing:!0}),incomers:ca(Il({incoming:!0}),"incomers"),predecessors:Ll({})}),be(Ol,{neighborhood:ca(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],o=i.connectedEdges(),s=0;s<o.length;s++){var a=o[s],l=a.source(),c=a.target(),u=i===l?c:l;u.length>0&&t.push(u[0]),t.push(a[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),Ol.neighbourhood=Ol.neighborhood,Ol.closedNeighbourhood=Ol.closedNeighborhood,Ol.openNeighbourhood=Ol.openNeighborhood,be(Ol,{source:ca(function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t},"source"),target:ca(function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t},"target"),sources:Pl({attr:"source"}),targets:Pl({attr:"target"})}),be(Ol,{edgesWith:ca(Dl(),"edgesWith"),edgesTo:ca(Dl({thisIsSrc:!0}),"edgesTo")}),be(Ol,{connectedEdges:ca(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var i=r._private.edges,o=0;o<i.length;o++){var s=i[o];t.push(s)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:ca(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(t.push(r.source()[0]),t.push(r.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:ca(Bl(),"parallelEdges"),codirectedEdges:ca(Bl({codirected:!0}),"codirectedEdges")}),be(Ol,{components:function(e){var t=this,n=t.cy(),r=n.collection(),i=null==e?t.nodes():e.nodes(),o=[];null!=e&&i.empty()&&(i=e.sources());var s=function(e,t){r.merge(e),i.unmerge(e),t.merge(e)};if(i.empty())return t.spawn();var a=function(){var e=n.collection();o.push(e);var r=i[0];s(r,e),t.bfs({directed:!1,roots:r,visit:function(t){return s(t,e)}}),e.forEach(function(n){n.connectedEdges().forEach(function(n){t.has(n)&&e.has(n.source())&&e.has(n.target())&&e.merge(n)})})};do{a()}while(i.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),Ol.componentsOf=Ol.components;var Fl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==e){var i=new ft,o=!1;if(t){if(t.length>0&&Z(t[0])&&!te(t[0])){o=!0;for(var s=[],a=new mt,l=0,c=t.length;l<c;l++){var u=t[l];null==u.data&&(u.data={});var h=u.data;if(null==h.id)h.id=st();else if(e.hasElementWithId(h.id)||a.has(h.id))continue;var d=new vt(e,u,!1);s.push(d),a.add(h.id)}t=s}}else t=[];this.length=0;for(var p=0,f=t.length;p<f;p++){var g=t[p][0];if(null!=g){var m=g._private.data.id;n&&i.has(m)||(n&&i.set(m,{index:this.length,ele:g}),this[this.length]=g,this.length++)}}this._private={eles:this,cy:e,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(e){this.lazyMap=e},rebuildMap:function(){for(var e=this.lazyMap=new ft,t=this.eles,n=0;n<t.length;n++){var r=t[n];e.set(r.id(),{index:n,ele:r})}}},n&&(this._private.map=i),o&&!r&&this.restore()}else nt("A collection must have a reference to the core")},zl=vt.prototype=Fl.prototype=Object.create(Array.prototype);zl.instanceString=function(){return"collection"},zl.spawn=function(e,t){return new Fl(this.cy(),e,t)},zl.spawnSelf=function(){return this.spawn(this)},zl.cy=function(){return this._private.cy},zl.renderer=function(){return this._private.cy.renderer()},zl.element=function(){return this[0]},zl.collection=function(){return ne(this)?this:new Fl(this._private.cy,[this])},zl.unique=function(){return new Fl(this._private.cy,this,!0)},zl.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},zl.getElementById=function(e){e=""+e;var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new Fl(t)},zl.$id=zl.getElementById,zl.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},zl.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},zl.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},zl.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var r=t._private;if(Z(e)){if(n.startBatch(),e.data){t.data(e.data);var i=r.data;if(t.isEdge()){var o=!1,s={},a=e.data.source,l=e.data.target;null!=a&&a!=i.source&&(s.source=""+a,o=!0),null!=l&&l!=i.target&&(s.target=""+l,o=!0),o&&(t=t.move(s))}else{var c="parent"in e.data,u=e.data.parent;!c||null==u&&null==i.parent||u==i.parent||(void 0===u&&(u=null),null!=u&&(u=""+u),t=t.move({parent:u}))}}e.position&&t.position(e.position);var h=function(n,i,o){var s=e[n];null!=s&&s!==r[n]&&(s?t[i]():t[o]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var d={data:ot(r.data),position:ot(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:(null,"")},p=0;return r.classes.forEach(function(e){return d.classes+=0===p++?e:" "+e}),d}}},zl.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},zl.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n].json(),i=new vt(e,r,!1);t.push(i)}return new Fl(e,t)},zl.copy=zl.clone,zl.restore=function(){for(var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this,o=i.cy(),s=o._private,a=[],l=[],c=0,u=i.length;c<u;c++){var h=i[c];r&&!h.removed()||(h.isNode()?a.push(h):l.push(h))}e=a.concat(l);var d=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var p=e[t],f=p._private,g=f.data;if(p.clearTraversalCache(),r||f.removed)if(void 0===g.id)g.id=st();else if(Q(g.id))g.id=""+g.id;else{if(oe(g.id)||!q(g.id)){nt("Can not create element with invalid string ID `"+g.id+"`"),d();continue}if(o.hasElementWithId(g.id)){nt("Can not create second element with ID `"+g.id+"`"),d();continue}}else;var m=g.id;if(p.isNode()){var v=f.position;null==v.x&&(v.x=0),null==v.y&&(v.y=0)}if(p.isEdge()){for(var y=p,b=["source","target"],w=b.length,x=!1,_=0;_<w;_++){var A=b[_],T=g[A];Q(T)&&(T=g[A]=""+g[A]),null==T||""===T?(nt("Can not create edge `"+m+"` with unspecified "+A),x=!0):o.hasElementWithId(T)||(nt("Can not create edge `"+m+"` with nonexistant "+A+" `"+T+"`"),x=!0)}if(x){d();continue}var E=o.getElementById(g.source),k=o.getElementById(g.target);E.same(k)?E._private.edges.push(y):(E._private.edges.push(y),k._private.edges.push(y)),y._private.source=E,y._private.target=k}f.map=new ft,f.map.set(m,{ele:p,index:0}),f.removed=!1,r&&o.addToPool(p)}for(var S=0;S<a.length;S++){var C=a[S],N=C._private.data;Q(N.parent)&&(N.parent=""+N.parent);var M=N.parent;if(null!=M||C._private.parent){var O=C._private.parent?o.collection().merge(C._private.parent):o.getElementById(M);if(O.empty())N.parent=void 0;else if(O[0].removed())it(),N.parent=void 0,C._private.parent=null;else{for(var R=!1,I=O;!I.empty();){if(C.same(I)){R=!0,N.parent=void 0;break}I=I.parent()}R||(O[0]._private.children.push(C),C._private.parent=O[0],s.hasCompoundNodes=!0)}}}if(e.length>0){for(var L=e.length===i.length?i:new Fl(o,e),P=0;P<L.length;P++){var D=L[P];D.isNode()||(D.parallelEdges().clearTraversalCache(),D.source().clearTraversalCache(),D.target().clearTraversalCache())}(s.hasCompoundNodes?o.collection().merge(L).merge(L.connectedNodes()).merge(L.parent()):L).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?L.emitAndNotify("add"):r&&L.emit("add")}return i},zl.removed=function(){var e=this[0];return e&&e._private.removed},zl.inside=function(){var e=this[0];return e&&!e._private.removed},zl.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=[],i={},o=n._private.cy;function s(e){var n=i[e.id()];t&&e.removed()||n||(i[e.id()]=!0,e.isNode()?(r.push(e),function(e){for(var t=e._private.edges,n=0;n<t.length;n++)s(t[n])}(e),function(e){for(var t=e._private.children,n=0;n<t.length;n++)s(t[n])}(e)):r.unshift(e))}for(var a=0,l=n.length;a<l;a++){s(n[a])}function c(e,t){var n=e._private.edges;ut(n,t),e.clearTraversalCache()}function u(e){e.clearTraversalCache()}var h=[];function d(e,t){t=t[0];var n=(e=e[0])._private.children,r=e.id();ut(n,t),t._private.parent=null,h.ids[r]||(h.ids[r]=!0,h.push(e))}h.ids={},n.dirtyCompoundBoundsCache(),t&&o.removeFromPool(r);for(var p=0;p<r.length;p++){var f=r[p];if(f.isEdge()){var g=f.source()[0],m=f.target()[0];c(g,f),c(m,f);for(var v=f.parallelEdges(),y=0;y<v.length;y++){var b=v[y];u(b),b.isBundledBezier()&&b.dirtyBoundingBoxCache()}}else{var w=f.parent();0!==w.length&&d(w,f)}t&&(f._private.removed=!0)}var x=o._private.elements;o._private.hasCompoundNodes=!1;for(var _=0;_<x.length;_++){if(x[_].isParent()){o._private.hasCompoundNodes=!0;break}}var A=new Fl(this.cy(),r);A.size()>0&&(e?A.emitAndNotify("remove"):t&&A.emit("remove"));for(var T=0;T<h.length;T++){var E=h[T];t&&E.removed()||E.updateStyle()}return A},zl.move=function(e){var t=this._private.cy,n=this,r=!1,i=!1,o=function(e){return null==e?e:""+e};if(void 0!==e.source||void 0!==e.target){var s=o(e.source),a=o(e.target),l=null!=s&&t.hasElementWithId(s),c=null!=a&&t.hasElementWithId(a);(l||c)&&(t.batch(function(){n.remove(r,i),n.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var t=n[e],o=t._private.data;t.isEdge()&&(l&&(o.source=s),c&&(o.target=a))}n.restore(r,i)}),n.emitAndNotify("move"))}else if(void 0!==e.parent){var u=o(e.parent);if(null===u||t.hasElementWithId(u)){var h=null===u?void 0:u;t.batch(function(){var e=n.remove(r,i);e.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var o=n[t],s=o._private.data;o.isNode()&&(s.parent=h)}e.restore(r,i)}),n.emitAndNotify("move")}}return this},[$r,xs,_s,sa,ua,va,ya,qa,cl,ul,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},pl,ml,wl,Cl,Ol].forEach(function(e){be(zl,e)});var $l={add:function(e){var t,n=this;if(ee(e)){var r=e;if(r._private.cy===n)t=r.restore();else{for(var i=[],o=0;o<r.length;o++){var s=r[o];i.push(s.json())}t=new Fl(n,i)}}else if(K(e)){t=new Fl(n,e)}else if(Z(e)&&(K(e.nodes)||K(e.edges))){for(var a=e,l=[],c=["nodes","edges"],u=0,h=c.length;u<h;u++){var d=c[u],p=a[d];if(K(p))for(var f=0,g=p.length;f<g;f++){var m=be({group:d},p[f]);l.push(m)}}t=new Fl(n,l)}else{t=new vt(n,e).collection()}return t},remove:function(e){if(ee(e));else if(q(e)){var t=e;e=this.$(t)}return e.remove()}};function jl(e,t,n,r){var i=.1,o="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var s=0;s<4;++s)if("number"!=typeof arguments[s]||isNaN(arguments[s])||!isFinite(arguments[s]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var a=o?new Float32Array(11):new Array(11);function l(e,t){return 1-3*t+3*e}function c(e,t){return 3*t-6*e}function u(e){return 3*e}function h(e,t,n){return((l(t,n)*e+c(t,n))*e+u(t))*e}function d(e,t,n){return 3*l(t,n)*e*e+2*c(t,n)*e+u(t)}function p(t){for(var r=0,o=1;10!==o&&a[o]<=t;++o)r+=i;--o;var s=r+(t-a[o])/(a[o+1]-a[o])*i,l=d(s,e,n);return l>=.001?function(t,r){for(var i=0;i<4;++i){var o=d(r,e,n);if(0===o)return r;r-=(h(r,e,n)-t)/o}return r}(t,s):0===l?s:function(t,r,i){var o,s,a=0;do{(o=h(s=r+(i-r)/2,e,n)-t)>0?i=s:r=s}while(Math.abs(o)>1e-7&&++a<10);return s}(t,r,r+i)}var f=!1;function g(){f=!0,e===t&&n===r||function(){for(var t=0;t<11;++t)a[t]=h(t*i,e,n)}()}var m=function(i){return f||g(),e===t&&n===r?i:0===i?0:1===i?1:h(p(i),t,r)};m.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var v="generateBezier("+[e,t,n,r]+")";return m.toString=function(){return v},m}var Ul=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var i={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function n(n,r){var i={dx:n.v,dv:e(n)},o=t(n,.5*r,i),s=t(n,.5*r,o),a=t(n,r,s),l=1/6*(i.dx+2*(o.dx+s.dx)+a.dx),c=1/6*(i.dv+2*(o.dv+s.dv)+a.dv);return n.x=n.x+l*r,n.v=n.v+c*r,n}return function e(t,r,i){var o,s,a,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,h=1e-4;for(t=parseFloat(t)||500,r=parseFloat(r)||20,i=i||null,l.tension=t,l.friction=r,s=(o=null!==i)?(u=e(t,r))/i*.016:.016;a=n(a||l,s),c.push(1+a.x),u+=16,Math.abs(a.x)>h&&Math.abs(a.v)>h;);return o?function(e){return c[e*(c.length-1)|0]}:u}}(),Hl=function(e,t,n,r){var i=jl(e,t,n,r);return function(e,t,n){return e+(t-e)*i(n)}},Gl={linear:function(e,t,n){return e+(t-e)*n},ease:Hl(.25,.1,.25,1),"ease-in":Hl(.42,0,1,1),"ease-out":Hl(0,0,.58,1),"ease-in-out":Hl(.42,0,.58,1),"ease-in-sine":Hl(.47,0,.745,.715),"ease-out-sine":Hl(.39,.575,.565,1),"ease-in-out-sine":Hl(.445,.05,.55,.95),"ease-in-quad":Hl(.55,.085,.68,.53),"ease-out-quad":Hl(.25,.46,.45,.94),"ease-in-out-quad":Hl(.455,.03,.515,.955),"ease-in-cubic":Hl(.55,.055,.675,.19),"ease-out-cubic":Hl(.215,.61,.355,1),"ease-in-out-cubic":Hl(.645,.045,.355,1),"ease-in-quart":Hl(.895,.03,.685,.22),"ease-out-quart":Hl(.165,.84,.44,1),"ease-in-out-quart":Hl(.77,0,.175,1),"ease-in-quint":Hl(.755,.05,.855,.06),"ease-out-quint":Hl(.23,1,.32,1),"ease-in-out-quint":Hl(.86,0,.07,1),"ease-in-expo":Hl(.95,.05,.795,.035),"ease-out-expo":Hl(.19,1,.22,1),"ease-in-out-expo":Hl(1,0,0,1),"ease-in-circ":Hl(.6,.04,.98,.335),"ease-out-circ":Hl(.075,.82,.165,1),"ease-in-out-circ":Hl(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return Gl.linear;var r=Ul(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":Hl};function Vl(e,t,n,r,i){if(1===r)return n;if(t===n)return n;var o=i(t,n,r);return null==e||((e.roundValue||e.color)&&(o=Math.round(o)),void 0!==e.min&&(o=Math.max(o,e.min)),void 0!==e.max&&(o=Math.min(o,e.max))),o}function Wl(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function Yl(e,t,n,r,i){var o=null!=i?i.type:null;n<0?n=0:n>1&&(n=1);var s=Wl(e,i),a=Wl(t,i);if(Q(s)&&Q(a))return Vl(o,s,a,n,r);if(K(s)&&K(a)){for(var l=[],c=0;c<a.length;c++){var u=s[c],h=a[c];if(null!=u&&null!=h){var d=Vl(o,u,h,n,r);l.push(d)}else l.push(h)}return l}}function ql(e,t,n,r){var i=!r,o=e._private,s=t._private,a=s.easing,l=s.startTime,c=(r?e:e.cy()).style();if(!s.easingImpl)if(null==a)s.easingImpl=Gl.linear;else{var u,h,d;if(q(a))u=c.parse("transition-timing-function",a).value;else u=a;q(u)?(h=u,d=[]):(h=u[1],d=u.slice(2).map(function(e){return+e})),d.length>0?("spring"===h&&d.push(s.duration),s.easingImpl=Gl[h].apply(null,d)):s.easingImpl=Gl[h]}var p,f=s.easingImpl;if(p=0===s.duration?1:(n-l)/s.duration,s.applying&&(p=s.progress),p<0?p=0:p>1&&(p=1),null==s.delay){var g=s.startPosition,m=s.position;if(m&&i&&!e.locked()){var v={};Xl(g.x,m.x)&&(v.x=Yl(g.x,m.x,p,f)),Xl(g.y,m.y)&&(v.y=Yl(g.y,m.y,p,f)),e.position(v)}var y=s.startPan,b=s.pan,w=o.pan,x=null!=b&&r;x&&(Xl(y.x,b.x)&&(w.x=Yl(y.x,b.x,p,f)),Xl(y.y,b.y)&&(w.y=Yl(y.y,b.y,p,f)),e.emit("pan"));var _=s.startZoom,A=s.zoom,T=null!=A&&r;T&&(Xl(_,A)&&(o.zoom=Qt(o.minZoom,Yl(_,A,p,f),o.maxZoom)),e.emit("zoom")),(x||T)&&e.emit("viewport");var E=s.style;if(E&&E.length>0&&i){for(var k=0;k<E.length;k++){var S=E[k],C=S.name,N=S,M=s.startStyle[C],O=Yl(M,N,p,f,c.properties[M.name]);c.overrideBypass(e,C,O)}e.emit("style")}}return s.progress=p,p}function Xl(e,t){return null!=e&&null!=t&&(!(!Q(e)||!Q(t))||!(!e||!t))}function Kl(e,t,n,r){var i=t._private;i.started=!0,i.startTime=n-i.progress*i.duration}function Zl(e,t){var n=t._private.aniEles,r=[];function i(t,n){var i=t._private,o=i.animation.current,s=i.animation.queue,a=!1;if(0===o.length){var l=s.shift();l&&o.push(l)}for(var c=function(e){for(var t=e.length-1;t>=0;t--){(0,e[t])()}e.splice(0,e.length)},u=o.length-1;u>=0;u--){var h=o[u],d=h._private;d.stopped?(o.splice(u,1),d.hooked=!1,d.playing=!1,d.started=!1,c(d.frames)):(d.playing||d.applying)&&(d.playing&&d.applying&&(d.applying=!1),d.started||Kl(0,h,e),ql(t,h,e,n),d.applying&&(d.applying=!1),c(d.frames),null!=d.step&&d.step(e),h.completed()&&(o.splice(u,1),d.hooked=!1,d.playing=!1,d.started=!1,c(d.completes)),a=!0)}return n||0!==o.length||0!==s.length||r.push(t),a}for(var o=!1,s=0;s<n.length;s++){var a=i(n[s]);o=o||a}var l=i(t,!0);(o||l)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(r),t.emit("step")}var Ql={animate:ws.animate(),animation:ws.animation(),animated:ws.animated(),clearQueue:ws.clearQueue(),delay:ws.delay(),delayAnimation:ws.delayAnimation(),stop:ws.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender(function(t,n){Zl(n,e)},t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&De(function(n){Zl(n,e),t()})}()}}},Jl={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&te(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},ec=function(e){return q(e)?new ia(e):e},tc={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new nl(Jl,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,ec(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,ec(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,ec(t),n),this},once:function(e,t,n){return this.emitter().one(e,ec(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};ws.eventAliasesOn(tc);var nc={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};nc.jpeg=nc.jpg;var rc={layout:function(e){var t=this;if(null!=e)if(null!=e.name){var n=e.name,r=t.extension("layout",n);if(null!=r){var i;i=q(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$();var o=new r(be({},e,{cy:t,eles:i}));return o}nt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else nt("A `name` must be specified to make a layout");else nt("Layout options must be specified to make a layout")}};rc.createLayout=rc.makeLayout=rc.layout;var ic={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var r=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=t&&r.merge(t)}else if(n.notificationsEnabled){var i=this.renderer();!this.destroyed()&&i&&i.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var r=e.batchNotifications[n];r.empty()?t.notify(n):t.notify(n,r)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],o=e[i];t.getElementById(i).data(o)}})}},oc=ct({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),sc={renderTo:function(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(null!=n){void 0!==e.wheelSensitivity&&it();var r=oc(e);r.cy=t,t._private.renderer=new n(r),this.notify("init")}else nt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};sc.invalidateDimensions=sc.resize;var ac={collection:function(e,t){return q(e)?this.$(e):ee(e)?e.collection():K(e)?(t||(t={}),new Fl(this,e,t.unique,t.removed)):new Fl(this)},nodes:function(e){var t=this.$(function(e){return e.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(e){return e.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};ac.elements=ac.filter=ac.$;var lc={},cc="t";lc.apply=function(e){for(var t=this,n=t._private.cy.collection(),r=0;r<e.length;r++){var i=e[r],o=t.getContextMeta(i);if(!o.empty){var s=t.getContextStyle(o),a=t.applyContextStyle(o,s,i);i._private.appliedInitStyle?t.updateTransitions(i,a.diffProps):i._private.appliedInitStyle=!0,t.updateStyleHints(i)&&n.push(i)}}return n},lc.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=e+"-"+t,o=r[i];if(o)return o;for(var s=[],a={},l=0;l<n.length;l++){var c=n[l],u=e[l]===cc,h=t[l]===cc,d=u!==h,p=c.mappedProperties.length>0;if(d||h&&p){var f=void 0;d&&p||d?f=c.properties:p&&(f=c.mappedProperties);for(var g=0;g<f.length;g++){for(var m=f[g],v=m.name,y=!1,b=l+1;b<n.length;b++){var w=n[b];if(t[b]===cc&&(y=null!=w.properties[m.name]))break}a[v]||y||(a[v]=!0,s.push(v))}}}return r[i]=s,s},lc.getContextMeta=function(e){for(var t,n=this,r="",i=e._private.styleCxtKey||"",o=0;o<n.length;o++){var s=n[o];r+=s.selector&&s.selector.matches(e)?cc:"f"}return t=n.getPropertiesDiff(i,r),e._private.styleCxtKey=r,{key:r,diffPropNames:t,empty:0===t.length}},lc.getContextStyle=function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var r={_private:{key:t}},i=0;i<this.length;i++){var o=this[i];if(t[i]===cc)for(var s=0;s<o.properties.length;s++){var a=o.properties[s];r[a.name]=a}}return n[t]=r,r},lc.applyContextStyle=function(e,t,n){for(var r=e.diffPropNames,i={},o=this.types,s=0;s<r.length;s++){var a=r[s],l=t[a],c=n.pstyle(a);if(!l){if(!c)continue;l=c.bypass?{name:a,deleteBypassed:!0}:{name:a,delete:!0}}if(c!==l){if(l.mapped===o.fn&&null!=c&&null!=c.mapping&&c.mapping.value===l.value){var u=c.mapping;if((u.fnValue=l.value(n))===u.prevFnValue)continue}var h=i[a]={prev:c};this.applyParsedProperty(n,l),h.next=n.pstyle(a),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:i}},lc.updateStyleHints=function(e){var t=e._private,n=this,r=n.propertyGroupNames,i=n.propertyGroupKeys,o=function(e,t,r){return n.getPropertiesHash(e,t,r)},s=t.styleKey;if(e.removed())return!1;var a="nodes"===t.group,l=e._private.style;r=Object.keys(l);for(var c=0;c<i.length;c++){var u=i[c];t.styleKeys[u]=[Fe,ze]}for(var h=function(e,n){return t.styleKeys[n][0]=je(e,t.styleKeys[n][0])},d=function(e,n){return t.styleKeys[n][1]=Ue(e,t.styleKeys[n][1])},p=function(e,t){h(e,t),d(e,t)},f=function(e,t){for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);h(r,t),d(r,t)}},g=function(e){return-128<e&&e<128&&Math.floor(e)!==e?2e9-(1024*e|0):e},m=0;m<r.length;m++){var v=r[m],y=l[v];if(null!=y){var b=this.properties[v],w=b.type,x=b.groupKey,_=void 0;null!=b.hashOverride?_=b.hashOverride(e,y):null!=y.pfValue&&(_=y.pfValue);var A=null==b.enums?y.value:null,T=null!=_,E=T||null!=A,k=y.units;if(w.number&&E&&!w.multiple)p(g(T?_:A),x),T||null==k||f(k,x);else f(y.strValue,x)}}for(var S,C,N=[Fe,ze],M=0;M<i.length;M++){var O=i[M],R=t.styleKeys[O];N[0]=je(R[0],N[0]),N[1]=Ue(R[1],N[1])}t.styleKey=(S=N[0],C=N[1],2097152*S+C);var I=t.styleKeys;t.labelDimsKey=He(I.labelDimensions);var L=o(e,["label"],I.labelDimensions);if(t.labelKey=He(L),t.labelStyleKey=He(Ge(I.commonLabel,L)),!a){var P=o(e,["source-label"],I.labelDimensions);t.sourceLabelKey=He(P),t.sourceLabelStyleKey=He(Ge(I.commonLabel,P));var D=o(e,["target-label"],I.labelDimensions);t.targetLabelKey=He(D),t.targetLabelStyleKey=He(Ge(I.commonLabel,D))}if(a){var B=t.styleKeys,F=B.nodeBody,z=B.nodeBorder,$=B.nodeOutline,j=B.backgroundImage,U=B.compound,H=B.pie,G=B.stripe,V=[F,z,$,j,U,H,G].filter(function(e){return null!=e}).reduce(Ge,[Fe,ze]);t.nodeKey=He(V),t.hasPie=null!=H&&H[0]!==Fe&&H[1]!==ze,t.hasStripe=null!=G&&G[0]!==Fe&&G[1]!==ze}return s!==t.styleKey},lc.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null},lc.applyParsedProperty=function(e,t){var n,r=this,i=t,o=e._private.style,s=r.types,a=r.properties[i.name].type,l=i.bypass,c=o[i.name],u=c&&c.bypass,h=e._private,d="mapping",p=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},f=function(){var t=p(c),n=p(i);r.checkTriggers(e,i.name,t,n)};if("curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(i=t=this.parse(t.name,"bezier",l)),i.delete)return o[i.name]=void 0,f(),!0;if(i.deleteBypassed)return c?!!c.bypass&&(c.bypassed=void 0,f(),!0):(f(),!0);if(i.deleteBypass)return c?!!c.bypass&&(o[i.name]=c.bypassed,f(),!0):(f(),!0);var g=function(){it((e.id(),i.name,i.field,i.field,i.field))};switch(i.mapped){case s.mapData:for(var m,v=i.field.split("."),y=h.data,b=0;b<v.length&&y;b++){y=y[v[b]]}if(null==y)return g(),!1;if(!Q(y))return it((i.field,e.id())),!1;var w=i.fieldMax-i.fieldMin;if((m=0===w?0:(y-i.fieldMin)/w)<0?m=0:m>1&&(m=1),a.color){var x=i.valueMin[0],_=i.valueMax[0],A=i.valueMin[1],T=i.valueMax[1],E=i.valueMin[2],k=i.valueMax[2],S=null==i.valueMin[3]?1:i.valueMin[3],C=null==i.valueMax[3]?1:i.valueMax[3],N=[Math.round(x+(_-x)*m),Math.round(A+(T-A)*m),Math.round(E+(k-E)*m),Math.round(S+(C-S)*m)];n={bypass:i.bypass,name:i.name,value:N,strValue:"rgb("+N[0]+", "+N[1]+", "+N[2]+")"}}else{if(!a.number)return!1;var M=i.valueMin+(i.valueMax-i.valueMin)*m;n=this.parse(i.name,M,i.bypass,d)}if(!n)return g(),!1;n.mapping=i,i=n;break;case s.data:for(var O=i.field.split("."),R=h.data,I=0;I<O.length&&R;I++){R=R[O[I]]}if(null!=R&&(n=this.parse(i.name,R,i.bypass,d)),!n)return g(),!1;n.mapping=i,i=n;break;case s.fn:var L=i.value,P=null!=i.fnValue?i.fnValue:L(e);if(i.prevFnValue=P,null==P)return it((i.name,e.id())),!1;if(!(n=this.parse(i.name,P,i.bypass,d)))return it((i.name,e.id())),!1;n.mapping=ot(i),i=n;break;case void 0:break;default:return!1}return l?(i.bypassed=u?c.bypassed:c,o[i.name]=i):u?c.bypassed=i:o[i.name]=i,f(),!0},lc.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),t)for(var i=r._private.style,o=Object.keys(i),s=0;s<o.length;s++){var a=o[s],l=i[a];null!=l&&(l.bypass?l.bypassed=null:i[a]=null)}else r._private.style={}}},lc.update=function(){this._private.cy.mutableElements().updateStyle()},lc.updateTransitions=function(e,t){var n=this,r=e._private,i=e.pstyle("transition-property").value,o=e.pstyle("transition-duration").pfValue,s=e.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var a={},l=!1,c=0;c<i.length;c++){var u=i[c],h=e.pstyle(u),d=t[u];if(d){var p=d.prev,f=null!=d.next?d.next:h,g=!1,m=void 0,v=1e-6;p&&(Q(p.pfValue)&&Q(f.pfValue)?(g=f.pfValue-p.pfValue,m=p.pfValue+v*g):Q(p.value)&&Q(f.value)?(g=f.value-p.value,m=p.value+v*g):K(p.value)&&K(f.value)&&(g=p.value[0]!==f.value[0]||p.value[1]!==f.value[1]||p.value[2]!==f.value[2],m=p.strValue),g&&(a[u]=f.strValue,this.applyBypass(e,u,m),l=!0))}}if(!l)return;r.transitioning=!0,new Yr(function(t){s>0?e.delayAnimation(s).play().promise().then(t):t()}).then(function(){return e.animation({style:a,duration:o,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1)},lc.checkTrigger=function(e,t,n,r,i,o){var s=this.properties[t],a=i(s);e.removed()||null!=a&&a(n,r,e)&&o(s)},lc.checkZOrderTrigger=function(e,t,n,r){var i=this;this.checkTrigger(e,t,n,r,function(e){return e.triggersZOrder},function(){i._private.cy.notify("zorder",e)})},lc.checkBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBounds},function(t){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})},lc.checkConnectedEdgesBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBoundsOfConnectedEdges},function(t){e.connectedEdges().forEach(function(e){e.dirtyBoundingBoxCache()})})},lc.checkParallelEdgesBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBoundsOfParallelEdges},function(t){e.parallelEdges().forEach(function(e){e.dirtyBoundingBoxCache()})})},lc.checkTriggers=function(e,t,n,r){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,r),this.checkBoundsTrigger(e,t,n,r),this.checkConnectedEdgesBoundsTrigger(e,t,n,r),this.checkParallelEdgesBoundsTrigger(e,t,n,r)};var uc={applyBypass:function(e,t,n,r){var i=[];if("*"===t||"**"===t){if(void 0!==n)for(var o=0;o<this.properties.length;o++){var s=this.properties[o].name,a=this.parse(s,n,!0);a&&i.push(a)}}else if(q(t)){var l=this.parse(t,n,!0);l&&i.push(l)}else{if(!Z(t))return!1;var c=t;r=n;for(var u=Object.keys(c),h=0;h<u.length;h++){var d=u[h],p=c[d];if(void 0===p&&(p=c[ce(d)]),void 0!==p){var f=this.parse(d,p,!0);f&&i.push(f)}}}if(0===i.length)return!1;for(var g=!1,m=0;m<e.length;m++){for(var v=e[m],y={},b=void 0,w=0;w<i.length;w++){var x=i[w];if(r){var _=v.pstyle(x.name);b=y[x.name]={prev:_}}g=this.applyParsedProperty(v,ot(x))||g,r&&(b.next=v.pstyle(x.name))}g&&this.updateStyleHints(v),r&&this.updateTransitions(v,y,true)}return g},overrideBypass:function(e,t,n){t=le(t);for(var r=0;r<e.length;r++){var i=e[r],o=i._private.style[t],s=this.properties[t].type,a=s.color,l=s.mutiple,c=o?null!=o.pfValue?o.pfValue:o.value:null;o&&o.bypass?(o.value=n,null!=o.pfValue&&(o.pfValue=n),o.strValue=a?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.updateStyleHints(i)):this.applyBypass(i,t,n),this.checkTriggers(i,t,c,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var r=0;r<e.length;r++){for(var i=e[r],o={},s=0;s<t.length;s++){var a=t[s],l=this.properties[a],c=i.pstyle(l.name);if(c&&c.bypass){var u=this.parse(a,"",!0),h=o[l.name]={prev:c};this.applyParsedProperty(i,u),h.next=i.pstyle(l.name)}}this.updateStyleHints(i),n&&this.updateTransitions(i,o,true)}}},hc={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy,n=t.container(),r=t.window();if(r&&n&&r.getComputedStyle)return r.getComputedStyle(n).getPropertyValue(e)}},dc={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){var n=this;if(e=e[0]){for(var r={},i=0;i<n.properties.length;i++){var o=n.properties[i],s=n.getStylePropertyValue(e,o.name,t);null!=s&&(r[o.name]=s,r[ce(o.name)]=s)}return r}},getIndexedStyle:function(e,t,n,r){var i=e.pstyle(t)[n][r];return null!=i?i:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var r=this.properties[t];r.alias&&(r=r.pointsTo);var i=r.type,o=e.pstyle(r.name);if(o){var s=o.value,a=o.units,l=o.strValue;if(n&&i.number&&null!=s&&Q(s)){var c=e.cy().zoom(),u=function(e){return e*c},h=function(e,t){return u(e)+t},d=K(s);return(d?a.every(function(e){return null!=e}):null!=a)?d?s.map(function(e,t){return h(e,a[t])}).join(" "):h(s,a):d?s.map(function(e){return q(e)?e:""+u(e)}).join(" "):""+u(s)}if(null!=l)return l}return null}},getAnimationStartStyle:function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r].name,o=e.pstyle(i);void 0!==o&&(o=Z(o)?this.parse(i,o.strValue):this.parse(i,o)),o&&(n[i]=o)}return n},getPropsList:function(e){var t=[],n=e,r=this.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var s=i[o],a=n[s],l=r[s]||r[le(s)],c=this.parse(l.name,a);c&&t.push(c)}return t},getNonDefaultPropertiesHash:function(e,t,n){var r,i,o,s,a,l,c=n.slice();for(a=0;a<t.length;a++)if(r=t[a],null!=(i=e.pstyle(r,!1)))if(null!=i.pfValue)c[0]=je(s,c[0]),c[1]=Ue(s,c[1]);else for(o=i.strValue,l=0;l<o.length;l++)s=o.charCodeAt(l),c[0]=je(s,c[0]),c[1]=Ue(s,c[1]);return c}};dc.getPropertiesHash=dc.getNonDefaultPropertiesHash;var pc={appendFromJson:function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],i=r.selector,o=r.style||r.css,s=Object.keys(o);t.selector(i);for(var a=0;a<s.length;a++){var l=s[a],c=o[l];t.css(l,c)}}return t},fromJson:function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,o={},s=0;s<i.length;s++){var a=i[s];o[a.name]=a.strValue}e.push({selector:r?r.toString():"core",style:o})}return e}},fc={appendFromString:function(e){var t,n,r,i=this,o=""+e;function s(){o=o.length>t.length?o.substr(t.length):""}function a(){n=n.length>r.length?n.substr(r.length):""}for(o=o.replace(/[/][*](\s|.)+?[*][/]/g,"");;){if(o.match(/^\s*$/))break;var l=o.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!l){it();break}t=l[0];var c=l[1];if("core"!==c)if(new ia(c).invalid){it(),s();continue}var u=l[2],h=!1;n=u;for(var d=[];;){if(n.match(/^\s*$/))break;var p=n.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!p){it(),h=!0;break}r=p[0];var f=p[1],g=p[2];if(this.properties[f])i.parse(f,g)?(d.push({name:f,val:g}),a()):(it(),a());else it(),a()}if(h){s();break}i.selector(c);for(var m=0;m<d.length;m++){var v=d[m];i.css(v.name,v.val)}s()}return i},fromString:function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t}},gc={};!function(){var e=pe,t=ge,n=ve,r=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},i=function(r){var i=e+"|\\w+|"+t+"|"+n+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+r+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+i+")\\s*\\,\\s*("+i+")\\)$"},o=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];gc.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:r("data")},layoutData:{mapping:!0,regex:r("layoutData")},scratch:{mapping:!0,regex:r("scratch")},mapData:{mapping:!0,regex:i("mapData")},mapLayoutData:{mapping:!0,regex:i("mapLayoutData")},mapScratch:{mapping:!0,regex:i("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return q(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(e){var t=e.length;return 1===t||2===t||4===t}}};var s={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||(0==e&&0!=t||0!=e&&0==t)},any:function(e,t){return e!=t},emptyNonEmpty:function(e,t){var n=oe(e),r=oe(t);return n&&!r||!n&&r}},a=gc.types,l=[{name:"label",type:a.text,triggersBounds:s.any,triggersZOrder:s.emptyNonEmpty},{name:"text-rotation",type:a.textRotation,triggersBounds:s.any},{name:"text-margin-x",type:a.bidirectionalSize,triggersBounds:s.any},{name:"text-margin-y",type:a.bidirectionalSize,triggersBounds:s.any}],c=[{name:"source-label",type:a.text,triggersBounds:s.any},{name:"source-text-rotation",type:a.textRotation,triggersBounds:s.any},{name:"source-text-margin-x",type:a.bidirectionalSize,triggersBounds:s.any},{name:"source-text-margin-y",type:a.bidirectionalSize,triggersBounds:s.any},{name:"source-text-offset",type:a.size,triggersBounds:s.any}],u=[{name:"target-label",type:a.text,triggersBounds:s.any},{name:"target-text-rotation",type:a.textRotation,triggersBounds:s.any},{name:"target-text-margin-x",type:a.bidirectionalSize,triggersBounds:s.any},{name:"target-text-margin-y",type:a.bidirectionalSize,triggersBounds:s.any},{name:"target-text-offset",type:a.size,triggersBounds:s.any}],h=[{name:"font-family",type:a.fontFamily,triggersBounds:s.any},{name:"font-style",type:a.fontStyle,triggersBounds:s.any},{name:"font-weight",type:a.fontWeight,triggersBounds:s.any},{name:"font-size",type:a.size,triggersBounds:s.any},{name:"text-transform",type:a.textTransform,triggersBounds:s.any},{name:"text-wrap",type:a.textWrap,triggersBounds:s.any},{name:"text-overflow-wrap",type:a.textOverflowWrap,triggersBounds:s.any},{name:"text-max-width",type:a.size,triggersBounds:s.any},{name:"text-outline-width",type:a.size,triggersBounds:s.any},{name:"line-height",type:a.positiveNumber,triggersBounds:s.any}],d=[{name:"text-valign",type:a.valign,triggersBounds:s.any},{name:"text-halign",type:a.halign,triggersBounds:s.any},{name:"color",type:a.color},{name:"text-outline-color",type:a.color},{name:"text-outline-opacity",type:a.zeroOneNumber},{name:"text-background-color",type:a.color},{name:"text-background-opacity",type:a.zeroOneNumber},{name:"text-background-padding",type:a.size,triggersBounds:s.any},{name:"text-border-opacity",type:a.zeroOneNumber},{name:"text-border-color",type:a.color},{name:"text-border-width",type:a.size,triggersBounds:s.any},{name:"text-border-style",type:a.borderStyle,triggersBounds:s.any},{name:"text-background-shape",type:a.textBackgroundShape,triggersBounds:s.any},{name:"text-justification",type:a.justification},{name:"box-select-labels",type:a.bool,triggersBounds:s.any}],p=[{name:"events",type:a.bool,triggersZOrder:s.any},{name:"text-events",type:a.bool,triggersZOrder:s.any},{name:"box-selection",type:a.boxSelection,triggersZOrder:s.any}],f=[{name:"display",type:a.display,triggersZOrder:s.any,triggersBounds:s.any,triggersBoundsOfConnectedEdges:s.any,triggersBoundsOfParallelEdges:function(e,t,n){return e!==t&&"bezier"===n.pstyle("curve-style").value}},{name:"visibility",type:a.visibility,triggersZOrder:s.any},{name:"opacity",type:a.zeroOneNumber,triggersZOrder:s.zeroNonZero},{name:"text-opacity",type:a.zeroOneNumber},{name:"min-zoomed-font-size",type:a.size},{name:"z-compound-depth",type:a.zCompoundDepth,triggersZOrder:s.any},{name:"z-index-compare",type:a.zIndexCompare,triggersZOrder:s.any},{name:"z-index",type:a.number,triggersZOrder:s.any}],g=[{name:"overlay-padding",type:a.size,triggersBounds:s.any},{name:"overlay-color",type:a.color},{name:"overlay-opacity",type:a.zeroOneNumber,triggersBounds:s.zeroNonZero},{name:"overlay-shape",type:a.overlayShape,triggersBounds:s.any},{name:"overlay-corner-radius",type:a.cornerRadius}],m=[{name:"underlay-padding",type:a.size,triggersBounds:s.any},{name:"underlay-color",type:a.color},{name:"underlay-opacity",type:a.zeroOneNumber,triggersBounds:s.zeroNonZero},{name:"underlay-shape",type:a.overlayShape,triggersBounds:s.any},{name:"underlay-corner-radius",type:a.cornerRadius}],v=[{name:"transition-property",type:a.propList},{name:"transition-duration",type:a.time},{name:"transition-delay",type:a.time},{name:"transition-timing-function",type:a.easing}],y=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},b=[{name:"height",type:a.nodeSize,triggersBounds:s.any,hashOverride:y},{name:"width",type:a.nodeSize,triggersBounds:s.any,hashOverride:y},{name:"shape",type:a.nodeShape,triggersBounds:s.any},{name:"shape-polygon-points",type:a.polygonPointList,triggersBounds:s.any},{name:"corner-radius",type:a.cornerRadius},{name:"background-color",type:a.color},{name:"background-fill",type:a.fill},{name:"background-opacity",type:a.zeroOneNumber},{name:"background-blacken",type:a.nOneOneNumber},{name:"background-gradient-stop-colors",type:a.colors},{name:"background-gradient-stop-positions",type:a.percentages},{name:"background-gradient-direction",type:a.gradientDirection},{name:"padding",type:a.sizeMaybePercent,triggersBounds:s.any},{name:"padding-relative-to",type:a.paddingRelativeTo,triggersBounds:s.any},{name:"bounds-expansion",type:a.boundsExpansion,triggersBounds:s.any}],w=[{name:"border-color",type:a.color},{name:"border-opacity",type:a.zeroOneNumber},{name:"border-width",type:a.size,triggersBounds:s.any},{name:"border-style",type:a.borderStyle},{name:"border-cap",type:a.lineCap},{name:"border-join",type:a.lineJoin},{name:"border-dash-pattern",type:a.numbers},{name:"border-dash-offset",type:a.number},{name:"border-position",type:a.linePosition}],x=[{name:"outline-color",type:a.color},{name:"outline-opacity",type:a.zeroOneNumber},{name:"outline-width",type:a.size,triggersBounds:s.any},{name:"outline-style",type:a.borderStyle},{name:"outline-offset",type:a.size,triggersBounds:s.any}],_=[{name:"background-image",type:a.urls},{name:"background-image-crossorigin",type:a.bgCrossOrigin},{name:"background-image-opacity",type:a.zeroOneNumbers},{name:"background-image-containment",type:a.bgContainment},{name:"background-image-smoothing",type:a.bools},{name:"background-position-x",type:a.bgPos},{name:"background-position-y",type:a.bgPos},{name:"background-width-relative-to",type:a.bgRelativeTo},{name:"background-height-relative-to",type:a.bgRelativeTo},{name:"background-repeat",type:a.bgRepeat},{name:"background-fit",type:a.bgFit},{name:"background-clip",type:a.bgClip},{name:"background-width",type:a.bgWH},{name:"background-height",type:a.bgWH},{name:"background-offset-x",type:a.bgPos},{name:"background-offset-y",type:a.bgPos}],A=[{name:"position",type:a.position,triggersBounds:s.any},{name:"compound-sizing-wrt-labels",type:a.compoundIncludeLabels,triggersBounds:s.any},{name:"min-width",type:a.size,triggersBounds:s.any},{name:"min-width-bias-left",type:a.sizeMaybePercent,triggersBounds:s.any},{name:"min-width-bias-right",type:a.sizeMaybePercent,triggersBounds:s.any},{name:"min-height",type:a.size,triggersBounds:s.any},{name:"min-height-bias-top",type:a.sizeMaybePercent,triggersBounds:s.any},{name:"min-height-bias-bottom",type:a.sizeMaybePercent,triggersBounds:s.any}],T=[{name:"line-style",type:a.lineStyle},{name:"line-color",type:a.color},{name:"line-fill",type:a.fill},{name:"line-cap",type:a.lineCap},{name:"line-opacity",type:a.zeroOneNumber},{name:"line-dash-pattern",type:a.numbers},{name:"line-dash-offset",type:a.number},{name:"line-outline-width",type:a.size},{name:"line-outline-color",type:a.color},{name:"line-gradient-stop-colors",type:a.colors},{name:"line-gradient-stop-positions",type:a.percentages},{name:"curve-style",type:a.curveStyle,triggersBounds:s.any,triggersBoundsOfParallelEdges:function(e,t){return e!==t&&("bezier"===e||"bezier"===t)}},{name:"haystack-radius",type:a.zeroOneNumber,triggersBounds:s.any},{name:"source-endpoint",type:a.edgeEndpoint,triggersBounds:s.any},{name:"target-endpoint",type:a.edgeEndpoint,triggersBounds:s.any},{name:"control-point-step-size",type:a.size,triggersBounds:s.any},{name:"control-point-distances",type:a.bidirectionalSizes,triggersBounds:s.any},{name:"control-point-weights",type:a.numbers,triggersBounds:s.any},{name:"segment-distances",type:a.bidirectionalSizes,triggersBounds:s.any},{name:"segment-weights",type:a.numbers,triggersBounds:s.any},{name:"segment-radii",type:a.numbers,triggersBounds:s.any},{name:"radius-type",type:a.radiusType,triggersBounds:s.any},{name:"taxi-turn",type:a.bidirectionalSizeMaybePercent,triggersBounds:s.any},{name:"taxi-turn-min-distance",type:a.size,triggersBounds:s.any},{name:"taxi-direction",type:a.axisDirection,triggersBounds:s.any},{name:"taxi-radius",type:a.number,triggersBounds:s.any},{name:"edge-distances",type:a.edgeDistances,triggersBounds:s.any},{name:"arrow-scale",type:a.positiveNumber,triggersBounds:s.any},{name:"loop-direction",type:a.angle,triggersBounds:s.any},{name:"loop-sweep",type:a.angle,triggersBounds:s.any},{name:"source-distance-from-node",type:a.size,triggersBounds:s.any},{name:"target-distance-from-node",type:a.size,triggersBounds:s.any}],E=[{name:"ghost",type:a.bool,triggersBounds:s.any},{name:"ghost-offset-x",type:a.bidirectionalSize,triggersBounds:s.any},{name:"ghost-offset-y",type:a.bidirectionalSize,triggersBounds:s.any},{name:"ghost-opacity",type:a.zeroOneNumber}],k=[{name:"selection-box-color",type:a.color},{name:"selection-box-opacity",type:a.zeroOneNumber},{name:"selection-box-border-color",type:a.color},{name:"selection-box-border-width",type:a.size},{name:"active-bg-color",type:a.color},{name:"active-bg-opacity",type:a.zeroOneNumber},{name:"active-bg-size",type:a.size},{name:"outside-texture-bg-color",type:a.color},{name:"outside-texture-bg-opacity",type:a.zeroOneNumber}],S=[];gc.pieBackgroundN=16,S.push({name:"pie-size",type:a.sizeMaybePercent}),S.push({name:"pie-hole",type:a.sizeMaybePercent}),S.push({name:"pie-start-angle",type:a.angle});for(var C=1;C<=gc.pieBackgroundN;C++)S.push({name:"pie-"+C+"-background-color",type:a.color}),S.push({name:"pie-"+C+"-background-size",type:a.percent}),S.push({name:"pie-"+C+"-background-opacity",type:a.zeroOneNumber});var N=[];gc.stripeBackgroundN=16,N.push({name:"stripe-size",type:a.sizeMaybePercent}),N.push({name:"stripe-direction",type:a.axisDirectionPrimary});for(var M=1;M<=gc.stripeBackgroundN;M++)N.push({name:"stripe-"+M+"-background-color",type:a.color}),N.push({name:"stripe-"+M+"-background-size",type:a.percent}),N.push({name:"stripe-"+M+"-background-opacity",type:a.zeroOneNumber});var O=[],R=gc.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:a.arrowShape,triggersBounds:s.any},{name:"arrow-color",type:a.color},{name:"arrow-fill",type:a.arrowFill},{name:"arrow-width",type:a.arrowWidth}].forEach(function(e){R.forEach(function(t){var n=t+"-"+e.name,r=e.type,i=e.triggersBounds;O.push({name:n,type:r,triggersBounds:i})})},{});var I=gc.properties=[].concat(p,v,f,g,m,E,d,h,l,c,u,b,w,x,_,S,N,A,T,O,k),L=gc.propertyGroups={behavior:p,transition:v,visibility:f,overlay:g,underlay:m,ghost:E,commonLabel:d,labelDimensions:h,mainLabel:l,sourceLabel:c,targetLabel:u,nodeBody:b,nodeBorder:w,nodeOutline:x,backgroundImage:_,pie:S,stripe:N,compound:A,edgeLine:T,edgeArrow:O,core:k},P=gc.propertyGroupNames={};(gc.propertyGroupKeys=Object.keys(L)).forEach(function(e){P[e]=L[e].map(function(e){return e.name}),L[e].forEach(function(t){return t.groupKey=e})});var D=gc.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];gc.propertyNames=I.map(function(e){return e.name});for(var B=0;B<I.length;B++){var F=I[B];I[F.name]=F}for(var z=0;z<D.length;z++){var $=D[z],j=I[$.pointsTo],U={name:$.name,alias:!0,pointsTo:j};I.push(U),I[$.name]=U}}(),gc.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},gc.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=be({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=gc.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),i=t.value;e[r]=i}return e},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=gc.stripeBackgroundN;n++){var r=t.name.replace("{{i}}",n),i=t.value;e[r]=i}return e},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(e,t){return gc.arrowPrefixes.forEach(function(n){var r=n+"-"+t.name,i=t.value;e[r]=i}),e},{})),n={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var o=i.name,s=t[o],a=this.parse(o,s);n[o]=a}}return e.defaultProperties=n,e.defaultProperties},gc.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var mc={parse:function(e,t,n,r){var i=this;if(X(t))return i.parseImplWarn(e,t,n,r);var o,s=Ye(e,""+t,n?"t":"f","mapping"===r||!0===r||!1===r||null==r?"dontcare":r),a=i.propCache=i.propCache||[];return(o=a[s])||(o=a[s]=i.parseImplWarn(e,t,n,r)),(n||"mapping"===r)&&(o=ot(o))&&(o.value=ot(o.value)),o},parseImplWarn:function(e,t,n,r){var i=this.parseImpl(e,t,n,r);return i||null==t||it("The style property `".concat(e,": ").concat(t,"` is invalid")),!i||"width"!==i.name&&"height"!==i.name||"label"!==t||it(i.name),i}};mc.parseImpl=function(e,t,n,r){var i=this;e=le(e);var o=i.properties[e],s=t,a=i.types;if(!o)return null;if(void 0===t)return null;o.alias&&(o=o.pointsTo,e=o.name);var l=q(t);l&&(t=t.trim());var c,u,h=o.type;if(!h)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(X(t))return{name:e,value:t,strValue:"fn",mapped:a.fn,bypass:n};if(!l||r||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(c=new RegExp(a.data.regex).exec(t))){if(n)return!1;var d=a.data;return{name:e,value:c,strValue:""+t,mapped:d,field:c[1],bypass:n}}if(t.length>=10&&"m"===t[0]&&(u=new RegExp(a.mapData.regex).exec(t))){if(n)return!1;if(h.multiple)return!1;var p=a.mapData;if(!h.color&&!h.number)return!1;var f=this.parse(e,u[4]);if(!f||f.mapped)return!1;var g=this.parse(e,u[5]);if(!g||g.mapped)return!1;if(f.pfValue===g.pfValue||f.strValue===g.strValue)return it(f.strValue),this.parse(e,f.strValue);if(h.color){var m=f.value,v=g.value;if(!(m[0]!==v[0]||m[1]!==v[1]||m[2]!==v[2]||m[3]!==v[3]&&(null!=m[3]&&1!==m[3]||null!=v[3]&&1!==v[3])))return!1}return{name:e,value:u,strValue:""+t,mapped:p,field:u[1],fieldMin:parseFloat(u[2]),fieldMax:parseFloat(u[3]),valueMin:f.value,valueMax:g.value,bypass:n}}}if(h.multiple&&"multiple"!==r){var y;if(y=l?t.split(/\s+/):K(t)?t:[t],h.evenMultiple&&y.length%2!=0)return null;for(var b=[],w=[],x=[],_="",A=!1,T=0;T<y.length;T++){var E=i.parse(e,y[T],n,"multiple");A=A||q(E.value),b.push(E.value),x.push(null!=E.pfValue?E.pfValue:E.value),w.push(E.units),_+=(T>0?" ":"")+E.strValue}return h.validate&&!h.validate(b,w)?null:h.singleEnum&&A?1===b.length&&q(b[0])?{name:e,value:b[0],strValue:b[0],bypass:n}:null:{name:e,value:b,pfValue:x,strValue:_,bypass:n,units:w}}var k,S,C=function(){for(var r=0;r<h.enums.length;r++){if(h.enums[r]===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(h.number){var N,M="px";if(h.units&&(N=h.units),h.implicitUnits&&(M=h.implicitUnits),!h.unitless)if(l){var O="px|em"+(h.allowPercent?"|\\%":"");N&&(O=N);var R=t.match("^("+pe+")("+O+")?$");R&&(t=R[1],N=R[2]||M)}else N&&!h.implicitUnits||(N=M);if(t=parseFloat(t),isNaN(t)&&void 0===h.enums)return null;if(isNaN(t)&&void 0!==h.enums)return t=s,C();if(h.integer&&(!Q(S=t)||Math.floor(S)!==S))return null;if(void 0!==h.min&&(t<h.min||h.strictMin&&t===h.min)||void 0!==h.max&&(t>h.max||h.strictMax&&t===h.max))return null;var I={name:e,value:t,strValue:""+t+(N||""),units:N,bypass:n};return h.unitless||"px"!==N&&"em"!==N?I.pfValue=t:I.pfValue="px"!==N&&N?this.getEmSizeInPixels()*t:t,"ms"!==N&&"s"!==N||(I.pfValue="ms"===N?t:1e3*t),"deg"!==N&&"rad"!==N||(I.pfValue="rad"===N?t:(k=t,Math.PI*k/180)),"%"===N&&(I.pfValue=t/100),I}if(h.propList){var L=[],P=""+t;if("none"===P);else{for(var D=P.split(/\s*,\s*|\s+/),B=0;B<D.length;B++){var F=D[B].trim();i.properties[F]?L.push(F):it()}if(0===L.length)return null}return{name:e,value:L,strValue:0===L.length?"none":L.join(" "),bypass:n}}if(h.color){var z=we(t);return z?{name:e,value:z,pfValue:z,strValue:"rgb("+z[0]+","+z[1]+","+z[2]+")",bypass:n}:null}if(h.regex||h.regexes){if(h.enums){var $=C();if($)return $}for(var j=h.regexes?h.regexes:[h.regex],U=0;U<j.length;U++){var H=new RegExp(j[U]).exec(t);if(H)return{name:e,value:h.singleRegexMatchValue?H[1]:H,strValue:""+t,bypass:n}}return null}return h.string?{name:e,value:""+t,strValue:""+t,bypass:n}:h.enums?C():null};var vc=function(e){if(!(this instanceof vc))return new vc(e);re(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):nt("A style must have a core reference")},yc=vc.prototype;yc.instanceString=function(){return"style"},yc.clear=function(){for(var e=this._private,t=e.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach(function(e){var t=e[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1}),this},yc.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},yc.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},yc.selector=function(e){var t="core"===e?null:new ia(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},yc.css=function(){var e=arguments;if(1===e.length)for(var t=e[0],n=0;n<this.properties.length;n++){var r=this.properties[n],i=t[r.name];void 0===i&&(i=t[ce(r.name)]),void 0!==i&&this.cssRule(r.name,i)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},yc.style=yc.css,yc.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.name.match(/stripe-(\d+)-background-size/)&&n.value&&(this._private.hasStripe=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},yc.append=function(e){return ie(e)?e.appendToStyle(this):K(e)?this.appendFromJson(e):q(e)&&this.appendFromString(e),this},vc.fromJson=function(e,t){var n=new vc(e);return n.fromJson(t),n},vc.fromString=function(e,t){return new vc(e).fromString(t)},[lc,uc,hc,dc,pc,fc,gc,mc].forEach(function(e){be(yc,e)}),vc.types=yc.types,vc.properties=yc.properties,vc.propertyGroups=yc.propertyGroups,vc.propertyGroupNames=yc.propertyGroupNames,vc.propertyGroupKeys=yc.propertyGroupKeys;var bc={style:function(e){e&&this.setStyle(e).update();return this._private.style},setStyle:function(e){var t=this._private;return ie(e)?t.style=e.generateStyle(this):K(e)?t.style=vc.fromJson(this,e):q(e)?t.style=vc.fromString(this,e):t.style=vc(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},wc={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,r,i,o=arguments,s=this._private.pan;switch(o.length){case 0:return s;case 1:if(q(o[0]))return s[e=o[0]];if(Z(o[0])){if(!this._private.panningEnabled)return this;r=(n=o[0]).x,i=n.y,Q(r)&&(s.x=r),Q(i)&&(s.y=i),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=o[1],"x"!==(e=o[0])&&"y"!==e||!Q(t)||(s[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var n,r,i,o,s,a=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(a.length){case 1:Z(e)&&(o=(i=a[0]).x,s=i.y,Q(o)&&(l.x+=o),Q(s)&&(l.y+=s),this.emit("pan viewport"));break;case 2:r=t,"x"!==(n=e)&&"y"!==n||!Q(r)||(l[n]+=r),this.emit("pan viewport")}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(Q(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n,r;if(q(e)){var i=e;e=this.$(i)}else if(Z(r=e)&&Q(r.x1)&&Q(r.x2)&&Q(r.y1)&&Q(r.y2)){var o=e;(n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else ee(e)||(e=this.mutableElements());if(!ee(e)||!e.empty()){n=n||e.boundingBox();var s,a=this.width(),l=this.height();if(t=Q(t)?t:0,!isNaN(a)&&!isNaN(l)&&a>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:s=(s=(s=Math.min((a-2*t)/n.w,(l-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:s)<this._private.minZoom?this._private.minZoom:s,pan:{x:(a-s*(n.x1+n.x2))/2,y:(l-s*(n.y1+n.y2))/2}}}}},zoomRange:function(e,t){var n=this._private;if(null==t){var r=e;e=r.min,t=r.max}return Q(e)&&Q(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):Q(e)&&void 0===t&&e<=n.maxZoom?n.minZoom=e:Q(t)&&void 0===e&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,n,r=this._private,i=r.pan,o=r.zoom,s=!1;if(r.zoomingEnabled||(s=!0),Q(e)?n=e:Z(e)&&(n=e.level,null!=e.position?t=jt(e.position,o,i):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||r.panningEnabled||(s=!0)),n=(n=n>r.maxZoom?r.maxZoom:n)<r.minZoom?r.minZoom:n,s||!Q(n)||n===o||null!=t&&(!Q(t.x)||!Q(t.y)))return null;if(null!=t){var a=i,l=o,c=n;return{zoomed:!0,panned:!0,zoom:c,pan:{x:-c/l*(t.x-a.x)+t.x,y:-c/l*(t.y-a.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:n,pan:i}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,n=!0,r=!0,i=[],o=!1,s=!1;if(!e)return this;if(Q(e.zoom)||(n=!1),Z(e.pan)||(r=!1),!n&&!r)return this;if(n){var a=e.zoom;a<t.minZoom||a>t.maxZoom||!t.zoomingEnabled?o=!0:(t.zoom=a,i.push("zoom"))}if(r&&(!o||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;Q(l.x)&&(t.pan.x=l.x,s=!1),Q(l.y)&&(t.pan.y=l.y,s=!1),s||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(q(e)){var n=e;e=this.mutableElements().filter(n)}else ee(e)||(e=this.mutableElements());if(0!==e.length){var r=e.boundingBox(),i=this.width(),o=this.height();return{x:(i-(t=void 0===t?this._private.zoom:t)*(r.x1+r.x2))/2,y:(o-t*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e,t,n=this._private,r=n.container,i=this;return n.sizeCache=n.sizeCache||(r?(e=i.window().getComputedStyle(r),t=function(t){return parseFloat(e.getPropertyValue(t))},{width:r.clientWidth-t("padding-left")-t("padding-right"),height:r.clientHeight-t("padding-top")-t("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){return e?(this._private.multiClickDebounceTime=e,this):this._private.multiClickDebounceTime}};wc.centre=wc.center,wc.autolockNodes=wc.autolock,wc.autoungrabifyNodes=wc.autoungrabify;var xc={data:ws.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ws.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ws.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ws.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};xc.attr=xc.data,xc.removeAttr=xc.removeData;var _c=function(e){var t=this,n=(e=be({},e)).container;n&&!J(n)&&J(n[0])&&(n=n[0]);var r=n?n._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var i=r.readies=r.readies||[];n&&(n._cyreg=r),r.cy=t;var o=void 0!==p&&void 0!==n&&!e.headless,s=e;s.layout=be({name:o?"grid":"null"},s.layout),s.renderer=be({name:o?"canvas":"null"},s.renderer);var a=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},l=this._private={container:n,ready:!1,options:s,elements:new Fl(this),listeners:[],aniEles:new Fl(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:a(!0,s.zoomingEnabled),userZoomingEnabled:a(!0,s.userZoomingEnabled),panningEnabled:a(!0,s.panningEnabled),userPanningEnabled:a(!0,s.userPanningEnabled),boxSelectionEnabled:a(!0,s.boxSelectionEnabled),autolock:a(!1,s.autolock,s.autolockNodes),autoungrabify:a(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:a(!1,s.autounselectify),styleEnabled:void 0===s.styleEnabled?o:s.styleEnabled,zoom:Q(s.zoom)?s.zoom:1,pan:{x:Z(s.pan)&&Q(s.pan.x)?s.pan.x:0,y:Z(s.pan)&&Q(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:a(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});l.styleEnabled&&t.setStyle([]);var c=be({},s,s.renderer);t.initRenderer(c);!function(e,t){if(e.some(se))return Yr.all(e).then(t);t(e)}([s.style,s.elements],function(e){var n=e[0],o=e[1];l.styleEnabled&&t.style().append(n),function(e,n,r){t.notifications(!1);var i=t.mutableElements();i.length>0&&i.remove(),null!=e&&(Z(e)||K(e))&&t.add(e),t.one("layoutready",function(e){t.notifications(!0),t.emit(e),t.one("load",n),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",r),t.emit("done")});var o=be({},t._private.options.layout);o.eles=t.elements(),t.layout(o).run()}(o,function(){t.startAnimationLoop(),l.ready=!0,X(s.ready)&&t.on("ready",s.ready);for(var e=0;e<i.length;e++){var n=i[e];t.on("ready",n)}r&&(r.readies=[]),t.emit("ready")},s.done)})},Ac=_c.prototype;be(Ac,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return p;var e=this._private.container.ownerDocument;return void 0===e||null==e?p:e.defaultView||p},mount:function(e){if(null!=e){var t=this,n=t._private,r=n.options;return!J(e)&&J(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(be({},r,r.renderer,{name:"null"===r.renderer.name?"canvas":r.renderer.name})),t.startAnimationLoop(),t.style(r.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return ot(this._private.options)},json:function(e){var t=this,n=t._private,r=t.mutableElements();if(Z(e)){if(t.startBatch(),e.elements){var i={},o=function(e,n){for(var r=[],o=[],s=0;s<e.length;s++){var a=e[s];if(a.data.id){var l=""+a.data.id,c=t.getElementById(l);i[l]=!0,0!==c.length?o.push({ele:c,json:a}):n?(a.group=n,r.push(a)):r.push(a)}else it()}t.add(r);for(var u=0;u<o.length;u++){var h=o[u],d=h.ele,p=h.json;d.json(p)}};if(K(e.elements))o(e.elements);else for(var s=["nodes","edges"],a=0;a<s.length;a++){var l=s[a],c=e.elements[l];K(c)&&o(c,l)}var u=t.collection();r.filter(function(e){return!i[e.id()]}).forEach(function(e){e.isParent()?u.merge(e):e.remove()}),u.forEach(function(e){return e.children().move({parent:null})}),u.forEach(function(e){return function(e){return t.getElementById(e.id())}(e).remove()})}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan)),e.data&&t.data(e.data);for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],d=0;d<h.length;d++){var p=h[d];null!=e[p]&&t[p](e[p])}return t.endBatch(),this}var f={};!!e?f.elements=this.elements().map(function(e){return e.json()}):(f.elements={},r.forEach(function(e){var t=e.group();f.elements[t]||(f.elements[t]=[]),f.elements[t].push(e.json())})),this._private.styleEnabled&&(f.style=t.style().json()),f.data=ot(t.data());var g=n.options;return f.zoomingEnabled=n.zoomingEnabled,f.userZoomingEnabled=n.userZoomingEnabled,f.zoom=n.zoom,f.minZoom=n.minZoom,f.maxZoom=n.maxZoom,f.panningEnabled=n.panningEnabled,f.userPanningEnabled=n.userPanningEnabled,f.pan=ot(n.pan),f.boxSelectionEnabled=n.boxSelectionEnabled,f.renderer=ot(g.renderer),f.hideEdgesOnViewport=g.hideEdgesOnViewport,f.textureOnViewport=g.textureOnViewport,f.wheelSensitivity=g.wheelSensitivity,f.motionBlur=g.motionBlur,f.multiClickDebounceTime=g.multiClickDebounceTime,f}}),Ac.$id=Ac.getElementById,[$l,Ql,tc,nc,rc,ic,sc,ac,bc,wc,xc].forEach(function(e){be(Ac,e)});var Tc={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},Ec={maximal:!1,acyclic:!1},kc=function(e){return e.scratch("breadthfirst")},Sc=function(e,t){return e.scratch("breadthfirst",t)};function Cc(e){this.options=be({},Tc,Ec,e)}Cc.prototype.run=function(){var e,t=this.options,n=t.cy,r=t.eles,i=r.nodes().filter(function(e){return e.isChildless()}),o=r,s=t.directed,a=t.acyclic||t.maximal||t.maximalAdjustments>0,l=!!t.boundingBox,c=Jt(l?t.boundingBox:structuredClone(n.extent()));if(ee(t.roots))e=t.roots;else if(K(t.roots)){for(var u=[],h=0;h<t.roots.length;h++){var d=t.roots[h],p=n.getElementById(d);u.push(p)}e=n.collection(u)}else if(q(t.roots))e=n.$(t.roots);else if(s)e=i.roots();else{var f=r.components();e=n.collection();for(var g=function(){var t=f[m],n=t.maxDegree(!1),r=t.filter(function(e){return e.degree(!1)===n});e=e.add(r)},m=0;m<f.length;m++)g()}var v=[],y={},b=function(e,t){null==v[t]&&(v[t]=[]);var n=v[t].length;v[t].push(e),Sc(e,{index:n,depth:t})};o.bfs({roots:e,directed:t.directed,visit:function(e,t,n,r,i){var o=e[0],s=o.id();o.isChildless()&&b(o,i),y[s]=!0}});for(var w=[],x=0;x<i.length;x++){var _=i[x];y[_.id()]||w.push(_)}var A=function(e){for(var t=v[e],n=0;n<t.length;n++){var r=t[n];null!=r?Sc(r,{depth:e,index:n}):(t.splice(n,1),n--)}},T=function(e,n){for(var i=kc(e),o=e.incomers().filter(function(e){return e.isNode()&&r.has(e)}),s=-1,a=e.id(),l=0;l<o.length;l++){var c=o[l],u=kc(c);s=Math.max(s,u.depth)}if(i.depth<=s){if(!t.acyclic&&n[a])return null;var h=s+1;return function(e,t){var n=kc(e),r=n.depth,i=n.index;v[r][i]=null,e.isChildless()&&b(e,t)}(e,h),n[a]=h,!0}return!1};if(s&&a){var E=[],k={},S=function(e){return E.push(e)},C=function(){return E.shift()};for(i.forEach(function(e){return E.push(e)});E.length>0;){var N=C(),M=T(N,k);if(M)N.outgoers().filter(function(e){return e.isNode()&&r.has(e)}).forEach(S);else if(null===M){it(N.id());break}}}var O=0;if(t.avoidOverlap)for(var R=0;R<i.length;R++){var I=i[R].layoutDimensions(t),L=I.w,P=I.h;O=Math.max(O,L,P)}var D={},B=function(e){if(D[e.id()])return D[e.id()];for(var t=kc(e).depth,n=e.neighborhood(),r=0,o=0,s=0;s<n.length;s++){var a=n[s];if(!a.isEdge()&&!a.isParent()&&i.has(a)){var l=kc(a);if(null!=l){var c=l.index,u=l.depth;if(null!=c&&null!=u){var h=v[u].length;u<t&&(r+=c/h,o++)}}}}return r/=o=Math.max(1,o),0===o&&(r=0),D[e.id()]=r,r},F=function(e,t){var n=B(e)-B(t);return 0===n?ye(e.id(),t.id()):n};void 0!==t.depthSort&&(F=t.depthSort);for(var z=v.length,$=0;$<z;$++)v[$].sort(F),A($);for(var j=[],U=0;U<w.length;U++)j.push(w[U]);j.length&&(v.unshift(j),z=v.length,function(){for(var e=0;e<z;e++)A(e)}());for(var H=0,G=0;G<z;G++)H=Math.max(v[G].length,H);var V=c.x1+c.w/2,W=c.y1+c.h/2,Y=i.reduce(function(e,n){return r=n.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}),{w:-1===e.w?r.w:(e.w+r.w)/2,h:-1===e.h?r.h:(e.h+r.h)/2};var r},{w:-1,h:-1}),X=Math.max(1===z?0:l?(c.h-2*t.padding-Y.h)/(z-1):(c.h-2*t.padding-Y.h)/(z+1),O),Z=v.reduce(function(e,t){return Math.max(e,t.length)},0),Q={downward:0,leftward:90,upward:180,rightward:-90};-1===Object.keys(Q).indexOf(t.direction)&&nt("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Q).join(", ")));return r.nodes().layoutPositions(this,t,function(e){return Xe(function(e){var n=kc(e),r=n.depth,i=n.index;if(t.circle){var o=Math.min(c.w/2/z,c.h/2/z),s=(o=Math.max(o,O))*r+o-(z>0&&v[0].length<=3?o/2:0),a=2*Math.PI/v[r].length*i;return 0===r&&1===v[0].length&&(s=1),{x:V+s*Math.cos(a),y:W+s*Math.sin(a)}}var u=v[r].length,h=Math.max(1===u?0:l?(c.w-2*t.padding-Y.w)/((t.grid?Z:u)-1):(c.w-2*t.padding-Y.w)/((t.grid?Z:u)+1),O);return{x:V+(i+1-(u+1)/2)*h,y:W+(r+1-(z+1)/2)*X}}(e),c,Q[t.direction])}),this};var Nc={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Mc(e){this.options=be({},Nc,e)}Mc.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,o=r.nodes().not(":parent");t.sort&&(o=o.sort(t.sort));for(var s,a=Jt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l=a.x1+a.w/2,c=a.y1+a.h/2,u=(void 0===t.sweep?2*Math.PI-2*Math.PI/o.length:t.sweep)/Math.max(1,o.length-1),h=0,d=0;d<o.length;d++){var p=o[d].layoutDimensions(t),f=p.w,g=p.h;h=Math.max(h,f,g)}if(s=Q(t.radius)?t.radius:o.length<=1?0:Math.min(a.h,a.w)/2-h,o.length>1&&t.avoidOverlap){h*=1.75;var m=Math.cos(u)-Math.cos(0),v=Math.sin(u)-Math.sin(0),y=Math.sqrt(h*h/(m*m+v*v));s=Math.max(y,s)}return r.nodes().layoutPositions(this,t,function(e,n){var r=t.startAngle+n*u*(i?1:-1),o=s*Math.cos(r),a=s*Math.sin(r);return{x:l+o,y:c+a}}),this};var Oc,Rc={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Ic(e){this.options=be({},Rc,e)}Ic.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,i=t.eles,o=i.nodes().not(":parent"),s=Jt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),a=s.x1+s.w/2,l=s.y1+s.h/2,c=[],u=0,h=0;h<o.length;h++){var d,p=o[h];d=t.concentric(p),c.push({value:d,node:p}),p._private.scratch.concentric=d}o.updateStyle();for(var f=0;f<o.length;f++){var g=o[f].layoutDimensions(t);u=Math.max(u,g.w,g.h)}c.sort(function(e,t){return t.value-e.value});for(var m=t.levelWidth(o),v=[[]],y=v[0],b=0;b<c.length;b++){var w=c[b];if(y.length>0)Math.abs(y[0].value-w.value)>=m&&(y=[],v.push(y));y.push(w)}var x=u+t.minNodeSpacing;if(!t.avoidOverlap){var _=v.length>0&&v[0].length>1,A=(Math.min(s.w,s.h)/2-x)/(v.length+_?1:0);x=Math.min(x,A)}for(var T=0,E=0;E<v.length;E++){var k=v[E],S=void 0===t.sweep?2*Math.PI-2*Math.PI/k.length:t.sweep,C=k.dTheta=S/Math.max(1,k.length-1);if(k.length>1&&t.avoidOverlap){var N=Math.cos(C)-Math.cos(0),M=Math.sin(C)-Math.sin(0),O=Math.sqrt(x*x/(N*N+M*M));T=Math.max(O,T)}k.r=T,T+=x}if(t.equidistant){for(var R=0,I=0,L=0;L<v.length;L++){var P=v[L].r-I;R=Math.max(R,P)}I=0;for(var D=0;D<v.length;D++){var B=v[D];0===D&&(I=B.r),B.r=I,I+=R}}for(var F={},z=0;z<v.length;z++)for(var $=v[z],j=$.dTheta,U=$.r,H=0;H<$.length;H++){var G=$[H],V=t.startAngle+(n?1:-1)*j*H,W={x:a+U*Math.cos(V),y:l+U*Math.sin(V)};F[G.node.id()]=W}return i.nodes().layoutPositions(this,t,function(e){var t=e.id();return F[t]}),this};var Lc={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Pc(e){this.options=be({},Lc,e),this.options.layout=this;var t=this.options.eles.nodes(),n=this.options.eles.edges().filter(function(e){var n=e.source().data("id"),r=e.target().data("id"),i=t.some(function(e){return e.data("id")===n}),o=t.some(function(e){return e.data("id")===r});return!i||!o});this.options.eles=this.options.eles.not(n)}Pc.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,!0!==e.animate&&!1!==e.animate||n.emit({type:"layoutstart",layout:n}),Oc=!0===e.debug;var r=Dc(t,n,e);Oc&&undefined(r),e.randomize&&zc(r);var i=Be(),o=function(){jc(r,t,e),!0===e.fit&&t.fit(e.padding)},s=function(t){return!(n.stopped||t>=e.numIter)&&(Uc(r,e),r.temperature=r.temperature*e.coolingFactor,!(r.temperature<e.minTemp))},a=function(){if(!0===e.animate||!1===e.animate)o(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var t=e.eles.nodes(),i=$c(r,e,t);t.layoutPositions(n,e,i)}},l=0,c=!0;if(!0===e.animate){var u=function(){for(var t=0;c&&t<e.refresh;)c=s(l),l++,t++;c?(Be()-i>=e.animationThreshold&&o(),De(u)):(eu(r,e),a())};u()}else{for(;c;)c=s(l),l++;eu(r,e),a()}return this},Pc.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Pc.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Dc=function(e,t,n){for(var r=n.eles.edges(),i=n.eles.nodes(),o=Jt(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},a=n.eles.components(),l={},c=0;c<a.length;c++)for(var u=a[c],h=0;h<u.length;h++){l[u[h].id()]=c}for(c=0;c<s.nodeSize;c++){var d=(v=i[c]).layoutDimensions(n);(I={}).isLocked=v.locked(),I.id=v.data("id"),I.parentId=v.data("parent"),I.cmptId=l[v.id()],I.children=[],I.positionX=v.position("x"),I.positionY=v.position("y"),I.offsetX=0,I.offsetY=0,I.height=d.w,I.width=d.h,I.maxX=I.positionX+I.width/2,I.minX=I.positionX-I.width/2,I.maxY=I.positionY+I.height/2,I.minY=I.positionY-I.height/2,I.padLeft=parseFloat(v.style("padding")),I.padRight=parseFloat(v.style("padding")),I.padTop=parseFloat(v.style("padding")),I.padBottom=parseFloat(v.style("padding")),I.nodeRepulsion=X(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,s.layoutNodes.push(I),s.idToIndex[I.id]=c}var p=[],f=0,g=-1,m=[];for(c=0;c<s.nodeSize;c++){var v,y=(v=s.layoutNodes[c]).parentId;null!=y?s.layoutNodes[s.idToIndex[y]].children.push(v.id):(p[++g]=v.id,m.push(v.id))}for(s.graphSet.push(m);f<=g;){var b=p[f++],w=s.idToIndex[b],x=s.layoutNodes[w].children;if(x.length>0){s.graphSet.push(x);for(c=0;c<x.length;c++)p[++g]=x[c]}}for(c=0;c<s.graphSet.length;c++){var _=s.graphSet[c];for(h=0;h<_.length;h++){var A=s.idToIndex[_[h]];s.indexToGraph[A]=c}}for(c=0;c<s.edgeSize;c++){var T=r[c],E={};E.id=T.data("id"),E.sourceId=T.data("source"),E.targetId=T.data("target");var k=X(n.idealEdgeLength)?n.idealEdgeLength(T):n.idealEdgeLength,S=X(n.edgeElasticity)?n.edgeElasticity(T):n.edgeElasticity,C=s.idToIndex[E.sourceId],N=s.idToIndex[E.targetId];if(s.indexToGraph[C]!=s.indexToGraph[N]){for(var M=Bc(E.sourceId,E.targetId,s),O=s.graphSet[M],R=0,I=s.layoutNodes[C];-1===O.indexOf(I.id);)I=s.layoutNodes[s.idToIndex[I.parentId]],R++;for(I=s.layoutNodes[N];-1===O.indexOf(I.id);)I=s.layoutNodes[s.idToIndex[I.parentId]],R++;k*=R*n.nestingFactor}E.idealLength=k,E.elasticity=S,s.layoutEdges.push(E)}return s},Bc=function(e,t,n){var r=Fc(e,t,0,n);return 2>r.count?0:r.graph},Fc=function(e,t,n,r){var i=r.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(t))return{count:2,graph:n};for(var o=0,s=0;s<i.length;s++){var a=i[s],l=r.idToIndex[a],c=r.layoutNodes[l].children;if(0!==c.length){var u=r.indexToGraph[r.idToIndex[c[0]]],h=Fc(e,t,u,r);if(0!==h.count){if(1!==h.count)return h;if(2===++o)break}}}return{count:o,graph:n}},zc=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,i=0;i<e.nodeSize;i++){var o=e.layoutNodes[i];0!==o.children.length||o.isLocked||(o.positionX=Math.random()*n,o.positionY=Math.random()*r)}},$c=function(e,t,n){var r=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach(function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];i.x1=Math.min(i.x1,n.positionX),i.x2=Math.max(i.x2,n.positionX),i.y1=Math.min(i.y1,n.positionY),i.y2=Math.max(i.y2,n.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(n,o){var s=e.layoutNodes[e.idToIndex[n.data("id")]];if(t.boundingBox){var a=0===i.w?.5:(s.positionX-i.x1)/i.w,l=0===i.h?.5:(s.positionY-i.y1)/i.h;return{x:r.x1+a*r.w,y:r.y1+l*r.h}}return{x:s.positionX,y:s.positionY}}},jc=function(e,t,n){var r=n.layout,i=n.eles.nodes(),o=$c(e,n,i);i.positions(o),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))},Uc=function(e,t,n){Hc(e,t),qc(e),Xc(e,t),Kc(e),Zc(e)},Hc=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],i=r.length,o=0;o<i;o++)for(var s=e.layoutNodes[e.idToIndex[r[o]]],a=o+1;a<i;a++){var l=e.layoutNodes[e.idToIndex[r[a]]];Vc(s,l,e,t)}},Gc=function(e){return 2*e*Math.random()-1},Vc=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var i=t.positionX-e.positionX,o=t.positionY-e.positionY;0===i&&0===o&&(i=Gc(1),o=Gc(1));var s=Wc(e,t,i,o);if(s>0)var a=(c=r.nodeOverlap*s)*i/(g=Math.sqrt(i*i+o*o)),l=c*o/g;else{var c,u=Yc(e,i,o),h=Yc(t,-1*i,-1*o),d=h.x-u.x,p=h.y-u.y,f=d*d+p*p,g=Math.sqrt(f);a=(c=(e.nodeRepulsion+t.nodeRepulsion)/f)*d/g,l=c*p/g}e.isLocked||(e.offsetX-=a,e.offsetY-=l),t.isLocked||(t.offsetX+=a,t.offsetY+=l)}},Wc=function(e,t,n,r){if(n>0)var i=e.maxX-t.minX;else i=t.maxX-e.minX;if(r>0)var o=e.maxY-t.minY;else o=t.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},Yc=function(e,t,n){var r=e.positionX,i=e.positionY,o=e.height||1,s=e.width||1,a=n/t,l=o/s,c={};return 0===t&&0<n||0===t&&0>n?(c.x=r,c.y=i+o/2,c):0<t&&-1*l<=a&&a<=l?(c.x=r+s/2,c.y=i+s*n/2/t,c):0>t&&-1*l<=a&&a<=l?(c.x=r-s/2,c.y=i-s*n/2/t,c):0<n&&(a<=-1*l||a>=l)?(c.x=r+o*t/2/n,c.y=i+o/2,c):0>n&&(a<=-1*l||a>=l)?(c.x=r-o*t/2/n,c.y=i-o/2,c):c},qc=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],i=e.idToIndex[r.sourceId],o=e.layoutNodes[i],s=e.idToIndex[r.targetId],a=e.layoutNodes[s],l=a.positionX-o.positionX,c=a.positionY-o.positionY;if(0!==l||0!==c){var u=Yc(o,l,c),h=Yc(a,-1*l,-1*c),d=h.x-u.x,p=h.y-u.y,f=Math.sqrt(d*d+p*p),g=Math.pow(r.idealLength-f,2)/r.elasticity;if(0!==f)var m=g*d/f,v=g*p/f;else m=0,v=0;o.isLocked||(o.offsetX+=m,o.offsetY+=v),a.isLocked||(a.offsetX-=m,a.offsetY-=v)}}},Xc=function(e,t){if(0!==t.gravity)for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],i=r.length;if(0===n)var o=e.clientHeight/2,s=e.clientWidth/2;else{var a=e.layoutNodes[e.idToIndex[r[0]]],l=e.layoutNodes[e.idToIndex[a.parentId]];o=l.positionX,s=l.positionY}for(var c=0;c<i;c++){var u=e.layoutNodes[e.idToIndex[r[c]]];if(!u.isLocked){var h=o-u.positionX,d=s-u.positionY,p=Math.sqrt(h*h+d*d);if(p>1){var f=t.gravity*h/p,g=t.gravity*d/p;u.offsetX+=f,u.offsetY+=g}}}}},Kc=function(e,t){var n=[],r=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;r<=i;){var o=n[r++],s=e.idToIndex[o],a=e.layoutNodes[s],l=a.children;if(0<l.length&&!a.isLocked){for(var c=a.offsetX,u=a.offsetY,h=0;h<l.length;h++){var d=e.layoutNodes[e.idToIndex[l[h]]];d.offsetX+=c,d.offsetY+=u,n[++i]=l[h]}a.offsetX=0,a.offsetY=0}}},Zc=function(e,t){for(var n=0;n<e.nodeSize;n++){0<(i=e.layoutNodes[n]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(n=0;n<e.nodeSize;n++){if(!(0<(i=e.layoutNodes[n]).children.length||i.isLocked)){var r=Qc(i.offsetX,i.offsetY,e.temperature);i.positionX+=r.x,i.positionY+=r.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,Jc(i,e)}}for(n=0;n<e.nodeSize;n++){var i;0<(i=e.layoutNodes[n]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},Qc=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var i={x:n*e/r,y:n*t/r};else i={x:e,y:t};return i},Jc=function(e,t){var n=e.parentId;if(null!=n){var r=t.layoutNodes[t.idToIndex[n]],i=!1;return(null==r.maxX||e.maxX+r.padRight>r.maxX)&&(r.maxX=e.maxX+r.padRight,i=!0),(null==r.minX||e.minX-r.padLeft<r.minX)&&(r.minX=e.minX-r.padLeft,i=!0),(null==r.maxY||e.maxY+r.padBottom>r.maxY)&&(r.maxY=e.maxY+r.padBottom,i=!0),(null==r.minY||e.minY-r.padTop<r.minY)&&(r.minY=e.minY-r.padTop,i=!0),i?Jc(r,t):void 0}},eu=function(e,t){for(var n=e.layoutNodes,r=[],i=0;i<n.length;i++){var o=n[i],s=o.cmptId;(r[s]=r[s]||[]).push(o)}var a=0;for(i=0;i<r.length;i++){if(g=r[i]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var l=0;l<g.length;l++){var c=g[l];g.x1=Math.min(g.x1,c.positionX-c.width/2),g.x2=Math.max(g.x2,c.positionX+c.width/2),g.y1=Math.min(g.y1,c.positionY-c.height/2),g.y2=Math.max(g.y2,c.positionY+c.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,a+=g.w*g.h}}r.sort(function(e,t){return t.w*t.h-e.w*e.h});var u=0,h=0,d=0,p=0,f=Math.sqrt(a)*e.clientWidth/e.clientHeight;for(i=0;i<r.length;i++){var g;if(g=r[i]){for(l=0;l<g.length;l++){(c=g[l]).isLocked||(c.positionX+=u-g.x1,c.positionY+=h-g.y1)}u+=g.w+t.componentSpacing,d+=g.w+t.componentSpacing,p=Math.max(p,g.h),d>f&&(h+=p+t.componentSpacing,u=0,d=0,p=0)}}},tu={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function nu(e){this.options=be({},tu,e)}nu.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=r.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var o=Jt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===o.h||0===o.w)r.nodes().layoutPositions(this,t,function(e){return{x:o.x1,y:o.y1}});else{var s=i.size(),a=Math.sqrt(s*o.h/o.w),l=Math.round(a),c=Math.round(o.w/o.h*a),u=function(e){if(null==e)return Math.min(l,c);Math.min(l,c)==l?l=e:c=e},h=function(e){if(null==e)return Math.max(l,c);Math.max(l,c)==l?l=e:c=e},d=t.rows,p=null!=t.cols?t.cols:t.columns;if(null!=d&&null!=p)l=d,c=p;else if(null!=d&&null==p)l=d,c=Math.ceil(s/l);else if(null==d&&null!=p)c=p,l=Math.ceil(s/c);else if(c*l>s){var f=u(),g=h();(f-1)*g>=s?u(f-1):(g-1)*f>=s&&h(g-1)}else for(;c*l<s;){var m=u(),v=h();(v+1)*m>=s?h(v+1):u(m+1)}var y=o.w/c,b=o.h/l;if(t.condense&&(y=0,b=0),t.avoidOverlap)for(var w=0;w<i.length;w++){var x=i[w],_=x._private.position;null!=_.x&&null!=_.y||(_.x=0,_.y=0);var A=x.layoutDimensions(t),T=t.avoidOverlapPadding,E=A.w+T,k=A.h+T;y=Math.max(y,E),b=Math.max(b,k)}for(var S={},C=function(e,t){return!!S["c-"+e+"-"+t]},N=function(e,t){S["c-"+e+"-"+t]=!0},M=0,O=0,R=function(){++O>=c&&(O=0,M++)},I={},L=0;L<i.length;L++){var P=i[L],D=t.position(P);if(D&&(void 0!==D.row||void 0!==D.col)){var B={row:D.row,col:D.col};if(void 0===B.col)for(B.col=0;C(B.row,B.col);)B.col++;else if(void 0===B.row)for(B.row=0;C(B.row,B.col);)B.row++;I[P.id()]=B,N(B.row,B.col)}}i.layoutPositions(this,t,function(e,t){var n,r;if(e.locked()||e.isParent())return!1;var i=I[e.id()];if(i)n=i.col*y+y/2+o.x1,r=i.row*b+b/2+o.y1;else{for(;C(M,O);)R();n=O*y+y/2+o.x1,r=M*b+b/2+o.y1,N(M,O),R()}return{x:n,y:r}})}return this};var ru={ready:function(){},stop:function(){}};function iu(e){this.options=be({},ru,e)}iu.prototype.run=function(){var e=this.options,t=e.eles,n=this;return e.cy,n.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this},iu.prototype.stop=function(){return this};var ou={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function su(e){this.options=be({},ou,e)}su.prototype.run=function(){var e=this.options,t=e.eles.nodes(),n=X(e.positions);return t.layoutPositions(this,e,function(t,r){var i=function(t){if(null==e.positions)return function(e){return{x:e.x,y:e.y}}(t.position());if(n)return e.positions(t);var r=e.positions[t._private.data.id];return null==r?null:r}(t);return!t.locked()&&null!=i&&i}),this};var au={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function lu(e){this.options=be({},au,e)}lu.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=Jt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.nodes().layoutPositions(this,e,function(e,t){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}}),this};var cu=[{name:"breadthfirst",impl:Cc},{name:"circle",impl:Mc},{name:"concentric",impl:Ic},{name:"cose",impl:Pc},{name:"grid",impl:nu},{name:"null",impl:iu},{name:"preset",impl:su},{name:"random",impl:lu}];function uu(e){this.options=e,this.notifications=0}var hu=function(){},du=function(){throw new Error("A headless instance can not render images")};uu.prototype={recalculateRenderedStyle:hu,notify:function(){this.notifications++},init:hu,isHeadless:function(){return!0},png:du,jpg:du};var pu={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,r,i,o,s){var a=i.x-n/2-s,l=i.x+n/2+s,c=i.y-n/2-s,u=i.y+n/2+s;return a<=e&&e<=l&&c<=t&&t<=u},r=function(e,t,n,r,i){var o=e*Math.cos(r)-t*Math.sin(r),s=(e*Math.sin(r)+t*Math.cos(r))*n;return{x:o*n+i.x,y:s+i.y}},i=function(e,t,n,i){for(var o=[],s=0;s<e.length;s+=2){var a=e[s],l=e[s+1];o.push(r(a,l,t,n,i))}return o},o=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},s=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},a=function(r,a){q(a)&&(a=e[a]),e[r]=be({name:r,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,r,s,a){var l=o(i(this.points,n+2*a,r,s));return vn(e,t,l)},roughCollide:n,draw:function(e,n,r,o){var s=i(this.points,n,r,o);t.arrowShapeImpl("polygon")(e,s)},spacing:function(e){return 0},gap:s},a)};a("none",{collide:Je,roughCollide:Je,draw:tt,spacing:et,gap:et}),a("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),a("arrow","triangle"),a("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,o,s,a){var l=i(this.points,n,o,s),c=this.controlPoint,u=r(c[0],c[1],n,o,s);t.arrowShapeImpl(this.name)(e,l,u)},gap:function(e){return.8*s(e)}}),a("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,r,s,a,l){var c=o(i(this.points,n+2*l,r,s)),u=o(i(this.pointsTee,n+2*l,r,s));return vn(e,t,c)||vn(e,t,u)},draw:function(e,n,r,o,s){var a=i(this.points,n,r,o),l=i(this.pointsTee,n,r,o);t.arrowShapeImpl(this.name)(e,a,l)}}),a("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(e,t,n,r,s,a,l){var c=s,u=Math.pow(c.x-e,2)+Math.pow(c.y-t,2)<=Math.pow((n+2*l)*this.radius,2),h=o(i(this.points,n+2*l,r,s));return vn(e,t,h)||u},draw:function(e,n,r,o,s){var a=i(this.pointsTr,n,r,o);t.arrowShapeImpl(this.name)(e,a,o.x,o.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),a("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(e,t,n,r,s,a,l){var c=o(i(this.points,n+2*l,r,s)),u=o(i(this.crossLinePts(n,a),n+2*l,r,s));return vn(e,t,c)||vn(e,t,u)},draw:function(e,n,r,o,s){var a=i(this.points,n,r,o),l=i(this.crossLinePts(n,s),n,r,o);t.arrowShapeImpl(this.name)(e,a,l)}}),a("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*s(e)}}),a("circle",{radius:.15,collide:function(e,t,n,r,i,o,s){var a=i;return Math.pow(a.x-e,2)+Math.pow(a.y-t,2)<=Math.pow((n+2*s)*this.radius,2)},draw:function(e,n,r,i,o){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),a("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),a("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),a("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),a("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},fu={projectIntoViewport:function(e,t){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],o=r[1],s=r[4],a=n.pan(),l=n.zoom();return[((e-i)/s-a.x)/l,((t-o)/s-a.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=this.cy.window().getComputedStyle(e),r=function(e){return parseFloat(n.getPropertyValue(e))},i=r("padding-left"),o=r("padding-right"),s=r("padding-top"),a=r("padding-bottom"),l=r("border-left-width"),c=r("border-right-width"),u=r("border-top-width"),h=(r("border-bottom-width"),e.clientWidth),d=e.clientHeight,p=i+o,f=s+a,g=l+c,m=t.width/(h+g),v=h-p,y=d-f,b=t.left+i+l,w=t.top+s+u;return this.containerBB=[b,w,v,y,m]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},findNearestElements:function(e,t,n,r){var i,o,s=this,a=this,l=a.getCachedZSortedEles(),c=[],u=a.cy.zoom(),h=a.cy.hasCompoundNodes(),d=(r?24:8)/u,p=(r?8:2)/u,f=(r?8:2)/u,g=1/0;function m(e,t){if(e.isNode()){if(o)return;o=e,c.push(e)}if(e.isEdge()&&(null==t||t<g))if(i){if(i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<c.length;n++)if(c[n].isEdge()){c[n]=e,i=e,g=null!=t?t:g;break}}else c.push(e),i=e,g=null!=t?t:g}function v(n){var r=n.outerWidth()+2*p,i=n.outerHeight()+2*p,o=r/2,l=i/2,c=n.position(),u="auto"===n.pstyle("corner-radius").value?"auto":n.pstyle("corner-radius").pfValue,h=n._private.rscratch;if(c.x-o<=e&&e<=c.x+o&&c.y-l<=t&&t<=c.y+l&&a.nodeShapes[s.getNodeShape(n)].checkPoint(e,t,0,r,i,c.x,c.y,u,h))return m(n,0),!0}function y(n){var r,i=n._private,o=i.rscratch,l=n.pstyle("width").pfValue,u=n.pstyle("arrow-scale").value,p=l/2+d,f=p*p,g=2*p,y=i.source,b=i.target;if("segments"===o.edgeType||"straight"===o.edgeType||"haystack"===o.edgeType){for(var w=o.allpts,x=0;x+3<w.length;x+=2)if(pn(e,t,w[x],w[x+1],w[x+2],w[x+3],g)&&f>(r=mn(e,t,w[x],w[x+1],w[x+2],w[x+3])))return m(n,r),!0}else if("bezier"===o.edgeType||"multibezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType)for(w=o.allpts,x=0;x+5<o.allpts.length;x+=4)if(fn(e,t,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5],g)&&f>(r=gn(e,t,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5])))return m(n,r),!0;y=y||i.source,b=b||i.target;var _=s.getArrowWidth(l,u),A=[{name:"source",x:o.arrowStartX,y:o.arrowStartY,angle:o.srcArrowAngle},{name:"target",x:o.arrowEndX,y:o.arrowEndY,angle:o.tgtArrowAngle},{name:"mid-source",x:o.midX,y:o.midY,angle:o.midsrcArrowAngle},{name:"mid-target",x:o.midX,y:o.midY,angle:o.midtgtArrowAngle}];for(x=0;x<A.length;x++){var T=A[x],E=a.arrowShapes[n.pstyle(T.name+"-arrow-shape").value],k=n.pstyle("width").pfValue;if(E.roughCollide(e,t,_,T.angle,{x:T.x,y:T.y},k,d)&&E.collide(e,t,_,T.angle,{x:T.x,y:T.y},k,d))return m(n),!0}h&&c.length>0&&(v(y),v(b))}function b(e,t,n){return dt(e,t,n)}function w(n,r){var i,o=n._private,s=f;i=r?r+"-":"",n.boundingBox();var a=o.labelBounds[r||"main"],l=n.pstyle(i+"label").value;if("yes"===n.pstyle("text-events").strValue&&l){var c=b(o.rscratch,"labelX",r),u=b(o.rscratch,"labelY",r),h=b(o.rscratch,"labelAngle",r),d=n.pstyle(i+"text-margin-x").pfValue,p=n.pstyle(i+"text-margin-y").pfValue,g=a.x1-s-d,v=a.x2+s-d,y=a.y1-s-p,w=a.y2+s-p;if(h){var x=Math.cos(h),_=Math.sin(h),A=function(e,t){return{x:(e-=c)*x-(t-=u)*_+c,y:e*_+t*x+u}},T=A(g,y),E=A(g,w),k=A(v,y),S=A(v,w),C=[T.x+d,T.y+p,k.x+d,k.y+p,S.x+d,S.y+p,E.x+d,E.y+p];if(vn(e,t,C))return m(n),!0}else if(an(a,e,t))return m(n),!0}}n&&(l=l.interactive);for(var x=l.length-1;x>=0;x--){var _=l[x];_.isNode()?v(_)||w(_):y(_)||w(_)||w(_,"source")||w(_,"target")}return c},getAllInBox:function(e,t,n,r){var i=this.getCachedZSortedEles().interactive,o=2/this.cy.zoom(),s=[],a=Math.min(e,n),c=Math.max(e,n),u=Math.min(t,r),h=Math.max(t,r),d=Jt({x1:e=a,y1:t=u,x2:n=c,y2:r=h}),p=[{x:d.x1,y:d.y1},{x:d.x2,y:d.y1},{x:d.x2,y:d.y2},{x:d.x1,y:d.y2}],f=[[p[0],p[1]],[p[1],p[2]],[p[2],p[3]],[p[3],p[0]]];function g(e,t,n){return dt(e,t,n)}function m(e,t){var n=e._private,r=o;e.boundingBox();var i=n.labelBounds.main;if(!i)return null;var s=g(n.rscratch,"labelX",t),a=g(n.rscratch,"labelY",t),l=g(n.rscratch,"labelAngle",t),c=e.pstyle("text-margin-x").pfValue,u=e.pstyle("text-margin-y").pfValue,h=i.x1-r-c,d=i.x2+r-c,p=i.y1-r-u,f=i.y2+r-u;if(l){var m=Math.cos(l),v=Math.sin(l),y=function(e,t){return{x:(e-=s)*m-(t-=a)*v+s,y:e*v+t*m+a}};return[y(h,p),y(d,p),y(d,f),y(h,f)]}return[{x:h,y:p},{x:d,y:p},{x:d,y:f},{x:h,y:f}]}function v(e,t,n,r){function i(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}return i(e,n,r)!==i(t,n,r)&&i(e,t,n)!==i(e,t,r)}for(var y=0;y<i.length;y++){var b=i[y];if(b.isNode()){var w=b,x="yes"===w.pstyle("text-events").strValue,_=w.pstyle("box-selection").strValue,A="yes"===w.pstyle("box-select-labels").strValue;if("none"===_)continue;var T=("overlap"===_||A)&&x,E=w.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:T});if("contain"===_){var k=!1;if(A&&x){var S=m(w);S&&Ln(S,p)&&(s.push(w),k=!0)}!k&&cn(d,E)&&s.push(w)}else if("overlap"===_&&sn(d,E)){var C=w.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1});if(Ln([{x:C.x1,y:C.y1},{x:C.x2,y:C.y1},{x:C.x2,y:C.y2},{x:C.x1,y:C.y2}],p))s.push(w);else{var N=m(w);N&&Ln(N,p)&&s.push(w)}}}else{var M=b,O=M._private,R=O.rscratch,I=M.pstyle("box-selection").strValue;if("none"===I)continue;if("contain"===I){if(null!=R.startX&&null!=R.startY&&!an(d,R.startX,R.startY))continue;if(null!=R.endX&&null!=R.endY&&!an(d,R.endX,R.endY))continue;if("bezier"===R.edgeType||"multibezier"===R.edgeType||"self"===R.edgeType||"compound"===R.edgeType||"segments"===R.edgeType||"haystack"===R.edgeType){for(var L=O.rstyle.bezierPts||O.rstyle.linePts||O.rstyle.haystackPts,P=!0,D=0;D<L.length;D++)if(!ln(d,L[D])){P=!1;break}P&&s.push(M)}else"straight"===R.edgeType&&s.push(M)}else if("overlap"===I){var B=!1;if(null!=R.startX&&null!=R.startY&&null!=R.endX&&null!=R.endY&&(an(d,R.startX,R.startY)||an(d,R.endX,R.endY)))s.push(M),B=!0;else if(!B&&"haystack"===R.edgeType)for(var F=O.rstyle.haystackPts,z=0;z<F.length;z++)if(ln(d,F[z])){s.push(M),B=!0;break}if(!B){var $=O.rstyle.bezierPts||O.rstyle.linePts||O.rstyle.haystackPts;if((!$||$.length<2)&&"straight"===R.edgeType&&null!=R.startX&&null!=R.startY&&null!=R.endX&&null!=R.endY&&($=[{x:R.startX,y:R.startY},{x:R.endX,y:R.endY}]),!$||$.length<2)continue;for(var j=0;j<$.length-1;j++){for(var U=$[j],H=$[j+1],G=0;G<f.length;G++){var V=l(f[G],2);if(v(U,H,V[0],V[1])){s.push(M),B=!0;break}}if(B)break}}}}}return s}},gu={calculateArrowAngles:function(e){var t,n,r,i,o,s,a=e._private.rscratch,l="haystack"===a.edgeType,c="bezier"===a.edgeType,u="multibezier"===a.edgeType,h="segments"===a.edgeType,d="compound"===a.edgeType,p="self"===a.edgeType;if(l?(r=a.haystackPts[0],i=a.haystackPts[1],o=a.haystackPts[2],s=a.haystackPts[3]):(r=a.arrowStartX,i=a.arrowStartY,o=a.arrowEndX,s=a.arrowEndY),g=a.midX,m=a.midY,h)t=r-a.segpts[0],n=i-a.segpts[1];else if(u||d||p||c){var f=a.allpts;t=r-Kt(f[0],f[2],f[4],.1),n=i-Kt(f[1],f[3],f[5],.1)}else t=r-g,n=i-m;a.srcArrowAngle=Gt(t,n);var g=a.midX,m=a.midY;if(l&&(g=(r+o)/2,m=(i+s)/2),t=o-r,n=s-i,h)if((f=a.allpts).length/2%2==0){var v=(E=f.length/2)-2;t=f[E]-f[v],n=f[E+1]-f[v+1]}else if(a.isRound)t=a.midVector[1],n=-a.midVector[0];else{v=(E=f.length/2-1)-2;t=f[E]-f[v],n=f[E+1]-f[v+1]}else if(u||d||p){var y,b,w,x,f=a.allpts;if(a.ctrlpts.length/2%2==0){var _=(A=(T=f.length/2-1)+2)+2;y=Kt(f[T],f[A],f[_],0),b=Kt(f[T+1],f[A+1],f[_+1],0),w=Kt(f[T],f[A],f[_],1e-4),x=Kt(f[T+1],f[A+1],f[_+1],1e-4)}else{var A,T;_=(A=f.length/2-1)+2;y=Kt(f[T=A-2],f[A],f[_],.4999),b=Kt(f[T+1],f[A+1],f[_+1],.4999),w=Kt(f[T],f[A],f[_],.5),x=Kt(f[T+1],f[A+1],f[_+1],.5)}t=w-y,n=x-b}if(a.midtgtArrowAngle=Gt(t,n),a.midDispX=t,a.midDispY=n,t*=-1,n*=-1,h)if((f=a.allpts).length/2%2==0);else if(!a.isRound){var E,k=(E=f.length/2-1)+2;t=-(f[k]-f[E]),n=-(f[k+1]-f[E+1])}if(a.midsrcArrowAngle=Gt(t,n),h)t=o-a.segpts[a.segpts.length-2],n=s-a.segpts[a.segpts.length-1];else if(u||d||p||c){var S=(f=a.allpts).length;t=o-Kt(f[S-6],f[S-4],f[S-2],.9),n=s-Kt(f[S-5],f[S-3],f[S-1],.9)}else t=o-g,n=s-m;a.tgtArrowAngle=Gt(t,n)}};gu.getArrowWidth=gu.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r,r)};var mu,vu,yu,bu,wu,xu,_u,Au,Tu,Eu,ku,Su,Cu,Nu,Mu,Ou,Ru,Iu={},Lu={},Pu=function(e,t,n){n.x=t.x-e.x,n.y=t.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},Du=function(e,t,n,r,i){var o,s;if(e!==Ru?Pu(t,e,Iu):((s=Iu).x=-1*(o=Lu).x,s.y=-1*o.y,s.nx=-1*o.nx,s.ny=-1*o.ny,s.ang=o.ang>0?-(Math.PI-o.ang):Math.PI+o.ang),Pu(t,n,Lu),yu=Iu.nx*Lu.ny-Iu.ny*Lu.nx,bu=Iu.nx*Lu.nx-Iu.ny*-Lu.ny,_u=Math.asin(Math.max(-1,Math.min(1,yu))),Math.abs(_u)<1e-6)return mu=t.x,vu=t.y,void(Tu=ku=0);wu=1,xu=!1,bu<0?_u<0?_u=Math.PI+_u:(_u=Math.PI-_u,wu=-1,xu=!0):_u>0&&(wu=-1,xu=!0),ku=void 0!==t.radius?t.radius:r,Au=_u/2,Su=Math.min(Iu.len/2,Lu.len/2),i?(Eu=Math.abs(Math.cos(Au)*ku/Math.sin(Au)))>Su?(Eu=Su,Tu=Math.abs(Eu*Math.sin(Au)/Math.cos(Au))):Tu=ku:(Eu=Math.min(Su,ku),Tu=Math.abs(Eu*Math.sin(Au)/Math.cos(Au))),Mu=t.x+Lu.nx*Eu,Ou=t.y+Lu.ny*Eu,mu=Mu-Lu.ny*Tu*wu,vu=Ou+Lu.nx*Tu*wu,Cu=t.x+Iu.nx*Eu,Nu=t.y+Iu.ny*Eu,Ru=t};function Bu(e,t){0===t.radius?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function Fu(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return 0===r||0===t.radius?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(Du(e,t,n,r,i),{cx:mu,cy:vu,radius:Tu,startX:Cu,startY:Nu,stopX:Mu,stopY:Ou,startAngle:Iu.ang+Math.PI/2*wu,endAngle:Lu.ang-Math.PI/2*wu,counterClockwise:xu})}var zu=.01,$u=Math.sqrt(.02),ju={};function Uu(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t.push({x:r,y:i})}return t}}ju.findMidptPtsEtc=function(e,t){var n,r=t.posPts,i=t.intersectionPts,o=t.vectorNormInverse,s=e.pstyle("source-endpoint"),a=e.pstyle("target-endpoint"),c=null!=s.units&&null!=a.units;switch(e.pstyle("edge-distances").value){case"node-position":n=r;break;case"intersection":n=i;break;case"endpoints":if(c){var u=l(this.manualEndptToPx(e.source()[0],s),2),h=u[0],d=u[1],p=l(this.manualEndptToPx(e.target()[0],a),2),f=p[0],g=p[1],m={x1:h,y1:d,x2:f,y2:g};o=function(e,t,n,r){var i=r-t,o=n-e,s=Math.sqrt(o*o+i*i);return{x:-i/s,y:o/s}}(h,d,f,g),n=m}else it("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),n=i}return{midptPts:n,vectorNormInverse:o}},ju.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n._private,i=r.rscratch;if(!i.haystack){var o=2*Math.random()*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=2*Math.random()*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var s=r.source,a=r.target,l=s.position(),c=a.position(),u=s.width(),h=a.width(),d=s.height(),p=a.height(),f=n.pstyle("haystack-radius").value/2;i.haystackPts=i.allpts=[i.source.x*u*f+l.x,i.source.y*d*f+l.y,i.target.x*h*f+c.x,i.target.y*p*f+c.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},ju.findSegmentsPoints=function(e,t){var n=e._private.rscratch,r=e.pstyle("segment-weights"),i=e.pstyle("segment-distances"),o=e.pstyle("segment-radii"),s=e.pstyle("radius-type"),a=Math.min(r.pfValue.length,i.pfValue.length),l=o.pfValue[o.pfValue.length-1],c=s.pfValue[s.pfValue.length-1];n.edgeType="segments",n.segpts=[],n.radii=[],n.isArcRadius=[];for(var u=0;u<a;u++){var h=r.pfValue[u],d=i.pfValue[u],p=1-h,f=h,g=this.findMidptPtsEtc(e,t),m=g.midptPts,v=g.vectorNormInverse,y={x:m.x1*p+m.x2*f,y:m.y1*p+m.y2*f};n.segpts.push(y.x+v.x*d,y.y+v.y*d),n.radii.push(void 0!==o.pfValue[u]?o.pfValue[u]:l),n.isArcRadius.push("arc-radius"===(void 0!==s.pfValue[u]?s.pfValue[u]:c))}},ju.findLoopPoints=function(e,t,n,r){var i=e._private.rscratch,o=t.dirCounts,s=t.srcPos,a=e.pstyle("control-point-distances"),l=a?a.pfValue[0]:void 0,c=e.pstyle("loop-direction").pfValue,u=e.pstyle("loop-sweep").pfValue,h=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var d=n,p=h;r&&(d=0,p=l);var f=c-Math.PI/2,g=f-u/2,m=f+u/2,v=String(c+"_"+u);d=void 0===o[v]?o[v]=0:++o[v],i.ctrlpts=[s.x+1.4*Math.cos(g)*p*(d/3+1),s.y+1.4*Math.sin(g)*p*(d/3+1),s.x+1.4*Math.cos(m)*p*(d/3+1),s.y+1.4*Math.sin(m)*p*(d/3+1)]},ju.findCompoundLoopPoints=function(e,t,n,r){var i=e._private.rscratch;i.edgeType="compound";var o=t.srcPos,s=t.tgtPos,a=t.srcW,l=t.srcH,c=t.tgtW,u=t.tgtH,h=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),p=d?d.pfValue[0]:void 0,f=n,g=h;r&&(f=0,g=p);var m={x:o.x-a/2,y:o.y-l/2},v={x:s.x-c/2,y:s.y-u/2},y={x:Math.min(m.x,v.x),y:Math.min(m.y,v.y)},b=Math.max(.5,Math.log(a*zu)),w=Math.max(.5,Math.log(c*zu));i.ctrlpts=[y.x,y.y-(1+Math.pow(50,1.12)/100)*g*(f/3+1)*b,y.x-(1+Math.pow(50,1.12)/100)*g*(f/3+1)*w,y.y]},ju.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},ju.findBezierPoints=function(e,t,n,r,i){var o=e._private.rscratch,s=e.pstyle("control-point-step-size").pfValue,a=e.pstyle("control-point-distances"),l=e.pstyle("control-point-weights"),c=a&&l?Math.min(a.value.length,l.value.length):1,u=a?a.pfValue[0]:void 0,h=l.value[0],d=r;o.edgeType=d?"multibezier":"bezier",o.ctrlpts=[];for(var p=0;p<c;p++){var f=(.5-t.eles.length/2+n)*s*(i?-1:1),g=void 0,m=Wt(f);d&&(u=a?a.pfValue[p]:s,h=l.value[p]);var v=void 0!==(g=r?u:void 0!==u?m*u:void 0)?g:f,y=1-h,b=h,w=this.findMidptPtsEtc(e,t),x=w.midptPts,_=w.vectorNormInverse,A={x:x.x1*y+x.x2*b,y:x.y1*y+x.y2*b};o.ctrlpts.push(A.x+_.x*v,A.y+_.y*v)}},ju.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var r="vertical",i="horizontal",o="leftward",s="rightward",a="downward",l="upward",c=t.posPts,u=t.srcW,h=t.srcH,d=t.tgtW,p=t.tgtH,f="node-position"!==e.pstyle("edge-distances").value,g=e.pstyle("taxi-direction").value,m=g,v=e.pstyle("taxi-turn"),y="%"===v.units,b=v.pfValue,w=b<0,x=e.pstyle("taxi-turn-min-distance").pfValue,_=f?(u+d)/2:0,A=f?(h+p)/2:0,T=c.x2-c.x1,E=c.y2-c.y1,k=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},S=k(T,_),C=k(E,A),N=!1;"auto"===m?g=Math.abs(S)>Math.abs(C)?i:r:m===l||m===a?(g=r,N=!0):m!==o&&m!==s||(g=i,N=!0);var M,O=g===r,R=O?C:S,I=O?E:T,L=Wt(I),P=!1;(N&&(y||w)||!(m===a&&I<0||m===l&&I>0||m===o&&I>0||m===s&&I<0)||(R=(L*=-1)*Math.abs(R),P=!0),y)?M=(b<0?1+b:b)*R:M=(b<0?R:0)+b*L;var D=function(e){return Math.abs(e)<x||Math.abs(e)>=Math.abs(R)},B=D(M),F=D(Math.abs(R)-Math.abs(M));if((B||F)&&!P)if(O){var z=Math.abs(I)<=h/2,$=Math.abs(T)<=d/2;if(z){var j=(c.x1+c.x2)/2,U=c.y1,H=c.y2;n.segpts=[j,U,j,H]}else if($){var G=(c.y1+c.y2)/2,V=c.x1,W=c.x2;n.segpts=[V,G,W,G]}else n.segpts=[c.x1,c.y2]}else{var Y=Math.abs(I)<=u/2,q=Math.abs(E)<=p/2;if(Y){var X=(c.y1+c.y2)/2,K=c.x1,Z=c.x2;n.segpts=[K,X,Z,X]}else if(q){var Q=(c.x1+c.x2)/2,J=c.y1,ee=c.y2;n.segpts=[Q,J,Q,ee]}else n.segpts=[c.x2,c.y1]}else if(O){var te=c.y1+M+(f?h/2*L:0),ne=c.x1,re=c.x2;n.segpts=[ne,te,re,te]}else{var ie=c.x1+M+(f?u/2*L:0),oe=c.y1,se=c.y2;n.segpts=[ie,oe,ie,se]}if(n.isRound){var ae=e.pstyle("taxi-radius").value,le="arc-radius"===e.pstyle("radius-type").value[0];n.radii=new Array(n.segpts.length/2).fill(ae),n.isArcRadius=new Array(n.segpts.length/2).fill(le)}},ju.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if("bezier"===n.edgeType){var r=t.srcPos,i=t.tgtPos,o=t.srcW,s=t.srcH,a=t.tgtW,l=t.tgtH,c=t.srcShape,u=t.tgtShape,h=t.srcCornerRadius,d=t.tgtCornerRadius,p=t.srcRs,f=t.tgtRs,g=!Q(n.startX)||!Q(n.startY),m=!Q(n.arrowStartX)||!Q(n.arrowStartY),v=!Q(n.endX)||!Q(n.endY),y=!Q(n.arrowEndX)||!Q(n.arrowEndY),b=3*(this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth),w=Yt({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),x=w<b,_=Yt({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),A=_<b,T=!1;if(g||m||x){T=!0;var E={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},k=Math.sqrt(E.x*E.x+E.y*E.y),S={x:E.x/k,y:E.y/k},C=Math.max(o,s),N={x:n.ctrlpts[0]+2*S.x*C,y:n.ctrlpts[1]+2*S.y*C},M=c.intersectLine(r.x,r.y,o,s,N.x,N.y,0,h,p);x?(n.ctrlpts[0]=n.ctrlpts[0]+S.x*(b-w),n.ctrlpts[1]=n.ctrlpts[1]+S.y*(b-w)):(n.ctrlpts[0]=M[0]+S.x*b,n.ctrlpts[1]=M[1]+S.y*b)}if(v||y||A){T=!0;var O={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},R=Math.sqrt(O.x*O.x+O.y*O.y),I={x:O.x/R,y:O.y/R},L=Math.max(o,s),P={x:n.ctrlpts[0]+2*I.x*L,y:n.ctrlpts[1]+2*I.y*L},D=u.intersectLine(i.x,i.y,a,l,P.x,P.y,0,d,f);A?(n.ctrlpts[0]=n.ctrlpts[0]+I.x*(b-_),n.ctrlpts[1]=n.ctrlpts[1]+I.y*(b-_)):(n.ctrlpts[0]=D[0]+I.x*b,n.ctrlpts[1]=D[1]+I.y*b)}T&&this.findEndpoints(e)}},ju.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);var r;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2==0?(r=t.allpts.length/2-1,t.midX=t.allpts[r],t.midY=t.allpts[r+1]):(r=t.allpts.length/2-3,t.midX=Kt(t.allpts[r],t.allpts[r+2],t.allpts[r+4],.5),t.midY=Kt(t.allpts[r+1],t.allpts[r+3],t.allpts[r+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var i=2;i+3<t.allpts.length;i+=2){var o=t.radii[i/2-1],s=t.isArcRadius[i/2-1];t.roundCorners.push(Fu({x:t.allpts[i-2],y:t.allpts[i-1]},{x:t.allpts[i],y:t.allpts[i+1],radius:o},{x:t.allpts[i+2],y:t.allpts[i+3]},o,s))}}if(t.segpts.length%4==0){var a=t.segpts.length/2,l=a-2;t.midX=(t.segpts[l]+t.segpts[a])/2,t.midY=(t.segpts[l+1]+t.segpts[a+1])/2}else{var c=t.segpts.length/2-1;if(t.isRound){var u={x:t.segpts[c],y:t.segpts[c+1]},h=t.roundCorners[c/2];if(0===h.radius){var d={x:t.segpts[c+2],y:t.segpts[c+3]};t.midX=u.x,t.midY=u.y,t.midVector=[u.y-d.y,d.x-u.x]}else{var p=[u.x-h.cx,u.y-h.cy],f=h.radius/Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2));p=p.map(function(e){return e*f}),t.midX=h.cx+p[0],t.midY=h.cy+p[1],t.midVector=p}}else t.midX=t.segpts[c],t.midY=t.segpts[c+1]}}},ju.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||Q(t.startX)&&Q(t.startY)&&Q(t.endX)&&Q(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,it(e.id()))},ju.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var n=this,r=n.cy.hasCompoundNodes(),i=new ft,o=function(e,t){return[].concat(c(e),[t?1:0]).join("-")},s=[],a=[],l=0;l<e.length;l++){var u=e[l],h=u._private,d=u.pstyle("curve-style").value;if(!u.removed()&&u.takesUpSpace())if("haystack"!==d){var p="unbundled-bezier"===d||de(d,"segments")||"straight"===d||"straight-triangle"===d||de(d,"taxi"),f="unbundled-bezier"===d||"bezier"===d,g=h.source,m=h.target,v=[g.poolIndex(),m.poolIndex()].sort(),y=o(v,p),b=i.get(y);null==b&&(b={eles:[]},s.push({pairId:v,edgeIsUnbundled:p}),i.set(y,b)),b.eles.push(u),p&&(b.hasUnbundled=!0),f&&(b.hasBezier=!0)}else a.push(u)}for(var w=function(){var e,a=s[x],l=a.pairId,c=a.edgeIsUnbundled,u=o(l,c),h=i.get(u);if(!h.hasUnbundled){var d=h.eles[0].parallelEdges().filter(function(e){return e.isBundledBezier()});ht(h.eles),d.forEach(function(e){return h.eles.push(e)}),h.eles.sort(function(e,t){return e.poolIndex()-t.poolIndex()})}var p=h.eles[0],f=p.source(),g=p.target();if(f.poolIndex()>g.poolIndex()){var m=f;f=g,g=m}var v=h.srcPos=f.position(),y=h.tgtPos=g.position(),b=h.srcW=f.outerWidth(),w=h.srcH=f.outerHeight(),_=h.tgtW=g.outerWidth(),A=h.tgtH=g.outerHeight(),T=h.srcShape=n.nodeShapes[t.getNodeShape(f)],E=h.tgtShape=n.nodeShapes[t.getNodeShape(g)],k=h.srcCornerRadius="auto"===f.pstyle("corner-radius").value?"auto":f.pstyle("corner-radius").pfValue,S=h.tgtCornerRadius="auto"===g.pstyle("corner-radius").value?"auto":g.pstyle("corner-radius").pfValue,C=h.tgtRs=g._private.rscratch,N=h.srcRs=f._private.rscratch;h.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var M=0;M<h.eles.length;M++){var O=h.eles[M],R=O[0]._private.rscratch,I=O.pstyle("curve-style").value,L="unbundled-bezier"===I||de(I,"segments")||de(I,"taxi"),P=!f.same(O.source());if(!h.calculatedIntersection&&f!==g&&(h.hasBezier||h.hasUnbundled)){h.calculatedIntersection=!0;var D=T.intersectLine(v.x,v.y,b,w,y.x,y.y,0,k,N),B=h.srcIntn=D,F=E.intersectLine(y.x,y.y,_,A,v.x,v.y,0,S,C),z=h.tgtIntn=F,$=h.intersectionPts={x1:D[0],x2:F[0],y1:D[1],y2:F[1]},j=h.posPts={x1:v.x,x2:y.x,y1:v.y,y2:y.y},U=F[1]-D[1],H=F[0]-D[0],G=Math.sqrt(H*H+U*U);Q(G)&&G>=$u||(G=Math.sqrt(Math.max(H*H,zu)+Math.max(U*U,zu)));var V=h.vector={x:H,y:U},W=h.vectorNorm={x:V.x/G,y:V.y/G},Y={x:-W.y,y:W.x};h.nodesOverlap=!Q(G)||E.checkPoint(D[0],D[1],0,_,A,y.x,y.y,S,C)||T.checkPoint(F[0],F[1],0,b,w,v.x,v.y,k,N),h.vectorNormInverse=Y,e={nodesOverlap:h.nodesOverlap,dirCounts:h.dirCounts,calculatedIntersection:!0,hasBezier:h.hasBezier,hasUnbundled:h.hasUnbundled,eles:h.eles,srcPos:y,srcRs:C,tgtPos:v,tgtRs:N,srcW:_,srcH:A,tgtW:b,tgtH:w,srcIntn:z,tgtIntn:B,srcShape:E,tgtShape:T,posPts:{x1:j.x2,y1:j.y2,x2:j.x1,y2:j.y1},intersectionPts:{x1:$.x2,y1:$.y2,x2:$.x1,y2:$.y1},vector:{x:-V.x,y:-V.y},vectorNorm:{x:-W.x,y:-W.y},vectorNormInverse:{x:-Y.x,y:-Y.y}}}var q=P?e:h;R.nodesOverlap=q.nodesOverlap,R.srcIntn=q.srcIntn,R.tgtIntn=q.tgtIntn,R.isRound=I.startsWith("round"),r&&(f.isParent()||f.isChild()||g.isParent()||g.isChild())&&(f.parents().anySame(g)||g.parents().anySame(f)||f.same(g)&&f.isParent())?t.findCompoundLoopPoints(O,q,M,L):f===g?t.findLoopPoints(O,q,M,L):I.endsWith("segments")?t.findSegmentsPoints(O,q):I.endsWith("taxi")?t.findTaxiPoints(O,q):"straight"===I||!L&&h.eles.length%2==1&&M===Math.floor(h.eles.length/2)?t.findStraightEdgePoints(O):t.findBezierPoints(O,q,M,L,P),t.findEndpoints(O),t.tryToCorrectInvalidPoints(O,q),t.checkForInvalidEdgeWarning(O),t.storeAllpts(O),t.storeEdgeProjections(O),t.calculateArrowAngles(O),t.recalculateEdgeLabelProjections(O),t.calculateLabelAngles(O)}},x=0;x<s.length;x++)w();this.findHaystackPoints(a)}},ju.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if(this.recalculateRenderedStyle(e),"segments"===t.edgeType)return Uu(t.segpts)},ju.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return Uu(t.ctrlpts)},ju.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var Hu={manualEndptToPx:function(e,t){var n=e.position(),r=e.outerWidth(),i=e.outerHeight(),o=e._private.rscratch;if(2===t.value.length){var s=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(s[0]=s[0]*r),"%"===t.units[1]&&(s[1]=s[1]*i),s[0]+=n.x,s[1]+=n.y,s}var a=t.pfValue[0];a=-Math.PI/2+a;var l=2*Math.max(r,i),c=[n.x+Math.cos(a)*l,n.y+Math.sin(a)*l];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,r,i,c[0],c[1],0,"auto"===e.pstyle("corner-radius").value?"auto":e.pstyle("corner-radius").pfValue,o)},findEndpoints:function(e){var t,n,r,i,o,s,a,l,c,u=this,h=e.source()[0],d=e.target()[0],p=h.position(),f=d.position(),g=e.pstyle("target-arrow-shape").value,m=e.pstyle("source-arrow-shape").value,v=e.pstyle("target-distance-from-node").pfValue,y=e.pstyle("source-distance-from-node").pfValue,b=h._private.rscratch,w=d._private.rscratch,x=e.pstyle("curve-style").value,_=e._private.rscratch,A=_.edgeType,T=de(x,"taxi"),E="self"===A||"compound"===A,k="bezier"===A||"multibezier"===A||E,S="bezier"!==A,C="straight"===A||"segments"===A,N="segments"===A,M=k||S||C,O=E||T,R=e.pstyle("source-endpoint"),I=O?"outside-to-node":R.value,L="auto"===h.pstyle("corner-radius").value?"auto":h.pstyle("corner-radius").pfValue,P=e.pstyle("target-endpoint"),D=O?"outside-to-node":P.value,B="auto"===d.pstyle("corner-radius").value?"auto":d.pstyle("corner-radius").pfValue;_.srcManEndpt=R,_.tgtManEndpt=P;var F=null!==(t=2===(null==P||null===(n=P.pfValue)||void 0===n?void 0:n.length)?P.pfValue:null)&&void 0!==t?t:[0,0],z=null!==(r=2===(null==R||null===(i=R.pfValue)||void 0===i?void 0:i.length)?R.pfValue:null)&&void 0!==r?r:[0,0];if(k){var $=[_.ctrlpts[0],_.ctrlpts[1]];s=S?[_.ctrlpts[_.ctrlpts.length-2],_.ctrlpts[_.ctrlpts.length-1]]:$,a=$}else if(C){var j=N?_.segpts.slice(0,2):[f.x+F[0],f.y+F[1]];s=N?_.segpts.slice(_.segpts.length-2):[p.x+z[0],p.y+z[1]],a=j}if("inside-to-node"===D)o=[f.x,f.y];else if(P.units)o=this.manualEndptToPx(d,P);else if("outside-to-line"===D)o=_.tgtIntn;else if("outside-to-node"===D||"outside-to-node-or-label"===D?l=s:"outside-to-line"!==D&&"outside-to-line-or-label"!==D||(l=[p.x,p.y]),o=u.nodeShapes[this.getNodeShape(d)].intersectLine(f.x,f.y,d.outerWidth(),d.outerHeight(),l[0],l[1],0,B,w),"outside-to-node-or-label"===D||"outside-to-line-or-label"===D){var U=d._private.rscratch,H=U.labelWidth,G=U.labelHeight,V=U.labelX,W=U.labelY,Y=H/2,q=G/2,X=d.pstyle("text-valign").value;"top"===X?W-=q:"bottom"===X&&(W+=q);var K=d.pstyle("text-halign").value;"left"===K?V-=Y:"right"===K&&(V+=Y);var Z=kn(l[0],l[1],[V-Y,W-q,V+Y,W-q,V+Y,W+q,V-Y,W+q],f.x,f.y);if(Z.length>0){var J=p,ee=qt(J,Ht(o)),te=qt(J,Ht(Z)),ne=ee;if(te<ee&&(o=Z,ne=te),Z.length>2)qt(J,{x:Z[2],y:Z[3]})<ne&&(o=[Z[2],Z[3]])}}var re=Sn(o,s,u.arrowShapes[g].spacing(e)+v),ie=Sn(o,s,u.arrowShapes[g].gap(e)+v);if(_.endX=ie[0],_.endY=ie[1],_.arrowEndX=re[0],_.arrowEndY=re[1],"inside-to-node"===I)o=[p.x,p.y];else if(R.units)o=this.manualEndptToPx(h,R);else if("outside-to-line"===I)o=_.srcIntn;else if("outside-to-node"===I||"outside-to-node-or-label"===I?c=a:"outside-to-line"!==I&&"outside-to-line-or-label"!==I||(c=[f.x,f.y]),o=u.nodeShapes[this.getNodeShape(h)].intersectLine(p.x,p.y,h.outerWidth(),h.outerHeight(),c[0],c[1],0,L,b),"outside-to-node-or-label"===I||"outside-to-line-or-label"===I){var oe=h._private.rscratch,se=oe.labelWidth,ae=oe.labelHeight,le=oe.labelX,ce=oe.labelY,ue=se/2,he=ae/2,pe=h.pstyle("text-valign").value;"top"===pe?ce-=he:"bottom"===pe&&(ce+=he);var fe=h.pstyle("text-halign").value;"left"===fe?le-=ue:"right"===fe&&(le+=ue);var ge=kn(c[0],c[1],[le-ue,ce-he,le+ue,ce-he,le+ue,ce+he,le-ue,ce+he],p.x,p.y);if(ge.length>0){var me=f,ve=qt(me,Ht(o)),ye=qt(me,Ht(ge)),be=ve;if(ye<ve&&(o=[ge[0],ge[1]],be=ye),ge.length>2)qt(me,{x:ge[2],y:ge[3]})<be&&(o=[ge[2],ge[3]])}}var we=Sn(o,a,u.arrowShapes[m].spacing(e)+y),xe=Sn(o,a,u.arrowShapes[m].gap(e)+y);_.startX=xe[0],_.startY=xe[1],_.arrowStartX=we[0],_.arrowStartY=we[1],M&&(Q(_.startX)&&Q(_.startY)&&Q(_.endX)&&Q(_.endY)?_.badLine=!1:_.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[0],y:t.haystackPts[1]}:{x:t.arrowStartX,y:t.arrowStartY}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[2],y:t.haystackPts[3]}:{x:t.arrowEndX,y:t.arrowEndY}}},Gu={};function Vu(e,t,n){for(var r=function(e,t,n,r){return Kt(e,t,n,r)},i=t._private.rstyle.bezierPts,o=0;o<e.bezierProjPcts.length;o++){var s=e.bezierProjPcts[o];i.push({x:r(n[0],n[2],n[4],s),y:r(n[1],n[3],n[5],s)})}}Gu.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){t.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)Vu(this,e,n.allpts.slice(i,i+6))}else if("segments"===r){var o=t.rstyle.linePts=[];for(i=0;i+1<n.allpts.length;i+=2)o.push({x:n.allpts[i],y:n.allpts[i+1]})}else if("haystack"===r){var s=n.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},Gu.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var Wu={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!oe(t)){var n,r,i=e._private,o=e.width(),s=e.height(),a=e.padding(),l=e.position(),c=e.pstyle("text-halign").strValue,u=e.pstyle("text-valign").strValue,h=i.rscratch,d=i.rstyle;switch(c){case"left":n=l.x-o/2-a;break;case"right":n=l.x+o/2+a;break;default:n=l.x}switch(u){case"top":r=l.y-s/2-a;break;case"bottom":r=l.y+s/2+a;break;default:r=l.y}h.labelX=n,h.labelY=r,d.labelX=n,d.labelY=r,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}}},Yu=function(e,t){var n=Math.atan(t/e);return 0===e&&n<0&&(n*=-1),n},qu=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Yu(n,r)};Wu.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,i=this,o={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(o.mid||o.source||o.target){t={x:r.midX,y:r.midY};var s=function(e,t,r){pt(n.rscratch,e,t,r),pt(n.rstyle,e,t,r)};s("labelX",null,t.x),s("labelY",null,t.y);var a=Yu(r.midDispX,r.midDispY);s("labelAutoAngle",null,a);var l=function(){if(l.cache)return l.cache;for(var e=[],t=0;t+5<r.allpts.length;t+=4){var o={x:r.allpts[t],y:r.allpts[t+1]},s={x:r.allpts[t+2],y:r.allpts[t+3]},a={x:r.allpts[t+4],y:r.allpts[t+5]};e.push({p0:o,p1:s,p2:a,startDist:0,length:0,segments:[]})}var c=n.rstyle.bezierPts,u=i.bezierProjPcts.length;function h(e,t,n,r,i){var o=Yt(t,n),s=e.segments[e.segments.length-1],a={p0:t,p1:n,t0:r,t1:i,startDist:s?s.startDist+s.length:0,length:o};e.segments.push(a),e.length+=o}for(var d=0;d<e.length;d++){var p=e[d],f=e[d-1];f&&(p.startDist=f.startDist+f.length),h(p,p.p0,c[d*u],0,i.bezierProjPcts[0]);for(var g=0;g<u-1;g++)h(p,c[d*u+g],c[d*u+g+1],i.bezierProjPcts[g],i.bezierProjPcts[g+1]);h(p,c[d*u+u-1],p.p2,i.bezierProjPcts[u-1],1)}return l.cache=e},c=function(n){var i,a="source"===n;if(o[n]){var c=e.pstyle(n+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var u,h=l(),d=0,p=0,f=0;f<h.length;f++){for(var g=h[a?f:h.length-1-f],m=0;m<g.segments.length;m++){var v=g.segments[a?m:g.segments.length-1-m],y=f===h.length-1&&m===g.segments.length-1;if(d=p,(p+=v.length)>=c||y){u={cp:g,segment:v};break}}if(u)break}var b=u.cp,w=u.segment,x=(c-d)/w.length,_=w.t1-w.t0,A=a?w.t0+_*x:w.t1-_*x;A=Qt(0,A,1),t=Zt(b.p0,b.p1,b.p2,A),i=function(e,t,n,r){var i=Qt(0,r-.001,1),o=Qt(0,r+.001,1),s=Zt(e,t,n,i),a=Zt(e,t,n,o);return qu(s,a)}(b.p0,b.p1,b.p2,A);break;case"straight":case"segments":case"haystack":for(var T,E,k,S,C=0,N=r.allpts.length,M=0;M+3<N&&(a?(k={x:r.allpts[M],y:r.allpts[M+1]},S={x:r.allpts[M+2],y:r.allpts[M+3]}):(k={x:r.allpts[N-2-M],y:r.allpts[N-1-M]},S={x:r.allpts[N-4-M],y:r.allpts[N-3-M]}),E=C,!((C+=T=Yt(k,S))>=c));M+=2);var O=(c-E)/T;O=Qt(0,O,1),t=function(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,s=Yt(e,t),a=i/s,l=o/s;return n=null==n?0:n,r=null!=r?r:n*s,{x:e.x+a*r,y:e.y+l*r}}(k,S,O),i=qu(k,S)}s("labelX",n,t.x),s("labelY",n,t.y),s("labelAutoAngle",n,i)}};c("source"),c("target"),this.applyLabelDimensions(e)}},Wu.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},Wu.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),i=We(r,e._private.labelDimsKey);if(dt(n.rscratch,"prefixedLabelDimsKey",t)!==i){pt(n.rscratch,"prefixedLabelDimsKey",t,i);var o=this.calculateLabelDimensions(e,r),s=e.pstyle("line-height").pfValue,a=e.pstyle("text-wrap").strValue,l=dt(n.rscratch,"labelWrapCachedLines",t)||[],c="wrap"!==a?1:Math.max(l.length,1),u=o.height/c,h=u*s,d=o.width,p=o.height+(c-1)*(s-1)*u;pt(n.rstyle,"labelWidth",t,d),pt(n.rscratch,"labelWidth",t,d),pt(n.rstyle,"labelHeight",t,p),pt(n.rscratch,"labelHeight",t,p),pt(n.rscratch,"labelLineHeight",t,h)}},Wu.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",i=e.pstyle(r+"label").strValue,o=e.pstyle("text-transform").value,a=function(e,r){return r?(pt(n.rscratch,e,t,r),r):dt(n.rscratch,e,t)};if(!i)return"";"none"==o||("uppercase"==o?i=i.toUpperCase():"lowercase"==o&&(i=i.toLowerCase()));var l=e.pstyle("text-wrap").value;if("wrap"===l){var c=a("labelKey");if(null!=c&&a("labelWrapKey")===c)return a("labelWrapCachedText");for(var u=i.split("\n"),h=e.pstyle("text-max-width").pfValue,d="anywhere"===e.pstyle("text-overflow-wrap").value,p=[],f=/[\s\u200b]+|$/g,g=0;g<u.length;g++){var m=u[g],v=this.calculateLabelDimensions(e,m).width;if(d){var y=m.split("").join("​");m=y}if(v>h){var b,w="",x=0,_=s(m.matchAll(f));try{for(_.s();!(b=_.n()).done;){var A=b.value,T=A[0],E=m.substring(x,A.index);x=A.index+T.length;var k=0===w.length?E:w+E+T;this.calculateLabelDimensions(e,k).width<=h?w+=E+T:(w&&p.push(w),w=E+T)}}catch(e){_.e(e)}finally{_.f()}w.match(/^[\s\u200b]+$/)||p.push(w)}else p.push(m)}a("labelWrapCachedLines",p),i=a("labelWrapCachedText",p.join("\n")),a("labelWrapKey",c)}else if("ellipsis"===l){var S=e.pstyle("text-max-width").pfValue,C="",N=!1;if(this.calculateLabelDimensions(e,i).width<S)return i;for(var M=0;M<i.length;M++){if(this.calculateLabelDimensions(e,C+i[M]+"…").width>S)break;C+=i[M],M===i.length-1&&(N=!0)}return N||(C+="…"),C}return i},Wu.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},Wu.calculateLabelDimensions=function(e,t){var n=this.cy.window().document,r=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue,o=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,a=this.labelCalcCanvas,l=this.labelCalcCanvasContext;if(!a){a=this.labelCalcCanvas=n.createElement("canvas"),l=this.labelCalcCanvasContext=a.getContext("2d");var c=a.style;c.position="absolute",c.left="-9999px",c.top="-9999px",c.zIndex="-1",c.visibility="hidden",c.pointerEvents="none"}l.font="".concat(r," ").concat(s," ").concat(i,"px ").concat(o);for(var u=0,h=0,d=t.split("\n"),p=0;p<d.length;p++){var f=d[p],g=l.measureText(f),m=Math.ceil(g.width),v=i;u=Math.max(m,u),h+=v}return{width:u+=0,height:h+=0}},Wu.calculateLabelAngle=function(e,t){var n=e._private.rscratch,r=e.isEdge(),i=t?t+"-":"",o=e.pstyle(i+"text-rotation"),s=o.strValue;return"none"===s?0:r&&"autorotate"===s?n.labelAutoAngle:"autorotate"===s?0:o.pfValue},Wu.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),r=e._private.rscratch;r.labelAngle=t.calculateLabelAngle(e),n&&(r.sourceLabelAngle=t.calculateLabelAngle(e,"source"),r.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var Xu={},Ku=!1;Xu.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return Ku||(it(),Ku=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"round-rectangle"===t||"cutrectangle"===t||"cut-rectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return t};var Zu={registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,r=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),n)for(var r=0;r<e.length;r++){var i=e[r]._private.rstyle;i.clean=!1,i.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",function(e){var t=e.target;r(t)}).on("style.* background.*",function(e){var t=e.target;r(t,!1)});var i=function(i){if(i){var o=n.onUpdateEleCalcsFns;t.cleanStyle();for(var s=0;s<t.length;s++){var a=t[s],l=a._private.rstyle;a.isNode()&&!l.cleanConnected&&(r(a.connectedEdges()),l.cleanConnected=!0)}if(o)for(var c=0;c<o.length;c++){(0,o[c])(i,t)}n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){i(!0)},n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=function(e){return e._private.rstyle.cleanConnected};if(0!==e.length){var r=[],i=[];if(!this.destroyed){void 0===t&&(t=!0);for(var o=0;o<e.length;o++){var s=e[o],a=s._private,l=a.rstyle;!s.isEdge()||n(s.source())&&n(s.target())||(l.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(e){return!e._private.rstyle.clean&&e.isBundledBezier()})&&(l.clean=!1),t&&l.clean||s.removed()||"none"!==s.pstyle("display").value&&("nodes"===a.group?i.push(s):r.push(s),l.clean=!0)}for(var c=0;c<i.length;c++){var u=i[c],h=u._private.rstyle,d=u.position();this.recalculateNodeLabelProjection(u),h.nodeX=d.x,h.nodeY=d.y,h.nodeW=u.pstyle("width").pfValue,h.nodeH=u.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var p=0;p<r.length;p++){var f=r[p]._private,g=f.rstyle,m=f.rscratch;g.srcX=m.arrowStartX,g.srcY=m.arrowStartY,g.tgtX=m.arrowEndX,g.tgtY=m.arrowEndY,g.midX=m.midX,g.midY=m.midY,g.labelAngle=m.labelAngle,g.sourceLabelAngle=m.sourceLabelAngle,g.targetLabelAngle=m.targetLabelAngle}}}}},Qu={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=(i=e[n])._private.rscratch;i.grabbed()&&!i.isParent()?t.push(i):r.inDragLayer?e.drag.push(i):e.nondrag.push(i)}for(n=0;n<t.length;n++){var i=t[n];e.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(dl),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}},Ju={};[fu,gu,ju,Hu,Gu,Wu,Xu,Zu,Qu].forEach(function(e){be(Ju,e)});var eh={getCachedImage:function(e,t,n){var r=this.imageCache=this.imageCache||{},i=r[e];if(i)return i.image.complete||i.image.addEventListener("load",n),i.image;var o=(i=r[e]=r[e]||{}).image=new Image;o.addEventListener("load",n),o.addEventListener("error",function(){o.error=!0});var s="data:";return e.substring(0,5).toLowerCase()===s||(t="null"===t?null:t,o.crossOrigin=t),o.src=e,o}},th={registerBinding:function(e,t,n,r){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var o=[],s=0;s<e.length;s++){var a=e[s];if(void 0!==a){var l=this.binder(a);o.push(l.on.apply(l,i))}}return o}return(l=this.binder(e)).on.apply(l,i)}};th.binder=function(e){var t,n=this,r=n.cy.window(),i=e===r||e===r.document||e===r.document.body||(t=e,"undefined"!=typeof HTMLElement&&t instanceof HTMLElement);if(null==n.supportsPassiveEvents){var o=!1;try{var s=Object.defineProperty({},"passive",{get:function(){return o=!0,!0}});r.addEventListener("test",null,s)}catch(e){}n.supportsPassiveEvents=o}var a=function(t,r,o){var s=Array.prototype.slice.call(arguments);return i&&n.supportsPassiveEvents&&(s[2]={capture:null!=o&&o,passive:!1,once:!1}),n.bindings.push({target:e,args:s}),(e.addEventListener||e.on).apply(e,s),this};return{on:a,addEventListener:a,addListener:a,bind:a}},th.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},th.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},th.load=function(){var e=this,t=e.cy.window(),n=function(e){return e.selected()},r=function(t,n,r,i){null==t&&(t=e.cy);for(var o=0;o<n.length;o++){var s=n[o];t.emit({originalEvent:r,type:s,position:i})}},i=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},o=function(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.pannable())for(var i=0;n&&i<n.length;i++){if((t=n[i]).isNode()&&t.isParent()&&!t.pannable()){r=!1;break}}else r=!0;return r},s=function(e){e[0]._private.rscratch.inDragLayer=!0},a=function(e){e[0]._private.rscratch.isGrabTarget=!0},l=function(e,t){var n=t.addToList;n.has(e)||!e.grabbable()||e.locked()||(n.merge(e),function(e){e[0]._private.grabbed=!0}(e))},c=function(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(s),t.neighborhood().stdFilter(function(e){return!r||e.isEdge()}).forEach(s)),n.addToList&&t.forEach(function(e){l(e,n)}),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(s),n.connectedEdges().forEach(s)),t.addToList&&l(n,t)}}(t,n),d(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},u=c,h=function(t){t&&(e.getCachedZSortedEles().forEach(function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)}),e.updateCachedGrabbedEles())},d=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),i=r.connectedEdges();t.inDragLayer&&(i.forEach(s),r.forEach(s)),t.addToList&&r.forEach(function(e){l(e,t)})}}},p=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},f="undefined"!=typeof MutationObserver,g="undefined"!=typeof ResizeObserver;f?(e.removeObserver=new MutationObserver(function(t){for(var n=0;n<t.length;n++){var r=t[n].removedNodes;if(r)for(var i=0;i<r.length;i++){if(r[i]===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(t){e.destroy()});var m=Re(function(){e.cy.resize()},100);f&&(e.styleObserver=new MutationObserver(m),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",m),g&&(e.resizeObserver=new ResizeObserver(m),e.resizeObserver.observe(e.container));var v=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,function(t){e.registerBinding(t,"transitionend",v),e.registerBinding(t,"animationend",v),e.registerBinding(t,"scroll",v)}),e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var y=function(t){for(var n=e.findContainerClientCoords(),r=n[0],i=n[1],o=n[2],s=n[3],a=t.touches?t.touches:[t],l=!1,c=0;c<a.length;c++){var u=a[c];if(r<=u.clientX&&u.clientX<=r+o&&i<=u.clientY&&u.clientY<=i+s){l=!0;break}}if(!l)return!1;for(var h=e.container,d=t.target.parentNode,p=!1;d;){if(d===h){p=!0;break}d=d.parentNode}return!!p};e.registerBinding(e.container,"mousedown",function(t){if(y(t)&&(1!==e.hoverData.which||1===t.which)){t.preventDefault(),p(),e.hoverData.capture=!0,e.hoverData.which=t.which;var n=e.cy,i=[t.clientX,t.clientY],o=e.projectIntoViewport(i[0],i[1]),s=e.selection,l=e.findNearestElements(o[0],o[1],!0,!1),h=l[0],d=e.dragData.possibleDragElements;e.hoverData.mdownPos=o,e.hoverData.mdownGPos=i;var f=function(e){return{originalEvent:t,type:e,position:{x:o[0],y:o[1]}}};if(3==t.which){e.hoverData.cxtStarted=!0;var g={originalEvent:t,type:"cxttapstart",position:{x:o[0],y:o[1]}};h?(h.activate(),h.emit(g),e.hoverData.down=h):n.emit(g),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(h&&h.activate(),null!=h&&e.nodeIsGrabbable(h)){if(a(h),h.selected()){d=e.dragData.possibleDragElements=n.collection();var m=n.$(function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)});c(m,{addToList:d}),h.emit(f("grabon")),m.forEach(function(e){e.emit(f("grab"))})}else d=e.dragData.possibleDragElements=n.collection(),u(h,{addToList:d}),h.emit(f("grabon")).emit(f("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=h,e.hoverData.downs=l,e.hoverData.downTime=(new Date).getTime(),r(h,["mousedown","tapstart","vmousedown"],t,{x:o[0],y:o[1]}),null==h?(s[4]=1,e.data.bgActivePosistion={x:o[0],y:o[1]},e.redrawHint("select",!0),e.redraw()):h.pannable()&&(s[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var t=e.hoverData.down;t?t.emit(f("taphold")):n.emit(f("taphold"))}},e.tapholdDuration)}s[0]=s[2]=o[0],s[1]=s[3]=o[1]}},!1);var b,w,x,_=function(e){var t=e.getRootNode();if(t&&11===t.nodeType&&void 0!==t.host)return t}(e.container);e.registerBinding([t,_],"mousemove",function(t){if(e.hoverData.capture||y(t)){var n=!1,s=e.cy,a=s.zoom(),l=[t.clientX,t.clientY],u=e.projectIntoViewport(l[0],l[1]),d=e.hoverData.mdownPos,p=e.hoverData.mdownGPos,f=e.selection,g=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(g=e.findNearestElement(u[0],u[1],!0,!1));var m,v=e.hoverData.last,b=e.hoverData.down,w=[u[0]-f[2],u[1]-f[3]],x=e.dragData.possibleDragElements;if(p){var _=l[0]-p[0],A=_*_,T=l[1]-p[1],E=A+T*T;e.hoverData.isOverThresholdDrag=m=E>=e.desktopTapThreshold2}var k=i(t);m&&(e.hoverData.tapholdCancelled=!0);n=!0,r(g,["mousemove","vmousemove","tapdrag"],t,{x:u[0],y:u[1]});var S=function(e){return{originalEvent:t,type:e,position:{x:u[0],y:u[1]}}},C=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||s.emit(S("boxstart")),f[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(m){var N=S("cxtdrag");b?b.emit(N):s.emit(N),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&g===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(S("cxtdragout")),e.hoverData.cxtOver=g,g&&g.emit(S("cxtdragover")))}}else if(e.hoverData.dragging){if(n=!0,s.panningEnabled()&&s.userPanningEnabled()){var M;if(e.hoverData.justStartedPan){var O=e.hoverData.mdownPos;M={x:(u[0]-O[0])*a,y:(u[1]-O[1])*a},e.hoverData.justStartedPan=!1}else M={x:w[0]*a,y:w[1]*a};s.panBy(M),s.emit(S("dragpan")),e.hoverData.dragged=!0}u=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=f[4]||null!=b&&!b.pannable()){if(b&&b.pannable()&&b.active()&&b.unactivate(),b&&b.grabbed()||g==v||(v&&r(v,["mouseout","tapdragout"],t,{x:u[0],y:u[1]}),g&&r(g,["mouseover","tapdragover"],t,{x:u[0],y:u[1]}),e.hoverData.last=g),b)if(m){if(s.boxSelectionEnabled()&&k)b&&b.grabbed()&&(h(x),b.emit(S("freeon")),x.emit(S("free")),e.dragData.didDrag&&(b.emit(S("dragfreeon")),x.emit(S("dragfree")))),C();else if(b&&b.grabbed()&&e.nodeIsDraggable(b)){var R=!e.dragData.didDrag;R&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||c(x,{inDragLayer:!0});var I={x:0,y:0};if(Q(w[0])&&Q(w[1])&&(I.x+=w[0],I.y+=w[1],R)){var L=e.hoverData.dragDelta;L&&Q(L[0])&&Q(L[1])&&(I.x+=L[0],I.y+=L[1])}e.hoverData.draggingEles=!0,x.silentShift(I).emit(S("position")).emit(S("drag")),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(w[0]),t.push(w[1])):(t[0]+=w[0],t[1]+=w[1])}();n=!0}else if(m){if(e.hoverData.dragging||!s.boxSelectionEnabled()||!k&&s.panningEnabled()&&s.userPanningEnabled()){if(!e.hoverData.selecting&&s.panningEnabled()&&s.userPanningEnabled()){o(b,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,f[4]=0,e.data.bgActivePosistion=Ht(d),e.redrawHint("select",!0),e.redraw())}}else C();b&&b.pannable()&&b.active()&&b.unactivate()}return f[2]=u[0],f[3]=u[1],n?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}},!1),e.registerBinding(t,"mouseup",function(t){if((1!==e.hoverData.which||1===t.which||!e.hoverData.capture)&&e.hoverData.capture){e.hoverData.capture=!1;var o=e.cy,s=e.projectIntoViewport(t.clientX,t.clientY),a=e.selection,l=e.findNearestElement(s[0],s[1],!0,!1),c=e.dragData.possibleDragElements,u=e.hoverData.down,d=i(t);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,u&&u.unactivate();var p=function(e){return{originalEvent:t,type:e,position:{x:s[0],y:s[1]}}};if(3===e.hoverData.which){var f=p("cxttapend");if(u?u.emit(f):o.emit(f),!e.hoverData.cxtDragged){var g=p("cxttap");u?u.emit(g):o.emit(g)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(r(l,["mouseup","tapend","vmouseup"],t,{x:s[0],y:s[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||(r(u,["click","tap","vclick"],t,{x:s[0],y:s[1]}),w=!1,t.timeStamp-x<=o.multiClickDebounceTime()?(b&&clearTimeout(b),w=!0,x=null,r(u,["dblclick","dbltap","vdblclick"],t,{x:s[0],y:s[1]})):(b=setTimeout(function(){w||r(u,["oneclick","onetap","voneclick"],t,{x:s[0],y:s[1]})},o.multiClickDebounceTime()),x=t.timeStamp)),null!=u||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||i(t)||(o.$(n).unselect(["tapunselect"]),c.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=c=o.collection()),l!=u||e.dragData.didDrag||e.hoverData.selecting||null!=l&&l._private.selectable&&(e.hoverData.dragging||("additive"===o.selectionType()||d?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):d||(o.$(n).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var m=o.collection(e.getAllInBox(a[0],a[1],a[2],a[3]));e.redrawHint("select",!0),m.length>0&&e.redrawHint("eles",!0),o.emit(p("boxend"));var v=function(e){return e.selectable()&&!e.selected()};"additive"===o.selectionType()||d||o.$(n).unmerge(m).unselect(),m.emit(p("box")).stdFilter(v).select().emit(p("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!a[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var y=u&&u.grabbed();h(c),y&&(u.emit(p("freeon")),c.emit(p("free")),e.dragData.didDrag&&(u.emit(p("dragfreeon")),c.emit(p("dragfree"))))}}a[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}},!1);var A,T,E,k,S,C,N,M,O,R,I,L,P,D,B=[],F=1e5,z=function(t){var n=!1,r=t.deltaY;if(null==r&&(null!=t.wheelDeltaY?r=t.wheelDeltaY/4:null!=t.wheelDelta&&(r=t.wheelDelta/4)),0!==r){if(null==A)if(B.length>=4){var i=B;if(A=function(e,t){for(var n=0;n<e.length;n++)if(e[n]%t!==0)return!1;return!0}(i,5),!A){var o=Math.abs(i[0]);A=function(e){for(var t=Math.abs(e[0]),n=1;n<e.length;n++)if(Math.abs(e[n])!==t)return!1;return!0}(i)&&o>5}if(A)for(var s=0;s<i.length;s++)F=Math.min(Math.abs(i[s]),F)}else B.push(r),n=!0;else A&&(F=Math.min(Math.abs(r),F));if(!e.scrollingPage){var a=e.cy,l=a.zoom(),c=a.pan(),u=e.projectIntoViewport(t.clientX,t.clientY),h=[u[0]*l+c.x,u[1]*l+c.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4])t.preventDefault();else if(a.panningEnabled()&&a.userPanningEnabled()&&a.zoomingEnabled()&&a.userZoomingEnabled()){var d;t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150),n&&Math.abs(r)>5&&(r=5*Wt(r)),d=r/-250,A&&(d/=F,d*=3),d*=e.wheelSensitivity,1===t.deltaMode&&(d*=33);var p=a.zoom()*Math.pow(10,d);"gesturechange"===t.type&&(p=e.gestureStartZoom*t.scale),a.zoom({level:p,renderedPosition:{x:h[0],y:h[1]}}),a.emit({type:"gesturechange"===t.type?"pinchzoom":"scrollzoom",originalEvent:t,position:{x:u[0],y:u[1]}})}}}};e.registerBinding(e.container,"wheel",z,!0),e.registerBinding(t,"scroll",function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(t){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||t.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(t){e.hasTouchStarted||z(t)},!0),e.registerBinding(e.container,"mouseout",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})},!1),e.registerBinding(e.container,"mouseover",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})},!1);var $,j,U,H,G,V,W,Y=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},q=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};if(e.registerBinding(e.container,"touchstart",$=function(t){if(e.hasTouchStarted=!0,y(t)){p(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var n=e.cy,i=e.touchData.now,o=e.touchData.earlier;if(t.touches[0]){var s=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);i[0]=s[0],i[1]=s[1]}if(t.touches[1]){s=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);i[2]=s[0],i[3]=s[1]}if(t.touches[2]){s=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);i[4]=s[0],i[5]=s[1]}var l=function(e){return{originalEvent:t,type:e,position:{x:i[0],y:i[1]}}};if(t.touches[1]){e.touchData.singleTouchMoved=!0,h(e.dragData.touchDragEles);var d=e.findContainerClientCoords();R=d[0],I=d[1],L=d[2],P=d[3],T=t.touches[0].clientX-R,E=t.touches[0].clientY-I,k=t.touches[1].clientX-R,S=t.touches[1].clientY-I,D=0<=T&&T<=L&&0<=k&&k<=L&&0<=E&&E<=P&&0<=S&&S<=P;var f=n.pan(),g=n.zoom();C=Y(T,E,k,S),N=q(T,E,k,S),O=[((M=[(T+k)/2,(E+S)/2])[0]-f.x)/g,(M[1]-f.y)/g];if(N<4e4&&!t.touches[2]){var m=e.findNearestElement(i[0],i[1],!0,!0),v=e.findNearestElement(i[2],i[3],!0,!0);return m&&m.isNode()?(m.activate().emit(l("cxttapstart")),e.touchData.start=m):v&&v.isNode()?(v.activate().emit(l("cxttapstart")),e.touchData.start=v):n.emit(l("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2])n.boxSelectionEnabled()&&t.preventDefault();else if(t.touches[1]);else if(t.touches[0]){var b=e.findNearestElements(i[0],i[1],!0,!0),w=b[0];if(null!=w&&(w.activate(),e.touchData.start=w,e.touchData.starts=b,e.nodeIsGrabbable(w))){var x=e.dragData.touchDragEles=n.collection(),_=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),w.selected()?(_=n.$(function(t){return t.selected()&&e.nodeIsGrabbable(t)}),c(_,{addToList:x})):u(w,{addToList:x}),a(w),w.emit(l("grabon")),_?_.forEach(function(e){e.emit(l("grab"))}):w.emit(l("grab"))}r(w,["touchstart","tapstart","vmousedown"],t,{x:i[0],y:i[1]}),null==w&&(e.data.bgActivePosistion={x:s[0],y:s[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||r(e.touchData.start,["taphold"],t,{x:i[0],y:i[1]})},e.tapholdDuration)}if(t.touches.length>=1){for(var A=e.touchData.startPosition=[null,null,null,null,null,null],B=0;B<i.length;B++)A[B]=o[B]=i[B];var F=t.touches[0];e.touchData.startGPosition=[F.clientX,F.clientY]}}},!1),e.registerBinding(t,"touchmove",j=function(t){var n=e.touchData.capture;if(n||y(t)){var i=e.selection,s=e.cy,a=e.touchData.now,l=e.touchData.earlier,u=s.zoom();if(t.touches[0]){var d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);a[0]=d[0],a[1]=d[1]}if(t.touches[1]){d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);a[2]=d[0],a[3]=d[1]}if(t.touches[2]){d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);a[4]=d[0],a[5]=d[1]}var p,f=function(e){return{originalEvent:t,type:e,position:{x:a[0],y:a[1]}}},g=e.touchData.startGPosition;if(n&&t.touches[0]&&g){for(var m=[],v=0;v<a.length;v++)m[v]=a[v]-l[v];var b=t.touches[0].clientX-g[0],w=b*b,x=t.touches[0].clientY-g[1];p=w+x*x>=e.touchTapThreshold2}if(n&&e.touchData.cxt){t.preventDefault();var _=t.touches[0].clientX-R,A=t.touches[0].clientY-I,M=t.touches[1].clientX-R,L=t.touches[1].clientY-I,P=q(_,A,M,L);if(P/N>=2.25||P>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var B=f("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(B),e.touchData.start=null):s.emit(B)}}if(n&&e.touchData.cxt){B=f("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(B):s.emit(B),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var F=e.findNearestElement(a[0],a[1],!0,!0);e.touchData.cxtOver&&F===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit(f("cxtdragout")),e.touchData.cxtOver=F,F&&F.emit(f("cxtdragover")))}else if(n&&t.touches[2]&&s.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||s.emit(f("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,i[4]=1,i&&0!==i.length&&void 0!==i[0]?(i[2]=(a[0]+a[2]+a[4])/3,i[3]=(a[1]+a[3]+a[5])/3):(i[0]=(a[0]+a[2]+a[4])/3,i[1]=(a[1]+a[3]+a[5])/3,i[2]=(a[0]+a[2]+a[4])/3+1,i[3]=(a[1]+a[3]+a[5])/3+1),e.redrawHint("select",!0),e.redraw();else if(n&&t.touches[1]&&!e.touchData.didSelect&&s.zoomingEnabled()&&s.panningEnabled()&&s.userZoomingEnabled()&&s.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),te=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var z=0;z<te.length;z++){var $=te[z]._private;$.grabbed=!1,$.rscratch.inDragLayer=!1}}var j=e.touchData.start,U=(_=t.touches[0].clientX-R,A=t.touches[0].clientY-I,M=t.touches[1].clientX-R,L=t.touches[1].clientY-I,Y(_,A,M,L)),H=U/C;if(D){var G=(_-T+(M-k))/2,V=(A-E+(L-S))/2,W=s.zoom(),X=W*H,K=s.pan(),Z=O[0]*W+K.x,J=O[1]*W+K.y,ee={x:-X/W*(Z-K.x-G)+Z,y:-X/W*(J-K.y-V)+J};if(j&&j.active()){var te=e.dragData.touchDragEles;h(te),e.redrawHint("drag",!0),e.redrawHint("eles",!0),j.unactivate().emit(f("freeon")),te.emit(f("free")),e.dragData.didDrag&&(j.emit(f("dragfreeon")),te.emit(f("dragfree")))}s.viewport({zoom:X,pan:ee,cancelOnFailedZoom:!0}),s.emit(f("pinchzoom")),C=U,T=_,E=A,k=M,S=L,e.pinching=!0}if(t.touches[0]){d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);a[0]=d[0],a[1]=d[1]}if(t.touches[1]){d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);a[2]=d[0],a[3]=d[1]}if(t.touches[2]){d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);a[4]=d[0],a[5]=d[1]}}else if(t.touches[0]&&!e.touchData.didSelect){var ne=e.touchData.start,re=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(F=e.findNearestElement(a[0],a[1],!0,!0)),n&&null!=ne&&t.preventDefault(),n&&null!=ne&&e.nodeIsDraggable(ne))if(p){te=e.dragData.touchDragEles;var ie=!e.dragData.didDrag;ie&&c(te,{inDragLayer:!0}),e.dragData.didDrag=!0;var oe={x:0,y:0};if(Q(m[0])&&Q(m[1]))if(oe.x+=m[0],oe.y+=m[1],ie)e.redrawHint("eles",!0),(se=e.touchData.dragDelta)&&Q(se[0])&&Q(se[1])&&(oe.x+=se[0],oe.y+=se[1]);e.hoverData.draggingEles=!0,te.silentShift(oe).emit(f("position")).emit(f("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==l[0]&&e.touchData.startPosition[1]==l[1]&&e.redrawHint("eles",!0),e.redraw()}else{var se;0===(se=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(se.push(m[0]),se.push(m[1])):(se[0]+=m[0],se[1]+=m[1])}if(r(ne||F,["touchmove","tapdrag","vmousemove"],t,{x:a[0],y:a[1]}),ne&&ne.grabbed()||F==re||(re&&re.emit(f("tapdragout")),F&&F.emit(f("tapdragover"))),e.touchData.last=F,n)for(z=0;z<a.length;z++)a[z]&&e.touchData.startPosition[z]&&p&&(e.touchData.singleTouchMoved=!0);if(n&&(null==ne||ne.pannable())&&s.panningEnabled()&&s.userPanningEnabled()){o(ne,e.touchData.starts)&&(t.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=Ht(e.touchData.startPosition)),e.swipePanning?(s.panBy({x:m[0]*u,y:m[1]*u}),s.emit(f("dragpan"))):p&&(e.swipePanning=!0,s.panBy({x:b*u,y:x*u}),s.emit(f("dragpan")),ne&&(ne.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);a[0]=d[0],a[1]=d[1]}}for(v=0;v<a.length;v++)l[v]=a[v];n&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(t,"touchcancel",U=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(t,"touchend",H=function(t){var i=e.touchData.start;if(e.touchData.capture){0===t.touches.length&&(e.touchData.capture=!1),t.preventDefault();var o=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var s=e.cy,a=s.zoom(),l=e.touchData.now,c=e.touchData.earlier;if(t.touches[0]){var u=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);l[0]=u[0],l[1]=u[1]}if(t.touches[1]){u=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);l[2]=u[0],l[3]=u[1]}if(t.touches[2]){u=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);l[4]=u[0],l[5]=u[1]}var d,p=function(e){return{originalEvent:t,type:e,position:{x:l[0],y:l[1]}}};if(i&&i.unactivate(),e.touchData.cxt){if(d=p("cxttapend"),i?i.emit(d):s.emit(d),!e.touchData.cxtDragged){var f=p("cxttap");i?i.emit(f):s.emit(f)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!t.touches[2]&&s.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var g=s.collection(e.getAllInBox(o[0],o[1],o[2],o[3]));o[0]=void 0,o[1]=void 0,o[2]=void 0,o[3]=void 0,o[4]=0,e.redrawHint("select",!0),s.emit(p("boxend"));g.emit(p("box")).stdFilter(function(e){return e.selectable()&&!e.selected()}).select().emit(p("boxselect")),g.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=i&&i.unactivate(),t.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(t.touches[1]);else if(t.touches[0]);else if(!t.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var m=e.dragData.touchDragEles;if(null!=i){var v=i._private.grabbed;h(m),e.redrawHint("drag",!0),e.redrawHint("eles",!0),v&&(i.emit(p("freeon")),m.emit(p("free")),e.dragData.didDrag&&(i.emit(p("dragfreeon")),m.emit(p("dragfree")))),r(i,["touchend","tapend","vmouseup","tapdragout"],t,{x:l[0],y:l[1]}),i.unactivate(),e.touchData.start=null}else{var y=e.findNearestElement(l[0],l[1],!0,!0);r(y,["touchend","tapend","vmouseup","tapdragout"],t,{x:l[0],y:l[1]})}var b=e.touchData.startPosition[0]-l[0],w=b*b,x=e.touchData.startPosition[1]-l[1],_=(w+x*x)*a*a;e.touchData.singleTouchMoved||(i||s.$(":selected").unselect(["tapunselect"]),r(i,["tap","vclick"],t,{x:l[0],y:l[1]}),G=!1,t.timeStamp-W<=s.multiClickDebounceTime()?(V&&clearTimeout(V),G=!0,W=null,r(i,["dbltap","vdblclick"],t,{x:l[0],y:l[1]})):(V=setTimeout(function(){G||r(i,["onetap","voneclick"],t,{x:l[0],y:l[1]})},s.multiClickDebounceTime()),W=t.timeStamp)),null!=i&&!e.dragData.didDrag&&i._private.selectable&&_<e.touchTapThreshold2&&!e.pinching&&("single"===s.selectionType()?(s.$(n).unmerge(i).unselect(["tapunselect"]),i.select(["tapselect"])):i.selected()?i.unselect(["tapunselect"]):i.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var A=0;A<l.length;A++)c[A]=l[A];e.dragData.didDrag=!1,0===t.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),t.touches.length<2&&(1===t.touches.length&&(e.touchData.startGPosition=[t.touches[0].clientX,t.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var X=[],K=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},Z=function(e){X.push(function(e){return{event:e,touch:K(e)}}(e))},J=function(e){for(var t=0;t<X.length;t++){if(X[t].event.pointerId===e.pointerId)return void X.splice(t,1)}},ee=function(e){e.touches=X.map(function(e){return e.touch})},te=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",function(e){te(e)||(e.preventDefault(),Z(e),ee(e),$(e))}),e.registerBinding(e.container,"pointerup",function(e){te(e)||(J(e),ee(e),H(e))}),e.registerBinding(e.container,"pointercancel",function(e){te(e)||(J(e),ee(e),U())}),e.registerBinding(e.container,"pointermove",function(e){te(e)||(e.preventDefault(),function(e){var t=X.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e,t.touch=K(e)}(e),ee(e),j(e))})}};var nh={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,r,i,o){this.renderer.nodeShapeImpl("polygon",e,t,n,r,i,this.points)},intersectLine:function(e,t,n,r,i,o,s,a){return kn(i,o,this.points,e,t,n/2,r/2,s)},checkPoint:function(e,t,n,r,i,o,s,a){return yn(e,t,this.points,o,s,r,i,[0,-1],n)},hasMiterBounds:"rectangle"!==e,miterBounds:function(e,t,n,r,i,o){return hn(this.points,e,t,n,r,i)}}}};nh.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,r,i,o){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,o,s,a){return function(e,t,n,r,i,o){var s=n-e,a=r-t;s/=i,a/=o;var l=Math.sqrt(s*s+a*a),c=l-1;if(c<0)return[];var u=c/l;return[(n-e)*u+e,(r-t)*u+t]}(i,o,e,t,n/2+s,r/2+s)},checkPoint:function(e,t,n,r,i,o,s,a){return xn(e,t,r,i,o,s,n)}}},nh.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(e,n,r,i,o,s,a){if(void 0!==s[a]&&s[a+"-cx"]===e&&s[a+"-cy"]===n)return s[a];s[a]=new Array(t.length/2),s[a+"-cx"]=e,s[a+"-cy"]=n;var l=r/2,c=i/2;o="auto"===o?Rn(r,i):o;for(var u=new Array(t.length/2),h=0;h<t.length/2;h++)u[h]={x:e+l*t[2*h],y:n+c*t[2*h+1]};var d,p,f,g,m=u.length;for(p=u[m-1],d=0;d<m;d++)f=u[d%m],g=u[(d+1)%m],s[a][d]=Fu(p,f,g,o),p=f,f=g;return s[a]},draw:function(e,t,n,r,i,o,s){this.renderer.nodeShapeImpl("round-polygon",e,t,n,r,i,this.points,this.getOrCreateCorners(t,n,r,i,o,s,"drawCorners"))},intersectLine:function(e,t,n,r,i,o,s,a,l){return function(e,t,n,r,i,o,s,a,l){var c,u=[],h=new Array(2*n.length);l.forEach(function(n,o){0===o?(h[h.length-2]=n.startX,h[h.length-1]=n.startY):(h[4*o-2]=n.startX,h[4*o-1]=n.startY),h[4*o]=n.stopX,h[4*o+1]=n.stopY,0!==(c=_n(e,t,r,i,n.cx,n.cy,n.radius)).length&&u.push(c[0],c[1])});for(var d=0;d<h.length/4;d++)0!==(c=Tn(e,t,r,i,h[4*d],h[4*d+1],h[4*d+2],h[4*d+3],!1)).length&&u.push(c[0],c[1]);if(u.length>2){for(var p=[u[0],u[1]],f=Math.pow(p[0]-e,2)+Math.pow(p[1]-t,2),g=1;g<u.length/2;g++){var m=Math.pow(u[2*g]-e,2)+Math.pow(u[2*g+1]-t,2);m<=f&&(p[0]=u[2*g],p[1]=u[2*g+1],f=m)}return p}return u}(i,o,this.points,e,t,0,0,0,this.getOrCreateCorners(e,t,n,r,a,l,"corners"))},checkPoint:function(e,t,n,r,i,o,s,a,l){return function(e,t,n,r,i,o,s,a){for(var l=new Array(2*n.length),c=0;c<a.length;c++){var u=a[c];if(l[4*c+0]=u.startX,l[4*c+1]=u.startY,l[4*c+2]=u.stopX,l[4*c+3]=u.stopY,Math.pow(u.cx-e,2)+Math.pow(u.cy-t,2)<=Math.pow(u.radius,2))return!0}return vn(e,t,l)}(e,t,this.points,0,0,0,0,this.getOrCreateCorners(o,s,r,i,a,l,"corners"))}}},nh.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Cn(4,0),draw:function(e,t,n,r,i,o){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i,this.points,o)},intersectLine:function(e,t,n,r,i,o,s,a){return dn(i,o,e,t,n,r,s,a)},checkPoint:function(e,t,n,r,i,o,s,a){var l=r/2,c=i/2;a="auto"===a?On(r,i):a;var u=2*(a=Math.min(l,c,a));return!!yn(e,t,this.points,o,s,r,i-u,[0,-1],n)||(!!yn(e,t,this.points,o,s,r-u,i,[0,-1],n)||(!!xn(e,t,u,u,o-l+a,s-c+a,n)||(!!xn(e,t,u,u,o+l-a,s-c+a,n)||(!!xn(e,t,u,u,o+l-a,s+c-a,n)||!!xn(e,t,u,u,o-l+a,s+c-a,n)))))}}},nh.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Cn(4,0),draw:function(e,t,n,r,i,o){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i,null,o)},generateCutTrianglePts:function(e,t,n,r,i){var o="auto"===i?this.cornerLength:i,s=t/2,a=e/2,l=n-a,c=n+a,u=r-s,h=r+s;return{topLeft:[l,u+o,l+o,u,l+o,u+o],topRight:[c-o,u,c,u+o,c-o,u+o],bottomRight:[c,h-o,c-o,h,c-o,h-o],bottomLeft:[l+o,h,l,h-o,l+o,h-o]}},intersectLine:function(e,t,n,r,i,o,s,a){var l=this.generateCutTrianglePts(n+2*s,r+2*s,e,t,a),c=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return kn(i,o,c,e,t)},checkPoint:function(e,t,n,r,i,o,s,a){var l="auto"===a?this.cornerLength:a;if(yn(e,t,this.points,o,s,r,i-2*l,[0,-1],n))return!0;if(yn(e,t,this.points,o,s,r-2*l,i,[0,-1],n))return!0;var c=this.generateCutTrianglePts(r,i,o,s);return vn(e,t,c.topLeft)||vn(e,t,c.topRight)||vn(e,t,c.bottomRight)||vn(e,t,c.bottomLeft)}}},nh.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Cn(4,0),draw:function(e,t,n,r,i,o){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,o,s,a){var l=this.generateBarrelBezierPts(n+2*s,r+2*s,e,t),c=function(e){var t=Zt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=Zt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),r=Zt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,r.x,r.y,e[4],e[5]]},u=[].concat(c(l.topLeft),c(l.topRight),c(l.bottomRight),c(l.bottomLeft));return kn(i,o,u,e,t)},generateBarrelBezierPts:function(e,t,n,r){var i=t/2,o=e/2,s=n-o,a=n+o,l=r-i,c=r+i,u=In(e,t),h=u.heightOffset,d=u.widthOffset,p=u.ctrlPtOffsetPct*e,f={topLeft:[s,l+h,s+p,l,s+d,l],topRight:[a-d,l,a-p,l,a,l+h],bottomRight:[a,c-h,a-p,c,a-d,c],bottomLeft:[s+d,c,s+p,c,s,c-h]};return f.topLeft.isTop=!0,f.topRight.isTop=!0,f.bottomLeft.isBottom=!0,f.bottomRight.isBottom=!0,f},checkPoint:function(e,t,n,r,i,o,s,a){var l=In(r,i),c=l.heightOffset,u=l.widthOffset;if(yn(e,t,this.points,o,s,r,i-2*c,[0,-1],n))return!0;if(yn(e,t,this.points,o,s,r-2*u,i,[0,-1],n))return!0;for(var h=this.generateBarrelBezierPts(r,i,o,s),d=function(e,t,n){var r,i,o=n[4],s=n[2],a=n[0],l=n[5],c=n[1],u=Math.min(o,a),h=Math.max(o,a),d=Math.min(l,c),p=Math.max(l,c);if(u<=e&&e<=h&&d<=t&&t<=p){var f=[(r=o)-2*(i=s)+a,2*(i-r),r],g=function(e,t,n,r){var i=t*t-4*e*(n-=r);if(i<0)return[];var o=Math.sqrt(i),s=2*e;return[(-t+o)/s,(-t-o)/s]}(f[0],f[1],f[2],e).filter(function(e){return 0<=e&&e<=1});if(g.length>0)return g[0]}return null},p=Object.keys(h),f=0;f<p.length;f++){var g=h[p[f]],m=d(e,t,g);if(null!=m){var v=g[5],y=g[3],b=g[1],w=Kt(v,y,b,m);if(g.isTop&&w<=t)return!0;if(g.isBottom&&t<=w)return!0}}return!1}}},nh.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Cn(4,0),draw:function(e,t,n,r,i,o){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i,this.points,o)},intersectLine:function(e,t,n,r,i,o,s,a){var l=t-(r/2+s),c=Tn(i,o,e,t,e-(n/2+s),l,e+(n/2+s),l,!1);return c.length>0?c:dn(i,o,e,t,n,r,s,a)},checkPoint:function(e,t,n,r,i,o,s,a){var l=2*(a="auto"===a?On(r,i):a);if(yn(e,t,this.points,o,s,r,i-l,[0,-1],n))return!0;if(yn(e,t,this.points,o,s,r-l,i,[0,-1],n))return!0;var c=r/2+2*n,u=i/2+2*n;return!!vn(e,t,[o-c,s-u,o-c,s,o+c,s,o+c,s-u])||(!!xn(e,t,l,l,o+r/2-a,s+i/2-a,n)||!!xn(e,t,l,l,o-r/2+a,s+i/2-a,n))}}},nh.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",Cn(3,0)),this.generateRoundPolygon("round-triangle",Cn(3,0)),this.generatePolygon("rectangle",Cn(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",Cn(5,0)),this.generateRoundPolygon("round-pentagon",Cn(5,0)),this.generatePolygon("hexagon",Cn(6,0)),this.generateRoundPolygon("round-hexagon",Cn(6,0)),this.generatePolygon("heptagon",Cn(7,0)),this.generateRoundPolygon("round-heptagon",Cn(7,0)),this.generatePolygon("octagon",Cn(8,0)),this.generateRoundPolygon("round-octagon",Cn(8,0));var r=new Array(20),i=Mn(5,0),o=Mn(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var a=0;a<o.length/2;a++)o[2*a]*=s,o[2*a+1]*=s;for(a=0;a<5;a++)r[4*a]=i[2*a],r[4*a+1]=i[2*a+1],r[4*a+2]=o[2*a],r[4*a+3]=o[2*a+1];r=Nn(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l),e.makePolygon=function(e){var n,r="polygon-"+e.join("$");return(n=this[r])?n:t.generatePolygon(r,e)}};var rh={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||lt();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&nt("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(e,t){return t.priority-e.priority})}}},ih=function(e,t,n){for(var r=e.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(t,n)};rh.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var n=function(r){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){ih(e,!0,r);var i=Be();e.render(e.renderOptions);var o=e.lastDrawTime=Be();void 0===e.averageRedrawTime&&(e.averageRedrawTime=o-i),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var s=o-i;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else ih(e,!1,r);e.skipFrame=!1,De(n)}};De(n)}};var oh=function(e){this.init(e)},sh=oh.prototype;sh.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],sh.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container(),r=t.cy.window();if(r){var i=r.document,o=i.head,s="__________cytoscape_stylesheet",a="__________cytoscape_container",l=null!=i.getElementById(s);if(n.className.indexOf(a)<0&&(n.className=(n.className||"")+" "+a),!l){var c=i.createElement("style");c.id=s,c.textContent="."+a+" { position: relative; }",o.insertBefore(c,o.children[0])}"static"===r.getComputedStyle(n).getPropertyValue("position")&&it()}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=Q(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},sh.notify=function(e,t){var n=this,r=n.cy;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&r.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&n.invalidateCachedZSortedEles(),"viewport"===e&&n.redrawHint("select",!0),"gc"===e&&n.redrawHint("gc",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},sh.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(e){}},sh.isHeadless=function(){return!1},[pu,Ju,eh,th,nh,rh].forEach(function(e){be(sh,e)});var ah=1e3/60,lh=function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var r=Re(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},e.deqRedrawThreshold),i=e.priority||tt;n.beforeRender(function(i,o){var s=Be(),a=n.averageRedrawTime,l=n.lastRedrawTime,c=[],u=n.cy.extent(),h=n.getPixelRatio();for(i||n.flushRenderedStyleQueue();;){var d=Be(),p=d-s,f=d-o;if(l<ah){var g=ah-(i?a:0);if(f>=e.deqFastCost*g)break}else if(i){if(p>=e.deqCost*l||p>=e.deqAvgCost*a)break}else if(f>=e.deqNoDrawCost*ah)break;var m=e.deq(t,h,u);if(!(m.length>0))break;for(var v=0;v<m.length;v++)c.push(m[v])}c.length>0&&(e.onDeqd(t,c),!i&&e.shouldRedraw(t,c,h,u)&&r())},i(t))}}},ch=function(){return o(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je;i(this,e),this.idsByKey=new ft,this.keyForId=new ft,this.cachesByLvl=new ft,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n},[{key:"getIdsFor",value:function(e){null==e&&nt("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new mt,t.set(e,n)),n}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t),r=this.getKey(e);this.deleteIdForKey(n,t),this.addIdForKey(r,t),this.keyForId.set(t,r)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,n=this.lvls,r=t.get(e);return r||(r=new ft,t.set(e,r),n.push(e)),r}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var n=this.getKey(e),r=this.getCache(n,t);return null!=r&&this.updateKeyMappingFor(e),r}},{key:"getForCachedKey",value:function(e,t){var n=this.keyForId.get(e.id());return this.getCache(n,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var n=this.getKey(e);return this.hasCache(n,t)}},{key:"setCache",value:function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)}},{key:"set",value:function(e,t,n){var r=this.getKey(e);this.setCache(r,t,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var n=this.getKey(e);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach(function(n){return t.deleteCache(e,n)})}},{key:"invalidate",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(e);var r=this.doesEleInvalidateKey(e);return r&&this.invalidateKey(n),r||0===this.getNumberOfIdsForKey(n)}}])}(),uh=7.99,hh={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},dh=ct({getKey:null,doesEleInvalidateKey:Je,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Qe,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ph=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var r=dh(t);be(n,r),n.lookup=new ch(r.getKey,r.doesEleInvalidateKey),n.setupDequeueing()},fh=ph.prototype;fh.reasons=hh,fh.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},fh.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},fh.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new St(function(e,t){return t.reqs-e.reqs})},fh.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},fh.getElement=function(e,t,n,r,i){var o=this,s=this.renderer,a=s.cy.zoom(),l=this.lookup;if(!t||0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed())return null;if(!o.allowEdgeTxrCaching&&e.isEdge()||!o.allowParentTxrCaching&&e.isParent())return null;if(null==r&&(r=Math.ceil(Vt(a*n))),r<-4)r=-4;else if(a>=7.99||r>3)return null;var c=Math.pow(2,r),u=t.h*c,h=t.w*c,d=s.eleTextBiggerThanMin(e,c);if(!this.isVisible(e,d))return null;var p,f=l.get(e,r);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;if(p=u<=25?25:u<=50?50:50*Math.ceil(u/50),u>1024||h>1024)return null;var g=o.getTextureQueue(p),m=g[g.length-2],v=function(){return o.recycleTexture(p,h)||o.addTexture(p,h)};m||(m=g[g.length-1]),m||(m=v()),m.width-m.usedWidth<h&&(m=v());for(var y,b=function(e){return e&&e.scaledLabelShown===d},w=i&&i===hh.dequeue,x=i&&i===hh.highQuality,_=i&&i===hh.downscale,A=r+1;A<=3;A++){var T=l.get(e,A);if(T){y=T;break}}var E=y&&y.level===r+1?y:null,k=function(){m.context.drawImage(E.texture.canvas,E.x,0,E.width,E.height,m.usedWidth,0,h,u)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,h,p),b(E))k();else if(b(y)){if(!x)return o.queueElement(e,y.level-1),y;for(var S=y.level;S>r;S--)E=o.getElement(e,t,n,S,hh.downscale);k()}else{var C;if(!w&&!x&&!_)for(var N=r-1;N>=-4;N--){var M=l.get(e,N);if(M){C=M;break}}if(b(C))return o.queueElement(e,r),C;m.context.translate(m.usedWidth,0),m.context.scale(c,c),this.drawElement(m.context,e,t,d,!1),m.context.scale(1/c,1/c),m.context.translate(-m.usedWidth,0)}return f={x:m.usedWidth,texture:m,level:r,scale:c,width:h,height:u,scaledLabelShown:d},m.usedWidth+=Math.ceil(h+8),m.eleCaches.push(f),l.set(e,r,f),o.checkTextureFullness(m),f},fh.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},fh.invalidateElement=function(e){var t=this,n=t.lookup,r=[];if(n.isInvalid(e)){for(var i=-4;i<=3;i++){var o=n.getForCachedKey(e,i);o&&r.push(o)}if(n.invalidate(e))for(var s=0;s<r.length;s++){var a=r[s],l=a.texture;l.invalidatedWidth+=a.width,a.invalidated=!0,t.checkTextureUtility(l)}t.removeFromQueue(e)}},fh.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},fh.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?ut(t,e):e.fullnessChecks++},fh.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t),r=this.lookup;ut(n,e),e.retired=!0;for(var i=e.eleCaches,o=0;o<i.length;o++){var s=i[o];r.deleteCache(s.key,s.level)}ht(i),this.getRetiredTextureQueue(t).push(e)},fh.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},fh.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),r=this.getRetiredTextureQueue(e),i=0;i<r.length;i++){var o=r[i];if(o.width>=t)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,ht(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),ut(r,o),n.push(o),o}},fh.queueElement=function(e,t){var n=this.getElementQueue(),r=this.getElementKeyToQueue(),i=this.getKey(e),o=r[i];if(o)o.level=Math.max(o.level,t),o.eles.merge(e),o.reqs++,n.updateItem(o);else{var s={eles:e.spawn().merge(e),level:t,reqs:1,key:i};n.push(s),r[i]=s}},fh.dequeue=function(e){for(var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),i=[],o=t.lookup,s=0;s<1&&n.size()>0;s++){var a=n.pop(),l=a.key,c=a.eles[0],u=o.hasCache(c,a.level);if(r[l]=null,!u){i.push(a);var h=t.getBoundingBox(c);t.getElement(c,h,e,a.level,hh.dequeue)}}return i},fh.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementKeyToQueue(),r=this.getKey(e),i=n[r];null!=i&&(1===i.eles.length?(i.reqs=Ze,t.updateItem(i),t.pop(),n[r]=null):i.eles.unmerge(e))},fh.onDequeue=function(e){this.onDequeues.push(e)},fh.offDequeue=function(e){ut(this.onDequeues,e)},fh.setupDequeueing=lh({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){(0,e.onDequeues[n])(t)}},shouldRedraw:function(e,t,n,r){for(var i=0;i<t.length;i++)for(var o=t[i].eles,s=0;s<o.length;s++){var a=o[s].boundingBox();if(sn(a,r))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var gh=function(e){var t=this,n=t.renderer=e,r=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=Be()-500,t.skipping=!1,t.eleTxrDeqs=r.collection(),t.scheduleElementRefinement=Re(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},50),n.beforeRender(function(e,n){n-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);t.layersQueue=new St(function(e,t){return t.reqs-e.reqs}),t.setupDequeueing()},mh=gh.prototype,vh=0,yh=Math.pow(2,53)-1;mh.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),i=Math.ceil(e.h*n),o=this.renderer.makeOffscreenCanvas(r,i),s={id:vh=++vh%yh,bb:e,level:t,width:r,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},a=s.context,l=-s.bb.x1,c=-s.bb.y1;return a.scale(n,n),a.translate(l,c),s},mh.getLayers=function(e,t,n){var r=this,i=r.renderer.cy.zoom(),o=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(Vt(i*t)))<-4)n=-4;else if(i>=3.99||n>2)return null;r.validateLayersElesOrdering(n,e);var s,a,l=r.layersByLevel,c=Math.pow(2,n),u=l[n]=l[n]||[];if(r.levelIsComplete(n,e))return u;!function(){var t=function(t){if(r.validateLayersElesOrdering(t,e),r.levelIsComplete(t,e))return a=l[t],!0},i=function(e){if(!a)for(var r=n+e;-4<=r&&r<=2&&!t(r);r+=e);};i(1),i(-1);for(var o=u.length-1;o>=0;o--){var s=u[o];s.invalid&&ut(u,s)}}();var h=function(t){var i=(t=t||{}).after;!function(){if(!s){s=Jt();for(var t=0;t<e.length;t++)en(s,e[t].boundingBox())}}();var o=Math.ceil(s.w*c),a=Math.ceil(s.h*c);if(o>32767||a>32767)return null;if(o*a>16e6)return null;var l=r.makeLayer(s,n);if(null!=i){var h=u.indexOf(i)+1;u.splice(h,0,l)}else(void 0===t.insert||t.insert)&&u.unshift(l);return l};if(r.skipping&&!o)return null;for(var d=null,p=e.length/1,f=!o,g=0;g<e.length;g++){var m=e[g],v=m._private.rscratch,y=v.imgLayerCaches=v.imgLayerCaches||{},b=y[n];if(b)d=b;else{if((!d||d.eles.length>=p||!cn(d.bb,m.boundingBox()))&&!(d=h({insert:!0,after:d})))return null;a||f?r.queueLayer(d,m):r.drawEleInLayer(d,m,n,t),d.eles.push(m),y[n]=d}}return a||(f?null:u)},mh.getEleLevelForLayerLevel=function(e,t){return e},mh.drawEleInLayer=function(e,t,n,r){var i=this.renderer,o=e.context,s=t.boundingBox();0!==s.w&&0!==s.h&&t.visible()&&(n=this.getEleLevelForLayerLevel(n,r),i.setImgSmoothing(o,!1),i.drawCachedElement(o,t,null,null,n,true),i.setImgSmoothing(o,!0))},mh.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var r=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0)return!1;if(o.invalid)return!1;r+=o.eles.length}return r===t.length},mh.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],o=-1,s=0;s<t.length;s++)if(i.eles[0]===t[s]){o=s;break}if(o<0)this.invalidateLayer(i);else{var a=o;for(s=0;s<i.eles.length;s++)if(i.eles[s]!==t[a+s]){this.invalidateLayer(i);break}}}},mh.updateElementsInLayers=function(e,t){for(var n=te(e[0]),r=0;r<e.length;r++)for(var i=n?null:e[r],o=n?e[r]:e[r].ele,s=o._private.rscratch,a=s.imgLayerCaches=s.imgLayerCaches||{},l=-4;l<=2;l++){var c=a[l];c&&(i&&this.getEleLevelForLayerLevel(c.level)!==i.level||t(c,o,i))}},mh.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},mh.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=Be(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,function(e,n,r){t.invalidateLayer(e)}))},mh.invalidateLayer=function(e){if(this.lastInvalidationTime=Be(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];ut(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<n.length;i++){var o=n[i]._private.rscratch.imgLayerCaches;o&&(o[t]=null)}}},mh.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(e,n,r){var i=e.replacement;if(i||((i=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,i.eles=e.eles),!i.reqs)for(var o=0;o<i.eles.length;o++)t.queueLayer(i,i.eles[o])})},mh.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},mh.queueLayer=function(e,t){var n=this.layersQueue,r=e.elesQueue,i=r.hasId=r.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;r.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},mh.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],i=0;i<1&&0!==n.size();){var o=n.peek();if(o.replacement)n.pop();else if(o.replaces&&o!==o.replaces.replacement)n.pop();else if(o.invalid)n.pop();else{var s=o.elesQueue.shift();s&&(t.drawEleInLayer(o,s,o.level,e),i++),0===r.length&&r.push(!0),0===o.elesQueue.length&&(n.pop(),o.reqs=0,o.replaces&&t.applyLayerReplacement(o),t.requestRedraw())}}return r},mh.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,r=t.indexOf(n);if(!(r<0||n.invalid)){t[r]=e;for(var i=0;i<e.eles.length;i++){var o=e.eles[i]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[e.level]=e)}this.requestRedraw()}},mh.requestRedraw=Re(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),mh.setupDequeueing=lh({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:tt,shouldRedraw:Qe,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var bh,wh={};function xh(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}}function _h(e,t,n){for(var r,i=0;i<t.length;i++){var o=t[i];0===i&&(r=o),e.lineTo(o.x,o.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)}function Ah(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var o=r[i];e.lineTo(o.x,o.y)}var s=n,a=n[0];e.moveTo(a.x,a.y);for(i=1;i<s.length;i++){o=s[i];e.lineTo(o.x,o.y)}e.closePath&&e.closePath()}function Th(e,t,n,r,i){e.beginPath&&e.beginPath(),e.arc(n,r,i,0,2*Math.PI,!1);var o=t,s=o[0];e.moveTo(s.x,s.y);for(var a=0;a<o.length;a++){var l=o[a];e.lineTo(l.x,l.y)}e.closePath&&e.closePath()}function Eh(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}wh.arrowShapeImpl=function(e){return(bh||(bh={polygon:xh,"triangle-backcurve":_h,"triangle-tee":Ah,"circle-triangle":Th,"triangle-cross":Ah,circle:Eh}))[e]};var kh={drawElement:function(e,t,n,r,i,o){t.isNode()?this.drawNode(e,t,n,r,i,o):this.drawEdge(e,t,n,r,i,o)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawElementUnderlay:function(e,t){t.isNode()?this.drawNodeUnderlay(e,t):this.drawEdgeUnderlay(e,t)},drawCachedElementPortion:function(e,t,n,r,i,o,s,a){var l=this,c=n.getBoundingBox(t);if(0!==c.w&&0!==c.h){var u=n.getElement(t,c,r,i,o);if(null!=u){var h=a(l,t);if(0===h)return;var d,p,f,g,m,v,y=s(l,t),b=c.x1,w=c.y1,x=c.w,_=c.h;if(0!==y){var A=n.getRotationPoint(t);f=A.x,g=A.y,e.translate(f,g),e.rotate(y),(m=l.getImgSmoothing(e))||l.setImgSmoothing(e,!0);var T=n.getRotationOffset(t);d=T.x,p=T.y}else d=b,p=w;1!==h&&(v=e.globalAlpha,e.globalAlpha=v*h),e.drawImage(u.texture.canvas,u.x,0,u.width,u.height,d,p,x,_),1!==h&&(e.globalAlpha=v),0!==y&&(e.rotate(-y),e.translate(-f,-g),m||l.setImgSmoothing(e,!1))}else n.drawElement(e,t)}}},Sh=function(){return 0},Ch=function(e,t){return e.getTextAngle(t,null)},Nh=function(e,t){return e.getTextAngle(t,"source")},Mh=function(e,t){return e.getTextAngle(t,"target")},Oh=function(e,t){return t.effectiveOpacity()},Rh=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};kh.drawCachedElement=function(e,t,n,r,i,o){var s=this,a=s.data,l=a.eleTxrCache,c=a.lblTxrCache,u=a.slbTxrCache,h=a.tlbTxrCache,d=t.boundingBox(),p=!0===o?l.reasons.highQuality:null;if(0!==d.w&&0!==d.h&&t.visible()&&(!r||sn(d,r))){var f=t.isEdge(),g=t.element()._private.rscratch.badLine;s.drawElementUnderlay(e,t),s.drawCachedElementPortion(e,t,l,n,i,p,Sh,Oh),f&&g||s.drawCachedElementPortion(e,t,c,n,i,p,Ch,Rh),f&&!g&&(s.drawCachedElementPortion(e,t,u,n,i,p,Nh,Rh),s.drawCachedElementPortion(e,t,h,n,i,p,Mh,Rh)),s.drawElementOverlay(e,t)}},kh.drawElements=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this.drawElement(e,r)}},kh.drawCachedElements=function(e,t,n,r){for(var i=0;i<t.length;i++){var o=t[i];this.drawCachedElement(e,o,n,r)}},kh.drawCachedNodes=function(e,t,n,r){for(var i=0;i<t.length;i++){var o=t[i];o.isNode()&&this.drawCachedElement(e,o,n,r)}},kh.drawLayeredElements=function(e,t,n,r){var i=this.data.lyrTxrCache.getLayers(t,n);if(i)for(var o=0;o<i.length;o++){var s=i[o],a=s.bb;0!==a.w&&0!==a.h&&e.drawImage(s.canvas,a.x1,a.y1,a.w,a.h)}else this.drawCachedElements(e,t,n,r)};var Ih={drawEdge:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this,a=t._private.rscratch;if((!o||t.visible())&&!a.badLine&&null!=a.allpts&&!isNaN(a.allpts[0])){var l;n&&(l=n,e.translate(-l.x1,-l.y1));var c=o?t.pstyle("opacity").value:1,u=o?t.pstyle("line-opacity").value:1,h=t.pstyle("curve-style").value,d=t.pstyle("line-style").value,p=t.pstyle("width").pfValue,f=t.pstyle("line-cap").value,g=t.pstyle("line-outline-width").value,m=t.pstyle("line-outline-color").value,v=c*u,y=c*u,b=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;"straight-triangle"===h?(s.eleStrokeStyle(e,t,n),s.drawEdgeTrianglePath(t,e,a.allpts)):(e.lineWidth=p,e.lineCap=f,s.eleStrokeStyle(e,t,n),s.drawEdgePath(t,e,a.allpts,d),e.lineCap="butt")},w=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;s.drawArrowheads(e,t,n)};if(e.lineJoin="round","yes"===t.pstyle("ghost").value){var x=t.pstyle("ghost-offset-x").pfValue,_=t.pstyle("ghost-offset-y").pfValue,A=t.pstyle("ghost-opacity").value,T=v*A;e.translate(x,_),b(T),w(T),e.translate(-x,-_)}else!function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;e.lineWidth=p+g,e.lineCap=f,g>0?(s.colorStrokeStyle(e,m[0],m[1],m[2],n),"straight-triangle"===h?s.drawEdgeTrianglePath(t,e,a.allpts):(s.drawEdgePath(t,e,a.allpts,d),e.lineCap="butt")):e.lineCap="butt"}();i&&s.drawEdgeUnderlay(e,t),b(),w(),i&&s.drawEdgeOverlay(e,t),s.drawElementText(e,t,null,r),n&&e.translate(l.x1,l.y1)}}},Lh=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()){var r=n.pstyle("".concat(e,"-opacity")).value;if(0!==r){var i=this,o=i.usePaths(),s=n._private.rscratch,a=2*n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-color")).value;t.lineWidth=a,"self"!==s.edgeType||o?t.lineCap="round":t.lineCap="butt",i.colorStrokeStyle(t,l[0],l[1],l[2],r),i.drawEdgePath(n,t,s.allpts,"solid")}}}};Ih.drawEdgeOverlay=Lh("overlay"),Ih.drawEdgeUnderlay=Lh("underlay"),Ih.drawEdgePath=function(e,t,n,r){var i,o=e._private.rscratch,a=t,l=!1,c=this.usePaths(),u=e.pstyle("line-dash-pattern").pfValue,h=e.pstyle("line-dash-offset").pfValue;if(c){var d=n.join("$");o.pathCacheKey&&o.pathCacheKey===d?(i=t=o.pathCache,l=!0):(i=t=new Path2D,o.pathCacheKey=d,o.pathCache=i)}if(a.setLineDash)switch(r){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=h;break;case"solid":a.setLineDash([])}if(!l&&!o.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<n.length;p+=4)t.quadraticCurveTo(n[p],n[p+1],n[p+2],n[p+3]);break;case"straight":case"haystack":for(var f=2;f+1<n.length;f+=2)t.lineTo(n[f],n[f+1]);break;case"segments":if(o.isRound){var g,m=s(o.roundCorners);try{for(m.s();!(g=m.n()).done;){Bu(t,g.value)}}catch(e){m.e(e)}finally{m.f()}t.lineTo(n[n.length-2],n[n.length-1])}else for(var v=2;v+1<n.length;v+=2)t.lineTo(n[v],n[v+1])}t=a,c?t.stroke(i):t.stroke(),t.setLineDash&&t.setLineDash([])},Ih.drawEdgeTrianglePath=function(e,t,n){t.fillStyle=t.strokeStyle;for(var r=e.pstyle("width").pfValue,i=0;i+1<n.length;i+=2){var o=[n[i+2]-n[i],n[i+3]-n[i+1]],s=Math.sqrt(o[0]*o[0]+o[1]*o[1]),a=[o[1]/s,-o[0]/s],l=[a[0]*r/2,a[1]*r/2];t.beginPath(),t.moveTo(n[i]-l[0],n[i+1]-l[1]),t.lineTo(n[i]+l[0],n[i+1]+l[1]),t.lineTo(n[i+2],n[i+3]),t.closePath(),t.fill()}},Ih.drawArrowheads=function(e,t,n){var r=t._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},Ih.drawArrowhead=function(e,t,n,r,i,o,s){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(o)||null==o)){var a=this,l=t.pstyle(n+"-arrow-shape").value;if("none"!==l){var c="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",u=t.pstyle(n+"-arrow-fill").value,h=t.pstyle("width").pfValue,d=t.pstyle(n+"-arrow-width"),p="match-line"===d.value?h:d.pfValue;"%"===d.units&&(p*=h);var f=t.pstyle("opacity").value;void 0===s&&(s=f);var g=e.globalCompositeOperation;1===s&&"hollow"!==u||(e.globalCompositeOperation="destination-out",a.colorFillStyle(e,255,255,255,1),a.colorStrokeStyle(e,255,255,255,1),a.drawArrowShape(t,e,c,h,l,p,r,i,o),e.globalCompositeOperation=g);var m=t.pstyle(n+"-arrow-color").value;a.colorFillStyle(e,m[0],m[1],m[2],s),a.colorStrokeStyle(e,m[0],m[1],m[2],s),a.drawArrowShape(t,e,u,h,l,p,r,i,o)}}},Ih.drawArrowShape=function(e,t,n,r,i,o,s,a,l){var c,u=this,h=this.usePaths()&&"triangle-cross"!==i,d=!1,p=t,f={x:s,y:a},g=e.pstyle("arrow-scale").value,m=this.getArrowWidth(r,g),v=u.arrowShapes[i];if(h){var y=u.arrowPathCache=u.arrowPathCache||[],b=We(i),w=y[b];null!=w?(c=t=w,d=!0):(c=t=new Path2D,y[b]=c)}d||(t.beginPath&&t.beginPath(),h?v.draw(t,1,0,{x:0,y:0},1):v.draw(t,m,l,f,r),t.closePath&&t.closePath()),t=p,h&&(t.translate(s,a),t.rotate(l),t.scale(m,m)),"filled"!==n&&"both"!==n||(h?t.fill(c):t.fill()),"hollow"!==n&&"both"!==n||(t.lineWidth=o/(h?m:1),t.lineJoin="miter",h?t.stroke(c):t.stroke()),h&&(t.scale(1/m,1/m),t.rotate(-l),t.translate(-s,-a))};var Ph={safeDrawImage:function(e,t,n,r,i,o,s,a,l,c){if(!(i<=0||o<=0||l<=0||c<=0))try{e.drawImage(t,n,r,i,o,s,a,l,c)}catch(e){it()}},drawInscribedImage:function(e,t,n,r,i){var o=this,s=n.position(),a=s.x,l=s.y,c=n.cy().style(),u=c.getIndexedStyle.bind(c),h=u(n,"background-fit","value",r),d=u(n,"background-repeat","value",r),p=n.width(),f=n.height(),g=2*n.padding(),m=p+("inner"===u(n,"background-width-relative-to","value",r)?0:g),v=f+("inner"===u(n,"background-height-relative-to","value",r)?0:g),y=n._private.rscratch,b="node"===u(n,"background-clip","value",r),w=u(n,"background-image-opacity","value",r)*i,x=u(n,"background-image-smoothing","value",r),_=n.pstyle("corner-radius").value;"auto"!==_&&(_=n.pstyle("corner-radius").pfValue);var A=t.width||t.cachedW,T=t.height||t.cachedH;null!=A&&null!=T||(document.body.appendChild(t),A=t.cachedW=t.width||t.offsetWidth,T=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var E=A,k=T;if("auto"!==u(n,"background-width","value",r)&&(E="%"===u(n,"background-width","units",r)?u(n,"background-width","pfValue",r)*m:u(n,"background-width","pfValue",r)),"auto"!==u(n,"background-height","value",r)&&(k="%"===u(n,"background-height","units",r)?u(n,"background-height","pfValue",r)*v:u(n,"background-height","pfValue",r)),0!==E&&0!==k){if("contain"===h)E*=S=Math.min(m/E,v/k),k*=S;else if("cover"===h){var S;E*=S=Math.max(m/E,v/k),k*=S}var C=a-m/2,N=u(n,"background-position-x","units",r),M=u(n,"background-position-x","pfValue",r);C+="%"===N?(m-E)*M:M;var O=u(n,"background-offset-x","units",r),R=u(n,"background-offset-x","pfValue",r);C+="%"===O?(m-E)*R:R;var I=l-v/2,L=u(n,"background-position-y","units",r),P=u(n,"background-position-y","pfValue",r);I+="%"===L?(v-k)*P:P;var D=u(n,"background-offset-y","units",r),B=u(n,"background-offset-y","pfValue",r);I+="%"===D?(v-k)*B:B,y.pathCache&&(C-=a,I-=l,a=0,l=0);var F=e.globalAlpha;e.globalAlpha=w;var z=o.getImgSmoothing(e),$=!1;if("no"===x&&z?(o.setImgSmoothing(e,!1),$=!0):"yes"!==x||z||(o.setImgSmoothing(e,!0),$=!0),"no-repeat"===d)b&&(e.save(),y.pathCache?e.clip(y.pathCache):(o.nodeShapes[o.getNodeShape(n)].draw(e,a,l,m,v,_,y),e.clip())),o.safeDrawImage(e,t,0,0,A,T,C,I,E,k),b&&e.restore();else{var j=e.createPattern(t,d);e.fillStyle=j,o.nodeShapes[o.getNodeShape(n)].draw(e,a,l,m,v,_,y),e.translate(C,I),e.fill(),e.translate(-C,-I)}e.globalAlpha=F,$&&o.setImgSmoothing(e,z)}}},Dh={};function Bh(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,s=Math.min(o,r/2,i/2);e.beginPath(),e.moveTo(t+s,n),e.lineTo(t+r-s,n),e.quadraticCurveTo(t+r,n,t+r,n+s),e.lineTo(t+r,n+i-s),e.quadraticCurveTo(t+r,n+i,t+r-s,n+i),e.lineTo(t+s,n+i),e.quadraticCurveTo(t,n+i,t,n+i-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+s,n),e.closePath()}Dh.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(Vt(n*r));t=Math.pow(2,i)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},Dh.drawElementText=function(e,t,n,r,i){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this;if(null==r){if(o&&!s.eleTextBiggerThanMin(t))return}else if(!1===r)return;if(t.isNode()){var a=t.pstyle("label");if(!a||!a.value)return;var l=s.getLabelJustification(t);e.textAlign=l,e.textBaseline="bottom"}else{var c=t.element()._private.rscratch.badLine,u=t.pstyle("label"),h=t.pstyle("source-label"),d=t.pstyle("target-label");if(c||(!u||!u.value)&&(!h||!h.value)&&(!d||!d.value))return;e.textAlign="center",e.textBaseline="bottom"}var p,f=!n;n&&(p=n,e.translate(-p.x1,-p.y1)),null==i?(s.drawText(e,t,null,f,o),t.isEdge()&&(s.drawText(e,t,"source",f,o),s.drawText(e,t,"target",f,o))):s.drawText(e,t,i,f,o),n&&e.translate(p.x1,p.y1)},Dh.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},Dh.setupTextStyle=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",o=t.pstyle("font-family").strValue,s=t.pstyle("font-weight").strValue,a=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,l=t.pstyle("text-outline-opacity").value*a,c=t.pstyle("color").value,u=t.pstyle("text-outline-color").value;e.font=r+" "+s+" "+i+" "+o,e.lineJoin="round",this.colorFillStyle(e,c[0],c[1],c[2],a),this.colorStrokeStyle(e,u[0],u[1],u[2],l)},Dh.getTextAngle=function(e,t){var n,r=e._private.rscratch,i=t?t+"-":"",o=e.pstyle(i+"text-rotation");if("autorotate"===o.strValue){var s=dt(r,"labelAngle",t);n=e.isEdge()?s:0}else n="none"===o.strValue?0:o.pfValue;return n},Dh.drawText=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=t._private.rscratch,s=i?t.effectiveOpacity():1;if(!i||0!==s&&0!==t.pstyle("text-opacity").value){"main"===n&&(n=null);var a,l,c=dt(o,"labelX",n),u=dt(o,"labelY",n),h=this.getLabelText(t,n);if(null!=h&&""!==h&&!isNaN(c)&&!isNaN(u)){this.setupTextStyle(e,t,i);var d,p=n?n+"-":"",f=dt(o,"labelWidth",n),g=dt(o,"labelHeight",n),m=t.pstyle(p+"text-margin-x").pfValue,v=t.pstyle(p+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle("text-halign").value,w=t.pstyle("text-valign").value;switch(y&&(b="center",w="center"),c+=m,u+=v,0!==(d=r?this.getTextAngle(t,n):0)&&(a=c,l=u,e.translate(a,l),e.rotate(d),c=0,u=0),w){case"top":break;case"center":u+=g/2;break;case"bottom":u+=g}var x=t.pstyle("text-background-opacity").value,_=t.pstyle("text-border-opacity").value,A=t.pstyle("text-border-width").pfValue,T=t.pstyle("text-background-padding").pfValue,E=t.pstyle("text-background-shape").strValue,k="round-rectangle"===E||"roundrectangle"===E,S="circle"===E;if(x>0||A>0&&_>0){var C=e.fillStyle,N=e.strokeStyle,M=e.lineWidth,O=t.pstyle("text-background-color").value,R=t.pstyle("text-border-color").value,I=t.pstyle("text-border-style").value,L=x>0,P=A>0&&_>0,D=c-T;switch(b){case"left":D-=f;break;case"center":D-=f/2}var B=u-g-T,F=f+2*T,z=g+2*T;if(L&&(e.fillStyle="rgba(".concat(O[0],",").concat(O[1],",").concat(O[2],",").concat(x*s,")")),P&&(e.strokeStyle="rgba(".concat(R[0],",").concat(R[1],",").concat(R[2],",").concat(_*s,")"),e.lineWidth=A,e.setLineDash))switch(I){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=A/4,e.setLineDash([]);break;default:e.setLineDash([])}if(k?(e.beginPath(),Bh(e,D,B,F,z,2)):S?(e.beginPath(),function(e,t,n,r,i){var o=Math.min(r,i)/2,s=t+r/2,a=n+i/2;e.beginPath(),e.arc(s,a,o,0,2*Math.PI),e.closePath()}(e,D,B,F,z)):(e.beginPath(),e.rect(D,B,F,z)),L&&e.fill(),P&&e.stroke(),P&&"double"===I){var $=A/2;e.beginPath(),k?Bh(e,D+$,B+$,F-2*$,z-2*$,2):e.rect(D+$,B+$,F-2*$,z-2*$),e.stroke()}e.fillStyle=C,e.strokeStyle=N,e.lineWidth=M,e.setLineDash&&e.setLineDash([])}var j=2*t.pstyle("text-outline-width").pfValue;if(j>0&&(e.lineWidth=j),"wrap"===t.pstyle("text-wrap").value){var U=dt(o,"labelWrapCachedLines",n),H=dt(o,"labelLineHeight",n),G=f/2,V=this.getLabelJustification(t);switch("auto"===V||("left"===b?"left"===V?c+=-f:"center"===V&&(c+=-G):"center"===b?"left"===V?c+=-G:"right"===V&&(c+=G):"right"===b&&("center"===V?c+=G:"right"===V&&(c+=f))),w){case"top":case"center":case"bottom":u-=(U.length-1)*H}for(var W=0;W<U.length;W++)j>0&&e.strokeText(U[W],c,u),e.fillText(U[W],c,u),u+=H}else j>0&&e.strokeText(h,c,u),e.fillText(h,c,u);0!==d&&(e.rotate(-d),e.translate(-a,-l))}}};var Fh={drawNode:function(e,t,n){var r,i,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,c=t._private,u=c.rscratch,h=t.position();if(Q(h.x)&&Q(h.y)&&(!a||t.visible())){var d,p,f=a?t.effectiveOpacity():1,g=l.usePaths(),m=!1,v=t.padding();r=t.width()+2*v,i=t.height()+2*v,n&&(p=n,e.translate(-p.x1,-p.y1));for(var y=t.pstyle("background-image").value,b=new Array(y.length),w=new Array(y.length),x=0,_=0;_<y.length;_++){var A=y[_];if(b[_]=null!=A&&"none"!==A){var T=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",_);x++,w[_]=l.getCachedImage(A,T,function(){c.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var E=t.pstyle("background-blacken").value,k=t.pstyle("border-width").pfValue,S=t.pstyle("background-opacity").value*f,C=t.pstyle("border-color").value,N=t.pstyle("border-style").value,M=t.pstyle("border-join").value,O=t.pstyle("border-cap").value,R=t.pstyle("border-position").value,I=t.pstyle("border-dash-pattern").pfValue,L=t.pstyle("border-dash-offset").pfValue,P=t.pstyle("border-opacity").value*f,D=t.pstyle("outline-width").pfValue,B=t.pstyle("outline-color").value,F=t.pstyle("outline-style").value,z=t.pstyle("outline-opacity").value*f,$=t.pstyle("outline-offset").value,j=t.pstyle("corner-radius").value;"auto"!==j&&(j=t.pstyle("corner-radius").pfValue);var U=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;l.eleFillStyle(e,t,n)},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;l.colorStrokeStyle(e,C[0],C[1],C[2],t)},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;l.colorStrokeStyle(e,B[0],B[1],B[2],t)},V=function(e,t,n,r){var i,o=l.nodePathCache=l.nodePathCache||[],s=Ye("polygon"===n?n+","+r.join(","):n,""+t,""+e,""+j),a=o[s],c=!1;return null!=a?(i=a,c=!0,u.pathCache=i):(i=new Path2D,o[s]=u.pathCache=i),{path:i,cacheHit:c}},W=t.pstyle("shape").strValue,Y=t.pstyle("shape-polygon-points").pfValue;if(g){e.translate(h.x,h.y);var q=V(r,i,W,Y);d=q.path,m=q.cacheHit}var X=function(){if(!m){var n=h;g&&(n={x:0,y:0}),l.nodeShapes[l.getNodeShape(t)].draw(d||e,n.x,n.y,r,i,j,u)}g?e.fill(d):e.fill()},K=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=c.backgrounding,o=0,s=0;s<w.length;s++){var a=t.cy().style().getIndexedStyle(t,"background-image-containment","value",s);r&&"over"===a||!r&&"inside"===a?o++:b[s]&&w[s].complete&&!w[s].error&&(o++,l.drawInscribedImage(e,w[s],t,s,n))}c.backgrounding=!(o===x),i!==c.backgrounding&&t.updateStyle(!1)},Z=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;l.hasPie(t)&&(l.drawPie(e,t,o),n&&(g||l.nodeShapes[l.getNodeShape(t)].draw(e,h.x,h.y,r,i,j,u)))},J=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;l.hasStripe(t)&&(e.save(),g?e.clip(u.pathCache):(l.nodeShapes[l.getNodeShape(t)].draw(e,h.x,h.y,r,i,j,u),e.clip()),l.drawStripe(e,t,o),e.restore(),n&&(g||l.nodeShapes[l.getNodeShape(t)].draw(e,h.x,h.y,r,i,j,u)))},ee=function(){var t=(E>0?E:-E)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:f),n=E>0?0:255;0!==E&&(l.colorFillStyle(e,n,n,n,t),g?e.fill(d):e.fill())},te=function(){if(k>0){if(e.lineWidth=k,e.lineCap=O,e.lineJoin=M,e.setLineDash)switch(N){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(I),e.lineDashOffset=L;break;case"solid":case"double":e.setLineDash([])}if("center"!==R){if(e.save(),e.lineWidth*=2,"inside"===R)g?e.clip(d):e.clip();else{var t=new Path2D;t.rect(-r/2-k,-i/2-k,r+2*k,i+2*k),t.addPath(d),e.clip(t,"evenodd")}g?e.stroke(d):e.stroke(),e.restore()}else g?e.stroke(d):e.stroke();if("double"===N){e.lineWidth=k/3;var n=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(d):e.stroke(),e.globalCompositeOperation=n}e.setLineDash&&e.setLineDash([])}},ne=function(){if(D>0){if(e.lineWidth=D,e.lineCap="butt",e.setLineDash)switch(F){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var n=h;g&&(n={x:0,y:0});var o=l.getNodeShape(t),s=k;"inside"===R&&(s=0),"outside"===R&&(s*=2);var a,c=(r+s+(D+$))/r,u=(i+s+(D+$))/i,d=r*c,p=i*u,f=l.nodeShapes[o].points;if(g)a=V(d,p,o,f).path;if("ellipse"===o)l.drawEllipsePath(a||e,n.x,n.y,d,p);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(o)){var m=0,v=0,y=0;"round-diamond"===o?m=1.4*(s+$+D):"round-heptagon"===o?(m=1.075*(s+$+D),y=-(s/2+$+D)/35):"round-hexagon"===o?m=1.12*(s+$+D):"round-pentagon"===o?(m=1.13*(s+$+D),y=-(s/2+$+D)/15):"round-tag"===o?(m=1.12*(s+$+D),v=.07*(s/2+D+$)):"round-triangle"===o&&(m=(s+$+D)*(Math.PI/2),y=-(s+$/2+D)/Math.PI),0!==m&&(d=r*(c=(r+m)/r),["round-hexagon","round-tag"].includes(o)||(p=i*(u=(i+m)/i)));for(var b=d/2,w=p/2,x=(j="auto"===j?Rn(d,p):j)+(s+D+$)/2,_=new Array(f.length/2),A=new Array(f.length/2),T=0;T<f.length/2;T++)_[T]={x:n.x+v+b*f[2*T],y:n.y+y+w*f[2*T+1]};var E,S,C,N,M=_.length;for(S=_[M-1],E=0;E<M;E++)C=_[E%M],N=_[(E+1)%M],A[E]=Fu(S,C,N,x),S=C,C=N;l.drawRoundPolygonPath(a||e,n.x+v,n.y+y,r*c,i*u,f,A)}else if(["roundrectangle","round-rectangle"].includes(o))j="auto"===j?On(d,p):j,l.drawRoundRectanglePath(a||e,n.x,n.y,d,p,j+(s+D+$)/2);else if(["cutrectangle","cut-rectangle"].includes(o))j="auto"===j?8:j,l.drawCutRectanglePath(a||e,n.x,n.y,d,p,null,j+(s+D+$)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(o))j="auto"===j?On(d,p):j,l.drawBottomRoundRectanglePath(a||e,n.x,n.y,d,p,j+(s+D+$)/2);else if("barrel"===o)l.drawBarrelPath(a||e,n.x,n.y,d,p);else if(o.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(o)){f=bn(wn(f,(s+D+$)/r)),l.drawPolygonPath(a||e,n.x,n.y,r,i,f)}else{f=bn(wn(f,-((s+D+$)/r))),l.drawPolygonPath(a||e,n.x,n.y,r,i,f)}if(g?e.stroke(a):e.stroke(),"double"===F){e.lineWidth=s/3;var O=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(a):e.stroke(),e.globalCompositeOperation=O}e.setLineDash&&e.setLineDash([])}};if("yes"===t.pstyle("ghost").value){var re=t.pstyle("ghost-offset-x").pfValue,ie=t.pstyle("ghost-offset-y").pfValue,oe=t.pstyle("ghost-opacity").value,se=oe*f;e.translate(re,ie),G(),ne(),U(oe*S),X(),K(se,!0),H(oe*P),te(),Z(0!==E||0!==k),J(0!==E||0!==k),K(se,!1),ee(se),e.translate(-re,-ie)}g&&e.translate(-h.x,-h.y),s&&l.drawNodeUnderlay(e,t,h,r,i),g&&e.translate(h.x,h.y),G(),ne(),U(),X(),K(f,!0),H(),te(),Z(0!==E||0!==k),J(0!==E||0!==k),K(f,!1),ee(),g&&e.translate(-h.x,-h.y),l.drawElementText(e,t,null,o),s&&l.drawNodeOverlay(e,t,h,r,i),n&&e.translate(p.x1,p.y1)}}},zh=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,r,i,o){if(n.visible()){var s=n.pstyle("".concat(e,"-padding")).pfValue,a=n.pstyle("".concat(e,"-opacity")).value,l=n.pstyle("".concat(e,"-color")).value,c=n.pstyle("".concat(e,"-shape")).value,u=n.pstyle("".concat(e,"-corner-radius")).value;if(a>0){if(r=r||n.position(),null==i||null==o){var h=n.padding();i=n.width()+2*h,o=n.height()+2*h}this.colorFillStyle(t,l[0],l[1],l[2],a),this.nodeShapes[c].draw(t,r.x,r.y,i+2*s,o+2*s,u),t.fill()}}}};Fh.drawNodeOverlay=zh("overlay"),Fh.drawNodeUnderlay=zh("underlay"),Fh.hasPie=function(e){return(e=e[0])._private.hasPie},Fh.hasStripe=function(e){return(e=e[0])._private.hasStripe},Fh.drawPie=function(e,t,n,r){t=t[0],r=r||t.position();var i,o=t.cy().style(),s=t.pstyle("pie-size"),a=t.pstyle("pie-hole"),l=t.pstyle("pie-start-angle").pfValue,c=r.x,u=r.y,h=t.width(),d=t.height(),p=Math.min(h,d)/2,f=0;if(this.usePaths()&&(c=0,u=0),"%"===s.units?p*=s.pfValue:void 0!==s.pfValue&&(p=s.pfValue/2),"%"===a.units?i=p*a.pfValue:void 0!==a.pfValue&&(i=a.pfValue/2),!(i>=p))for(var g=1;g<=o.pieBackgroundN;g++){var m=t.pstyle("pie-"+g+"-background-size").value,v=t.pstyle("pie-"+g+"-background-color").value,y=t.pstyle("pie-"+g+"-background-opacity").value*n,b=m/100;b+f>1&&(b=1-f);var w=1.5*Math.PI+2*Math.PI*f,x=(w+=l)+2*Math.PI*b;0===m||f>=1||f+b>1||(0===i?(e.beginPath(),e.moveTo(c,u),e.arc(c,u,p,w,x),e.closePath()):(e.beginPath(),e.arc(c,u,p,w,x),e.arc(c,u,i,x,w,!0),e.closePath()),this.colorFillStyle(e,v[0],v[1],v[2],y),e.fill(),f+=b)}},Fh.drawStripe=function(e,t,n,r){t=t[0],r=r||t.position();var i=t.cy().style(),o=r.x,s=r.y,a=t.width(),l=t.height(),c=0,u=this.usePaths();e.save();var h=t.pstyle("stripe-direction").value,d=t.pstyle("stripe-size");switch(h){case"vertical":break;case"righward":e.rotate(-Math.PI/2)}var p=a,f=l;"%"===d.units?(p*=d.pfValue,f*=d.pfValue):void 0!==d.pfValue&&(p=d.pfValue,f=d.pfValue),u&&(o=0,s=0),s-=p/2,o-=f/2;for(var g=1;g<=i.stripeBackgroundN;g++){var m=t.pstyle("stripe-"+g+"-background-size").value,v=t.pstyle("stripe-"+g+"-background-color").value,y=t.pstyle("stripe-"+g+"-background-opacity").value*n,b=m/100;b+c>1&&(b=1-c),0===m||c>=1||c+b>1||(e.beginPath(),e.rect(o,s+f*c,p,f*b),e.closePath(),this.colorFillStyle(e,v[0],v[1],v[2],y),e.fill(),c+=b)}e.restore()};var $h,jh={};function Uh(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(r));return r}function Hh(e,t,n){void 0===n&&(n=t);var r=e.makeOffscreenCanvas(t,n),i=r.context=r.getContext("2d");return r.clear=function(){return i.clearRect(0,0,r.width,r.height)},r.clear(),r}function Gh(e){var t=e.pixelRatio,n=e.cy.zoom(),r=e.cy.pan();return{zoom:n*t,pan:{x:r.x*t,y:r.y*t}}}function Vh(e){return"solid"===e.pstyle("background-fill").value&&("none"===e.pstyle("background-image").strValue&&(0===e.pstyle("border-width").value||(0===e.pstyle("border-opacity").value||"solid"===e.pstyle("border-style").value)))}function Wh(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Yh(e,t,n){var r=e[0]/255,i=e[1]/255,o=e[2]/255,s=t,a=n||new Array(4);return a[0]=r*s,a[1]=i*s,a[2]=o*s,a[3]=s,a}function qh(e,t){var n=t||new Array(4);return n[0]=(255&e)/255,n[1]=(e>>8&255)/255,n[2]=(e>>16&255)/255,n[3]=(e>>24&255)/255,n}function Xh(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function Kh(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function Zh(e,t,n){switch(t){case e.FLOAT:return new Float32Array(n);case e.INT:return new Int32Array(n)}}function Qh(e,t,n,r,i,o){switch(t){case e.FLOAT:return new Float32Array(n.buffer,o*r,i);case e.INT:return new Int32Array(n.buffer,o*r,i)}}function Jh(e,t,n,r){var i=l(Kh(e,n),3),o=i[0],s=i[1],a=i[2],c=Zh(e,s,t*o),u=o*a,h=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,t*u,e.DYNAMIC_DRAW),e.enableVertexAttribArray(r),s===e.FLOAT?e.vertexAttribPointer(r,o,s,!1,u,0):s===e.INT&&e.vertexAttribIPointer(r,o,s,u,0),e.vertexAttribDivisor(r,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var d=new Array(t),p=0;p<t;p++)d[p]=Qh(e,s,c,u,o,p);return h.dataArray=c,h.stride=u,h.size=o,h.getView=function(e){return d[e]},h.setPoint=function(e,t,n){var r=d[e];r[0]=t,r[1]=n},h.bufferSubData=function(t){e.bindBuffer(e.ARRAY_BUFFER,h),t?e.bufferSubData(e.ARRAY_BUFFER,0,c,0,t*o):e.bufferSubData(e.ARRAY_BUFFER,0,c)},h}jh.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=this.cy.window(),n=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/n},jh.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if((t=n[i]).context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},jh.createGradientStyleFor=function(e,t,n,r,i){var o,s=this.usePaths(),a=n.pstyle(t+"-gradient-stop-colors").value,l=n.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===r)if(n.isEdge()){var c=n.sourceEndpoint(),u=n.targetEndpoint(),h=n.midpoint(),d=Yt(c,h),p=Yt(u,h);o=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(d,p))}else{var f=s?{x:0,y:0}:n.position(),g=n.paddedWidth(),m=n.paddedHeight();o=e.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(g,m))}else if(n.isEdge()){var v=n.sourceEndpoint(),y=n.targetEndpoint();o=e.createLinearGradient(v.x,v.y,y.x,y.y)}else{var b=s?{x:0,y:0}:n.position(),w=n.paddedWidth()/2,x=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":o=e.createLinearGradient(b.x,b.y-x,b.x,b.y+x);break;case"to-top":o=e.createLinearGradient(b.x,b.y+x,b.x,b.y-x);break;case"to-left":o=e.createLinearGradient(b.x+w,b.y,b.x-w,b.y);break;case"to-right":o=e.createLinearGradient(b.x-w,b.y,b.x+w,b.y);break;case"to-bottom-right":case"to-right-bottom":o=e.createLinearGradient(b.x-w,b.y-x,b.x+w,b.y+x);break;case"to-top-right":case"to-right-top":o=e.createLinearGradient(b.x-w,b.y+x,b.x+w,b.y-x);break;case"to-bottom-left":case"to-left-bottom":o=e.createLinearGradient(b.x+w,b.y-x,b.x-w,b.y+x);break;case"to-top-left":case"to-left-top":o=e.createLinearGradient(b.x+w,b.y+x,b.x-w,b.y-x)}}if(!o)return null;for(var _=l.length===a.length,A=a.length,T=0;T<A;T++)o.addColorStop(_?l[T]:T/(A-1),"rgba("+a[T][0]+","+a[T][1]+","+a[T][2]+","+i+")");return o},jh.gradientFillStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"background",t,n,r);if(!i)return null;e.fillStyle=i},jh.colorFillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"},jh.eleFillStyle=function(e,t,n){var r=t.pstyle("background-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientFillStyle(e,t,r,n);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],n)}},jh.gradientStrokeStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"line",t,n,r);if(!i)return null;e.strokeStyle=i},jh.colorStrokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"},jh.eleStrokeStyle=function(e,t,n){var r=t.pstyle("line-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientStrokeStyle(e,t,r,n);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],n)}},jh.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),i=r[2],o=r[3],s=t.getPixelRatio(),a=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(s=a);var l,c=i*s,u=o*s;if(c!==t.canvasWidth||u!==t.canvasHeight){t.fontCaches=null;var h=n.canvasContainer;h.style.width=i+"px",h.style.height=o+"px";for(var d=0;d<t.CANVAS_LAYERS;d++)(l=n.canvases[d]).width=c,l.height=u,l.style.width=i+"px",l.style.height=o+"px";for(d=0;d<t.BUFFER_COUNT;d++)(l=n.bufferCanvases[d]).width=c,l.height=u,l.style.width=i+"px",l.style.height=o+"px";t.textureMult=1,s<=1&&(l=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,l.width=c*t.textureMult,l.height=u*t.textureMult),t.canvasWidth=c,t.canvasHeight=u,t.pixelRatio=s}},jh.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},jh.clearCanvas=function(){var e=this,t=e.data;function n(t){t.clearRect(0,0,e.canvasWidth,e.canvasHeight)}n(t.contexts[e.NODE]),n(t.contexts[e.DRAG])},jh.render=function(e){var t=this;e=e||lt();var n=t.cy,r=e.forcedContext,i=e.drawAllLayers,o=e.drawOnlyNodeLayer,s=e.forcedZoom,a=e.forcedPan,l=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,c=t.data,u=c.canvasNeedsRedraw,h=t.textureOnViewport&&!r&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),d=void 0!==e.motionBlur?e.motionBlur:t.motionBlur,p=t.motionBlurPxRatio,f=n.hasCompoundNodes(),g=t.hoverData.draggingEles,m=!(!t.hoverData.selecting&&!t.touchData.selecting),v=d=d&&!r&&t.motionBlurEnabled&&!m;r||(t.prevPxRatio!==l&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=l),!r&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),d&&(null==t.mbFrames&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(v=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!h&&(u[t.NODE]=!0,u[t.SELECT_BOX]=!0);var y=n.style(),b=n.zoom(),w=void 0!==s?s:b,x=n.pan(),_={x:x.x,y:x.y},A={zoom:b,pan:{x:x.x,y:x.y}},T=t.prevViewport;void 0===T||A.zoom!==T.zoom||A.pan.x!==T.pan.x||A.pan.y!==T.pan.y||g&&!f||(t.motionBlurPxRatio=1),a&&(_=a),w*=l,_.x*=l,_.y*=l;var E=t.getCachedZSortedEles();function k(e,n,r,i,o){var s=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",t.colorFillStyle(e,255,255,255,t.motionBlurTransparency),e.fillRect(n,r,i,o),e.globalCompositeOperation=s}function S(e,n){var o,l,u,h;t.clearingMotionBlur||e!==c.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]&&e!==c.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]?(o=_,l=w,u=t.canvasWidth,h=t.canvasHeight):(o={x:x.x*p,y:x.y*p},l=b*p,u=t.canvasWidth*p,h=t.canvasHeight*p),e.setTransform(1,0,0,1,0,0),"motionBlur"===n?k(e,0,0,u,h):r||void 0!==n&&!n||e.clearRect(0,0,u,h),i||(e.translate(o.x,o.y),e.scale(l,l)),a&&e.translate(a.x,a.y),s&&e.scale(s,s)}if(h||(t.textureDrawLastFrame=!1),h){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=n.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var C=t.data.bufferContexts[t.TEXTURE_BUFFER];C.setTransform(1,0,0,1,0,0),C.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:C,drawOnlyNodeLayer:!0,forcedPxRatio:l*t.textureMult}),(A=t.textureCache.viewport={zoom:n.zoom(),pan:n.pan(),width:t.canvasWidth,height:t.canvasHeight}).mpan={x:(0-A.pan.x)/A.zoom,y:(0-A.pan.y)/A.zoom}}u[t.DRAG]=!1,u[t.NODE]=!1;var N=c.contexts[t.NODE],M=t.textureCache.texture;A=t.textureCache.viewport;N.setTransform(1,0,0,1,0,0),d?k(N,0,0,A.width,A.height):N.clearRect(0,0,A.width,A.height);var O=y.core("outside-texture-bg-color").value,R=y.core("outside-texture-bg-opacity").value;t.colorFillStyle(N,O[0],O[1],O[2],R),N.fillRect(0,0,A.width,A.height);b=n.zoom();S(N,!1),N.clearRect(A.mpan.x,A.mpan.y,A.width/A.zoom/l,A.height/A.zoom/l),N.drawImage(M,A.mpan.x,A.mpan.y,A.width/A.zoom/l,A.height/A.zoom/l)}else t.textureOnViewport&&!r&&(t.textureCache=null);var I=n.extent(),L=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),P=t.hideEdgesOnViewport&&L,D=[];if(D[t.NODE]=!u[t.NODE]&&d&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,D[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),D[t.DRAG]=!u[t.DRAG]&&d&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,D[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),u[t.NODE]||i||o||D[t.NODE]){var B=d&&!D[t.NODE]&&1!==p;S(N=r||(B?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:c.contexts[t.NODE]),d&&!B?"motionBlur":void 0),P?t.drawCachedNodes(N,E.nondrag,l,I):t.drawLayeredElements(N,E.nondrag,l,I),t.debug&&t.drawDebugPoints(N,E.nondrag),i||d||(u[t.NODE]=!1)}if(!o&&(u[t.DRAG]||i||D[t.DRAG])){B=d&&!D[t.DRAG]&&1!==p;S(N=r||(B?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:c.contexts[t.DRAG]),d&&!B?"motionBlur":void 0),P?t.drawCachedNodes(N,E.drag,l,I):t.drawCachedElements(N,E.drag,l,I),t.debug&&t.drawDebugPoints(N,E.drag),i||d||(u[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,S),d&&1!==p){var F=c.contexts[t.NODE],z=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],$=c.contexts[t.DRAG],j=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],U=function(e,n,r){e.setTransform(1,0,0,1,0,0),r||!v?e.clearRect(0,0,t.canvasWidth,t.canvasHeight):k(e,0,0,t.canvasWidth,t.canvasHeight);var i=p;e.drawImage(n,0,0,t.canvasWidth*i,t.canvasHeight*i,0,0,t.canvasWidth,t.canvasHeight)};(u[t.NODE]||D[t.NODE])&&(U(F,z,D[t.NODE]),u[t.NODE]=!1),(u[t.DRAG]||D[t.DRAG])&&(U($,j,D[t.DRAG]),u[t.DRAG]=!1)}t.prevViewport=A,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),d&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!h,t.mbFrames=0,u[t.NODE]=!0,u[t.DRAG]=!0,t.redraw()},100)),r||n.emit("render")},jh.drawSelectionRectangle=function(e,t){var n=this,r=n.cy,i=n.data,o=r.style(),s=e.drawOnlyNodeLayer,a=e.drawAllLayers,l=i.canvasNeedsRedraw,c=e.forcedContext;if(n.showFps||!s&&l[n.SELECT_BOX]&&!a){var u=c||i.contexts[n.SELECT_BOX];if(t(u),1==n.selection[4]&&(n.hoverData.selecting||n.touchData.selecting)){var h=n.cy.zoom(),d=o.core("selection-box-border-width").value/h;u.lineWidth=d,u.fillStyle="rgba("+o.core("selection-box-color").value[0]+","+o.core("selection-box-color").value[1]+","+o.core("selection-box-color").value[2]+","+o.core("selection-box-opacity").value+")",u.fillRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]),d>0&&(u.strokeStyle="rgba("+o.core("selection-box-border-color").value[0]+","+o.core("selection-box-border-color").value[1]+","+o.core("selection-box-border-color").value[2]+","+o.core("selection-box-opacity").value+")",u.strokeRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]))}if(i.bgActivePosistion&&!n.hoverData.selecting){h=n.cy.zoom();var p=i.bgActivePosistion;u.fillStyle="rgba("+o.core("active-bg-color").value[0]+","+o.core("active-bg-color").value[1]+","+o.core("active-bg-color").value[2]+","+o.core("active-bg-opacity").value+")",u.beginPath(),u.arc(p.x,p.y,o.core("active-bg-size").pfValue/h,0,2*Math.PI),u.fill()}var f=n.lastRedrawTime;if(n.showFps&&f){f=Math.round(f);var g=Math.round(1e3/f),m="1 frame = "+f+" ms = "+g+" fps";if(u.setTransform(1,0,0,1,0,0),u.fillStyle="rgba(255, 0, 0, 0.75)",u.strokeStyle="rgba(255, 0, 0, 0.75)",u.font="30px Arial",!$h){var v=u.measureText(m);$h=v.actualBoundingBoxAscent}u.fillText(m,0,$h);u.strokeRect(0,$h+10,250,20),u.fillRect(0,$h+10,250*Math.min(g/60,1),20)}a||(l[n.SELECT_BOX]=!1)}};var ed="undefined"!=typeof Float32Array?Float32Array:Array;function td(){var e=new ed(9);return ed!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function nd(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function rd(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=n[0],p=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=s,e[4]=a,e[5]=l,e[6]=d*r+p*s+c,e[7]=d*i+p*a+u,e[8]=d*o+p*l+h,e}function id(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=Math.sin(n),p=Math.cos(n);return e[0]=p*r+d*s,e[1]=p*i+d*a,e[2]=p*o+d*l,e[3]=p*s-d*r,e[4]=p*a-d*i,e[5]=p*l-d*o,e[6]=c,e[7]=u,e[8]=h,e}function od(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var sd=function(){return o(function e(t,n,r,o){i(this,e),this.debugID=Math.floor(1e4*Math.random()),this.r=t,this.texSize=n,this.texRows=r,this.texHeight=Math.floor(n/r),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=o(t,n,n),this.scratch=o(t,n,this.texHeight,"scratch")},[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(e){var t=e.w,n=e.h,r=this.texHeight,i=this.texSize,o=r/n,s=t*o,a=n*o;return s>i&&(s=t*(o=i/t),a=n*o),{scale:o,texW:s,texH:a}}},{key:"draw",value:function(e,t,n){var r=this;if(this.locked)throw new Error("can't draw, atlas is locked");var i=this.texSize,o=this.texRows,s=this.texHeight,a=this.getScale(t),l=a.scale,c=a.texW,u=a.texH,h=function(e,r){if(n&&r){var i=r.context,o=e.x,a=e.row,c=o,u=s*a;i.save(),i.translate(c,u),i.scale(l,l),n(i,t),i.restore()}},d=[null,null],p=function(){h(r.freePointer,r.canvas),d[0]={x:r.freePointer.x,y:r.freePointer.row*s,w:c,h:u},d[1]={x:r.freePointer.x+c,y:r.freePointer.row*s,w:0,h:u},r.freePointer.x+=c,r.freePointer.x==i&&(r.freePointer.x=0,r.freePointer.row++)},f=function(){r.freePointer.x=0,r.freePointer.row++};if(this.freePointer.x+c<=i)p();else{if(this.freePointer.row>=o-1)return!1;this.freePointer.x===i?(f(),p()):this.enableWrapping?function(){var e=r.scratch,t=r.canvas;e.clear(),h({x:0,row:0},e);var n=i-r.freePointer.x,o=c-n,a=s,l=r.freePointer.x,p=r.freePointer.row*s,f=n;t.context.drawImage(e,0,0,f,a,l,p,f,a),d[0]={x:l,y:p,w:f,h:u};var g=n,m=(r.freePointer.row+1)*s,v=o;t&&t.context.drawImage(e,g,0,v,a,0,m,v,a),d[1]={x:0,y:m,w:v,h:u},r.freePointer.x=o,r.freePointer.row++}():(f(),p())}return this.keyToLocation.set(e,d),this.needsBuffer=!0,d}},{key:"getOffsets",value:function(e){return this.keyToLocation.get(e)}},{key:"isEmpty",value:function(){return 0===this.freePointer.x&&0===this.freePointer.row}},{key:"canFit",value:function(e){if(this.locked)return!1;var t=this.texSize,n=this.texRows,r=this.getScale(e).texW;return!(this.freePointer.x+r>t)||this.freePointer.row<n-1}},{key:"bufferIfNeeded",value:function(e){this.texture||(this.texture=function(e){var t=e.createTexture();return t.buffer=function(n){e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},t.deleteTexture=function(){e.deleteTexture(t)},t}(e,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),ad=function(){return o(function e(t,n,r,o){i(this,e),this.r=t,this.texSize=n,this.texRows=r,this.createTextureCanvas=o,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set},[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var e=this.r,t=this.texSize,n=this.texRows,r=this.createTextureCanvas;return new sd(e,t,n,r)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var e=this.r,t=this.texSize,n=this.texRows,r=this.createTextureCanvas,i=Math.floor(t/n);this.scratch=r(e,t,i,"scratch")}return this.scratch}},{key:"draw",value:function(e,t,n){var r=this.styleKeyToAtlas.get(e);return r||((r=this.atlases[this.atlases.length-1])&&r.canFit(t)||(r&&r.lock(),r=this._createAtlas(),this.atlases.push(r)),r.draw(e,t,n),this.styleKeyToAtlas.set(e,r)),r}},{key:"getAtlas",value:function(e){return this.styleKeyToAtlas.get(e)}},{key:"hasAtlas",value:function(e){return this.styleKeyToAtlas.has(e)}},{key:"markKeyForGC",value:function(e){this.markedKeys.add(e)}},{key:"gc",value:function(){var e=this,t=this.markedKeys;if(0!==t.size){var n,r=[],i=new Map,o=null,a=s(this.atlases);try{var u=function(){var a,u,h=n.value,d=h.getKeys(),p=(u=d,(a=t).intersection?a.intersection(u):new Set(c(a).filter(function(e){return u.has(e)})));if(0===p.size)return r.push(h),d.forEach(function(e){return i.set(e,h)}),1;o||(o=e._createAtlas(),r.push(o));var f,g=s(d);try{for(g.s();!(f=g.n()).done;){var m=f.value;if(!p.has(m)){var v=l(h.getOffsets(m),2),y=v[0],b=v[1];o.canFit({w:y.w+b.w,h:y.h})||(o.lock(),o=e._createAtlas(),r.push(o)),h.canvas&&(e._copyTextureToNewAtlas(m,h,o),i.set(m,o))}}}catch(e){g.e(e)}finally{g.f()}h.dispose()};for(a.s();!(n=a.n()).done;)u()}catch(e){a.e(e)}finally{a.f()}this.atlases=r,this.styleKeyToAtlas=i,this.markedKeys=new Set}}},{key:"_copyTextureToNewAtlas",value:function(e,t,n){var r=l(t.getOffsets(e),2),i=r[0],o=r[1];if(0===o.w)n.draw(e,i,function(e){e.drawImage(t.canvas,i.x,i.y,i.w,i.h,0,0,i.w,i.h)});else{var s=this._getScratchCanvas();s.clear(),s.context.drawImage(t.canvas,i.x,i.y,i.w,i.h,0,0,i.w,i.h),s.context.drawImage(t.canvas,o.x,o.y,o.w,o.h,i.w,0,o.w,o.h);var a=i.w+o.w,c=i.h;n.draw(e,{w:a,h:c},function(e){e.drawImage(s,0,0,a,c,0,0,a,c)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();var ld=function(){return o(function e(t,n){i(this,e),this.r=t,this.globalOptions=n,this.atlasSize=n.webglTexSize,this.maxAtlasesPerBatch=n.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map},[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(e,t){var n=this.globalOptions,r=n.webglTexSize,i=n.createTextureCanvas,o=t.texRows,s=this._cacheScratchCanvas(i),a=new ad(this.r,r,o,s);this.collections.set(e,a)}},{key:"addRenderType",value:function(e,t){var n=t.collection;if(!this.collections.has(n))throw new Error("invalid atlas collection name '".concat(n,"'"));var r=this.collections.get(n),i=be({type:e,atlasCollection:r},t);this.renderTypes.set(e,i)}},{key:"getRenderTypeOpts",value:function(e){return this.renderTypes.get(e)}},{key:"getAtlasCollection",value:function(e){return this.collections.get(e)}},{key:"_cacheScratchCanvas",value:function(e){var t=-1,n=-1,r=null;return function(i,o,s,a){return a?(r&&o==t&&s==n||(t=o,n=s,r=e(i,o,s)),r):e(i,o,s)}}},{key:"_key",value:function(e,t){return"".concat(e,"-").concat(t)}},{key:"invalidate",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.forceRedraw,o=void 0!==i&&i,a=r.filterEle,l=void 0===a?function(){return!0}:a,c=r.filterType,u=void 0===c?function(){return!0}:c,h=!1,d=!1,p=s(e);try{for(p.s();!(t=p.n()).done;){var f=t.value;if(l(f)){var g,m=s(this.renderTypes.values());try{var v=function(){var e=g.value,t=e.type;if(u(t)){var r=n.collections.get(e.collection),i=e.getKey(f),s=Array.isArray(i)?i:[i];if(o)s.forEach(function(e){return r.markKeyForGC(e)}),d=!0;else{var a=e.getID?e.getID(f):f.id(),l=n._key(t,a),c=n.typeAndIdToKey.get(l);void 0===c||Wh(s,c)||(h=!0,n.typeAndIdToKey.delete(l),c.forEach(function(e){return r.markKeyForGC(e)}))}}};for(m.s();!(g=m.n()).done;)v()}catch(e){m.e(e)}finally{m.f()}}}}catch(e){p.e(e)}finally{p.f()}return d&&(this.gc(),h=!1),h}},{key:"gc",value:function(){var e,t=s(this.collections.values());try{for(t.s();!(e=t.n()).done;){e.value.gc()}}catch(e){t.e(e)}finally{t.f()}}},{key:"getOrCreateAtlas",value:function(e,t,n,r){var i=this.renderTypes.get(t),o=this.collections.get(i.collection),s=!1,a=o.draw(r,n,function(t){i.drawClipped?(t.save(),t.beginPath(),t.rect(0,0,n.w,n.h),t.clip(),i.drawElement(t,e,n,!0,!0),t.restore()):i.drawElement(t,e,n,!0,!0),s=!0});if(s){var l=i.getID?i.getID(e):e.id(),c=this._key(t,l);this.typeAndIdToKey.has(c)?this.typeAndIdToKey.get(c).push(r):this.typeAndIdToKey.set(c,[r])}return a}},{key:"getAtlasInfo",value:function(e,t){var n=this,r=this.renderTypes.get(t),i=r.getKey(e);return(Array.isArray(i)?i:[i]).map(function(i){var o=r.getBoundingBox(e,i),s=n.getOrCreateAtlas(e,t,o,i),a=l(s.getOffsets(i),2),c=a[0];return{atlas:s,tex:c,tex1:c,tex2:a[1],bb:o}})}},{key:"getDebugInfo",value:function(){var e,t=[],n=s(this.collections);try{for(n.s();!(e=n.n()).done;){var r=l(e.value,2),i=r[0],o=r[1].getCounts(),a=o.keyCount,c=o.atlasCount;t.push({type:i,keyCount:a,atlasCount:c})}}catch(e){n.e(e)}finally{n.f()}return t}}])}(),cd=function(){return o(function e(t){i(this,e),this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[]},[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(e,t){return t})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(e){return this.batchAtlases.length!==this.maxAtlasesPerBatch||this.batchAtlases.includes(e)}},{key:"getAtlasIndexForBatch",value:function(e){var t=this.batchAtlases.indexOf(e);if(t<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(e),t=this.batchAtlases.length-1}return t}}])}(),ud={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},hd=1,dd=2,pd=function(){return o(function e(t,n,r){i(this,e),this.r=t,this.gl=n,this.maxInstances=r.webglBatchSize,this.atlasSize=r.webglTexSize,this.bgColor=r.bgColor,this.debug=r.webglDebug,this.batchDebugInfo=[],r.enableWrapping=!0,r.createTextureCanvas=Hh,this.atlasManager=new ld(t,r),this.batchManager=new cd(r),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(ud.SCREEN),this.pickingProgram=this._createShaderProgram(ud.PICKING),this.vao=this._createVAO()},[{key:"addAtlasCollection",value:function(e,t){this.atlasManager.addAtlasCollection(e,t)}},{key:"addTextureAtlasRenderType",value:function(e,t){this.atlasManager.addRenderType(e,t)}},{key:"addSimpleShapeRenderType",value:function(e,t){this.simpleShapeOptions.set(e,t)}},{key:"invalidate",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,n=this.atlasManager;return t?n.invalidate(e,{filterType:function(e){return e===t},forceRedraw:!0}):n.invalidate(e)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(e){var t=this.gl,n="#version 300 es\n      precision highp float;\n\n      uniform mat3 uPanZoomMatrix;\n      uniform int  uAtlasSize;\n      \n      // instanced\n      in vec2 aPosition; // a vertex from the unit square\n      \n      in mat3 aTransform; // used to transform verticies, eg into a bounding box\n      in int aVertType; // the type of thing we are rendering\n\n      // the z-index that is output when using picking mode\n      in vec4 aIndex;\n      \n      // For textures\n      in int aAtlasId; // which shader unit/atlas to use\n      in vec4 aTex; // x/y/w/h of texture in atlas\n\n      // for edges\n      in vec4 aPointAPointB;\n      in vec4 aPointCPointD;\n      in vec2 aLineWidth; // also used for node border width\n\n      // simple shapes\n      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]\n      in vec4 aColor; // also used for edges\n      in vec4 aBorderColor; // aLineWidth is used for border width\n\n      // output values passed to the fragment shader\n      out vec2 vTexCoord;\n      out vec4 vColor;\n      out vec2 vPosition;\n      // flat values are not interpolated\n      flat out int vAtlasId; \n      flat out int vVertType;\n      flat out vec2 vTopRight;\n      flat out vec2 vBotLeft;\n      flat out vec4 vCornerRadius;\n      flat out vec4 vBorderColor;\n      flat out vec2 vBorderWidth;\n      flat out vec4 vIndex;\n      \n      void main(void) {\n        int vid = gl_VertexID;\n        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below\n\n        if(aVertType == ".concat(0,") {\n          float texX = aTex.x; // texture coordinates\n          float texY = aTex.y;\n          float texW = aTex.z;\n          float texH = aTex.w;\n\n          if(vid == 1 || vid == 2 || vid == 4) {\n            texX += texW;\n          }\n          if(vid == 2 || vid == 4 || vid == 5) {\n            texY += texH;\n          }\n\n          float d = float(uAtlasSize);\n          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == ").concat(4," || aVertType == ").concat(7," \n             || aVertType == ").concat(5," || aVertType == ").concat(6,") { // simple shapes\n\n          // the bounding box is needed by the fragment shader\n          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat\n          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat\n          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated\n\n          // calculations are done in the fragment shader, just pass these along\n          vColor = aColor;\n          vCornerRadius = aCornerRadius;\n          vBorderColor = aBorderColor;\n          vBorderWidth = aLineWidth;\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == ").concat(1,") {\n          vec2 source = aPointAPointB.xy;\n          vec2 target = aPointAPointB.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          // stretch the unit square into a long skinny rectangle\n          vec2 xBasis = target - source;\n          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));\n          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;\n\n          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);\n          vColor = aColor;\n        } \n        else if(aVertType == ").concat(2,") {\n          vec2 pointA = aPointAPointB.xy;\n          vec2 pointB = aPointAPointB.zw;\n          vec2 pointC = aPointCPointD.xy;\n          vec2 pointD = aPointCPointD.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          vec2 p0, p1, p2, pos;\n          if(position.x == 0.0) { // The left side of the unit square\n            p0 = pointA;\n            p1 = pointB;\n            p2 = pointC;\n            pos = position;\n          } else { // The right side of the unit square, use same approach but flip the geometry upside down\n            p0 = pointD;\n            p1 = pointC;\n            p2 = pointB;\n            pos = vec2(0.0, -position.y);\n          }\n\n          vec2 p01 = p1 - p0;\n          vec2 p12 = p2 - p1;\n          vec2 p21 = p1 - p2;\n\n          // Find the normal vector.\n          vec2 tangent = normalize(normalize(p12) + normalize(p01));\n          vec2 normal = vec2(-tangent.y, tangent.x);\n\n          // Find the vector perpendicular to p0 -> p1.\n          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));\n\n          // Determine the bend direction.\n          float sigma = sign(dot(p01 + p21, normal));\n          float width = aLineWidth[0];\n\n          if(sign(pos.y) == -sigma) {\n            // This is an intersecting vertex. Adjust the position so that there's no overlap.\n            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          } else {\n            // This is a non-intersecting vertex. Treat it like a mitre join.\n            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          }\n\n          vColor = aColor;\n        } \n        else if(aVertType == ").concat(3," && vid < 3) {\n          // massage the first triangle into an edge arrow\n          if(vid == 0)\n            position = vec2(-0.15, -0.3);\n          if(vid == 1)\n            position = vec2(  0.0,  0.0);\n          if(vid == 2)\n            position = vec2( 0.15, -0.3);\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n          vColor = aColor;\n        }\n        else {\n          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space\n        }\n\n        vAtlasId = aAtlasId;\n        vVertType = aVertType;\n        vIndex = aIndex;\n      }\n    "),r=this.batchManager.getIndexArray(),i="#version 300 es\n      precision highp float;\n\n      // declare texture unit for each texture atlas in the batch\n      ".concat(r.map(function(e){return"uniform sampler2D uTexture".concat(e,";")}).join("\n\t"),"\n\n      uniform vec4 uBGColor;\n      uniform float uZoom;\n\n      in vec2 vTexCoord;\n      in vec4 vColor;\n      in vec2 vPosition; // model coordinates\n\n      flat in int vAtlasId;\n      flat in vec4 vIndex;\n      flat in int vVertType;\n      flat in vec2 vTopRight;\n      flat in vec2 vBotLeft;\n      flat in vec4 vCornerRadius;\n      flat in vec4 vBorderColor;\n      flat in vec2 vBorderWidth;\n\n      out vec4 outColor;\n\n      ").concat("\n  float circleSD(vec2 p, float r) {\n    return distance(vec2(0), p) - r; // signed distance\n  }\n","\n      ").concat("\n  float rectangleSD(vec2 p, vec2 b) {\n    vec2 d = abs(p)-b;\n    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);\n  }\n","\n      ").concat("\n  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {\n    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;\n    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;\n    vec2 q = abs(p) - b + cr.x;\n    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;\n  }\n","\n      ").concat("\n  float ellipseSD(vec2 p, vec2 ab) {\n    p = abs( p ); // symmetry\n\n    // find root with Newton solver\n    vec2 q = ab*(p-ab);\n    float w = (q.x<q.y)? 1.570796327 : 0.0;\n    for( int i=0; i<5; i++ ) {\n      vec2 cs = vec2(cos(w),sin(w));\n      vec2 u = ab*vec2( cs.x,cs.y);\n      vec2 v = ab*vec2(-cs.y,cs.x);\n      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));\n    }\n    \n    // compute final point and distance\n    float d = length(p-ab*vec2(cos(w),sin(w)));\n    \n    // return signed distance\n    return (dot(p/ab,p/ab)>1.0) ? d : -d;\n  }\n","\n\n      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha\n        return vec4( \n          top.rgb + (bot.rgb * (1.0 - top.a)),\n          top.a   + (bot.a   * (1.0 - top.a)) \n        );\n      }\n\n      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance\n        // scale to the zoom level so that borders don't look blurry when zoomed in\n        // note 1.5 is an aribitrary value chosen because it looks good\n        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); \n      }\n\n      void main(void) {\n        if(vVertType == ").concat(0,") {\n          // look up the texel from the texture unit\n          ").concat(r.map(function(e){return"if(vAtlasId == ".concat(e,") outColor = texture(uTexture").concat(e,", vTexCoord);")}).join("\n\telse "),"\n        } \n        else if(vVertType == ").concat(3,") {\n          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';\n          outColor = blend(vColor, uBGColor);\n          outColor.a = 1.0; // make opaque, masks out line under arrow\n        }\n        else if(vVertType == ").concat(4," && vBorderWidth == vec2(0.0)) { // simple rectangle with no border\n          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done\n        }\n        else if(vVertType == ").concat(4," || vVertType == ").concat(7," \n          || vVertType == ").concat(5," || vVertType == ").concat(6,") { // use SDF\n\n          float outerBorder = vBorderWidth[0];\n          float innerBorder = vBorderWidth[1];\n          float borderPadding = outerBorder * 2.0;\n          float w = vTopRight.x - vBotLeft.x - borderPadding;\n          float h = vTopRight.y - vBotLeft.y - borderPadding;\n          vec2 b = vec2(w/2.0, h/2.0); // half width, half height\n          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center\n\n          float d; // signed distance\n          if(vVertType == ").concat(4,") {\n            d = rectangleSD(p, b);\n          } else if(vVertType == ").concat(7," && w == h) {\n            d = circleSD(p, b.x); // faster than ellipse\n          } else if(vVertType == ").concat(7,") {\n            d = ellipseSD(p, b);\n          } else {\n            d = roundRectangleSD(p, b, vCornerRadius.wzyx);\n          }\n\n          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling\n          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box\n          if(d > 0.0) {\n            if(d > outerBorder) {\n              discard;\n            } else {\n              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);\n            }\n          } else {\n            if(d > innerBorder) {\n              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;\n              vec4 innerBorderColor = blend(vBorderColor, vColor);\n              outColor = distInterp(innerBorderColor, outerColor, d);\n            } \n            else {\n              vec4 outerColor;\n              if(innerBorder == 0.0 && outerBorder == 0.0) {\n                outerColor = vec4(0);\n              } else if(innerBorder == 0.0) {\n                outerColor = vBorderColor;\n              } else {\n                outerColor = blend(vBorderColor, vColor);\n              }\n              outColor = distInterp(vColor, outerColor, d - innerBorder);\n            }\n          }\n        }\n        else {\n          outColor = vColor;\n        }\n\n        ").concat(e.picking?"if(outColor.a == 0.0) discard;\n             else outColor = vIndex;":"","\n      }\n    "),o=function(e,t,n){var r=Uh(e,e.VERTEX_SHADER,t),i=Uh(e,e.FRAGMENT_SHADER,n),o=e.createProgram();if(e.attachShader(o,r),e.attachShader(o,i),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw new Error("Could not initialize shaders");return o}(t,n,i);o.aPosition=t.getAttribLocation(o,"aPosition"),o.aIndex=t.getAttribLocation(o,"aIndex"),o.aVertType=t.getAttribLocation(o,"aVertType"),o.aTransform=t.getAttribLocation(o,"aTransform"),o.aAtlasId=t.getAttribLocation(o,"aAtlasId"),o.aTex=t.getAttribLocation(o,"aTex"),o.aPointAPointB=t.getAttribLocation(o,"aPointAPointB"),o.aPointCPointD=t.getAttribLocation(o,"aPointCPointD"),o.aLineWidth=t.getAttribLocation(o,"aLineWidth"),o.aColor=t.getAttribLocation(o,"aColor"),o.aCornerRadius=t.getAttribLocation(o,"aCornerRadius"),o.aBorderColor=t.getAttribLocation(o,"aBorderColor"),o.uPanZoomMatrix=t.getUniformLocation(o,"uPanZoomMatrix"),o.uAtlasSize=t.getUniformLocation(o,"uAtlasSize"),o.uBGColor=t.getUniformLocation(o,"uBGColor"),o.uZoom=t.getUniformLocation(o,"uZoom"),o.uTextures=[];for(var s=0;s<this.batchManager.getMaxAtlasesPerBatch();s++)o.uTextures.push(t.getUniformLocation(o,"uTexture".concat(s)));return o}},{key:"_createVAO",value:function(){var e=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=e.length/2;var t=this.maxInstances,n=this.gl,r=this.program,i=n.createVertexArray();return n.bindVertexArray(i),function(e,t,n,r){var i=l(Kh(e,t),2),o=i[0],s=i[1],a=Zh(e,s,r),c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,a,e.STATIC_DRAW),s===e.FLOAT?e.vertexAttribPointer(n,o,s,!1,0,0):s===e.INT&&e.vertexAttribIPointer(n,o,s,0,0),e.enableVertexAttribArray(n),e.bindBuffer(e.ARRAY_BUFFER,null)}(n,"vec2",r.aPosition,e),this.transformBuffer=function(e,t,n){for(var r=new Float32Array(9*t),i=new Array(t),o=0;o<t;o++){var s=9*o*4;i[o]=new Float32Array(r.buffer,s,9)}var a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,r.byteLength,e.DYNAMIC_DRAW);for(var l=0;l<3;l++){var c=n+l;e.enableVertexAttribArray(c),e.vertexAttribPointer(c,3,e.FLOAT,!1,36,12*l),e.vertexAttribDivisor(c,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),a.getMatrixView=function(e){return i[e]},a.setData=function(e,t){i[t].set(e,0)},a.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferSubData(e.ARRAY_BUFFER,0,r)},a}(n,t,r.aTransform),this.indexBuffer=Jh(n,t,"vec4",r.aIndex),this.vertTypeBuffer=Jh(n,t,"int",r.aVertType),this.atlasIdBuffer=Jh(n,t,"int",r.aAtlasId),this.texBuffer=Jh(n,t,"vec4",r.aTex),this.pointAPointBBuffer=Jh(n,t,"vec4",r.aPointAPointB),this.pointCPointDBuffer=Jh(n,t,"vec4",r.aPointCPointD),this.lineWidthBuffer=Jh(n,t,"vec2",r.aLineWidth),this.colorBuffer=Jh(n,t,"vec4",r.aColor),this.cornerRadiusBuffer=Jh(n,t,"vec4",r.aCornerRadius),this.borderColorBuffer=Jh(n,t,"vec4",r.aBorderColor),n.bindVertexArray(null),i}},{key:"buffers",get:function(){var e=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(e){return de(e,"Buffer")}).map(function(t){return e[t]})),this._buffers}},{key:"startFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ud.SCREEN;this.panZoomMatrix=e,this.renderTarget=t,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(e,t){return!!e.visible()&&(!t||!t.isVisible||t.isVisible(e))}},{key:"drawTexture",value:function(e,t,n){var r=this.atlasManager,i=this.batchManager,o=r.getRenderTypeOpts(n);if(this._isVisible(e,o)&&(!e.isEdge()||this._isValidEdge(e))){if(this.renderTarget.picking&&o.getTexPickingMode){var a=o.getTexPickingMode(e);if(a===hd)return;if(a==dd)return void this.drawPickingRectangle(e,t,n)}var c,u=s(r.getAtlasInfo(e,n));try{for(u.s();!(c=u.n()).done;){var h=c.value,d=h.atlas,p=h.tex1,f=h.tex2;i.canAddToCurrentBatch(d)||this.endBatch();for(var g=i.getAtlasIndexForBatch(d),m=0,v=[[p,!0],[f,!1]];m<v.length;m++){var y=l(v[m],2),b=y[0],w=y[1];if(0!=b.w){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=0,qh(t,this.indexBuffer.getView(x)),this.atlasIdBuffer.getView(x)[0]=g;var _=this.texBuffer.getView(x);_[0]=b.x,_[1]=b.y,_[2]=b.w,_[3]=b.h;var A=this.transformBuffer.getMatrixView(x);this.setTransformMatrix(e,A,o,h,w),this.instanceCount++,w||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(e){u.e(e)}finally{u.f()}}}},{key:"setTransformMatrix",value:function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=0;if(n.shapeProps&&n.shapeProps.padding&&(o=e.pstyle(n.shapeProps.padding).pfValue),r){var s=r.bb,a=r.tex1,l=r.tex2,c=a.w/(a.w+l.w);i||(c=1-c);var u=this._getAdjustedBB(s,o,i,c);this._applyTransformMatrix(t,u,n,e)}else{var h=n.getBoundingBox(e),d=this._getAdjustedBB(h,o,!0,1);this._applyTransformMatrix(t,d,n,e)}}},{key:"_applyTransformMatrix",value:function(e,t,n,r){var i,o;nd(e);var s=n.getRotation?n.getRotation(r):0;if(0!==s){var a=n.getRotationPoint(r);rd(e,e,[a.x,a.y]),id(e,e,s);var l=n.getRotationOffset(r);i=l.x+(t.xOffset||0),o=l.y+(t.yOffset||0)}else i=t.x1,o=t.y1;rd(e,e,[i,o]),od(e,e,[t.w,t.h])}},{key:"_getAdjustedBB",value:function(e,t,n,r){var i=e.x1,o=e.y1,s=e.w,a=e.h;t&&(i-=t,o-=t,s+=2*t,a+=2*t);var l=0,c=s*r;return n&&r<1?s=c:!n&&r<1&&(i+=l=s-c,s=c),{x1:i,y1:o,w:s,h:a,xOffset:l,yOffset:e.yOffset}}},{key:"drawPickingRectangle",value:function(e,t,n){var r=this.atlasManager.getRenderTypeOpts(n),i=this.instanceCount;this.vertTypeBuffer.getView(i)[0]=4,qh(t,this.indexBuffer.getView(i)),Yh([0,0,0],1,this.colorBuffer.getView(i));var o=this.transformBuffer.getMatrixView(i);this.setTransformMatrix(e,o,r),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(e,t,n){var r=this.simpleShapeOptions.get(n);if(this._isVisible(e,r)){var i=r.shapeProps,o=this._getVertTypeForShape(e,i.shape);if(void 0===o||r.isSimple&&!r.isSimple(e))this.drawTexture(e,t,n);else{var s=this.instanceCount;if(this.vertTypeBuffer.getView(s)[0]=o,5===o||6===o){var a=r.getBoundingBox(e),l=this._getCornerRadius(e,i.radius,a),c=this.cornerRadiusBuffer.getView(s);c[0]=l,c[1]=l,c[2]=l,c[3]=l,6===o&&(c[0]=0,c[2]=0)}qh(t,this.indexBuffer.getView(s)),Yh(e.pstyle(i.color).value,e.pstyle(i.opacity).value,this.colorBuffer.getView(s));var u=this.lineWidthBuffer.getView(s);if(u[0]=0,u[1]=0,i.border){var h=e.pstyle("border-width").value;if(h>0){Yh(e.pstyle("border-color").value,e.pstyle("border-opacity").value,this.borderColorBuffer.getView(s));var d=e.pstyle("border-position").value;if("inside"===d)u[0]=0,u[1]=-h;else if("outside"===d)u[0]=h,u[1]=0;else{var p=h/2;u[0]=p,u[1]=-p}}}var f=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(e,f,r),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"_getVertTypeForShape",value:function(e,t){switch(e.pstyle(t).value){case"rectangle":return 4;case"ellipse":return 7;case"roundrectangle":case"round-rectangle":return 5;case"bottom-round-rectangle":return 6;default:return}}},{key:"_getCornerRadius",value:function(e,t,n){var r=n.w,i=n.h;if("auto"===e.pstyle(t).value)return On(r,i);var o=e.pstyle(t).pfValue,s=r/2,a=i/2;return Math.min(o,a,s)}},{key:"drawEdgeArrow",value:function(e,t,n){if(e.visible()){var r,i,o,s=e._private.rscratch;if("source"===n?(r=s.arrowStartX,i=s.arrowStartY,o=s.srcArrowAngle):(r=s.arrowEndX,i=s.arrowEndY,o=s.tgtArrowAngle),!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(o)||null==o))if("none"!==e.pstyle(n+"-arrow-shape").value){var a=e.pstyle(n+"-arrow-color").value,l=e.pstyle("opacity").value*e.pstyle("line-opacity").value,c=e.pstyle("width").pfValue,u=e.pstyle("arrow-scale").value,h=this.r.getArrowWidth(c,u),d=this.instanceCount,p=this.transformBuffer.getMatrixView(d);nd(p),rd(p,p,[r,i]),od(p,p,[h,h]),id(p,p,o),this.vertTypeBuffer.getView(d)[0]=3,qh(t,this.indexBuffer.getView(d)),Yh(a,l,this.colorBuffer.getView(d)),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(e,t){if(e.visible()){var n=this._getEdgePoints(e);if(n){var r=e.pstyle("opacity").value,i=e.pstyle("line-opacity").value,o=e.pstyle("width").pfValue,s=e.pstyle("line-color").value,a=r*i;if(n.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),4==n.length){var l=this.instanceCount;this.vertTypeBuffer.getView(l)[0]=1,qh(t,this.indexBuffer.getView(l)),Yh(s,a,this.colorBuffer.getView(l)),this.lineWidthBuffer.getView(l)[0]=o;var c=this.pointAPointBBuffer.getView(l);c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var u=0;u<n.length-2;u+=2){var h=this.instanceCount;this.vertTypeBuffer.getView(h)[0]=2,qh(t,this.indexBuffer.getView(h)),Yh(s,a,this.colorBuffer.getView(h)),this.lineWidthBuffer.getView(h)[0]=o;var d=n[u-2],p=n[u-1],f=n[u],g=n[u+1],m=n[u+2],v=n[u+3],y=n[u+4],b=n[u+5];0==u&&(d=2*f-m+.001,p=2*g-v+.001),u==n.length-4&&(y=2*m-f+.001,b=2*v-g+.001);var w=this.pointAPointBBuffer.getView(h);w[0]=d,w[1]=p,w[2]=f,w[3]=g;var x=this.pointCPointDBuffer.getView(h);x[0]=m,x[1]=v,x[2]=y,x[3]=b,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(e){var t=e._private.rscratch;return!t.badLine&&null!=t.allpts&&!isNaN(t.allpts[0])}},{key:"_getEdgePoints",value:function(e){var t=e._private.rscratch;if(this._isValidEdge(e)){var n=t.allpts;if(4==n.length)return n;var r=this._getNumSegments(e);return this._getCurveSegmentPoints(n,r)}}},{key:"_getNumSegments",value:function(e){return Math.min(Math.max(15,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(e,t){if(4==e.length)return e;for(var n=Array(2*(t+1)),r=0;r<=t;r++)if(0==r)n[0]=e[0],n[1]=e[1];else if(r==t)n[2*r]=e[e.length-2],n[2*r+1]=e[e.length-1];else{var i=r/t;this._setCurvePoint(e,i,n,2*r)}return n}},{key:"_setCurvePoint",value:function(e,t,n,r){if(!(e.length<=2)){for(var i=Array(e.length-2),o=0;o<i.length;o+=2){var s=(1-t)*e[o]+t*e[o+2],a=(1-t)*e[o+1]+t*e[o+3];i[o]=s,i[o+1]=a}return this._setCurvePoint(i,t,n,r)}n[r]=e[0],n[r+1]=e[1]}},{key:"endBatch",value:function(){var e=this.gl,t=this.vao,n=this.vertexCount,r=this.instanceCount;if(0!==r){var i=this.renderTarget.picking?this.pickingProgram:this.program;e.useProgram(i),e.bindVertexArray(t);var o,a=s(this.buffers);try{for(a.s();!(o=a.n()).done;){o.value.bufferSubData(r)}}catch(e){a.e(e)}finally{a.f()}for(var l,c,u=this.batchManager.getAtlases(),h=0;h<u.length;h++)u[h].bufferIfNeeded(e);for(var d=0;d<u.length;d++)e.activeTexture(e.TEXTURE0+d),e.bindTexture(e.TEXTURE_2D,u[d].texture),e.uniform1i(i.uTextures[d],d);e.uniform1f(i.uZoom,(l=this.r,c=l.pixelRatio,l.cy.zoom()*c)),e.uniformMatrix3fv(i.uPanZoomMatrix,!1,this.panZoomMatrix),e.uniform1i(i.uAtlasSize,this.batchManager.getAtlasSize());var p=Yh(this.bgColor,1);e.uniform4fv(i.uBGColor,p),e.drawArraysInstanced(e.TRIANGLES,0,n,r),e.bindVertexArray(null),e.bindTexture(e.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:r,atlasCount:u.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var e=this.atlasManager.getDebugInfo(),t=e.reduce(function(e,t){return e+t.atlasCount},0),n=this.batchDebugInfo,r=n.reduce(function(e,t){return e+t.count},0);return{atlasInfo:e,totalAtlases:t,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:n.length,batchInfo:n,totalInstances:r}}}])}(),fd={};function gd(e,t){var n=e._private.rscratch;return dt(n,"labelWrapCachedLines",t)||[]}fd.initWebgl=function(e,t){var n=this,r=n.data.contexts[n.WEBGL];e.bgColor=function(e){var t=e.cy.container(),n=t&&t.style&&t.style.backgroundColor||"white";return we(n)}(n),e.webglTexSize=Math.min(e.webglTexSize,r.getParameter(r.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)),n.webglDebug=e.webglDebug,n.webglDebugShowAtlases=e.webglDebugShowAtlases,n.pickingFrameBuffer=function(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(t,r){e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}(r),n.pickingFrameBuffer.needsDraw=!0,n.drawing=new pd(n,r,e);var i=function(e){return function(t){return n.getTextAngle(t,e)}},o=function(e){return function(t){var n=t.pstyle(e);return n&&n.value}},a=function(e){return function(t){return t.pstyle("".concat(e,"-opacity")).value>0}},c=function(e){return"yes"===e.pstyle("text-events").strValue?dd:hd},u=function(e){var t=e.position(),n=t.x,r=t.y,i=e.outerWidth(),o=e.outerHeight();return{w:i,h:o,x1:n-i/2,y1:r-o/2}};n.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),n.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),n.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),n.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:u,isSimple:Vh,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),n.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:u,isVisible:a("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),n.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:u,isVisible:a("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),n.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:c,getKey:md(t.getLabelKey,null),getBoundingBox:vd(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:i(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:o("label")}),n.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:c,getKey:md(t.getSourceLabelKey,"source"),getBoundingBox:vd(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:i("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:o("source-label")}),n.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:c,getKey:md(t.getTargetLabelKey,"target"),getBoundingBox:vd(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:i("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:o("target-label")});var h=Re(function(){n.data.gc=!0},1e4);n.onUpdateEleCalcs(function(e,t){var r=!1;t&&t.length>0&&(r|=n.drawing.invalidate(t)),r&&h()}),function(e){var t=e.render;e.render=function(n){n=n||{};var r=e.cy;e.webgl&&(r.zoom()>uh?(!function(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}(e),t.call(e,n)):(!function(e){var t=function(t){t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.canvasWidth,e.canvasHeight),t.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}(e),wd(e,n,ud.SCREEN)))};var n=e.matchCanvasSize;e.matchCanvasSize=function(t){n.call(e,t),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0},e.findNearestElements=function(t,n,r,i){return function(e,t,n){var r,i,o,a=function(e,t,n){var r,i,o,s,a=Gh(e),c=a.pan,u=a.zoom,h=function(e,t,n,r,i){var o=r*n+t.x,s=i*n+t.y;return[o,s=Math.round(e.canvasHeight-s)]}(e,c,u,t,n),d=l(h,2),p=d[0],f=d[1],g=6;if(r=p-g/2,i=f-g/2,s=g,0===(o=g)||0===s)return[];var m=e.data.contexts[e.WEBGL];m.bindFramebuffer(m.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(m.viewport(0,0,m.canvas.width,m.canvas.height),wd(e,null,ud.PICKING),e.pickingFrameBuffer.needsDraw=!1);var v=o*s,y=new Uint8Array(4*v);m.readPixels(r,i,o,s,m.RGBA,m.UNSIGNED_BYTE,y),m.bindFramebuffer(m.FRAMEBUFFER,null);for(var b=new Set,w=0;w<v;w++){var x=Xh(y.slice(4*w,4*w+4))-1;x>=0&&b.add(x)}return b}(e,t,n),c=e.getCachedZSortedEles(),u=s(a);try{for(u.s();!(o=u.n()).done;){var h=c[o.value];if(!r&&h.isNode()&&(r=h),!i&&h.isEdge()&&(i=h),r&&i)break}}catch(e){u.e(e)}finally{u.f()}return[r,i].filter(Boolean)}(e,t,n)};var r=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){r.call(e),e.pickingFrameBuffer.needsDraw=!0};var i=e.notify;e.notify=function(t,n){i.call(e,t,n),"viewport"===t||"bounds"===t?e.pickingFrameBuffer.needsDraw=!0:"background"===t&&e.drawing.invalidate(n,{type:"node-body"})}}(n)};var md=function(e,t){return function(n){var r=e(n),i=gd(n,t);return i.length>1?i.map(function(e,t){return"".concat(r,"_").concat(t)}):r}},vd=function(e,t){return function(n,r){var i=e(n);if("string"==typeof r){var o=r.indexOf("_");if(o>0){var s=Number(r.substring(o+1)),a=gd(n,t),l=i.h/a.length,c=l*s,u=i.y1+c;return{x1:i.x1,w:i.w,y1:u,h:l,yOffset:c}}}return i}};function yd(e,t){var n=e.canvasWidth,r=e.canvasHeight,i=Gh(e),o=i.pan,s=i.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n,r),t.translate(o.x,o.y),t.scale(s,s)}function bd(e,t,n){var r=e.drawing;t+=1,n.isNode()?(r.drawNode(n,t,"node-underlay"),r.drawNode(n,t,"node-body"),r.drawTexture(n,t,"label"),r.drawNode(n,t,"node-overlay")):(r.drawEdgeLine(n,t),r.drawEdgeArrow(n,t,"source"),r.drawEdgeArrow(n,t,"target"),r.drawTexture(n,t,"label"),r.drawTexture(n,t,"edge-source-label"),r.drawTexture(n,t,"edge-target-label"))}function wd(e,t,n){var r;e.webglDebug&&(r=performance.now());var i=e.drawing,o=0;if(n.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&function(e,t){e.drawSelectionRectangle(t,function(t){return yd(e,t)})}(e,t),e.data.canvasNeedsRedraw[e.NODE]||n.picking){var a=e.data.contexts[e.WEBGL];n.screen?(a.clearColor(0,0,0,0),a.enable(a.BLEND),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA)):a.disable(a.BLEND),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.viewport(0,0,a.canvas.width,a.canvas.height);var l=function(e){var t=e.canvasWidth,n=e.canvasHeight,r=Gh(e),i=r.pan,o=r.zoom,s=td();rd(s,s,[i.x,i.y]),od(s,s,[o,o]);var a=td();!function(e,t,n){e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1}(a,t,n);var l,c,u,h,d,p,f,g,m,v,y,b,w,x,_,A,T,E,k,S,C,N=td();return l=N,u=s,h=(c=a)[0],d=c[1],p=c[2],f=c[3],g=c[4],m=c[5],v=c[6],y=c[7],b=c[8],w=u[0],x=u[1],_=u[2],A=u[3],T=u[4],E=u[5],k=u[6],S=u[7],C=u[8],l[0]=w*h+x*f+_*v,l[1]=w*d+x*g+_*y,l[2]=w*p+x*m+_*b,l[3]=A*h+T*f+E*v,l[4]=A*d+T*g+E*y,l[5]=A*p+T*m+E*b,l[6]=k*h+S*f+C*v,l[7]=k*d+S*g+C*y,l[8]=k*p+S*m+C*b,N}(e),c=e.getCachedZSortedEles();if(o=c.length,i.startFrame(l,n),n.screen){for(var u=0;u<c.nondrag.length;u++)bd(e,u,c.nondrag[u]);for(var h=0;h<c.drag.length;h++)bd(e,h,c.drag[h])}else if(n.picking)for(var d=0;d<c.length;d++)bd(e,d,c[d]);i.endFrame(),n.screen&&e.webglDebugShowAtlases&&(function(e){var t=e.data.contexts[e.NODE];t.save(),yd(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}(e),function(e){var t=function(t,n,r){for(var i=t.atlasManager.getAtlasCollection(n),o=e.data.contexts[e.NODE],s=i.atlases,a=0;a<s.length;a++){var l=s[a].canvas;if(l){var c=l.width,u=l.height,h=c*a,d=l.height*r;o.save(),o.scale(.4,.4),o.drawImage(l,h,d),o.strokeStyle="black",o.rect(h,d,c,u),o.stroke(),o.restore()}}},n=0;t(e.drawing,"node",n++),t(e.drawing,"label",n++)}(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var p,f=performance.now(),g=(Math.ceil(f-r),i.getDebugInfo()),m=(["".concat(o," elements"),"".concat(g.totalInstances," instances"),"".concat(g.batchCount," batches"),"".concat(g.totalAtlases," atlases"),"".concat(g.wrappedCount," wrapped textures"),"".concat(g.simpleCount," simple shapes")].join(", "),s(g.atlasInfo));try{for(m.s();!(p=m.n()).done;)p.value}catch(e){m.e(e)}finally{m.f()}}e.data.gc&&(e.data.gc=!1,i.gc())}for(var xd={drawPolygonPath:function(e,t,n,r,i,o){var s=r/2,a=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+s*o[0],n+a*o[1]);for(var l=1;l<o.length/2;l++)e.lineTo(t+s*o[2*l],n+a*o[2*l+1]);e.closePath()},drawRoundPolygonPath:function(e,t,n,r,i,o,s){s.forEach(function(t){return Bu(e,t)}),e.closePath()},drawRoundRectanglePath:function(e,t,n,r,i,o){var s=r/2,a=i/2,l="auto"===o?On(r,i):Math.min(o,a,s);e.beginPath&&e.beginPath(),e.moveTo(t,n-a),e.arcTo(t+s,n-a,t+s,n,l),e.arcTo(t+s,n+a,t,n+a,l),e.arcTo(t-s,n+a,t-s,n,l),e.arcTo(t-s,n-a,t,n-a,l),e.lineTo(t,n-a),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,r,i,o){var s=r/2,a=i/2,l="auto"===o?On(r,i):o;e.beginPath&&e.beginPath(),e.moveTo(t,n-a),e.lineTo(t+s,n-a),e.lineTo(t+s,n),e.arcTo(t+s,n+a,t,n+a,l),e.arcTo(t-s,n+a,t-s,n,l),e.lineTo(t-s,n-a),e.lineTo(t,n-a),e.closePath()},drawCutRectanglePath:function(e,t,n,r,i,o,s){var a=r/2,l=i/2,c="auto"===s?8:s;e.beginPath&&e.beginPath(),e.moveTo(t-a+c,n-l),e.lineTo(t+a-c,n-l),e.lineTo(t+a,n-l+c),e.lineTo(t+a,n+l-c),e.lineTo(t+a-c,n+l),e.lineTo(t-a+c,n+l),e.lineTo(t-a,n+l-c),e.lineTo(t-a,n-l+c),e.closePath()},drawBarrelPath:function(e,t,n,r,i){var o=r/2,s=i/2,a=t-o,l=t+o,c=n-s,u=n+s,h=In(r,i),d=h.widthOffset,p=h.heightOffset,f=h.ctrlPtOffsetPct*d;e.beginPath&&e.beginPath(),e.moveTo(a,c+p),e.lineTo(a,u-p),e.quadraticCurveTo(a+f,u,a+d,u),e.lineTo(l-d,u),e.quadraticCurveTo(l-f,u,l,u-p),e.lineTo(l,c+p),e.quadraticCurveTo(l-f,c,l-d,c),e.lineTo(a+d,c),e.quadraticCurveTo(a+f,c,a,c+p),e.closePath()}},_d=Math.sin(0),Ad=Math.cos(0),Td={},Ed={},kd=Math.PI/40,Sd=0*Math.PI;Sd<2*Math.PI;Sd+=kd)Td[Sd]=Math.sin(Sd),Ed[Sd]=Math.cos(Sd);xd.drawEllipsePath=function(e,t,n,r,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,i/2,0,0,2*Math.PI);else for(var o,s,a=r/2,l=i/2,c=0*Math.PI;c<2*Math.PI;c+=kd)o=t-a*Td[c]*_d+a*Ed[c]*Ad,s=n+l*Ed[c]*_d+l*Td[c]*Ad,0===c?e.moveTo(o,s):e.lineTo(o,s);e.closePath()};var Cd={};function Nd(e){var t=e.indexOf(",");return e.substr(t+1)}function Md(e,t,n){var r=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new Yr(function(r,i){try{t.toBlob(function(e){null!=e?r(e):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,e.quality)}catch(e){i(e)}});case"blob":return function(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([r],{type:t})}(Nd(r()),n);case"base64":return Nd(r());default:return r()}}Cd.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},Cd.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),r=this.findContainerClientCoords(),i=e.full?Math.ceil(n.w):r[2],o=e.full?Math.ceil(n.h):r[3],s=Q(e.maxWidth)||Q(e.maxHeight),a=this.getPixelRatio(),l=1;if(void 0!==e.scale)i*=e.scale,o*=e.scale,l=e.scale;else if(s){var c=1/0,u=1/0;Q(e.maxWidth)&&(c=l*e.maxWidth/i),Q(e.maxHeight)&&(u=l*e.maxHeight/o),i*=l=Math.min(c,u),o*=l}s||(i*=a,o*=a,l*=a);var h=document.createElement("canvas");h.width=i,h.height=o,h.style.width=i+"px",h.style.height=o+"px";var d=h.getContext("2d");if(i>0&&o>0){d.clearRect(0,0,i,o),d.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(e.full)d.translate(-n.x1*l,-n.y1*l),d.scale(l,l),this.drawElements(d,p),d.scale(1/l,1/l),d.translate(n.x1*l,n.y1*l);else{var f=t.pan(),g={x:f.x*l,y:f.y*l};l*=t.zoom(),d.translate(g.x,g.y),d.scale(l,l),this.drawElements(d,p),d.scale(1/l,1/l),d.translate(-g.x,-g.y)}e.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=e.bg,d.rect(0,0,i,o),d.fill())}return h},Cd.png=function(e){return Md(e,this.bufferCanvasImage(e),"image/png")},Cd.jpg=function(e){return Md(e,this.bufferCanvasImage(e),"image/jpeg")};var Od={nodeShapeImpl:function(e,t,n,r,i,o,s,a){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,i,o);case"polygon":return this.drawPolygonPath(t,n,r,i,o,s);case"round-polygon":return this.drawRoundPolygonPath(t,n,r,i,o,s,a);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,r,i,o,a);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,r,i,o,s,a);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,r,i,o,a);case"barrel":return this.drawBarrelPath(t,n,r,i,o)}}},Rd=Ld,Id=Ld.prototype;function Ld(e){var t=this,n=t.cy.window().document;e.webgl&&(Id.CANVAS_LAYERS=t.CANVAS_LAYERS=4),t.data={canvases:new Array(Id.CANVAS_LAYERS),contexts:new Array(Id.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Id.CANVAS_LAYERS),bufferCanvases:new Array(Id.BUFFER_COUNT),bufferContexts:new Array(Id.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var o=t.data.canvasContainer.style;t.data.canvasContainer.style[r]=i,o.position="relative",o.zIndex="0",o.overflow="hidden";var s=e.cy.container();s.appendChild(t.data.canvasContainer),s.style[r]=i;var a={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};f&&f.userAgent.match(/msie|trident|edge/i)&&(a["-ms-touch-action"]="none",a["touch-action"]="none");for(var l=0;l<Id.CANVAS_LAYERS;l++){var c=t.data.canvases[l]=n.createElement("canvas"),u=Id.CANVAS_TYPES[l];t.data.contexts[l]=c.getContext(u),t.data.contexts[l]||nt("Could not create canvas of type "+u),Object.keys(a).forEach(function(e){c.style[e]=a[e]}),c.style.position="absolute",c.setAttribute("data-id","layer"+l),c.style.zIndex=String(Id.CANVAS_LAYERS-l),t.data.canvasContainer.appendChild(c),t.data.canvasNeedsRedraw[l]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[Id.NODE].setAttribute("data-id","layer"+Id.NODE+"-node"),t.data.canvases[Id.SELECT_BOX].setAttribute("data-id","layer"+Id.SELECT_BOX+"-selectbox"),t.data.canvases[Id.DRAG].setAttribute("data-id","layer"+Id.DRAG+"-drag"),t.data.canvases[Id.WEBGL]&&t.data.canvases[Id.WEBGL].setAttribute("data-id","layer"+Id.WEBGL+"-webgl");for(l=0;l<Id.BUFFER_COUNT;l++)t.data.bufferCanvases[l]=n.createElement("canvas"),t.data.bufferContexts[l]=t.data.bufferCanvases[l].getContext("2d"),t.data.bufferCanvases[l].style.position="absolute",t.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),t.data.bufferCanvases[l].style.zIndex=String(-l-1),t.data.bufferCanvases[l].style.visibility="hidden";t.pathsEnabled=!0;var h=Jt(),d=function(e){return{x:-e.w/2,y:-e.h/2}},p=function(e){return e[0]._private.nodeKey},g=function(e){return e[0]._private.labelStyleKey},m=function(e){return e[0]._private.sourceLabelStyleKey},v=function(e){return e[0]._private.targetLabelStyleKey},y=function(e,n,r,i,o){return t.drawElement(e,n,r,!1,!1,o)},b=function(e,n,r,i,o){return t.drawElementText(e,n,r,i,"main",o)},w=function(e,n,r,i,o){return t.drawElementText(e,n,r,i,"source",o)},x=function(e,n,r,i,o){return t.drawElementText(e,n,r,i,"target",o)},_=function(e){return e.boundingBox(),e[0]._private.bodyBounds},A=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||h},T=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||h},E=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||h},k=function(e,t){return t},S=function(e){return{x:((t=_(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},C=function(e,t,n){var r=e?e+"-":"";return{x:t.x+n.pstyle(r+"text-margin-x").pfValue,y:t.y+n.pstyle(r+"text-margin-y").pfValue}},N=function(e,t,n){var r=e[0]._private.rscratch;return{x:r[t],y:r[n]}},M=function(e){return C("",N(e,"labelX","labelY"),e)},O=function(e){return C("source",N(e,"sourceLabelX","sourceLabelY"),e)},R=function(e){return C("target",N(e,"targetLabelX","targetLabelY"),e)},I=function(e){return d(_(e))},L=function(e){return d(T(e))},P=function(e){return d(E(e))},D=function(e){var t=A(e),n=d(A(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":n.x=-t.w-(t.leftPad||0);break;case"right":n.x=-(t.rightPad||0)}switch(e.pstyle("text-valign").value){case"top":n.y=-t.h-(t.topPad||0);break;case"bottom":n.y=-(t.botPad||0)}}return n},B=t.data.eleTxrCache=new ph(t,{getKey:p,doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:y,getBoundingBox:_,getRotationPoint:S,getRotationOffset:I,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),F=t.data.lblTxrCache=new ph(t,{getKey:g,drawElement:b,getBoundingBox:A,getRotationPoint:M,getRotationOffset:D,isVisible:k}),z=t.data.slbTxrCache=new ph(t,{getKey:m,drawElement:w,getBoundingBox:T,getRotationPoint:O,getRotationOffset:L,isVisible:k}),$=t.data.tlbTxrCache=new ph(t,{getKey:v,drawElement:x,getBoundingBox:E,getRotationPoint:R,getRotationOffset:P,isVisible:k}),j=t.data.lyrTxrCache=new gh(t);t.onUpdateEleCalcs(function(e,t){B.invalidateElements(t),F.invalidateElements(t),z.invalidateElements(t),$.invalidateElements(t),j.invalidateElements(t);for(var n=0;n<t.length;n++){var r=t[n]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}});var U=function(e){for(var t=0;t<e.length;t++)j.enqueueElementRefinement(e[t].ele)};B.onDequeue(U),F.onDequeue(U),z.onDequeue(U),$.onDequeue(U),e.webgl&&t.initWebgl(e,{getStyleKey:p,getLabelKey:g,getSourceLabelKey:m,getTargetLabelKey:v,drawElement:y,drawLabel:b,drawSourceLabel:w,drawTargetLabel:x,getElementBox:_,getLabelBox:A,getSourceLabelBox:T,getTargetLabelBox:E,getElementRotationPoint:S,getElementRotationOffset:I,getLabelRotationPoint:M,getSourceLabelRotationPoint:O,getTargetLabelRotationPoint:R,getLabelRotationOffset:D,getSourceLabelRotationOffset:L,getTargetLabelRotationOffset:P})}Id.CANVAS_LAYERS=3,Id.SELECT_BOX=0,Id.DRAG=1,Id.NODE=2,Id.WEBGL=3,Id.CANVAS_TYPES=["2d","2d","2d","webgl2"],Id.BUFFER_COUNT=3,Id.TEXTURE_BUFFER=0,Id.MOTIONBLUR_BUFFER_NODE=1,Id.MOTIONBLUR_BUFFER_DRAG=2,Id.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[Id.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[Id.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[Id.SELECT_BOX]=t;break;case"gc":n.data.gc=!0}};var Pd="undefined"!=typeof Path2D;Id.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},Id.usePaths=function(){return Pd&&this.pathsEnabled},Id.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},Id.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},Id.makeOffscreenCanvas=function(e,t){var n;"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":h(OffscreenCanvas))?n=new OffscreenCanvas(e,t):((n=this.cy.window().document.createElement("canvas")).width=e,n.height=t);return n},[wh,kh,Ih,Ph,Dh,Fh,jh,fd,xd,Cd,Od].forEach(function(e){be(Id,e)});var Dd=[{type:"layout",extensions:cu},{type:"renderer",extensions:[{name:"null",impl:uu},{name:"base",impl:oh},{name:"canvas",impl:Rd}]}],Bd={},Fd={};function zd(e,t,n){var r=n,i=function(e){it()};if("core"===e){if(_c.prototype[t])return i();_c.prototype[t]=n}else if("collection"===e){if(Fl.prototype[t])return i();Fl.prototype[t]=n}else if("layout"===e){for(var o=function(e){this.options=e,n.call(this,e),Z(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},s=o.prototype=Object.create(n.prototype),a=[],l=0;l<a.length;l++){var c=a[l];s[c]=s[c]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var u=n.prototype.stop;s.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return u?u.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var h=function(e){return e._private.cy},d={addEventFields:function(e,t){t.layout=e,t.cy=h(e),t.target=e},bubble:function(){return!0},parent:function(e){return h(e)}};be(s,{createEmitter:function(){return this._private.emitter=new nl(d,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),ws.eventAliasesOn(s),r=o}else if("renderer"===e&&"null"!==t&&"base"!==t){var p=$d("renderer","base"),f=p.prototype,g=n,m=n.prototype,v=function(){p.apply(this,arguments),g.apply(this,arguments)},y=v.prototype;for(var b in f){var w=f[b];if(null!=m[b])return i();y[b]=w}for(var x in m)y[x]=m[x];f.clientFunctions.forEach(function(e){y[e]=y[e]||function(){nt("Renderer does not implement `renderer."+e+"()` on its prototype")}}),r=v}else if("__proto__"===e||"constructor"===e||"prototype"===e)return nt(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return _e({map:Bd,keys:[e,t],value:r})}function $d(e,t){return Ae({map:Bd,keys:[e,t]})}function jd(e,t,n,r,i){return _e({map:Fd,keys:[e,t,n,r],value:i})}function Ud(e,t,n,r){return Ae({map:Fd,keys:[e,t,n,r]})}var Hd=function(){return 2===arguments.length?$d.apply(null,arguments):3===arguments.length?zd.apply(null,arguments):4===arguments.length?Ud.apply(null,arguments):5===arguments.length?jd.apply(null,arguments):void nt("Invalid extension access syntax")};_c.prototype.extension=Hd,Dd.forEach(function(e){e.extensions.forEach(function(t){zd(e.type,t.name,t.impl)})});var Gd=function(){if(!(this instanceof Gd))return new Gd;this.length=0},Vd=Gd.prototype;Vd.instanceString=function(){return"stylesheet"},Vd.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},Vd.css=function(e,t){var n=this.length-1;if(q(e))this[n].properties.push({name:e,value:t});else if(Z(e))for(var r=e,i=Object.keys(r),o=0;o<i.length;o++){var s=i[o],a=r[s];if(null!=a){var l=vc.properties[s]||vc.properties[ce(s)];if(null!=l){var c=l.name,u=a;this[n].properties.push({name:c,value:u})}}}return this},Vd.style=Vd.css,Vd.generateStyle=function(e){var t=new vc(e);return this.appendToStyle(t)},Vd.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,i=n.properties;e.selector(r);for(var o=0;o<i.length;o++){var s=i[o];e.css(s.name,s.value)}}return e};var Wd=function(e){return void 0===e&&(e={}),Z(e)?new _c(e):q(e)?Hd.apply(Hd,arguments):void 0};Wd.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Wd),e.apply(null,t),this},Wd.warnings=function(e){return rt(e)},Wd.version="3.33.1",Wd.stylesheet=Wd.Stylesheet=Gd},241:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1917).A.Symbol},261:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var o=i(n(2871)),s=r(n(9613)),a=r(n(3769)),l=i(n(2849)),c=i(n(7624)),u=r(n(1148));function h(){var e=new o.HandlebarsEnvironment;return l.extend(e,o),e.SafeString=s.default,e.Exception=a.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var d=h();d.create=h,u.default(d),d.default=d,t.default=d,e.exports=t.default},361:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});const r=/\sid="(\S+)"/g,i="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16);let o=0;function s(e,t=i){const n=[];let s;for(;s=r.exec(e);)n.push(s[1]);if(!n.length)return e;const a="suffix"+(16777216*Math.random()|Date.now()).toString(16);return n.forEach(n=>{const r="function"==typeof t?t(n):t+(o++).toString(),i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+i+')([")]|\\.[a-z])',"g"),"$1"+r+a+"$3")}),e=e.replace(new RegExp(a,"g"),"")}},367:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){return function(n){return e(t(n))}}},407:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(3149),i=Object.create;const o=function(){function e(){}return function(t){if(!(0,r.A)(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var s=n(5647),a=n(7271);const l=function(e){return"function"!=typeof e.constructor||(0,a.A)(e)?{}:o((0,s.A)(e))}},418:(e,t,n)=>{"use strict";n.d(t,{Bd:()=>p,P3:()=>E,PV:()=>A,Rp:()=>y,S:()=>k,SS:()=>m,U5:()=>b,Uz:()=>T,Xq:()=>x,YV:()=>c,eb:()=>d,g4:()=>h,qO:()=>f});var r=n(1564),i=n(2151),o=n(2479),s=n(9683),a=n(6373),l=n(2806);function c(e,t){const n=new Set,r=function(e){return e.rules.find(e=>i.s7(e)&&e.entry)}(e);if(!r)return new Set(e.rules);const o=[r].concat(function(e){return e.rules.filter(e=>i.rE(e)&&e.hidden)}(e));for(const e of o)u(e,n,t);const s=new Set;for(const t of e.rules)(n.has(t.name)||i.rE(t)&&t.hidden)&&s.add(t);return s}function u(e,t,n){t.add(e.name),(0,s.Uo)(e).forEach(e=>{if(i.$g(e)||n&&i.lF(e)){const r=e.rule.ref;r&&!t.has(r.name)&&u(r,t,n)}})}function h(e){if(e.terminal)return e.terminal;if(e.type.ref){const t=b(e.type.ref);return null==t?void 0:t.terminal}}function d(e){return e.hidden&&!(0,l.Yv)(k(e))}function p(e,t){return e&&t?g(e,t,e.astNode,!0):[]}function f(e,t,n){if(!e||!t)return;const r=g(e,t,e.astNode,!0);return 0!==r.length?r[n=void 0!==n?Math.max(0,Math.min(n,r.length-1)):0]:void 0}function g(e,t,n,r){if(!r){const n=(0,s.XG)(e.grammarSource,i.wh);if(n&&n.feature===t)return[e]}return(0,o.mD)(e)&&e.astNode===n?e.content.flatMap(e=>g(e,t,n,!1)):[]}function m(e,t,n){if(!e)return;const r=v(e,t,null==e?void 0:e.astNode);return 0!==r.length?r[n=void 0!==n?Math.max(0,Math.min(n,r.length-1)):0]:void 0}function v(e,t,n){if(e.astNode!==n)return[];if(i.wb(e.grammarSource)&&e.grammarSource.value===t)return[e];const r=(0,a.NS)(e).iterator();let o;const s=[];do{if(o=r.next(),!o.done){const e=o.value;e.astNode===n?i.wb(e.grammarSource)&&e.grammarSource.value===t&&s.push(e):r.prune()}}while(!o.done);return s}function y(e){var t;const n=e.astNode;for(;n===(null===(t=e.container)||void 0===t?void 0:t.astNode);){const t=(0,s.XG)(e.grammarSource,i.wh);if(t)return t;e=e.container}}function b(e){let t=e;return i.SP(t)&&(i.ve(t.$container)?t=t.$container.$container:i.s7(t.$container)?t=t.$container:(0,r.d)(t.$container)),w(e,t,new Map)}function w(e,t,n){var r;function o(t,r){let o;return(0,s.XG)(t,i.wh)||(o=w(r,r,n)),n.set(e,o),o}if(n.has(e))return n.get(e);n.set(e,void 0);for(const a of(0,s.Uo)(t)){if(i.wh(a)&&"name"===a.feature.toLowerCase())return n.set(e,a),a;if(i.$g(a)&&i.s7(a.rule.ref))return o(a,a.rule.ref);if(i.D8(a)&&(null===(r=a.typeRef)||void 0===r?void 0:r.ref))return o(a,a.typeRef.ref)}}function x(e){return _(e,new Set)}function _(e,t){if(t.has(e))return!0;t.add(e);for(const n of(0,s.Uo)(e))if(i.$g(n)){if(!n.rule.ref)return!1;if(i.s7(n.rule.ref)&&!_(n.rule.ref,t))return!1}else{if(i.wh(n))return!1;if(i.ve(n))return!1}return Boolean(e.definition)}function A(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){const t=e.returnType.ref;if(t){if(i.s7(t))return t.name;if(i.S2(t)||i.Xj(t))return t.name}}}function T(e){var t;if(i.s7(e))return x(e)?e.name:null!==(t=A(e))&&void 0!==t?t:e.name;if(i.S2(e)||i.Xj(e)||i.fG(e))return e.name;if(i.ve(e)){const t=function(e){var t;if(e.inferredType)return e.inferredType.name;if(null===(t=e.type)||void 0===t?void 0:t.ref)return T(e.type.ref);return}(e);if(t)return t}else if(i.SP(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function E(e){var t,n,r;return i.rE(e)?null!==(n=null===(t=e.type)||void 0===t?void 0:t.name)&&void 0!==n?n:"string":null!==(r=A(e))&&void 0!==r?r:e.name}function k(e){const t={s:!1,i:!1,u:!1},n=C(e.definition,t),r=Object.entries(t).filter(([,e])=>e).map(([e])=>e).join("");return new RegExp(n,r)}const S=/[\s\S]/.source;function C(e,t){if(i.Fy(e))return M((s=e).elements.map(e=>C(e)).join("|"),{cardinality:s.cardinality,lookahead:s.lookahead});if(i.O4(e))return M((o=e).elements.map(e=>C(e)).join(""),{cardinality:o.cardinality,lookahead:o.lookahead});if(i.Bg(e))return function(e){if(e.right)return M(`[${N(e.left)}-${N(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1});return M(N(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}(e);if(i.lF(e)){const t=e.rule.ref;if(!t)throw new Error("Missing rule reference.");return M(C(t.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}if(i.GL(e))return M(`(?!${C((r=e).terminal)})${S}*?`,{cardinality:r.cardinality,lookahead:r.lookahead});if(i.Mz(e))return M(`${S}*?${C((n=e).terminal)}`,{cardinality:n.cardinality,lookahead:n.lookahead});if(i.vd(e)){const n=e.regex.lastIndexOf("/"),r=e.regex.substring(1,n),i=e.regex.substring(n+1);return t&&(t.i=i.includes("i"),t.s=i.includes("s"),t.u=i.includes("u")),M(r,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}if(i.z2(e))return M(S,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${null==e?void 0:e.$type}`);var n,r,o,s}function N(e){return(0,l.Nt)(e.value)}function M(e,t){var n;return(!1!==t.wrap||t.lookahead)&&(e=`(${null!==(n=t.lookahead)&&void 0!==n?n:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}},445:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,r=/\d\d/,i=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,s={},a=function(e){return(e=+e)+(e>68?1900:2e3)},l=function(e){return function(t){this[e]=+t}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],u=function(e){var t=s[e];return t&&(t.indexOf?t:t.s.concat(t.f))},h=function(e,t){var n,r=s.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[o,function(e){this.afternoon=h(e,!1)}],a:[o,function(e){this.afternoon=h(e,!0)}],Q:[n,function(e){this.month=3*(e-1)+1}],S:[n,function(e){this.milliseconds=100*+e}],SS:[r,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[i,l("seconds")],ss:[i,l("seconds")],m:[i,l("minutes")],mm:[i,l("minutes")],H:[i,l("hours")],h:[i,l("hours")],HH:[i,l("hours")],hh:[i,l("hours")],D:[i,l("day")],DD:[r,l("day")],Do:[o,function(e){var t=s.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],w:[i,l("week")],ww:[r,l("week")],M:[i,l("month")],MM:[r,l("month")],MMM:[o,function(e){var t=u("months"),n=(u("monthsShort")||t.map(function(e){return e.slice(0,3)})).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,l("year")],YY:[r,function(e){this.year=a(e)}],YYYY:[/\d{4}/,l("year")],Z:c,ZZ:c};function p(n){var r,i;r=n,i=s&&s.formats;for(var o=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,n,r){var o=r&&r.toUpperCase();return n||i[r]||e[r]||i[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})})).match(t),a=o.length,l=0;l<a;l+=1){var c=o[l],u=d[c],h=u&&u[0],p=u&&u[1];o[l]=p?{regex:h,parser:p}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<a;n+=1){var i=o[n];if("string"==typeof i)r+=i.length;else{var s=i.regex,l=i.parser,c=e.slice(r),u=s.exec(c)[0];l.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,o=e.args;this.$u=r;var a=o[1];if("string"==typeof a){var l=!0===o[2],c=!0===o[3],u=l||c,h=o[2];c&&(h=o[2]),s=this.$locale(),!l&&h&&(s=n.Ls[h]),this.$d=function(e,t,n,r){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var i=p(t)(e),o=i.year,s=i.month,a=i.day,l=i.hours,c=i.minutes,u=i.seconds,h=i.milliseconds,d=i.zone,f=i.week,g=new Date,m=a||(o||s?1:g.getDate()),v=o||g.getFullYear(),y=0;o&&!s||(y=s>0?s-1:g.getMonth());var b,w=l||0,x=c||0,_=u||0,A=h||0;return d?new Date(Date.UTC(v,y,m,w,x,_,A+60*d.offset*1e3)):n?new Date(Date.UTC(v,y,m,w,x,_,A)):(b=new Date(v,y,m,w,x,_,A),f&&(b=r(b).week(f).toDate()),b)}catch(e){return new Date("")}}(t,a,r,n),this.init(),h&&!0!==h&&(this.$L=this.locale(h).$L),u&&t!=this.format(a)&&(this.$d=new Date("")),s={}}else if(a instanceof Array)for(var d=a.length,f=1;f<=d;f+=1){o[1]=a[f-1];var g=n.apply(this,o);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}f===d&&(this.$d=new Date(""))}else i.call(this,e)}}}()},473:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(6307),i=n(8446),o=n(7422);const s=function(e){return function(t,n,s){var a=Object(t);if(!(0,i.A)(t)){var l=(0,r.A)(n,3);t=(0,o.A)(t),n=function(e){return l(a[e],e,a)}}var c=e(t,n,s);return c>-1?a[l?t[c]:c]:void 0}};var a=n(5707),l=n(8593),c=Math.max;const u=s(function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=null==n?0:(0,l.A)(n);return o<0&&(o=c(i+o,0)),(0,a.A)(e,(0,r.A)(t,3),o)})},483:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,l:()=>o});var r=n(4534),i=n(9735);function o(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function s(e,t,n,s){switch(e.type){case r.IO:if(e.children.length)break;case r.yE:case r.CU:case r.LU:return e.return=e.return||e.value;case r.YK:return"";case r.Sv:return e.return=e.value+"{"+o(e.children,s)+"}";case r.XZ:if(!(0,i.b2)(e.value=e.props.join(",")))return""}return(0,i.b2)(n=o(e.children,s))?e.return=e.value+"{"+n+"}":""}},513:(e,t,n)=>{"use strict";function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.from("string"==typeof e?[e]:e);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var i=r.reduce(function(e,t){var n=t.match(/\n([\t ]+|(?!\s).)/g);return n?e.concat(n.map(function(e){var t,n;return null!==(n=null===(t=e.match(/[\t ]/g))||void 0===t?void 0:t.length)&&void 0!==n?n:0})):e},[]);if(i.length){var o=new RegExp("\n[\t ]{"+Math.min.apply(Math,i)+"}","g");r=r.map(function(e){return e.replace(o,"\n")})}r[0]=r[0].replace(/^\r?\n/,"");var s=r[0];return t.forEach(function(e,t){var n=s.match(/(?:^|\n)( *)$/),i=n?n[1]:"",o=e;"string"==typeof e&&e.includes("\n")&&(o=String(e).split("\n").map(function(e,t){return 0===t?e:""+i+e}).join("\n")),s+=o+r[t+1]}),s}n.d(t,{T:()=>r})},565:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3988);const i=function(e){var t=new e.constructor(e.byteLength);return new r.A(t).set(new r.A(e)),t}},566:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(2849),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=r.indexOf(i.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=i.lookupLevel(e),"undefined"!=typeof console&&i.lookupLevel(i.level)<=e){var t=i.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o]}}};t.default=i,e.exports=t.default},567:(e,t,n)=>{"use strict";n.d(t,{Zp:()=>Lt});var r=n(8058),i=n(3456),o=0;const s=function(e){var t=++o;return(0,i.A)(e)+t};var a=n(9142),l=n(4098),c=n(4722),u=Math.ceil,h=Math.max;const d=function(e,t,n,r){for(var i=-1,o=h(u((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s};var p=n(6832),f=n(3631);const g=function(e){return function(t,n,r){return r&&"number"!=typeof r&&(0,p.A)(t,n,r)&&(n=r=void 0),t=(0,f.A)(t),void 0===n?(n=t,t=0):n=(0,f.A)(n),r=void 0===r?t<n?1:-1:(0,f.A)(r),d(t,n,r,e)}}();var m=n(697);class v{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,t=e._prev;if(t!==e)return y(t),t}enqueue(e){var t=this._sentinel;e._prev&&e._next&&y(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t}toString(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,b)),n=n._prev;return"["+e.join(", ")+"]"}}function y(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function b(e,t){if("_next"!==e&&"_prev"!==e)return t}var w=a.A(1);function x(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new m.T,i=0,o=0;r.A(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0})}),r.A(e.edges(),function(e){var r=n.edge(e.v,e.w)||0,s=t(e),a=r+s;n.setEdge(e.v,e.w,a),o=Math.max(o,n.node(e.v).out+=s),i=Math.max(i,n.node(e.w).in+=s)});var s=g(o+i+3).map(function(){return new v}),a=i+1;return r.A(n.nodes(),function(e){A(s,a,n.node(e))}),{graph:n,buckets:s,zeroIdx:a}}(e,t||w),i=function(e,t,n){var r,i=[],o=t[t.length-1],s=t[0];for(;e.nodeCount();){for(;r=s.dequeue();)_(e,t,n,r);for(;r=o.dequeue();)_(e,t,n,r);if(e.nodeCount())for(var a=t.length-2;a>0;--a)if(r=t[a].dequeue()){i=i.concat(_(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return l.A(c.A(i,function(t){return e.outEdges(t.v,t.w)}))}function _(e,t,n,i,o){var s=o?[]:void 0;return r.A(e.inEdges(i.v),function(r){var i=e.edge(r),a=e.node(r.v);o&&s.push({v:r.v,w:r.w}),a.out-=i,A(t,n,a)}),r.A(e.outEdges(i.v),function(r){var i=e.edge(r),o=r.w,s=e.node(o);s.in-=i,A(t,n,s)}),e.removeNode(i.v),s}function A(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}function T(e){var t="greedy"===e.graph().acyclicer?x(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},i={};function o(s){Object.prototype.hasOwnProperty.call(i,s)||(i[s]=!0,n[s]=!0,r.A(e.outEdges(s),function(e){Object.prototype.hasOwnProperty.call(n,e.w)?t.push(e):o(e.w)}),delete n[s])}return r.A(e.nodes(),o),t}(e);r.A(t,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,s("rev"))})}var E=n(7222),k=n(5507),S=n(6964);const C=function(e,t){return(0,k.A)(e,t,function(t,n){return(0,S.A)(e,n)})};var N=n(5255),M=n(7424);const O=function(e){return(0,M.A)((0,N.A)(e,void 0,l.A),e+"")}(function(e,t){return null==e?{}:C(e,t)});var R=n(3068),I=n(2559);const L=function(e,t){return e>t};var P=n(9008);const D=function(e){return e&&e.length?(0,I.A)(e,P.A,L):void 0};var B=n(6666),F=n(2528),z=n(9841),$=n(6307);const j=function(e,t){var n={};return t=(0,$.A)(t,3),(0,z.A)(e,function(e,r,i){(0,F.A)(n,r,t(e,r,i))}),n};var U=n(9592),H=n(6452),G=n(9622),V=n(1917);const W=function(){return V.A.Date.now()};function Y(e,t,n,r){var i;do{i=s(r)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function q(e){var t=new m.T({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.A(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),r.A(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function X(e,t){var n,r,i=e.x,o=e.y,s=t.x-i,a=t.y-o,l=e.width/2,c=e.height/2;if(!s&&!a)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(a)*l>Math.abs(s)*c?(a<0&&(c=-c),n=c*s/a,r=c):(s<0&&(l=-l),n=l,r=l*a/s),{x:i+n,y:o+r}}function K(e){var t=c.A(g(Q(e)+1),function(){return[]});return r.A(e.nodes(),function(n){var r=e.node(n),i=r.rank;U.A(i)||(t[i][r.order]=n)}),t}function Z(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),Y(e,"border",i,t)}function Q(e){return D(c.A(e.nodes(),function(t){var n=e.node(t).rank;if(!U.A(n))return n}))}function J(e,t){W();try{return t()}finally{}}function ee(e,t){return t()}function te(e,t,n,r,i,o){var s={width:0,height:0,rank:o,borderType:t},a=i[t][o-1],l=Y(e,"border",s,n);i[t][o]=l,e.setParent(l,r),a&&e.setEdge(a,l,{weight:1})}function ne(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){r.A(e.nodes(),function(t){oe(e.node(t))}),r.A(e.edges(),function(t){var n=e.edge(t);r.A(n.points,oe),Object.prototype.hasOwnProperty.call(n,"y")&&oe(n)})}(e),"lr"!==t&&"rl"!==t||(!function(e){r.A(e.nodes(),function(t){se(e.node(t))}),r.A(e.edges(),function(t){var n=e.edge(t);r.A(n.points,se),Object.prototype.hasOwnProperty.call(n,"x")&&se(n)})}(e),re(e))}function re(e){r.A(e.nodes(),function(t){ie(e.node(t))}),r.A(e.edges(),function(t){ie(e.edge(t))})}function ie(e){var t=e.width;e.width=e.height,e.height=t}function oe(e){e.y=-e.y}function se(e){var t=e.x;e.x=e.y,e.y=t}function ae(e){e.graph().dummyChains=[],r.A(e.edges(),function(t){!function(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,s=t.name,a=e.edge(t),l=a.labelRank;if(o===r+1)return;e.removeEdge(t);var c,u,h=void 0;for(u=0,++r;r<o;++u,++r)a.points=[],c=Y(e,"edge",h={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},"_d"),r===l&&(h.width=a.width,h.height=a.height,h.dummy="edge-label",h.labelpos=a.labelpos),e.setEdge(n,c,{weight:a.weight},s),0===u&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,i,{weight:a.weight},s)}(e,t)})}var le=n(6224);const ce=function(e,t){return e&&e.length?(0,I.A)(e,(0,$.A)(t,2),le.A):void 0};function ue(e){var t={};r.A(e.sources(),function n(r){var i=e.node(r);if(Object.prototype.hasOwnProperty.call(t,r))return i.rank;t[r]=!0;var o=H.A(c.A(e.outEdges(r),function(t){return n(t.w)-e.edge(t).minlen}));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o})}function he(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}function de(e){var t,n,r=new m.T({directed:!1}),i=e.nodes()[0],o=e.nodeCount();for(r.setNode(i,{});pe(r,e)<o;)t=fe(r,e),n=r.hasNode(t.v)?he(e,t):-he(e,t),ge(r,e,n);return r}function pe(e,t){return r.A(e.nodes(),function n(i){r.A(t.nodeEdges(i),function(r){var o=r.v,s=i===o?r.w:o;e.hasNode(s)||he(t,r)||(e.setNode(s,{}),e.setEdge(i,s,{}),n(s))})}),e.nodeCount()}function fe(e,t){return ce(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return he(t,n)})}function ge(e,t,n){r.A(e.nodes(),function(e){t.node(e).rank+=n})}var me=n(473),ve=n(4092);a.A(1);a.A(1);n(4453),n(9137),n(8446),n(9703);(0,n(805).A)("length");RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var ye="\\ud800-\\udfff",be="["+ye+"]",we="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",xe="\\ud83c[\\udffb-\\udfff]",_e="[^"+ye+"]",Ae="(?:\\ud83c[\\udde6-\\uddff]){2}",Te="[\\ud800-\\udbff][\\udc00-\\udfff]",Ee="(?:"+we+"|"+xe+")"+"?",ke="[\\ufe0e\\ufe0f]?",Se=ke+Ee+("(?:\\u200d(?:"+[_e,Ae,Te].join("|")+")"+ke+Ee+")*"),Ce="(?:"+[_e+we+"?",we,Ae,Te,be].join("|")+")";RegExp(xe+"(?="+xe+")|"+Ce+Se,"g");function Ne(){}Ne.prototype=new Error;var Me=n(2049);function Oe(e,t,n){Me.A(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],s={};return r.A(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);Re(e,t,"post"===n,s,i,o)}),o}function Re(e,t,n,i,o,s){Object.prototype.hasOwnProperty.call(i,t)||(i[t]=!0,n||s.push(t),r.A(o(t),function(t){Re(e,t,n,i,o,s)}),n&&s.push(t))}n(1471);function Ie(e){e=function(e){var t=(new m.T).setGraph(e.graph());return r.A(e.nodes(),function(n){t.setNode(n,e.node(n))}),r.A(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}(e),ue(e);var t,n=de(e);for(De(n),Le(n,e);t=Fe(n);)$e(n,e,t,ze(n,e,t))}function Le(e,t){var n=function(e,t){return Oe(e,t,"post")}(e,e.nodes());n=n.slice(0,n.length-1),r.A(n,function(n){!function(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=Pe(e,t,n)}(e,t,n)})}function Pe(e,t,n){var i=e.node(n).parent,o=!0,s=t.edge(n,i),a=0;return s||(o=!1,s=t.edge(i,n)),a=s.weight,r.A(t.nodeEdges(n),function(r){var s,l,c=r.v===n,u=c?r.w:r.v;if(u!==i){var h=c===o,d=t.edge(r).weight;if(a+=h?d:-d,s=n,l=u,e.hasEdge(s,l)){var p=e.edge(n,u).cutvalue;a+=h?-p:p}}}),a}function De(e,t){arguments.length<2&&(t=e.nodes()[0]),Be(e,{},1,t)}function Be(e,t,n,i,o){var s=n,a=e.node(i);return t[i]=!0,r.A(e.neighbors(i),function(r){Object.prototype.hasOwnProperty.call(t,r)||(n=Be(e,t,n,r,i))}),a.low=s,a.lim=n++,o?a.parent=o:delete a.parent,n}function Fe(e){return me.A(e.edges(),function(t){return e.edge(t).cutvalue<0})}function ze(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),s=e.node(i),a=o,l=!1;o.lim>s.lim&&(a=s,l=!0);var c=ve.A(t.edges(),function(t){return l===je(e,e.node(t.v),a)&&l!==je(e,e.node(t.w),a)});return ce(c,function(e){return he(t,e)})}function $e(e,t,n,i){var o=n.v,s=n.w;e.removeEdge(o,s),e.setEdge(i.v,i.w,{}),De(e),Le(e,t),function(e,t){var n=me.A(e.nodes(),function(e){return!t.node(e).parent}),i=function(e,t){return Oe(e,t,"pre")}(e,n);i=i.slice(1),r.A(i,function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)})}(e,t)}function je(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}function Ue(e){switch(e.graph().ranker){case"network-simplex":default:Ge(e);break;case"tight-tree":!function(e){ue(e),de(e)}(e);break;case"longest-path":He(e)}}Ie.initLowLimValues=De,Ie.initCutValues=Le,Ie.calcCutValue=Pe,Ie.leaveEdge=Fe,Ie.enterEdge=ze,Ie.exchangeEdges=$e;var He=ue;function Ge(e){Ie(e)}var Ve=n(2866),We=n(3130);function Ye(e){var t=Y(e,"root",{},"_root"),n=function(e){var t={};function n(i,o){var s=e.children(i);s&&s.length&&r.A(s,function(e){n(e,o+1)}),t[i]=o}return r.A(e.children(),function(e){n(e,1)}),t}(e),i=D(Ve.A(n))-1,o=2*i+1;e.graph().nestingRoot=t,r.A(e.edges(),function(t){e.edge(t).minlen*=o});var s=function(e){return We.A(e.edges(),function(t,n){return t+e.edge(n).weight},0)}(e)+1;r.A(e.children(),function(r){qe(e,t,o,s,i,n,r)}),e.graph().nodeRankFactor=o}function qe(e,t,n,i,o,s,a){var l=e.children(a);if(l.length){var c=Z(e,"_bt"),u=Z(e,"_bb"),h=e.node(a);e.setParent(c,a),h.borderTop=c,e.setParent(u,a),h.borderBottom=u,r.A(l,function(r){qe(e,t,n,i,o,s,r);var l=e.node(r),h=l.borderTop?l.borderTop:r,d=l.borderBottom?l.borderBottom:r,p=l.borderTop?i:2*i,f=h!==d?1:o-s[a]+1;e.setEdge(c,h,{weight:p,minlen:f,nestingEdge:!0}),e.setEdge(d,u,{weight:p,minlen:f,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,c,{weight:0,minlen:o+s[a]})}else a!==t&&e.setEdge(t,a,{weight:0,minlen:n})}var Xe=n(4507);const Ke=function(e){return(0,Xe.A)(e,5)};function Ze(e,t,n){var i=function(e){var t;for(;e.hasNode(t=s("_root")););return t}(e),o=new m.T({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(t){return e.node(t)});return r.A(e.nodes(),function(s){var a=e.node(s),l=e.parent(s);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(o.setNode(s),o.setParent(s,l||i),r.A(e[n](s),function(t){var n=t.v===s?t.w:t.v,r=o.edge(n,s),i=U.A(r)?0:r.weight;o.setEdge(n,s,{weight:e.edge(t).weight+i})}),Object.prototype.hasOwnProperty.call(a,"minRank")&&o.setNode(s,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),o}var Qe=n(2851);const Je=function(e,t,n){for(var r=-1,i=e.length,o=t.length,s={};++r<i;){var a=r<o?t[r]:void 0;n(s,e[r],a)}return s};const et=function(e,t){return Je(e||[],t||[],Qe.A)};var tt=n(7671),nt=n(5572),rt=n(6318),it=n(2568);const ot=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e};var st=n(2789),at=n(1882);const lt=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=(0,at.A)(e),s=void 0!==t,a=null===t,l=t==t,c=(0,at.A)(t);if(!a&&!c&&!o&&e>t||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0};const ct=function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var l=lt(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index};const ut=function(e,t,n){t=t.length?(0,nt.A)(t,function(e){return(0,Me.A)(e)?function(t){return(0,rt.A)(t,1===e.length?e[0]:e)}:e}):[P.A];var r=-1;t=(0,nt.A)(t,(0,st.A)($.A));var i=(0,it.A)(e,function(e,n,i){return{criteria:(0,nt.A)(t,function(t){return t(e)}),index:++r,value:e}});return ot(i,function(e,t){return ct(e,t,n)})};const ht=(0,n(4326).A)(function(e,t){if(null==e)return[];var n=t.length;return n>1&&(0,p.A)(e,t[0],t[1])?t=[]:n>2&&(0,p.A)(t[0],t[1],t[2])&&(t=[t[0]]),ut(e,(0,tt.A)(t,1),[])});function dt(e,t){for(var n=0,r=1;r<t.length;++r)n+=pt(e,t[r-1],t[r]);return n}function pt(e,t,n){for(var i=et(n,c.A(n,function(e,t){return t})),o=l.A(c.A(t,function(t){return ht(c.A(e.outEdges(t),function(t){return{pos:i[t.w],weight:e.edge(t).weight}}),"pos")})),s=1;s<n.length;)s<<=1;var a=2*s-1;s-=1;var u=c.A(new Array(a),function(){return 0}),h=0;return r.A(o.forEach(function(e){var t=e.pos+s;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),u[t=t-1>>1]+=e.weight;h+=e.weight*n})),h}function ft(e,t){var n={};return r.A(e,function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};U.A(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)}),r.A(t.edges(),function(e){var t=n[e.v],r=n[e.w];U.A(t)||U.A(r)||(r.indegree++,t.out.push(n[e.w]))}),function(e){var t=[];function n(e){return function(t){t.merged||(U.A(t.barycenter)||U.A(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function i(t){return function(n){n.in.push(t),0===--n.indegree&&e.push(n)}}for(;e.length;){var o=e.pop();t.push(o),r.A(o.in.reverse(),n(o)),r.A(o.out,i(o))}return c.A(ve.A(t,function(e){return!e.merged}),function(e){return O(e,["vs","i","barycenter","weight"])})}(ve.A(n,function(e){return!e.indegree}))}function gt(e,t){var n,i=function(e,t){var n={lhs:[],rhs:[]};return r.A(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n}(e,function(e){return Object.prototype.hasOwnProperty.call(e,"barycenter")}),o=i.lhs,s=ht(i.rhs,function(e){return-e.i}),a=[],c=0,u=0,h=0;o.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),h=mt(a,s,h),r.A(o,function(e){h+=e.vs.length,a.push(e.vs),c+=e.barycenter*e.weight,u+=e.weight,h=mt(a,s,h)});var d={vs:l.A(a)};return u&&(d.barycenter=c/u,d.weight=u),d}function mt(e,t,n){for(var r;t.length&&(r=B.A(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function vt(e,t,n,i){var o=e.children(t),s=e.node(t),a=s?s.borderLeft:void 0,u=s?s.borderRight:void 0,h={};a&&(o=ve.A(o,function(e){return e!==a&&e!==u}));var d=function(e,t){return c.A(t,function(t){var n=e.inEdges(t);if(n.length){var r=We.A(n,function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}})}(e,o);r.A(d,function(t){if(e.children(t.v).length){var r=vt(e,t.v,n,i);h[t.v]=r,Object.prototype.hasOwnProperty.call(r,"barycenter")&&(o=t,s=r,U.A(o.barycenter)?(o.barycenter=s.barycenter,o.weight=s.weight):(o.barycenter=(o.barycenter*o.weight+s.barycenter*s.weight)/(o.weight+s.weight),o.weight+=s.weight))}var o,s});var p=ft(d,n);!function(e,t){r.A(e,function(e){e.vs=l.A(e.vs.map(function(e){return t[e]?t[e].vs:e}))})}(p,h);var f=gt(p,i);if(a&&(f.vs=l.A([a,f.vs,u]),e.predecessors(a).length)){var g=e.node(e.predecessors(a)[0]),m=e.node(e.predecessors(u)[0]);Object.prototype.hasOwnProperty.call(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+g.order+m.order)/(f.weight+2),f.weight+=2}return f}function yt(e){var t=Q(e),n=bt(e,g(1,t+1),"inEdges"),i=bt(e,g(t-1,-1,-1),"outEdges"),o=function(e){var t={},n=ve.A(e.nodes(),function(t){return!e.children(t).length}),i=D(c.A(n,function(t){return e.node(t).rank})),o=c.A(g(i+1),function(){return[]}),s=ht(n,function(t){return e.node(t).rank});return r.A(s,function n(i){if(!G.A(t,i)){t[i]=!0;var s=e.node(i);o[s.rank].push(i),r.A(e.successors(i),n)}}),o}(e);xt(e,o);for(var s,a=Number.POSITIVE_INFINITY,l=0,u=0;u<4;++l,++u){wt(l%2?n:i,l%4>=2);var h=dt(e,o=K(e));h<a&&(u=0,s=Ke(o),a=h)}xt(e,s)}function bt(e,t,n){return c.A(t,function(t){return Ze(e,t,n)})}function wt(e,t){var n=new m.T;r.A(e,function(e){var i=e.graph().root,o=vt(e,i,n,t);r.A(o.vs,function(t,n){e.node(t).order=n}),function(e,t,n){var i,o={};r.A(n,function(n){for(var r,s,a=e.parent(n);a;){if((r=e.parent(a))?(s=o[r],o[r]=a):(s=i,i=a),s&&s!==a)return void t.setEdge(s,a);a=r}})}(e,n,o.vs)})}function xt(e,t){r.A(t,function(t){r.A(t,function(t,n){e.node(t).order=n})})}function _t(e){var t=function(e){var t={},n=0;function i(o){var s=n;r.A(e.children(o),i),t[o]={low:s,lim:n++}}return r.A(e.children(),i),t}(e);r.A(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=function(e,t,n,r){var i,o,s=[],a=[],l=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),s.push(i)}while(i&&(t[i].low>l||c>t[i].lim));o=i,i=r;for(;(i=e.parent(i))!==o;)a.push(i);return{path:s.concat(a.reverse()),lca:o}}(e,t,i.v,i.w),s=o.path,a=o.lca,l=0,c=s[l],u=!0;n!==i.w;){if(r=e.node(n),u){for(;(c=s[l])!==a&&e.node(c).maxRank<r.rank;)l++;c===a&&(u=!1)}if(!u){for(;l<s.length-1&&e.node(c=s[l+1]).minRank<=r.rank;)l++;c=s[l]}e.setParent(n,c),n=e.successors(n)[0]}})}var At=n(9922);const Tt=function(e,t){return e&&(0,z.A)(e,(0,At.A)(t))};var Et=n(7132),kt=n(9999);const St=function(e,t){return null==e?e:(0,Et.A)(e,(0,At.A)(t),kt.A)};function Ct(e,t){var n={};return We.A(t,function(t,i){var o=0,s=0,a=t.length,l=B.A(i);return r.A(i,function(t,c){var u=function(e,t){if(e.node(t).dummy)return me.A(e.predecessors(t),function(t){return e.node(t).dummy})}(e,t),h=u?e.node(u).order:a;(u||t===l)&&(r.A(i.slice(s,c+1),function(t){r.A(e.predecessors(t),function(r){var i=e.node(r),s=i.order;!(s<o||h<s)||i.dummy&&e.node(t).dummy||Nt(n,r,t)})}),s=c+1,o=h)}),i}),n}function Nt(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function Mt(e,t,n){if(t>n){var r=t;t=n,n=r}return!!e[t]&&Object.prototype.hasOwnProperty.call(e[t],n)}function Ot(e,t,n,i,o){var s={},a=function(e,t,n,i){var o=new m.T,s=e.graph(),a=function(e,t,n){return function(r,i,o){var s,a=r.node(i),l=r.node(o),c=0;if(c+=a.width/2,Object.prototype.hasOwnProperty.call(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":s=-a.width/2;break;case"r":s=a.width/2}if(s&&(c+=n?s:-s),s=0,c+=(a.dummy?t:e)/2,c+=(l.dummy?t:e)/2,c+=l.width/2,Object.prototype.hasOwnProperty.call(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=l.width/2;break;case"r":s=-l.width/2}return s&&(c+=n?s:-s),s=0,c}}(s.nodesep,s.edgesep,i);return r.A(t,function(t){var i;r.A(t,function(t){var r=n[t];if(o.setNode(r),i){var s=n[i],l=o.edge(s,r);o.setEdge(s,r,Math.max(a(e,t,i),l||0))}i=t})}),o}(e,t,n,o),l=o?"borderLeft":"borderRight";function c(e,t){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return c(function(e){s[e]=a.inEdges(e).reduce(function(e,t){return Math.max(e,s[t.v]+a.edge(t))},0)},a.predecessors.bind(a)),c(function(t){var n=a.outEdges(t).reduce(function(e,t){return Math.min(e,s[t.w]-a.edge(t))},Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==l&&(s[t]=Math.max(s[t],n))},a.successors.bind(a)),r.A(i,function(e){s[e]=s[n[e]]}),s}function Rt(e){var t,n=K(e),i=E.A(Ct(e,n),function(e,t){var n={};function i(t,i,o,s,a){var l;r.A(g(i,o),function(i){l=t[i],e.node(l).dummy&&r.A(e.predecessors(l),function(t){var r=e.node(t);r.dummy&&(r.order<s||r.order>a)&&Nt(n,t,l)})})}return We.A(t,function(t,n){var o,s=-1,a=0;return r.A(n,function(r,l){if("border"===e.node(r).dummy){var c=e.predecessors(r);c.length&&(o=e.node(c[0]).order,i(n,a,l,s,o),a=l,s=o)}i(n,a,n.length,o,t.length)}),n}),n}(e,n)),o={};r.A(["u","d"],function(s){t="u"===s?n:Ve.A(n).reverse(),r.A(["l","r"],function(n){"r"===n&&(t=c.A(t,function(e){return Ve.A(e).reverse()}));var a=("u"===s?e.predecessors:e.successors).bind(e),l=function(e,t,n,i){var o={},s={},a={};return r.A(t,function(e){r.A(e,function(e,t){o[e]=e,s[e]=e,a[e]=t})}),r.A(t,function(e){var t=-1;r.A(e,function(e){var r=i(e);if(r.length){r=ht(r,function(e){return a[e]});for(var l=(r.length-1)/2,c=Math.floor(l),u=Math.ceil(l);c<=u;++c){var h=r[c];s[e]===e&&t<a[h]&&!Mt(n,e,h)&&(s[h]=e,s[e]=o[e]=o[h],t=a[h])}}})}),{root:o,align:s}}(0,t,i,a),u=Ot(e,t,l.root,l.align,"r"===n);"r"===n&&(u=j(u,function(e){return-e})),o[s+n]=u})});var s=function(e,t){return ce(Ve.A(t),function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return St(t,function(t,i){var o=function(e,t){return e.node(t).width}(e,i)/2;n=Math.max(t+o,n),r=Math.min(t-o,r)}),n-r})}(e,o);return function(e,t){var n=Ve.A(t),i=H.A(n),o=D(n);r.A(["u","d"],function(n){r.A(["l","r"],function(r){var s,a=n+r,l=e[a];if(l!==t){var c=Ve.A(l);(s="l"===r?i-H.A(c):o-D(c))&&(e[a]=j(l,function(e){return e+s}))}})})}(o,s),function(e,t){return j(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=ht(c.A(e,r));return(i[1]+i[2])/2})}(o,e.graph().align)}function It(e){(function(e){var t=K(e),n=e.graph().ranksep,i=0;r.A(t,function(t){var o=D(c.A(t,function(t){return e.node(t).height}));r.A(t,function(t){e.node(t).y=i+o/2}),i+=o+n})})(e=q(e)),Tt(Rt(e),function(t,n){e.node(n).x=t})}function Lt(e,t){var n=t&&t.debugTiming?J:ee;n("layout",()=>{var t=n("  buildLayoutGraph",()=>function(e){var t=new m.T({multigraph:!0,compound:!0}),n=Gt(e.graph());return t.setGraph(E.A({},Dt,Ht(n,Pt),O(n,Bt))),r.A(e.nodes(),function(n){var r=Gt(e.node(n));t.setNode(n,R.A(Ht(r,Ft),zt)),t.setParent(n,e.parent(n))}),r.A(e.edges(),function(n){var r=Gt(e.edge(n));t.setEdge(n,E.A({},jt,Ht(r,$t),O(r,Ut)))}),t}(e));n("  runLayout",()=>function(e,t){t("    makeSpaceForEdgeLabels",()=>function(e){var t=e.graph();t.ranksep/=2,r.A(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(e)),t("    removeSelfEdges",()=>function(e){r.A(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}(e)),t("    acyclic",()=>T(e)),t("    nestingGraph.run",()=>Ye(e)),t("    rank",()=>Ue(q(e))),t("    injectEdgeLabelProxies",()=>function(e){r.A(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};Y(e,"edge-proxy",i,"_ep")}})}(e)),t("    removeEmptyRanks",()=>function(e){var t=H.A(c.A(e.nodes(),function(t){return e.node(t).rank})),n=[];r.A(e.nodes(),function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)});var i=0,o=e.graph().nodeRankFactor;r.A(n,function(t,n){U.A(t)&&n%o!==0?--i:i&&r.A(t,function(t){e.node(t).rank+=i})})}(e)),t("    nestingGraph.cleanup",()=>function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.A(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}(e)),t("    normalizeRanks",()=>function(e){var t=H.A(c.A(e.nodes(),function(t){return e.node(t).rank}));r.A(e.nodes(),function(n){var r=e.node(n);G.A(r,"rank")&&(r.rank-=t)})}(e)),t("    assignRankMinMax",()=>function(e){var t=0;r.A(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=D(t,r.maxRank))}),e.graph().maxRank=t}(e)),t("    removeEdgeLabelProxies",()=>function(e){r.A(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}(e)),t("    normalize.run",()=>ae(e)),t("    parentDummyChains",()=>_t(e)),t("    addBorderSegments",()=>function(e){r.A(e.children(),function t(n){var i=e.children(n),o=e.node(n);if(i.length&&r.A(i,t),Object.prototype.hasOwnProperty.call(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var s=o.minRank,a=o.maxRank+1;s<a;++s)te(e,"borderLeft","_bl",n,o,s),te(e,"borderRight","_br",n,o,s)}})}(e)),t("    order",()=>yt(e)),t("    insertSelfEdges",()=>function(e){var t=K(e);r.A(t,function(t){var n=0;r.A(t,function(t,i){var o=e.node(t);o.order=i+n,r.A(o.selfEdges,function(t){Y(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:i+ ++n,e:t.e,label:t.label},"_se")}),delete o.selfEdges})})}(e)),t("    adjustCoordinateSystem",()=>function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||re(e)}(e)),t("    position",()=>It(e)),t("    positionSelfEdges",()=>function(e){r.A(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})}(e)),t("    removeBorderNodes",()=>function(e){r.A(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(B.A(n.borderLeft)),s=e.node(B.A(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),r.A(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}(e)),t("    normalize.undo",()=>function(e){r.A(e.graph().dummyChains,function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)})}(e)),t("    fixupEdgeLabelCoords",()=>function(e){r.A(e.edges(),function(t){var n=e.edge(t);if(Object.prototype.hasOwnProperty.call(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(e)),t("    undoCoordinateSystem",()=>ne(e)),t("    translateGraph",()=>function(e){var t=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,o=0,s=e.graph(),a=s.marginx||0,l=s.marginy||0;function c(e){var r=e.x,s=e.y,a=e.width,l=e.height;t=Math.min(t,r-a/2),n=Math.max(n,r+a/2),i=Math.min(i,s-l/2),o=Math.max(o,s+l/2)}r.A(e.nodes(),function(t){c(e.node(t))}),r.A(e.edges(),function(t){var n=e.edge(t);Object.prototype.hasOwnProperty.call(n,"x")&&c(n)}),t-=a,i-=l,r.A(e.nodes(),function(n){var r=e.node(n);r.x-=t,r.y-=i}),r.A(e.edges(),function(n){var o=e.edge(n);r.A(o.points,function(e){e.x-=t,e.y-=i}),Object.prototype.hasOwnProperty.call(o,"x")&&(o.x-=t),Object.prototype.hasOwnProperty.call(o,"y")&&(o.y-=i)}),s.width=n-t+a,s.height=o-i+l}(e)),t("    assignNodeIntersects",()=>function(e){r.A(e.edges(),function(t){var n,r,i=e.edge(t),o=e.node(t.v),s=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=s,r=o),i.points.unshift(X(o,n)),i.points.push(X(s,r))})}(e)),t("    reversePoints",()=>function(e){r.A(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}(e)),t("    acyclic.undo",()=>function(e){r.A(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}(e))}(t,n)),n("  updateInputGraph",()=>function(e,t){r.A(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),r.A(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,Object.prototype.hasOwnProperty.call(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t))})}var Pt=["nodesep","edgesep","ranksep","marginx","marginy"],Dt={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Bt=["acyclicer","ranker","rankdir","align"],Ft=["width","height"],zt={width:0,height:0},$t=["minlen","weight","width","height","labeloffset"],jt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Ut=["labelpos"];function Ht(e,t){return j(O(e,t),Number)}function Gt(e){var t={};return r.A(e,function(e,n){t[n.toLowerCase()]=e}),t}},639:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(n(261)),o=r(n(2300)),s=n(9027),a=n(1127),l=r(n(6727)),c=r(n(1350)),u=r(n(1148)),h=i.default.create;function d(){var e=h();return e.compile=function(t,n){return a.compile(t,n,e)},e.precompile=function(t,n){return a.precompile(t,n,e)},e.AST=o.default,e.Compiler=a.Compiler,e.JavaScriptCompiler=l.default,e.Parser=s.parser,e.parse=s.parse,e.parseWithoutProcessing=s.parseWithoutProcessing,e}var p=d();p.create=d,u.default(p),p.Visitor=c.default,p.default=p,t.default=p,e.exports=t.default},697:(e,t,n)=>{"use strict";n.d(t,{T:()=>r.T});var r=n(1471)},724:(e,t,n)=>{"use strict";n.d(t,{ak:()=>G,mT:()=>Lr,LT:()=>qt,jr:()=>Dr,T6:()=>ur,JG:()=>Pt,wL:()=>D,c$:()=>z,Y2:()=>U,$P:()=>$,Cy:()=>j,Pp:()=>H,BK:()=>V,PW:()=>Rt,my:()=>Zt,jk:()=>_n,Sk:()=>Dt,G:()=>Kt});var r=n(8058),i=n(2866),o=n(6401),s=n(4722),a=n(9622),l=n(53);function c(e){function t(){}t.prototype=e;const n=new t;function r(){return typeof n.bar}return r(),r(),e}const u=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};var h=n(8593);const d=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:(0,h.A)(t),u(e,t<0?0:t,r)):[]};var p=n(9703),f=n(2851),g=n(2031),m=n(3767),v=n(8446),y=n(7271),b=n(7422),w=Object.prototype.hasOwnProperty;const x=(0,m.A)(function(e,t){if((0,y.A)(t)||(0,v.A)(t))(0,g.A)(t,(0,b.A)(t),e);else for(var n in t)w.call(t,n)&&(0,f.A)(e,n,t[n])});var _=n(5572),A=n(6307),T=n(5507),E=n(3973);const k=function(e,t){if(null==e)return{};var n=(0,_.A)((0,E.A)(e),function(e){return[e]});return t=(0,A.A)(t),(0,T.A)(e,n,function(e,n){return t(e,n[0])})};var S=n(2383),C=n(3098);const N=function(e){return(0,C.A)(e)&&"[object RegExp]"==(0,S.A)(e)};var M=n(2789),O=n(4841),R=O.A&&O.A.isRegExp;const I=R?(0,M.A)(R):N;function L(e){return t=e,(0,p.A)(t.LABEL)&&""!==t.LABEL?e.LABEL:e.name;var t}class P{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),(0,r.A)(this.definition,t=>{t.accept(e)})}}class D extends P{constructor(e){super([]),this.idx=1,x(this,k(e,e=>void 0!==e))}set definition(e){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class B extends P{constructor(e){super(e.definition),this.orgText="",x(this,k(e,e=>void 0!==e))}}class F extends P{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,x(this,k(e,e=>void 0!==e))}}class z extends P{constructor(e){super(e.definition),this.idx=1,x(this,k(e,e=>void 0!==e))}}class $ extends P{constructor(e){super(e.definition),this.idx=1,x(this,k(e,e=>void 0!==e))}}class j extends P{constructor(e){super(e.definition),this.idx=1,x(this,k(e,e=>void 0!==e))}}class U extends P{constructor(e){super(e.definition),this.idx=1,x(this,k(e,e=>void 0!==e))}}class H extends P{constructor(e){super(e.definition),this.idx=1,x(this,k(e,e=>void 0!==e))}}class G extends P{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,x(this,k(e,e=>void 0!==e))}}class V{constructor(e){this.idx=1,x(this,k(e,e=>void 0!==e))}accept(e){e.visit(this)}}function W(e){function t(e){return(0,s.A)(e,W)}if(e instanceof D){const t={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return(0,p.A)(e.label)&&(t.label=e.label),t}if(e instanceof F)return{type:"Alternative",definition:t(e.definition)};if(e instanceof z)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof $)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof j)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:W(new V({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof H)return{type:"RepetitionWithSeparator",idx:e.idx,separator:W(new V({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof U)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof G)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof V){const t={type:"Terminal",name:e.terminalType.name,label:L(e.terminalType),idx:e.idx};(0,p.A)(e.label)&&(t.terminalLabel=e.label);const n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(t.pattern=I(n)?n.source:n),t}if(e instanceof B)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}class Y{visit(e){const t=e;switch(t.constructor){case D:return this.visitNonTerminal(t);case F:return this.visitAlternative(t);case z:return this.visitOption(t);case $:return this.visitRepetitionMandatory(t);case j:return this.visitRepetitionMandatoryWithSeparator(t);case H:return this.visitRepetitionWithSeparator(t);case U:return this.visitRepetition(t);case G:return this.visitAlternation(t);case V:return this.visitTerminal(t);case B:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}var q=n(3736),X=n(4288);const K=function(e,t){var n;return(0,X.A)(e,function(e,r,i){return!(n=t(e,r,i))}),!!n};var Z=n(2049),Q=n(6832);const J=function(e,t,n){var r=(0,Z.A)(e)?q.A:K;return n&&(0,Q.A)(e,t,n)&&(t=void 0),r(e,(0,A.A)(t,3))};var ee=n(5205),te=Math.max;const ne=function(e,t,n,r){e=(0,v.A)(e)?e:(0,i.A)(e),n=n&&!r?(0,h.A)(n):0;var o=e.length;return n<0&&(n=te(o+n,0)),(0,p.A)(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&(0,ee.A)(e,t,n)>-1};const re=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};const ie=function(e,t){var n=!0;return(0,X.A)(e,function(e,r,i){return n=!!t(e,r,i)}),n};const oe=function(e,t,n){var r=(0,Z.A)(e)?re:ie;return n&&(0,Q.A)(e,t,n)&&(t=void 0),r(e,(0,A.A)(t,3))};function se(e,t=[]){return!!(e instanceof z||e instanceof U||e instanceof H)||(e instanceof G?J(e.definition,e=>se(e,t)):!(e instanceof D&&ne(t,e))&&(e instanceof P&&(e instanceof D&&t.push(e),oe(e.definition,e=>se(e,t)))))}function ae(e){if(e instanceof D)return"SUBRULE";if(e instanceof z)return"OPTION";if(e instanceof G)return"OR";if(e instanceof $)return"AT_LEAST_ONE";if(e instanceof j)return"AT_LEAST_ONE_SEP";if(e instanceof H)return"MANY_SEP";if(e instanceof U)return"MANY";if(e instanceof V)return"CONSUME";throw Error("non exhaustive match")}class le{walk(e,t=[]){(0,r.A)(e.definition,(n,r)=>{const i=d(e.definition,r+1);if(n instanceof D)this.walkProdRef(n,i,t);else if(n instanceof V)this.walkTerminal(n,i,t);else if(n instanceof F)this.walkFlat(n,i,t);else if(n instanceof z)this.walkOption(n,i,t);else if(n instanceof $)this.walkAtLeastOne(n,i,t);else if(n instanceof j)this.walkAtLeastOneSep(n,i,t);else if(n instanceof H)this.walkManySep(n,i,t);else if(n instanceof U)this.walkMany(n,i,t);else{if(!(n instanceof G))throw Error("non exhaustive match");this.walkOr(n,i,t)}})}walkTerminal(e,t,n){}walkProdRef(e,t,n){}walkFlat(e,t,n){const r=t.concat(n);this.walk(e,r)}walkOption(e,t,n){const r=t.concat(n);this.walk(e,r)}walkAtLeastOne(e,t,n){const r=[new z({definition:e.definition})].concat(t,n);this.walk(e,r)}walkAtLeastOneSep(e,t,n){const r=ce(e,t,n);this.walk(e,r)}walkMany(e,t,n){const r=[new z({definition:e.definition})].concat(t,n);this.walk(e,r)}walkManySep(e,t,n){const r=ce(e,t,n);this.walk(e,r)}walkOr(e,t,n){const i=t.concat(n);(0,r.A)(e.definition,e=>{const t=new F({definition:[e]});this.walk(t,i)})}}function ce(e,t,n){return[new z({definition:[new V({terminalType:e.separator})].concat(e.definition)})].concat(t,n)}var ue=n(7371);const he=function(e){return e&&e.length?(0,ue.A)(e):[]};var de=n(4098);function pe(e){if(e instanceof D)return pe(e.referencedRule);if(e instanceof V)return[e.terminalType];if(function(e){return e instanceof F||e instanceof z||e instanceof U||e instanceof $||e instanceof j||e instanceof H||e instanceof V||e instanceof B}(e))return function(e){let t=[];const n=e.definition;let r,i=0,o=n.length>i,s=!0;for(;o&&s;)r=n[i],s=se(r),t=t.concat(pe(r)),i+=1,o=n.length>i;return he(t)}(e);if(function(e){return e instanceof G}(e))return function(e){const t=(0,s.A)(e.definition,e=>pe(e));return he((0,de.A)(t))}(e);throw Error("non exhaustive match")}const fe="_~IN~_";class ge extends le{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,n){}walkProdRef(e,t,n){const r=(i=e.referencedRule,o=e.idx,i.name+o+fe+this.topProd.name);var i,o;const s=t.concat(n),a=pe(new F({definition:s}));this.follows[r]=a}}var me=n(9592),ve=n(2607),ye=n(3068),be=n(2634),we=n(1790);const xe=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}};const _e=function(e,t){return((0,Z.A)(e)?be.A:we.A)(e,xe((0,A.A)(t,3)))};var Ae=n(9610),Te=Math.max;const Ee=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:(0,h.A)(n);return i<0&&(i=Te(r+i,0)),(0,ee.A)(e,t,i)};var ke=n(3130),Se=n(4092),Ce=n(8300),Ne=n(5530),Me=n(7809),Oe=n(4099);const Re=function(e,t,n,r){var i=-1,o=Ne.A,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=(0,_.A)(t,(0,M.A)(n))),r?(o=Me.A,s=!1):t.length>=200&&(o=Oe.A,s=!1,t=new Ce.A(t));e:for(;++i<a;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,s&&h==h){for(var d=c;d--;)if(t[d]===h)continue e;l.push(u)}else o(t,h,r)||l.push(u)}return l};var Ie=n(7671),Le=n(4326),Pe=n(3533);const De=(0,Le.A)(function(e,t){return(0,Pe.A)(e)?Re(e,(0,Ie.A)(t,1,Pe.A,!0)):[]});const Be=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i};const Fe=function(e){return e&&e.length?e[0]:void 0};var ze=n(473);function $e(e){console&&console.error}function je(e){console&&console.warn}let Ue={};const He=new ve.H;function Ge(e){const t=e.toString();if(Ue.hasOwnProperty(t))return Ue[t];{const e=He.pattern(t);return Ue[t]=e,e}}const Ve="Complement Sets are not supported for first char optimization";function We(e,t=!1){try{const t=Ge(e);return Ye(t.value,{},t.flags.ignoreCase)}catch(n){if(n.message===Ve)t&&je(e.toString());else{let n="";t&&(n="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),$e(e.toString())}}return[]}function Ye(e,t,n){switch(e.type){case"Disjunction":for(let r=0;r<e.value.length;r++)Ye(e.value[r],t,n);break;case"Alternative":const i=e.value;for(let e=0;e<i.length;e++){const o=i[e];switch(o.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const s=o;switch(s.type){case"Character":qe(s.value,t,n);break;case"Set":if(!0===s.complement)throw Error(Ve);(0,r.A)(s.value,e=>{if("number"==typeof e)qe(e,t,n);else{const r=e;if(!0===n)for(let e=r.from;e<=r.to;e++)qe(e,t,n);else{for(let e=r.from;e<=r.to&&e<mt;e++)qe(e,t,n);if(r.to>=mt){const e=r.from>=mt?r.from:mt,n=r.to,i=yt(e),o=yt(n);for(let e=i;e<=o;e++)t[e]=e}}}});break;case"Group":Ye(s.value,t,n);break;default:throw Error("Non Exhaustive Match")}const a=void 0!==s.quantifier&&0===s.quantifier.atLeast;if("Group"===s.type&&!1===Ke(s)||"Group"!==s.type&&!1===a)break}break;default:throw Error("non exhaustive match!")}return(0,i.A)(t)}function qe(e,t,n){const r=yt(e);t[r]=r,!0===n&&function(e,t){const n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){const e=yt(r.charCodeAt(0));t[e]=e}else{const e=n.toLowerCase();if(e!==n){const n=yt(e.charCodeAt(0));t[n]=n}}}(e,t)}function Xe(e,t){return(0,ze.A)(e.value,e=>{if("number"==typeof e)return ne(t,e);{const n=e;return void 0!==(0,ze.A)(t,e=>n.from<=e&&e<=n.to)}})}function Ke(e){const t=e.quantifier;return!(!t||0!==t.atLeast)||!!e.value&&((0,Z.A)(e.value)?oe(e.value,Ke):Ke(e.value))}class Ze extends ve.z{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}super.visitChildren(e)}}visitCharacter(e){ne(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?void 0===Xe(e,this.targetCharCodes)&&(this.found=!0):void 0!==Xe(e,this.targetCharCodes)&&(this.found=!0)}}function Qe(e,t){if(t instanceof RegExp){const n=Ge(t),r=new Ze(e);return r.visit(n),r.found}return void 0!==(0,ze.A)(t,t=>ne(e,t.charCodeAt(0)))}const Je="PATTERN",et="defaultMode",tt="modes";let nt="boolean"==typeof new RegExp("(?:)").sticky;function rt(e,t){const n=(t=(0,ye.A)(t,{useSticky:nt,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(e,t)=>t()})).tracer;let i;n("initCharCodeToOptimizedIndexMap",()=>{!function(){if((0,o.A)(vt)){vt=new Array(65536);for(let e=0;e<65536;e++)vt[e]=e>255?255+~~(e/255):e}}()}),n("Reject Lexer.NA",()=>{i=_e(e,e=>e[Je]===Pt.NA)});let l,c,u,h,d,f,g,m,v,y,b,w=!1;n("Transform Patterns",()=>{w=!1,l=(0,s.A)(i,e=>{const n=e[Je];if(I(n)){const e=n.source;return 1!==e.length||"^"===e||"$"===e||"."===e||n.ignoreCase?2!==e.length||"\\"!==e[0]||ne(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],e[1])?t.useSticky?lt(n):at(n):e[1]:e}if((0,Ae.A)(n))return w=!0,{exec:n};if("object"==typeof n)return w=!0,n;if("string"==typeof n){if(1===n.length)return n;{const e=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=new RegExp(e);return t.useSticky?lt(r):at(r)}}throw Error("non exhaustive match")})}),n("misc mapping",()=>{c=(0,s.A)(i,e=>e.tokenTypeIdx),u=(0,s.A)(i,e=>{const t=e.GROUP;if(t!==Pt.SKIPPED){if((0,p.A)(t))return t;if((0,me.A)(t))return!1;throw Error("non exhaustive match")}}),h=(0,s.A)(i,e=>{const t=e.LONGER_ALT;if(t){return(0,Z.A)(t)?(0,s.A)(t,e=>Ee(i,e)):[Ee(i,t)]}}),d=(0,s.A)(i,e=>e.PUSH_MODE),f=(0,s.A)(i,e=>(0,a.A)(e,"POP_MODE"))}),n("Line Terminator Handling",()=>{const e=ft(t.lineTerminatorCharacters);g=(0,s.A)(i,e=>!1),"onlyOffset"!==t.positionTracking&&(g=(0,s.A)(i,t=>(0,a.A)(t,"LINE_BREAKS")?!!t.LINE_BREAKS:!1===pt(t,e)&&Qe(e,t.PATTERN)))}),n("Misc Mapping #2",()=>{m=(0,s.A)(i,ut),v=(0,s.A)(l,ht),y=(0,ke.A)(i,(e,t)=>{const n=t.GROUP;return(0,p.A)(n)&&n!==Pt.SKIPPED&&(e[n]=[]),e},{}),b=(0,s.A)(l,(e,t)=>({pattern:l[t],longerAlt:h[t],canLineTerminator:g[t],isCustom:m[t],short:v[t],group:u[t],push:d[t],pop:f[t],tokenTypeIdx:c[t],tokenType:i[t]}))});let x=!0,_=[];return t.safeMode||n("First Char Optimization",()=>{_=(0,ke.A)(i,(e,n,i)=>{if("string"==typeof n.PATTERN){const t=yt(n.PATTERN.charCodeAt(0));gt(e,t,b[i])}else if((0,Z.A)(n.START_CHARS_HINT)){let t;(0,r.A)(n.START_CHARS_HINT,n=>{const r=yt("string"==typeof n?n.charCodeAt(0):n);t!==r&&(t=r,gt(e,r,b[i]))})}else if(I(n.PATTERN))if(n.PATTERN.unicode)x=!1,t.ensureOptimizations&&$e(n.PATTERN.toString());else{const s=We(n.PATTERN,t.ensureOptimizations);(0,o.A)(s)&&(x=!1),(0,r.A)(s,t=>{gt(e,t,b[i])})}else t.ensureOptimizations&&$e(n.name),x=!1;return e},[])}),{emptyGroups:y,patternIdxToConfig:b,charCodeToPatternIdxToConfig:_,hasCustom:w,canBeOptimized:x}}function it(e,t){let n=[];const i=function(e){const t=(0,Se.A)(e,e=>!(0,a.A)(e,Je)),n=(0,s.A)(t,e=>({message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:It.MISSING_PATTERN,tokenTypes:[e]})),r=De(e,t);return{errors:n,valid:r}}(e);n=n.concat(i.errors);const o=function(e){const t=(0,Se.A)(e,e=>{const t=e[Je];return!(I(t)||(0,Ae.A)(t)||(0,a.A)(t,"exec")||(0,p.A)(t))}),n=(0,s.A)(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:It.INVALID_PATTERN,tokenTypes:[e]})),r=De(e,t);return{errors:n,valid:r}}(i.valid),l=o.valid;return n=n.concat(o.errors),n=n.concat(function(e){let t=[];const n=(0,Se.A)(e,e=>I(e[Je]));return t=t.concat(function(e){class t extends ve.z{constructor(){super(...arguments),this.found=!1}visitEndAnchor(e){this.found=!0}}const n=(0,Se.A)(e,e=>{const n=e.PATTERN;try{const e=Ge(n),r=new t;return r.visit(e),r.found}catch(e){return ot.test(n.source)}}),r=(0,s.A)(n,e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:It.EOI_ANCHOR_FOUND,tokenTypes:[e]}));return r}(n)),t=t.concat(function(e){class t extends ve.z{constructor(){super(...arguments),this.found=!1}visitStartAnchor(e){this.found=!0}}const n=(0,Se.A)(e,e=>{const n=e.PATTERN;try{const e=Ge(n),r=new t;return r.visit(e),r.found}catch(e){return st.test(n.source)}}),r=(0,s.A)(n,e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:It.SOI_ANCHOR_FOUND,tokenTypes:[e]}));return r}(n)),t=t.concat(function(e){const t=(0,Se.A)(e,e=>{const t=e[Je];return t instanceof RegExp&&(t.multiline||t.global)}),n=(0,s.A)(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:It.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}));return n}(n)),t=t.concat(function(e){const t=[];let n=(0,s.A)(e,n=>(0,ke.A)(e,(e,r)=>(n.PATTERN.source!==r.PATTERN.source||ne(t,r)||r.PATTERN===Pt.NA||(t.push(r),e.push(r)),e),[]));n=Be(n);const r=(0,Se.A)(n,e=>e.length>1),i=(0,s.A)(r,e=>{const t=(0,s.A)(e,e=>e.name);return{message:`The same RegExp pattern ->${Fe(e).PATTERN}<-has been used in all of the following Token Types: ${t.join(", ")} <-`,type:It.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}});return i}(n)),t=t.concat(function(e){const t=(0,Se.A)(e,e=>e.PATTERN.test("")),n=(0,s.A)(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:It.EMPTY_MATCH_PATTERN,tokenTypes:[e]}));return n}(n)),t}(l)),n=n.concat(function(e){const t=(0,Se.A)(e,e=>{if(!(0,a.A)(e,"GROUP"))return!1;const t=e.GROUP;return t!==Pt.SKIPPED&&t!==Pt.NA&&!(0,p.A)(t)}),n=(0,s.A)(t,e=>({message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:It.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}));return n}(l)),n=n.concat(function(e,t){const n=(0,Se.A)(e,e=>void 0!==e.PUSH_MODE&&!ne(t,e.PUSH_MODE)),r=(0,s.A)(n,e=>({message:`Token Type: ->${e.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${e.PUSH_MODE}<-which does not exist`,type:It.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}));return r}(l,t)),n=n.concat(function(e){const t=[],n=(0,ke.A)(e,(e,t,n)=>{const r=t.PATTERN;return r===Pt.NA||((0,p.A)(r)?e.push({str:r,idx:n,tokenType:t}):I(r)&&function(e){const t=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return void 0===(0,ze.A)(t,t=>-1!==e.source.indexOf(t))}(r)&&e.push({str:r.source,idx:n,tokenType:t})),e},[]);return(0,r.A)(e,(e,i)=>{(0,r.A)(n,({str:n,idx:r,tokenType:o})=>{if(i<r&&function(e,t){if(I(t)){const n=t.exec(e);return null!==n&&0===n.index}if((0,Ae.A)(t))return t(e,0,[],{});if((0,a.A)(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(n,e.PATTERN)){const n=`Token: ->${o.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${e.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:n,type:It.UNREACHABLE_PATTERN,tokenTypes:[e,o]})}})}),t}(l)),n}const ot=/[^\\][$]/;const st=/[^\\[][\^]|^\^/;function at(e){const t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function lt(e){const t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function ct(e,t,n){const o=[];let s=!1;const l=Be((0,de.A)((0,i.A)(e.modes))),c=_e(l,e=>e[Je]===Pt.NA),u=ft(n);return t&&(0,r.A)(c,e=>{const t=pt(e,u);if(!1!==t){const n=function(e,t){if(t.issue===It.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${e.name}> Token Type\n\t Root cause: ${t.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===It.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${e.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}(e,t),r={message:n,type:t.issue,tokenType:e};o.push(r)}else(0,a.A)(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(s=!0):Qe(u,e.PATTERN)&&(s=!0)}),t&&!s&&o.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:It.NO_LINE_BREAKS_FLAGS}),o}function ut(e){const t=e.PATTERN;if(I(t))return!1;if((0,Ae.A)(t))return!0;if((0,a.A)(t,"exec"))return!0;if((0,p.A)(t))return!1;throw Error("non exhaustive match")}function ht(e){return!(!(0,p.A)(e)||1!==e.length)&&e.charCodeAt(0)}const dt={test:function(e){const t=e.length;for(let n=this.lastIndex;n<t;n++){const t=e.charCodeAt(n);if(10===t)return this.lastIndex=n+1,!0;if(13===t)return 10===e.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function pt(e,t){if((0,a.A)(e,"LINE_BREAKS"))return!1;if(I(e.PATTERN)){try{Qe(t,e.PATTERN)}catch(e){return{issue:It.IDENTIFY_TERMINATOR,errMsg:e.message}}return!1}if((0,p.A)(e.PATTERN))return!1;if(ut(e))return{issue:It.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function ft(e){return(0,s.A)(e,e=>(0,p.A)(e)?e.charCodeAt(0):e)}function gt(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}const mt=256;let vt=[];function yt(e){return e<mt?e:vt[e]}var bt=n(9008),wt=n(2302),xt=n(6666);function _t(e){const t=(new Date).getTime(),n=e();return{time:(new Date).getTime()-t,value:n}}function At(e,t){const n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]}function Tt(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}let Et=1;const kt={};function St(e){const t=function(e){let t=(0,l.A)(e),n=e,r=!0;for(;r;){n=Be((0,de.A)((0,s.A)(n,e=>e.CATEGORIES)));const e=De(n,t);t=t.concat(e),(0,o.A)(e)?r=!1:n=e}return t}(e);!function(e){(0,r.A)(e,e=>{var t;Nt(e)||(kt[Et]=e,e.tokenTypeIdx=Et++),Mt(e)&&!(0,Z.A)(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),Mt(e)||(e.CATEGORIES=[]),t=e,(0,a.A)(t,"categoryMatches")||(e.categoryMatches=[]),function(e){return(0,a.A)(e,"categoryMatchesMap")}(e)||(e.categoryMatchesMap={})})}(t),function(e){(0,r.A)(e,e=>{Ct([],e)})}(t),function(e){(0,r.A)(e,e=>{e.categoryMatches=[],(0,r.A)(e.categoryMatchesMap,(t,n)=>{e.categoryMatches.push(kt[n].tokenTypeIdx)})})}(t),(0,r.A)(t,e=>{e.isParent=e.categoryMatches.length>0})}function Ct(e,t){(0,r.A)(e,e=>{t.categoryMatchesMap[e.tokenTypeIdx]=!0}),(0,r.A)(t.CATEGORIES,n=>{const r=e.concat(t);ne(r,n)||Ct(r,n)})}function Nt(e){return(0,a.A)(e,"tokenTypeIdx")}function Mt(e){return(0,a.A)(e,"CATEGORIES")}function Ot(e){return(0,a.A)(e,"tokenTypeIdx")}const Rt={buildUnableToPopLexerModeMessage:e=>`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(e,t,n,r,i)=>`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${n} characters.`};var It;!function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"}(It||(It={}));const Lt={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Rt,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Lt);class Pt{constructor(e,t=Lt){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(e,t)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent,this.traceInitMaxIdent;const{time:r,value:i}=_t(t),o=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${n}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,i}return t()},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=x({},Lt,t);const n=this.config.traceInitPerf;!0===n?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof n&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let n,i=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Lt.lineTerminatorsPattern)this.config.lineTerminatorsPattern=dt;else if(this.config.lineTerminatorCharacters===Lt.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),(0,Z.A)(e)?n={modes:{defaultMode:(0,l.A)(e)},defaultMode:et}:(i=!1,n=(0,l.A)(e))}),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function(e){const t=[];return(0,a.A)(e,et)||t.push({message:"A MultiMode Lexer cannot be initialized without a <"+et+"> property in its definition\n",type:It.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,a.A)(e,tt)||t.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:It.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,a.A)(e,tt)&&(0,a.A)(e,et)&&!(0,a.A)(e.modes,e.defaultMode)&&t.push({message:`A MultiMode Lexer cannot be initialized with a ${et}: <${e.defaultMode}>which does not exist\n`,type:It.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,a.A)(e,tt)&&(0,r.A)(e.modes,(e,n)=>{(0,r.A)(e,(i,o)=>{if((0,me.A)(i))t.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${n}> at index: <${o}>\n`,type:It.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if((0,a.A)(i,"LONGER_ALT")){const o=(0,Z.A)(i.LONGER_ALT)?i.LONGER_ALT:[i.LONGER_ALT];(0,r.A)(o,r=>{(0,me.A)(r)||ne(e,r)||t.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${r.name}> on token <${i.name}> outside of mode <${n}>\n`,type:It.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),t}(n,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(ct(n,this.trackStartLines,this.config.lineTerminatorCharacters))})),n.modes=n.modes?n.modes:{},(0,r.A)(n.modes,(e,t)=>{n.modes[t]=_e(e,e=>(0,me.A)(e))});const u=(0,b.A)(n.modes);if((0,r.A)(n.modes,(e,n)=>{this.TRACE_INIT(`Mode: <${n}> processing`,()=>{if(this.modes.push(n),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(it(e,u))}),(0,o.A)(this.lexerDefinitionErrors)){let r;St(e),this.TRACE_INIT("analyzeTokenTypes",()=>{r=rt(e,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[n]=r.patternIdxToConfig,this.charCodeToPatternIdxToConfig[n]=r.charCodeToPatternIdxToConfig,this.emptyGroups=x({},this.emptyGroups,r.emptyGroups),this.hasCustom=r.hasCustom||this.hasCustom,this.canModeBeOptimized[n]=r.canBeOptimized}})}),this.defaultMode=n.defaultMode,!(0,o.A)(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const e=(0,s.A)(this.lexerDefinitionErrors,e=>e.message).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+e)}(0,r.A)(this.lexerDefinitionWarning,e=>{je(e.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(nt?(this.chopInput=bt.A,this.match=this.matchWithTest):(this.updateLastIndex=wt.A,this.match=this.matchWithExec),i&&(this.handleModes=wt.A),!1===this.trackStartLines&&(this.computeNewColumn=bt.A),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=wt.A),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const e=(0,ke.A)(this.canModeBeOptimized,(e,t,n)=>(!1===t&&e.push(n),e),[]);if(t.ensureOptimizations&&!(0,o.A)(e))throw Error(`Lexer Modes: < ${e.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{Ue={}}),this.TRACE_INIT("toFastProperties",()=>{c(this)})})}tokenize(e,t=this.defaultMode){if(!(0,o.A)(this.lexerDefinitionErrors)){const e=(0,s.A)(this.lexerDefinitionErrors,e=>e.message).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+e)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let n,i,o,s,a,l,c,u,h,d,p,f,g,m,v;const y=e,w=y.length;let x=0,_=0;const A=this.hasCustom?0:Math.floor(e.length/10),T=new Array(A),E=[];let k=this.trackStartLines?1:void 0,S=this.trackStartLines?1:void 0;const C=function(e){const t={},n=(0,b.A)(e);return(0,r.A)(n,n=>{const r=e[n];if(!(0,Z.A)(r))throw Error("non exhaustive match");t[n]=[]}),t}(this.emptyGroups),N=this.trackStartLines,M=this.config.lineTerminatorsPattern;let O=0,R=[],I=[];const L=[],P=[];let D;function B(){return R}function F(e){const t=yt(e),n=I[t];return void 0===n?P:n}Object.freeze(P);const z=e=>{if(1===L.length&&void 0===e.tokenType.PUSH_MODE){const t=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);E.push({offset:e.startOffset,line:e.startLine,column:e.startColumn,length:e.image.length,message:t})}else{L.pop();const e=(0,xt.A)(L);R=this.patternIdxToConfig[e],I=this.charCodeToPatternIdxToConfig[e],O=R.length;const t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;D=I&&t?F:B}};function $(e){L.push(e),I=this.charCodeToPatternIdxToConfig[e],R=this.patternIdxToConfig[e],O=R.length,O=R.length;const t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;D=I&&t?F:B}let j;$.call(this,t);const U=this.config.recoveryEnabled;for(;x<w;){l=null;const t=y.charCodeAt(x),r=D(t),b=r.length;for(n=0;n<b;n++){j=r[n];const i=j.pattern;c=null;const h=j.short;if(!1!==h?t===h&&(l=i):!0===j.isCustom?(v=i.exec(y,x,T,C),null!==v?(l=v[0],void 0!==v.payload&&(c=v.payload)):l=null):(this.updateLastIndex(i,x),l=this.match(i,e,x)),null!==l){if(a=j.longerAlt,void 0!==a){const t=a.length;for(o=0;o<t;o++){const t=R[a[o]],n=t.pattern;if(u=null,!0===t.isCustom?(v=n.exec(y,x,T,C),null!==v?(s=v[0],void 0!==v.payload&&(u=v.payload)):s=null):(this.updateLastIndex(n,x),s=this.match(n,e,x)),s&&s.length>l.length){l=s,c=u,j=t;break}}}break}}if(null!==l){if(h=l.length,d=j.group,void 0!==d&&(p=j.tokenTypeIdx,f=this.createTokenInstance(l,x,p,j.tokenType,k,S,h),this.handlePayload(f,c),!1===d?_=this.addToken(T,_,f):C[d].push(f)),e=this.chopInput(e,h),x+=h,S=this.computeNewColumn(S,h),!0===N&&!0===j.canLineTerminator){let e,t,n=0;M.lastIndex=0;do{e=M.test(l),!0===e&&(t=M.lastIndex-1,n++)}while(!0===e);0!==n&&(k+=n,S=h-t,this.updateTokenEndLineColumnLocation(f,d,t,n,k,S,h))}this.handleModes(j,z,$,f)}else{const t=x,n=k,r=S;let o=!1===U;for(;!1===o&&x<w;)for(e=this.chopInput(e,1),x++,i=0;i<O;i++){const t=R[i],n=t.pattern,r=t.short;if(!1!==r?y.charCodeAt(x)===r&&(o=!0):!0===t.isCustom?o=null!==n.exec(y,x,T,C):(this.updateLastIndex(n,x),o=null!==n.exec(e)),!0===o)break}if(g=x-t,S=this.computeNewColumn(S,g),m=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(y,t,g,n,r),E.push({offset:t,line:n,column:r,length:g,message:m}),!1===U)break}}return this.hasCustom||(T.length=_),{tokens:T,groups:C,errors:E}}handleModes(e,t,n,r){if(!0===e.pop){const i=e.push;t(r),void 0!==i&&n.call(this,i)}else void 0!==e.push&&n.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,n,r,i,o,s){let a,l;void 0!==t&&(a=n===s-1,l=a?-1:0,1===r&&!0===a||(e.endLine=i+l,e.endColumn=o-1-l))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,n,r){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:r}}createStartOnlyToken(e,t,n,r,i,o){return{image:e,startOffset:t,startLine:i,startColumn:o,tokenTypeIdx:n,tokenType:r}}createFullToken(e,t,n,r,i,o,s){return{image:e,startOffset:t,endOffset:t+s-1,startLine:i,endLine:i,startColumn:o,endColumn:o+s-1,tokenTypeIdx:n,tokenType:r}}addTokenUsingPush(e,t,n){return e.push(n),t}addTokenUsingMemberAccess(e,t,n){return e[t]=n,++t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){null!==t&&(e.payload=t)}matchWithTest(e,t,n){return!0===e.test(t)?t.substring(n,e.lastIndex):null}matchWithExec(e,t){const n=e.exec(t);return null!==n?n[0]:null}}function Dt(e){return Bt(e)?e.LABEL:e.name}function Bt(e){return(0,p.A)(e.LABEL)&&""!==e.LABEL}Pt.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",Pt.NA=/NOT_APPLICABLE/;const Ft="parent",zt="categories",$t="label",jt="group",Ut="push_mode",Ht="pop_mode",Gt="longer_alt",Vt="line_breaks",Wt="start_chars_hint";function Yt(e){return function(e){const t=e.pattern,n={};n.name=e.name,(0,me.A)(t)||(n.PATTERN=t);if((0,a.A)(e,Ft))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";(0,a.A)(e,zt)&&(n.CATEGORIES=e[zt]);St([n]),(0,a.A)(e,$t)&&(n.LABEL=e[$t]);(0,a.A)(e,jt)&&(n.GROUP=e[jt]);(0,a.A)(e,Ht)&&(n.POP_MODE=e[Ht]);(0,a.A)(e,Ut)&&(n.PUSH_MODE=e[Ut]);(0,a.A)(e,Gt)&&(n.LONGER_ALT=e[Gt]);(0,a.A)(e,Vt)&&(n.LINE_BREAKS=e[Vt]);(0,a.A)(e,Wt)&&(n.START_CHARS_HINT=e[Wt]);return n}(e)}const qt=Yt({name:"EOF",pattern:Pt.NA});function Xt(e,t,n,r,i,o,s,a){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:s,endColumn:a,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function Kt(e,t){return At(e,t)}St([qt]);const Zt={buildMismatchTokenMessage:({expected:e,actual:t,previous:n,ruleName:r})=>`Expecting ${Bt(e)?`--\x3e ${Dt(e)} <--`:`token of type --\x3e ${e.name} <--`} but found --\x3e '${t.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:e,ruleName:t})=>"Redundant input, expecting EOF but found: "+e.image,buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:n,customUserDescription:r,ruleName:i}){const o="Expecting: ",a="\nbut found: '"+Fe(t).image+"'";if(r)return o+r+a;{const t=(0,ke.A)(e,(e,t)=>e.concat(t),[]),n=(0,s.A)(t,e=>`[${(0,s.A)(e,e=>Dt(e)).join(", ")}]`);return o+`one of these possible Token sequences:\n${(0,s.A)(n,(e,t)=>`  ${t+1}. ${e}`).join("\n")}`+a}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:n,ruleName:r}){const i="Expecting: ",o="\nbut found: '"+Fe(t).image+"'";if(n)return i+n+o;return i+`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${(0,s.A)(e,e=>`[${(0,s.A)(e,e=>Dt(e)).join(",")}]`).join(" ,")}>`+o}};Object.freeze(Zt);const Qt={buildRuleNotFoundError:(e,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"},Jt={buildDuplicateFoundError(e,t){const n=e.name,r=Fe(t),i=r.idx,o=ae(r),s=(a=r)instanceof V?a.terminalType.name:a instanceof D?a.nonTerminalName:"";var a;let l=`->${o}${i>0?i:""}<- ${s?`with argument: ->${s}<-`:""}\n                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return l=l.replace(/[ \t]+/g," "),l=l.replace(/\s\s+/g,"\n"),l},buildNamespaceConflictError:e=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(e){const t=(0,s.A)(e.prefixPath,e=>Dt(e)).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${n}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(e){const t=(0,s.A)(e.prefixPath,e=>Dt(e)).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;let r=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r},buildEmptyRepetitionError(e){let t=ae(e.repetition);0!==e.repetition.idx&&(t+=e.repetition.idx);return`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:e=>"deprecated",buildEmptyAlternationError:e=>`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:e=>`An Alternation cannot have more than 256 alternatives:\n<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\n has ${e.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(e){const t=e.topLevelRule.name;return`Left Recursion found in grammar.\nrule: <${t}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${`${t} --\x3e ${(0,s.A)(e.leftRecursionPath,e=>e.name).concat([t]).join(" --\x3e ")}`}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:e=>"deprecated",buildDuplicateRuleNameError(e){let t;t=e.topLevelRule instanceof B?e.topLevelRule.name:e.topLevelRule;return`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};class en extends Y{constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){(0,r.A)((0,i.A)(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{const t=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:t,type:Rr.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}var tn=n(8139),nn=n(2528);const rn=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r};const on=function(e,t,n,r){return(0,X.A)(e,function(e,i,o){t(r,e,n(e),o)}),r};const sn=function(e,t){return function(n,r){var i=(0,Z.A)(n)?rn:on,o=t?t():{};return i(n,e,(0,A.A)(r,2),o)}};var an=Object.prototype.hasOwnProperty;const ln=sn(function(e,t,n){an.call(e,n)?e[n].push(t):(0,nn.A)(e,n,[t])});const cn=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:(0,h.A)(t),u(e,0,(t=r-t)<0?0:t)):[]};class un extends le{constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,l.A)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,l.A)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const r=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}}updateExpectedNext(){(0,o.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class hn extends un{constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const e=t.concat(n),r=new F({definition:e});this.possibleTokTypes=pe(r),this.found=!0}}}class dn extends le{constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class pn extends dn{walkMany(e,t,n){if(e.idx===this.occurrence){const e=Fe(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof V&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkMany(e,t,n)}}class fn extends dn{walkManySep(e,t,n){if(e.idx===this.occurrence){const e=Fe(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof V&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkManySep(e,t,n)}}class gn extends dn{walkAtLeastOne(e,t,n){if(e.idx===this.occurrence){const e=Fe(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof V&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOne(e,t,n)}}class mn extends dn{walkAtLeastOneSep(e,t,n){if(e.idx===this.occurrence){const e=Fe(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof V&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOneSep(e,t,n)}}function vn(e,t,n=[]){n=(0,l.A)(n);let i=[],s=0;function a(r){const o=vn(r.concat(d(e,s+1)),t,n);return i.concat(o)}for(;n.length<t&&s<e.length;){const t=e[s];if(t instanceof F)return a(t.definition);if(t instanceof D)return a(t.definition);if(t instanceof z)i=a(t.definition);else{if(t instanceof $){return a(t.definition.concat([new U({definition:t.definition})]))}if(t instanceof j){return a([new F({definition:t.definition}),new U({definition:[new V({terminalType:t.separator})].concat(t.definition)})])}if(t instanceof H){const e=t.definition.concat([new U({definition:[new V({terminalType:t.separator})].concat(t.definition)})]);i=a(e)}else if(t instanceof U){const e=t.definition.concat([new U({definition:t.definition})]);i=a(e)}else{if(t instanceof G)return(0,r.A)(t.definition,e=>{!1===(0,o.A)(e.definition)&&(i=a(e.definition))}),i;if(!(t instanceof V))throw Error("non exhaustive match");n.push(t.terminalType)}}s++}return i.push({partialPath:n,suffixDef:d(e,s)}),i}function yn(e,t,n,r){const i="EXIT_NONE_TERMINAL",s=[i],a="EXIT_ALTERNATIVE";let c=!1;const u=t.length,h=u-r-1,p=[],f=[];for(f.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!(0,o.A)(f);){const e=f.pop();if(e===a){c&&(0,xt.A)(f).idx<=h&&f.pop();continue}const r=e.def,g=e.idx,m=e.ruleStack,v=e.occurrenceStack;if((0,o.A)(r))continue;const y=r[0];if(y===i){const e={idx:g,def:d(r),ruleStack:cn(m),occurrenceStack:cn(v)};f.push(e)}else if(y instanceof V)if(g<u-1){const e=g+1;if(n(t[e],y.terminalType)){const t={idx:e,def:d(r),ruleStack:m,occurrenceStack:v};f.push(t)}}else{if(g!==u-1)throw Error("non exhaustive match");p.push({nextTokenType:y.terminalType,nextTokenOccurrence:y.idx,ruleStack:m,occurrenceStack:v}),c=!0}else if(y instanceof D){const e=(0,l.A)(m);e.push(y.nonTerminalName);const t=(0,l.A)(v);t.push(y.idx);const n={idx:g,def:y.definition.concat(s,d(r)),ruleStack:e,occurrenceStack:t};f.push(n)}else if(y instanceof z){const e={idx:g,def:d(r),ruleStack:m,occurrenceStack:v};f.push(e),f.push(a);const t={idx:g,def:y.definition.concat(d(r)),ruleStack:m,occurrenceStack:v};f.push(t)}else if(y instanceof $){const e=new U({definition:y.definition,idx:y.idx}),t={idx:g,def:y.definition.concat([e],d(r)),ruleStack:m,occurrenceStack:v};f.push(t)}else if(y instanceof j){const e=new V({terminalType:y.separator}),t=new U({definition:[e].concat(y.definition),idx:y.idx}),n={idx:g,def:y.definition.concat([t],d(r)),ruleStack:m,occurrenceStack:v};f.push(n)}else if(y instanceof H){const e={idx:g,def:d(r),ruleStack:m,occurrenceStack:v};f.push(e),f.push(a);const t=new V({terminalType:y.separator}),n=new U({definition:[t].concat(y.definition),idx:y.idx}),i={idx:g,def:y.definition.concat([n],d(r)),ruleStack:m,occurrenceStack:v};f.push(i)}else if(y instanceof U){const e={idx:g,def:d(r),ruleStack:m,occurrenceStack:v};f.push(e),f.push(a);const t=new U({definition:y.definition,idx:y.idx}),n={idx:g,def:y.definition.concat([t],d(r)),ruleStack:m,occurrenceStack:v};f.push(n)}else if(y instanceof G)for(let e=y.definition.length-1;e>=0;e--){const t={idx:g,def:y.definition[e].definition.concat(d(r)),ruleStack:m,occurrenceStack:v};f.push(t),f.push(a)}else if(y instanceof F)f.push({idx:g,def:y.definition.concat(d(r)),ruleStack:m,occurrenceStack:v});else{if(!(y instanceof B))throw Error("non exhaustive match");f.push(bn(y,g,m,v))}}return p}function bn(e,t,n,r){const i=(0,l.A)(n);i.push(e.name);const o=(0,l.A)(r);return o.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:o}}var wn;function xn(e){if(e instanceof z||"Option"===e)return wn.OPTION;if(e instanceof U||"Repetition"===e)return wn.REPETITION;if(e instanceof $||"RepetitionMandatory"===e)return wn.REPETITION_MANDATORY;if(e instanceof j||"RepetitionMandatoryWithSeparator"===e)return wn.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof H||"RepetitionWithSeparator"===e)return wn.REPETITION_WITH_SEPARATOR;if(e instanceof G||"Alternation"===e)return wn.ALTERNATION;throw Error("non exhaustive match")}function _n(e){const{occurrence:t,rule:n,prodType:r,maxLookahead:i}=e,o=xn(r);return o===wn.ALTERNATION?On(t,n,i):Rn(t,n,o,i)}function An(e,t,n,i){const o=e.length,l=oe(e,e=>oe(e,e=>1===e.length));if(t)return function(t){const r=(0,s.A)(t,e=>e.GATE);for(let t=0;t<o;t++){const i=e[t],o=i.length,s=r[t];if(void 0===s||!1!==s.call(this))e:for(let e=0;e<o;e++){const r=i[e],o=r.length;for(let e=0;e<o;e++){const t=this.LA(e+1);if(!1===n(t,r[e]))continue e}return t}}};if(l&&!i){const t=(0,s.A)(e,e=>(0,de.A)(e)),n=(0,ke.A)(t,(e,t,n)=>((0,r.A)(t,t=>{(0,a.A)(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),(0,r.A)(t.categoryMatches,t=>{(0,a.A)(e,t)||(e[t]=n)})}),e),{});return function(){const e=this.LA(1);return n[e.tokenTypeIdx]}}return function(){for(let t=0;t<o;t++){const r=e[t],i=r.length;e:for(let e=0;e<i;e++){const i=r[e],o=i.length;for(let e=0;e<o;e++){const t=this.LA(e+1);if(!1===n(t,i[e]))continue e}return t}}}}function Tn(e,t,n){const i=oe(e,e=>1===e.length),s=e.length;if(i&&!n){const t=(0,de.A)(e);if(1===t.length&&(0,o.A)(t[0].categoryMatches)){const e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{const e=(0,ke.A)(t,(e,t,n)=>(e[t.tokenTypeIdx]=!0,(0,r.A)(t.categoryMatches,t=>{e[t]=!0}),e),[]);return function(){const t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){e:for(let n=0;n<s;n++){const r=e[n],i=r.length;for(let e=0;e<i;e++){const n=this.LA(e+1);if(!1===t(n,r[e]))continue e}return!0}return!1}}!function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"}(wn||(wn={}));class En extends le{constructor(e,t,n){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(r),!0)}walkOption(e,t,n){this.checkIsTarget(e,wn.OPTION,t,n)||super.walkOption(e,t,n)}walkAtLeastOne(e,t,n){this.checkIsTarget(e,wn.REPETITION_MANDATORY,t,n)||super.walkOption(e,t,n)}walkAtLeastOneSep(e,t,n){this.checkIsTarget(e,wn.REPETITION_MANDATORY_WITH_SEPARATOR,t,n)||super.walkOption(e,t,n)}walkMany(e,t,n){this.checkIsTarget(e,wn.REPETITION,t,n)||super.walkOption(e,t,n)}walkManySep(e,t,n){this.checkIsTarget(e,wn.REPETITION_WITH_SEPARATOR,t,n)||super.walkOption(e,t,n)}}class kn extends Y{constructor(e,t,n){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=n,this.result=[]}checkIsTarget(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,wn.OPTION)}visitRepetition(e){this.checkIsTarget(e,wn.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,wn.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,wn.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,wn.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,wn.ALTERNATION)}}function Sn(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=[];return t}function Cn(e){let t=[""];for(let n=0;n<e.length;n++){const r=e[n],i=[];for(let e=0;e<t.length;e++){const n=t[e];i.push(n+"_"+r.tokenTypeIdx);for(let e=0;e<r.categoryMatches.length;e++){const t="_"+r.categoryMatches[e];i.push(n+t)}}t=i}return t}function Nn(e,t,n){for(let r=0;r<e.length;r++){if(r===n)continue;const i=e[r];for(let e=0;e<t.length;e++){if(!0===i[t[e]])return!1}}return!0}function Mn(e,t){const n=(0,s.A)(e,e=>vn([e],1)),i=Sn(n.length),a=(0,s.A)(n,e=>{const t={};return(0,r.A)(e,e=>{const n=Cn(e.partialPath);(0,r.A)(n,e=>{t[e]=!0})}),t});let l=n;for(let e=1;e<=t;e++){const n=l;l=Sn(n.length);for(let s=0;s<n.length;s++){const c=n[s];for(let n=0;n<c.length;n++){const u=c[n].partialPath,h=c[n].suffixDef,d=Cn(u);if(Nn(a,d,s)||(0,o.A)(h)||u.length===t){const e=i[s];if(!1===In(e,u)){e.push(u);for(let e=0;e<d.length;e++){const t=d[e];a[s][t]=!0}}}else{const t=vn(h,e+1,u);l[s]=l[s].concat(t),(0,r.A)(t,e=>{const t=Cn(e.partialPath);(0,r.A)(t,e=>{a[s][e]=!0})})}}}}return i}function On(e,t,n,r){const i=new kn(e,wn.ALTERNATION,r);return t.accept(i),Mn(i.result,n)}function Rn(e,t,n,r){const i=new kn(e,n);t.accept(i);const o=i.result,s=new En(t,e,n).startWalking();return Mn([new F({definition:o}),new F({definition:s})],r)}function In(e,t){e:for(let n=0;n<e.length;n++){const r=e[n];if(r.length===t.length){for(let e=0;e<r.length;e++){const n=t[e],i=r[e];if(!1===(n===i||void 0!==i.categoryMatchesMap[n.tokenTypeIdx]))continue e}return!0}}return!1}function Ln(e){return oe(e,e=>oe(e,e=>oe(e,e=>(0,o.A)(e.categoryMatches))))}function Pn(e,t,n,o){const a=(0,tn.A)(e,e=>function(e,t){const n=new Fn;e.accept(n);const r=n.allProductions,o=ln(r,Dn),a=k(o,e=>e.length>1),l=(0,s.A)((0,i.A)(a),n=>{const r=Fe(n),i=t.buildDuplicateFoundError(e,n),o=ae(r),s={message:i,type:Rr.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:o,occurrence:r.idx},a=Bn(r);return a&&(s.parameter=a),s});return l}(e,n)),l=function(e,t,n){const i=[],o=(0,s.A)(t,e=>e.name);return(0,r.A)(e,e=>{const t=e.name;if(ne(o,t)){const r=n.buildNamespaceConflictError(e);i.push({message:r,type:Rr.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}}),i}(e,t,n),c=(0,tn.A)(e,e=>function(e,t){const n=new jn;e.accept(n);const r=n.alternations,i=(0,tn.A)(r,n=>n.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:n}),type:Rr.TOO_MANY_ALTS,ruleName:e.name,occurrence:n.idx}]:[]);return i}(e,n)),u=(0,tn.A)(e,t=>function(e,t,n,r){const i=[],o=(0,ke.A)(t,(t,n)=>n.name===e.name?t+1:t,0);if(o>1){const t=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});i.push({message:t,type:Rr.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}(t,e,o,n));return a.concat(l,c,u)}function Dn(e){return`${ae(e)}_#_${e.idx}_#_${Bn(e)}`}function Bn(e){return e instanceof V?e.terminalType.name:e instanceof D?e.nonTerminalName:""}class Fn extends Y{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function zn(e,t,n,r=[]){const i=[],s=$n(t.definition);if((0,o.A)(s))return[];{const t=e.name;ne(s,e)&&i.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:Rr.LEFT_RECURSION,ruleName:t});const o=De(s,r.concat([e])),a=(0,tn.A)(o,t=>{const i=(0,l.A)(r);return i.push(t),zn(e,t,n,i)});return i.concat(a)}}function $n(e){let t=[];if((0,o.A)(e))return t;const n=Fe(e);if(n instanceof D)t.push(n.referencedRule);else if(n instanceof F||n instanceof z||n instanceof $||n instanceof j||n instanceof H||n instanceof U)t=t.concat($n(n.definition));else if(n instanceof G)t=(0,de.A)((0,s.A)(n.definition,e=>$n(e.definition)));else if(!(n instanceof V))throw Error("non exhaustive match");const r=se(n),i=e.length>1;if(r&&i){const n=d(e);return t.concat($n(n))}return t}class jn extends Y{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function Un(e,t,n){const i=new jn;e.accept(i);let o=i.alternations;o=_e(o,e=>!0===e.ignoreAmbiguities);const a=(0,tn.A)(o,i=>{const o=i.idx,a=i.maxLookahead||t,l=On(o,e,a,i),c=function(e,t,n,i){const o=[],a=(0,ke.A)(e,(n,i,s)=>(!0===t.definition[s].ignoreAmbiguities||(0,r.A)(i,i=>{const a=[s];(0,r.A)(e,(e,n)=>{s!==n&&In(e,i)&&!0!==t.definition[n].ignoreAmbiguities&&a.push(n)}),a.length>1&&!In(o,i)&&(o.push(i),n.push({alts:a,path:i}))}),n),[]),l=(0,s.A)(a,e=>{const r=(0,s.A)(e.alts,e=>e+1);return{message:i.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:r,prefixPath:e.path}),type:Rr.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:e.alts}});return l}(l,i,e,n),u=function(e,t,n,r){const i=(0,ke.A)(e,(e,t,n)=>{const r=(0,s.A)(t,e=>({idx:n,path:e}));return e.concat(r)},[]),o=Be((0,tn.A)(i,e=>{if(!0===t.definition[e.idx].ignoreAmbiguities)return[];const o=e.idx,a=e.path,l=(0,Se.A)(i,e=>{return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<o&&(n=e.path,r=a,n.length<r.length&&oe(n,(e,t)=>{const n=r[t];return e===n||n.categoryMatchesMap[e.tokenTypeIdx]}));var n,r});return(0,s.A)(l,e=>{const i=[e.idx+1,o+1],s=0===t.idx?"":t.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:Rr.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:s,alternatives:i}})}));return o}(l,i,e,n);return c.concat(u)});return a}class Hn extends Y{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function Gn(e){const t=(0,ye.A)(e,{errMsgProvider:Qt}),n={};return(0,r.A)(e.rules,e=>{n[e.name]=e}),function(e,t){const n=new en(e,t);return n.resolveRefs(),n.errors}(n,t.errMsgProvider)}const Vn="MismatchedTokenException",Wn="NoViableAltException",Yn="EarlyExitException",qn="NotAllInputParsedException",Xn=[Vn,Wn,Yn,qn];function Kn(e){return ne(Xn,e.name)}Object.freeze(Xn);class Zn extends Error{constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Qn extends Zn{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=Vn}}class Jn extends Zn{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=Wn}}class er extends Zn{constructor(e,t){super(e,t),this.name=qn}}class tr extends Zn{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=Yn}}const nr={},rr="InRuleRecoveryException";class ir extends Error{constructor(e){super(e),this.name=rr}}function or(e,t,n,r,i,o,s){const a=this.getKeyForAutomaticLookahead(r,i);let l=this.firstAfterRepMap[a];if(void 0===l){const e=this.getCurrRuleFullName();l=new o(this.getGAstProductions()[e],i).startWalking(),this.firstAfterRepMap[a]=l}let c=l.token,u=l.occurrence;const h=l.isEndOfRule;1===this.RULE_STACK.length&&h&&void 0===c&&(c=qt,u=1),void 0!==c&&void 0!==u&&this.shouldInRepetitionRecoveryBeTried(c,u,s)&&this.tryInRepetitionRecovery(e,t,n,c)}const sr=1024,ar=1280,lr=1536;function cr(e,t,n){return n|t|e}class ur{constructor(e){var t;this.maxLookahead=null!==(t=null==e?void 0:e.maxLookahead)&&void 0!==t?t:Mr.maxLookahead}validate(e){const t=this.validateNoLeftRecursion(e.rules);if((0,o.A)(t)){const n=this.validateEmptyOrAlternatives(e.rules),r=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...n,...r,...i]}return t}validateNoLeftRecursion(e){return(0,tn.A)(e,e=>zn(e,e,Jt))}validateEmptyOrAlternatives(e){return(0,tn.A)(e,e=>function(e,t){const n=new jn;e.accept(n);const r=n.alternations;return(0,tn.A)(r,n=>{const r=cn(n.definition);return(0,tn.A)(r,(r,i)=>{const s=yn([r],[],At,1);return(0,o.A)(s)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:n,emptyChoiceIdx:i}),type:Rr.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:n.idx,alternative:i+1}]:[]})})}(e,Jt))}validateAmbiguousAlternationAlternatives(e,t){return(0,tn.A)(e,e=>Un(e,t,Jt))}validateSomeNonEmptyLookaheadPath(e,t){return function(e,t,n){const i=[];return(0,r.A)(e,e=>{const s=new Hn;e.accept(s);const a=s.allProductions;(0,r.A)(a,r=>{const s=xn(r),a=r.maxLookahead||t,l=Rn(r.idx,e,s,a)[0];if((0,o.A)((0,de.A)(l))){const t=n.buildEmptyRepetitionError({topLevelRule:e,repetition:r});i.push({message:t,type:Rr.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}})}),i}(e,t,Jt)}buildLookaheadForAlternation(e){return function(e,t,n,r,i,o){const s=On(e,t,n);return o(s,r,Ln(s)?Tt:At,i)}(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,An)}buildLookaheadForOptional(e){return function(e,t,n,r,i,o){const s=Rn(e,t,i,n),a=Ln(s)?Tt:At;return o(s[0],a,r)}(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,xn(e.prodType),Tn)}}const hr=new class extends Y{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}};function dr(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset)}function pr(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function fr(e,t){Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function gr(e,t){const n=(0,b.A)(e),r=n.length;for(let i=0;i<r;i++){const r=e[n[i]],o=r.length;for(let e=0;e<o;e++){const n=r[e];void 0===n.tokenTypeIdx&&this[n.name](n.children,t)}}}function mr(e,t){const n=function(){};fr(n,e+"BaseSemantics");const r={visit:function(e,t){if((0,Z.A)(e)&&(e=e[0]),!(0,me.A)(e))return this[e.name](e.children,t)},validateVisitor:function(){const e=function(e,t){const n=function(e,t){const n=(0,Se.A)(t,t=>!1===(0,Ae.A)(e[t])),r=(0,s.A)(n,t=>({msg:`Missing visitor method: <${t}> on ${e.constructor.name} CST Visitor.`,type:vr.MISSING_METHOD,methodName:t}));return Be(r)}(e,t);return n}(this,t);if(!(0,o.A)(e)){const t=(0,s.A)(e,e=>e.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${t.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return(n.prototype=r).constructor=n,n._RULE_NAMES=t,n}var vr;!function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"}(vr||(vr={}));var yr=n(3149);const br={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(br);const wr=!0,xr=Math.pow(2,8)-1,_r=Yt({name:"RECORDING_PHASE_TOKEN",pattern:Pt.NA});St([_r]);const Ar=Xt(_r,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Ar);const Tr={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function Er(e,t,n,r=!1){Cr(n);const i=(0,xt.A)(this.recordingProdStack),o=(0,Ae.A)(t)?t:t.DEF,s=new e({definition:[],idx:n});return r&&(s.separator=t.SEP),(0,a.A)(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),o.call(this),i.definition.push(s),this.recordingProdStack.pop(),br}function kr(e,t){Cr(t);const n=(0,xt.A)(this.recordingProdStack),i=!1===(0,Z.A)(e),o=!1===i?e:e.DEF,s=new G({definition:[],idx:t,ignoreAmbiguities:i&&!0===e.IGNORE_AMBIGUITIES});(0,a.A)(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD);const l=J(o,e=>(0,Ae.A)(e.GATE));return s.hasPredicates=l,n.definition.push(s),(0,r.A)(o,e=>{const t=new F({definition:[]});s.definition.push(t),(0,a.A)(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:(0,a.A)(e,"GATE")&&(t.ignoreAmbiguities=!0),this.recordingProdStack.push(t),e.ALT.call(this),this.recordingProdStack.pop()}),br}function Sr(e){return 0===e?"":`${e}`}function Cr(e){if(e<0||e>xr){const t=new Error(`Invalid DSL Method idx value: <${e}>\n\tIdx value must be a none negative value smaller than ${xr+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}const Nr=Xt(qt,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Nr);const Mr=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Zt,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Or=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var Rr,Ir;function Lr(e=void 0){return function(){return e}}!function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(Rr||(Rr={}));class Pr{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const t=this.className;this.TRACE_INIT("toFastProps",()=>{c(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),(0,r.A)(this.definedRulesNames,e=>{const t=this[e].originalGrammarAction;let n;this.TRACE_INIT(`${e} Rule`,()=>{n=this.topLevelRuleRecord(e,t)}),this.gastProductionsCache[e]=n})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=Gn({rules:(0,i.A)(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if((0,o.A)(n)&&!1===this.skipValidations){const n=(e={rules:(0,i.A)(this.gastProductionsCache),tokenTypes:(0,i.A)(this.tokensMap),errMsgProvider:Jt,grammarName:t},Pn((e=(0,ye.A)(e,{errMsgProvider:Jt})).rules,e.tokenTypes,e.errMsgProvider,e.grammarName)),r=function(e){const t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return(0,s.A)(t,e=>Object.assign({type:Rr.CUSTOM_LOOKAHEAD_VALIDATION},e))}({lookaheadStrategy:this.lookaheadStrategy,rules:(0,i.A)(this.gastProductionsCache),tokenTypes:(0,i.A)(this.tokensMap),grammarName:t});this.definitionErrors=this.definitionErrors.concat(n,r)}var e}),(0,o.A)(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const e=function(e){const t={};return(0,r.A)(e,e=>{const n=new ge(e).startWalking();x(t,n)}),t}((0,i.A)(this.gastProductionsCache));this.resyncFollows=e}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var e,t;null===(t=(e=this.lookaheadStrategy).initialize)||void 0===t||t.call(e,{rules:(0,i.A)(this.gastProductionsCache)}),this.preComputeLookaheadFunctions((0,i.A)(this.gastProductionsCache))})),!Pr.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,o.A)(this.definitionErrors))throw e=(0,s.A)(this.definitionErrors,e=>e.message),new Error(`Parser Definition Errors detected:\n ${e.join("\n-------------------------------\n")}`)})}constructor(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(t),n.initLexerAdapter(),n.initLooksAhead(t),n.initRecognizerEngine(e,t),n.initRecoverable(t),n.initTreeBuilder(t),n.initContentAssist(),n.initGastRecorder(t),n.initPerformanceTracer(t),(0,a.A)(t,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=(0,a.A)(t,"skipValidations")?t.skipValidations:Mr.skipValidations}}Pr.DEFER_DEFINITION_ERRORS_HANDLING=!1,Ir=Pr,[class{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,a.A)(e,"recoveryEnabled")?e.recoveryEnabled:Mr.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=or)}getTokenToInsert(e){const t=Xt(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,n,r){const i=this.findReSyncTokenType(),o=this.exportLexerState(),s=[];let a=!1;const l=this.LA(1);let c=this.LA(1);const u=()=>{const e=this.LA(0),t=this.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:l,previous:e,ruleName:this.getCurrRuleFullName()}),n=new Qn(t,l,this.LA(0));n.resyncedTokens=cn(s),this.SAVE_ERROR(n)};for(;!a;){if(this.tokenMatcher(c,r))return void u();if(n.call(this))return u(),void e.apply(this,t);this.tokenMatcher(c,i)?a=!0:(c=this.SKIP_TOKEN(),this.addToResyncTokens(c,s))}this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(e,t,n){return!1!==n&&!this.tokenMatcher(this.LA(1),e)&&!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t))}getFollowsForInRuleRecovery(e,t){const n=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const e=this.SKIP_TOKEN();return this.consumeToken(),e}throw new ir("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if((0,o.A)(t))return!1;const n=this.LA(1);return void 0!==(0,ze.A)(t,e=>this.tokenMatcher(n,e))}canRecoverWithSingleTokenDeletion(e){return!!this.canTokenTypeBeDeletedInRecovery(e)&&this.tokenMatcher(this.LA(2),e)}isInCurrentRuleReSyncSet(e){const t=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(t);return ne(n,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let t=this.LA(1),n=2;for(;;){const r=(0,ze.A)(e,e=>Kt(t,e));if(void 0!==r)return r;t=this.LA(n),n++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return nr;const e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return(0,s.A)(e,(n,r)=>0===r?nr:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:t[r],inRule:this.shortRuleNameToFullName(e[r-1])})}flattenFollowSet(){const e=(0,s.A)(this.buildFullFollowKeyStack(),e=>this.getFollowSetFromFollowKey(e));return(0,de.A)(e)}getFollowSetFromFollowKey(e){if(e===nr)return[qt];const t=e.ruleName+e.idxInCallingRule+fe+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,qt)||t.push(e),t}reSyncTo(e){const t=[];let n=this.LA(1);for(;!1===this.tokenMatcher(n,e);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return cn(t)}attemptInRepetitionRecovery(e,t,n,r,i,o,s){}getCurrentGrammarPath(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:(0,l.A)(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return(0,s.A)(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}},class{initLooksAhead(e){this.dynamicTokensEnabled=(0,a.A)(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Mr.dynamicTokensEnabled,this.maxLookahead=(0,a.A)(e,"maxLookahead")?e.maxLookahead:Mr.maxLookahead,this.lookaheadStrategy=(0,a.A)(e,"lookaheadStrategy")?e.lookaheadStrategy:new ur({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){(0,r.A)(e,e=>{this.TRACE_INIT(`${e.name} Rule Lookahead`,()=>{const{alternation:t,repetition:n,option:i,repetitionMandatory:o,repetitionMandatoryWithSeparator:s,repetitionWithSeparator:a}=function(e){hr.reset(),e.accept(hr);const t=hr.dslMethods;return hr.reset(),t}(e);(0,r.A)(t,t=>{const n=0===t.idx?"":t.idx;this.TRACE_INIT(`${ae(t)}${n}`,()=>{const n=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:t.idx,rule:e,maxLookahead:t.maxLookahead||this.maxLookahead,hasPredicates:t.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),r=cr(this.fullRuleNameToShort[e.name],256,t.idx);this.setLaFuncCache(r,n)})}),(0,r.A)(n,t=>{this.computeLookaheadFunc(e,t.idx,768,"Repetition",t.maxLookahead,ae(t))}),(0,r.A)(i,t=>{this.computeLookaheadFunc(e,t.idx,512,"Option",t.maxLookahead,ae(t))}),(0,r.A)(o,t=>{this.computeLookaheadFunc(e,t.idx,sr,"RepetitionMandatory",t.maxLookahead,ae(t))}),(0,r.A)(s,t=>{this.computeLookaheadFunc(e,t.idx,lr,"RepetitionMandatoryWithSeparator",t.maxLookahead,ae(t))}),(0,r.A)(a,t=>{this.computeLookaheadFunc(e,t.idx,ar,"RepetitionWithSeparator",t.maxLookahead,ae(t))})})})}computeLookaheadFunc(e,t,n,r,i,o){this.TRACE_INIT(`${o}${0===t?"":t}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:r}),s=cr(this.fullRuleNameToShort[e.name],n,t);this.setLaFuncCache(s,o)})}getKeyForAutomaticLookahead(e,t){return cr(this.getLastExplicitRuleShortName(),e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}},class{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=(0,a.A)(e,"nodeLocationTracking")?e.nodeLocationTracking:Mr.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=pr,this.setNodeLocationFromNode=pr,this.cstPostRule=wt.A,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=wt.A,this.setNodeLocationFromNode=wt.A,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=dr,this.setNodeLocationFromNode=dr,this.cstPostRule=wt.A,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=wt.A,this.setNodeLocationFromNode=wt.A,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`);this.setNodeLocationFromToken=wt.A,this.setNodeLocationFromNode=wt.A,this.cstPostRule=wt.A,this.setInitialNodeLocation=wt.A}else this.cstInvocationStateUpdate=wt.A,this.cstFinallyStateUpdate=wt.A,this.cstPostTerminal=wt.A,this.cstPostNonTerminal=wt.A,this.cstPostRule=wt.A}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==1?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(e){const t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==1?n.endOffset=t.endOffset:n.startOffset=NaN}cstPostTerminal(e,t){const n=this.CST_STACK[this.CST_STACK.length-1];var r,i,o;i=t,o=e,void 0===(r=n).children[o]?r.children[o]=[i]:r.children[o].push(i),this.setNodeLocationFromToken(n.location,t)}cstPostNonTerminal(e,t){const n=this.CST_STACK[this.CST_STACK.length-1];!function(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)}(n,t,e),this.setNodeLocationFromNode(n.location,e.location)}getBaseCstVisitorConstructor(){if((0,me.A)(this.baseCstVisitorConstructor)){const e=mr(this.className,(0,b.A)(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if((0,me.A)(this.baseCstVisitorWithDefaultsConstructor)){const e=function(e,t,n){const i=function(){};fr(i,e+"BaseSemanticsWithDefaults");const o=Object.create(n.prototype);return(0,r.A)(t,e=>{o[e]=gr}),(i.prototype=o).constructor=i,i}(this.className,(0,b.A)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}},class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Nr}LA(e){const t=this.currIdx+e;return t<0||this.tokVectorLength<=t?Nr:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class{initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Tt,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,a.A)(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if((0,Z.A)(e)){if((0,o.A)(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if((0,Z.A)(e))this.tokensMap=(0,ke.A)(e,(e,t)=>(e[t.name]=t,e),{});else if((0,a.A)(e,"modes")&&oe((0,de.A)((0,i.A)(e.modes)),Ot)){const t=(0,de.A)((0,i.A)(e.modes)),n=he(t);this.tokensMap=(0,ke.A)(n,(e,t)=>(e[t.name]=t,e),{})}else{if(!(0,yr.A)(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=(0,l.A)(e)}this.tokensMap.EOF=qt;const n=(0,a.A)(e,"modes")?(0,de.A)((0,i.A)(e.modes)):(0,i.A)(e),r=oe(n,e=>(0,o.A)(e.categoryMatches));this.tokenMatcher=r?Tt:At,St((0,i.A)(this.tokensMap))}defineRule(e,t,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const r=(0,a.A)(n,"resyncEnabled")?n.resyncEnabled:Or.resyncEnabled,i=(0,a.A)(n,"recoveryValueFunc")?n.recoveryValueFunc:Or.recoveryValueFunc,o=this.ruleShortNameIdx<<12;let s;return this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o,s=!0===this.outputCst?function(...n){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),t.apply(this,n);const r=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(r),r}catch(e){return this.invokeRuleCatch(e,r,i)}finally{this.ruleFinallyStateUpdate()}}:function(...n){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),t.apply(this,n)}catch(e){return this.invokeRuleCatch(e,r,i)}finally{this.ruleFinallyStateUpdate()}},Object.assign(s,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,n){const r=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(Kn(e)){const t=e;if(i){const r=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(r)){if(t.resyncedTokens=this.reSyncTo(r),this.outputCst){const e=this.CST_STACK[this.CST_STACK.length-1];return e.recoveredNode=!0,e}return n(e)}if(this.outputCst){const e=this.CST_STACK[this.CST_STACK.length-1];e.recoveredNode=!0,t.partialCstResult=e}throw t}if(r)return this.moveToTerminatedState(),n(e);throw t}throw e}optionInternal(e,t){const n=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,n)}optionInternalLogic(e,t,n){let r,i=this.getLaFuncFromCache(n);if("function"!=typeof e){r=e.DEF;const t=e.GATE;if(void 0!==t){const e=i;i=()=>t.call(this)&&e.call(this)}}else r=e;if(!0===i.call(this))return r.call(this)}atLeastOneInternal(e,t){const n=this.getKeyForAutomaticLookahead(sr,e);return this.atLeastOneInternalLogic(e,t,n)}atLeastOneInternalLogic(e,t,n){let r,i=this.getLaFuncFromCache(n);if("function"!=typeof t){r=t.DEF;const e=t.GATE;if(void 0!==e){const t=i;i=()=>e.call(this)&&t.call(this)}}else r=t;if(!0!==i.call(this))throw this.raiseEarlyExitException(e,wn.REPETITION_MANDATORY,t.ERR_MSG);{let e=this.doSingleRepetition(r);for(;!0===i.call(this)&&!0===e;)e=this.doSingleRepetition(r)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],i,sr,e,gn)}atLeastOneSepFirstInternal(e,t){const n=this.getKeyForAutomaticLookahead(lr,e);this.atLeastOneSepFirstInternalLogic(e,t,n)}atLeastOneSepFirstInternalLogic(e,t,n){const r=t.DEF,i=t.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(e,wn.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);{r.call(this);const t=()=>this.tokenMatcher(this.LA(1),i);for(;!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,t,r,mn],t,lr,e,mn)}}manyInternal(e,t){const n=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,n)}manyInternalLogic(e,t,n){let r,i=this.getLaFuncFromCache(n);if("function"!=typeof t){r=t.DEF;const e=t.GATE;if(void 0!==e){const t=i;i=()=>e.call(this)&&t.call(this)}}else r=t;let o=!0;for(;!0===i.call(this)&&!0===o;)o=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],i,768,e,pn,o)}manySepFirstInternal(e,t){const n=this.getKeyForAutomaticLookahead(ar,e);this.manySepFirstInternalLogic(e,t,n)}manySepFirstInternalLogic(e,t,n){const r=t.DEF,i=t.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){r.call(this);const t=()=>this.tokenMatcher(this.LA(1),i);for(;!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,t,r,fn],t,ar,e,fn)}}repetitionSepSecondInternal(e,t,n,r,i){for(;n();)this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,r,i],n,lr,e,i)}doSingleRepetition(e){const t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){const n=this.getKeyForAutomaticLookahead(256,t),r=(0,Z.A)(e)?e:e.DEF,i=this.getLaFuncFromCache(n).call(this,r);if(void 0!==i)return r[i].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){const e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new er(t,e))}}subruleInternal(e,t,n){let r;try{const i=void 0!==n?n.ARGS:void 0;return this.subruleIdx=t,r=e.apply(this,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),r}catch(t){throw this.subruleInternalError(t,n,e.ruleName)}}subruleInternalError(e,t,n){throw Kn(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,t,n){let r;try{const t=this.LA(1);!0===this.tokenMatcher(t,e)?(this.consumeToken(),r=t):this.consumeInternalError(e,t,n)}catch(n){r=this.consumeInternalRecovery(e,t,n)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,r),r}consumeInternalError(e,t,n){let r;const i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Qn(r,t,i))}consumeInternalRecovery(e,t,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;{const r=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,r)}catch(e){throw e.name===rr?n:e}}}saveRecogState(){const e=this.errors,t=(0,l.A)(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),qt)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class{ACTION(e){return e.call(this)}consume(e,t,n){return this.consumeInternal(t,e,n)}subrule(e,t,n){return this.subruleInternal(t,e,n)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,n=Or){if(ne(this.definedRulesNames,e)){const t={message:Jt.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Rr.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(t)}this.definedRulesNames.push(e);const r=this.defineRule(e,t,n);return this[e]=r,r}OVERRIDE_RULE(e,t,n=Or){const r=function(e,t,n){const r=[];let i;return ne(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,r.push({message:i,type:Rr.INVALID_RULE_OVERRIDE,ruleName:e})),r}(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(r);const i=this.defineRule(e,t,n);return this[e]=i,i}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return e.apply(this,t),!0}catch(e){if(Kn(e))return!1;throw e}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return e=(0,i.A)(this.gastProductionsCache),(0,s.A)(e,W);var e}},class{initErrorHandler(e){this._errors=[],this.errorMessageProvider=(0,a.A)(e,"errorMessageProvider")?e.errorMessageProvider:Mr.errorMessageProvider}SAVE_ERROR(e){if(Kn(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,l.A)(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return(0,l.A)(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,n){const r=this.getCurrRuleFullName(),i=Rn(e,this.getGAstProductions()[r],t,this.maxLookahead)[0],o=[];for(let e=1;e<=this.maxLookahead;e++)o.push(this.LA(e));const s=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:o,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new tr(s,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){const n=this.getCurrRuleFullName(),r=On(e,this.getGAstProductions()[n],this.maxLookahead),i=[];for(let e=1;e<=this.maxLookahead;e++)i.push(this.LA(e));const o=this.LA(0),s=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:i,previous:o,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Jn(s,this.LA(1),o))}},class{initContentAssist(){}computeContentAssist(e,t){const n=this.gastProductionsCache[e];if((0,me.A)(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return yn([n],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const t=Fe(e.ruleStack),n=this.getGAstProductions()[t];return new hn(n,e).startWalking()}},class{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const t=e>0?e:"";this[`CONSUME${t}`]=function(t,n){return this.consumeInternalRecord(t,e,n)},this[`SUBRULE${t}`]=function(t,n){return this.subruleInternalRecord(t,e,n)},this[`OPTION${t}`]=function(t){return this.optionInternalRecord(t,e)},this[`OR${t}`]=function(t){return this.orInternalRecord(t,e)},this[`MANY${t}`]=function(t){this.manyInternalRecord(e,t)},this[`MANY_SEP${t}`]=function(t){this.manySepFirstInternalRecord(e,t)},this[`AT_LEAST_ONE${t}`]=function(t){this.atLeastOneInternalRecord(e,t)},this[`AT_LEAST_ONE_SEP${t}`]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}}this.consume=function(e,t,n){return this.consumeInternalRecord(t,e,n)},this.subrule=function(e,t,n){return this.subruleInternalRecord(t,e,n)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let t=0;t<10;t++){const n=t>0?t:"";delete e[`CONSUME${n}`],delete e[`SUBRULE${n}`],delete e[`OPTION${n}`],delete e[`OR${n}`],delete e[`MANY${n}`],delete e[`MANY_SEP${n}`],delete e[`AT_LEAST_ONE${n}`],delete e[`AT_LEAST_ONE_SEP${n}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return Nr}topLevelRuleRecord(e,t){try{const n=new B({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(e){if(!0!==e.KNOWN_RECORDER_ERROR)try{e.message=e.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(t){throw e}throw e}}optionInternalRecord(e,t){return Er.call(this,z,e,t)}atLeastOneInternalRecord(e,t){Er.call(this,$,t,e)}atLeastOneSepFirstInternalRecord(e,t){Er.call(this,j,t,e,wr)}manyInternalRecord(e,t){Er.call(this,U,t,e)}manySepFirstInternalRecord(e,t){Er.call(this,H,t,e,wr)}orInternalRecord(e,t){return kr.call(this,e,t)}subruleInternalRecord(e,t,n){if(Cr(t),!e||!1===(0,a.A)(e,"ruleName")){const n=new Error(`<SUBRULE${Sr(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}const r=(0,xt.A)(this.recordingProdStack),i=e.ruleName,o=new D({idx:t,nonTerminalName:i,label:null==n?void 0:n.LABEL,referencedRule:void 0});return r.definition.push(o),this.outputCst?Tr:br}consumeInternalRecord(e,t,n){if(Cr(t),!Nt(e)){const n=new Error(`<CONSUME${Sr(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}const r=(0,xt.A)(this.recordingProdStack),i=new V({idx:t,terminalType:e,label:null==n?void 0:n.LABEL});return r.definition.push(i),Ar}},class{initPerformanceTracer(e){if((0,a.A)(e,"traceInitPerf")){const t=e.traceInitPerf,n="number"==typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=Mr.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent,this.traceInitMaxIdent;const{time:r,value:i}=_t(t),o=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${n}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,i}return t()}}].forEach(e=>{const t=e.prototype;Object.getOwnPropertyNames(t).forEach(n=>{if("constructor"===n)return;const r=Object.getOwnPropertyDescriptor(t,n);r&&(r.get||r.set)?Object.defineProperty(Ir.prototype,n,r):Ir.prototype[n]=e.prototype[n]})});class Dr extends Pr{constructor(e,t=Mr){const n=(0,l.A)(t);n.outputCst=!1,super(e,n)}}},805:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return function(t){return null==t?void 0:t[e]}}},901:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(1882);const i=function(e){if("string"==typeof e||(0,r.A)(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},908:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=n(2849),o=n(3769),s=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("with",function(e,t){if(2!=arguments.length)throw new s.default("#with requires exactly one argument");i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&((r=i.createFrame(t.data)).contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:i.blockParams([e],[r&&r.contextPath])})})},e.exports=t.default},915:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=n(1350),o=(r=i)&&r.__esModule?r:{default:r};function s(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function a(e,t,n){void 0===t&&(t=e.length);var r=e[t-1],i=e[t-2];return r?"ContentStatement"===r.type?(i||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:n}function l(e,t,n){void 0===t&&(t=-1);var r=e[t+1],i=e[t+2];return r?"ContentStatement"===r.type?(i||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:n}function c(e,t,n){var r=e[null==t?0:t+1];if(r&&"ContentStatement"===r.type&&(n||!r.rightStripped)){var i=r.value;r.value=r.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.value!==i}}function u(e,t,n){var r=e[null==t?e.length-1:t-1];if(r&&"ContentStatement"===r.type&&(n||!r.leftStripped)){var i=r.value;return r.value=r.value.replace(n?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.value!==i,r.leftStripped}}s.prototype=new o.default,s.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var r=e.body,i=0,o=r.length;i<o;i++){var s=r[i],h=this.accept(s);if(h){var d=a(r,i,n),p=l(r,i,n),f=h.openStandalone&&d,g=h.closeStandalone&&p,m=h.inlineStandalone&&d&&p;h.close&&c(r,i,!0),h.open&&u(r,i,!0),t&&m&&(c(r,i),u(r,i)&&"PartialStatement"===s.type&&(s.indent=/([ \t]+$)/.exec(r[i-1].original)[1])),t&&f&&(c((s.program||s.inverse).body),u(r,i)),t&&g&&(c(r,i),u((s.inverse||s.program).body))}}return e},s.prototype.BlockStatement=s.prototype.DecoratorBlock=s.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,r=n,i=n;if(n&&n.chained)for(r=n.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var o={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:l(t.body),closeStandalone:a((r||t).body)};if(e.openStrip.close&&c(t.body,null,!0),n){var s=e.inverseStrip;s.open&&u(t.body,null,!0),s.close&&c(r.body,null,!0),e.closeStrip.open&&u(i.body,null,!0),!this.options.ignoreStandalone&&a(t.body)&&l(r.body)&&(u(t.body),c(r.body))}else e.closeStrip.open&&u(t.body,null,!0);return o},s.prototype.Decorator=s.prototype.MustacheStatement=function(e){return e.strip},s.prototype.PartialStatement=s.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=s,e.exports=t.default},1121:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=Function.prototype.toString;const i=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},1127:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.Compiler=l,t.precompile=function(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new i.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0);t.compat&&(t.useDepths=!0);var r=n.parse(e,t),o=(new n.Compiler).compile(r,t);return(new n.JavaScriptCompiler).compile(o,t)},t.compile=function(e,t,n){void 0===t&&(t={});if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new i.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in(t=o.extend({},t))||(t.data=!0);t.compat&&(t.useDepths=!0);var r=void 0;function s(){var r=n.parse(e,t),i=(new n.Compiler).compile(r,t),o=(new n.JavaScriptCompiler).compile(i,t,void 0,!0);return n.template(o)}function a(e,t){return r||(r=s()),r.call(this,e,t)}return a._setup=function(e){return r||(r=s()),r._setup(e)},a._child=function(e,t,n,i){return r||(r=s()),r._child(e,t,n,i)},a};var i=r(n(3769)),o=n(2849),s=r(n(2300)),a=[].slice;function l(){}function c(e,t){if(e===t)return!0;if(o.isArray(e)&&o.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!c(e[n],t[n]))return!1;return!0}}function u(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}l.prototype={compiler:l,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var r=this.opcodes[n],i=e.opcodes[n];if(r.opcode!==i.opcode||!c(r.args,i.args))return!1}t=this.children.length;for(n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],t.knownHelpers=o.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},t.knownHelpers),this.accept(e)},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[n]=t,this.useDepths=this.useDepths||t.useDepths,n},accept:function(e){if(!this[e.type])throw new i.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,r=0;r<n;r++)this.accept(t[r]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){u(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var r=this.classifySexpr(e);"helper"===r?this.helperSexpr(e,t,n):"simple"===r?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),r=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,r.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new i.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var r=e.name.original,o="SubExpression"===e.name.type;o&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var s=e.indent||"";this.options.preventIndent&&s&&(this.opcode("appendContent",s),s=""),this.opcode("invokePartial",o,r,s),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){u(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var r=e.path,i=r.parts[0],o=null!=t||null!=n;this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),r.strict=!0,this.accept(r),this.opcode("invokeAmbiguous",i,o)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var r=this.setupFullMustacheParams(e,t,n),o=e.path,a=o.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",r.length,a);else{if(this.options.knownHelpersOnly)throw new i.default("You specified knownHelpersOnly, but used the unknown helper "+a,e);o.strict=!0,o.falsy=!0,this.accept(o),this.opcode("invokeHelper",r.length,o.original,s.default.helpers.simpleId(o))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=s.default.helpers.scopedId(e),r=!e.depth&&!n&&this.blockParamIndex(t);r?this.opcode("lookupBlockParam",r,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,r=t.length;for(this.opcode("pushHash");n<r;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:a.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=s.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),r=!n&&s.default.helpers.helperExpression(e),i=!n&&(r||t);if(i&&!r){var o=e.path.parts[0],a=this.options;a.knownHelpers[o]?r=!0:a.knownHelpersOnly&&(i=!1)}return r?"helper":i?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||s.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var r=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,r)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,r){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",r),i},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var r=this.options.blockParams[t],i=r&&o.indexOf(r,e);if(r&&i>=0)return[t,i]}}}},1148:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__);var t=globalThis.Handlebars;e.noConflict=function(){return globalThis.Handlebars===e&&(globalThis.Handlebars=t),e}},e.exports=t.default},1200:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1917);const i=function(){return!1};var o="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=o&&"object"==typeof module&&module&&!module.nodeType&&module,a=s&&s.exports===o?r.A.Buffer:void 0;const l=(a?a.isBuffer:void 0)||i},1272:(e,t,n)=>{"use strict";n.d(t,{mR:()=>Ee,dg:()=>Ae,jE:()=>ye,Tm:()=>Te,eZ:()=>be,e5:()=>ge,sr:()=>fe,AM:()=>me,KX:()=>ve,YP:()=>we,eV:()=>xe,K2:()=>g});var r=n(2479),i=n(9264),o=n(9364),s=n(2151),a=n(4298),l=n(7608);const c={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},u={AstReflection:()=>new s.QX};function h(e){var t;const n=function(){const e=(0,o.WQ)((0,i.u)(a.D),u),t=(0,o.WQ)((0,i.t)({shared:e}),c);return e.ServiceRegistry.register(t),t}(),r=n.serializer.JsonSerializer.deserialize(e);return n.shared.workspace.LangiumDocumentFactory.fromModel(r,l.r.parse(`memory://${null!==(t=r.name)&&void 0!==t?t:"grammar"}.langium`)),r}var d=n(5033),p=n(1945),f=Object.defineProperty,g=(e,t)=>f(e,"name",{value:t,configurable:!0}),m="Statement",v="Architecture";g(function(e){return J.isInstance(e,v)},"isArchitecture");var y="Axis",b="Branch";g(function(e){return J.isInstance(e,b)},"isBranch");var w="Checkout",x="CherryPicking",_="ClassDefStatement",A="Commit";g(function(e){return J.isInstance(e,A)},"isCommit");var T="Curve",E="Edge",k="Entry",S="GitGraph";g(function(e){return J.isInstance(e,S)},"isGitGraph");var C="Group",N="Info";g(function(e){return J.isInstance(e,N)},"isInfo");var M="Item",O="Junction",R="Merge";g(function(e){return J.isInstance(e,R)},"isMerge");var I="Option",L="Packet";g(function(e){return J.isInstance(e,L)},"isPacket");var P="PacketBlock";g(function(e){return J.isInstance(e,P)},"isPacketBlock");var D="Pie";g(function(e){return J.isInstance(e,D)},"isPie");var B="PieSection";g(function(e){return J.isInstance(e,B)},"isPieSection");var F="Radar",z="Service",$="Treemap";g(function(e){return J.isInstance(e,$)},"isTreemap");var j,U,H,G,V,W,Y,q="TreemapRow",X="Direction",K="Leaf",Z="Section",Q=class extends r.kD{static{g(this,"MermaidAstReflection")}getAllTypes(){return[v,y,b,w,x,_,A,T,X,E,k,S,C,N,M,O,K,R,I,L,P,D,B,F,Z,z,m,$,q]}computeIsSubtype(e,t){switch(e){case b:case w:case x:case A:case R:return this.isSubtype(m,t);case X:return this.isSubtype(S,t);case K:case Z:return this.isSubtype(M,t);default:return!1}}getReferenceType(e){const t=`${e.container.$type}:${e.property}`;if("Entry:axis"===t)return y;throw new Error(`${t} is not a valid reference id.`)}getTypeMetaData(e){switch(e){case v:return{name:v,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case y:return{name:y,properties:[{name:"label"},{name:"name"}]};case b:return{name:b,properties:[{name:"name"},{name:"order"}]};case w:return{name:w,properties:[{name:"branch"}]};case x:return{name:x,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case _:return{name:_,properties:[{name:"className"},{name:"styleText"}]};case A:return{name:A,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case T:return{name:T,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case E:return{name:E,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case k:return{name:k,properties:[{name:"axis"},{name:"value"}]};case S:return{name:S,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case C:return{name:C,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case N:return{name:N,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case M:return{name:M,properties:[{name:"classSelector"},{name:"name"}]};case O:return{name:O,properties:[{name:"id"},{name:"in"}]};case R:return{name:R,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case I:return{name:I,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case L:return{name:L,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case P:return{name:P,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case D:return{name:D,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case B:return{name:B,properties:[{name:"label"},{name:"value"}]};case F:return{name:F,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case z:return{name:z,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case $:return{name:$,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case q:return{name:q,properties:[{name:"indent"},{name:"item"}]};case X:return{name:X,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case K:return{name:K,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case Z:return{name:Z,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:e,properties:[]}}}},J=new Q,ee=g(()=>j??(j=h('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"InfoGrammar"),te=g(()=>U??(U=h('{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PacketGrammar"),ne=g(()=>H??(H=h('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PieGrammar"),re=g(()=>G??(G=h('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),ie=g(()=>V??(V=h('{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"GitGraphGrammar"),oe=g(()=>W??(W=h('{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}')),"RadarGrammar"),se=g(()=>Y??(Y=h('{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}')),"TreemapGrammar"),ae={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},le={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ce={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ue={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},he={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},de={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},pe={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},fe={AstReflection:g(()=>new Q,"AstReflection")},ge={Grammar:g(()=>ee(),"Grammar"),LanguageMetaData:g(()=>ae,"LanguageMetaData"),parser:{}},me={Grammar:g(()=>te(),"Grammar"),LanguageMetaData:g(()=>le,"LanguageMetaData"),parser:{}},ve={Grammar:g(()=>ne(),"Grammar"),LanguageMetaData:g(()=>ce,"LanguageMetaData"),parser:{}},ye={Grammar:g(()=>re(),"Grammar"),LanguageMetaData:g(()=>ue,"LanguageMetaData"),parser:{}},be={Grammar:g(()=>ie(),"Grammar"),LanguageMetaData:g(()=>he,"LanguageMetaData"),parser:{}},we={Grammar:g(()=>oe(),"Grammar"),LanguageMetaData:g(()=>de,"LanguageMetaData"),parser:{}},xe={Grammar:g(()=>se(),"Grammar"),LanguageMetaData:g(()=>pe,"LanguageMetaData"),parser:{}},_e={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},Ae=class extends d.d{static{g(this,"AbstractMermaidValueConverter")}runConverter(e,t,n){let r=this.runCommonConverter(e,t,n);return void 0===r&&(r=this.runCustomConverter(e,t,n)),void 0===r?super.runConverter(e,t,n):r}runCommonConverter(e,t,n){const r=_e[e.name];if(void 0===r)return;const i=r.exec(t);return null!==i?void 0!==i[1]?i[1].trim().replace(/[\t ]{2,}/gm," "):void 0!==i[2]?i[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,"\n"):void 0:void 0}},Te=class extends Ae{static{g(this,"CommonValueConverter")}runCustomConverter(e,t,n){}},Ee=class extends p.Q{static{g(this,"AbstractMermaidTokenBuilder")}constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,t,n){const r=super.buildKeywordTokens(e,t,n);return r.forEach(e=>{this.keywords.has(e.name)&&void 0!==e.PATTERN&&(e.PATTERN=new RegExp(e.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),r}};(class extends Ee{static{g(this,"CommonTokenBuilder")}})},1350:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=n(3769),o=(r=i)&&r.__esModule?r:{default:r};function s(){this.parents=[]}function a(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function l(e){a.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function c(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}s.prototype={constructor:s,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!s.prototype[n.type])throw new o.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new o.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new o.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:a,Decorator:a,BlockStatement:l,DecoratorBlock:l,PartialStatement:c,PartialBlockStatement:function(e){c.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:a,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=s,e.exports=t.default},1366:(e,t,n)=>{"use strict";n.d(t,{v:()=>c});var r=n(1272),i=n(9264),o=n(9364),s=n(4298),a=class extends r.mR{static{(0,r.K2)(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},l={parser:{TokenBuilder:(0,r.K2)(()=>new a,"TokenBuilder"),ValueConverter:(0,r.K2)(()=>new r.Tm,"ValueConverter")}};function c(e=s.D){const t=(0,o.WQ)((0,i.u)(e),r.sr),n=(0,o.WQ)((0,i.t)({shared:t}),r.e5,l);return t.ServiceRegistry.register(n),{shared:t,Info:n}}(0,r.K2)(c,"createInfoServices")},1444:(e,t,n)=>{"use strict";function r(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function i(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function o(e){return e}n.d(t,{JLW:()=>ha,l78:()=>y,tlR:()=>v,qrM:()=>Ta,Yu4:()=>ka,IA3:()=>Ca,Wi0:()=>Ma,PGM:()=>Oa,OEq:()=>Ia,y8u:()=>Da,olC:()=>Fa,IrU:()=>$a,oDi:()=>Ha,Q7f:()=>Va,cVp:()=>Ya,lUB:()=>fa,Lx9:()=>Xa,nVG:()=>rl,uxU:()=>il,Xf2:()=>al,GZz:()=>cl,UPb:()=>hl,dyv:()=>ul,GPZ:()=>qn,Sk5:()=>er,bEH:()=>Ir,n8j:()=>va,T9B:()=>r,jkA:()=>i,rLf:()=>wa,WH:()=>Ur,m4Y:()=>bi,UMr:()=>jr,w7C:()=>Ds,zt:()=>Bs,Ltv:()=>Fs,UAC:()=>Di,DCK:()=>go,TUC:()=>Vi,Agd:()=>Li,t6C:()=>Mi,wXd:()=>Ri,ABi:()=>ji,Ui6:()=>to,rGn:()=>Wi,ucG:()=>Oi,YPH:()=>$i,Mol:()=>Gi,PGu:()=>Ui,GuW:()=>Hi,hkb:()=>pr});var s=1,a=2,l=3,c=4,u=1e-6;function h(e){return"translate("+e+",0)"}function d(e){return"translate(0,"+e+")"}function p(e){return t=>+e(t)}function f(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function g(){return!this.__axis}function m(e,t){var n=[],r=null,i=null,m=6,v=6,y=3,b="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,w=e===s||e===c?-1:1,x=e===c||e===a?"x":"y",_=e===s||e===l?h:d;function A(h){var d=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,A=null==i?t.tickFormat?t.tickFormat.apply(t,n):o:i,T=Math.max(m,0)+y,E=t.range(),k=+E[0]+b,S=+E[E.length-1]+b,C=(t.bandwidth?f:p)(t.copy(),b),N=h.selection?h.selection():h,M=N.selectAll(".domain").data([null]),O=N.selectAll(".tick").data(d,t).order(),R=O.exit(),I=O.enter().append("g").attr("class","tick"),L=O.select("line"),P=O.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(I),L=L.merge(I.append("line").attr("stroke","currentColor").attr(x+"2",w*m)),P=P.merge(I.append("text").attr("fill","currentColor").attr(x,w*T).attr("dy",e===s?"0em":e===l?"0.71em":"0.32em")),h!==N&&(M=M.transition(h),O=O.transition(h),L=L.transition(h),P=P.transition(h),R=R.transition(h).attr("opacity",u).attr("transform",function(e){return isFinite(e=C(e))?_(e+b):this.getAttribute("transform")}),I.attr("opacity",u).attr("transform",function(e){var t=this.parentNode.__axis;return _((t&&isFinite(t=t(e))?t:C(e))+b)})),R.remove(),M.attr("d",e===c||e===a?v?"M"+w*v+","+k+"H"+b+"V"+S+"H"+w*v:"M"+b+","+k+"V"+S:v?"M"+k+","+w*v+"V"+b+"H"+S+"V"+w*v:"M"+k+","+b+"H"+S),O.attr("opacity",1).attr("transform",function(e){return _(C(e)+b)}),L.attr(x+"2",w*m),P.attr(x,w*T).text(A),N.filter(g).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===a?"start":e===c?"end":"middle"),N.each(function(){this.__axis=C})}return A.scale=function(e){return arguments.length?(t=e,A):t},A.ticks=function(){return n=Array.from(arguments),A},A.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),A):n.slice()},A.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),A):r&&r.slice()},A.tickFormat=function(e){return arguments.length?(i=e,A):i},A.tickSize=function(e){return arguments.length?(m=v=+e,A):m},A.tickSizeInner=function(e){return arguments.length?(m=+e,A):m},A.tickSizeOuter=function(e){return arguments.length?(v=+e,A):v},A.tickPadding=function(e){return arguments.length?(y=+e,A):y},A.offset=function(e){return arguments.length?(b=+e,A):b},A}function v(e){return m(s,e)}function y(e){return m(l,e)}function b(){}function w(e){return null==e?b:function(){return this.querySelector(e)}}function x(){return[]}function _(e){return null==e?x:function(){return this.querySelectorAll(e)}}function A(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function T(e){return function(){return this.matches(e)}}function E(e){return function(t){return t.matches(e)}}var k=Array.prototype.find;function S(){return this.firstElementChild}var C=Array.prototype.filter;function N(){return Array.from(this.children)}function M(e){return new Array(e.length)}function O(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function R(e,t,n,r,i,o){for(var s,a=0,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new O(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function I(e,t,n,r,i,o,s){var a,l,c,u=new Map,h=t.length,d=o.length,p=new Array(h);for(a=0;a<h;++a)(l=t[a])&&(p[a]=c=s.call(l,l.__data__,a,t)+"",u.has(c)?i[a]=l:u.set(c,l));for(a=0;a<d;++a)c=s.call(e,o[a],a,o)+"",(l=u.get(c))?(r[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new O(e,o[a]);for(a=0;a<h;++a)(l=t[a])&&u.get(p[a])===l&&(i[a]=l)}function L(e){return e.__data__}function P(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function D(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}O.prototype={constructor:O,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var B="http://www.w3.org/1999/xhtml";const F={svg:"http://www.w3.org/2000/svg",xhtml:B,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function z(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),F.hasOwnProperty(t)?{space:F[t],local:e}:e}function $(e){return function(){this.removeAttribute(e)}}function j(e){return function(){this.removeAttributeNS(e.space,e.local)}}function U(e,t){return function(){this.setAttribute(e,t)}}function H(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function G(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function V(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function W(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Y(e){return function(){this.style.removeProperty(e)}}function q(e,t,n){return function(){this.style.setProperty(e,t,n)}}function X(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function K(e,t){return e.style.getPropertyValue(t)||W(e).getComputedStyle(e,null).getPropertyValue(t)}function Z(e){return function(){delete this[e]}}function Q(e,t){return function(){this[e]=t}}function J(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ee(e){return e.trim().split(/^|\s+/)}function te(e){return e.classList||new ne(e)}function ne(e){this._node=e,this._names=ee(e.getAttribute("class")||"")}function re(e,t){for(var n=te(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ie(e,t){for(var n=te(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function oe(e){return function(){re(this,e)}}function se(e){return function(){ie(this,e)}}function ae(e,t){return function(){(t.apply(this,arguments)?re:ie)(this,e)}}function le(){this.textContent=""}function ce(e){return function(){this.textContent=e}}function ue(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function he(){this.innerHTML=""}function de(e){return function(){this.innerHTML=e}}function pe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function fe(){this.nextSibling&&this.parentNode.appendChild(this)}function ge(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function me(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===B&&t.documentElement.namespaceURI===B?t.createElement(e):t.createElementNS(n,e)}}function ve(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ye(e){var t=z(e);return(t.local?ve:me)(t)}function be(){return null}function we(){var e=this.parentNode;e&&e.removeChild(this)}function xe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _e(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ae(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Te(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Ee(e,t,n){var r=W(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ke(e,t){return function(){return Ee(this,e,t)}}function Se(e,t){return function(){return Ee(this,e,t.apply(this,arguments))}}ne.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ce=[null];function Ne(e,t){this._groups=e,this._parents=t}function Me(){return new Ne([[document.documentElement]],Ce)}Ne.prototype=Me.prototype={constructor:Ne,select:function(e){"function"!=typeof e&&(e=w(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=t[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=e.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new Ne(r,this._parents)},selectAll:function(e){e="function"==typeof e?A(e):_(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s,a=t[o],l=a.length,c=0;c<l;++c)(s=a[c])&&(r.push(e.call(s,s.__data__,c,a)),i.push(s));return new Ne(r,i)},selectChild:function(e){return this.select(null==e?S:function(e){return function(){return k.call(this.children,e)}}("function"==typeof e?e:E(e)))},selectChildren:function(e){return this.selectAll(null==e?N:function(e){return function(){return C.call(this.children,e)}}("function"==typeof e?e:E(e)))},filter:function(e){"function"!=typeof e&&(e=T(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new Ne(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,L);var n,r=t?I:R,i=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var s=o.length,a=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var h=i[u],d=o[u],p=d.length,f=P(e.call(h,h&&h.__data__,u,i)),g=f.length,m=l[u]=new Array(g),v=a[u]=new Array(g);r(h,d,m,v,c[u]=new Array(p),f,t);for(var y,b,w=0,x=0;w<g;++w)if(y=m[w]){for(w>=x&&(x=w+1);!(b=v[x])&&++x<g;);y._next=b||null}}return(a=new Ne(a,i))._enter=l,a._exit=c,a},enter:function(){return new Ne(this._enter||this._groups.map(M),this._parents)},exit:function(){return new Ne(this._exit||this._groups.map(M),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c,u=n[l],h=r[l],d=u.length,p=a[l]=new Array(d),f=0;f<d;++f)(c=u[f]||h[f])&&(p[f]=c);for(;l<i;++l)a[l]=n[l];return new Ne(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=D);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],l=a.length,c=i[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(t)}return new Ne(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],s=0,a=o.length;s<a;++s)(i=o[s])&&e.call(i,i.__data__,s,o);return this},attr:function(e,t){var n=z(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?j:$:"function"==typeof t?n.local?V:G:n.local?H:U)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Y:"function"==typeof t?X:q)(e,t,null==n?"":n)):K(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Z:"function"==typeof t?J:Q)(e,t)):this.node()[e]},classed:function(e,t){var n=ee(e+"");if(arguments.length<2){for(var r=te(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?ae:t?oe:se)(n,t))},text:function(e){return arguments.length?this.each(null==e?le:("function"==typeof e?ue:ce)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?he:("function"==typeof e?pe:de)(e)):this.node().innerHTML},raise:function(){return this.each(fe)},lower:function(){return this.each(ge)},append:function(e){var t="function"==typeof e?e:ye(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:ye(e),r=null==t?be:"function"==typeof t?t:w(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(we)},clone:function(e){return this.select(e?_e:xe)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),s=o.length;if(!(arguments.length<2)){for(a=t?Te:Ae,r=0;r<s;++r)this.each(a(o[r],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<s;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?Se:ke)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const Oe=Me;var Re={value:()=>{}};function Ie(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Le(r)}function Le(e){this._=e}function Pe(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function De(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Re,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Le.prototype=Ie.prototype={constructor:Le,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),s=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<a;)if(n=(e=o[s]).type)i[n]=De(i[n],e.name,t);else if(null==t)for(n in i)i[n]=De(i[n],e.name,null);return this}for(;++s<a;)if((n=(e=o[s]).type)&&(n=Pe(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Le(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const Be=Ie;var Fe,ze,$e=0,je=0,Ue=0,He=0,Ge=0,Ve=0,We="object"==typeof performance&&performance.now?performance:Date,Ye="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function qe(){return Ge||(Ye(Xe),Ge=We.now()+Ve)}function Xe(){Ge=0}function Ke(){this._call=this._time=this._next=null}function Ze(e,t,n){var r=new Ke;return r.restart(e,t,n),r}function Qe(){Ge=(He=We.now())+Ve,$e=je=0;try{!function(){qe(),++$e;for(var e,t=Fe;t;)(e=Ge-t._time)>=0&&t._call.call(void 0,e),t=t._next;--$e}()}finally{$e=0,function(){var e,t,n=Fe,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Fe=t);ze=e,et(r)}(),Ge=0}}function Je(){var e=We.now(),t=e-He;t>1e3&&(Ve-=t,He=e)}function et(e){$e||(je&&(je=clearTimeout(je)),e-Ge>24?(e<1/0&&(je=setTimeout(Qe,e-We.now()-Ve)),Ue&&(Ue=clearInterval(Ue))):(Ue||(He=We.now(),Ue=setInterval(Je,1e3)),$e=1,Ye(Qe)))}function tt(e,t,n){var r=new Ke;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}Ke.prototype=Ze.prototype={constructor:Ke,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?qe():+n)+(null==t?0:+t),this._next||ze===this||(ze?ze._next=this:Fe=this,ze=this),this._call=e,this._time=n,et()},stop:function(){this._call&&(this._call=null,this._time=1/0,et())}};var nt=Be("start","end","cancel","interrupt"),rt=[];function it(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(o){var c,u,h,d;if(1!==n.state)return l();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return tt(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[c]):+c<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[c])}if(tt(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(o))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,s=r.length;++o<s;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=Ze(o,0,n.time)}(e,n,{name:t,index:r,group:i,on:nt,tween:rt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ot(e,t){var n=at(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function st(e,t){var n=at(e,t);if(n.state>3)throw new Error("too late; already running");return n}function at(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function lt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ct,ut=180/Math.PI,ht={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dt(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ut,skewX:Math.atan(l)*ut,scaleX:s,scaleY:a}}function pt(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,s){var a=[],l=[];return o=e(o),s=e(s),function(e,r,i,o,s,a){if(e!==i||r!==o){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:lt(e,i)},{i:l-2,x:lt(r,o)})}else(i||o)&&s.push("translate("+i+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:lt(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,s.rotate,a,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:lt(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,s.skewX,a,l),function(e,t,n,r,o,s){if(e!==n||t!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:lt(e,n)},{i:a-2,x:lt(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(e){for(var t,n=-1,r=l.length;++n<r;)a[(t=l[n]).i]=t.x(e);return a.join("")}}}var ft=pt(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ht:dt(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),gt=pt(function(e){return null==e?ht:(ct||(ct=document.createElementNS("http://www.w3.org/2000/svg","g")),ct.setAttribute("transform",e),(e=ct.transform.baseVal.consolidate())?dt((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):ht)},", ",")",")");function mt(e,t){var n,r;return function(){var i=st(this,e),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}i.tween=r}}function vt(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=st(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function yt(e,t,n){var r=e._id;return e.each(function(){var e=st(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return at(e,r).value[t]}}function bt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function xt(){}var _t=.7,At=1/_t,Tt="\\s*([+-]?\\d+)\\s*",Et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",St=/^#([0-9a-f]{3,8})$/,Ct=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),Nt=new RegExp(`^rgb\\(${kt},${kt},${kt}\\)$`),Mt=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${Et}\\)$`),Ot=new RegExp(`^rgba\\(${kt},${kt},${kt},${Et}\\)$`),Rt=new RegExp(`^hsl\\(${Et},${kt},${kt}\\)$`),It=new RegExp(`^hsla\\(${Et},${kt},${kt},${Et}\\)$`),Lt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Pt(){return this.rgb().formatHex()}function Dt(){return this.rgb().formatRgb()}function Bt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=St.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Ft(t):3===n?new Ut(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?zt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?zt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ct.exec(e))?new Ut(t[1],t[2],t[3],1):(t=Nt.exec(e))?new Ut(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Mt.exec(e))?zt(t[1],t[2],t[3],t[4]):(t=Ot.exec(e))?zt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Rt.exec(e))?qt(t[1],t[2]/100,t[3]/100,1):(t=It.exec(e))?qt(t[1],t[2]/100,t[3]/100,t[4]):Lt.hasOwnProperty(e)?Ft(Lt[e]):"transparent"===e?new Ut(NaN,NaN,NaN,0):null}function Ft(e){return new Ut(e>>16&255,e>>8&255,255&e,1)}function zt(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ut(e,t,n,r)}function $t(e){return e instanceof xt||(e=Bt(e)),e?new Ut((e=e.rgb()).r,e.g,e.b,e.opacity):new Ut}function jt(e,t,n,r){return 1===arguments.length?$t(e):new Ut(e,t,n,null==r?1:r)}function Ut(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Ht(){return`#${Yt(this.r)}${Yt(this.g)}${Yt(this.b)}`}function Gt(){const e=Vt(this.opacity);return`${1===e?"rgb(":"rgba("}${Wt(this.r)}, ${Wt(this.g)}, ${Wt(this.b)}${1===e?")":`, ${e})`}`}function Vt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yt(e){return((e=Wt(e))<16?"0":"")+e.toString(16)}function qt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Kt(e,t,n,r)}function Xt(e){if(e instanceof Kt)return new Kt(e.h,e.s,e.l,e.opacity);if(e instanceof xt||(e=Bt(e)),!e)return new Kt;if(e instanceof Kt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=t===o?(n-r)/a+6*(n<r):n===o?(r-t)/a+2:(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Kt(s,a,l,e.opacity)}function Kt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Zt(e){return(e=(e||0)%360)<0?e+360:e}function Qt(e){return Math.max(0,Math.min(1,e||0))}function Jt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function en(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}bt(xt,Bt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pt,formatHex:Pt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Xt(this).formatHsl()},formatRgb:Dt,toString:Dt}),bt(Ut,jt,wt(xt,{brighter(e){return e=null==e?At:Math.pow(At,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?_t:Math.pow(_t,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ut(Wt(this.r),Wt(this.g),Wt(this.b),Vt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ht,formatHex:Ht,formatHex8:function(){return`#${Yt(this.r)}${Yt(this.g)}${Yt(this.b)}${Yt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Gt,toString:Gt})),bt(Kt,function(e,t,n,r){return 1===arguments.length?Xt(e):new Kt(e,t,n,null==r?1:r)},wt(xt,{brighter(e){return e=null==e?At:Math.pow(At,e),new Kt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?_t:Math.pow(_t,e),new Kt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ut(Jt(e>=240?e-240:e+120,i,r),Jt(e,i,r),Jt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Kt(Zt(this.h),Qt(this.s),Qt(this.l),Vt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vt(this.opacity);return`${1===e?"hsl(":"hsla("}${Zt(this.h)}, ${100*Qt(this.s)}%, ${100*Qt(this.l)}%${1===e?")":`, ${e})`}`}}));const tn=e=>()=>e;function nn(e,t){return function(n){return e+n*t}}function rn(e){return 1===(e=+e)?on:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):tn(isNaN(t)?n:t)}}function on(e,t){var n=t-e;return n?nn(e,n):tn(isNaN(e)?t:e)}const sn=function e(t){var n=rn(t);function r(e,t){var r=n((e=jt(e)).r,(t=jt(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),s=on(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function an(e){return function(t){var n,r,i=t.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=jt(t[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=e(o),s=e(s),a=e(a),r.opacity=1,function(e){return r.r=o(e),r.g=s(e),r.b=a(e),r+""}}}an(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return en((n-r/t)*t,s,i,o,a)}}),an(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return en((n-r/t)*t,i,o,s,a)}});var ln=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cn=new RegExp(ln.source,"g");function un(e,t){var n,r,i,o=ln.lastIndex=cn.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=ln.exec(e))&&(r=cn.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:lt(n,r)})),o=cn.lastIndex;return o<t.length&&(i=t.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function hn(e,t){var n;return("number"==typeof t?lt:t instanceof Bt?sn:(n=Bt(t))?(t=n,sn):un)(e,t)}function dn(e){return function(){this.removeAttribute(e)}}function pn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fn(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function gn(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function mn(e,t,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=t(r=s,l));this.removeAttribute(e)}}function vn(e,t,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function yn(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function bn(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function wn(e,t){return function(){ot(this,e).delay=+t.apply(this,arguments)}}function xn(e,t){return t=+t,function(){ot(this,e).delay=t}}function _n(e,t){return function(){st(this,e).duration=+t.apply(this,arguments)}}function An(e,t){return t=+t,function(){st(this,e).duration=t}}var Tn=Oe.prototype.constructor;function En(e){return function(){this.style.removeProperty(e)}}var kn=0;function Sn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Cn(){return++kn}var Nn=Oe.prototype;Sn.prototype=function(e){return Oe().transition(e)}.prototype={constructor:Sn,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=w(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,l,c=r[s],u=c.length,h=o[s]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=e.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,it(h[d],t,n,d,h,at(a,n)));return new Sn(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=_(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,p=e.call(l,l.__data__,h,c),f=at(l,n),g=0,m=p.length;g<m;++g)(d=p[g])&&it(d,t,n,g,p,f);o.push(p),s.push(l)}return new Sn(o,s,t,n)},selectChild:Nn.selectChild,selectChildren:Nn.selectChildren,filter:function(e){"function"!=typeof e&&(e=T(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new Sn(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l,c=t[a],u=n[a],h=c.length,d=s[a]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(d[p]=l);for(;a<r;++a)s[a]=t[a];return new Sn(s,this._parents,this._name,this._id)},selection:function(){return new Tn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Cn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=at(s,t);it(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Sn(r,this._parents,e,n)},call:Nn.call,nodes:Nn.nodes,node:Nn.node,size:Nn.size,empty:Nn.empty,each:Nn.each,on:function(e,t){var n=this._id;return arguments.length<2?at(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?ot:st;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}(n,e,t))},attr:function(e,t){var n=z(e),r="transform"===n?gt:hn;return this.attrTween(e,"function"==typeof t?(n.local?vn:mn)(n,r,yt(this,"attr."+e,t)):null==t?(n.local?pn:dn)(n):(n.local?gn:fn)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=z(e);return this.tween(n,(r.local?yn:bn)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?ft:hn;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=K(this,e),s=(this.style.removeProperty(e),K(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}(e,r)).on("end.style."+e,En(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var s=K(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=K(this,e)),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}(e,r,yt(this,"style."+e,t))).each(function(e,t){var n,r,i,o,s="style."+t,a="end."+s;return function(){var l=st(this,e),c=l.on,u=null==l.value[s]?o||(o=En(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(a,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var s=K(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(yt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=at(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?mt:vt)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?wn:xn)(t,e)):at(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?_n:An)(t,e)):at(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){st(this,e).ease=t}}(t,e)):at(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;st(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){0===--i&&o()}};n.each(function(){var n=st(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t}),0===i&&o()})},[Symbol.iterator]:Nn[Symbol.iterator]};var Mn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function On(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Oe.prototype.interrupt=function(e){return this.each(function(){!function(e,t){var n,r,i,o=e.__transition,s=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete e.__transition}}(this,e)})},Oe.prototype.transition=function(e){var t,n;e instanceof Sn?(t=e._id,e=e._name):(t=Cn(),(n=Mn).time=qe(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)(s=a[c])&&it(s,e,t,c,a,n||On(s,t));return new Sn(r,this._parents,e,t)};const{abs:Rn,max:In,min:Ln}=Math;function Pn(e){return[+e[0],+e[1]]}function Dn(e){return[Pn(e[0]),Pn(e[1])]}["w","e"].map(Bn),["n","s"].map(Bn),["n","w","e","s","nw","ne","sw","se"].map(Bn);function Bn(e){return{type:e}}function Fn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function zn(e){return(e=Fn(Math.abs(e)))?e[1]:NaN}var $n,jn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Un(e){if(!(t=jn.exec(e)))throw new Error("invalid format: "+e);var t;return new Hn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Hn(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Gn(e,t){var n=Fn(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Un.prototype=Hn.prototype,Hn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Vn={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Gn(100*e,t),r:Gn,s:function(e,t){var n=Fn(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-($n=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Fn(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Wn(e){return e}var Yn,qn,Xn,Kn=Array.prototype.map,Zn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Qn(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Wn:(t=Kn.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(e.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?Wn:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Kn.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=Un(e)).fill,n=e.align,h=e.sign,d=e.symbol,p=e.zero,f=e.width,g=e.comma,m=e.precision,v=e.trim,y=e.type;"n"===y?(g=!0,y="g"):Vn[y]||(void 0===m&&(m=12),v=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?o:/[%p]/.test(y)?l:"",x=Vn[y],_=/[defgprs%]/.test(y);function A(e){var i,o,l,d=b,A=w;if("c"===y)A=x(e)+A,e="";else{var T=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),m),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),T&&0===+e&&"+"!==h&&(T=!1),d=(T?"("===h?h:c:"-"===h||"("===h?"":h)+d,A=("s"===y?Zn[8+$n/3]:"")+A+(T&&"("===h?")":""),_)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){A=(46===l?s+e.slice(i+1):e.slice(i))+A,e=e.slice(0,i);break}}g&&!p&&(e=r(e,1/0));var E=d.length+e.length+A.length,k=E<f?new Array(f-E+1).join(t):"";switch(g&&p&&(e=r(k+e,k.length?f-A.length:1/0),k=""),n){case"<":e=d+e+A+k;break;case"=":e=d+k+e+A;break;case"^":e=k.slice(0,E=k.length>>1)+d+e+A+k.slice(E);break;default:e=k+d+e+A}return a(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),A.toString=function(){return e+""},A}return{format:h,formatPrefix:function(e,t){var n=h(((e=Un(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(zn(t)/3))),i=Math.pow(10,-r),o=Zn[8+r/3];return function(e){return n(i*e)+o}}}}function Jn(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function er(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=nr)):void 0===t&&(t=tr);for(var n,r,i,o,s,a=new or(e),l=[a];n=l.pop();)if((i=t(n.data))&&(s=(i=Array.from(i)).length))for(n.children=i,o=s-1;o>=0;--o)l.push(r=i[o]=new or(i[o])),r.parent=n,r.depth=n.depth+1;return a.eachBefore(ir)}function tr(e){return e.children}function nr(e){return Array.isArray(e)?e[1]:null}function rr(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function ir(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function or(e){this.data=e,this.depth=this.height=0,this.parent=null}function sr(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function ar(e,t,n,r,i){for(var o,s=e.children,a=-1,l=s.length,c=e.value&&(r-t)/e.value;++a<l;)(o=s[a]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*c}function lr(e,t,n,r,i){for(var o,s=e.children,a=-1,l=s.length,c=e.value&&(i-n)/e.value;++a<l;)(o=s[a]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}Yn=Qn({thousands:",",grouping:[3],currency:["$",""]}),qn=Yn.format,Xn=Yn.formatPrefix,or.prototype=er.prototype={constructor:or,count:function(){return this.eachAfter(Jn)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,o=this,s=[o],a=[],l=-1;o=s.pop();)if(a.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)s.push(n[r]);for(;o=a.pop();)e.call(t,o,++l,this);return this},eachBefore:function(e,t){for(var n,r,i=this,o=[i],s=-1;i=o.pop();)if(e.call(t,i,++s,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return er(this).eachBefore(rr)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,o=[i];do{for(e=o.reverse(),o=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n])}while(o.length)}};const cr=function e(t){function n(e,n,r,i,o){!function(e,t,n,r,i,o){for(var s,a,l,c,u,h,d,p,f,g,m,v=[],y=t.children,b=0,w=0,x=y.length,_=t.value;b<x;){l=i-n,c=o-r;do{u=y[w++].value}while(!u&&w<x);for(h=d=u,m=u*u*(g=Math.max(c/l,l/c)/(_*e)),f=Math.max(d/m,m/h);w<x;++w){if(u+=a=y[w].value,a<h&&(h=a),a>d&&(d=a),m=u*u*g,(p=Math.max(d/m,m/h))>f){u-=a;break}f=p}v.push(s={value:u,dice:l<c,children:y.slice(b,w)}),s.dice?ar(s,n,r,i,_?r+=c*u/_:o):lr(s,n,r,_?n+=l*u/_:i,o),_-=u,b=w}}(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}((1+Math.sqrt(5))/2);function ur(e){if("function"!=typeof e)throw new Error;return e}function hr(){return 0}function dr(e){return function(){return e}}function pr(){var e=cr,t=!1,n=1,r=1,i=[0],o=hr,s=hr,a=hr,l=hr,c=hr;function u(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(h),i=[0],t&&e.eachBefore(sr),e}function h(t){var n=i[t.depth],r=t.x0+n,u=t.y0+n,h=t.x1-n,d=t.y1-n;h<r&&(r=h=(r+h)/2),d<u&&(u=d=(u+d)/2),t.x0=r,t.y0=u,t.x1=h,t.y1=d,t.children&&(n=i[t.depth+1]=o(t)/2,r+=c(t)-n,u+=s(t)-n,(h-=a(t)-n)<r&&(r=h=(r+h)/2),(d-=l(t)-n)<u&&(u=d=(u+d)/2),e(t,r,u,h,d))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(n=+e[0],r=+e[1],u):[n,r]},u.tile=function(t){return arguments.length?(e=ur(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(o="function"==typeof e?e:dr(+e),u):o},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(s="function"==typeof e?e:dr(+e),u):s},u.paddingRight=function(e){return arguments.length?(a="function"==typeof e?e:dr(+e),u):a},u.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:dr(+e),u):l},u.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:dr(+e),u):c},u}const fr=Math.PI/180,gr=180/Math.PI,mr=.96422,vr=.82521,yr=4/29,br=6/29,wr=3*br*br,xr=br*br*br;function _r(e){if(e instanceof Ar)return new Ar(e.l,e.a,e.b,e.opacity);if(e instanceof Mr)return Or(e);e instanceof Ut||(e=$t(e));var t,n,r=Sr(e.r),i=Sr(e.g),o=Sr(e.b),s=Tr((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?t=n=s:(t=Tr((.4360747*r+.3850649*i+.1430804*o)/mr),n=Tr((.0139322*r+.0971045*i+.7141733*o)/vr)),new Ar(116*s-16,500*(t-s),200*(s-n),e.opacity)}function Ar(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Tr(e){return e>xr?Math.pow(e,1/3):e/wr+yr}function Er(e){return e>br?e*e*e:wr*(e-yr)}function kr(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Sr(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Cr(e){if(e instanceof Mr)return new Mr(e.h,e.c,e.l,e.opacity);if(e instanceof Ar||(e=_r(e)),0===e.a&&0===e.b)return new Mr(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*gr;return new Mr(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Nr(e,t,n,r){return 1===arguments.length?Cr(e):new Mr(e,t,n,null==r?1:r)}function Mr(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Or(e){if(isNaN(e.h))return new Ar(e.l,0,0,e.opacity);var t=e.h*fr;return new Ar(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Rr(e){return function(t,n){var r=e((t=Nr(t)).h,(n=Nr(n)).h),i=on(t.c,n.c),o=on(t.l,n.l),s=on(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=s(e),t+""}}}bt(Ar,function(e,t,n,r){return 1===arguments.length?_r(e):new Ar(e,t,n,null==r?1:r)},wt(xt,{brighter(e){return new Ar(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new Ar(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Ut(kr(3.1338561*(t=mr*Er(t))-1.6168667*(e=1*Er(e))-.4906146*(n=vr*Er(n))),kr(-.9787684*t+1.9161415*e+.033454*n),kr(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),bt(Mr,Nr,wt(xt,{brighter(e){return new Mr(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new Mr(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return Or(this).rgb()}}));const Ir=Rr(function(e,t){var n=t-e;return n?nn(e,n>180||n<-180?n-360*Math.round(n/360):n):tn(isNaN(e)?t:e)});Rr(on);function Lr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}class Pr extends Map{constructor(e,t=zr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(Dr(this,e))}has(e){return super.has(Dr(this,e))}set(e,t){return super.set(Br(this,e),t)}delete(e){return super.delete(Fr(this,e))}}Set;function Dr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Br({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Fr({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function zr(e){return null!==e&&"object"==typeof e?e.valueOf():e}const $r=Symbol("implicit");function jr(){var e=new Pr,t=[],n=[],r=$r;function i(i){let o=e.get(i);if(void 0===o){if(r!==$r)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Pr;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return jr(t,n).unknown(r)},Lr.apply(i,arguments),i}function Ur(){var e,t,n=jr().unknown(void 0),r=n.domain,i=n.range,o=0,s=1,a=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=s<o,d=h?s:o,p=h?o:s;e=(p-d)/Math.max(1,n-l+2*c),a&&(e=Math.floor(e)),d+=(p-d-e*(n-l))*u,t=e*(1-l),a&&(d=Math.round(d),t=Math.round(t));var f=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map(function(t){return d+e*t});return i(h?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){return arguments.length?([o,s]=e,o=+o,s=+s,h()):[o,s]},n.rangeRound=function(e){return[o,s]=e,o=+o,s=+s,a=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,h()):a},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),h()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),h()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,h()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),h()):u},n.copy=function(){return Ur(r(),[o,s]).round(a).paddingInner(l).paddingOuter(c).align(u)},Lr.apply(h(),arguments)}const Hr=Math.sqrt(50),Gr=Math.sqrt(10),Vr=Math.sqrt(2);function Wr(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Hr?10:o>=Gr?5:o>=Vr?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?Wr(e,t,2*n):[a,l,c]}function Yr(e,t,n){return Wr(e=+e,t=+t,n=+n)[2]}function qr(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Yr(t,e,n):Yr(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Xr(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kr(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zr(e){let t,n,r;function i(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=Xr,n=(t,n)=>Xr(e(t),n),r=(t,n)=>e(t)-n):(t=e===Xr||e===Kr?e:Qr,n=e,r=e),{left:i,center:function(e,t,n=0,o=e.length){const s=i(e,t,n,o-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function Qr(){return 0}const Jr=Zr(Xr),ei=Jr.right,ti=(Jr.left,Zr(function(e){return null===e?NaN:+e}).center,ei);function ni(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=si(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=o[n](e);return s}}function ri(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ii(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=si(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}function oi(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function si(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?tn(t):("number"===i?lt:"string"===i?(n=Bt(t))?(t=n,sn):un:t instanceof Bt?sn:t instanceof Date?ri:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?ni:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?ii:lt:oi))(e,t)}function ai(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function li(e){return+e}var ci=[0,1];function ui(e){return e}function hi(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function di(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=hi(i,r),o=n(s,o)):(r=hi(r,i),o=n(o,s)),function(e){return o(r(e))}}function pi(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=hi(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=ti(e,t,1,r)-1;return o[n](i[n](t))}}function fi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gi(){var e,t,n,r,i,o,s=ci,a=ci,l=si,c=ui;function u(){var e,t,n,l=Math.min(s.length,a.length);return c!==ui&&(e=s[0],t=s[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?pi:di,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),a,l)))(e(c(t)))}return h.invert=function(n){return c(t((o||(o=r(a,s.map(e),lt)))(n)))},h.domain=function(e){return arguments.length?(s=Array.from(e,li),u()):s.slice()},h.range=function(e){return arguments.length?(a=Array.from(e),u()):a.slice()},h.rangeRound=function(e){return a=Array.from(e),l=ai,u()},h.clamp=function(e){return arguments.length?(c=!!e||ui,u()):c!==ui},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,u()}}function mi(){return gi()(ui,ui)}function vi(e,t,n,r){var i,o=qr(e,t,n);switch((r=Un(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(zn(t)/3)))-zn(Math.abs(e)))}(o,s))||(r.precision=i),Xn(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zn(t)-zn(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-zn(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return qn(r)}function yi(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,s]=r?Wr(t,e,n):Wr(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let e=0;e<a;++e)l[e]=(o-e)/-s;else for(let e=0;e<a;++e)l[e]=(o-e)*s;else if(s<0)for(let e=0;e<a;++e)l[e]=(i+e)/-s;else for(let e=0;e<a;++e)l[e]=(i+e)*s;return l}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return vi(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),s=0,a=o.length-1,l=o[s],c=o[a],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=a,a=i);u-- >0;){if((i=Yr(l,c,n))===r)return o[s]=l,o[a]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function bi(){var e=mi();return e.copy=function(){return fi(e,bi())},Lr.apply(e,arguments),yi(e)}const wi=1e3,xi=6e4,_i=36e5,Ai=864e5,Ti=6048e5,Ei=2592e6,ki=31536e6,Si=new Date,Ci=new Date;function Ni(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;let a;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=n=>Ni(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(Si.setTime(+t),Ci.setTime(+r),e(Si),e(Ci),Math.floor(n(Si,Ci))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Mi=Ni(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Mi.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Ni(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Mi:null);Mi.range;const Oi=Ni(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCSeconds()),Ri=(Oi.range,Ni(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi)},(e,t)=>{e.setTime(+e+t*xi)},(e,t)=>(t-e)/xi,e=>e.getMinutes())),Ii=(Ri.range,Ni(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xi)},(e,t)=>(t-e)/xi,e=>e.getUTCMinutes())),Li=(Ii.range,Ni(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi-e.getMinutes()*xi)},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getHours())),Pi=(Li.range,Ni(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getUTCHours())),Di=(Pi.range,Ni(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xi)/Ai,e=>e.getDate()-1)),Bi=(Di.range,Ni(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ai,e=>e.getUTCDate()-1)),Fi=(Bi.range,Ni(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ai,e=>Math.floor(e/Ai)));Fi.range;function zi(e){return Ni(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xi)/Ti)}const $i=zi(0),ji=zi(1),Ui=zi(2),Hi=zi(3),Gi=zi(4),Vi=zi(5),Wi=zi(6);$i.range,ji.range,Ui.range,Hi.range,Gi.range,Vi.range,Wi.range;function Yi(e){return Ni(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Ti)}const qi=Yi(0),Xi=Yi(1),Ki=Yi(2),Zi=Yi(3),Qi=Yi(4),Ji=Yi(5),eo=Yi(6),to=(qi.range,Xi.range,Ki.range,Zi.range,Qi.range,Ji.range,eo.range,Ni(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),no=(to.range,Ni(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),ro=(no.range,Ni(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));ro.every=e=>isFinite(e=Math.floor(e))&&e>0?Ni(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;ro.range;const io=Ni(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());io.every=e=>isFinite(e=Math.floor(e))&&e>0?Ni(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;io.range;function oo(e,t,n,r,i,o){const s=[[Oi,1,wi],[Oi,5,5e3],[Oi,15,15e3],[Oi,30,3e4],[o,1,xi],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,_i],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Ai],[r,2,1728e5],[n,1,Ti],[t,1,Ei],[t,3,7776e6],[e,1,ki]];function a(t,n,r){const i=Math.abs(n-t)/r,o=Zr(([,,e])=>e).right(s,i);if(o===s.length)return e.every(qr(t/ki,n/ki,r));if(0===o)return Mi.every(Math.max(qr(t,n,r),1));const[a,l]=s[i/s[o-1][2]<s[o][2]/i?o-1:o];return a.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:a(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},a]}const[so,ao]=oo(io,no,qi,Fi,Pi,Ii),[lo,co]=oo(ro,to,$i,Di,Li,Ri);function uo(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ho(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function po(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var fo,go,mo={"-":"",_:" ",0:"0"},vo=/^\s*\d+/,yo=/^%/,bo=/[\\^$*+?|[\]().{}]/g;function wo(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function xo(e){return e.replace(bo,"\\$&")}function _o(e){return new RegExp("^(?:"+e.map(xo).join("|")+")","i")}function Ao(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function To(e,t,n){var r=vo.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Eo(e,t,n){var r=vo.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ko(e,t,n){var r=vo.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function So(e,t,n){var r=vo.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Co(e,t,n){var r=vo.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function No(e,t,n){var r=vo.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Mo(e,t,n){var r=vo.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Oo(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ro(e,t,n){var r=vo.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Io(e,t,n){var r=vo.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Lo(e,t,n){var r=vo.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Po(e,t,n){var r=vo.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Do(e,t,n){var r=vo.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Bo(e,t,n){var r=vo.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Fo(e,t,n){var r=vo.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function zo(e,t,n){var r=vo.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function $o(e,t,n){var r=vo.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jo(e,t,n){var r=yo.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Uo(e,t,n){var r=vo.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ho(e,t,n){var r=vo.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Go(e,t){return wo(e.getDate(),t,2)}function Vo(e,t){return wo(e.getHours(),t,2)}function Wo(e,t){return wo(e.getHours()%12||12,t,2)}function Yo(e,t){return wo(1+Di.count(ro(e),e),t,3)}function qo(e,t){return wo(e.getMilliseconds(),t,3)}function Xo(e,t){return qo(e,t)+"000"}function Ko(e,t){return wo(e.getMonth()+1,t,2)}function Zo(e,t){return wo(e.getMinutes(),t,2)}function Qo(e,t){return wo(e.getSeconds(),t,2)}function Jo(e){var t=e.getDay();return 0===t?7:t}function es(e,t){return wo($i.count(ro(e)-1,e),t,2)}function ts(e){var t=e.getDay();return t>=4||0===t?Gi(e):Gi.ceil(e)}function ns(e,t){return e=ts(e),wo(Gi.count(ro(e),e)+(4===ro(e).getDay()),t,2)}function rs(e){return e.getDay()}function is(e,t){return wo(ji.count(ro(e)-1,e),t,2)}function os(e,t){return wo(e.getFullYear()%100,t,2)}function ss(e,t){return wo((e=ts(e)).getFullYear()%100,t,2)}function as(e,t){return wo(e.getFullYear()%1e4,t,4)}function ls(e,t){var n=e.getDay();return wo((e=n>=4||0===n?Gi(e):Gi.ceil(e)).getFullYear()%1e4,t,4)}function cs(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wo(t/60|0,"0",2)+wo(t%60,"0",2)}function us(e,t){return wo(e.getUTCDate(),t,2)}function hs(e,t){return wo(e.getUTCHours(),t,2)}function ds(e,t){return wo(e.getUTCHours()%12||12,t,2)}function ps(e,t){return wo(1+Bi.count(io(e),e),t,3)}function fs(e,t){return wo(e.getUTCMilliseconds(),t,3)}function gs(e,t){return fs(e,t)+"000"}function ms(e,t){return wo(e.getUTCMonth()+1,t,2)}function vs(e,t){return wo(e.getUTCMinutes(),t,2)}function ys(e,t){return wo(e.getUTCSeconds(),t,2)}function bs(e){var t=e.getUTCDay();return 0===t?7:t}function ws(e,t){return wo(qi.count(io(e)-1,e),t,2)}function xs(e){var t=e.getUTCDay();return t>=4||0===t?Qi(e):Qi.ceil(e)}function _s(e,t){return e=xs(e),wo(Qi.count(io(e),e)+(4===io(e).getUTCDay()),t,2)}function As(e){return e.getUTCDay()}function Ts(e,t){return wo(Xi.count(io(e)-1,e),t,2)}function Es(e,t){return wo(e.getUTCFullYear()%100,t,2)}function ks(e,t){return wo((e=xs(e)).getUTCFullYear()%100,t,2)}function Ss(e,t){return wo(e.getUTCFullYear()%1e4,t,4)}function Cs(e,t){var n=e.getUTCDay();return wo((e=n>=4||0===n?Qi(e):Qi.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ns(){return"+0000"}function Ms(){return"%"}function Os(e){return+e}function Rs(e){return Math.floor(+e/1e3)}function Is(e){return new Date(e)}function Ls(e){return e instanceof Date?+e:+new Date(+e)}function Ps(e,t,n,r,i,o,s,a,l,c){var u=mi(),h=u.invert,d=u.domain,p=c(".%L"),f=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),w=c("%Y");function x(e){return(l(e)<e?p:a(e)<e?f:s(e)<e?g:o(e)<e?m:r(e)<e?i(e)<e?v:y:n(e)<e?b:w)(e)}return u.invert=function(e){return new Date(h(e))},u.domain=function(e){return arguments.length?d(Array.from(e,Ls)):d().map(Is)},u.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var n=d();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],s=e[i];return s<o&&(n=r,r=i,i=n,n=o,o=s,s=n),e[r]=t.floor(o),e[i]=t.ceil(s),e}(n,e)):u},u.copy=function(){return fi(u,Ps(e,t,n,r,i,o,s,a,l,c))},u}function Ds(){return Lr.apply(Ps(lo,co,ro,to,$i,Di,Li,Ri,Oi,go).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}!function(e){fo=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=_o(i),u=Ao(i),h=_o(o),d=Ao(o),p=_o(s),f=Ao(s),g=_o(a),m=Ao(a),v=_o(l),y=Ao(l),b={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:Go,e:Go,f:Xo,g:ss,G:ls,H:Vo,I:Wo,j:Yo,L:qo,m:Ko,M:Zo,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Os,s:Rs,S:Qo,u:Jo,U:es,V:ns,w:rs,W:is,x:null,X:null,y:os,Y:as,Z:cs,"%":Ms},w={a:function(e){return s[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:us,e:us,f:gs,g:ks,G:Cs,H:hs,I:ds,j:ps,L:fs,m:ms,M:vs,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Os,s:Rs,S:ys,u:bs,U:ws,V:_s,w:As,W:Ts,x:null,X:null,y:Es,Y:Ss,Z:Ns,"%":Ms},x={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return T(e,t,n,r)},d:Lo,e:Lo,f:$o,g:Mo,G:No,H:Do,I:Do,j:Po,L:zo,m:Io,M:Bo,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Ro,Q:Uo,s:Ho,S:Fo,u:Eo,U:ko,V:So,w:To,W:Co,x:function(e,t,r){return T(e,n,t,r)},X:function(e,t,n){return T(e,r,t,n)},y:Mo,Y:No,Z:Oo,"%":jo};function _(e,t){return function(n){var r,i,o,s=[],a=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===e.charCodeAt(a)&&(s.push(e.slice(l,a)),null!=(i=mo[r=e.charAt(++a)])?r=e.charAt(++a):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),s.push(r),l=a+1);return s.push(e.slice(l,a)),s.join("")}}function A(e,t){return function(n){var r,i,o=po(1900,void 0,1);if(T(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ho(po(o.y,0,1))).getUTCDay(),r=i>4||0===i?Xi.ceil(r):Xi(r),r=Bi.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=uo(po(o.y,0,1))).getDay(),r=i>4||0===i?ji.ceil(r):ji(r),r=Di.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ho(po(o.y,0,1)).getUTCDay():uo(po(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ho(o)):uo(o)}}function T(e,t,n,r){for(var i,o,s=0,a=t.length,l=n.length;s<a;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(o=x[i in mo?t.charAt(s++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),w.x=_(n,w),w.X=_(r,w),w.c=_(t,w),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=A(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=A(e+="",!0);return t.toString=function(){return e},t}}}(e),go=fo.format,fo.parse,fo.utcFormat,fo.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Bs=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Fs(e){return"string"==typeof e?new Ne([[document.querySelector(e)]],[document.documentElement]):new Ne([[e]],Ce)}function zs(e){return function(){return e}}const $s=Math.abs,js=Math.atan2,Us=Math.cos,Hs=Math.max,Gs=Math.min,Vs=Math.sin,Ws=Math.sqrt,Ys=1e-12,qs=Math.PI,Xs=qs/2,Ks=2*qs;function Zs(e){return e>=1?Xs:e<=-1?-Xs:Math.asin(e)}const Qs=Math.PI,Js=2*Qs,ea=1e-6,ta=Js-ea;function na(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class ra{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?na:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return na;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,a=n-e,l=r-t,c=o-e,u=s-t,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(h>ea)if(Math.abs(u*a-l*c)>ea&&i){let d=n-o,p=r-s,f=a*a+l*l,g=d*d+p*p,m=Math.sqrt(f),v=Math.sqrt(h),y=i*Math.tan((Qs-Math.acos((f+h-g)/(2*m*v)))/2),b=y/v,w=y/m;Math.abs(b-1)>ea&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*d>c*p)},${this._x1=e+w*a},${this._y1=t+w*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),a=n*Math.sin(r),l=e+s,c=t+a,u=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>ea||Math.abs(this._y1-c)>ea)&&this._append`L${l},${c}`,n&&(h<0&&(h=h%Js+Js),h>ta?this._append`A${n},${n},0,1,${u},${e-s},${t-a}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:h>ea&&this._append`A${n},${n},0,${+(h>=Qs)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function ia(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new ra(t)}function oa(e){return e.innerRadius}function sa(e){return e.outerRadius}function aa(e){return e.startAngle}function la(e){return e.endAngle}function ca(e){return e&&e.padAngle}function ua(e,t,n,r,i,o,s){var a=e-n,l=t-r,c=(s?o:-o)/Ws(a*a+l*l),u=c*l,h=-c*a,d=e+u,p=t+h,f=n+u,g=r+h,m=(d+f)/2,v=(p+g)/2,y=f-d,b=g-p,w=y*y+b*b,x=i-o,_=d*g-f*p,A=(b<0?-1:1)*Ws(Hs(0,x*x*w-_*_)),T=(_*b-y*A)/w,E=(-_*y-b*A)/w,k=(_*b+y*A)/w,S=(-_*y+b*A)/w,C=T-m,N=E-v,M=k-m,O=S-v;return C*C+N*N>M*M+O*O&&(T=k,E=S),{cx:T,cy:E,x01:-u,y01:-h,x11:T*(i/x-1),y11:E*(i/x-1)}}function ha(){var e=oa,t=sa,n=zs(0),r=null,i=aa,o=la,s=ca,a=null,l=ia(c);function c(){var c,u,h,d=+e.apply(this,arguments),p=+t.apply(this,arguments),f=i.apply(this,arguments)-Xs,g=o.apply(this,arguments)-Xs,m=$s(g-f),v=g>f;if(a||(a=c=l()),p<d&&(u=p,p=d,d=u),p>Ys)if(m>Ks-Ys)a.moveTo(p*Us(f),p*Vs(f)),a.arc(0,0,p,f,g,!v),d>Ys&&(a.moveTo(d*Us(g),d*Vs(g)),a.arc(0,0,d,g,f,v));else{var y,b,w=f,x=g,_=f,A=g,T=m,E=m,k=s.apply(this,arguments)/2,S=k>Ys&&(r?+r.apply(this,arguments):Ws(d*d+p*p)),C=Gs($s(p-d)/2,+n.apply(this,arguments)),N=C,M=C;if(S>Ys){var O=Zs(S/d*Vs(k)),R=Zs(S/p*Vs(k));(T-=2*O)>Ys?(_+=O*=v?1:-1,A-=O):(T=0,_=A=(f+g)/2),(E-=2*R)>Ys?(w+=R*=v?1:-1,x-=R):(E=0,w=x=(f+g)/2)}var I=p*Us(w),L=p*Vs(w),P=d*Us(A),D=d*Vs(A);if(C>Ys){var B,F=p*Us(x),z=p*Vs(x),$=d*Us(_),j=d*Vs(_);if(m<qs)if(B=function(e,t,n,r,i,o,s,a){var l=n-e,c=r-t,u=s-i,h=a-o,d=h*l-u*c;if(!(d*d<Ys))return[e+(d=(u*(t-o)-h*(e-i))/d)*l,t+d*c]}(I,L,$,j,F,z,P,D)){var U=I-B[0],H=L-B[1],G=F-B[0],V=z-B[1],W=1/Vs(((h=(U*G+H*V)/(Ws(U*U+H*H)*Ws(G*G+V*V)))>1?0:h<-1?qs:Math.acos(h))/2),Y=Ws(B[0]*B[0]+B[1]*B[1]);N=Gs(C,(d-Y)/(W-1)),M=Gs(C,(p-Y)/(W+1))}else N=M=0}E>Ys?M>Ys?(y=ua($,j,I,L,p,M,v),b=ua(F,z,P,D,p,M,v),a.moveTo(y.cx+y.x01,y.cy+y.y01),M<C?a.arc(y.cx,y.cy,M,js(y.y01,y.x01),js(b.y01,b.x01),!v):(a.arc(y.cx,y.cy,M,js(y.y01,y.x01),js(y.y11,y.x11),!v),a.arc(0,0,p,js(y.cy+y.y11,y.cx+y.x11),js(b.cy+b.y11,b.cx+b.x11),!v),a.arc(b.cx,b.cy,M,js(b.y11,b.x11),js(b.y01,b.x01),!v))):(a.moveTo(I,L),a.arc(0,0,p,w,x,!v)):a.moveTo(I,L),d>Ys&&T>Ys?N>Ys?(y=ua(P,D,F,z,d,-N,v),b=ua(I,L,$,j,d,-N,v),a.lineTo(y.cx+y.x01,y.cy+y.y01),N<C?a.arc(y.cx,y.cy,N,js(y.y01,y.x01),js(b.y01,b.x01),!v):(a.arc(y.cx,y.cy,N,js(y.y01,y.x01),js(y.y11,y.x11),!v),a.arc(0,0,d,js(y.cy+y.y11,y.cx+y.x11),js(b.cy+b.y11,b.cx+b.x11),v),a.arc(b.cx,b.cy,N,js(b.y11,b.x11),js(b.y01,b.x01),!v))):a.arc(0,0,d,A,_,v):a.lineTo(P,D)}else a.moveTo(0,0);if(a.closePath(),c)return a=null,c+""||null}return c.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-qs/2;return[Us(r)*n,Vs(r)*n]},c.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:zs(+t),c):e},c.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:zs(+e),c):t},c.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:zs(+e),c):n},c.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:zs(+e),c):r},c.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:zs(+e),c):i},c.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:zs(+e),c):o},c.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:zs(+e),c):s},c.context=function(e){return arguments.length?(a=null==e?null:e,c):a},c}ra.prototype;Array.prototype.slice;function da(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function pa(e){this._context=e}function fa(e){return new pa(e)}function ga(e){return e[0]}function ma(e){return e[1]}function va(e,t){var n=zs(!0),r=null,i=fa,o=null,s=ia(a);function a(a){var l,c,u,h=(a=da(a)).length,d=!1;for(null==r&&(o=i(u=s())),l=0;l<=h;++l)!(l<h&&n(c=a[l],l,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(c,l,a),+t(c,l,a));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?ga:zs(e),t="function"==typeof t?t:void 0===t?ma:zs(t),a.x=function(t){return arguments.length?(e="function"==typeof t?t:zs(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:zs(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:zs(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}function ya(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function ba(e){return e}function wa(){var e=ba,t=ya,n=null,r=zs(0),i=zs(Ks),o=zs(0);function s(s){var a,l,c,u,h,d=(s=da(s)).length,p=0,f=new Array(d),g=new Array(d),m=+r.apply(this,arguments),v=Math.min(Ks,Math.max(-Ks,i.apply(this,arguments)-m)),y=Math.min(Math.abs(v)/d,o.apply(this,arguments)),b=y*(v<0?-1:1);for(a=0;a<d;++a)(h=g[f[a]=a]=+e(s[a],a,s))>0&&(p+=h);for(null!=t?f.sort(function(e,n){return t(g[e],g[n])}):null!=n&&f.sort(function(e,t){return n(s[e],s[t])}),a=0,c=p?(v-d*b)/p:0;a<d;++a,m=u)l=f[a],u=m+((h=g[l])>0?h*c:0)+b,g[l]={data:s[l],index:a,value:h,startAngle:m,endAngle:u,padAngle:y};return g}return s.value=function(t){return arguments.length?(e="function"==typeof t?t:zs(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,n=null,s):t},s.sort=function(e){return arguments.length?(n=e,t=null,s):n},s.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:zs(+e),s):r},s.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:zs(+e),s):i},s.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:zs(+e),s):o},s}function xa(){}function _a(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Aa(e){this._context=e}function Ta(e){return new Aa(e)}function Ea(e){this._context=e}function ka(e){return new Ea(e)}function Sa(e){this._context=e}function Ca(e){return new Sa(e)}pa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_a(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_a(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ea.prototype={areaStart:xa,areaEnd:xa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_a(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_a(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Na{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Ma(e){return new Na(e,!0)}function Oa(e){return new Na(e,!1)}function Ra(e,t){this._basis=new Aa(e),this._beta=t}Ra.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],s=e[n]-i,a=t[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*s),this._beta*t[l]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Ia=function e(t){function n(e){return 1===t?new Aa(e):new Ra(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function La(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Pa(e,t){this._context=e,this._k=(1-t)/6}Pa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:La(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:La(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Da=function e(t){function n(e){return new Pa(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ba(e,t){this._context=e,this._k=(1-t)/6}Ba.prototype={areaStart:xa,areaEnd:xa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:La(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Fa=function e(t){function n(e){return new Ba(e,t)}return n.tension=function(t){return e(+t)},n}(0);function za(e,t){this._context=e,this._k=(1-t)/6}za.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:La(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const $a=function e(t){function n(e){return new za(e,t)}return n.tension=function(t){return e(+t)},n}(0);function ja(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>Ys){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Ys){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function Ua(e,t){this._context=e,this._alpha=t}Ua.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ja(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ha=function e(t){function n(e){return t?new Ua(e,t):new Pa(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ga(e,t){this._context=e,this._alpha=t}Ga.prototype={areaStart:xa,areaEnd:xa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ja(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Va=function e(t){function n(e){return t?new Ga(e,t):new Ba(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Wa(e,t){this._context=e,this._alpha=t}Wa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ja(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ya=function e(t){function n(e){return t?new Wa(e,t):new za(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function qa(e){this._context=e}function Xa(e){return new qa(e)}function Ka(e){return e<0?-1:1}function Za(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(Ka(o)+Ka(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Qa(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ja(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function el(e){this._context=e}function tl(e){this._context=new nl(e)}function nl(e){this._context=e}function rl(e){return new el(e)}function il(e){return new tl(e)}function ol(e){this._context=e}function sl(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function al(e){return new ol(e)}function ll(e,t){this._context=e,this._t=t}function cl(e){return new ll(e,.5)}function ul(e){return new ll(e,0)}function hl(e){return new ll(e,1)}function dl(e,t,n){this.k=e,this.x=t,this.y=n}qa.prototype={areaStart:xa,areaEnd:xa,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},el.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ja(this,this._t0,Qa(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ja(this,Qa(this,n=Za(this,e,t)),n);break;default:Ja(this,this._t0,n=Za(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(tl.prototype=Object.create(el.prototype)).point=function(e,t){el.prototype.point.call(this,t,e)},nl.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},ol.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=sl(e),i=sl(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},ll.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}},dl.prototype={constructor:dl,scale:function(e){return 1===e?this:new dl(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new dl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new dl(1,0,0);dl.prototype},1452:(e,t,n)=>{"use strict";n.d(t,{p:()=>u});var r=n(3315);const i=Object.freeze({width:null,height:null}),o=Object.freeze({...i,...r.xj}),s=/(-?[0-9.]*[0-9]+[0-9.]*)/g,a=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function l(e,t,n){if(1===t)return e;if(n=n||100,"number"==typeof e)return Math.ceil(e*t*n)/n;if("string"!=typeof e)return e;const r=e.split(s);if(null===r||!r.length)return e;const i=[];let o=r.shift(),l=a.test(o);for(;;){if(l){const e=parseFloat(o);isNaN(e)?i.push(o):i.push(Math.ceil(e*t*n)/n)}else i.push(o);if(o=r.shift(),void 0===o)return i.join("");l=!l}}const c=e=>"unset"===e||"undefined"===e||"none"===e;function u(e,t){const n={...r.Xs,...e},i={...o,...t},s={left:n.left,top:n.top,width:n.width,height:n.height};let a=n.body;[n,i].forEach(e=>{const t=[],n=e.hFlip,r=e.vFlip;let i,o=e.rotate;switch(n?r?o+=2:(t.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),t.push("scale(-1 1)"),s.top=s.left=0):r&&(t.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),t.push("scale(1 -1)"),s.top=s.left=0),o<0&&(o-=4*Math.floor(o/4)),o%=4,o){case 1:i=s.height/2+s.top,t.unshift("rotate(90 "+i.toString()+" "+i.toString()+")");break;case 2:t.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:i=s.width/2+s.left,t.unshift("rotate(-90 "+i.toString()+" "+i.toString()+")")}o%2==1&&(s.left!==s.top&&(i=s.left,s.left=s.top,s.top=i),s.width!==s.height&&(i=s.width,s.width=s.height,s.height=i)),t.length&&(a=function(e,t,n){const r=function(e,t="defs"){let n="";const r=e.indexOf("<"+t);for(;r>=0;){const i=e.indexOf(">",r),o=e.indexOf("</"+t);if(-1===i||-1===o)break;const s=e.indexOf(">",o);if(-1===s)break;n+=e.slice(i+1,o).trim(),e=e.slice(0,r).trim()+e.slice(s+1)}return{defs:n,content:e}}(e);return i=r.defs,o=t+r.content+n,i?"<defs>"+i+"</defs>"+o:o;var i,o}(a,'<g transform="'+t.join(" ")+'">',"</g>"))});const u=i.width,h=i.height,d=s.width,p=s.height;let f,g;null===u?(g=null===h?"1em":"auto"===h?p:h,f=l(g,d/p)):(f="auto"===u?d:u,g=null===h?l(f,p/d):"auto"===h?p:h);const m={},v=(e,t)=>{c(t)||(m[e]=t.toString())};v("width",f),v("height",g);const y=[s.left,s.top,d,p];return m.viewBox=y.join(" "),{attributes:m,viewBox:y,body:a}}},1471:(e,t,n)=>{"use strict";n.d(t,{T:()=>y});var r=n(9142),i=n(9610),o=n(7422),s=n(4092),a=n(6401),l=n(8058),c=n(9592),u=n(7671),h=n(4326),d=n(7371),p=n(3533);const f=(0,h.A)(function(e){return(0,d.A)((0,u.A)(e,1,p.A,!0))});var g=n(2866),m=n(3130),v="\0";class y{constructor(e={}){this._isDirected=!Object.prototype.hasOwnProperty.call(e,"directed")||e.directed,this._isMultigraph=!!Object.prototype.hasOwnProperty.call(e,"multigraph")&&e.multigraph,this._isCompound=!!Object.prototype.hasOwnProperty.call(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.A(void 0),this._defaultEdgeLabelFn=r.A(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[v]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return i.A(e)||(e=r.A(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return o.A(this._nodes)}sources(){var e=this;return s.A(this.nodes(),function(t){return a.A(e._in[t])})}sinks(){var e=this;return s.A(this.nodes(),function(t){return a.A(e._out[t])})}setNodes(e,t){var n=arguments,r=this;return l.A(e,function(e){n.length>1?r.setNode(e,t):r.setNode(e)}),this}setNode(e,t){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=v,this._children[e]={},this._children[v][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var t=e=>this.removeEdge(this._edgeObjs[e]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],l.A(this.children(e),e=>{this.setParent(e)}),delete this._children[e]),l.A(o.A(this._in[e]),t),delete this._in[e],delete this._preds[e],l.A(o.A(this._out[e]),t),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(c.A(t))t=v;else{for(var n=t+="";!c.A(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==v)return t}}children(e){if(c.A(e)&&(e=v),this._isCompound){var t=this._children[e];if(t)return o.A(t)}else{if(e===v)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var t=this._preds[e];if(t)return o.A(t)}successors(e){var t=this._sucs[e];if(t)return o.A(t)}neighbors(e){var t=this.predecessors(e);if(t)return f(t,this.successors(e))}isLeaf(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;l.A(this._nodes,function(n,r){e(r)&&t.setNode(r,n)}),l.A(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var r={};function i(e){var o=n.parent(e);return void 0===o||t.hasNode(o)?(r[e]=o,o):o in r?r[o]:i(o)}return this._isCompound&&l.A(t.nodes(),function(e){t.setParent(e,i(e))}),t}setDefaultEdgeLabel(e){return i.A(e)||(e=r.A(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return g.A(this._edgeObjs)}setPath(e,t){var n=this,r=arguments;return m.A(e,function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i}),this}setEdge(){var e,t,n,r,i=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(e=o.v,t=o.w,n=o.name,2===arguments.length&&(r=arguments[1],i=!0)):(e=o,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=""+e,t=""+t,c.A(n)||(n=""+n);var s=x(this._isDirected,e,t,n);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,s))return i&&(this._edgeLabels[s]=r),this;if(!c.A(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[s]=i?r:this._defaultEdgeLabelFn(e,t,n);var a=function(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var s=i;i=o,o=s}var a={v:i,w:o};r&&(a.name=r);return a}(this._isDirected,e,t,n);return e=a.v,t=a.w,Object.freeze(a),this._edgeObjs[s]=a,b(this._preds[t],e),b(this._sucs[e],t),this._in[t][s]=a,this._out[e][s]=a,this._edgeCount++,this}edge(e,t,n){var r=1===arguments.length?_(this._isDirected,arguments[0]):x(this._isDirected,e,t,n);return this._edgeLabels[r]}hasEdge(e,t,n){var r=1===arguments.length?_(this._isDirected,arguments[0]):x(this._isDirected,e,t,n);return Object.prototype.hasOwnProperty.call(this._edgeLabels,r)}removeEdge(e,t,n){var r=1===arguments.length?_(this._isDirected,arguments[0]):x(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],w(this._preds[t],e),w(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this}inEdges(e,t){var n=this._in[e];if(n){var r=g.A(n);return t?s.A(r,function(e){return e.v===t}):r}}outEdges(e,t){var n=this._out[e];if(n){var r=g.A(n);return t?s.A(r,function(e){return e.w===t}):r}}nodeEdges(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}}function b(e,t){e[t]?e[t]++:e[t]=1}function w(e,t){--e[t]||delete e[t]}function x(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var s=i;i=o,o=s}return i+""+o+""+(c.A(r)?"\0":r)}function _(e,t){return x(e,t.v,t.w,t.name)}y.prototype._nodeCount=0,y.prototype._edgeCount=0},1521:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(2049),i=n(6586),o=n(6632);var s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g;const l=function(e){var t=(0,o.A)(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(s,function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)}),t});var c=n(3456);const u=function(e,t){return(0,r.A)(e)?e:(0,i.A)(e,t)?[e]:l((0,c.A)(e))}},1564:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,d:()=>i});class r extends Error{constructor(e,t){super(e?`${t} at ${e.range.start.line}:${e.range.start.character}`:t)}}function i(e){throw new Error("Error! The input value was not handled.")}},1709:function(e,t,n){var r;r=function(e){return(()=>{"use strict";var t={45:(e,t,n)=>{var r={};r.layoutBase=n(551),r.CoSEConstants=n(806),r.CoSEEdge=n(767),r.CoSEGraph=n(880),r.CoSEGraphManager=n(578),r.CoSELayout=n(765),r.CoSENode=n(991),r.ConstraintHandler=n(902),e.exports=r},806:(e,t,n)=>{var r=n(551).FDLayoutConstants;function i(){}for(var o in r)i[o]=r[o];i.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,i.DEFAULT_RADIAL_SEPARATION=r.DEFAULT_EDGE_LENGTH,i.DEFAULT_COMPONENT_SEPERATION=60,i.TILE=!0,i.TILING_PADDING_VERTICAL=10,i.TILING_PADDING_HORIZONTAL=10,i.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,i.ENFORCE_CONSTRAINTS=!0,i.APPLY_LAYOUT=!0,i.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,i.TREE_REDUCTION_ON_INCREMENTAL=!0,i.PURE_INCREMENTAL=i.DEFAULT_INCREMENTAL,e.exports=i},767:(e,t,n)=>{var r=n(551).FDLayoutEdge;function i(e,t,n){r.call(this,e,t,n)}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];e.exports=i},880:(e,t,n)=>{var r=n(551).LGraph;function i(e,t,n){r.call(this,e,t,n)}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];e.exports=i},578:(e,t,n)=>{var r=n(551).LGraphManager;function i(e){r.call(this,e)}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];e.exports=i},765:(e,t,n)=>{var r=n(551).FDLayout,i=n(578),o=n(880),s=n(991),a=n(767),l=n(806),c=n(902),u=n(551).FDLayoutConstants,h=n(551).LayoutConstants,d=n(551).Point,p=n(551).PointD,f=n(551).DimensionD,g=n(551).Layout,m=n(551).Integer,v=n(551).IGeometry,y=n(551).LGraph,b=n(551).Transform,w=n(551).LinkedList;function x(){r.call(this),this.toBeTiled={},this.constraints={}}for(var _ in x.prototype=Object.create(r.prototype),r)x[_]=r[_];x.prototype.newGraphManager=function(){var e=new i(this);return this.graphManager=e,e},x.prototype.newGraph=function(e){return new o(null,this.graphManager,e)},x.prototype.newNode=function(e){return new s(this.graphManager,e)},x.prototype.newEdge=function(e){return new a(null,null,e)},x.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.isSubLayout||(l.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=l.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=u.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=u.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=u.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},x.prototype.initSpringEmbedder=function(){r.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/u.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},x.prototype.layout=function(){return h.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},x.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)l.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),t=new Set(this.getAllNodes()),n=this.nodesWithGravity.filter(function(e){return t.has(e)}),this.graphManager.setAllNodesToApplyGravitation(n));else{var e=this.getFlatForest();if(e.length>0)this.positionNodesRadially(e);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),n=this.nodesWithGravity.filter(function(e){return t.has(e)});this.graphManager.setAllNodesToApplyGravitation(n),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(c.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),l.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},x.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%u.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter(function(t){return e.has(t)});this.graphManager.setAllNodesToApplyGravitation(t),this.graphManager.updateBounds(),this.updateGrid(),l.PURE_INCREMENTAL?this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),l.PURE_INCREMENTAL?this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var n=!this.isTreeGrowing&&!this.isGrowthFinished,r=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(n,r),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},x.prototype.getPositionsData=function(){for(var e=this.graphManager.getAllNodes(),t={},n=0;n<e.length;n++){var r=e[n].rect,i=e[n].id;t[i]={id:i,x:r.getCenterX(),y:r.getCenterY(),w:r.width,h:r.height}}return t},x.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var e=!1;if("during"===u.ANIMATE)this.emit("layoutstarted");else{for(;!e;)e=this.tick();this.graphManager.updateBounds()}},x.prototype.moveNodes=function(){for(var e=this.getAllNodes(),t=0;t<e.length;t++)e[t].calculateDisplacement();for(Object.keys(this.constraints).length>0&&this.updateDisplacements(),t=0;t<e.length;t++)e[t].move()},x.prototype.initConstraintVariables=function(){var e=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var t=this.graphManager.getAllNodes(),n=0;n<t.length;n++){var r=t[n];this.idToNodeMap.set(r.id,r)}var i=function t(n){for(var r,i=n.getChild().getNodes(),o=0,s=0;s<i.length;s++)null==(r=i[s]).getChild()?e.fixedNodeSet.has(r.id)&&(o+=100):o+=t(r);return o};if(this.constraints.fixedNodeConstraint)for(this.constraints.fixedNodeConstraint.forEach(function(t){e.fixedNodeSet.add(t.nodeId)}),t=this.graphManager.getAllNodes(),n=0;n<t.length;n++)if(null!=(r=t[n]).getChild()){var o=i(r);o>0&&(r.fixedNodeWeight=o)}if(this.constraints.relativePlacementConstraint){var s=new Map,a=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(t){e.fixedNodesOnHorizontal.add(t),e.fixedNodesOnVertical.add(t)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var c=this.constraints.alignmentConstraint.vertical;for(n=0;n<c.length;n++)this.dummyToNodeForVerticalAlignment.set("dummy"+n,[]),c[n].forEach(function(t){s.set(t,"dummy"+n),e.dummyToNodeForVerticalAlignment.get("dummy"+n).push(t),e.fixedNodeSet.has(t)&&e.fixedNodesOnHorizontal.add("dummy"+n)})}if(this.constraints.alignmentConstraint.horizontal){var u=this.constraints.alignmentConstraint.horizontal;for(n=0;n<u.length;n++)this.dummyToNodeForHorizontalAlignment.set("dummy"+n,[]),u[n].forEach(function(t){a.set(t,"dummy"+n),e.dummyToNodeForHorizontalAlignment.get("dummy"+n).push(t),e.fixedNodeSet.has(t)&&e.fixedNodesOnVertical.add("dummy"+n)})}}if(l.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(e){var t,n,r;for(r=e.length-1;r>=2*e.length/3;r--)t=Math.floor(Math.random()*(r+1)),n=e[r],e[r]=e[t],e[t]=n;return e},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(t){if(t.left){var n=s.has(t.left)?s.get(t.left):t.left,r=s.has(t.right)?s.get(t.right):t.right;e.nodesInRelativeHorizontal.includes(n)||(e.nodesInRelativeHorizontal.push(n),e.nodeToRelativeConstraintMapHorizontal.set(n,[]),e.dummyToNodeForVerticalAlignment.has(n)?e.nodeToTempPositionMapHorizontal.set(n,e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(n)[0]).getCenterX()):e.nodeToTempPositionMapHorizontal.set(n,e.idToNodeMap.get(n).getCenterX())),e.nodesInRelativeHorizontal.includes(r)||(e.nodesInRelativeHorizontal.push(r),e.nodeToRelativeConstraintMapHorizontal.set(r,[]),e.dummyToNodeForVerticalAlignment.has(r)?e.nodeToTempPositionMapHorizontal.set(r,e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(r)[0]).getCenterX()):e.nodeToTempPositionMapHorizontal.set(r,e.idToNodeMap.get(r).getCenterX())),e.nodeToRelativeConstraintMapHorizontal.get(n).push({right:r,gap:t.gap}),e.nodeToRelativeConstraintMapHorizontal.get(r).push({left:n,gap:t.gap})}else{var i=a.has(t.top)?a.get(t.top):t.top,o=a.has(t.bottom)?a.get(t.bottom):t.bottom;e.nodesInRelativeVertical.includes(i)||(e.nodesInRelativeVertical.push(i),e.nodeToRelativeConstraintMapVertical.set(i,[]),e.dummyToNodeForHorizontalAlignment.has(i)?e.nodeToTempPositionMapVertical.set(i,e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(i)[0]).getCenterY()):e.nodeToTempPositionMapVertical.set(i,e.idToNodeMap.get(i).getCenterY())),e.nodesInRelativeVertical.includes(o)||(e.nodesInRelativeVertical.push(o),e.nodeToRelativeConstraintMapVertical.set(o,[]),e.dummyToNodeForHorizontalAlignment.has(o)?e.nodeToTempPositionMapVertical.set(o,e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(o)[0]).getCenterY()):e.nodeToTempPositionMapVertical.set(o,e.idToNodeMap.get(o).getCenterY())),e.nodeToRelativeConstraintMapVertical.get(i).push({bottom:o,gap:t.gap}),e.nodeToRelativeConstraintMapVertical.get(o).push({top:i,gap:t.gap})}});else{var h=new Map,d=new Map;this.constraints.relativePlacementConstraint.forEach(function(e){if(e.left){var t=s.has(e.left)?s.get(e.left):e.left,n=s.has(e.right)?s.get(e.right):e.right;h.has(t)?h.get(t).push(n):h.set(t,[n]),h.has(n)?h.get(n).push(t):h.set(n,[t])}else{var r=a.has(e.top)?a.get(e.top):e.top,i=a.has(e.bottom)?a.get(e.bottom):e.bottom;d.has(r)?d.get(r).push(i):d.set(r,[i]),d.has(i)?d.get(i).push(r):d.set(i,[r])}});var p=function(e,t){var n=[],r=[],i=new w,o=new Set,s=0;return e.forEach(function(a,l){if(!o.has(l)){n[s]=[],r[s]=!1;var c=l;for(i.push(c),o.add(c),n[s].push(c);0!=i.length;)c=i.shift(),t.has(c)&&(r[s]=!0),e.get(c).forEach(function(e){o.has(e)||(i.push(e),o.add(e),n[s].push(e))});s++}}),{components:n,isFixed:r}},f=p(h,e.fixedNodesOnHorizontal);this.componentsOnHorizontal=f.components,this.fixedComponentsOnHorizontal=f.isFixed;var g=p(d,e.fixedNodesOnVertical);this.componentsOnVertical=g.components,this.fixedComponentsOnVertical=g.isFixed}}},x.prototype.updateDisplacements=function(){var e=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(t){var n=e.idToNodeMap.get(t.nodeId);n.displacementX=0,n.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var t=this.constraints.alignmentConstraint.vertical,n=0;n<t.length;n++){for(var r=0,i=0;i<t[n].length;i++){if(this.fixedNodeSet.has(t[n][i])){r=0;break}r+=this.idToNodeMap.get(t[n][i]).displacementX}var o=r/t[n].length;for(i=0;i<t[n].length;i++)this.idToNodeMap.get(t[n][i]).displacementX=o}if(this.constraints.alignmentConstraint.horizontal){var s=this.constraints.alignmentConstraint.horizontal;for(n=0;n<s.length;n++){var a=0;for(i=0;i<s[n].length;i++){if(this.fixedNodeSet.has(s[n][i])){a=0;break}a+=this.idToNodeMap.get(s[n][i]).displacementY}var c=a/s[n].length;for(i=0;i<s[n].length;i++)this.idToNodeMap.get(s[n][i]).displacementY=c}}}if(this.constraints.relativePlacementConstraint)if(l.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(t){if(!e.fixedNodesOnHorizontal.has(t)){var n=0;n=e.dummyToNodeForVerticalAlignment.has(t)?e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(t)[0]).displacementX:e.idToNodeMap.get(t).displacementX,e.nodeToRelativeConstraintMapHorizontal.get(t).forEach(function(r){var i;r.right?(i=e.nodeToTempPositionMapHorizontal.get(r.right)-e.nodeToTempPositionMapHorizontal.get(t)-n)<r.gap&&(n-=r.gap-i):(i=e.nodeToTempPositionMapHorizontal.get(t)-e.nodeToTempPositionMapHorizontal.get(r.left)+n)<r.gap&&(n+=r.gap-i)}),e.nodeToTempPositionMapHorizontal.set(t,e.nodeToTempPositionMapHorizontal.get(t)+n),e.dummyToNodeForVerticalAlignment.has(t)?e.dummyToNodeForVerticalAlignment.get(t).forEach(function(t){e.idToNodeMap.get(t).displacementX=n}):e.idToNodeMap.get(t).displacementX=n}}),this.nodesInRelativeVertical.forEach(function(t){if(!e.fixedNodesOnHorizontal.has(t)){var n=0;n=e.dummyToNodeForHorizontalAlignment.has(t)?e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(t)[0]).displacementY:e.idToNodeMap.get(t).displacementY,e.nodeToRelativeConstraintMapVertical.get(t).forEach(function(r){var i;r.bottom?(i=e.nodeToTempPositionMapVertical.get(r.bottom)-e.nodeToTempPositionMapVertical.get(t)-n)<r.gap&&(n-=r.gap-i):(i=e.nodeToTempPositionMapVertical.get(t)-e.nodeToTempPositionMapVertical.get(r.top)+n)<r.gap&&(n+=r.gap-i)}),e.nodeToTempPositionMapVertical.set(t,e.nodeToTempPositionMapVertical.get(t)+n),e.dummyToNodeForHorizontalAlignment.has(t)?e.dummyToNodeForHorizontalAlignment.get(t).forEach(function(t){e.idToNodeMap.get(t).displacementY=n}):e.idToNodeMap.get(t).displacementY=n}});else{for(n=0;n<this.componentsOnHorizontal.length;n++){var u=this.componentsOnHorizontal[n];if(this.fixedComponentsOnHorizontal[n])for(i=0;i<u.length;i++)this.dummyToNodeForVerticalAlignment.has(u[i])?this.dummyToNodeForVerticalAlignment.get(u[i]).forEach(function(t){e.idToNodeMap.get(t).displacementX=0}):this.idToNodeMap.get(u[i]).displacementX=0;else{var h=0,d=0;for(i=0;i<u.length;i++)this.dummyToNodeForVerticalAlignment.has(u[i])?(h+=(f=this.dummyToNodeForVerticalAlignment.get(u[i])).length*this.idToNodeMap.get(f[0]).displacementX,d+=f.length):(h+=this.idToNodeMap.get(u[i]).displacementX,d++);var p=h/d;for(i=0;i<u.length;i++)this.dummyToNodeForVerticalAlignment.has(u[i])?this.dummyToNodeForVerticalAlignment.get(u[i]).forEach(function(t){e.idToNodeMap.get(t).displacementX=p}):this.idToNodeMap.get(u[i]).displacementX=p}}for(n=0;n<this.componentsOnVertical.length;n++)if(u=this.componentsOnVertical[n],this.fixedComponentsOnVertical[n])for(i=0;i<u.length;i++)this.dummyToNodeForHorizontalAlignment.has(u[i])?this.dummyToNodeForHorizontalAlignment.get(u[i]).forEach(function(t){e.idToNodeMap.get(t).displacementY=0}):this.idToNodeMap.get(u[i]).displacementY=0;else{for(h=0,d=0,i=0;i<u.length;i++){var f;this.dummyToNodeForHorizontalAlignment.has(u[i])?(h+=(f=this.dummyToNodeForHorizontalAlignment.get(u[i])).length*this.idToNodeMap.get(f[0]).displacementY,d+=f.length):(h+=this.idToNodeMap.get(u[i]).displacementY,d++)}for(p=h/d,i=0;i<u.length;i++)this.dummyToNodeForHorizontalAlignment.has(u[i])?this.dummyToNodeForHorizontalAlignment.get(u[i]).forEach(function(t){e.idToNodeMap.get(t).displacementY=p}):this.idToNodeMap.get(u[i]).displacementY=p}}},x.prototype.calculateNodesToApplyGravitationTo=function(){var e,t,n=[],r=this.graphManager.getGraphs(),i=r.length;for(t=0;t<i;t++)(e=r[t]).updateConnected(),e.isConnected||(n=n.concat(e.getNodes()));return n},x.prototype.createBendpoints=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());var t,n=new Set;for(t=0;t<e.length;t++){var r=e[t];if(!n.has(r)){var i=r.getSource(),o=r.getTarget();if(i==o)r.getBendpoints().push(new p),r.getBendpoints().push(new p),this.createDummyNodesForBendpoints(r),n.add(r);else{var s=[];if(s=(s=s.concat(i.getEdgeListToNode(o))).concat(o.getEdgeListToNode(i)),!n.has(s[0])){var a;if(s.length>1)for(a=0;a<s.length;a++){var l=s[a];l.getBendpoints().push(new p),this.createDummyNodesForBendpoints(l)}s.forEach(function(e){n.add(e)})}}}if(n.size==e.length)break}},x.prototype.positionNodesRadially=function(e){for(var t=new d(0,0),n=Math.ceil(Math.sqrt(e.length)),r=0,i=0,o=0,s=new p(0,0),a=0;a<e.length;a++){a%n==0&&(o=0,i=r,0!=a&&(i+=l.DEFAULT_COMPONENT_SEPERATION),r=0);var c=e[a],u=g.findCenterOfTree(c);t.x=o,t.y=i,(s=x.radialLayout(c,u,t)).y>r&&(r=Math.floor(s.y)),o=Math.floor(s.x+l.DEFAULT_COMPONENT_SEPERATION)}this.transform(new p(h.WORLD_CENTER_X-s.x/2,h.WORLD_CENTER_Y-s.y/2))},x.radialLayout=function(e,t,n){var r=Math.max(this.maxDiagonalInTree(e),l.DEFAULT_RADIAL_SEPARATION);x.branchRadialLayout(t,null,0,359,0,r);var i=y.calculateBounds(e),o=new b;o.setDeviceOrgX(i.getMinX()),o.setDeviceOrgY(i.getMinY()),o.setWorldOrgX(n.x),o.setWorldOrgY(n.y);for(var s=0;s<e.length;s++)e[s].transform(o);var a=new p(i.getMaxX(),i.getMaxY());return o.inverseTransformPoint(a)},x.branchRadialLayout=function(e,t,n,r,i,o){var s=(r-n+1)/2;s<0&&(s+=180);var a=(s+n)%360*v.TWO_PI/360,l=(Math.cos(a),i*Math.cos(a)),c=i*Math.sin(a);e.setCenter(l,c);var u=[],h=(u=u.concat(e.getEdges())).length;null!=t&&h--;for(var d,p=0,f=u.length,g=e.getEdgesBetween(t);g.length>1;){var m=g[0];g.splice(0,1);var y=u.indexOf(m);y>=0&&u.splice(y,1),f--,h--}d=null!=t?(u.indexOf(g[0])+1)%f:0;for(var b=Math.abs(r-n)/h,w=d;p!=h;w=++w%f){var _=u[w].getOtherEnd(e);if(_!=t){var A=(n+p*b)%360,T=(A+b)%360;x.branchRadialLayout(_,e,A,T,i+o,o),p++}}},x.maxDiagonalInTree=function(e){for(var t=m.MIN_VALUE,n=0;n<e.length;n++){var r=e[n].getDiagonal();r>t&&(t=r)}return t},x.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},x.prototype.groupZeroDegreeMembers=function(){var e=this,t={};this.memberGroups={},this.idToDummyNode={};for(var n=[],r=this.graphManager.getAllNodes(),i=0;i<r.length;i++){var o=(a=r[i]).getParent();0!==this.getNodeDegreeWithChildren(a)||null!=o.id&&this.getToBeTiled(o)||n.push(a)}for(i=0;i<n.length;i++){var a,l=(a=n[i]).getParent().id;void 0===t[l]&&(t[l]=[]),t[l]=t[l].concat(a)}Object.keys(t).forEach(function(n){if(t[n].length>1){var r="DummyCompound_"+n;e.memberGroups[r]=t[n];var i=t[n][0].getParent(),o=new s(e.graphManager);o.id=r,o.paddingLeft=i.paddingLeft||0,o.paddingRight=i.paddingRight||0,o.paddingBottom=i.paddingBottom||0,o.paddingTop=i.paddingTop||0,e.idToDummyNode[r]=o;var a=e.getGraphManager().add(e.newGraph(),o),l=i.getChild();l.add(o);for(var c=0;c<t[n].length;c++){var u=t[n][c];l.remove(u),a.add(u)}}})},x.prototype.clearCompounds=function(){var e={},t={};this.performDFSOnCompounds();for(var n=0;n<this.compoundOrder.length;n++)t[this.compoundOrder[n].id]=this.compoundOrder[n],e[this.compoundOrder[n].id]=[].concat(this.compoundOrder[n].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[n].getChild()),this.compoundOrder[n].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(e,t)},x.prototype.clearZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(n){var r=e.idToDummyNode[n];if(t[n]=e.tileNodes(e.memberGroups[n],r.paddingLeft+r.paddingRight),r.rect.width=t[n].width,r.rect.height=t[n].height,r.setCenter(t[n].centerX,t[n].centerY),r.labelMarginLeft=0,r.labelMarginTop=0,l.NODE_DIMENSIONS_INCLUDE_LABELS){var i=r.rect.width,o=r.rect.height;r.labelWidth&&("left"==r.labelPosHorizontal?(r.rect.x-=r.labelWidth,r.setWidth(i+r.labelWidth),r.labelMarginLeft=r.labelWidth):"center"==r.labelPosHorizontal&&r.labelWidth>i?(r.rect.x-=(r.labelWidth-i)/2,r.setWidth(r.labelWidth),r.labelMarginLeft=(r.labelWidth-i)/2):"right"==r.labelPosHorizontal&&r.setWidth(i+r.labelWidth)),r.labelHeight&&("top"==r.labelPosVertical?(r.rect.y-=r.labelHeight,r.setHeight(o+r.labelHeight),r.labelMarginTop=r.labelHeight):"center"==r.labelPosVertical&&r.labelHeight>o?(r.rect.y-=(r.labelHeight-o)/2,r.setHeight(r.labelHeight),r.labelMarginTop=(r.labelHeight-o)/2):"bottom"==r.labelPosVertical&&r.setHeight(o+r.labelHeight))}})},x.prototype.repopulateCompounds=function(){for(var e=this.compoundOrder.length-1;e>=0;e--){var t=this.compoundOrder[e],n=t.id,r=t.paddingLeft,i=t.paddingTop,o=t.labelMarginLeft,s=t.labelMarginTop;this.adjustLocations(this.tiledMemberPack[n],t.rect.x,t.rect.y,r,i,o,s)}},x.prototype.repopulateZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack;Object.keys(t).forEach(function(n){var r=e.idToDummyNode[n],i=r.paddingLeft,o=r.paddingTop,s=r.labelMarginLeft,a=r.labelMarginTop;e.adjustLocations(t[n],r.rect.x,r.rect.y,i,o,s,a)})},x.prototype.getToBeTiled=function(e){var t=e.id;if(null!=this.toBeTiled[t])return this.toBeTiled[t];var n=e.getChild();if(null==n)return this.toBeTiled[t]=!1,!1;for(var r=n.getNodes(),i=0;i<r.length;i++){var o=r[i];if(this.getNodeDegree(o)>0)return this.toBeTiled[t]=!1,!1;if(null!=o.getChild()){if(!this.getToBeTiled(o))return this.toBeTiled[t]=!1,!1}else this.toBeTiled[o.id]=!1}return this.toBeTiled[t]=!0,!0},x.prototype.getNodeDegree=function(e){e.id;for(var t=e.getEdges(),n=0,r=0;r<t.length;r++){var i=t[r];i.getSource().id!==i.getTarget().id&&(n+=1)}return n},x.prototype.getNodeDegreeWithChildren=function(e){var t=this.getNodeDegree(e);if(null==e.getChild())return t;for(var n=e.getChild().getNodes(),r=0;r<n.length;r++){var i=n[r];t+=this.getNodeDegreeWithChildren(i)}return t},x.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},x.prototype.fillCompexOrderByDFS=function(e){for(var t=0;t<e.length;t++){var n=e[t];null!=n.getChild()&&this.fillCompexOrderByDFS(n.getChild().getNodes()),this.getToBeTiled(n)&&this.compoundOrder.push(n)}},x.prototype.adjustLocations=function(e,t,n,r,i,o,s){n+=i+s;for(var a=t+=r+o,l=0;l<e.rows.length;l++){var c=e.rows[l];t=a;for(var u=0,h=0;h<c.length;h++){var d=c[h];d.rect.x=t,d.rect.y=n,t+=d.rect.width+e.horizontalPadding,d.rect.height>u&&(u=d.rect.height)}n+=u+e.verticalPadding}},x.prototype.tileCompoundMembers=function(e,t){var n=this;this.tiledMemberPack=[],Object.keys(e).forEach(function(r){var i=t[r];if(n.tiledMemberPack[r]=n.tileNodes(e[r],i.paddingLeft+i.paddingRight),i.rect.width=n.tiledMemberPack[r].width,i.rect.height=n.tiledMemberPack[r].height,i.setCenter(n.tiledMemberPack[r].centerX,n.tiledMemberPack[r].centerY),i.labelMarginLeft=0,i.labelMarginTop=0,l.NODE_DIMENSIONS_INCLUDE_LABELS){var o=i.rect.width,s=i.rect.height;i.labelWidth&&("left"==i.labelPosHorizontal?(i.rect.x-=i.labelWidth,i.setWidth(o+i.labelWidth),i.labelMarginLeft=i.labelWidth):"center"==i.labelPosHorizontal&&i.labelWidth>o?(i.rect.x-=(i.labelWidth-o)/2,i.setWidth(i.labelWidth),i.labelMarginLeft=(i.labelWidth-o)/2):"right"==i.labelPosHorizontal&&i.setWidth(o+i.labelWidth)),i.labelHeight&&("top"==i.labelPosVertical?(i.rect.y-=i.labelHeight,i.setHeight(s+i.labelHeight),i.labelMarginTop=i.labelHeight):"center"==i.labelPosVertical&&i.labelHeight>s?(i.rect.y-=(i.labelHeight-s)/2,i.setHeight(i.labelHeight),i.labelMarginTop=(i.labelHeight-s)/2):"bottom"==i.labelPosVertical&&i.setHeight(s+i.labelHeight))}})},x.prototype.tileNodes=function(e,t){var n=this.tileNodesByFavoringDim(e,t,!0),r=this.tileNodesByFavoringDim(e,t,!1),i=this.getOrgRatio(n);return this.getOrgRatio(r)<i?r:n},x.prototype.getOrgRatio=function(e){var t=e.width/e.height;return t<1&&(t=1/t),t},x.prototype.calcIdealRowWidth=function(e,t){var n=l.TILING_PADDING_VERTICAL,r=l.TILING_PADDING_HORIZONTAL,i=e.length,o=0,s=0,a=0;e.forEach(function(e){o+=e.getWidth(),s+=e.getHeight(),e.getWidth()>a&&(a=e.getWidth())});var c,u=o/i,h=s/i,d=Math.pow(n-r,2)+4*(u+r)*(h+n)*i,p=(r-n+Math.sqrt(d))/(2*(u+r));t?(c=Math.ceil(p))==p&&c++:c=Math.floor(p);var f=c*(u+r)-r;return a>f&&(f=a),f+=2*r},x.prototype.tileNodesByFavoringDim=function(e,t,n){var r=l.TILING_PADDING_VERTICAL,i=l.TILING_PADDING_HORIZONTAL,o=l.TILING_COMPARE_BY,s={rows:[],rowWidth:[],rowHeight:[],width:0,height:t,verticalPadding:r,horizontalPadding:i,centerX:0,centerY:0};o&&(s.idealRowWidth=this.calcIdealRowWidth(e,n));var a=function(e){return e.rect.width*e.rect.height},c=function(e,t){return a(t)-a(e)};e.sort(function(e,t){var n=c;return s.idealRowWidth?(n=o)(e.id,t.id):n(e,t)});for(var u=0,h=0,d=0;d<e.length;d++)u+=(p=e[d]).getCenterX(),h+=p.getCenterY();for(s.centerX=u/e.length,s.centerY=h/e.length,d=0;d<e.length;d++){var p=e[d];if(0==s.rows.length)this.insertNodeToRow(s,p,0,t);else if(this.canAddHorizontal(s,p.rect.width,p.rect.height)){var f=s.rows.length-1;s.idealRowWidth||(f=this.getShortestRowIndex(s)),this.insertNodeToRow(s,p,f,t)}else this.insertNodeToRow(s,p,s.rows.length,t);this.shiftToLastRow(s)}return s},x.prototype.insertNodeToRow=function(e,t,n,r){var i=r;n==e.rows.length&&(e.rows.push([]),e.rowWidth.push(i),e.rowHeight.push(0));var o=e.rowWidth[n]+t.rect.width;e.rows[n].length>0&&(o+=e.horizontalPadding),e.rowWidth[n]=o,e.width<o&&(e.width=o);var s=t.rect.height;n>0&&(s+=e.verticalPadding);var a=0;s>e.rowHeight[n]&&(a=e.rowHeight[n],e.rowHeight[n]=s,a=e.rowHeight[n]-a),e.height+=a,e.rows[n].push(t)},x.prototype.getShortestRowIndex=function(e){for(var t=-1,n=Number.MAX_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]<n&&(t=r,n=e.rowWidth[r]);return t},x.prototype.getLongestRowIndex=function(e){for(var t=-1,n=Number.MIN_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]>n&&(t=r,n=e.rowWidth[r]);return t},x.prototype.canAddHorizontal=function(e,t,n){if(e.idealRowWidth){var r=e.rows.length-1;return e.rowWidth[r]+t+e.horizontalPadding<=e.idealRowWidth}var i=this.getShortestRowIndex(e);if(i<0)return!0;var o=e.rowWidth[i];if(o+e.horizontalPadding+t<=e.width)return!0;var s,a,l=0;return e.rowHeight[i]<n&&i>0&&(l=n+e.verticalPadding-e.rowHeight[i]),s=e.width-o>=t+e.horizontalPadding?(e.height+l)/(o+t+e.horizontalPadding):(e.height+l)/e.width,l=n+e.verticalPadding,(a=e.width<t?(e.height+l)/t:(e.height+l)/e.width)<1&&(a=1/a),s<1&&(s=1/s),s<a},x.prototype.shiftToLastRow=function(e){var t=this.getLongestRowIndex(e),n=e.rowWidth.length-1,r=e.rows[t],i=r[r.length-1],o=i.width+e.horizontalPadding;if(e.width-e.rowWidth[n]>o&&t!=n){r.splice(-1,1),e.rows[n].push(i),e.rowWidth[t]=e.rowWidth[t]-o,e.rowWidth[n]=e.rowWidth[n]+o,e.width=e.rowWidth[instance.getLongestRowIndex(e)];for(var s=Number.MIN_VALUE,a=0;a<r.length;a++)r[a].height>s&&(s=r[a].height);t>0&&(s+=e.verticalPadding);var l=e.rowHeight[t]+e.rowHeight[n];e.rowHeight[t]=s,e.rowHeight[n]<i.height+e.verticalPadding&&(e.rowHeight[n]=i.height+e.verticalPadding);var c=e.rowHeight[t]+e.rowHeight[n];e.height+=c-l,this.shiftToLastRow(e)}},x.prototype.tilingPreLayout=function(){l.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},x.prototype.tilingPostLayout=function(){l.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},x.prototype.reduceTrees=function(){for(var e,t=[],n=!0;n;){var r=this.graphManager.getAllNodes(),i=[];n=!1;for(var o=0;o<r.length;o++)if(1==(e=r[o]).getEdges().length&&!e.getEdges()[0].isInterGraph&&null==e.getChild()){if(l.PURE_INCREMENTAL){var s=e.getEdges()[0].getOtherEnd(e),a=new f(e.getCenterX()-s.getCenterX(),e.getCenterY()-s.getCenterY());i.push([e,e.getEdges()[0],e.getOwner(),a])}else i.push([e,e.getEdges()[0],e.getOwner()]);n=!0}if(1==n){for(var c=[],u=0;u<i.length;u++)1==i[u][0].getEdges().length&&(c.push(i[u]),i[u][0].getOwner().remove(i[u][0]));t.push(c),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=t},x.prototype.growTree=function(e){for(var t,n=e[e.length-1],r=0;r<n.length;r++)t=n[r],this.findPlaceforPrunedNode(t),t[2].add(t[0]),t[2].add(t[1],t[1].source,t[1].target);e.splice(e.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},x.prototype.findPlaceforPrunedNode=function(e){var t,n,r=e[0];if(n=r==e[1].source?e[1].target:e[1].source,l.PURE_INCREMENTAL)r.setCenter(n.getCenterX()+e[3].getWidth(),n.getCenterY()+e[3].getHeight());else{var i=n.startX,o=n.finishX,s=n.startY,a=n.finishY,c=[0,0,0,0];if(s>0)for(var h=i;h<=o;h++)c[0]+=this.grid[h][s-1].length+this.grid[h][s].length-1;if(o<this.grid.length-1)for(h=s;h<=a;h++)c[1]+=this.grid[o+1][h].length+this.grid[o][h].length-1;if(a<this.grid[0].length-1)for(h=i;h<=o;h++)c[2]+=this.grid[h][a+1].length+this.grid[h][a].length-1;if(i>0)for(h=s;h<=a;h++)c[3]+=this.grid[i-1][h].length+this.grid[i][h].length-1;for(var d,p,f=m.MAX_VALUE,g=0;g<c.length;g++)c[g]<f?(f=c[g],d=1,p=g):c[g]==f&&d++;if(3==d&&0==f)0==c[0]&&0==c[1]&&0==c[2]?t=1:0==c[0]&&0==c[1]&&0==c[3]?t=0:0==c[0]&&0==c[2]&&0==c[3]?t=3:0==c[1]&&0==c[2]&&0==c[3]&&(t=2);else if(2==d&&0==f){var v=Math.floor(2*Math.random());t=0==c[0]&&0==c[1]?0==v?0:1:0==c[0]&&0==c[2]?0==v?0:2:0==c[0]&&0==c[3]?0==v?0:3:0==c[1]&&0==c[2]?0==v?1:2:0==c[1]&&0==c[3]?0==v?1:3:0==v?2:3}else t=4==d&&0==f?v=Math.floor(4*Math.random()):p;0==t?r.setCenter(n.getCenterX(),n.getCenterY()-n.getHeight()/2-u.DEFAULT_EDGE_LENGTH-r.getHeight()/2):1==t?r.setCenter(n.getCenterX()+n.getWidth()/2+u.DEFAULT_EDGE_LENGTH+r.getWidth()/2,n.getCenterY()):2==t?r.setCenter(n.getCenterX(),n.getCenterY()+n.getHeight()/2+u.DEFAULT_EDGE_LENGTH+r.getHeight()/2):r.setCenter(n.getCenterX()-n.getWidth()/2-u.DEFAULT_EDGE_LENGTH-r.getWidth()/2,n.getCenterY())}},e.exports=x},991:(e,t,n)=>{var r=n(551).FDLayoutNode,i=n(551).IMath;function o(e,t,n,i){r.call(this,e,t,n,i)}for(var s in o.prototype=Object.create(r.prototype),r)o[s]=r[s];o.prototype.calculateDisplacement=function(){var e=this.graphManager.getLayout();null!=this.getChild()&&this.fixedNodeWeight?(this.displacementX+=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*i.sign(this.displacementX)),Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*i.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},o.prototype.propogateDisplacementToChildren=function(e,t){for(var n,r=this.getChild().getNodes(),i=0;i<r.length;i++)null==(n=r[i]).getChild()?(n.displacementX+=e,n.displacementY+=t):n.propogateDisplacementToChildren(e,t)},o.prototype.move=function(){var e=this.graphManager.getLayout();null!=this.child&&0!=this.child.getNodes().length||(this.moveBy(this.displacementX,this.displacementY),e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},o.prototype.setPred1=function(e){this.pred1=e},o.prototype.getPred1=function(){return pred1},o.prototype.getPred2=function(){return pred2},o.prototype.setNext=function(e){this.next=e},o.prototype.getNext=function(){return next},o.prototype.setProcessed=function(e){this.processed=e},o.prototype.isProcessed=function(){return processed},e.exports=o},902:(e,t,n)=>{function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(806),o=n(551).LinkedList,s=n(551).Matrix,a=n(551).SVD;function l(){}l.handleConstraints=function(e){var t={};t.fixedNodeConstraint=e.constraints.fixedNodeConstraint,t.alignmentConstraint=e.constraints.alignmentConstraint,t.relativePlacementConstraint=e.constraints.relativePlacementConstraint;for(var n=new Map,l=new Map,c=[],u=[],h=e.getAllNodes(),d=0,p=0;p<h.length;p++){var f=h[p];null==f.getChild()&&(l.set(f.id,d++),c.push(f.getCenterX()),u.push(f.getCenterY()),n.set(f.id,f))}t.relativePlacementConstraint&&t.relativePlacementConstraint.forEach(function(e){e.gap||0==e.gap||(e.left?e.gap=i.DEFAULT_EDGE_LENGTH+n.get(e.left).getWidth()/2+n.get(e.right).getWidth()/2:e.gap=i.DEFAULT_EDGE_LENGTH+n.get(e.top).getHeight()/2+n.get(e.bottom).getHeight()/2)});var g=function(e){var t=0,n=0;return e.forEach(function(e){t+=c[l.get(e)],n+=u[l.get(e)]}),{x:t/e.size,y:n/e.size}},m=function(e,t,n,i,s){var a=new Map;e.forEach(function(e,t){a.set(t,0)}),e.forEach(function(e,t){e.forEach(function(e){a.set(e.id,a.get(e.id)+1)})});var h=new Map,d=new Map,p=new o;a.forEach(function(e,r){0==e?(p.push(r),n||("horizontal"==t?h.set(r,l.has(r)?c[l.get(r)]:i.get(r)):h.set(r,l.has(r)?u[l.get(r)]:i.get(r)))):h.set(r,Number.NEGATIVE_INFINITY),n&&d.set(r,new Set([r]))}),n&&s.forEach(function(e){var r=[];if(e.forEach(function(e){n.has(e)&&r.push(e)}),r.length>0){var o=0;r.forEach(function(e){"horizontal"==t?(h.set(e,l.has(e)?c[l.get(e)]:i.get(e)),o+=h.get(e)):(h.set(e,l.has(e)?u[l.get(e)]:i.get(e)),o+=h.get(e))}),o/=r.length,e.forEach(function(e){n.has(e)||h.set(e,o)})}else{var s=0;e.forEach(function(e){s+="horizontal"==t?l.has(e)?c[l.get(e)]:i.get(e):l.has(e)?u[l.get(e)]:i.get(e)}),s/=e.length,e.forEach(function(e){h.set(e,s)})}});for(var f=function(){var r=p.shift();e.get(r).forEach(function(e){if(h.get(e.id)<h.get(r)+e.gap)if(n&&n.has(e.id)){var o=void 0;if(o="horizontal"==t?l.has(e.id)?c[l.get(e.id)]:i.get(e.id):l.has(e.id)?u[l.get(e.id)]:i.get(e.id),h.set(e.id,o),o<h.get(r)+e.gap){var s=h.get(r)+e.gap-o;d.get(r).forEach(function(e){h.set(e,h.get(e)-s)})}}else h.set(e.id,h.get(r)+e.gap);a.set(e.id,a.get(e.id)-1),0==a.get(e.id)&&p.push(e.id),n&&d.set(e.id,function(e,t){var n=new Set(e),r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value;n.add(l)}}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(d.get(r),d.get(e.id)))})};0!=p.length;)f();if(n){var g=new Set;e.forEach(function(e,t){0==e.length&&g.add(t)});var m=[];d.forEach(function(e,t){if(g.has(t)){var i=!1,o=!0,s=!1,a=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;n.has(u)&&(i=!0)}}catch(e){s=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw a}}if(!i){var h=!1,d=void 0;m.forEach(function(t,n){t.has([].concat(r(e))[0])&&(h=!0,d=n)}),h?e.forEach(function(e){m[d].add(e)}):m.push(new Set(e))}}}),m.forEach(function(e,n){var r=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY,d=!0,p=!1,f=void 0;try{for(var g,m=e[Symbol.iterator]();!(d=(g=m.next()).done);d=!0){var v=g.value,y=void 0;y="horizontal"==t?l.has(v)?c[l.get(v)]:i.get(v):l.has(v)?u[l.get(v)]:i.get(v);var b=h.get(v);y<r&&(r=y),y>s&&(s=y),b<o&&(o=b),b>a&&(a=b)}}catch(e){p=!0,f=e}finally{try{!d&&m.return&&m.return()}finally{if(p)throw f}}var w=(r+s)/2-(o+a)/2,x=!0,_=!1,A=void 0;try{for(var T,E=e[Symbol.iterator]();!(x=(T=E.next()).done);x=!0){var k=T.value;h.set(k,h.get(k)+w)}}catch(e){_=!0,A=e}finally{try{!x&&E.return&&E.return()}finally{if(_)throw A}}})}return h},v=function(e){var t=0,n=0,r=0,i=0;if(e.forEach(function(e){e.left?c[l.get(e.left)]-c[l.get(e.right)]>=0?t++:n++:u[l.get(e.top)]-u[l.get(e.bottom)]>=0?r++:i++}),t>n&&r>i)for(var o=0;o<l.size;o++)c[o]=-1*c[o],u[o]=-1*u[o];else if(t>n)for(var s=0;s<l.size;s++)c[s]=-1*c[s];else if(r>i)for(var a=0;a<l.size;a++)u[a]=-1*u[a]},y=function(e){var t=[],n=new o,r=new Set,i=0;return e.forEach(function(o,s){if(!r.has(s)){t[i]=[];var a=s;for(n.push(a),r.add(a),t[i].push(a);0!=n.length;)a=n.shift(),e.get(a).forEach(function(e){r.has(e.id)||(n.push(e.id),r.add(e.id),t[i].push(e.id))});i++}}),t},b=function(e){var t=new Map;return e.forEach(function(e,n){t.set(n,[])}),e.forEach(function(e,n){e.forEach(function(e){t.get(n).push(e),t.get(e.id).push({id:n,gap:e.gap,direction:e.direction})})}),t},w=function(e){var t=new Map;return e.forEach(function(e,n){t.set(n,[])}),e.forEach(function(e,n){e.forEach(function(e){t.get(e.id).push({id:n,gap:e.gap,direction:e.direction})})}),t},x=[],_=[],A=!1,T=!1,E=new Set,k=new Map,S=new Map,C=[];if(t.fixedNodeConstraint&&t.fixedNodeConstraint.forEach(function(e){E.add(e.nodeId)}),t.relativePlacementConstraint&&(t.relativePlacementConstraint.forEach(function(e){e.left?(k.has(e.left)?k.get(e.left).push({id:e.right,gap:e.gap,direction:"horizontal"}):k.set(e.left,[{id:e.right,gap:e.gap,direction:"horizontal"}]),k.has(e.right)||k.set(e.right,[])):(k.has(e.top)?k.get(e.top).push({id:e.bottom,gap:e.gap,direction:"vertical"}):k.set(e.top,[{id:e.bottom,gap:e.gap,direction:"vertical"}]),k.has(e.bottom)||k.set(e.bottom,[]))}),S=b(k),C=y(S)),i.TRANSFORM_ON_CONSTRAINT_HANDLING){if(t.fixedNodeConstraint&&t.fixedNodeConstraint.length>1)t.fixedNodeConstraint.forEach(function(e,t){x[t]=[e.position.x,e.position.y],_[t]=[c[l.get(e.nodeId)],u[l.get(e.nodeId)]]}),A=!0;else if(t.alignmentConstraint)!function(){var e=0;if(t.alignmentConstraint.vertical){for(var n=t.alignmentConstraint.vertical,i=function(t){var i=new Set;n[t].forEach(function(e){i.add(e)});var o=new Set([].concat(r(i)).filter(function(e){return E.has(e)})),s=void 0;s=o.size>0?c[l.get(o.values().next().value)]:g(i).x,n[t].forEach(function(t){x[e]=[s,u[l.get(t)]],_[e]=[c[l.get(t)],u[l.get(t)]],e++})},o=0;o<n.length;o++)i(o);A=!0}if(t.alignmentConstraint.horizontal){for(var s=t.alignmentConstraint.horizontal,a=function(t){var n=new Set;s[t].forEach(function(e){n.add(e)});var i=new Set([].concat(r(n)).filter(function(e){return E.has(e)})),o=void 0;o=i.size>0?c[l.get(i.values().next().value)]:g(n).y,s[t].forEach(function(t){x[e]=[c[l.get(t)],o],_[e]=[c[l.get(t)],u[l.get(t)]],e++})},h=0;h<s.length;h++)a(h);A=!0}t.relativePlacementConstraint&&(T=!0)}();else if(t.relativePlacementConstraint){for(var N=0,M=0,O=0;O<C.length;O++)C[O].length>N&&(N=C[O].length,M=O);if(N<S.size/2)v(t.relativePlacementConstraint),A=!1,T=!1;else{var R=new Map,I=new Map,L=[];C[M].forEach(function(e){k.get(e).forEach(function(t){"horizontal"==t.direction?(R.has(e)?R.get(e).push(t):R.set(e,[t]),R.has(t.id)||R.set(t.id,[]),L.push({left:e,right:t.id})):(I.has(e)?I.get(e).push(t):I.set(e,[t]),I.has(t.id)||I.set(t.id,[]),L.push({top:e,bottom:t.id}))})}),v(L),T=!1;var P=m(R,"horizontal"),D=m(I,"vertical");C[M].forEach(function(e,t){_[t]=[c[l.get(e)],u[l.get(e)]],x[t]=[],P.has(e)?x[t][0]=P.get(e):x[t][0]=c[l.get(e)],D.has(e)?x[t][1]=D.get(e):x[t][1]=u[l.get(e)]}),A=!0}}if(A){for(var B,F=s.transpose(x),z=s.transpose(_),$=0;$<F.length;$++)F[$]=s.multGamma(F[$]),z[$]=s.multGamma(z[$]);var j=s.multMat(F,s.transpose(z)),U=a.svd(j);B=s.multMat(U.V,s.transpose(U.U));for(var H=0;H<l.size;H++){var G=[c[H],u[H]],V=[B[0][0],B[1][0]],W=[B[0][1],B[1][1]];c[H]=s.dotProduct(G,V),u[H]=s.dotProduct(G,W)}T&&v(t.relativePlacementConstraint)}}if(i.ENFORCE_CONSTRAINTS){if(t.fixedNodeConstraint&&t.fixedNodeConstraint.length>0){var Y={x:0,y:0};t.fixedNodeConstraint.forEach(function(e,t){var n,r,i={x:c[l.get(e.nodeId)],y:u[l.get(e.nodeId)]},o=e.position,s=(r=i,{x:(n=o).x-r.x,y:n.y-r.y});Y.x+=s.x,Y.y+=s.y}),Y.x/=t.fixedNodeConstraint.length,Y.y/=t.fixedNodeConstraint.length,c.forEach(function(e,t){c[t]+=Y.x}),u.forEach(function(e,t){u[t]+=Y.y}),t.fixedNodeConstraint.forEach(function(e){c[l.get(e.nodeId)]=e.position.x,u[l.get(e.nodeId)]=e.position.y})}if(t.alignmentConstraint){if(t.alignmentConstraint.vertical)for(var q=t.alignmentConstraint.vertical,X=function(e){var t=new Set;q[e].forEach(function(e){t.add(e)});var n=new Set([].concat(r(t)).filter(function(e){return E.has(e)})),i=void 0;i=n.size>0?c[l.get(n.values().next().value)]:g(t).x,t.forEach(function(e){E.has(e)||(c[l.get(e)]=i)})},K=0;K<q.length;K++)X(K);if(t.alignmentConstraint.horizontal)for(var Z=t.alignmentConstraint.horizontal,Q=function(e){var t=new Set;Z[e].forEach(function(e){t.add(e)});var n=new Set([].concat(r(t)).filter(function(e){return E.has(e)})),i=void 0;i=n.size>0?u[l.get(n.values().next().value)]:g(t).y,t.forEach(function(e){E.has(e)||(u[l.get(e)]=i)})},J=0;J<Z.length;J++)Q(J)}t.relativePlacementConstraint&&function(){var e=new Map,n=new Map,r=new Map,i=new Map,o=new Map,s=new Map,a=new Set,h=new Set;if(E.forEach(function(e){a.add(e),h.add(e)}),t.alignmentConstraint){if(t.alignmentConstraint.vertical)for(var d=t.alignmentConstraint.vertical,p=function(t){r.set("dummy"+t,[]),d[t].forEach(function(n){e.set(n,"dummy"+t),r.get("dummy"+t).push(n),E.has(n)&&a.add("dummy"+t)}),o.set("dummy"+t,c[l.get(d[t][0])])},f=0;f<d.length;f++)p(f);if(t.alignmentConstraint.horizontal)for(var g=t.alignmentConstraint.horizontal,v=function(e){i.set("dummy"+e,[]),g[e].forEach(function(t){n.set(t,"dummy"+e),i.get("dummy"+e).push(t),E.has(t)&&h.add("dummy"+e)}),s.set("dummy"+e,u[l.get(g[e][0])])},x=0;x<g.length;x++)v(x)}var _=new Map,A=new Map,T=function(t){k.get(t).forEach(function(r){var i=void 0,o=void 0;"horizontal"==r.direction?(i=e.get(t)?e.get(t):t,o=e.get(r.id)?{id:e.get(r.id),gap:r.gap,direction:r.direction}:r,_.has(i)?_.get(i).push(o):_.set(i,[o]),_.has(o.id)||_.set(o.id,[])):(i=n.get(t)?n.get(t):t,o=n.get(r.id)?{id:n.get(r.id),gap:r.gap,direction:r.direction}:r,A.has(i)?A.get(i).push(o):A.set(i,[o]),A.has(o.id)||A.set(o.id,[]))})},S=!0,C=!1,N=void 0;try{for(var M,O=k.keys()[Symbol.iterator]();!(S=(M=O.next()).done);S=!0)T(M.value)}catch(e){C=!0,N=e}finally{try{!S&&O.return&&O.return()}finally{if(C)throw N}}var R=b(_),I=b(A),L=y(R),P=y(I),D=w(_),B=w(A),F=[],z=[];L.forEach(function(e,t){F[t]=[],e.forEach(function(e){0==D.get(e).length&&F[t].push(e)})}),P.forEach(function(e,t){z[t]=[],e.forEach(function(e){0==B.get(e).length&&z[t].push(e)})});var $=m(_,"horizontal",a,o,F),j=m(A,"vertical",h,s,z),U=function(e){r.get(e)?r.get(e).forEach(function(t){c[l.get(t)]=$.get(e)}):c[l.get(e)]=$.get(e)},H=!0,G=!1,V=void 0;try{for(var W,Y=$.keys()[Symbol.iterator]();!(H=(W=Y.next()).done);H=!0)U(W.value)}catch(e){G=!0,V=e}finally{try{!H&&Y.return&&Y.return()}finally{if(G)throw V}}var q=function(e){i.get(e)?i.get(e).forEach(function(t){u[l.get(t)]=j.get(e)}):u[l.get(e)]=j.get(e)},X=!0,K=!1,Z=void 0;try{for(var Q,J=j.keys()[Symbol.iterator]();!(X=(Q=J.next()).done);X=!0)q(Q.value)}catch(e){K=!0,Z=e}finally{try{!X&&J.return&&J.return()}finally{if(K)throw Z}}}()}for(var ee=0;ee<h.length;ee++){var te=h[ee];null==te.getChild()&&te.setCenter(c[l.get(te.id)],u[l.get(te.id)])}},e.exports=l},551:t=>{t.exports=e}},n={},r=function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return t[r](o,o.exports,e),o.exports}(45);return r})()},e.exports=r(n(6679))},1719:(e,t,n)=>{"use strict";n.d(t,{B5:()=>s,Rf:()=>a,Td:()=>l,Vj:()=>c,fq:()=>r,iD:()=>u});class r{constructor(e,t){this.startFn=e,this.nextFn=t}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){const e=this.iterator();return Boolean(e.next().done)}count(){const e=this.iterator();let t=0,n=e.next();for(;!n.done;)t++,n=e.next();return t}toArray(){const e=[],t=this.iterator();let n;do{n=t.next(),void 0!==n.value&&e.push(n.value)}while(!n.done);return e}toSet(){return new Set(this)}toMap(e,t){const n=this.map(n=>[e?e(n):n,t?t(n):n]);return new Map(n)}toString(){return this.join()}concat(e){return new r(()=>({first:this.startFn(),firstDone:!1,iterator:e[Symbol.iterator]()}),e=>{let t;if(!e.firstDone){do{if(t=this.nextFn(e.first),!t.done)return t}while(!t.done);e.firstDone=!0}do{if(t=e.iterator.next(),!t.done)return t}while(!t.done);return a})}join(e=","){const t=this.iterator();let n,r="",o=!1;do{n=t.next(),n.done||(o&&(r+=e),r+=i(n.value)),o=!0}while(!n.done);return r}indexOf(e,t=0){const n=this.iterator();let r=0,i=n.next();for(;!i.done;){if(r>=t&&i.value===e)return r;i=n.next(),r++}return-1}every(e){const t=this.iterator();let n=t.next();for(;!n.done;){if(!e(n.value))return!1;n=t.next()}return!0}some(e){const t=this.iterator();let n=t.next();for(;!n.done;){if(e(n.value))return!0;n=t.next()}return!1}forEach(e){const t=this.iterator();let n=0,r=t.next();for(;!r.done;)e(r.value,n),r=t.next(),n++}map(e){return new r(this.startFn,t=>{const{done:n,value:r}=this.nextFn(t);return n?a:{done:!1,value:e(r)}})}filter(e){return new r(this.startFn,t=>{let n;do{if(n=this.nextFn(t),!n.done&&e(n.value))return n}while(!n.done);return a})}nonNullable(){return this.filter(e=>null!=e)}reduce(e,t){const n=this.iterator();let r=t,i=n.next();for(;!i.done;)r=void 0===r?i.value:e(r,i.value),i=n.next();return r}reduceRight(e,t){return this.recursiveReduce(this.iterator(),e,t)}recursiveReduce(e,t,n){const r=e.next();if(r.done)return n;const i=this.recursiveReduce(e,t,n);return void 0===i?r.value:t(i,r.value)}find(e){const t=this.iterator();let n=t.next();for(;!n.done;){if(e(n.value))return n.value;n=t.next()}}findIndex(e){const t=this.iterator();let n=0,r=t.next();for(;!r.done;){if(e(r.value))return n;r=t.next(),n++}return-1}includes(e){const t=this.iterator();let n=t.next();for(;!n.done;){if(n.value===e)return!0;n=t.next()}return!1}flatMap(e){return new r(()=>({this:this.startFn()}),t=>{do{if(t.iterator){const e=t.iterator.next();if(!e.done)return e;t.iterator=void 0}const{done:n,value:r}=this.nextFn(t.this);if(!n){const n=e(r);if(!o(n))return{done:!1,value:n};t.iterator=n[Symbol.iterator]()}}while(t.iterator);return a})}flat(e){if(void 0===e&&(e=1),e<=0)return this;const t=e>1?this.flat(e-1):this;return new r(()=>({this:t.startFn()}),e=>{do{if(e.iterator){const t=e.iterator.next();if(!t.done)return t;e.iterator=void 0}const{done:n,value:r}=t.nextFn(e.this);if(!n){if(!o(r))return{done:!1,value:r};e.iterator=r[Symbol.iterator]()}}while(e.iterator);return a})}head(){const e=this.iterator().next();if(!e.done)return e.value}tail(e=1){return new r(()=>{const t=this.startFn();for(let n=0;n<e;n++){if(this.nextFn(t).done)return t}return t},this.nextFn)}limit(e){return new r(()=>({size:0,state:this.startFn()}),t=>(t.size++,t.size>e?a:this.nextFn(t.state)))}distinct(e){return new r(()=>({set:new Set,internalState:this.startFn()}),t=>{let n;do{if(n=this.nextFn(t.internalState),!n.done){const r=e?e(n.value):n.value;if(!t.set.has(r))return t.set.add(r),n}}while(!n.done);return a})}exclude(e,t){const n=new Set;for(const r of e){const e=t?t(r):r;n.add(e)}return this.filter(e=>{const r=t?t(e):e;return!n.has(r)})}}function i(e){return"string"==typeof e?e:void 0===e?"undefined":"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e)}function o(e){return!!e&&"function"==typeof e[Symbol.iterator]}const s=new r(()=>{},()=>a),a=Object.freeze({done:!0,value:void 0});function l(...e){if(1===e.length){const t=e[0];if(t instanceof r)return t;if(o(t))return new r(()=>t[Symbol.iterator](),e=>e.next());if("number"==typeof t.length)return new r(()=>({index:0}),e=>e.index<t.length?{done:!1,value:t[e.index++]}:a)}return e.length>1?new r(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){const e=t.iterator.next();if(!e.done)return e;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){const n=e[t.collIndex++];o(n)?t.iterator=n[Symbol.iterator]():n&&"number"==typeof n.length&&(t.array=n)}}while(t.iterator||t.array||t.collIndex<e.length);return a}):s}class c extends r{constructor(e,t,n){super(()=>({iterators:(null==n?void 0:n.includeRoot)?[[e][Symbol.iterator]()]:[t(e)[Symbol.iterator]()],pruned:!1}),e=>{for(e.pruned&&(e.iterators.pop(),e.pruned=!1);e.iterators.length>0;){const n=e.iterators[e.iterators.length-1].next();if(!n.done)return e.iterators.push(t(n.value)[Symbol.iterator]()),n;e.iterators.pop()}return a})}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}}var u;!function(e){e.sum=function(e){return e.reduce((e,t)=>e+t,0)},e.product=function(e){return e.reduce((e,t)=>e*t,0)},e.min=function(e){return e.reduce((e,t)=>Math.min(e,t))},e.max=function(e){return e.reduce((e,t)=>Math.max(e,t))}}(u||(u={}))},1756:(e,t,n)=>{"use strict";function r(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function i(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}n.d(t,{A:()=>v});var o=n(4826),s=n(9818);function a(e){return function(){return e}}function l(e,t){return u(e.source,t.source)||e.index-t.index}function c(e,t){return u(e.target,t.target)||e.index-t.index}function u(e,t){return e.y0-t.y0}function h(e){return e.value}function d(e){return e.index}function p(e){return e.nodes}function f(e){return e.links}function g(e,t){const n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function m({nodes:e}){for(const t of e){let e=t.y0,n=e;for(const n of t.sourceLinks)n.y0=e+n.width/2,e+=n.width;for(const e of t.targetLinks)e.y1=n+e.width/2,n+=e.width}}function v(){let e,t,n,v=0,y=0,b=1,w=1,x=24,_=8,A=d,T=s.pD,E=p,k=f,S=6;function C(){const s={nodes:E.apply(null,arguments),links:k.apply(null,arguments)};return function({nodes:e,links:t}){for(const[t,n]of e.entries())n.index=t,n.sourceLinks=[],n.targetLinks=[];const r=new Map(e.map((t,n)=>[A(t,n,e),t]));for(const[e,n]of t.entries()){n.index=e;let{source:t,target:i}=n;"object"!=typeof t&&(t=n.source=g(r,t)),"object"!=typeof i&&(i=n.target=g(r,i)),t.sourceLinks.push(n),i.targetLinks.push(n)}if(null!=n)for(const{sourceLinks:t,targetLinks:r}of e)t.sort(n),r.sort(n)}(s),function({nodes:e}){for(const t of e)t.value=void 0===t.fixedValue?Math.max(r(t.sourceLinks,h),r(t.targetLinks,h)):t.fixedValue}(s),function({nodes:e}){const t=e.length;let n=new Set(e),r=new Set,i=0;for(;n.size;){for(const e of n){e.depth=i;for(const{target:t}of e.sourceLinks)r.add(t)}if(++i>t)throw new Error("circular link");n=r,r=new Set}}(s),function({nodes:e}){const t=e.length;let n=new Set(e),r=new Set,i=0;for(;n.size;){for(const e of n){e.height=i;for(const{source:t}of e.targetLinks)r.add(t)}if(++i>t)throw new Error("circular link");n=r,r=new Set}}(s),function(n){const s=function({nodes:e}){const n=i(e,e=>e.depth)+1,r=(b-v-x)/(n-1),o=new Array(n);for(const t of e){const e=Math.max(0,Math.min(n-1,Math.floor(T.call(null,t,n))));t.layer=e,t.x0=v+e*r,t.x1=t.x0+x,o[e]?o[e].push(t):o[e]=[t]}if(t)for(const e of o)e.sort(t);return o}(n);e=Math.min(_,(w-y)/(i(s,e=>e.length)-1)),function(t){const n=(0,o.A)(t,t=>(w-y-(t.length-1)*e)/r(t,h));for(const r of t){let t=y;for(const i of r){i.y0=t,i.y1=t+i.value*n,t=i.y1+e;for(const e of i.sourceLinks)e.width=e.value*n}t=(w-t+e)/(r.length+1);for(let e=0;e<r.length;++e){const n=r[e];n.y0+=t*(e+1),n.y1+=t*(e+1)}P(r)}}(s);for(let e=0;e<S;++e){const t=Math.pow(.99,e),n=Math.max(1-t,(e+1)/S);M(s,t,n),N(s,t,n)}}(s),m(s),s}function N(e,n,r){for(let i=1,o=e.length;i<o;++i){const o=e[i];for(const e of o){let t=0,r=0;for(const{source:n,value:i}of e.targetLinks){let o=i*(e.layer-n.layer);t+=D(n,e)*o,r+=o}if(!(r>0))continue;let i=(t/r-e.y0)*n;e.y0+=i,e.y1+=i,L(e)}void 0===t&&o.sort(u),O(o,r)}}function M(e,n,r){for(let i=e.length-2;i>=0;--i){const o=e[i];for(const e of o){let t=0,r=0;for(const{target:n,value:i}of e.sourceLinks){let o=i*(n.layer-e.layer);t+=B(e,n)*o,r+=o}if(!(r>0))continue;let i=(t/r-e.y0)*n;e.y0+=i,e.y1+=i,L(e)}void 0===t&&o.sort(u),O(o,r)}}function O(t,n){const r=t.length>>1,i=t[r];I(t,i.y0-e,r-1,n),R(t,i.y1+e,r+1,n),I(t,w,t.length-1,n),R(t,y,0,n)}function R(t,n,r,i){for(;r<t.length;++r){const o=t[r],s=(n-o.y0)*i;s>1e-6&&(o.y0+=s,o.y1+=s),n=o.y1+e}}function I(t,n,r,i){for(;r>=0;--r){const o=t[r],s=(o.y1-n)*i;s>1e-6&&(o.y0-=s,o.y1-=s),n=o.y0-e}}function L({sourceLinks:e,targetLinks:t}){if(void 0===n){for(const{source:{sourceLinks:e}}of t)e.sort(c);for(const{target:{targetLinks:t}}of e)t.sort(l)}}function P(e){if(void 0===n)for(const{sourceLinks:t,targetLinks:n}of e)t.sort(c),n.sort(l)}function D(t,n){let r=t.y0-(t.sourceLinks.length-1)*e/2;for(const{target:i,width:o}of t.sourceLinks){if(i===n)break;r+=o+e}for(const{source:e,width:i}of n.targetLinks){if(e===t)break;r-=i}return r}function B(t,n){let r=n.y0-(n.targetLinks.length-1)*e/2;for(const{source:i,width:o}of n.targetLinks){if(i===t)break;r+=o+e}for(const{target:e,width:i}of t.sourceLinks){if(e===n)break;r-=i}return r}return C.update=function(e){return m(e),e},C.nodeId=function(e){return arguments.length?(A="function"==typeof e?e:a(e),C):A},C.nodeAlign=function(e){return arguments.length?(T="function"==typeof e?e:a(e),C):T},C.nodeSort=function(e){return arguments.length?(t=e,C):t},C.nodeWidth=function(e){return arguments.length?(x=+e,C):x},C.nodePadding=function(t){return arguments.length?(_=e=+t,C):_},C.nodes=function(e){return arguments.length?(E="function"==typeof e?e:a(e),C):E},C.links=function(e){return arguments.length?(k="function"==typeof e?e:a(e),C):k},C.linkSort=function(e){return arguments.length?(n=e,C):n},C.size=function(e){return arguments.length?(v=y=0,b=+e[0],w=+e[1],C):[b-v,w-y]},C.extent=function(e){return arguments.length?(v=+e[0][0],b=+e[1][0],y=+e[0][1],w=+e[1][1],C):[[v,y],[b,w]]},C.iterations=function(e){return arguments.length?(S=+e,C):S},C}},1790:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(4288);const i=function(e,t){var n=[];return(0,r.A)(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}},1801:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(565);const i=function(e,t){var n=t?(0,r.A)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},1848:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8993),i=n(2543);class o{constructor(e){this.graphContext=this.decorateDotAttrs(e)}getGraphContext(){return this.graphContext}updateLabel(e){e.edges.forEach(t=>{e.nodes.forEach(e=>{t.from===e.id&&(t.fromLabel=e.label),t.to===e.id&&(t.toLabel=e.label,t.label&&(t.toLabel=t.label))})})}decorateDotAttrs(e){let t="",n=new Array(0),o="",s=!1,a={label:null,nodes:null,edges:null};e.split(/\n/).forEach(e=>{switch(!0){case/subgraph/.test(e):s=!0,o="";let l=e.split(/\s+/);l=l.filter(function(e){return""!==e}),a.label=l[1].replace(/[\""]/g,"");break;case/}/.test(e):if(/{/.test(e)){let t=e.replace(/[\\\"]/g,"");t=t.replace(/(label=)/g,'$1"'),t=t.replace(/(})/g,'$1"'),o+=t}else if(s){s=!1;const e="digraph "+a.label+" {"+o+"}",t=r.parseDOTNetwork(e);a.nodes=t.nodes,a.edges=t.edges,this.updateLabel(a);const l=i.cloneDeep(a);n.push(l)}else t+=e;break;default:s?o+=e:t+=e}});let l=r.parseDOTNetwork(t);this.updateLabel(l);return{name:"test",direction:"TB",subgraphs:n,nodes:l.nodes,edges:l.edges}}}},1882:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2383),i=n(3098);const o=function(e){return"symbol"==typeof e||(0,i.A)(e)&&"[object Symbol]"==(0,r.A)(e)}},1917:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2136),i="object"==typeof self&&self&&self.Object===Object&&self;const o=r.A||i||Function("return this")()},1931:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(7266),i=n(3122);const o={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(35!==e.charCodeAt(0))return;const t=e.match(o.re);if(!t)return;const n=t[1],i=parseInt(n,16),s=n.length,a=s%4==0,l=s>4,c=l?1:17,u=l?8:4,h=a?0:-1,d=l?255:15;return r.A.set({r:(i>>u*(h+3)&d)*c,g:(i>>u*(h+2)&d)*c,b:(i>>u*(h+1)&d)*c,a:a?(i&d)*c/255:1},e)},stringify:e=>{const{r:t,g:n,b:r,a:o}=e;return o<1?`#${i.Y[Math.round(t)]}${i.Y[Math.round(n)]}${i.Y[Math.round(r)]}${i.Y[Math.round(255*o)]}`:`#${i.Y[Math.round(t)]}${i.Y[Math.round(n)]}${i.Y[Math.round(r)]}`}},s=o;var a=n(6309);const l={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(l.hueRe);if(t){const[,e,n]=t;switch(n){case"grad":return a.A.channel.clamp.h(.9*parseFloat(e));case"rad":return a.A.channel.clamp.h(180*parseFloat(e)/Math.PI);case"turn":return a.A.channel.clamp.h(360*parseFloat(e))}}return a.A.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(104!==t&&72!==t)return;const n=e.match(l.re);if(!n)return;const[,i,o,s,c,u]=n;return r.A.set({h:l._hue2deg(i),s:a.A.channel.clamp.s(parseFloat(o)),l:a.A.channel.clamp.l(parseFloat(s)),a:c?a.A.channel.clamp.a(u?parseFloat(c)/100:parseFloat(c)):1},e)},stringify:e=>{const{h:t,s:n,l:r,a:i}=e;return i<1?`hsla(${a.A.lang.round(t)}, ${a.A.lang.round(n)}%, ${a.A.lang.round(r)}%, ${i})`:`hsl(${a.A.lang.round(t)}, ${a.A.lang.round(n)}%, ${a.A.lang.round(r)}%)`}},c=l,u={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=u.colors[e];if(t)return s.parse(t)},stringify:e=>{const t=s.stringify(e);for(const e in u.colors)if(u.colors[e]===t)return e}},h=u,d={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(114!==t&&82!==t)return;const n=e.match(d.re);if(!n)return;const[,i,o,s,l,c,u,h,p]=n;return r.A.set({r:a.A.channel.clamp.r(o?2.55*parseFloat(i):parseFloat(i)),g:a.A.channel.clamp.g(l?2.55*parseFloat(s):parseFloat(s)),b:a.A.channel.clamp.b(u?2.55*parseFloat(c):parseFloat(c)),a:h?a.A.channel.clamp.a(p?parseFloat(h)/100:parseFloat(h)):1},e)},stringify:e=>{const{r:t,g:n,b:r,a:i}=e;return i<1?`rgba(${a.A.lang.round(t)}, ${a.A.lang.round(n)}, ${a.A.lang.round(r)}, ${a.A.lang.round(i)})`:`rgb(${a.A.lang.round(t)}, ${a.A.lang.round(n)}, ${a.A.lang.round(r)})`}},p=d,f={format:{keyword:u,hex:s,rgb:d,rgba:d,hsl:l,hsla:l},parse:e=>{if("string"!=typeof e)return e;const t=s.parse(e)||p.parse(e)||c.parse(e)||h.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(i.Z.HSL)||void 0===e.data.r?c.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?p.stringify(e):s.stringify(e)},g=f},1945:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});var r=n(724),i=n(2151),o=n(9683),s=n(418),a=n(2806),l=n(1719);class c{constructor(){this.diagnostics=[]}buildTokens(e,t){const n=(0,l.Td)((0,s.YV)(e,!1)),r=this.buildTerminalTokens(n),i=this.buildKeywordTokens(n,r,t);return r.forEach(e=>{const t=e.PATTERN;"object"==typeof t&&t&&"test"in t&&(0,a.Yv)(t)?i.unshift(e):i.push(e)}),i}flushLexingReport(e){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const e=[...this.diagnostics];return this.diagnostics=[],e}buildTerminalTokens(e){return e.filter(i.rE).filter(e=>!e.fragment).map(e=>this.buildTerminalToken(e)).toArray()}buildTerminalToken(e){const t=(0,s.S)(e),n=this.requiresCustomPattern(t)?this.regexPatternFunction(t):t,i={name:e.name,PATTERN:n};return"function"==typeof n&&(i.LINE_BREAKS=!0),e.hidden&&(i.GROUP=(0,a.Yv)(t)?r.JG.SKIPPED:"hidden"),i}requiresCustomPattern(e){return!(!e.flags.includes("u")&&!e.flags.includes("s"))||!(!e.source.includes("?<=")&&!e.source.includes("?<!"))}regexPatternFunction(e){const t=new RegExp(e,e.flags+"y");return(e,n)=>{t.lastIndex=n;return t.exec(e)}}buildKeywordTokens(e,t,n){return e.filter(i.s7).flatMap(e=>(0,o.Uo)(e).filter(i.wb)).distinct(e=>e.value).toArray().sort((e,t)=>t.value.length-e.value.length).map(e=>this.buildKeywordToken(e,t,Boolean(null==n?void 0:n.caseInsensitive)))}buildKeywordToken(e,t,n){const r=this.buildKeywordPattern(e,n),i={name:e.value,PATTERN:r,LONGER_ALT:this.findLongerAlt(e,t)};return"function"==typeof r&&(i.LINE_BREAKS=!0),i}buildKeywordPattern(e,t){return t?new RegExp((0,a.Ao)(e.value)):e.value}findLongerAlt(e,t){return t.reduce((t,n)=>{const r=null==n?void 0:n.PATTERN;return(null==r?void 0:r.source)&&(0,a.PC)("^"+r.source+"$",e.value)&&t.push(n),t},[])}}},2031:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2851),i=n(2528);const o=function(e,t,n,o){var s=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),s?(0,i.A)(n,c,u):(0,r.A)(n,c,u)}return n}},2049:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=Array.isArray},2050:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});const r=(0,n(8562).A)(Object,"create");const i=function(){this.__data__=r?r(null):{},this.size=0};const o=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var s=Object.prototype.hasOwnProperty;const a=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return s.call(t,e)?t[e]:void 0};var l=Object.prototype.hasOwnProperty;const c=function(e){var t=this.__data__;return r?void 0!==t[e]:l.call(t,e)};const u=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this};function h(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}h.prototype.clear=i,h.prototype.delete=o,h.prototype.get=a,h.prototype.has=c,h.prototype.set=u;const d=h;var p=n(9469),f=n(8335);const g=function(){this.size=0,this.__data__={hash:new d,map:new(f.A||p.A),string:new d}};const m=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const v=function(e,t){var n=e.__data__;return m(t)?n["string"==typeof t?"string":"hash"]:n.map};const y=function(e){var t=v(this,e).delete(e);return this.size-=t?1:0,t};const b=function(e){return v(this,e).get(e)};const w=function(e){return v(this,e).has(e)};const x=function(e,t){var n=v(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function _(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_.prototype.clear=g,_.prototype.delete=y,_.prototype.get=b,_.prototype.has=w,_.prototype.set=x;const A=_},2068:(e,t,n)=>{"use strict";n.d(t,{createInfoServices:()=>r.v});var r=n(1366);n(1272)},2080:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(9469);const i=function(){this.__data__=new r.A,this.size=0};const o=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const s=function(e){return this.__data__.get(e)};const a=function(e){return this.__data__.has(e)};var l=n(8335),c=n(2050);const u=function(e,t){var n=this.__data__;if(n instanceof r.A){var i=n.__data__;if(!l.A||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new c.A(i)}return n.set(e,t),this.size=n.size,this};function h(e){var t=this.__data__=new r.A(e);this.size=t.size}h.prototype.clear=i,h.prototype.delete=o,h.prototype.get=s,h.prototype.has=a,h.prototype.set=u;const d=h},2130:(e,t,n)=>{"use strict";n.d(t,{default:()=>ri});class r{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(e,t){return t?e&&e.loc&&t.loc&&e.loc.lexer===t.loc.lexer?new r(e.loc.lexer,e.loc.start,t.loc.end):null:e&&e.loc}}class i{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new i(t,r.range(this,e))}}class o{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n,r,i="KaTeX parse error: "+e,s=t&&t.loc;if(s&&s.start<=s.end){var a=s.lexer.input;n=s.start,r=s.end,n===a.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var l=a.slice(n,r).replace(/[^]/g,"$&̲");i+=(n>15?"…"+a.slice(n-15,n):a.slice(0,n))+l+(r+15<a.length?a.slice(r,r+15)+"…":a.slice(r))}var c=new Error(i);return c.name="ParseError",c.__proto__=o.prototype,c.position=n,null!=n&&null!=r&&(c.length=r-n),c.rawMessage=e,c}}o.prototype.__proto__=Error.prototype;var s=/([A-Z])/g,a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},l=/[&><"']/g;var c=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},u={contains:function(e,t){return-1!==e.indexOf(t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(l,e=>a[e])},hyphenate:function(e){return e.replace(s,"-$1").toLowerCase()},getBaseElem:c,isCharacterBox:function(e){var t=c(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},protocolFromUrl:function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?":"!==t[2]?null:/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?t[1].toLowerCase():null:"_relative"}},h={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>"Infinity"===e?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function d(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if("string"!=typeof n)return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class p{constructor(e){for(var t in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{},h)if(h.hasOwnProperty(t)){var n=h[t];this[t]=void 0!==e[t]?n.processor?n.processor(e[t]):e[t]:d(n)}}reportNonstrict(e,t,n){var r=this.strict;if("function"==typeof r&&(r=r(e,t,n)),r&&"ignore"!==r&&(!0===r||"error"===r))throw new o("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",n)}useStrictBehavior(e,t,n){var r=this.strict;if("function"==typeof r)try{r=r(e,t,n)}catch(e){r="error"}return!(!r||"ignore"===r)&&(!0===r||"error"===r)}isTrusted(e){if(e.url&&!e.protocol){var t=u.protocolFromUrl(e.url);if(null==t)return!1;e.protocol=t}var n="function"==typeof this.trust?this.trust(e):this.trust;return Boolean(n)}}class f{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return g[m[this.id]]}sub(){return g[v[this.id]]}fracNum(){return g[y[this.id]]}fracDen(){return g[b[this.id]]}cramp(){return g[w[this.id]]}text(){return g[x[this.id]]}isTight(){return this.size>=2}}var g=[new f(0,0,!1),new f(1,0,!0),new f(2,1,!1),new f(3,1,!0),new f(4,2,!1),new f(5,2,!0),new f(6,3,!1),new f(7,3,!0)],m=[4,5,4,5,6,7,6,7],v=[5,5,5,5,7,7,7,7],y=[2,3,4,5,6,7,6,7],b=[3,3,5,5,7,7,7,7],w=[1,1,3,3,5,5,7,7],x=[0,1,2,3,2,3,2,3],_={DISPLAY:g[0],TEXT:g[2],SCRIPT:g[4],SCRIPTSCRIPT:g[6]},A=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];var T=[];function E(e){for(var t=0;t<T.length;t+=2)if(e>=T[t]&&e<=T[t+1])return!0;return!1}A.forEach(e=>e.blocks.forEach(e=>T.push(...e)));var k=80,S={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};class C{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return u.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){return this.children.map(e=>e.toText()).join("")}}var N={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},M={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},O={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function R(e,t,n){if(!N[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),i=N[t][r];if(!i&&e[0]in O&&(r=O[e[0]].charCodeAt(0),i=N[t][r]),i||"text"!==n||E(r)&&(i=N[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var I={};var L=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],P=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],D=function(e,t){return t.size<2?e:L[e-1][t.size-1]};class B{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||B.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=P[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return new B(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:D(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:P[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=D(B.BASESIZE,e);return this.size===t&&this.textSize===B.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==B.BASESIZE?["sizing","reset-size"+this.size,"size"+B.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!I[t=e>=5?0:e>=3?1:2]){var n=I[t]={cssEmPerMu:M.quad[t]/18};for(var r in M)M.hasOwnProperty(r)&&(n[r]=M[r][t])}return I[t]}(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}B.BASESIZE=6;var F={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},z={ex:!0,em:!0,mu:!0},$=function(e){return"string"!=typeof e&&(e=e.unit),e in F||e in z||"ex"===e},j=function(e,t){var n;if(e.unit in F)n=F[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)n=t.fontMetrics().cssEmPerMu;else{var r;if(r=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)n=r.fontMetrics().xHeight;else{if("em"!==e.unit)throw new o("Invalid unit: '"+e.unit+"'");n=r.fontMetrics().quad}r!==t&&(n*=r.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},U=function(e){return+e.toFixed(4)+"em"},H=function(e){return e.filter(e=>e).join(" ")},G=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var r=t.getColor();r&&(this.style.color=r)}},V=function(e){var t=document.createElement(e);for(var n in t.className=H(this.classes),this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&t.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},W=/[\s"'>/=\x00-\x1f]/,Y=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+u.escape(H(this.classes))+'"');var n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=u.hyphenate(r)+":"+this.style[r]+";");for(var i in n&&(t+=' style="'+u.escape(n)+'"'),this.attributes)if(this.attributes.hasOwnProperty(i)){if(W.test(i))throw new o("Invalid attribute name '"+i+"'");t+=" "+i+'="'+u.escape(this.attributes[i])+'"'}t+=">";for(var s=0;s<this.children.length;s++)t+=this.children[s].toMarkup();return t+="</"+e+">"};class q{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,G.call(this,e,n,r),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return u.contains(this.classes,e)}toNode(){return V.call(this,"span")}toMarkup(){return Y.call(this,"span")}}class X{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,G.call(this,t,r),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return u.contains(this.classes,e)}toNode(){return V.call(this,"a")}toMarkup(){return Y.call(this,"a")}}class K{constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return u.contains(this.classes,e)}toNode(){var e=document.createElement("img");for(var t in e.src=this.src,e.alt=this.alt,e.className="mord",this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+u.escape(this.src)+'" alt="'+u.escape(this.alt)+'"',t="";for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=u.hyphenate(n)+":"+this.style[n]+";");return t&&(e+=' style="'+u.escape(t)+'"'),e+="'/>"}}var Z={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Q{constructor(e,t,n,r,i,o,s,a){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=r||0,this.skew=i||0,this.width=o||0,this.classes=s||[],this.style=a||{},this.maxFontSize=0;var l=function(e){for(var t=0;t<A.length;t++)for(var n=A[t],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(e>=i[0]&&e<=i[1])return n.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Z[this.text])}hasClass(e){return u.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;for(var n in this.italic>0&&((t=document.createElement("span")).style.marginRight=U(this.italic)),this.classes.length>0&&((t=t||document.createElement("span")).className=H(this.classes)),this.style)this.style.hasOwnProperty(n)&&((t=t||document.createElement("span")).style[n]=this.style[n]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=u.escape(H(this.classes)),t+='"');var n="";for(var r in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(r)&&(n+=u.hyphenate(r)+":"+this.style[r]+";");n&&(e=!0,t+=' style="'+u.escape(n)+'"');var i=u.escape(this.text);return e?(t+=">",t+=i,t+="</span>"):i}}class J{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+u.escape(this.attributes[t])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>"}}class ee{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",S[this.pathName]),e}toMarkup(){return this.alternate?'<path d="'+u.escape(this.alternate)+'"/>':'<path d="'+u.escape(S[this.pathName])+'"/>'}}class te{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+u.escape(this.attributes[t])+'"');return e+="/>"}}function ne(e){if(e instanceof Q)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}var re={bin:1,close:1,inner:1,open:1,punct:1,rel:1},ie={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},oe={math:{},text:{}};function se(e,t,n,r,i,o){oe[e][i]={font:t,group:n,replace:r},o&&r&&(oe[e][r]=oe[e][i])}var ae="math",le="text",ce="main",ue="ams",he="accent-token",de="bin",pe="close",fe="inner",ge="mathord",me="op-token",ve="open",ye="punct",be="rel",we="spacing",xe="textord";se(ae,ce,be,"≡","\\equiv",!0),se(ae,ce,be,"≺","\\prec",!0),se(ae,ce,be,"≻","\\succ",!0),se(ae,ce,be,"∼","\\sim",!0),se(ae,ce,be,"⊥","\\perp"),se(ae,ce,be,"⪯","\\preceq",!0),se(ae,ce,be,"⪰","\\succeq",!0),se(ae,ce,be,"≃","\\simeq",!0),se(ae,ce,be,"∣","\\mid",!0),se(ae,ce,be,"≪","\\ll",!0),se(ae,ce,be,"≫","\\gg",!0),se(ae,ce,be,"≍","\\asymp",!0),se(ae,ce,be,"∥","\\parallel"),se(ae,ce,be,"⋈","\\bowtie",!0),se(ae,ce,be,"⌣","\\smile",!0),se(ae,ce,be,"⊑","\\sqsubseteq",!0),se(ae,ce,be,"⊒","\\sqsupseteq",!0),se(ae,ce,be,"≐","\\doteq",!0),se(ae,ce,be,"⌢","\\frown",!0),se(ae,ce,be,"∋","\\ni",!0),se(ae,ce,be,"∝","\\propto",!0),se(ae,ce,be,"⊢","\\vdash",!0),se(ae,ce,be,"⊣","\\dashv",!0),se(ae,ce,be,"∋","\\owns"),se(ae,ce,ye,".","\\ldotp"),se(ae,ce,ye,"⋅","\\cdotp"),se(ae,ce,xe,"#","\\#"),se(le,ce,xe,"#","\\#"),se(ae,ce,xe,"&","\\&"),se(le,ce,xe,"&","\\&"),se(ae,ce,xe,"ℵ","\\aleph",!0),se(ae,ce,xe,"∀","\\forall",!0),se(ae,ce,xe,"ℏ","\\hbar",!0),se(ae,ce,xe,"∃","\\exists",!0),se(ae,ce,xe,"∇","\\nabla",!0),se(ae,ce,xe,"♭","\\flat",!0),se(ae,ce,xe,"ℓ","\\ell",!0),se(ae,ce,xe,"♮","\\natural",!0),se(ae,ce,xe,"♣","\\clubsuit",!0),se(ae,ce,xe,"℘","\\wp",!0),se(ae,ce,xe,"♯","\\sharp",!0),se(ae,ce,xe,"♢","\\diamondsuit",!0),se(ae,ce,xe,"ℜ","\\Re",!0),se(ae,ce,xe,"♡","\\heartsuit",!0),se(ae,ce,xe,"ℑ","\\Im",!0),se(ae,ce,xe,"♠","\\spadesuit",!0),se(ae,ce,xe,"§","\\S",!0),se(le,ce,xe,"§","\\S"),se(ae,ce,xe,"¶","\\P",!0),se(le,ce,xe,"¶","\\P"),se(ae,ce,xe,"†","\\dag"),se(le,ce,xe,"†","\\dag"),se(le,ce,xe,"†","\\textdagger"),se(ae,ce,xe,"‡","\\ddag"),se(le,ce,xe,"‡","\\ddag"),se(le,ce,xe,"‡","\\textdaggerdbl"),se(ae,ce,pe,"⎱","\\rmoustache",!0),se(ae,ce,ve,"⎰","\\lmoustache",!0),se(ae,ce,pe,"⟯","\\rgroup",!0),se(ae,ce,ve,"⟮","\\lgroup",!0),se(ae,ce,de,"∓","\\mp",!0),se(ae,ce,de,"⊖","\\ominus",!0),se(ae,ce,de,"⊎","\\uplus",!0),se(ae,ce,de,"⊓","\\sqcap",!0),se(ae,ce,de,"∗","\\ast"),se(ae,ce,de,"⊔","\\sqcup",!0),se(ae,ce,de,"◯","\\bigcirc",!0),se(ae,ce,de,"∙","\\bullet",!0),se(ae,ce,de,"‡","\\ddagger"),se(ae,ce,de,"≀","\\wr",!0),se(ae,ce,de,"⨿","\\amalg"),se(ae,ce,de,"&","\\And"),se(ae,ce,be,"⟵","\\longleftarrow",!0),se(ae,ce,be,"⇐","\\Leftarrow",!0),se(ae,ce,be,"⟸","\\Longleftarrow",!0),se(ae,ce,be,"⟶","\\longrightarrow",!0),se(ae,ce,be,"⇒","\\Rightarrow",!0),se(ae,ce,be,"⟹","\\Longrightarrow",!0),se(ae,ce,be,"↔","\\leftrightarrow",!0),se(ae,ce,be,"⟷","\\longleftrightarrow",!0),se(ae,ce,be,"⇔","\\Leftrightarrow",!0),se(ae,ce,be,"⟺","\\Longleftrightarrow",!0),se(ae,ce,be,"↦","\\mapsto",!0),se(ae,ce,be,"⟼","\\longmapsto",!0),se(ae,ce,be,"↗","\\nearrow",!0),se(ae,ce,be,"↩","\\hookleftarrow",!0),se(ae,ce,be,"↪","\\hookrightarrow",!0),se(ae,ce,be,"↘","\\searrow",!0),se(ae,ce,be,"↼","\\leftharpoonup",!0),se(ae,ce,be,"⇀","\\rightharpoonup",!0),se(ae,ce,be,"↙","\\swarrow",!0),se(ae,ce,be,"↽","\\leftharpoondown",!0),se(ae,ce,be,"⇁","\\rightharpoondown",!0),se(ae,ce,be,"↖","\\nwarrow",!0),se(ae,ce,be,"⇌","\\rightleftharpoons",!0),se(ae,ue,be,"≮","\\nless",!0),se(ae,ue,be,"","\\@nleqslant"),se(ae,ue,be,"","\\@nleqq"),se(ae,ue,be,"⪇","\\lneq",!0),se(ae,ue,be,"≨","\\lneqq",!0),se(ae,ue,be,"","\\@lvertneqq"),se(ae,ue,be,"⋦","\\lnsim",!0),se(ae,ue,be,"⪉","\\lnapprox",!0),se(ae,ue,be,"⊀","\\nprec",!0),se(ae,ue,be,"⋠","\\npreceq",!0),se(ae,ue,be,"⋨","\\precnsim",!0),se(ae,ue,be,"⪹","\\precnapprox",!0),se(ae,ue,be,"≁","\\nsim",!0),se(ae,ue,be,"","\\@nshortmid"),se(ae,ue,be,"∤","\\nmid",!0),se(ae,ue,be,"⊬","\\nvdash",!0),se(ae,ue,be,"⊭","\\nvDash",!0),se(ae,ue,be,"⋪","\\ntriangleleft"),se(ae,ue,be,"⋬","\\ntrianglelefteq",!0),se(ae,ue,be,"⊊","\\subsetneq",!0),se(ae,ue,be,"","\\@varsubsetneq"),se(ae,ue,be,"⫋","\\subsetneqq",!0),se(ae,ue,be,"","\\@varsubsetneqq"),se(ae,ue,be,"≯","\\ngtr",!0),se(ae,ue,be,"","\\@ngeqslant"),se(ae,ue,be,"","\\@ngeqq"),se(ae,ue,be,"⪈","\\gneq",!0),se(ae,ue,be,"≩","\\gneqq",!0),se(ae,ue,be,"","\\@gvertneqq"),se(ae,ue,be,"⋧","\\gnsim",!0),se(ae,ue,be,"⪊","\\gnapprox",!0),se(ae,ue,be,"⊁","\\nsucc",!0),se(ae,ue,be,"⋡","\\nsucceq",!0),se(ae,ue,be,"⋩","\\succnsim",!0),se(ae,ue,be,"⪺","\\succnapprox",!0),se(ae,ue,be,"≆","\\ncong",!0),se(ae,ue,be,"","\\@nshortparallel"),se(ae,ue,be,"∦","\\nparallel",!0),se(ae,ue,be,"⊯","\\nVDash",!0),se(ae,ue,be,"⋫","\\ntriangleright"),se(ae,ue,be,"⋭","\\ntrianglerighteq",!0),se(ae,ue,be,"","\\@nsupseteqq"),se(ae,ue,be,"⊋","\\supsetneq",!0),se(ae,ue,be,"","\\@varsupsetneq"),se(ae,ue,be,"⫌","\\supsetneqq",!0),se(ae,ue,be,"","\\@varsupsetneqq"),se(ae,ue,be,"⊮","\\nVdash",!0),se(ae,ue,be,"⪵","\\precneqq",!0),se(ae,ue,be,"⪶","\\succneqq",!0),se(ae,ue,be,"","\\@nsubseteqq"),se(ae,ue,de,"⊴","\\unlhd"),se(ae,ue,de,"⊵","\\unrhd"),se(ae,ue,be,"↚","\\nleftarrow",!0),se(ae,ue,be,"↛","\\nrightarrow",!0),se(ae,ue,be,"⇍","\\nLeftarrow",!0),se(ae,ue,be,"⇏","\\nRightarrow",!0),se(ae,ue,be,"↮","\\nleftrightarrow",!0),se(ae,ue,be,"⇎","\\nLeftrightarrow",!0),se(ae,ue,be,"△","\\vartriangle"),se(ae,ue,xe,"ℏ","\\hslash"),se(ae,ue,xe,"▽","\\triangledown"),se(ae,ue,xe,"◊","\\lozenge"),se(ae,ue,xe,"Ⓢ","\\circledS"),se(ae,ue,xe,"®","\\circledR"),se(le,ue,xe,"®","\\circledR"),se(ae,ue,xe,"∡","\\measuredangle",!0),se(ae,ue,xe,"∄","\\nexists"),se(ae,ue,xe,"℧","\\mho"),se(ae,ue,xe,"Ⅎ","\\Finv",!0),se(ae,ue,xe,"⅁","\\Game",!0),se(ae,ue,xe,"‵","\\backprime"),se(ae,ue,xe,"▲","\\blacktriangle"),se(ae,ue,xe,"▼","\\blacktriangledown"),se(ae,ue,xe,"■","\\blacksquare"),se(ae,ue,xe,"⧫","\\blacklozenge"),se(ae,ue,xe,"★","\\bigstar"),se(ae,ue,xe,"∢","\\sphericalangle",!0),se(ae,ue,xe,"∁","\\complement",!0),se(ae,ue,xe,"ð","\\eth",!0),se(le,ce,xe,"ð","ð"),se(ae,ue,xe,"╱","\\diagup"),se(ae,ue,xe,"╲","\\diagdown"),se(ae,ue,xe,"□","\\square"),se(ae,ue,xe,"□","\\Box"),se(ae,ue,xe,"◊","\\Diamond"),se(ae,ue,xe,"¥","\\yen",!0),se(le,ue,xe,"¥","\\yen",!0),se(ae,ue,xe,"✓","\\checkmark",!0),se(le,ue,xe,"✓","\\checkmark"),se(ae,ue,xe,"ℶ","\\beth",!0),se(ae,ue,xe,"ℸ","\\daleth",!0),se(ae,ue,xe,"ℷ","\\gimel",!0),se(ae,ue,xe,"ϝ","\\digamma",!0),se(ae,ue,xe,"ϰ","\\varkappa"),se(ae,ue,ve,"┌","\\@ulcorner",!0),se(ae,ue,pe,"┐","\\@urcorner",!0),se(ae,ue,ve,"└","\\@llcorner",!0),se(ae,ue,pe,"┘","\\@lrcorner",!0),se(ae,ue,be,"≦","\\leqq",!0),se(ae,ue,be,"⩽","\\leqslant",!0),se(ae,ue,be,"⪕","\\eqslantless",!0),se(ae,ue,be,"≲","\\lesssim",!0),se(ae,ue,be,"⪅","\\lessapprox",!0),se(ae,ue,be,"≊","\\approxeq",!0),se(ae,ue,de,"⋖","\\lessdot"),se(ae,ue,be,"⋘","\\lll",!0),se(ae,ue,be,"≶","\\lessgtr",!0),se(ae,ue,be,"⋚","\\lesseqgtr",!0),se(ae,ue,be,"⪋","\\lesseqqgtr",!0),se(ae,ue,be,"≑","\\doteqdot"),se(ae,ue,be,"≓","\\risingdotseq",!0),se(ae,ue,be,"≒","\\fallingdotseq",!0),se(ae,ue,be,"∽","\\backsim",!0),se(ae,ue,be,"⋍","\\backsimeq",!0),se(ae,ue,be,"⫅","\\subseteqq",!0),se(ae,ue,be,"⋐","\\Subset",!0),se(ae,ue,be,"⊏","\\sqsubset",!0),se(ae,ue,be,"≼","\\preccurlyeq",!0),se(ae,ue,be,"⋞","\\curlyeqprec",!0),se(ae,ue,be,"≾","\\precsim",!0),se(ae,ue,be,"⪷","\\precapprox",!0),se(ae,ue,be,"⊲","\\vartriangleleft"),se(ae,ue,be,"⊴","\\trianglelefteq"),se(ae,ue,be,"⊨","\\vDash",!0),se(ae,ue,be,"⊪","\\Vvdash",!0),se(ae,ue,be,"⌣","\\smallsmile"),se(ae,ue,be,"⌢","\\smallfrown"),se(ae,ue,be,"≏","\\bumpeq",!0),se(ae,ue,be,"≎","\\Bumpeq",!0),se(ae,ue,be,"≧","\\geqq",!0),se(ae,ue,be,"⩾","\\geqslant",!0),se(ae,ue,be,"⪖","\\eqslantgtr",!0),se(ae,ue,be,"≳","\\gtrsim",!0),se(ae,ue,be,"⪆","\\gtrapprox",!0),se(ae,ue,de,"⋗","\\gtrdot"),se(ae,ue,be,"⋙","\\ggg",!0),se(ae,ue,be,"≷","\\gtrless",!0),se(ae,ue,be,"⋛","\\gtreqless",!0),se(ae,ue,be,"⪌","\\gtreqqless",!0),se(ae,ue,be,"≖","\\eqcirc",!0),se(ae,ue,be,"≗","\\circeq",!0),se(ae,ue,be,"≜","\\triangleq",!0),se(ae,ue,be,"∼","\\thicksim"),se(ae,ue,be,"≈","\\thickapprox"),se(ae,ue,be,"⫆","\\supseteqq",!0),se(ae,ue,be,"⋑","\\Supset",!0),se(ae,ue,be,"⊐","\\sqsupset",!0),se(ae,ue,be,"≽","\\succcurlyeq",!0),se(ae,ue,be,"⋟","\\curlyeqsucc",!0),se(ae,ue,be,"≿","\\succsim",!0),se(ae,ue,be,"⪸","\\succapprox",!0),se(ae,ue,be,"⊳","\\vartriangleright"),se(ae,ue,be,"⊵","\\trianglerighteq"),se(ae,ue,be,"⊩","\\Vdash",!0),se(ae,ue,be,"∣","\\shortmid"),se(ae,ue,be,"∥","\\shortparallel"),se(ae,ue,be,"≬","\\between",!0),se(ae,ue,be,"⋔","\\pitchfork",!0),se(ae,ue,be,"∝","\\varpropto"),se(ae,ue,be,"◀","\\blacktriangleleft"),se(ae,ue,be,"∴","\\therefore",!0),se(ae,ue,be,"∍","\\backepsilon"),se(ae,ue,be,"▶","\\blacktriangleright"),se(ae,ue,be,"∵","\\because",!0),se(ae,ue,be,"⋘","\\llless"),se(ae,ue,be,"⋙","\\gggtr"),se(ae,ue,de,"⊲","\\lhd"),se(ae,ue,de,"⊳","\\rhd"),se(ae,ue,be,"≂","\\eqsim",!0),se(ae,ce,be,"⋈","\\Join"),se(ae,ue,be,"≑","\\Doteq",!0),se(ae,ue,de,"∔","\\dotplus",!0),se(ae,ue,de,"∖","\\smallsetminus"),se(ae,ue,de,"⋒","\\Cap",!0),se(ae,ue,de,"⋓","\\Cup",!0),se(ae,ue,de,"⩞","\\doublebarwedge",!0),se(ae,ue,de,"⊟","\\boxminus",!0),se(ae,ue,de,"⊞","\\boxplus",!0),se(ae,ue,de,"⋇","\\divideontimes",!0),se(ae,ue,de,"⋉","\\ltimes",!0),se(ae,ue,de,"⋊","\\rtimes",!0),se(ae,ue,de,"⋋","\\leftthreetimes",!0),se(ae,ue,de,"⋌","\\rightthreetimes",!0),se(ae,ue,de,"⋏","\\curlywedge",!0),se(ae,ue,de,"⋎","\\curlyvee",!0),se(ae,ue,de,"⊝","\\circleddash",!0),se(ae,ue,de,"⊛","\\circledast",!0),se(ae,ue,de,"⋅","\\centerdot"),se(ae,ue,de,"⊺","\\intercal",!0),se(ae,ue,de,"⋒","\\doublecap"),se(ae,ue,de,"⋓","\\doublecup"),se(ae,ue,de,"⊠","\\boxtimes",!0),se(ae,ue,be,"⇢","\\dashrightarrow",!0),se(ae,ue,be,"⇠","\\dashleftarrow",!0),se(ae,ue,be,"⇇","\\leftleftarrows",!0),se(ae,ue,be,"⇆","\\leftrightarrows",!0),se(ae,ue,be,"⇚","\\Lleftarrow",!0),se(ae,ue,be,"↞","\\twoheadleftarrow",!0),se(ae,ue,be,"↢","\\leftarrowtail",!0),se(ae,ue,be,"↫","\\looparrowleft",!0),se(ae,ue,be,"⇋","\\leftrightharpoons",!0),se(ae,ue,be,"↶","\\curvearrowleft",!0),se(ae,ue,be,"↺","\\circlearrowleft",!0),se(ae,ue,be,"↰","\\Lsh",!0),se(ae,ue,be,"⇈","\\upuparrows",!0),se(ae,ue,be,"↿","\\upharpoonleft",!0),se(ae,ue,be,"⇃","\\downharpoonleft",!0),se(ae,ce,be,"⊶","\\origof",!0),se(ae,ce,be,"⊷","\\imageof",!0),se(ae,ue,be,"⊸","\\multimap",!0),se(ae,ue,be,"↭","\\leftrightsquigarrow",!0),se(ae,ue,be,"⇉","\\rightrightarrows",!0),se(ae,ue,be,"⇄","\\rightleftarrows",!0),se(ae,ue,be,"↠","\\twoheadrightarrow",!0),se(ae,ue,be,"↣","\\rightarrowtail",!0),se(ae,ue,be,"↬","\\looparrowright",!0),se(ae,ue,be,"↷","\\curvearrowright",!0),se(ae,ue,be,"↻","\\circlearrowright",!0),se(ae,ue,be,"↱","\\Rsh",!0),se(ae,ue,be,"⇊","\\downdownarrows",!0),se(ae,ue,be,"↾","\\upharpoonright",!0),se(ae,ue,be,"⇂","\\downharpoonright",!0),se(ae,ue,be,"⇝","\\rightsquigarrow",!0),se(ae,ue,be,"⇝","\\leadsto"),se(ae,ue,be,"⇛","\\Rrightarrow",!0),se(ae,ue,be,"↾","\\restriction"),se(ae,ce,xe,"‘","`"),se(ae,ce,xe,"$","\\$"),se(le,ce,xe,"$","\\$"),se(le,ce,xe,"$","\\textdollar"),se(ae,ce,xe,"%","\\%"),se(le,ce,xe,"%","\\%"),se(ae,ce,xe,"_","\\_"),se(le,ce,xe,"_","\\_"),se(le,ce,xe,"_","\\textunderscore"),se(ae,ce,xe,"∠","\\angle",!0),se(ae,ce,xe,"∞","\\infty",!0),se(ae,ce,xe,"′","\\prime"),se(ae,ce,xe,"△","\\triangle"),se(ae,ce,xe,"Γ","\\Gamma",!0),se(ae,ce,xe,"Δ","\\Delta",!0),se(ae,ce,xe,"Θ","\\Theta",!0),se(ae,ce,xe,"Λ","\\Lambda",!0),se(ae,ce,xe,"Ξ","\\Xi",!0),se(ae,ce,xe,"Π","\\Pi",!0),se(ae,ce,xe,"Σ","\\Sigma",!0),se(ae,ce,xe,"Υ","\\Upsilon",!0),se(ae,ce,xe,"Φ","\\Phi",!0),se(ae,ce,xe,"Ψ","\\Psi",!0),se(ae,ce,xe,"Ω","\\Omega",!0),se(ae,ce,xe,"A","Α"),se(ae,ce,xe,"B","Β"),se(ae,ce,xe,"E","Ε"),se(ae,ce,xe,"Z","Ζ"),se(ae,ce,xe,"H","Η"),se(ae,ce,xe,"I","Ι"),se(ae,ce,xe,"K","Κ"),se(ae,ce,xe,"M","Μ"),se(ae,ce,xe,"N","Ν"),se(ae,ce,xe,"O","Ο"),se(ae,ce,xe,"P","Ρ"),se(ae,ce,xe,"T","Τ"),se(ae,ce,xe,"X","Χ"),se(ae,ce,xe,"¬","\\neg",!0),se(ae,ce,xe,"¬","\\lnot"),se(ae,ce,xe,"⊤","\\top"),se(ae,ce,xe,"⊥","\\bot"),se(ae,ce,xe,"∅","\\emptyset"),se(ae,ue,xe,"∅","\\varnothing"),se(ae,ce,ge,"α","\\alpha",!0),se(ae,ce,ge,"β","\\beta",!0),se(ae,ce,ge,"γ","\\gamma",!0),se(ae,ce,ge,"δ","\\delta",!0),se(ae,ce,ge,"ϵ","\\epsilon",!0),se(ae,ce,ge,"ζ","\\zeta",!0),se(ae,ce,ge,"η","\\eta",!0),se(ae,ce,ge,"θ","\\theta",!0),se(ae,ce,ge,"ι","\\iota",!0),se(ae,ce,ge,"κ","\\kappa",!0),se(ae,ce,ge,"λ","\\lambda",!0),se(ae,ce,ge,"μ","\\mu",!0),se(ae,ce,ge,"ν","\\nu",!0),se(ae,ce,ge,"ξ","\\xi",!0),se(ae,ce,ge,"ο","\\omicron",!0),se(ae,ce,ge,"π","\\pi",!0),se(ae,ce,ge,"ρ","\\rho",!0),se(ae,ce,ge,"σ","\\sigma",!0),se(ae,ce,ge,"τ","\\tau",!0),se(ae,ce,ge,"υ","\\upsilon",!0),se(ae,ce,ge,"ϕ","\\phi",!0),se(ae,ce,ge,"χ","\\chi",!0),se(ae,ce,ge,"ψ","\\psi",!0),se(ae,ce,ge,"ω","\\omega",!0),se(ae,ce,ge,"ε","\\varepsilon",!0),se(ae,ce,ge,"ϑ","\\vartheta",!0),se(ae,ce,ge,"ϖ","\\varpi",!0),se(ae,ce,ge,"ϱ","\\varrho",!0),se(ae,ce,ge,"ς","\\varsigma",!0),se(ae,ce,ge,"φ","\\varphi",!0),se(ae,ce,de,"∗","*",!0),se(ae,ce,de,"+","+"),se(ae,ce,de,"−","-",!0),se(ae,ce,de,"⋅","\\cdot",!0),se(ae,ce,de,"∘","\\circ",!0),se(ae,ce,de,"÷","\\div",!0),se(ae,ce,de,"±","\\pm",!0),se(ae,ce,de,"×","\\times",!0),se(ae,ce,de,"∩","\\cap",!0),se(ae,ce,de,"∪","\\cup",!0),se(ae,ce,de,"∖","\\setminus",!0),se(ae,ce,de,"∧","\\land"),se(ae,ce,de,"∨","\\lor"),se(ae,ce,de,"∧","\\wedge",!0),se(ae,ce,de,"∨","\\vee",!0),se(ae,ce,xe,"√","\\surd"),se(ae,ce,ve,"⟨","\\langle",!0),se(ae,ce,ve,"∣","\\lvert"),se(ae,ce,ve,"∥","\\lVert"),se(ae,ce,pe,"?","?"),se(ae,ce,pe,"!","!"),se(ae,ce,pe,"⟩","\\rangle",!0),se(ae,ce,pe,"∣","\\rvert"),se(ae,ce,pe,"∥","\\rVert"),se(ae,ce,be,"=","="),se(ae,ce,be,":",":"),se(ae,ce,be,"≈","\\approx",!0),se(ae,ce,be,"≅","\\cong",!0),se(ae,ce,be,"≥","\\ge"),se(ae,ce,be,"≥","\\geq",!0),se(ae,ce,be,"←","\\gets"),se(ae,ce,be,">","\\gt",!0),se(ae,ce,be,"∈","\\in",!0),se(ae,ce,be,"","\\@not"),se(ae,ce,be,"⊂","\\subset",!0),se(ae,ce,be,"⊃","\\supset",!0),se(ae,ce,be,"⊆","\\subseteq",!0),se(ae,ce,be,"⊇","\\supseteq",!0),se(ae,ue,be,"⊈","\\nsubseteq",!0),se(ae,ue,be,"⊉","\\nsupseteq",!0),se(ae,ce,be,"⊨","\\models"),se(ae,ce,be,"←","\\leftarrow",!0),se(ae,ce,be,"≤","\\le"),se(ae,ce,be,"≤","\\leq",!0),se(ae,ce,be,"<","\\lt",!0),se(ae,ce,be,"→","\\rightarrow",!0),se(ae,ce,be,"→","\\to"),se(ae,ue,be,"≱","\\ngeq",!0),se(ae,ue,be,"≰","\\nleq",!0),se(ae,ce,we," ","\\ "),se(ae,ce,we," ","\\space"),se(ae,ce,we," ","\\nobreakspace"),se(le,ce,we," ","\\ "),se(le,ce,we," "," "),se(le,ce,we," ","\\space"),se(le,ce,we," ","\\nobreakspace"),se(ae,ce,we,null,"\\nobreak"),se(ae,ce,we,null,"\\allowbreak"),se(ae,ce,ye,",",","),se(ae,ce,ye,";",";"),se(ae,ue,de,"⊼","\\barwedge",!0),se(ae,ue,de,"⊻","\\veebar",!0),se(ae,ce,de,"⊙","\\odot",!0),se(ae,ce,de,"⊕","\\oplus",!0),se(ae,ce,de,"⊗","\\otimes",!0),se(ae,ce,xe,"∂","\\partial",!0),se(ae,ce,de,"⊘","\\oslash",!0),se(ae,ue,de,"⊚","\\circledcirc",!0),se(ae,ue,de,"⊡","\\boxdot",!0),se(ae,ce,de,"△","\\bigtriangleup"),se(ae,ce,de,"▽","\\bigtriangledown"),se(ae,ce,de,"†","\\dagger"),se(ae,ce,de,"⋄","\\diamond"),se(ae,ce,de,"⋆","\\star"),se(ae,ce,de,"◃","\\triangleleft"),se(ae,ce,de,"▹","\\triangleright"),se(ae,ce,ve,"{","\\{"),se(le,ce,xe,"{","\\{"),se(le,ce,xe,"{","\\textbraceleft"),se(ae,ce,pe,"}","\\}"),se(le,ce,xe,"}","\\}"),se(le,ce,xe,"}","\\textbraceright"),se(ae,ce,ve,"{","\\lbrace"),se(ae,ce,pe,"}","\\rbrace"),se(ae,ce,ve,"[","\\lbrack",!0),se(le,ce,xe,"[","\\lbrack",!0),se(ae,ce,pe,"]","\\rbrack",!0),se(le,ce,xe,"]","\\rbrack",!0),se(ae,ce,ve,"(","\\lparen",!0),se(ae,ce,pe,")","\\rparen",!0),se(le,ce,xe,"<","\\textless",!0),se(le,ce,xe,">","\\textgreater",!0),se(ae,ce,ve,"⌊","\\lfloor",!0),se(ae,ce,pe,"⌋","\\rfloor",!0),se(ae,ce,ve,"⌈","\\lceil",!0),se(ae,ce,pe,"⌉","\\rceil",!0),se(ae,ce,xe,"\\","\\backslash"),se(ae,ce,xe,"∣","|"),se(ae,ce,xe,"∣","\\vert"),se(le,ce,xe,"|","\\textbar",!0),se(ae,ce,xe,"∥","\\|"),se(ae,ce,xe,"∥","\\Vert"),se(le,ce,xe,"∥","\\textbardbl"),se(le,ce,xe,"~","\\textasciitilde"),se(le,ce,xe,"\\","\\textbackslash"),se(le,ce,xe,"^","\\textasciicircum"),se(ae,ce,be,"↑","\\uparrow",!0),se(ae,ce,be,"⇑","\\Uparrow",!0),se(ae,ce,be,"↓","\\downarrow",!0),se(ae,ce,be,"⇓","\\Downarrow",!0),se(ae,ce,be,"↕","\\updownarrow",!0),se(ae,ce,be,"⇕","\\Updownarrow",!0),se(ae,ce,me,"∐","\\coprod"),se(ae,ce,me,"⋁","\\bigvee"),se(ae,ce,me,"⋀","\\bigwedge"),se(ae,ce,me,"⨄","\\biguplus"),se(ae,ce,me,"⋂","\\bigcap"),se(ae,ce,me,"⋃","\\bigcup"),se(ae,ce,me,"∫","\\int"),se(ae,ce,me,"∫","\\intop"),se(ae,ce,me,"∬","\\iint"),se(ae,ce,me,"∭","\\iiint"),se(ae,ce,me,"∏","\\prod"),se(ae,ce,me,"∑","\\sum"),se(ae,ce,me,"⨂","\\bigotimes"),se(ae,ce,me,"⨁","\\bigoplus"),se(ae,ce,me,"⨀","\\bigodot"),se(ae,ce,me,"∮","\\oint"),se(ae,ce,me,"∯","\\oiint"),se(ae,ce,me,"∰","\\oiiint"),se(ae,ce,me,"⨆","\\bigsqcup"),se(ae,ce,me,"∫","\\smallint"),se(le,ce,fe,"…","\\textellipsis"),se(ae,ce,fe,"…","\\mathellipsis"),se(le,ce,fe,"…","\\ldots",!0),se(ae,ce,fe,"…","\\ldots",!0),se(ae,ce,fe,"⋯","\\@cdots",!0),se(ae,ce,fe,"⋱","\\ddots",!0),se(ae,ce,xe,"⋮","\\varvdots"),se(le,ce,xe,"⋮","\\varvdots"),se(ae,ce,he,"ˊ","\\acute"),se(ae,ce,he,"ˋ","\\grave"),se(ae,ce,he,"¨","\\ddot"),se(ae,ce,he,"~","\\tilde"),se(ae,ce,he,"ˉ","\\bar"),se(ae,ce,he,"˘","\\breve"),se(ae,ce,he,"ˇ","\\check"),se(ae,ce,he,"^","\\hat"),se(ae,ce,he,"⃗","\\vec"),se(ae,ce,he,"˙","\\dot"),se(ae,ce,he,"˚","\\mathring"),se(ae,ce,ge,"","\\@imath"),se(ae,ce,ge,"","\\@jmath"),se(ae,ce,xe,"ı","ı"),se(ae,ce,xe,"ȷ","ȷ"),se(le,ce,xe,"ı","\\i",!0),se(le,ce,xe,"ȷ","\\j",!0),se(le,ce,xe,"ß","\\ss",!0),se(le,ce,xe,"æ","\\ae",!0),se(le,ce,xe,"œ","\\oe",!0),se(le,ce,xe,"ø","\\o",!0),se(le,ce,xe,"Æ","\\AE",!0),se(le,ce,xe,"Œ","\\OE",!0),se(le,ce,xe,"Ø","\\O",!0),se(le,ce,he,"ˊ","\\'"),se(le,ce,he,"ˋ","\\`"),se(le,ce,he,"ˆ","\\^"),se(le,ce,he,"˜","\\~"),se(le,ce,he,"ˉ","\\="),se(le,ce,he,"˘","\\u"),se(le,ce,he,"˙","\\."),se(le,ce,he,"¸","\\c"),se(le,ce,he,"˚","\\r"),se(le,ce,he,"ˇ","\\v"),se(le,ce,he,"¨",'\\"'),se(le,ce,he,"˝","\\H"),se(le,ce,he,"◯","\\textcircled");var _e={"--":!0,"---":!0,"``":!0,"''":!0};se(le,ce,xe,"–","--",!0),se(le,ce,xe,"–","\\textendash"),se(le,ce,xe,"—","---",!0),se(le,ce,xe,"—","\\textemdash"),se(le,ce,xe,"‘","`",!0),se(le,ce,xe,"‘","\\textquoteleft"),se(le,ce,xe,"’","'",!0),se(le,ce,xe,"’","\\textquoteright"),se(le,ce,xe,"“","``",!0),se(le,ce,xe,"“","\\textquotedblleft"),se(le,ce,xe,"”","''",!0),se(le,ce,xe,"”","\\textquotedblright"),se(ae,ce,xe,"°","\\degree",!0),se(le,ce,xe,"°","\\degree"),se(le,ce,xe,"°","\\textdegree",!0),se(ae,ce,xe,"£","\\pounds"),se(ae,ce,xe,"£","\\mathsterling",!0),se(le,ce,xe,"£","\\pounds"),se(le,ce,xe,"£","\\textsterling",!0),se(ae,ue,xe,"✠","\\maltese"),se(le,ue,xe,"✠","\\maltese");for(var Ae='0123456789/@."',Te=0;Te<14;Te++){var Ee=Ae.charAt(Te);se(ae,ce,xe,Ee,Ee)}for(var ke='0123456789!@*()-=+";:?/.,',Se=0;Se<25;Se++){var Ce=ke.charAt(Se);se(le,ce,xe,Ce,Ce)}for(var Ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Me=0;Me<52;Me++){var Oe=Ne.charAt(Me);se(ae,ce,ge,Oe,Oe),se(le,ce,xe,Oe,Oe)}se(ae,ue,xe,"C","ℂ"),se(le,ue,xe,"C","ℂ"),se(ae,ue,xe,"H","ℍ"),se(le,ue,xe,"H","ℍ"),se(ae,ue,xe,"N","ℕ"),se(le,ue,xe,"N","ℕ"),se(ae,ue,xe,"P","ℙ"),se(le,ue,xe,"P","ℙ"),se(ae,ue,xe,"Q","ℚ"),se(le,ue,xe,"Q","ℚ"),se(ae,ue,xe,"R","ℝ"),se(le,ue,xe,"R","ℝ"),se(ae,ue,xe,"Z","ℤ"),se(le,ue,xe,"Z","ℤ"),se(ae,ce,ge,"h","ℎ"),se(le,ce,ge,"h","ℎ");for(var Re="",Ie=0;Ie<52;Ie++){var Le=Ne.charAt(Ie);se(ae,ce,ge,Le,Re=String.fromCharCode(55349,56320+Ie)),se(le,ce,xe,Le,Re),se(ae,ce,ge,Le,Re=String.fromCharCode(55349,56372+Ie)),se(le,ce,xe,Le,Re),se(ae,ce,ge,Le,Re=String.fromCharCode(55349,56424+Ie)),se(le,ce,xe,Le,Re),se(ae,ce,ge,Le,Re=String.fromCharCode(55349,56580+Ie)),se(le,ce,xe,Le,Re),se(ae,ce,ge,Le,Re=String.fromCharCode(55349,56684+Ie)),se(le,ce,xe,Le,Re),se(ae,ce,ge,Le,Re=String.fromCharCode(55349,56736+Ie)),se(le,ce,xe,Le,Re),se(ae,ce,ge,Le,Re=String.fromCharCode(55349,56788+Ie)),se(le,ce,xe,Le,Re),se(ae,ce,ge,Le,Re=String.fromCharCode(55349,56840+Ie)),se(le,ce,xe,Le,Re),se(ae,ce,ge,Le,Re=String.fromCharCode(55349,56944+Ie)),se(le,ce,xe,Le,Re),Ie<26&&(se(ae,ce,ge,Le,Re=String.fromCharCode(55349,56632+Ie)),se(le,ce,xe,Le,Re),se(ae,ce,ge,Le,Re=String.fromCharCode(55349,56476+Ie)),se(le,ce,xe,Le,Re))}se(ae,ce,ge,"k",Re=String.fromCharCode(55349,56668)),se(le,ce,xe,"k",Re);for(var Pe=0;Pe<10;Pe++){var De=Pe.toString();se(ae,ce,ge,De,Re=String.fromCharCode(55349,57294+Pe)),se(le,ce,xe,De,Re),se(ae,ce,ge,De,Re=String.fromCharCode(55349,57314+Pe)),se(le,ce,xe,De,Re),se(ae,ce,ge,De,Re=String.fromCharCode(55349,57324+Pe)),se(le,ce,xe,De,Re),se(ae,ce,ge,De,Re=String.fromCharCode(55349,57334+Pe)),se(le,ce,xe,De,Re)}for(var Be="ÐÞþ",Fe=0;Fe<3;Fe++){var ze=Be.charAt(Fe);se(ae,ce,ge,ze,ze),se(le,ce,xe,ze,ze)}var $e=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],je=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Ue=function(e,t,n){return oe[n][e]&&oe[n][e].replace&&(e=oe[n][e].replace),{value:e,metrics:R(e,t,n)}},He=function(e,t,n,r,i){var o,s=Ue(e,t,n),a=s.metrics;if(e=s.value,a){var l=a.italic;("text"===n||r&&"mathit"===r.font)&&(l=0),o=new Q(e,a.height,a.depth,l,a.skew,a.width,i)}else o=new Q(e,0,0,0,0,0,i);if(r){o.maxFontSize=r.sizeMultiplier,r.style.isTight()&&o.classes.push("mtight");var c=r.getColor();c&&(o.style.color=c)}return o},Ge=(e,t)=>{if(H(e.classes)!==H(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){var n=e.classes[0];if("mbin"===n||"mord"===n)return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},Ve=function(e){for(var t=0,n=0,r=0,i=0;i<e.children.length;i++){var o=e.children[i];o.height>t&&(t=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>r&&(r=o.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=r},We=function(e,t,n,r){var i=new q(e,t,n,r);return Ve(i),i},Ye=(e,t,n,r)=>new q(e,t,n,r),qe=function(e){var t=new C(e);return Ve(t),t},Xe=function(e,t,n){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}return r+"-"+("textbf"===t&&"textit"===n?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},Ke={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Ze={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Qe={fontMap:Ke,makeSymbol:He,mathsym:function(e,t,n,r){return void 0===r&&(r=[]),"boldsymbol"===n.font&&Ue(e,"Main-Bold",t).metrics?He(e,"Main-Bold",t,n,r.concat(["mathbf"])):"\\"===e||"main"===oe[t][e].font?He(e,"Main-Regular",t,n,r):He(e,"AMS-Regular",t,n,r.concat(["amsrm"]))},makeSpan:We,makeSvgSpan:Ye,makeLineSpan:function(e,t,n){var r=We([e],[],t);return r.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),r.style.borderBottomWidth=U(r.height),r.maxFontSize=1,r},makeAnchor:function(e,t,n,r){var i=new X(e,t,n,r);return Ve(i),i},makeFragment:qe,wrapFragment:function(e,t){return e instanceof C?We([],[e],t):e},makeVList:function(e,t){for(var{children:n,depth:r}=function(e){if("individualShift"===e.positionType){for(var t=e.children,n=[t[0]],r=-t[0].shift-t[0].elem.depth,i=r,o=1;o<t.length;o++){var s=-t[o].shift-i-t[o].elem.depth,a=s-(t[o-1].elem.height+t[o-1].elem.depth);i+=s,n.push({type:"kern",size:a}),n.push(t[o])}return{children:n,depth:r}}var l;if("top"===e.positionType){for(var c=e.positionData,u=0;u<e.children.length;u++){var h=e.children[u];c-="kern"===h.type?h.size:h.elem.height+h.elem.depth}l=c}else if("bottom"===e.positionType)l=-e.positionData;else{var d=e.children[0];if("elem"!==d.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-d.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-d.elem.depth}}return{children:e.children,depth:l}}(e),i=0,o=0;o<n.length;o++){var s=n[o];if("elem"===s.type){var a=s.elem;i=Math.max(i,a.maxFontSize,a.height)}}i+=2;var l=We(["pstrut"],[]);l.style.height=U(i);for(var c=[],u=r,h=r,d=r,p=0;p<n.length;p++){var f=n[p];if("kern"===f.type)d+=f.size;else{var g=f.elem,m=f.wrapperClasses||[],v=f.wrapperStyle||{},y=We(m,[l,g],void 0,v);y.style.top=U(-i-d-g.depth),f.marginLeft&&(y.style.marginLeft=f.marginLeft),f.marginRight&&(y.style.marginRight=f.marginRight),c.push(y),d+=g.height+g.depth}u=Math.min(u,d),h=Math.max(h,d)}var b,w=We(["vlist"],c);if(w.style.height=U(h),u<0){var x=We([],[]),_=We(["vlist"],[x]);_.style.height=U(-u);var A=We(["vlist-s"],[new Q("​")]);b=[We(["vlist-r"],[w,A]),We(["vlist-r"],[_])]}else b=[We(["vlist-r"],[w])];var T=We(["vlist-t"],b);return 2===b.length&&T.classes.push("vlist-t2"),T.height=h,T.depth=-u,T},makeOrd:function(e,t,n){var r=e.mode,i=e.text,s=["mord"],a="math"===r||"text"===r&&t.font,l=a?t.font:t.fontFamily,c="",u="";if(55349===i.charCodeAt(0)&&([c,u]=function(e,t){var n=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,r="math"===t?0:1;if(119808<=n&&n<120484){var i=Math.floor((n-119808)/26);return[$e[i][2],$e[i][r]]}if(120782<=n&&n<=120831){var s=Math.floor((n-120782)/10);return[je[s][2],je[s][r]]}if(120485===n||120486===n)return[$e[0][2],$e[0][r]];if(120486<n&&n<120782)return["",""];throw new o("Unsupported character: "+e)}(i,r)),c.length>0)return He(i,c,r,t,s.concat(u));if(l){var h,d;if("boldsymbol"===l){var p=function(e,t,n,r,i){return"textord"!==i&&Ue(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(i,r,0,0,n);h=p.fontName,d=[p.fontClass]}else a?(h=Ke[l].fontName,d=[l]):(h=Xe(l,t.fontWeight,t.fontShape),d=[l,t.fontWeight,t.fontShape]);if(Ue(i,h,r).metrics)return He(i,h,r,t,s.concat(d));if(_e.hasOwnProperty(i)&&"Typewriter"===h.slice(0,10)){for(var f=[],g=0;g<i.length;g++)f.push(He(i[g],h,r,t,s.concat(d)));return qe(f)}}if("mathord"===n)return He(i,"Math-Italic",r,t,s.concat(["mathnormal"]));if("textord"===n){var m=oe[r][i]&&oe[r][i].font;if("ams"===m){var v=Xe("amsrm",t.fontWeight,t.fontShape);return He(i,v,r,t,s.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==m&&m){var y=Xe(m,t.fontWeight,t.fontShape);return He(i,y,r,t,s.concat(y,t.fontWeight,t.fontShape))}var b=Xe("textrm",t.fontWeight,t.fontShape);return He(i,b,r,t,s.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+n+" in makeOrd")},makeGlue:(e,t)=>{var n=We(["mspace"],[],t),r=j(e,t);return n.style.marginRight=U(r),n},staticSvg:function(e,t){var[n,r,i]=Ze[e],o=new ee(n),s=new J([o],{width:U(r),height:U(i),style:"width:"+U(r),viewBox:"0 0 "+1e3*r+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),a=Ye(["overlay"],[s],t);return a.height=i,a.style.height=U(i),a.style.width=U(r),a},svgData:Ze,tryCombineChars:e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof Q&&r instanceof Q&&Ge(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e}},Je={number:3,unit:"mu"},et={number:4,unit:"mu"},tt={number:5,unit:"mu"},nt={mord:{mop:Je,mbin:et,mrel:tt,minner:Je},mop:{mord:Je,mop:Je,mrel:tt,minner:Je},mbin:{mord:et,mop:et,mopen:et,minner:et},mrel:{mord:tt,mop:tt,mopen:tt,minner:tt},mopen:{},mclose:{mop:Je,mbin:et,mrel:tt,minner:Je},mpunct:{mord:Je,mop:Je,mrel:tt,mopen:Je,mclose:Je,mpunct:Je,minner:Je},minner:{mord:Je,mop:Je,mbin:et,mrel:tt,mopen:Je,mpunct:Je,minner:Je}},rt={mord:{mop:Je},mop:{mord:Je,mop:Je},mbin:{},mrel:{},mopen:{},mclose:{mop:Je},mpunct:{},minner:{mop:Je}},it={},ot={},st={};function at(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:s}=e,a={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:void 0===r.allowedInMath||r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)it[n[l]]=a;t&&(o&&(ot[t]=o),s&&(st[t]=s))}function lt(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;at({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var ct=function(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e},ut=function(e){return"ordgroup"===e.type?e.body:[e]},ht=Qe.makeSpan,dt=["leftmost","mbin","mopen","mrel","mop","mpunct"],pt=["rightmost","mrel","mclose","mpunct"],ft={display:_.DISPLAY,text:_.TEXT,script:_.SCRIPT,scriptscript:_.SCRIPTSCRIPT},gt={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},mt=function(e,t,n,r){void 0===r&&(r=[null,null]);for(var i=[],o=0;o<e.length;o++){var s=_t(e[o],t);if(s instanceof C){var a=s.children;i.push(...a)}else i.push(s)}if(Qe.tryCombineChars(i),!n)return i;var l=t;if(1===e.length){var c=e[0];"sizing"===c.type?l=t.havingSize(c.size):"styling"===c.type&&(l=t.havingStyle(ft[c.style]))}var h=ht([r[0]||"leftmost"],[],t),d=ht([r[1]||"rightmost"],[],t),p="root"===n;return vt(i,(e,t)=>{var n=t.classes[0],r=e.classes[0];"mbin"===n&&u.contains(pt,r)?t.classes[0]="mord":"mbin"===r&&u.contains(dt,n)&&(e.classes[0]="mord")},{node:h},d,p),vt(i,(e,t)=>{var n=wt(t),r=wt(e),i=n&&r?e.hasClass("mtight")?rt[n][r]:nt[n][r]:null;if(i)return Qe.makeGlue(i,l)},{node:h},d,p),i},vt=function e(t,n,r,i,o){i&&t.push(i);for(var s=0;s<t.length;s++){var a=t[s],l=yt(a);if(l)e(l.children,n,r,null,o);else{var c=!a.hasClass("mspace");if(c){var u=n(a,r.node);u&&(r.insertAfter?r.insertAfter(u):(t.unshift(u),s++))}c?r.node=a:o&&a.hasClass("newline")&&(r.node=ht(["leftmost"])),r.insertAfter=(e=>n=>{t.splice(e+1,0,n),s++})(s)}}i&&t.pop()},yt=function(e){return e instanceof C||e instanceof X||e instanceof q&&e.hasClass("enclosing")?e:null},bt=function e(t,n){var r=yt(t);if(r){var i=r.children;if(i.length){if("right"===n)return e(i[i.length-1],"right");if("left"===n)return e(i[0],"left")}}return t},wt=function(e,t){return e?(t&&(e=bt(e,t)),gt[e.classes[0]]||null):null},xt=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return ht(t.concat(n))},_t=function(e,t,n){if(!e)return ht();if(ot[e.type]){var r=ot[e.type](e,t);if(n&&t.size!==n.size){r=ht(t.sizingClasses(n),[r],t);var i=t.sizeMultiplier/n.sizeMultiplier;r.height*=i,r.depth*=i}return r}throw new o("Got group of unknown type: '"+e.type+"'")};function At(e,t){var n=ht(["base"],e,t),r=ht(["strut"]);return r.style.height=U(n.height+n.depth),n.depth&&(r.style.verticalAlign=U(-n.depth)),n.children.unshift(r),n}function Tt(e,t){var n=null;1===e.length&&"tag"===e[0].type&&(n=e[0].tag,e=e[0].body);var r,i=mt(e,t,"root");2===i.length&&i[1].hasClass("tag")&&(r=i.pop());for(var o,s=[],a=[],l=0;l<i.length;l++)if(a.push(i[l]),i[l].hasClass("mbin")||i[l].hasClass("mrel")||i[l].hasClass("allowbreak")){for(var c=!1;l<i.length-1&&i[l+1].hasClass("mspace")&&!i[l+1].hasClass("newline");)l++,a.push(i[l]),i[l].hasClass("nobreak")&&(c=!0);c||(s.push(At(a,t)),a=[])}else i[l].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(At(a,t)),a=[]),s.push(i[l]));a.length>0&&s.push(At(a,t)),n?((o=At(mt(n,t,!0))).classes=["tag"],s.push(o)):r&&s.push(r);var u=ht(["katex-html"],s);if(u.setAttribute("aria-hidden","true"),o){var h=o.children[0];h.style.height=U(u.height+u.depth),u.depth&&(h.style.verticalAlign=U(-u.depth))}return u}function Et(e){return new C(e)}class kt{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=H(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof St&&this.children[n+1]instanceof St){for(var r=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof St;)r+=this.children[++n].toText();e.appendChild(new St(r).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=u.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+u.escape(H(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">"}toText(){return this.children.map(e=>e.toText()).join("")}}class St{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return u.escape(this.toText())}toText(){return this.text}}var Ct={MathNode:kt,TextNode:St,SpaceNode:class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?" ":e>=.1666&&e<=.1667?" ":e>=.2222&&e<=.2223?" ":e>=.2777&&e<=.2778?"  ":e>=-.05556&&e<=-.05555?" ⁣":e>=-.1667&&e<=-.1666?" ⁣":e>=-.2223&&e<=-.2222?" ⁣":e>=-.2778&&e<=-.2777?" ⁣":null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",U(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+U(this.width)+'"/>'}toText(){return this.character?this.character:" "}},newDocumentFragment:Et},Nt=function(e,t,n){return!oe[t][e]||!oe[t][e].replace||55349===e.charCodeAt(0)||_e.hasOwnProperty(e)&&n&&(n.fontFamily&&"tt"===n.fontFamily.slice(4,6)||n.font&&"tt"===n.font.slice(4,6))||(e=oe[t][e].replace),new Ct.TextNode(e)},Mt=function(e){return 1===e.length?e[0]:new Ct.MathNode("mrow",e)},Ot=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var n=t.font;if(!n||"mathnormal"===n)return null;var r=e.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"textord"===e.type?"bold":"bold-italic";if("mathbf"===n)return"bold";if("mathbb"===n)return"double-struck";if("mathsfit"===n)return"sans-serif-italic";if("mathfrak"===n)return"fraktur";if("mathscr"===n||"mathcal"===n)return"script";if("mathsf"===n)return"sans-serif";if("mathtt"===n)return"monospace";var i=e.text;return u.contains(["\\imath","\\jmath"],i)?null:(oe[r][i]&&oe[r][i].replace&&(i=oe[r][i].replace),R(i,Qe.fontMap[n].fontName,r)?Qe.fontMap[n].variant:null)};function Rt(e){if(!e)return!1;if("mi"===e.type&&1===e.children.length){var t=e.children[0];return t instanceof St&&"."===t.text}if("mo"===e.type&&1===e.children.length&&"true"===e.getAttribute("separator")&&"0em"===e.getAttribute("lspace")&&"0em"===e.getAttribute("rspace")){var n=e.children[0];return n instanceof St&&","===n.text}return!1}var It=function(e,t,n){if(1===e.length){var r=Pt(e[0],t);return n&&r instanceof kt&&"mo"===r.type&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var i,o=[],s=0;s<e.length;s++){var a=Pt(e[s],t);if(a instanceof kt&&i instanceof kt){if("mtext"===a.type&&"mtext"===i.type&&a.getAttribute("mathvariant")===i.getAttribute("mathvariant")){i.children.push(...a.children);continue}if("mn"===a.type&&"mn"===i.type){i.children.push(...a.children);continue}if(Rt(a)&&"mn"===i.type){i.children.push(...a.children);continue}if("mn"===a.type&&Rt(i))a.children=[...i.children,...a.children],o.pop();else if(("msup"===a.type||"msub"===a.type)&&a.children.length>=1&&("mn"===i.type||Rt(i))){var l=a.children[0];l instanceof kt&&"mn"===l.type&&(l.children=[...i.children,...l.children],o.pop())}else if("mi"===i.type&&1===i.children.length){var c=i.children[0];if(c instanceof St&&"̸"===c.text&&("mo"===a.type||"mi"===a.type||"mn"===a.type)){var u=a.children[0];u instanceof St&&u.text.length>0&&(u.text=u.text.slice(0,1)+"̸"+u.text.slice(1),o.pop())}}}o.push(a),i=a}return o},Lt=function(e,t,n){return Mt(It(e,t,n))},Pt=function(e,t){if(!e)return new Ct.MathNode("mrow");if(st[e.type])return st[e.type](e,t);throw new o("Got group of unknown type: '"+e.type+"'")};function Dt(e,t,n,r,i){var o,s=It(e,n);o=1===s.length&&s[0]instanceof kt&&u.contains(["mrow","mtable"],s[0].type)?s[0]:new Ct.MathNode("mrow",s);var a=new Ct.MathNode("annotation",[new Ct.TextNode(t)]);a.setAttribute("encoding","application/x-tex");var l=new Ct.MathNode("semantics",[o,a]),c=new Ct.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&c.setAttribute("display","block");var h=i?"katex":"katex-mathml";return Qe.makeSpan([h],[c])}var Bt=function(e){return new B({style:e.displayMode?_.DISPLAY:_.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Ft=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=Qe.makeSpan(n,[e])}return e},zt={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},$t={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},jt=function(e,t,n,r,i){var o,s=e.height+e.depth+n+r;if(/fbox|color|angl/.test(t)){if(o=Qe.makeSpan(["stretchy",t],[],i),"fbox"===t){var a=i.color&&i.getColor();a&&(o.style.borderColor=a)}}else{var l=[];/^[bx]cancel$/.test(t)&&l.push(new te({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&l.push(new te({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new J(l,{width:"100%",height:U(s)});o=Qe.makeSvgSpan([],[c],i)}return o.height=s,o.style.height=U(s),o},Ut=function(e){var t=new Ct.MathNode("mo",[new Ct.TextNode(zt[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},Ht=function(e,t){var{span:n,minWidth:r,height:i}=function(){var n=4e5,r=e.label.slice(1);if(u.contains(["widehat","widecheck","widetilde","utilde"],r)){var i,o,s,a="ordgroup"===(f=e.base).type?f.body.length:1;if(a>5)"widehat"===r||"widecheck"===r?(i=420,n=2364,s=.42,o=r+"4"):(i=312,n=2340,s=.34,o="tilde4");else{var l=[1,1,2,2,3,3][a];"widehat"===r||"widecheck"===r?(n=[0,1062,2364,2364,2364][l],i=[0,239,300,360,420][l],s=[0,.24,.3,.3,.36,.42][l],o=r+l):(n=[0,600,1033,2339,2340][l],i=[0,260,286,306,312][l],s=[0,.26,.286,.3,.306,.34][l],o="tilde"+l)}var c=new ee(o),h=new J([c],{width:"100%",height:U(s),viewBox:"0 0 "+n+" "+i,preserveAspectRatio:"none"});return{span:Qe.makeSvgSpan([],[h],t),minWidth:0,height:s}}var d,p,f,g=[],m=$t[r],[v,y,b]=m,w=b/1e3,x=v.length;if(1===x)d=["hide-tail"],p=[m[3]];else if(2===x)d=["halfarrow-left","halfarrow-right"],p=["xMinYMin","xMaxYMin"];else{if(3!==x)throw new Error("Correct katexImagesData or update code here to support\n                    "+x+" children.");d=["brace-left","brace-center","brace-right"],p=["xMinYMin","xMidYMin","xMaxYMin"]}for(var _=0;_<x;_++){var A=new ee(v[_]),T=new J([A],{width:"400em",height:U(w),viewBox:"0 0 "+n+" "+b,preserveAspectRatio:p[_]+" slice"}),E=Qe.makeSvgSpan([d[_]],[T],t);if(1===x)return{span:E,minWidth:y,height:w};E.style.height=U(w),g.push(E)}return{span:Qe.makeSpan(["stretchy"],g,t),minWidth:y,height:w}}();return n.height=i,n.style.height=U(i),r>0&&(n.style.minWidth=U(r)),n};function Gt(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Vt(e){var t=Wt(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Wt(e){return e&&("atom"===e.type||ie.hasOwnProperty(e.type))?e:null}var Yt=(e,t)=>{var n,r,i;e&&"supsub"===e.type?(n=(r=Gt(e.base,"accent")).base,e.base=n,i=function(e){if(e instanceof q)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(_t(e,t)),e.base=r):n=(r=Gt(e,"accent")).base;var o=_t(n,t.havingCrampedStyle()),s=0;if(r.isShifty&&u.isCharacterBox(n)){var a=u.getBaseElem(n);s=ne(_t(a,t.havingCrampedStyle())).skew}var l,c="\\c"===r.label,h=c?o.height+o.depth:Math.min(o.height,t.fontMetrics().xHeight);if(r.isStretchy)l=Ht(r,t),l=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:l,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+U(2*s)+")",marginLeft:U(2*s)}:void 0}]},t);else{var d,p;"\\vec"===r.label?(d=Qe.staticSvg("vec",t),p=Qe.svgData.vec[1]):((d=ne(d=Qe.makeOrd({mode:r.mode,text:r.label},t,"textord"))).italic=0,p=d.width,c&&(h+=d.depth)),l=Qe.makeSpan(["accent-body"],[d]);var f="\\textcircled"===r.label;f&&(l.classes.push("accent-full"),h=o.height);var g=s;f||(g-=p/2),l.style.left=U(g),"\\textcircled"===r.label&&(l.style.top=".2em"),l=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-h},{type:"elem",elem:l}]},t)}var m=Qe.makeSpan(["mord","accent"],[l],t);return i?(i.children[0]=m,i.height=Math.max(m.height,i.height),i.classes[0]="mord",i):m},qt=(e,t)=>{var n=e.isStretchy?Ut(e.label):new Ct.MathNode("mo",[Nt(e.label,e.mode)]),r=new Ct.MathNode("mover",[Pt(e.base,t),n]);return r.setAttribute("accent","true"),r},Xt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));at({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=ct(t[0]),r=!Xt.test(e.funcName),i=!r||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:Yt,mathmlBuilder:qt}),at({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return"math"===r&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Yt,mathmlBuilder:qt}),at({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(e,t)=>{var n=_t(e.base,t),r=Ht(e,t),i="\\utilde"===e.label?.12:0,o=Qe.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},t);return Qe.makeSpan(["mord","accentunder"],[o],t)},mathmlBuilder:(e,t)=>{var n=Ut(e.label),r=new Ct.MathNode("munder",[Pt(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var Kt=e=>{var t=new Ct.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};at({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:i}=e;return{type:"xArrow",mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){var n,r=t.style,i=t.havingStyle(r.sup()),o=Qe.wrapFragment(_t(e.body,i,t),t),s="\\x"===e.label.slice(0,2)?"x":"cd";o.classes.push(s+"-arrow-pad"),e.below&&(i=t.havingStyle(r.sub()),(n=Qe.wrapFragment(_t(e.below,i,t),t)).classes.push(s+"-arrow-pad"));var a,l=Ht(e,t),c=-t.fontMetrics().axisHeight+.5*l.height,u=-t.fontMetrics().axisHeight-.5*l.height-.111;if((o.depth>.25||"\\xleftequilibrium"===e.label)&&(u-=o.depth),n){var h=-t.fontMetrics().axisHeight+n.height+.5*l.height+.111;a=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:c},{type:"elem",elem:n,shift:h}]},t)}else a=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:c}]},t);return a.children[0].children[0].children[1].classes.push("svg-align"),Qe.makeSpan(["mrel","x-arrow"],[a],t)},mathmlBuilder(e,t){var n,r=Ut(e.label);if(r.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body){var i=Kt(Pt(e.body,t));if(e.below){var o=Kt(Pt(e.below,t));n=new Ct.MathNode("munderover",[r,o,i])}else n=new Ct.MathNode("mover",[r,i])}else if(e.below){var s=Kt(Pt(e.below,t));n=new Ct.MathNode("munder",[r,s])}else n=Kt(),n=new Ct.MathNode("mover",[r,n]);return n}});var Zt=Qe.makeSpan;function Qt(e,t){var n=mt(e.body,t,!0);return Zt([e.mclass],n,t)}function Jt(e,t){var n,r=It(e.body,t);return"minner"===e.mclass?n=new Ct.MathNode("mpadded",r):"mord"===e.mclass?e.isCharacterBox?(n=r[0]).type="mi":n=new Ct.MathNode("mi",r):(e.isCharacterBox?(n=r[0]).type="mo":n=new Ct.MathNode("mo",r),"mbin"===e.mclass?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):"mpunct"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):"mopen"===e.mclass||"mclose"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0em"):"minner"===e.mclass&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}at({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:ut(i),isCharacterBox:u.isCharacterBox(i)}},htmlBuilder:Qt,mathmlBuilder:Jt});var en=e=>{var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};at({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:en(t[0]),body:ut(t[1]),isCharacterBox:u.isCharacterBox(t[1])}}}),at({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var n,{parser:r,funcName:i}=e,o=t[1],s=t[0];n="\\stackrel"!==i?en(o):"mrel";var a={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==i,body:ut(o)},l={type:"supsub",mode:s.mode,base:a,sup:"\\underset"===i?null:s,sub:"\\underset"===i?s:null};return{type:"mclass",mode:r.mode,mclass:n,body:[l],isCharacterBox:u.isCharacterBox(l)}},htmlBuilder:Qt,mathmlBuilder:Jt}),at({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:en(t[0]),body:ut(t[0])}},htmlBuilder(e,t){var n=mt(e.body,t,!0),r=Qe.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=It(e.body,t),r=new Ct.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var tn={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},nn=()=>({type:"styling",body:[],mode:"math",style:"display"}),rn=e=>"textord"===e.type&&"@"===e.text,on=(e,t)=>("mathord"===e.type||"atom"===e.type)&&e.text===t;function sn(e,t,n){var r=tn[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var i={type:"atom",text:r,mode:"math",family:"rel"},o={type:"ordgroup",mode:"math",body:[n.callFunction("\\\\cdleft",[t[0]],[]),n.callFunction("\\Big",[i],[]),n.callFunction("\\\\cdright",[t[1]],[])]};return n.callFunction("\\\\cdparent",[o],[]);case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return n.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}at({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=Qe.wrapFragment(_t(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=U(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new Ct.MathNode("mrow",[Pt(e.label,t)]);return(n=new Ct.MathNode("mpadded",[n])).setAttribute("width","0"),"left"===e.side&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),(n=new Ct.MathNode("mstyle",[n])).setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}}),at({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=Qe.wrapFragment(_t(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder:(e,t)=>new Ct.MathNode("mrow",[Pt(e.fragment,t)])}),at({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=Gt(t[0],"ordgroup").body,i="",s=0;s<r.length;s++){i+=Gt(r[s],"textord").text}var a,l=parseInt(i);if(isNaN(l))throw new o("\\@char has non-numeric argument "+i);if(l<0||l>=1114111)throw new o("\\@char with invalid code point "+i);return l<=65535?a=String.fromCharCode(l):(l-=65536,a=String.fromCharCode(55296+(l>>10),56320+(1023&l))),{type:"textord",mode:n.mode,text:a}}});var an=(e,t)=>{var n=mt(e.body,t.withColor(e.color),!1);return Qe.makeFragment(n)},ln=(e,t)=>{var n=It(e.body,t.withColor(e.color)),r=new Ct.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};at({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=Gt(t[0],"color-token").color,i=t[1];return{type:"color",mode:n.mode,color:r,body:ut(i)}},htmlBuilder:an,mathmlBuilder:ln}),at({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,i=Gt(t[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:an,mathmlBuilder:ln}),at({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,i="["===r.gullet.future().text?r.parseSizeGroup(!0):null,o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&Gt(i,"size").value}},htmlBuilder(e,t){var n=Qe.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=U(j(e.size,t)))),n},mathmlBuilder(e,t){var n=new Ct.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",U(j(e.size,t)))),n}});var cn={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},un=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new o("Expected a control sequence",e);return t},hn=(e,t,n,r)=>{var i=e.gullet.macros.get(n.text);null==i&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,r)};at({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(cn[r.text])return"\\global"!==n&&"\\\\globallong"!==n||(r.text=cn[r.text]),Gt(t.parseFunction(),"internal");throw new o("Invalid token after macro prefix",r)}}),at({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new o("Expected a control sequence",r);for(var s,a=0,l=[[]];"{"!==t.gullet.future().text;)if("#"===(r=t.gullet.popToken()).text){if("{"===t.gullet.future().text){s=t.gullet.future(),l[a].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new o('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new o('Argument number "'+r.text+'" out of order');a++,l.push([])}else{if("EOF"===r.text)throw new o("Expected a macro definition");l[a].push(r.text)}var{tokens:c}=t.gullet.consumeArg();return s&&c.unshift(s),"\\edef"!==n&&"\\xdef"!==n||(c=t.gullet.expandTokens(c)).reverse(),t.gullet.macros.set(i,{tokens:c,numArgs:a,delimiters:l},n===cn[n]),{type:"internal",mode:t.mode}}}),at({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=un(t.gullet.popToken());t.gullet.consumeSpaces();var i=(e=>{var t=e.gullet.popToken();return"="===t.text&&" "===(t=e.gullet.popToken()).text&&(t=e.gullet.popToken()),t})(t);return hn(t,r,i,"\\\\globallet"===n),{type:"internal",mode:t.mode}}}),at({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=un(t.gullet.popToken()),i=t.gullet.popToken(),o=t.gullet.popToken();return hn(t,r,o,"\\\\globalfuture"===n),t.gullet.pushToken(o),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var dn=function(e,t,n){var r=R(oe.math[e]&&oe.math[e].replace||e,t,n);if(!r)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return r},pn=function(e,t,n,r){var i=n.havingBaseStyle(t),o=Qe.makeSpan(r.concat(i.sizingClasses(n)),[e],n),s=i.sizeMultiplier/n.sizeMultiplier;return o.height*=s,o.depth*=s,o.maxFontSize=i.sizeMultiplier,o},fn=function(e,t,n){var r=t.havingBaseStyle(n),i=(1-t.sizeMultiplier/r.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=U(i),e.height-=i,e.depth+=i},gn=function(e,t,n,r,i,o){var s=function(e,t,n,r){return Qe.makeSymbol(e,"Size"+t+"-Regular",n,r)}(e,t,i,r),a=pn(Qe.makeSpan(["delimsizing","size"+t],[s],r),_.TEXT,r,o);return n&&fn(a,r,_.TEXT),a},mn=function(e,t,n){var r;return r="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:Qe.makeSpan(["delimsizinginner",r],[Qe.makeSpan([],[Qe.makeSymbol(e,t,n)])])}},vn=function(e,t,n){var r=N["Size4-Regular"][e.charCodeAt(0)]?N["Size4-Regular"][e.charCodeAt(0)][4]:N["Size1-Regular"][e.charCodeAt(0)][4],i=new ee("inner",function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}}(e,Math.round(1e3*t))),o=new J([i],{width:U(r),height:U(t),style:"width:"+U(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),s=Qe.makeSvgSpan([],[o],n);return s.height=t,s.style.height=U(t),s.style.width=U(r),{type:"elem",elem:s}},yn={type:"kern",size:-.008},bn=["|","\\lvert","\\rvert","\\vert"],wn=["\\|","\\lVert","\\rVert","\\Vert"],xn=function(e,t,n,r,i,o){var s,a,l,c,h="",d=0;s=l=c=e,a=null;var p="Size1-Regular";"\\uparrow"===e?l=c="⏐":"\\Uparrow"===e?l=c="‖":"\\downarrow"===e?s=l="⏐":"\\Downarrow"===e?s=l="‖":"\\updownarrow"===e?(s="\\uparrow",l="⏐",c="\\downarrow"):"\\Updownarrow"===e?(s="\\Uparrow",l="‖",c="\\Downarrow"):u.contains(bn,e)?(l="∣",h="vert",d=333):u.contains(wn,e)?(l="∥",h="doublevert",d=556):"["===e||"\\lbrack"===e?(s="⎡",l="⎢",c="⎣",p="Size4-Regular",h="lbrack",d=667):"]"===e||"\\rbrack"===e?(s="⎤",l="⎥",c="⎦",p="Size4-Regular",h="rbrack",d=667):"\\lfloor"===e||"⌊"===e?(l=s="⎢",c="⎣",p="Size4-Regular",h="lfloor",d=667):"\\lceil"===e||"⌈"===e?(s="⎡",l=c="⎢",p="Size4-Regular",h="lceil",d=667):"\\rfloor"===e||"⌋"===e?(l=s="⎥",c="⎦",p="Size4-Regular",h="rfloor",d=667):"\\rceil"===e||"⌉"===e?(s="⎤",l=c="⎥",p="Size4-Regular",h="rceil",d=667):"("===e||"\\lparen"===e?(s="⎛",l="⎜",c="⎝",p="Size4-Regular",h="lparen",d=875):")"===e||"\\rparen"===e?(s="⎞",l="⎟",c="⎠",p="Size4-Regular",h="rparen",d=875):"\\{"===e||"\\lbrace"===e?(s="⎧",a="⎨",c="⎩",l="⎪",p="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(s="⎫",a="⎬",c="⎭",l="⎪",p="Size4-Regular"):"\\lgroup"===e||"⟮"===e?(s="⎧",c="⎩",l="⎪",p="Size4-Regular"):"\\rgroup"===e||"⟯"===e?(s="⎫",c="⎭",l="⎪",p="Size4-Regular"):"\\lmoustache"===e||"⎰"===e?(s="⎧",c="⎭",l="⎪",p="Size4-Regular"):"\\rmoustache"!==e&&"⎱"!==e||(s="⎫",c="⎩",l="⎪",p="Size4-Regular");var f=dn(s,p,i),g=f.height+f.depth,m=dn(l,p,i),v=m.height+m.depth,y=dn(c,p,i),b=y.height+y.depth,w=0,x=1;if(null!==a){var A=dn(a,p,i);w=A.height+A.depth,x=2}var T=g+b+w,E=T+Math.max(0,Math.ceil((t-T)/(x*v)))*x*v,k=r.fontMetrics().axisHeight;n&&(k*=r.sizeMultiplier);var S=E/2-k,C=[];if(h.length>0){var N=E-g-b,M=Math.round(1e3*E),O=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z\nM367 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v602 h84z\nM403 1759 V0 H319 V1759 v"+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+t+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(t+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+(t+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(t+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+(t+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}}(h,Math.round(1e3*N)),R=new ee(h,O),I=(d/1e3).toFixed(3)+"em",L=(M/1e3).toFixed(3)+"em",P=new J([R],{width:I,height:L,viewBox:"0 0 "+d+" "+M}),D=Qe.makeSvgSpan([],[P],r);D.height=M/1e3,D.style.width=I,D.style.height=L,C.push({type:"elem",elem:D})}else{if(C.push(mn(c,p,i)),C.push(yn),null===a){var B=E-g-b+.016;C.push(vn(l,B,r))}else{var F=(E-g-b-w)/2+.016;C.push(vn(l,F,r)),C.push(yn),C.push(mn(a,p,i)),C.push(yn),C.push(vn(l,F,r))}C.push(yn),C.push(mn(s,p,i))}var z=r.havingBaseStyle(_.TEXT),$=Qe.makeVList({positionType:"bottom",positionData:S,children:C},z);return pn(Qe.makeSpan(["delimsizing","mult"],[$],z),_.TEXT,r,o)},_n=.08,An=function(e,t,n,r,i){var o=function(e,t,n){t*=1e3;var r="";switch(e){case"sqrtMain":r=function(e,t){return"M95,"+(622+e+t)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+e/2.075+" -"+e+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+e)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,k);break;case"sqrtSize1":r=function(e,t){return"M263,"+(601+e+t)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+e/2.084+" -"+e+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+e)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,k);break;case"sqrtSize2":r=function(e,t){return"M983 "+(10+e+t)+"\nl"+e/3.13+" -"+e+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,k);break;case"sqrtSize3":r=function(e,t){return"M424,"+(2398+e+t)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+e)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" "+t+"\nh400000v"+(40+e)+"h-400000z"}(t,k);break;case"sqrtSize4":r=function(e,t){return"M473,"+(2713+e+t)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"}(t,k);break;case"sqrtTall":r=function(e,t,n){return"M702 "+(e+t)+"H400000"+(40+e)+"\nH742v"+(n-54-t-e)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+t+"H400000v"+(40+e)+"H742z"}(t,k,n)}return r}(e,r,n),s=new ee(e,o),a=new J([s],{width:"400em",height:U(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Qe.makeSvgSpan(["hide-tail"],[a],i)},Tn=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],En=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],kn=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Sn=[0,1.2,1.8,2.4,3],Cn=[{type:"small",style:_.SCRIPTSCRIPT},{type:"small",style:_.SCRIPT},{type:"small",style:_.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Nn=[{type:"small",style:_.SCRIPTSCRIPT},{type:"small",style:_.SCRIPT},{type:"small",style:_.TEXT},{type:"stack"}],Mn=[{type:"small",style:_.SCRIPTSCRIPT},{type:"small",style:_.SCRIPT},{type:"small",style:_.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],On=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Rn=function(e,t,n,r){for(var i=Math.min(2,3-r.style.size);i<n.length&&"stack"!==n[i].type;i++){var o=dn(e,On(n[i]),"math"),s=o.height+o.depth;if("small"===n[i].type&&(s*=r.havingBaseStyle(n[i].style).sizeMultiplier),s>t)return n[i]}return n[n.length-1]},In=function(e,t,n,r,i,o){var s;"<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),s=u.contains(kn,e)?Cn:u.contains(Tn,e)?Mn:Nn;var a=Rn(e,t,s,r);return"small"===a.type?function(e,t,n,r,i,o){var s=Qe.makeSymbol(e,"Main-Regular",i,r),a=pn(s,t,r,o);return n&&fn(a,r,t),a}(e,a.style,n,r,i,o):"large"===a.type?gn(e,a.size,n,r,i,o):xn(e,t,n,r,i,o)},Ln={sqrtImage:function(e,t){var n,r,i=t.havingBaseSizing(),o=Rn("\\surd",e*i.sizeMultiplier,Mn,i),s=i.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l=0,c=0,u=0;return"small"===o.type?(e<1?s=1:e<1.4&&(s=.7),c=(1+a)/s,(n=An("sqrtMain",l=(1+a+_n)/s,u=1e3+1e3*a+80,a,t)).style.minWidth="0.853em",r=.833/s):"large"===o.type?(u=1080*Sn[o.size],c=(Sn[o.size]+a)/s,l=(Sn[o.size]+a+_n)/s,(n=An("sqrtSize"+o.size,l,u,a,t)).style.minWidth="1.02em",r=1/s):(l=e+a+_n,c=e+a,u=Math.floor(1e3*e+a)+80,(n=An("sqrtTall",l,u,a,t)).style.minWidth="0.742em",r=1.056),n.height=c,n.style.height=U(l),{span:n,advanceWidth:r,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*s}},sizedDelim:function(e,t,n,r,i){if("<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),u.contains(Tn,e)||u.contains(kn,e))return gn(e,t,!1,n,r,i);if(u.contains(En,e))return xn(e,Sn[t],!1,n,r,i);throw new o("Illegal delimiter: '"+e+"'")},sizeToMaxHeight:Sn,customSizedDelim:In,leftRightDelim:function(e,t,n,r,i,o){var s=r.fontMetrics().axisHeight*r.sizeMultiplier,a=5/r.fontMetrics().ptPerEm,l=Math.max(t-s,n+s),c=Math.max(l/500*901,2*l-a);return In(e,c,!0,r,i,o)}},Pn={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Dn=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Bn(e,t){var n=Wt(e);if(n&&u.contains(Dn,n.text))return n;throw new o(n?"Invalid delimiter '"+n.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function Fn(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}at({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=Bn(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:Pn[e.funcName].size,mclass:Pn[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>"."===e.delim?Qe.makeSpan([e.mclass]):Ln.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];"."!==e.delim&&t.push(Nt(e.delim,e.mode));var n=new Ct.MathNode("mo",t);"mopen"===e.mclass||"mclose"===e.mclass?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=U(Ln.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}}),at({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&"string"!=typeof n)throw new o("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Bn(t[0],e).text,color:n}}}),at({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Bn(t[0],e),r=e.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=Gt(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(e,t)=>{Fn(e);for(var n,r,i=mt(e.body,t,!0,["mopen","mclose"]),o=0,s=0,a=!1,l=0;l<i.length;l++)i[l].isMiddle?a=!0:(o=Math.max(i[l].height,o),s=Math.max(i[l].depth,s));if(o*=t.sizeMultiplier,s*=t.sizeMultiplier,n="."===e.left?xt(t,["mopen"]):Ln.leftRightDelim(e.left,o,s,t,e.mode,["mopen"]),i.unshift(n),a)for(var c=1;c<i.length;c++){var u=i[c].isMiddle;u&&(i[c]=Ln.leftRightDelim(u.delim,o,s,u.options,e.mode,[]))}if("."===e.right)r=xt(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;r=Ln.leftRightDelim(e.right,o,s,h,e.mode,["mclose"])}return i.push(r),Qe.makeSpan(["minner"],i,t)},mathmlBuilder:(e,t)=>{Fn(e);var n=It(e.body,t);if("."!==e.left){var r=new Ct.MathNode("mo",[Nt(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if("."!==e.right){var i=new Ct.MathNode("mo",[Nt(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),n.push(i)}return Mt(n)}}),at({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Bn(t[0],e);if(!e.parser.leftrightDepth)throw new o("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if("."===e.delim)n=xt(t,[]);else{n=Ln.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n="\\vert"===e.delim||"|"===e.delim?Nt("|","text"):Nt(e.delim,e.mode),r=new Ct.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var zn=(e,t)=>{var n,r,i,o=Qe.wrapFragment(_t(e.body,t),t),s=e.label.slice(1),a=t.sizeMultiplier,l=0,c=u.isCharacterBox(e.body);if("sout"===s)(n=Qe.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/a,l=-.5*t.fontMetrics().xHeight;else if("phase"===s){var h=j({number:.6,unit:"pt"},t),d=j({number:.35,unit:"ex"},t);a/=t.havingBaseSizing().sizeMultiplier;var p=o.height+o.depth+h+d;o.style.paddingLeft=U(p/2+h);var f=Math.floor(1e3*p*a),g="M400000 "+(r=f)+" H0 L"+r/2+" 0 l65 45 L145 "+(r-80)+" H400000z",m=new J([new ee("phase",g)],{width:"400em",height:U(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});(n=Qe.makeSvgSpan(["hide-tail"],[m],t)).style.height=U(p),l=o.depth+h+d}else{/cancel/.test(s)?c||o.classes.push("cancel-pad"):"angl"===s?o.classes.push("anglpad"):o.classes.push("boxpad");var v=0,y=0,b=0;/box/.test(s)?(b=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),y=v=t.fontMetrics().fboxsep+("colorbox"===s?0:b)):"angl"===s?(v=4*(b=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),y=Math.max(0,.25-o.depth)):y=v=c?.2:0,n=jt(o,s,v,y,t),/fbox|boxed|fcolorbox/.test(s)?(n.style.borderStyle="solid",n.style.borderWidth=U(b)):"angl"===s&&.049!==b&&(n.style.borderTopWidth=U(b),n.style.borderRightWidth=U(b)),l=o.depth+y,e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor,e.borderColor&&(n.style.borderColor=e.borderColor))}if(e.backgroundColor)i=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:l},{type:"elem",elem:o,shift:0}]},t);else{var w=/cancel|phase/.test(s)?["svg-align"]:[];i=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:n,shift:l,wrapperClasses:w}]},t)}return/cancel/.test(s)&&(i.height=o.height,i.depth=o.depth),/cancel/.test(s)&&!c?Qe.makeSpan(["mord","cancel-lap"],[i],t):Qe.makeSpan(["mord"],[i],t)},$n=(e,t)=>{var n=0,r=new Ct.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Pt(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),"\\fcolorbox"===e.label){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};at({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,o=Gt(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:s}},htmlBuilder:zn,mathmlBuilder:$n}),at({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,o=Gt(t[0],"color-token").color,s=Gt(t[1],"color-token").color,a=t[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,borderColor:o,body:a}},htmlBuilder:zn,mathmlBuilder:$n}),at({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}}),at({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:zn,mathmlBuilder:$n}),at({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var jn={};function Un(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:s}=e,a={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)jn[n[l]]=a;o&&(ot[t]=o),s&&(st[t]=s)}var Hn={};function Gn(e,t){Hn[e]=t}function Vn(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for("\\relax"===n&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);"\\hline"===n||"\\hdashline"===n;)e.consume(),t.push("\\hdashline"===n),e.consumeSpaces(),n=e.fetch().text;return t}var Wn=e=>{if(!e.parser.settings.displayMode)throw new o("{"+e.envName+"} can be used only in display mode.")};function Yn(e){if(-1===e.indexOf("ed"))return-1===e.indexOf("*")}function qn(e,t,n){var{hskipBeforeAndAfter:r,addJot:s,cols:a,arraystretch:l,colSeparationType:c,autoTag:u,singleRow:h,emptySingleRow:d,maxNumCols:p,leqno:f}=t;if(e.gullet.beginGroup(),h||e.gullet.macros.set("\\cr","\\\\\\relax"),!l){var g=e.gullet.expandMacroAsText("\\arraystretch");if(null==g)l=1;else if(!(l=parseFloat(g))||l<0)throw new o("Invalid \\arraystretch: "+g)}e.gullet.beginGroup();var m=[],v=[m],y=[],b=[],w=null!=u?[]:void 0;function x(){u&&e.gullet.macros.set("\\@eqnsw","1",!0)}function _(){w&&(e.gullet.macros.get("\\df@tag")?(w.push(e.subparse([new i("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):w.push(Boolean(u)&&"1"===e.gullet.macros.get("\\@eqnsw")))}for(x(),b.push(Vn(e));;){var A=e.parseExpression(!1,h?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),A={type:"ordgroup",mode:e.mode,body:A},n&&(A={type:"styling",mode:e.mode,style:n,body:[A]}),m.push(A);var T=e.fetch().text;if("&"===T){if(p&&m.length===p){if(h||c)throw new o("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===T){_(),1===m.length&&"styling"===A.type&&0===A.body[0].body.length&&(v.length>1||!d)&&v.pop(),b.length<v.length+1&&b.push([]);break}if("\\\\"!==T)throw new o("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var E=void 0;" "!==e.gullet.future().text&&(E=e.parseSizeGroup(!0)),y.push(E?E.value:null),_(),b.push(Vn(e)),m=[],v.push(m),x()}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:s,arraystretch:l,body:v,cols:a,rowGaps:y,hskipBeforeAndAfter:r,hLinesBeforeRow:b,colSeparationType:c,tags:w,leqno:f}}function Xn(e){return"d"===e.slice(0,1)?"display":"text"}var Kn=function(e,t){var n,r,i=e.body.length,s=e.hLinesBeforeRow,a=0,l=new Array(i),c=[],h=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),d=1/t.fontMetrics().ptPerEm,p=5*d;e.colSeparationType&&"small"===e.colSeparationType&&(p=t.havingStyle(_.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);var f="CD"===e.colSeparationType?j({number:3,unit:"ex"},t):12*d,g=3*d,m=e.arraystretch*f,v=.7*m,y=.3*m,b=0;function w(e){for(var t=0;t<e.length;++t)t>0&&(b+=.25),c.push({pos:b,isDashed:e[t]})}for(w(s[0]),n=0;n<e.body.length;++n){var x=e.body[n],A=v,T=y;a<x.length&&(a=x.length);var E=new Array(x.length);for(r=0;r<x.length;++r){var k=_t(x[r],t);T<k.depth&&(T=k.depth),A<k.height&&(A=k.height),E[r]=k}var S=e.rowGaps[n],C=0;S&&(C=j(S,t))>0&&(T<(C+=y)&&(T=C),C=0),e.addJot&&(T+=g),E.height=A,E.depth=T,b+=A,E.pos=b,b+=T+C,l[n]=E,w(s[n+1])}var N,M,O=b/2+t.fontMetrics().axisHeight,R=e.cols||[],I=[],L=[];if(e.tags&&e.tags.some(e=>e))for(n=0;n<i;++n){var P=l[n],D=P.pos-O,B=e.tags[n],F=void 0;(F=!0===B?Qe.makeSpan(["eqn-num"],[],t):!1===B?Qe.makeSpan([],[],t):Qe.makeSpan([],mt(B,t,!0),t)).depth=P.depth,F.height=P.height,L.push({type:"elem",elem:F,shift:D})}for(r=0,M=0;r<a||M<R.length;++r,++M){for(var z=R[M]||{},$=!0;"separator"===z.type;){if($||((N=Qe.makeSpan(["arraycolsep"],[])).style.width=U(t.fontMetrics().doubleRuleSep),I.push(N)),"|"!==z.separator&&":"!==z.separator)throw new o("Invalid separator type: "+z.separator);var H="|"===z.separator?"solid":"dashed",G=Qe.makeSpan(["vertical-separator"],[],t);G.style.height=U(b),G.style.borderRightWidth=U(h),G.style.borderRightStyle=H,G.style.margin="0 "+U(-h/2);var V=b-O;V&&(G.style.verticalAlign=U(-V)),I.push(G),z=R[++M]||{},$=!1}if(!(r>=a)){var W=void 0;(r>0||e.hskipBeforeAndAfter)&&0!==(W=u.deflt(z.pregap,p))&&((N=Qe.makeSpan(["arraycolsep"],[])).style.width=U(W),I.push(N));var Y=[];for(n=0;n<i;++n){var q=l[n],X=q[r];if(X){var K=q.pos-O;X.depth=q.depth,X.height=q.height,Y.push({type:"elem",elem:X,shift:K})}}Y=Qe.makeVList({positionType:"individualShift",children:Y},t),Y=Qe.makeSpan(["col-align-"+(z.align||"c")],[Y]),I.push(Y),(r<a-1||e.hskipBeforeAndAfter)&&0!==(W=u.deflt(z.postgap,p))&&((N=Qe.makeSpan(["arraycolsep"],[])).style.width=U(W),I.push(N))}}if(l=Qe.makeSpan(["mtable"],I),c.length>0){for(var Z=Qe.makeLineSpan("hline",t,h),Q=Qe.makeLineSpan("hdashline",t,h),J=[{type:"elem",elem:l,shift:0}];c.length>0;){var ee=c.pop(),te=ee.pos-O;ee.isDashed?J.push({type:"elem",elem:Q,shift:te}):J.push({type:"elem",elem:Z,shift:te})}l=Qe.makeVList({positionType:"individualShift",children:J},t)}if(0===L.length)return Qe.makeSpan(["mord"],[l],t);var ne=Qe.makeVList({positionType:"individualShift",children:L},t);return ne=Qe.makeSpan(["tag"],[ne],t),Qe.makeFragment([l,ne])},Zn={c:"center ",l:"left ",r:"right "},Qn=function(e,t){for(var n=[],r=new Ct.MathNode("mtd",[],["mtr-glue"]),i=new Ct.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var s=e.body[o],a=[],l=0;l<s.length;l++)a.push(new Ct.MathNode("mtd",[Pt(s[l],t)]));e.tags&&e.tags[o]&&(a.unshift(r),a.push(r),e.leqno?a.unshift(i):a.push(i)),n.push(new Ct.MathNode("mtr",a))}var c=new Ct.MathNode("mtable",n),u=.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",U(u));var h="",d="";if(e.cols&&e.cols.length>0){var p=e.cols,f="",g=!1,m=0,v=p.length;"separator"===p[0].type&&(h+="top ",m=1),"separator"===p[p.length-1].type&&(h+="bottom ",v-=1);for(var y=m;y<v;y++)"align"===p[y].type?(d+=Zn[p[y].align],g&&(f+="none "),g=!0):"separator"===p[y].type&&g&&(f+="|"===p[y].separator?"solid ":"dashed ",g=!1);c.setAttribute("columnalign",d.trim()),/[sd]/.test(f)&&c.setAttribute("columnlines",f.trim())}if("align"===e.colSeparationType){for(var b=e.cols||[],w="",x=1;x<b.length;x++)w+=x%2?"0em ":"1em ";c.setAttribute("columnspacing",w.trim())}else"alignat"===e.colSeparationType||"gather"===e.colSeparationType?c.setAttribute("columnspacing","0em"):"small"===e.colSeparationType?c.setAttribute("columnspacing","0.2778em"):"CD"===e.colSeparationType?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var _="",A=e.hLinesBeforeRow;h+=A[0].length>0?"left ":"",h+=A[A.length-1].length>0?"right ":"";for(var T=1;T<A.length-1;T++)_+=0===A[T].length?"none ":A[T][0]?"dashed ":"solid ";return/[sd]/.test(_)&&c.setAttribute("rowlines",_.trim()),""!==h&&(c=new Ct.MathNode("menclose",[c])).setAttribute("notation",h.trim()),e.arraystretch&&e.arraystretch<1&&(c=new Ct.MathNode("mstyle",[c])).setAttribute("scriptlevel","1"),c},Jn=function(e,t){-1===e.envName.indexOf("ed")&&Wn(e);var n,r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s="split"===e.envName,a=qn(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:Yn(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),l=0,c={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){for(var u="",h=0;h<t[0].body.length;h++){u+=Gt(t[0].body[h],"textord").text}n=Number(u),l=2*n}var d=!l;a.body.forEach(function(e){for(var t=1;t<e.length;t+=2){var r=Gt(e[t],"styling");Gt(r.body[0],"ordgroup").body.unshift(c)}if(d)l<e.length&&(l=e.length);else{var i=e.length/2;if(n<i)throw new o("Too many math in a row: expected "+n+", but got "+i,e[0])}});for(var p=0;p<l;++p){var f="r",g=0;p%2==1?f="l":p>0&&d&&(g=1),r[p]={type:"align",align:f,pregap:g,postgap:0}}return a.colSeparationType=d?"align":"alignat",a};Un({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=(Wt(t[0])?[t[0]]:Gt(t[0],"ordgroup").body).map(function(e){var t=Vt(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new o("Unknown column alignment: "+t,e)}),r={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return qn(e.parser,r,Xn(e.envName))},htmlBuilder:Kn,mathmlBuilder:Qn}),Un({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if("*"===e.envName.charAt(e.envName.length-1)){var i=e.parser;if(i.consumeSpaces(),"["===i.fetch().text){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,-1==="lcr".indexOf(n))throw new o("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=qn(e.parser,r,Xn(e.envName)),a=Math.max(0,...s.body.map(e=>e.length));return s.cols=new Array(a).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[s],left:t[0],right:t[1],rightColor:void 0}:s},htmlBuilder:Kn,mathmlBuilder:Qn}),Un({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t=qn(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:Kn,mathmlBuilder:Qn}),Un({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=(Wt(t[0])?[t[0]]:Gt(t[0],"ordgroup").body).map(function(e){var t=Vt(e).text;if(-1!=="lc".indexOf(t))return{type:"align",align:t};throw new o("Unknown column alignment: "+t,e)});if(n.length>1)throw new o("{subarray} can contain only one column");var r={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if((r=qn(e.parser,r,"script")).body.length>0&&r.body[0].length>1)throw new o("{subarray} can contain only one column");return r},htmlBuilder:Kn,mathmlBuilder:Qn}),Un({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t=qn(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Xn(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Kn,mathmlBuilder:Qn}),Un({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Jn,htmlBuilder:Kn,mathmlBuilder:Qn}),Un({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){u.contains(["gather","gather*"],e.envName)&&Wn(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Yn(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return qn(e.parser,t,"display")},htmlBuilder:Kn,mathmlBuilder:Qn}),Un({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Jn,htmlBuilder:Kn,mathmlBuilder:Qn}),Un({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Wn(e);var t={autoTag:Yn(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return qn(e.parser,t,"display")},htmlBuilder:Kn,mathmlBuilder:Qn}),Un({type:"array",names:["CD"],props:{numArgs:0},handler:e=>(Wn(e),function(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if("&"!==n&&"\\\\"!==n){if("\\end"===n){0===t[t.length-1].length&&t.pop();break}throw new o("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var r=[],i=[r],s=0;s<t.length;s++){for(var a=t[s],l=nn(),c=0;c<a.length;c++)if(rn(a[c])){r.push(l);var u=Vt(a[c+=1]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(u)>-1);else{if(!("<>AV".indexOf(u)>-1))throw new o('Expected one of "<>AV=|." after @',a[c]);for(var d=0;d<2;d++){for(var p=!0,f=c+1;f<a.length;f++){if(on(a[f],u)){p=!1,c=f;break}if(rn(a[f]))throw new o("Missing a "+u+" character to complete a CD arrow.",a[f]);h[d].body.push(a[f])}if(p)throw new o("Missing a "+u+" character to complete a CD arrow.",a[c])}}var g={type:"styling",body:[sn(u,h,e)],mode:"math",style:"display"};r.push(g),l=nn()}else l.body.push(a[c]);s%2==0?r.push(l):r.shift(),r=[],i.push(r)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}(e.parser)),htmlBuilder:Kn,mathmlBuilder:Qn}),Gn("\\nonumber","\\gdef\\@eqnsw{0}"),Gn("\\notag","\\nonumber"),at({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new o(e.funcName+" valid only within array environment")}});var er=jn;at({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];if("ordgroup"!==i.type)throw new o("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=Gt(i.body[a],"textord").text;if("\\begin"===r){if(!er.hasOwnProperty(s))throw new o("No such environment: "+s,i);var l=er[s],{args:c,optArgs:u}=n.parseArguments("\\begin{"+s+"}",l),h={mode:n.mode,envName:s,parser:n},d=l.handler(h,c,u);n.expect("\\end",!1);var p=n.nextToken,f=Gt(n.parseFunction(),"environment");if(f.name!==s)throw new o("Mismatch: \\begin{"+s+"} matched by \\end{"+f.name+"}",p);return d}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var tr=(e,t)=>{var n=e.font,r=t.withFont(n);return _t(e.body,r)},nr=(e,t)=>{var n=e.font,r=t.withFont(n);return Pt(e.body,r)},rr={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};at({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=ct(t[0]),o=r;return o in rr&&(o=rr[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:tr,mathmlBuilder:nr}),at({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],i=u.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:en(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}}),at({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:i}=e,{mode:o}=n,s=n.parseExpression(!0,i);return{type:"font",mode:o,font:"math"+r.slice(1),body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:tr,mathmlBuilder:nr});var ir=(e,t)=>{var n=t;return"display"===e?n=n.id>=_.SCRIPT.id?n.text():_.DISPLAY:"text"===e&&n.size===_.DISPLAY.size?n=_.TEXT:"script"===e?n=_.SCRIPT:"scriptscript"===e&&(n=_.SCRIPTSCRIPT),n},or=(e,t)=>{var n,r=ir(e.size,t.style),i=r.fracNum(),o=r.fracDen();n=t.havingStyle(i);var s=_t(e.numer,n,t);if(e.continued){var a=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<a?a:s.height,s.depth=s.depth<l?l:s.depth}n=t.havingStyle(o);var c,u,h,d,p,f,g,m,v,y,b=_t(e.denom,n,t);if(e.hasBarLine?(e.barSize?(u=j(e.barSize,t),c=Qe.makeLineSpan("frac-line",t,u)):c=Qe.makeLineSpan("frac-line",t),u=c.height,h=c.height):(c=null,u=0,h=t.fontMetrics().defaultRuleThickness),r.size===_.DISPLAY.size||"display"===e.size?(d=t.fontMetrics().num1,p=u>0?3*h:7*h,f=t.fontMetrics().denom1):(u>0?(d=t.fontMetrics().num2,p=h):(d=t.fontMetrics().num3,p=3*h),f=t.fontMetrics().denom2),c){var w=t.fontMetrics().axisHeight;d-s.depth-(w+.5*u)<p&&(d+=p-(d-s.depth-(w+.5*u))),w-.5*u-(b.height-f)<p&&(f+=p-(w-.5*u-(b.height-f)));var x=-(w-.5*u);g=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:f},{type:"elem",elem:c,shift:x},{type:"elem",elem:s,shift:-d}]},t)}else{var A=d-s.depth-(b.height-f);A<p&&(d+=.5*(p-A),f+=.5*(p-A)),g=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:f},{type:"elem",elem:s,shift:-d}]},t)}return n=t.havingStyle(r),g.height*=n.sizeMultiplier/t.sizeMultiplier,g.depth*=n.sizeMultiplier/t.sizeMultiplier,m=r.size===_.DISPLAY.size?t.fontMetrics().delim1:r.size===_.SCRIPTSCRIPT.size?t.havingStyle(_.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,v=null==e.leftDelim?xt(t,["mopen"]):Ln.customSizedDelim(e.leftDelim,m,!0,t.havingStyle(r),e.mode,["mopen"]),y=e.continued?Qe.makeSpan([]):null==e.rightDelim?xt(t,["mclose"]):Ln.customSizedDelim(e.rightDelim,m,!0,t.havingStyle(r),e.mode,["mclose"]),Qe.makeSpan(["mord"].concat(n.sizingClasses(t)),[v,Qe.makeSpan(["mfrac"],[g]),y],t)},sr=(e,t)=>{var n=new Ct.MathNode("mfrac",[Pt(e.numer,t),Pt(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var r=j(e.barSize,t);n.setAttribute("linethickness",U(r))}}else n.setAttribute("linethickness","0px");var i=ir(e.size,t.style);if(i.size!==t.style.size){n=new Ct.MathNode("mstyle",[n]);var o=i.size===_.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){var s=[];if(null!=e.leftDelim){var a=new Ct.MathNode("mo",[new Ct.TextNode(e.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),s.push(a)}if(s.push(n),null!=e.rightDelim){var l=new Ct.MathNode("mo",[new Ct.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return Mt(s)}return n};at({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var n,{parser:r,funcName:i}=e,o=t[0],s=t[1],a=null,l=null,c="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,a="(",l=")";break;case"\\\\bracefrac":n=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":n=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text"}return{type:"genfrac",mode:r.mode,continued:!1,numer:o,denom:s,hasBarLine:n,leftDelim:a,rightDelim:l,size:c,barSize:null}},htmlBuilder:or,mathmlBuilder:sr}),at({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],o=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),at({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var t,{parser:n,funcName:r,token:i}=e;switch(r){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:t,token:i}}});var ar=["display","text","script","scriptscript"],lr=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};at({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var n,{parser:r}=e,i=t[4],o=t[5],s=ct(t[0]),a="atom"===s.type&&"open"===s.family?lr(s.text):null,l=ct(t[1]),c="atom"===l.type&&"close"===l.family?lr(l.text):null,u=Gt(t[2],"size"),h=null;n=!!u.isBlank||(h=u.value).number>0;var d="auto",p=t[3];if("ordgroup"===p.type){if(p.body.length>0){var f=Gt(p.body[0],"textord");d=ar[Number(f.text)]}}else p=Gt(p,"textord"),d=ar[Number(p.text)];return{type:"genfrac",mode:r.mode,numer:i,denom:o,continued:!1,hasBarLine:n,barSize:h,leftDelim:a,rightDelim:c,size:d}},htmlBuilder:or,mathmlBuilder:sr}),at({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:i}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Gt(t[0],"size").value,token:i}}}),at({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],o=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}(Gt(t[1],"infix").size),s=t[2],a=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:s,continued:!1,hasBarLine:a,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:or,mathmlBuilder:sr});var cr=(e,t)=>{var n,r,i=t.style;"supsub"===e.type?(n=e.sup?_t(e.sup,t.havingStyle(i.sup()),t):_t(e.sub,t.havingStyle(i.sub()),t),r=Gt(e.base,"horizBrace")):r=Gt(e,"horizBrace");var o,s=_t(r.base,t.havingBaseStyle(_.DISPLAY)),a=Ht(r,t);if(r.isOver?(o=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(o=Qe.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[0].classes.push("svg-align"),n){var l=Qe.makeSpan(["mord",r.isOver?"mover":"munder"],[o],t);o=r.isOver?Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},t):Qe.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return Qe.makeSpan(["mord",r.isOver?"mover":"munder"],[o],t)};at({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:cr,mathmlBuilder:(e,t)=>{var n=Ut(e.label);return new Ct.MathNode(e.isOver?"mover":"munder",[Pt(e.base,t),n])}}),at({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],i=Gt(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:ut(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=mt(e.body,t,!1);return Qe.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=Lt(e.body,t);return n instanceof kt||(n=new kt("mrow",[n])),n.setAttribute("href",e.href),n}}),at({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=Gt(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var s=r[o];"~"===s&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var a={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:ut(a)}}}),at({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:ut(t[0])}},htmlBuilder(e,t){var n=mt(e.body,t,!1);return Qe.makeFragment(n)},mathmlBuilder:(e,t)=>new Ct.MathNode("mrow",It(e.body,t))}),at({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var n,{parser:r,funcName:i,token:s}=e,a=Gt(t[0],"raw").string,l=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c={};switch(i){case"\\htmlClass":c.class=a,n={command:"\\htmlClass",class:a};break;case"\\htmlId":c.id=a,n={command:"\\htmlId",id:a};break;case"\\htmlStyle":c.style=a,n={command:"\\htmlStyle",style:a};break;case"\\htmlData":for(var u=a.split(","),h=0;h<u.length;h++){var d=u[h].split("=");if(2!==d.length)throw new o("Error parsing key-value for \\htmlData");c["data-"+d[0].trim()]=d[1].trim()}n={command:"\\htmlData",attributes:c};break;default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(n)?{type:"html",mode:r.mode,attributes:c,body:ut(l)}:r.formatUnsupportedCmd(i)},htmlBuilder:(e,t)=>{var n=mt(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var i=Qe.makeSpan(r,n,t);for(var o in e.attributes)"class"!==o&&e.attributes.hasOwnProperty(o)&&i.setAttribute(o,e.attributes[o]);return i},mathmlBuilder:(e,t)=>Lt(e.body,t)}),at({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:ut(t[0]),mathml:ut(t[1])}},htmlBuilder:(e,t)=>{var n=mt(e.html,t,!1);return Qe.makeFragment(n)},mathmlBuilder:(e,t)=>Lt(e.mathml,t)});var ur=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new o("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(t[1]+t[2]),unit:t[3]};if(!$(n))throw new o("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};at({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},l="";if(n[0])for(var c=Gt(n[0],"raw").string.split(","),u=0;u<c.length;u++){var h=c[u].split("=");if(2===h.length){var d=h[1].trim();switch(h[0].trim()){case"alt":l=d;break;case"width":i=ur(d);break;case"height":s=ur(d);break;case"totalheight":a=ur(d);break;default:throw new o("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var p=Gt(t[0],"url").url;return""===l&&(l=(l=(l=p).replace(/^.*[\\/]/,"")).substring(0,l.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:r.mode,alt:l,width:i,height:s,totalheight:a,src:p}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=j(e.height,t),r=0;e.totalheight.number>0&&(r=j(e.totalheight,t)-n);var i=0;e.width.number>0&&(i=j(e.width,t));var o={height:U(n+r)};i>0&&(o.width=U(i)),r>0&&(o.verticalAlign=U(-r));var s=new K(e.src,e.alt,o);return s.height=n,s.depth=r,s},mathmlBuilder:(e,t)=>{var n=new Ct.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=j(e.height,t),i=0;if(e.totalheight.number>0&&(i=j(e.totalheight,t)-r,n.setAttribute("valign",U(-i))),n.setAttribute("height",U(r+i)),e.width.number>0){var o=j(e.width,t);n.setAttribute("width",U(o))}return n.setAttribute("src",e.src),n}}),at({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=Gt(t[0],"size");if(n.settings.strict){var o="m"===r[1],s="mu"===i.value.unit;o?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, not "+i.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder:(e,t)=>Qe.makeGlue(e.dimension,t),mathmlBuilder(e,t){var n=j(e.dimension,t);return new Ct.SpaceNode(n)}}),at({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(e,t)=>{var n;"clap"===e.alignment?(n=Qe.makeSpan([],[_t(e.body,t)]),n=Qe.makeSpan(["inner"],[n],t)):n=Qe.makeSpan(["inner"],[_t(e.body,t)]);var r=Qe.makeSpan(["fix"],[]),i=Qe.makeSpan([e.alignment],[n,r],t),o=Qe.makeSpan(["strut"]);return o.style.height=U(i.height+i.depth),i.depth&&(o.style.verticalAlign=U(-i.depth)),i.children.unshift(o),i=Qe.makeSpan(["thinbox"],[i],t),Qe.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var n=new Ct.MathNode("mpadded",[Pt(e.body,t)]);if("rlap"!==e.alignment){var r="llap"===e.alignment?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}}),at({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,i=r.mode;r.switchMode("math");var o="\\("===n?"\\)":"$",s=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:s}}}),at({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new o("Mismatched "+e.funcName)}});var hr=(e,t)=>{switch(t.style.size){case _.DISPLAY.size:return e.display;case _.TEXT.size:return e.text;case _.SCRIPT.size:return e.script;case _.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};at({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:ut(t[0]),text:ut(t[1]),script:ut(t[2]),scriptscript:ut(t[3])}},htmlBuilder:(e,t)=>{var n=hr(e,t),r=mt(n,t,!1);return Qe.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=hr(e,t);return Lt(n,t)}});var dr=(e,t,n,r,i,o,s)=>{e=Qe.makeSpan([],[e]);var a,l,c,h=n&&u.isCharacterBox(n);if(t){var d=_t(t,r.havingStyle(i.sup()),r);l={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-d.depth)}}if(n){var p=_t(n,r.havingStyle(i.sub()),r);a={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-p.height)}}if(l&&a){var f=r.fontMetrics().bigOpSpacing5+a.elem.height+a.elem.depth+a.kern+e.depth+s;c=Qe.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:U(-o)},{type:"kern",size:a.kern},{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:U(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(a){var g=e.height-s;c=Qe.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:U(-o)},{type:"kern",size:a.kern},{type:"elem",elem:e}]},r)}else{if(!l)return e;var m=e.depth+s;c=Qe.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:U(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}var v=[c];if(a&&0!==o&&!h){var y=Qe.makeSpan(["mspace"],[],r);y.style.marginRight=U(o),v.unshift(y)}return Qe.makeSpan(["mop","op-limits"],v,r)},pr=["\\smallint"],fr=(e,t)=>{var n,r,i,o=!1;"supsub"===e.type?(n=e.sup,r=e.sub,i=Gt(e.base,"op"),o=!0):i=Gt(e,"op");var s,a=t.style,l=!1;if(a.size===_.DISPLAY.size&&i.symbol&&!u.contains(pr,i.name)&&(l=!0),i.symbol){var c=l?"Size2-Regular":"Size1-Regular",h="";if("\\oiint"!==i.name&&"\\oiiint"!==i.name||(h=i.name.slice(1),i.name="oiint"===h?"\\iint":"\\iiint"),s=Qe.makeSymbol(i.name,c,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),h.length>0){var d=s.italic,p=Qe.staticSvg(h+"Size"+(l?"2":"1"),t);s=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:0},{type:"elem",elem:p,shift:l?.08:0}]},t),i.name="\\"+h,s.classes.unshift("mop"),s.italic=d}}else if(i.body){var f=mt(i.body,t,!0);1===f.length&&f[0]instanceof Q?(s=f[0]).classes[0]="mop":s=Qe.makeSpan(["mop"],f,t)}else{for(var g=[],m=1;m<i.name.length;m++)g.push(Qe.mathsym(i.name[m],i.mode,t));s=Qe.makeSpan(["mop"],g,t)}var v=0,y=0;return(s instanceof Q||"\\oiint"===i.name||"\\oiiint"===i.name)&&!i.suppressBaseShift&&(v=(s.height-s.depth)/2-t.fontMetrics().axisHeight,y=s.italic),o?dr(s,n,r,t,a,y,v):(v&&(s.style.position="relative",s.style.top=U(v)),s)},gr=(e,t)=>{var n;if(e.symbol)n=new kt("mo",[Nt(e.name,e.mode)]),u.contains(pr,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new kt("mo",It(e.body,t));else{n=new kt("mi",[new St(e.name.slice(1))]);var r=new kt("mo",[Nt("⁡","text")]);n=e.parentIsSupSub?new kt("mrow",[n,r]):Et([n,r])}return n},mr={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};at({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=r;return 1===i.length&&(i=mr[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:fr,mathmlBuilder:gr}),at({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ut(r)}},htmlBuilder:fr,mathmlBuilder:gr});var vr={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};at({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:fr,mathmlBuilder:gr}),at({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:fr,mathmlBuilder:gr}),at({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return 1===r.length&&(r=vr[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:fr,mathmlBuilder:gr});var yr=(e,t)=>{var n,r,i,o,s=!1;if("supsub"===e.type?(n=e.sup,r=e.sub,i=Gt(e.base,"operatorname"),s=!0):i=Gt(e,"operatorname"),i.body.length>0){for(var a=i.body.map(e=>{var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e}),l=mt(a,t.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof Q&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=Qe.makeSpan(["mop"],l,t)}else o=Qe.makeSpan(["mop"],[],t);return s?dr(o,n,r,t,t.style,0,0):o};function br(e,t,n){for(var r=mt(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var s=r[o].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[o].classes,t.sizingClasses(n)):r[o].classes[s+1]==="reset-size"+t.size&&(r[o].classes[s+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return Qe.makeFragment(r)}at({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"operatorname",mode:n.mode,body:ut(i),alwaysHandleSupSub:"\\operatornamewithlimits"===r,limits:!1,parentIsSupSub:!1}},htmlBuilder:yr,mathmlBuilder:(e,t)=>{for(var n=It(e.body,t.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(o instanceof Ct.SpaceNode);else if(o instanceof Ct.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var s=o.children[0];1===o.children.length&&s instanceof Ct.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break;default:r=!1}else r=!1}if(r){var a=n.map(e=>e.toText()).join("");n=[new Ct.TextNode(a)]}var l=new Ct.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new Ct.MathNode("mo",[Nt("⁡","text")]);return e.parentIsSupSub?new Ct.MathNode("mrow",[l,c]):Ct.newDocumentFragment([l,c])}}),Gn("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),lt({type:"ordgroup",htmlBuilder:(e,t)=>e.semisimple?Qe.makeFragment(mt(e.body,t,!1)):Qe.makeSpan(["mord"],mt(e.body,t,!0),t),mathmlBuilder:(e,t)=>Lt(e.body,t,!0)}),at({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=_t(e.body,t.havingCrampedStyle()),r=Qe.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,o=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},t);return Qe.makeSpan(["mord","overline"],[o],t)},mathmlBuilder(e,t){var n=new Ct.MathNode("mo",[new Ct.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new Ct.MathNode("mover",[Pt(e.body,t),n]);return r.setAttribute("accent","true"),r}}),at({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:ut(r)}},htmlBuilder:(e,t)=>{var n=mt(e.body,t.withPhantom(),!1);return Qe.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=It(e.body,t);return new Ct.MathNode("mphantom",n)}}),at({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=Qe.makeSpan([],[_t(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),Qe.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=It(ut(e.body),t),r=new Ct.MathNode("mphantom",n),i=new Ct.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}}),at({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=Qe.makeSpan(["inner"],[_t(e.body,t.withPhantom())]),r=Qe.makeSpan(["fix"],[]);return Qe.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=It(ut(e.body),t),r=new Ct.MathNode("mphantom",n),i=new Ct.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}}),at({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=Gt(t[0],"size").value,i=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(e,t){var n=_t(e.body,t),r=j(e.dy,t);return Qe.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new Ct.MathNode("mpadded",[Pt(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}}),at({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),at({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,i=n[0],o=Gt(t[0],"size"),s=Gt(t[1],"size");return{type:"rule",mode:r.mode,shift:i&&Gt(i,"size").value,width:o.value,height:s.value}},htmlBuilder(e,t){var n=Qe.makeSpan(["mord","rule"],[],t),r=j(e.width,t),i=j(e.height,t),o=e.shift?j(e.shift,t):0;return n.style.borderRightWidth=U(r),n.style.borderTopWidth=U(i),n.style.bottom=U(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=1.125*i*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=j(e.width,t),r=j(e.height,t),i=e.shift?j(e.shift,t):0,o=t.color&&t.getColor()||"black",s=new Ct.MathNode("mspace");s.setAttribute("mathbackground",o),s.setAttribute("width",U(n)),s.setAttribute("height",U(r));var a=new Ct.MathNode("mpadded",[s]);return i>=0?a.setAttribute("height",U(i)):(a.setAttribute("height",U(i)),a.setAttribute("depth",U(-i))),a.setAttribute("voffset",U(i)),a}});var wr=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];at({type:"sizing",names:wr,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:i}=e,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:wr.indexOf(r)+1,body:o}},htmlBuilder:(e,t)=>{var n=t.havingSize(e.size);return br(e.body,n,t)},mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=It(e.body,n),i=new Ct.MathNode("mstyle",r);return i.setAttribute("mathsize",U(n.sizeMultiplier)),i}}),at({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,i=!1,o=!1,s=n[0]&&Gt(n[0],"ordgroup");if(s)for(var a="",l=0;l<s.body.length;++l){if("t"===(a=s.body[l].text))i=!0;else{if("b"!==a){i=!1,o=!1;break}o=!0}}else i=!0,o=!0;var c=t[0];return{type:"smash",mode:r.mode,body:c,smashHeight:i,smashDepth:o}},htmlBuilder:(e,t)=>{var n=Qe.makeSpan([],[_t(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return Qe.makeSpan(["mord"],[o],t)},mathmlBuilder:(e,t)=>{var n=new Ct.MathNode("mpadded",[Pt(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}}),at({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,i=n[0],o=t[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder(e,t){var n=_t(e.body,t.havingCrampedStyle());0===n.height&&(n.height=t.fontMetrics().xHeight),n=Qe.wrapFragment(n,t);var r=t.fontMetrics().defaultRuleThickness,i=r;t.style.id<_.TEXT.id&&(i=t.fontMetrics().xHeight);var o=r+i/4,s=n.height+n.depth+o+r,{span:a,ruleWidth:l,advanceWidth:c}=Ln.sqrtImage(s,t),u=a.height-l;u>n.height+n.depth+o&&(o=(o+u-n.height-n.depth)/2);var h=a.height-n.height-o-l;n.style.paddingLeft=U(c);var d=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:a},{type:"kern",size:l}]},t);if(e.index){var p=t.havingStyle(_.SCRIPTSCRIPT),f=_t(e.index,p,t),g=.6*(d.height-d.depth),m=Qe.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:f}]},t),v=Qe.makeSpan(["root"],[m]);return Qe.makeSpan(["mord","sqrt"],[v,d],t)}return Qe.makeSpan(["mord","sqrt"],[d],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new Ct.MathNode("mroot",[Pt(n,t),Pt(r,t)]):new Ct.MathNode("msqrt",[Pt(n,t)])}});var xr={display:_.DISPLAY,text:_.TEXT,script:_.SCRIPT,scriptscript:_.SCRIPTSCRIPT};at({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:i}=e,o=i.parseExpression(!0,n),s=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:s,body:o}},htmlBuilder(e,t){var n=xr[e.style],r=t.havingStyle(n).withFont("");return br(e.body,r,t)},mathmlBuilder(e,t){var n=xr[e.style],r=t.havingStyle(n),i=It(e.body,r),o=new Ct.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return o.setAttribute("scriptlevel",s[0]),o.setAttribute("displaystyle",s[1]),o}});lt({type:"supsub",htmlBuilder(e,t){var n=function(e,t){var n=e.base;return n?"op"===n.type?n.limits&&(t.style.size===_.DISPLAY.size||n.alwaysHandleSupSub)?fr:null:"operatorname"===n.type?n.alwaysHandleSupSub&&(t.style.size===_.DISPLAY.size||n.limits)?yr:null:"accent"===n.type?u.isCharacterBox(n.base)?Yt:null:"horizBrace"===n.type&&!e.sub===n.isOver?cr:null:null}(e,t);if(n)return n(e,t);var r,i,o,{base:s,sup:a,sub:l}=e,c=_t(s,t),h=t.fontMetrics(),d=0,p=0,f=s&&u.isCharacterBox(s);if(a){var g=t.havingStyle(t.style.sup());r=_t(a,g,t),f||(d=c.height-g.fontMetrics().supDrop*g.sizeMultiplier/t.sizeMultiplier)}if(l){var m=t.havingStyle(t.style.sub());i=_t(l,m,t),f||(p=c.depth+m.fontMetrics().subDrop*m.sizeMultiplier/t.sizeMultiplier)}o=t.style===_.DISPLAY?h.sup1:t.style.cramped?h.sup3:h.sup2;var v,y=t.sizeMultiplier,b=U(.5/h.ptPerEm/y),w=null;if(i){var x=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(c instanceof Q||x)&&(w=U(-c.italic))}if(r&&i){d=Math.max(d,o,r.depth+.25*h.xHeight),p=Math.max(p,h.sub2);var A=4*h.defaultRuleThickness;if(d-r.depth-(i.height-p)<A){p=A-(d-r.depth)+i.height;var T=.8*h.xHeight-(d-r.depth);T>0&&(d+=T,p-=T)}var E=[{type:"elem",elem:i,shift:p,marginRight:b,marginLeft:w},{type:"elem",elem:r,shift:-d,marginRight:b}];v=Qe.makeVList({positionType:"individualShift",children:E},t)}else if(i){p=Math.max(p,h.sub1,i.height-.8*h.xHeight);var k=[{type:"elem",elem:i,marginLeft:w,marginRight:b}];v=Qe.makeVList({positionType:"shift",positionData:p,children:k},t)}else{if(!r)throw new Error("supsub must have either sup or sub.");d=Math.max(d,o,r.depth+.25*h.xHeight),v=Qe.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:r,marginRight:b}]},t)}var S=wt(c,"right")||"mord";return Qe.makeSpan([S],[c,Qe.makeSpan(["msupsub"],[v])],t)},mathmlBuilder(e,t){var n,r=!1;e.base&&"horizBrace"===e.base.type&&!!e.sup===e.base.isOver&&(r=!0,n=e.base.isOver),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0);var i,o=[Pt(e.base,t)];if(e.sub&&o.push(Pt(e.sub,t)),e.sup&&o.push(Pt(e.sup,t)),r)i=n?"mover":"munder";else if(e.sub)if(e.sup){var s=e.base;i=s&&"op"===s.type&&s.limits&&t.style===_.DISPLAY||s&&"operatorname"===s.type&&s.alwaysHandleSupSub&&(t.style===_.DISPLAY||s.limits)?"munderover":"msubsup"}else{var a=e.base;i=a&&"op"===a.type&&a.limits&&(t.style===_.DISPLAY||a.alwaysHandleSupSub)||a&&"operatorname"===a.type&&a.alwaysHandleSupSub&&(a.limits||t.style===_.DISPLAY)?"munder":"msub"}else{var l=e.base;i=l&&"op"===l.type&&l.limits&&(t.style===_.DISPLAY||l.alwaysHandleSupSub)||l&&"operatorname"===l.type&&l.alwaysHandleSupSub&&(l.limits||t.style===_.DISPLAY)?"mover":"msup"}return new Ct.MathNode(i,o)}}),lt({type:"atom",htmlBuilder:(e,t)=>Qe.mathsym(e.text,e.mode,t,["m"+e.family]),mathmlBuilder(e,t){var n=new Ct.MathNode("mo",[Nt(e.text,e.mode)]);if("bin"===e.family){var r=Ot(e,t);"bold-italic"===r&&n.setAttribute("mathvariant",r)}else"punct"===e.family?n.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||n.setAttribute("stretchy","false");return n}});var _r={mi:"italic",mn:"normal",mtext:"normal"};lt({type:"mathord",htmlBuilder:(e,t)=>Qe.makeOrd(e,t,"mathord"),mathmlBuilder(e,t){var n=new Ct.MathNode("mi",[Nt(e.text,e.mode,t)]),r=Ot(e,t)||"italic";return r!==_r[n.type]&&n.setAttribute("mathvariant",r),n}}),lt({type:"textord",htmlBuilder:(e,t)=>Qe.makeOrd(e,t,"textord"),mathmlBuilder(e,t){var n,r=Nt(e.text,e.mode,t),i=Ot(e,t)||"normal";return n="text"===e.mode?new Ct.MathNode("mtext",[r]):/[0-9]/.test(e.text)?new Ct.MathNode("mn",[r]):"\\prime"===e.text?new Ct.MathNode("mo",[r]):new Ct.MathNode("mi",[r]),i!==_r[n.type]&&n.setAttribute("mathvariant",i),n}});var Ar={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Tr={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};lt({type:"spacing",htmlBuilder(e,t){if(Tr.hasOwnProperty(e.text)){var n=Tr[e.text].className||"";if("text"===e.mode){var r=Qe.makeOrd(e,t,"textord");return r.classes.push(n),r}return Qe.makeSpan(["mspace",n],[Qe.mathsym(e.text,e.mode,t)],t)}if(Ar.hasOwnProperty(e.text))return Qe.makeSpan(["mspace",Ar[e.text]],[],t);throw new o('Unknown type of space "'+e.text+'"')},mathmlBuilder(e,t){if(!Tr.hasOwnProperty(e.text)){if(Ar.hasOwnProperty(e.text))return new Ct.MathNode("mspace");throw new o('Unknown type of space "'+e.text+'"')}return new Ct.MathNode("mtext",[new Ct.TextNode(" ")])}});var Er=()=>{var e=new Ct.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};lt({type:"tag",mathmlBuilder(e,t){var n=new Ct.MathNode("mtable",[new Ct.MathNode("mtr",[Er(),new Ct.MathNode("mtd",[Lt(e.body,t)]),Er(),new Ct.MathNode("mtd",[Lt(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var kr={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Sr={"\\textbf":"textbf","\\textmd":"textmd"},Cr={"\\textit":"textit","\\textup":"textup"},Nr=(e,t)=>{var n=e.font;return n?kr[n]?t.withTextFontFamily(kr[n]):Sr[n]?t.withTextFontWeight(Sr[n]):"\\emph"===n?"textit"===t.fontShape?t.withTextFontShape("textup"):t.withTextFontShape("textit"):t.withTextFontShape(Cr[n]):t};at({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"text",mode:n.mode,body:ut(i),font:r}},htmlBuilder(e,t){var n=Nr(e,t),r=mt(e.body,n,!0);return Qe.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=Nr(e,t);return Lt(e.body,n)}}),at({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=_t(e.body,t),r=Qe.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,o=Qe.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},t);return Qe.makeSpan(["mord","underline"],[o],t)},mathmlBuilder(e,t){var n=new Ct.MathNode("mo",[new Ct.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new Ct.MathNode("munder",[Pt(e.body,t),n]);return r.setAttribute("accentunder","true"),r}}),at({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=_t(e.body,t),r=t.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return Qe.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder:(e,t)=>new Ct.MathNode("mpadded",[Pt(e.body,t)],["vcenter"])}),at({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new o("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=Mr(e),r=[],i=t.havingStyle(t.style.text()),o=0;o<n.length;o++){var s=n[o];"~"===s&&(s="\\textasciitilde"),r.push(Qe.makeSymbol(s,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return Qe.makeSpan(["mord","text"].concat(i.sizingClasses(t)),Qe.tryCombineChars(r),i)},mathmlBuilder(e,t){var n=new Ct.TextNode(Mr(e)),r=new Ct.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var Mr=e=>e.body.replace(/ /g,e.star?"␣":" "),Or=it,Rr="[ \r\n\t]",Ir="(\\\\[a-zA-Z@]+)"+Rr+"*",Lr="[̀-ͯ]",Pr=new RegExp(Lr+"+$"),Dr="("+Rr+"+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-‧‪-퟿豈-￿]"+Lr+"*|[\ud800-\udbff][\udc00-\udfff]"+Lr+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+Ir+"|\\\\[^\ud800-\udfff])";class Br{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(Dr,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new i("EOF",new r(this,t,t));var n=this.tokenRegex.exec(e);if(null===n||n.index!==t)throw new o("Unexpected character: '"+e[t]+"'",new i(e[t],new r(this,t,t+1)));var s=n[6]||n[3]||(n[2]?"\\ ":" ");if(14===this.catcodes[s]){var a=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===a?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new i(s,new r(this,t,this.tokenRegex.lastIndex))}}class Fr{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new o("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(null==e[t]?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(void 0===n&&(n=!1),n){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}null==t?delete this.current[e]:this.current[e]=t}}var zr=Hn;Gn("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),Gn("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),Gn("\\@firstoftwo",function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),Gn("\\@secondoftwo",function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),Gn("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return 1===t[0].length&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),Gn("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),Gn("\\TextOrMath",function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var $r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Gn("\\char",function(e){var t,n=e.popToken(),r="";if("'"===n.text)t=8,n=e.popToken();else if('"'===n.text)t=16,n=e.popToken();else if("`"===n.text)if("\\"===(n=e.popToken()).text[0])r=n.text.charCodeAt(1);else{if("EOF"===n.text)throw new o("\\char` missing argument");r=n.text.charCodeAt(0)}else t=10;if(t){if(null==(r=$r[n.text])||r>=t)throw new o("Invalid base-"+t+" digit "+n.text);for(var i;null!=(i=$r[e.future().text])&&i<t;)r*=t,r+=i,e.popToken()}return"\\@char{"+r+"}"});var jr=(e,t,n,r)=>{var i=e.consumeArg().tokens;if(1!==i.length)throw new o("\\newcommand's first argument must be a macro name");var s=i[0].text,a=e.isDefined(s);if(a&&!t)throw new o("\\newcommand{"+s+"} attempting to redefine "+s+"; use \\renewcommand");if(!a&&!n)throw new o("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var l=0;if(1===(i=e.consumeArg().tokens).length&&"["===i[0].text){for(var c="",u=e.expandNextToken();"]"!==u.text&&"EOF"!==u.text;)c+=u.text,u=e.expandNextToken();if(!c.match(/^\s*[0-9]+\s*$/))throw new o("Invalid number of arguments: "+c);l=parseInt(c),i=e.consumeArg().tokens}return a&&r||e.macros.set(s,{tokens:i,numArgs:l}),""};Gn("\\newcommand",e=>jr(e,!1,!0,!1)),Gn("\\renewcommand",e=>jr(e,!0,!1,!1)),Gn("\\providecommand",e=>jr(e,!0,!0,!0)),Gn("\\message",e=>{e.consumeArgs(1)[0];return""}),Gn("\\errmessage",e=>{e.consumeArgs(1)[0];return""}),Gn("\\show",e=>{e.popToken().text;return""}),Gn("\\bgroup","{"),Gn("\\egroup","}"),Gn("~","\\nobreakspace"),Gn("\\lq","`"),Gn("\\rq","'"),Gn("\\aa","\\r a"),Gn("\\AA","\\r A"),Gn("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),Gn("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),Gn("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),Gn("ℬ","\\mathscr{B}"),Gn("ℰ","\\mathscr{E}"),Gn("ℱ","\\mathscr{F}"),Gn("ℋ","\\mathscr{H}"),Gn("ℐ","\\mathscr{I}"),Gn("ℒ","\\mathscr{L}"),Gn("ℳ","\\mathscr{M}"),Gn("ℛ","\\mathscr{R}"),Gn("ℭ","\\mathfrak{C}"),Gn("ℌ","\\mathfrak{H}"),Gn("ℨ","\\mathfrak{Z}"),Gn("\\Bbbk","\\Bbb{k}"),Gn("·","\\cdotp"),Gn("\\llap","\\mathllap{\\textrm{#1}}"),Gn("\\rlap","\\mathrlap{\\textrm{#1}}"),Gn("\\clap","\\mathclap{\\textrm{#1}}"),Gn("\\mathstrut","\\vphantom{(}"),Gn("\\underbar","\\underline{\\text{#1}}"),Gn("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),Gn("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),Gn("\\ne","\\neq"),Gn("≠","\\neq"),Gn("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),Gn("∉","\\notin"),Gn("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),Gn("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),Gn("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),Gn("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),Gn("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),Gn("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),Gn("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),Gn("⟂","\\perp"),Gn("‼","\\mathclose{!\\mkern-0.8mu!}"),Gn("∌","\\notni"),Gn("⌜","\\ulcorner"),Gn("⌝","\\urcorner"),Gn("⌞","\\llcorner"),Gn("⌟","\\lrcorner"),Gn("©","\\copyright"),Gn("®","\\textregistered"),Gn("️","\\textregistered"),Gn("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),Gn("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),Gn("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),Gn("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),Gn("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),Gn("⋮","\\vdots"),Gn("\\varGamma","\\mathit{\\Gamma}"),Gn("\\varDelta","\\mathit{\\Delta}"),Gn("\\varTheta","\\mathit{\\Theta}"),Gn("\\varLambda","\\mathit{\\Lambda}"),Gn("\\varXi","\\mathit{\\Xi}"),Gn("\\varPi","\\mathit{\\Pi}"),Gn("\\varSigma","\\mathit{\\Sigma}"),Gn("\\varUpsilon","\\mathit{\\Upsilon}"),Gn("\\varPhi","\\mathit{\\Phi}"),Gn("\\varPsi","\\mathit{\\Psi}"),Gn("\\varOmega","\\mathit{\\Omega}"),Gn("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),Gn("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),Gn("\\boxed","\\fbox{$\\displaystyle{#1}$}"),Gn("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),Gn("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),Gn("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),Gn("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),Gn("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Ur={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Gn("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in Ur?t=Ur[n]:("\\not"===n.slice(0,4)||n in oe.math&&u.contains(["bin","rel"],oe.math[n].group))&&(t="\\dotsb"),t});var Hr={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Gn("\\dotso",function(e){return e.future().text in Hr?"\\ldots\\,":"\\ldots"}),Gn("\\dotsc",function(e){var t=e.future().text;return t in Hr&&","!==t?"\\ldots\\,":"\\ldots"}),Gn("\\cdots",function(e){return e.future().text in Hr?"\\@cdots\\,":"\\@cdots"}),Gn("\\dotsb","\\cdots"),Gn("\\dotsm","\\cdots"),Gn("\\dotsi","\\!\\cdots"),Gn("\\dotsx","\\ldots\\,"),Gn("\\DOTSI","\\relax"),Gn("\\DOTSB","\\relax"),Gn("\\DOTSX","\\relax"),Gn("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),Gn("\\,","\\tmspace+{3mu}{.1667em}"),Gn("\\thinspace","\\,"),Gn("\\>","\\mskip{4mu}"),Gn("\\:","\\tmspace+{4mu}{.2222em}"),Gn("\\medspace","\\:"),Gn("\\;","\\tmspace+{5mu}{.2777em}"),Gn("\\thickspace","\\;"),Gn("\\!","\\tmspace-{3mu}{.1667em}"),Gn("\\negthinspace","\\!"),Gn("\\negmedspace","\\tmspace-{4mu}{.2222em}"),Gn("\\negthickspace","\\tmspace-{5mu}{.277em}"),Gn("\\enspace","\\kern.5em "),Gn("\\enskip","\\hskip.5em\\relax"),Gn("\\quad","\\hskip1em\\relax"),Gn("\\qquad","\\hskip2em\\relax"),Gn("\\tag","\\@ifstar\\tag@literal\\tag@paren"),Gn("\\tag@paren","\\tag@literal{({#1})}"),Gn("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new o("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),Gn("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),Gn("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),Gn("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),Gn("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),Gn("\\newline","\\\\\\relax"),Gn("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Gr=U(N["Main-Regular"]["T".charCodeAt(0)][1]-.7*N["Main-Regular"]["A".charCodeAt(0)][1]);Gn("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+Gr+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),Gn("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+Gr+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),Gn("\\hspace","\\@ifstar\\@hspacer\\@hspace"),Gn("\\@hspace","\\hskip #1\\relax"),Gn("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),Gn("\\ordinarycolon",":"),Gn("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),Gn("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),Gn("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),Gn("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),Gn("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),Gn("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),Gn("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),Gn("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),Gn("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),Gn("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),Gn("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),Gn("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),Gn("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),Gn("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),Gn("∷","\\dblcolon"),Gn("∹","\\eqcolon"),Gn("≔","\\coloneqq"),Gn("≕","\\eqqcolon"),Gn("⩴","\\Coloneqq"),Gn("\\ratio","\\vcentcolon"),Gn("\\coloncolon","\\dblcolon"),Gn("\\colonequals","\\coloneqq"),Gn("\\coloncolonequals","\\Coloneqq"),Gn("\\equalscolon","\\eqqcolon"),Gn("\\equalscoloncolon","\\Eqqcolon"),Gn("\\colonminus","\\coloneq"),Gn("\\coloncolonminus","\\Coloneq"),Gn("\\minuscolon","\\eqcolon"),Gn("\\minuscoloncolon","\\Eqcolon"),Gn("\\coloncolonapprox","\\Colonapprox"),Gn("\\coloncolonsim","\\Colonsim"),Gn("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Gn("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Gn("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Gn("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Gn("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),Gn("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),Gn("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),Gn("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),Gn("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),Gn("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),Gn("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),Gn("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),Gn("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),Gn("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),Gn("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),Gn("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),Gn("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),Gn("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),Gn("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),Gn("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),Gn("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),Gn("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),Gn("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),Gn("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),Gn("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),Gn("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),Gn("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),Gn("\\imath","\\html@mathml{\\@imath}{ı}"),Gn("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),Gn("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),Gn("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),Gn("⟦","\\llbracket"),Gn("⟧","\\rrbracket"),Gn("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),Gn("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),Gn("⦃","\\lBrace"),Gn("⦄","\\rBrace"),Gn("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),Gn("⦵","\\minuso"),Gn("\\darr","\\downarrow"),Gn("\\dArr","\\Downarrow"),Gn("\\Darr","\\Downarrow"),Gn("\\lang","\\langle"),Gn("\\rang","\\rangle"),Gn("\\uarr","\\uparrow"),Gn("\\uArr","\\Uparrow"),Gn("\\Uarr","\\Uparrow"),Gn("\\N","\\mathbb{N}"),Gn("\\R","\\mathbb{R}"),Gn("\\Z","\\mathbb{Z}"),Gn("\\alef","\\aleph"),Gn("\\alefsym","\\aleph"),Gn("\\Alpha","\\mathrm{A}"),Gn("\\Beta","\\mathrm{B}"),Gn("\\bull","\\bullet"),Gn("\\Chi","\\mathrm{X}"),Gn("\\clubs","\\clubsuit"),Gn("\\cnums","\\mathbb{C}"),Gn("\\Complex","\\mathbb{C}"),Gn("\\Dagger","\\ddagger"),Gn("\\diamonds","\\diamondsuit"),Gn("\\empty","\\emptyset"),Gn("\\Epsilon","\\mathrm{E}"),Gn("\\Eta","\\mathrm{H}"),Gn("\\exist","\\exists"),Gn("\\harr","\\leftrightarrow"),Gn("\\hArr","\\Leftrightarrow"),Gn("\\Harr","\\Leftrightarrow"),Gn("\\hearts","\\heartsuit"),Gn("\\image","\\Im"),Gn("\\infin","\\infty"),Gn("\\Iota","\\mathrm{I}"),Gn("\\isin","\\in"),Gn("\\Kappa","\\mathrm{K}"),Gn("\\larr","\\leftarrow"),Gn("\\lArr","\\Leftarrow"),Gn("\\Larr","\\Leftarrow"),Gn("\\lrarr","\\leftrightarrow"),Gn("\\lrArr","\\Leftrightarrow"),Gn("\\Lrarr","\\Leftrightarrow"),Gn("\\Mu","\\mathrm{M}"),Gn("\\natnums","\\mathbb{N}"),Gn("\\Nu","\\mathrm{N}"),Gn("\\Omicron","\\mathrm{O}"),Gn("\\plusmn","\\pm"),Gn("\\rarr","\\rightarrow"),Gn("\\rArr","\\Rightarrow"),Gn("\\Rarr","\\Rightarrow"),Gn("\\real","\\Re"),Gn("\\reals","\\mathbb{R}"),Gn("\\Reals","\\mathbb{R}"),Gn("\\Rho","\\mathrm{P}"),Gn("\\sdot","\\cdot"),Gn("\\sect","\\S"),Gn("\\spades","\\spadesuit"),Gn("\\sub","\\subset"),Gn("\\sube","\\subseteq"),Gn("\\supe","\\supseteq"),Gn("\\Tau","\\mathrm{T}"),Gn("\\thetasym","\\vartheta"),Gn("\\weierp","\\wp"),Gn("\\Zeta","\\mathrm{Z}"),Gn("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),Gn("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),Gn("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),Gn("\\bra","\\mathinner{\\langle{#1}|}"),Gn("\\ket","\\mathinner{|{#1}\\rangle}"),Gn("\\braket","\\mathinner{\\langle{#1}\\rangle}"),Gn("\\Bra","\\left\\langle#1\\right|"),Gn("\\Ket","\\left|#1\\right\\rangle");var Vr=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,o=t.consumeArg().tokens,s=t.macros.get("|"),a=t.macros.get("\\|");t.macros.beginGroup();var l=t=>n=>{e&&(n.macros.set("|",s),i.length&&n.macros.set("\\|",a));var o=t;!t&&i.length&&("|"===n.future().text&&(n.popToken(),o=!0));return{tokens:o?i:r,numArgs:0}};t.macros.set("|",l(!1)),i.length&&t.macros.set("\\|",l(!0));var c=t.consumeArg().tokens,u=t.expandTokens([...o,...c,...n]);return t.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};Gn("\\bra@ket",Vr(!1)),Gn("\\bra@set",Vr(!0)),Gn("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),Gn("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),Gn("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),Gn("\\angln","{\\angl n}"),Gn("\\blue","\\textcolor{##6495ed}{#1}"),Gn("\\orange","\\textcolor{##ffa500}{#1}"),Gn("\\pink","\\textcolor{##ff00af}{#1}"),Gn("\\red","\\textcolor{##df0030}{#1}"),Gn("\\green","\\textcolor{##28ae7b}{#1}"),Gn("\\gray","\\textcolor{gray}{#1}"),Gn("\\purple","\\textcolor{##9d38bd}{#1}"),Gn("\\blueA","\\textcolor{##ccfaff}{#1}"),Gn("\\blueB","\\textcolor{##80f6ff}{#1}"),Gn("\\blueC","\\textcolor{##63d9ea}{#1}"),Gn("\\blueD","\\textcolor{##11accd}{#1}"),Gn("\\blueE","\\textcolor{##0c7f99}{#1}"),Gn("\\tealA","\\textcolor{##94fff5}{#1}"),Gn("\\tealB","\\textcolor{##26edd5}{#1}"),Gn("\\tealC","\\textcolor{##01d1c1}{#1}"),Gn("\\tealD","\\textcolor{##01a995}{#1}"),Gn("\\tealE","\\textcolor{##208170}{#1}"),Gn("\\greenA","\\textcolor{##b6ffb0}{#1}"),Gn("\\greenB","\\textcolor{##8af281}{#1}"),Gn("\\greenC","\\textcolor{##74cf70}{#1}"),Gn("\\greenD","\\textcolor{##1fab54}{#1}"),Gn("\\greenE","\\textcolor{##0d923f}{#1}"),Gn("\\goldA","\\textcolor{##ffd0a9}{#1}"),Gn("\\goldB","\\textcolor{##ffbb71}{#1}"),Gn("\\goldC","\\textcolor{##ff9c39}{#1}"),Gn("\\goldD","\\textcolor{##e07d10}{#1}"),Gn("\\goldE","\\textcolor{##a75a05}{#1}"),Gn("\\redA","\\textcolor{##fca9a9}{#1}"),Gn("\\redB","\\textcolor{##ff8482}{#1}"),Gn("\\redC","\\textcolor{##f9685d}{#1}"),Gn("\\redD","\\textcolor{##e84d39}{#1}"),Gn("\\redE","\\textcolor{##bc2612}{#1}"),Gn("\\maroonA","\\textcolor{##ffbde0}{#1}"),Gn("\\maroonB","\\textcolor{##ff92c6}{#1}"),Gn("\\maroonC","\\textcolor{##ed5fa6}{#1}"),Gn("\\maroonD","\\textcolor{##ca337c}{#1}"),Gn("\\maroonE","\\textcolor{##9e034e}{#1}"),Gn("\\purpleA","\\textcolor{##ddd7ff}{#1}"),Gn("\\purpleB","\\textcolor{##c6b9fc}{#1}"),Gn("\\purpleC","\\textcolor{##aa87ff}{#1}"),Gn("\\purpleD","\\textcolor{##7854ab}{#1}"),Gn("\\purpleE","\\textcolor{##543b78}{#1}"),Gn("\\mintA","\\textcolor{##f5f9e8}{#1}"),Gn("\\mintB","\\textcolor{##edf2df}{#1}"),Gn("\\mintC","\\textcolor{##e0e5cc}{#1}"),Gn("\\grayA","\\textcolor{##f6f7f7}{#1}"),Gn("\\grayB","\\textcolor{##f0f1f2}{#1}"),Gn("\\grayC","\\textcolor{##e3e5e6}{#1}"),Gn("\\grayD","\\textcolor{##d6d8da}{#1}"),Gn("\\grayE","\\textcolor{##babec2}{#1}"),Gn("\\grayF","\\textcolor{##888d93}{#1}"),Gn("\\grayG","\\textcolor{##626569}{#1}"),Gn("\\grayH","\\textcolor{##3b3e40}{#1}"),Gn("\\grayI","\\textcolor{##21242c}{#1}"),Gn("\\kaBlue","\\textcolor{##314453}{#1}"),Gn("\\kaGreen","\\textcolor{##71B307}{#1}");var Wr={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Yr{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Fr(zr,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new Br(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,n,r;if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;t=this.popToken(),({tokens:r,end:n}=this.consumeArg(["]"]))}else({tokens:r,start:t,end:n}=this.consumeArg());return this.pushToken(new i("EOF",n.loc)),this.pushTokens(r),t.range(n,"")}consumeSpaces(){for(;;){if(" "!==this.future().text)break;this.stack.pop()}}consumeArg(e){var t=[],n=e&&e.length>0;n||this.consumeSpaces();var r,i=this.future(),s=0,a=0;do{if(r=this.popToken(),t.push(r),"{"===r.text)++s;else if("}"===r.text){if(-1===--s)throw new o("Extra }",r)}else if("EOF"===r.text)throw new o("Unexpected end of input in a macro argument, expected '"+(e&&n?e[a]:"}")+"'",r);if(e&&n)if((0===s||1===s&&"{"===e[a])&&r.text===e[a]){if(++a===e.length){t.splice(-a,a);break}}else a=0}while(0!==s||n);return"{"===i.text&&"}"===t[t.length-1].text&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:r}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new o("The length of delimiters doesn't match the number of args!");for(var n=t[0],r=0;r<n.length;r++){var i=this.popToken();if(n[r]!==i.text)throw new o("Use of the macro doesn't match its definition",i)}}for(var s=[],a=0;a<e;a++)s.push(this.consumeArg(t&&t[a+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new o("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),n=t.text,r=t.noexpand?null:this._getExpansion(n);if(null==r||e&&r.unexpandable){if(e&&null==r&&"\\"===n[0]&&!this.isDefined(n))throw new o("Undefined control sequence: "+n);return this.pushToken(t),!1}this.countExpansion(1);var i=r.tokens,s=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs)for(var a=(i=i.slice()).length-1;a>=0;--a){var l=i[a];if("#"===l.text){if(0===a)throw new o("Incomplete placeholder at end of macro body",l);if("#"===(l=i[--a]).text)i.splice(a+1,1);else{if(!/^[1-9]$/.test(l.text))throw new o("Not a valid argument number",l);i.splice(a,2,...s[+l.text-1])}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new i(e)]):void 0}expandTokens(e){var t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(!1===this.expandOnce(!0)){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),t.push(r)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t?t.map(e=>e.text).join(""):t}_getExpansion(e){var t=this.macros.get(e);if(null==t)return t;if(1===e.length){var n=this.lexer.catcodes[e];if(null!=n&&13!==n)return}var r="function"==typeof t?t(this):t;if("string"==typeof r){var i=0;if(-1!==r.indexOf("#"))for(var o=r.replace(/##/g,"");-1!==o.indexOf("#"+(i+1));)++i;for(var s=new Br(r,this.settings),a=[],l=s.lex();"EOF"!==l.text;)a.push(l),l=s.lex();return a.reverse(),{tokens:a,numArgs:i}}return r}isDefined(e){return this.macros.has(e)||Or.hasOwnProperty(e)||oe.math.hasOwnProperty(e)||oe.text.hasOwnProperty(e)||Wr.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return null!=t?"string"==typeof t||"function"==typeof t||!t.unexpandable:Or.hasOwnProperty(e)&&!Or[e].primitive}}var qr=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Xr=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9",ₐ:"a",ₑ:"e",ₕ:"h",ᵢ:"i",ⱼ:"j",ₖ:"k",ₗ:"l",ₘ:"m",ₙ:"n",ₒ:"o",ₚ:"p",ᵣ:"r",ₛ:"s",ₜ:"t",ᵤ:"u",ᵥ:"v",ₓ:"x",ᵦ:"β",ᵧ:"γ",ᵨ:"ρ",ᵩ:"ϕ",ᵪ:"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9",ᴬ:"A",ᴮ:"B",ᴰ:"D",ᴱ:"E",ᴳ:"G",ᴴ:"H",ᴵ:"I",ᴶ:"J",ᴷ:"K",ᴸ:"L",ᴹ:"M",ᴺ:"N",ᴼ:"O",ᴾ:"P",ᴿ:"R",ᵀ:"T",ᵁ:"U",ⱽ:"V",ᵂ:"W",ᵃ:"a",ᵇ:"b",ᶜ:"c",ᵈ:"d",ᵉ:"e",ᶠ:"f",ᵍ:"g",ʰ:"h",ⁱ:"i",ʲ:"j",ᵏ:"k",ˡ:"l",ᵐ:"m",ⁿ:"n",ᵒ:"o",ᵖ:"p",ʳ:"r",ˢ:"s",ᵗ:"t",ᵘ:"u",ᵛ:"v",ʷ:"w",ˣ:"x",ʸ:"y",ᶻ:"z",ᵝ:"β",ᵞ:"γ",ᵟ:"δ",ᵠ:"ϕ",ᵡ:"χ",ᶿ:"θ"}),Kr={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Zr={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class Qr{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Yr(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new o("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new i("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,n}parseExpression(e,t){for(var n=[];;){"math"===this.mode&&this.consumeSpaces();var r=this.fetch();if(-1!==Qr.endOfExpression.indexOf(r.text))break;if(t&&r.text===t)break;if(e&&Or[r.text]&&Or[r.text].infix)break;var i=this.parseAtom(t);if(!i)break;"internal"!==i.type&&n.push(i)}return"text"===this.mode&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var t,n=-1,r=0;r<e.length;r++)if("infix"===e[r].type){if(-1!==n)throw new o("only one infix operator per group",e[r].token);n=r,t=e[r].replaceWith}if(-1!==n&&t){var i,s,a=e.slice(0,n),l=e.slice(n+1);return i=1===a.length&&"ordgroup"===a[0].type?a[0]:{type:"ordgroup",mode:this.mode,body:a},s=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},["\\\\abovefrac"===t?this.callFunction(t,[i,e[n],s],[]):this.callFunction(t,[i,s],[])]}return e}handleSupSubscript(e){var t,n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();do{var i;t=this.parseGroup(e)}while("internal"===(null==(i=t)?void 0:i.type));if(!t)throw new o("Expected group after '"+r+"'",n);return t}formatUnsupportedCmd(e){for(var t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var r={type:"text",mode:this.mode,body:t};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]}}parseAtom(e){var t,n,r=this.parseGroup("atom",e);if("internal"===(null==r?void 0:r.type))return r;if("text"===this.mode)return r;for(;;){this.consumeSpaces();var s=this.fetch();if("\\limits"===s.text||"\\nolimits"===s.text){if(r&&"op"===r.type){var a="\\limits"===s.text;r.limits=a,r.alwaysHandleSupSub=!0}else{if(!r||"operatorname"!==r.type)throw new o("Limit controls must follow a math operator",s);r.alwaysHandleSupSub&&(r.limits="\\limits"===s.text)}this.consume()}else if("^"===s.text){if(t)throw new o("Double superscript",s);t=this.handleSupSubscript("superscript")}else if("_"===s.text){if(n)throw new o("Double subscript",s);n=this.handleSupSubscript("subscript")}else if("'"===s.text){if(t)throw new o("Double superscript",s);var l={type:"textord",mode:this.mode,text:"\\prime"},c=[l];for(this.consume();"'"===this.fetch().text;)c.push(l),this.consume();"^"===this.fetch().text&&c.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:c}}else{if(!Xr[s.text])break;var u=qr.test(s.text),h=[];for(h.push(new i(Xr[s.text])),this.consume();;){var d=this.fetch().text;if(!Xr[d])break;if(qr.test(d)!==u)break;h.unshift(new i(Xr[d])),this.consume()}var p=this.subparse(h);u?n={type:"ordgroup",mode:"math",body:p}:t={type:"ordgroup",mode:"math",body:p}}}return t||n?{type:"supsub",mode:this.mode,base:r,sup:t,sub:n}:r}parseFunction(e,t){var n=this.fetch(),r=n.text,i=Or[r];if(!i)return null;if(this.consume(),t&&"atom"!==t&&!i.allowedInArgument)throw new o("Got function '"+r+"' with no arguments"+(t?" as "+t:""),n);if("text"===this.mode&&!i.allowedInText)throw new o("Can't use function '"+r+"' in text mode",n);if("math"===this.mode&&!1===i.allowedInMath)throw new o("Can't use function '"+r+"' in math mode",n);var{args:s,optArgs:a}=this.parseArguments(r,i);return this.callFunction(r,s,a,n,e)}callFunction(e,t,n,r,i){var s={funcName:e,parser:this,token:r,breakOnTokenText:i},a=Or[e];if(a&&a.handler)return a.handler(s,t,n);throw new o("No function handler for "+e)}parseArguments(e,t){var n=t.numArgs+t.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};for(var r=[],i=[],s=0;s<n;s++){var a=t.argTypes&&t.argTypes[s],l=s<t.numOptionalArgs;(t.primitive&&null==a||"sqrt"===t.type&&1===s&&null==i[0])&&(a="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)i.push(c);else{if(null==c)throw new o("Null argument, please report this as a bug");r.push(c)}}return{args:r,optArgs:i}}parseGroupOfType(e,t,n){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,t);case"hbox":var r=this.parseArgumentGroup(n,"text");return null!=r?{type:"styling",mode:r.mode,body:[r],style:"text"}:null;case"raw":var i=this.parseStringGroup("raw",n);return null!=i?{type:"raw",mode:"text",string:i.text}:null;case"primitive":if(n)throw new o("A primitive argument cannot be optional");var s=this.parseGroup(e);if(null==s)throw new o("Expected group as "+e,this.fetch());return s;case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new o("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(e,t){var n=this.gullet.scanArgument(t);if(null==n)return null;for(var r,i="";"EOF"!==(r=this.fetch()).text;)i+=r.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,t){for(var n,r=this.fetch(),i=r,s="";"EOF"!==(n=this.fetch()).text&&e.test(s+n.text);)s+=(i=n).text,this.consume();if(""===s)throw new o("Invalid "+t+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(null==t)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new o("Invalid color: '"+t.text+"'",t);var r=n[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){var t,n=!1;if(this.gullet.consumeSpaces(),!(t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",n=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r)throw new o("Invalid size: '"+t.text+"'",t);var i={number:+(r[1]+r[2]),unit:r[3]};if(!$(i))throw new o("Invalid unit: '"+i.unit+"'",t);return{type:"size",mode:this.mode,value:i,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==t)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,t){var n=this.gullet.scanArgument(e);if(null==n)return null;var r=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:n.loc,body:i};return t&&this.switchMode(r),o}parseGroup(e,t){var n,i=this.fetch(),s=i.text;if("{"===s||"\\begingroup"===s){this.consume();var a="{"===s?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,a),c=this.fetch();this.expect(a),this.gullet.endGroup(),n={type:"ordgroup",mode:this.mode,loc:r.range(i,c),body:l,semisimple:"\\begingroup"===s||void 0}}else if(null==(n=this.parseFunction(t,e)||this.parseSymbol())&&"\\"===s[0]&&!Wr.hasOwnProperty(s)){if(this.settings.throwOnError)throw new o("Undefined control sequence: "+s,i);n=this.formatUnsupportedCmd(s),this.consume()}return n}formLigatures(e){for(var t=e.length-1,n=0;n<t;++n){var i=e[n],o=i.text;"-"===o&&"-"===e[n+1].text&&(n+1<t&&"-"===e[n+2].text?(e.splice(n,3,{type:"textord",mode:"text",loc:r.range(i,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:r.range(i,e[n+1]),text:"--"}),t-=1)),"'"!==o&&"`"!==o||e[n+1].text!==o||(e.splice(n,2,{type:"textord",mode:"text",loc:r.range(i,e[n+1]),text:o+o}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),i="*"===n.charAt(0);if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new o("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:n=n.slice(1,-1),star:i}}Zr.hasOwnProperty(t[0])&&!oe[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=Zr[t[0]]+t.slice(1));var s,a=Pr.exec(t);if(a&&("i"===(t=t.substring(0,a.index))?t="ı":"j"===t&&(t="ȷ")),oe[this.mode][t]){this.settings.strict&&"math"===this.mode&&Be.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var l,c=oe[this.mode][t].group,u=r.range(e);if(re.hasOwnProperty(c)){var h=c;l={type:"atom",mode:this.mode,family:h,loc:u,text:t}}else l={type:c,mode:this.mode,loc:u,text:t};s=l}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(E(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),s={type:"textord",mode:"text",loc:r.range(e),text:t}}if(this.consume(),a)for(var d=0;d<a[0].length;d++){var p=a[0][d];if(!Kr[p])throw new o("Unknown accent ' "+p+"'",e);var f=Kr[p][this.mode]||Kr[p].text;if(!f)throw new o("Accent "+p+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:r.range(e),label:f,isStretchy:!1,isShifty:!0,base:s}}return s}}Qr.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Jr=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new Qr(e,t);delete n.gullet.macros.current["\\df@tag"];var r=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new o("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:n.subparse([new i("\\df@tag")])}]}return r},ei=function(e,t,n){t.textContent="";var r=ni(e,n).toNode();t.appendChild(r)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&(ei=function(){throw new o("KaTeX doesn't work in quirks mode.")});var ti=function(e,t,n){if(n.throwOnError||!(e instanceof o))throw e;var r=Qe.makeSpan(["katex-error"],[new Q(t)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+n.errorColor),r},ni=function(e,t){var n=new p(t);try{return function(e,t,n){var r,i=Bt(n);if("mathml"===n.output)return Dt(e,t,i,n.displayMode,!0);if("html"===n.output){var o=Tt(e,i);r=Qe.makeSpan(["katex"],[o])}else{var s=Dt(e,t,i,n.displayMode,!1),a=Tt(e,i);r=Qe.makeSpan(["katex"],[s,a])}return Ft(r,n)}(Jr(e,n),e,n)}catch(t){return ti(t,e,n)}},ri={version:"0.16.22",render:ei,renderToString:function(e,t){return ni(e,t).toMarkup()},ParseError:o,SETTINGS_SCHEMA:h,__parse:function(e,t){var n=new p(t);return Jr(e,n)},__renderToDomTree:ni,__renderToHTMLTree:function(e,t){var n=new p(t);try{return function(e,t,n){var r=Tt(e,Bt(n)),i=Qe.makeSpan(["katex"],[r]);return Ft(i,n)}(Jr(e,n),0,n)}catch(t){return ti(t,e,n)}},__setFontMetrics:function(e,t){N[e]=t},__defineSymbol:se,__defineFunction:at,__defineMacro:Gn,__domTree:{Span:q,Anchor:X,SymbolNode:Q,SvgNode:J,PathNode:ee,LineNode:te}}},2136:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="object"==typeof global&&global&&global.Object===Object&&global},2151:(e,t,n)=>{"use strict";n.d(t,{$g:()=>pe,Bg:()=>J,Ct:()=>S,Cz:()=>f,D8:()=>F,FO:()=>re,Fy:()=>ge,GL:()=>ce,IZ:()=>oe,Mz:()=>Ae,O4:()=>ve,QX:()=>ke,RP:()=>y,S2:()=>T,SP:()=>_,TF:()=>O,Tu:()=>m,Xj:()=>H,_c:()=>te,cY:()=>xe,fG:()=>D,jp:()=>X,lF:()=>be,r1:()=>u,rE:()=>j,s7:()=>I,vd:()=>he,ve:()=>Y,wb:()=>ae,wh:()=>Z,z2:()=>Ee});var r=n(2479);const i="AbstractRule";const o="AbstractType";const s="Condition";const a="TypeDefinition";const l="ValueLiteral";const c="AbstractElement";function u(e){return Se.isInstance(e,c)}const h="ArrayLiteral";const d="ArrayType";const p="BooleanLiteral";function f(e){return Se.isInstance(e,p)}const g="Conjunction";function m(e){return Se.isInstance(e,g)}const v="Disjunction";function y(e){return Se.isInstance(e,v)}const b="Grammar";const w="GrammarImport";const x="InferredType";function _(e){return Se.isInstance(e,x)}const A="Interface";function T(e){return Se.isInstance(e,A)}const E="NamedArgument";const k="Negation";function S(e){return Se.isInstance(e,k)}const C="NumberLiteral";const N="Parameter";const M="ParameterReference";function O(e){return Se.isInstance(e,M)}const R="ParserRule";function I(e){return Se.isInstance(e,R)}const L="ReferenceType";const P="ReturnType";function D(e){return Se.isInstance(e,P)}const B="SimpleType";function F(e){return Se.isInstance(e,B)}const z="StringLiteral";const $="TerminalRule";function j(e){return Se.isInstance(e,$)}const U="Type";function H(e){return Se.isInstance(e,U)}const G="TypeAttribute";const V="UnionType";const W="Action";function Y(e){return Se.isInstance(e,W)}const q="Alternatives";function X(e){return Se.isInstance(e,q)}const K="Assignment";function Z(e){return Se.isInstance(e,K)}const Q="CharacterRange";function J(e){return Se.isInstance(e,Q)}const ee="CrossReference";function te(e){return Se.isInstance(e,ee)}const ne="EndOfFile";function re(e){return Se.isInstance(e,ne)}const ie="Group";function oe(e){return Se.isInstance(e,ie)}const se="Keyword";function ae(e){return Se.isInstance(e,se)}const le="NegatedToken";function ce(e){return Se.isInstance(e,le)}const ue="RegexToken";function he(e){return Se.isInstance(e,ue)}const de="RuleCall";function pe(e){return Se.isInstance(e,de)}const fe="TerminalAlternatives";function ge(e){return Se.isInstance(e,fe)}const me="TerminalGroup";function ve(e){return Se.isInstance(e,me)}const ye="TerminalRuleCall";function be(e){return Se.isInstance(e,ye)}const we="UnorderedGroup";function xe(e){return Se.isInstance(e,we)}const _e="UntilToken";function Ae(e){return Se.isInstance(e,_e)}const Te="Wildcard";function Ee(e){return Se.isInstance(e,Te)}class ke extends r.kD{getAllTypes(){return[c,i,o,W,q,h,d,K,p,Q,s,g,ee,v,ne,b,w,ie,x,A,se,E,le,k,C,N,M,R,L,ue,P,de,B,z,fe,me,$,ye,U,G,a,V,we,_e,l,Te]}computeIsSubtype(e,t){switch(e){case W:case q:case K:case Q:case ee:case ne:case ie:case se:case le:case ue:case de:case fe:case me:case ye:case we:case _e:case Te:return this.isSubtype(c,t);case h:case C:case z:return this.isSubtype(l,t);case d:case L:case B:case V:return this.isSubtype(a,t);case p:return this.isSubtype(s,t)||this.isSubtype(l,t);case g:case v:case k:case M:return this.isSubtype(s,t);case x:case A:case U:return this.isSubtype(o,t);case R:return this.isSubtype(i,t)||this.isSubtype(o,t);case $:return this.isSubtype(i,t);default:return!1}}getReferenceType(e){const t=`${e.container.$type}:${e.property}`;switch(t){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return o;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return i;case"Grammar:usedGrammars":return b;case"NamedArgument:parameter":case"ParameterReference:parameter":return N;case"TerminalRuleCall:rule":return $;default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case c:return{name:c,properties:[{name:"cardinality"},{name:"lookahead"}]};case h:return{name:h,properties:[{name:"elements",defaultValue:[]}]};case d:return{name:d,properties:[{name:"elementType"}]};case p:return{name:p,properties:[{name:"true",defaultValue:!1}]};case g:return{name:g,properties:[{name:"left"},{name:"right"}]};case v:return{name:v,properties:[{name:"left"},{name:"right"}]};case b:return{name:b,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case w:return{name:w,properties:[{name:"path"}]};case x:return{name:x,properties:[{name:"name"}]};case A:return{name:A,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case E:return{name:E,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case k:return{name:k,properties:[{name:"value"}]};case C:return{name:C,properties:[{name:"value"}]};case N:return{name:N,properties:[{name:"name"}]};case M:return{name:M,properties:[{name:"parameter"}]};case R:return{name:R,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case L:return{name:L,properties:[{name:"referenceType"}]};case P:return{name:P,properties:[{name:"name"}]};case B:return{name:B,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case z:return{name:z,properties:[{name:"value"}]};case $:return{name:$,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case U:return{name:U,properties:[{name:"name"},{name:"type"}]};case G:return{name:G,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case V:return{name:V,properties:[{name:"types",defaultValue:[]}]};case W:return{name:W,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case q:return{name:q,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case K:return{name:K,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case Q:return{name:Q,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case ee:return{name:ee,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case ne:return{name:ne,properties:[{name:"cardinality"},{name:"lookahead"}]};case ie:return{name:ie,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case se:return{name:se,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case le:return{name:le,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case ue:return{name:ue,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case de:return{name:de,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case fe:return{name:fe,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case me:return{name:me,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case ye:return{name:ye,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case we:return{name:we,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case _e:return{name:_e,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Te:return{name:Te,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}}const Se=new ke},2274:(e,t,n)=>{"use strict";function r(e,t,n){if(e&&e.length){const[r,i]=t,o=Math.PI/180*n,s=Math.cos(o),a=Math.sin(o);for(const t of e){const[e,n]=t;t[0]=(e-r)*s-(n-i)*a+r,t[1]=(e-r)*a+(n-i)*s+i}}}function i(e,t){return e[0]===t[0]&&e[1]===t[1]}function o(e,t,n,o=1){const s=n,a=Math.max(t,.1),l=e[0]&&e[0][0]&&"number"==typeof e[0][0]?[e]:e,c=[0,0];if(s)for(const e of l)r(e,c,s);const u=function(e,t,n){const r=[];for(const t of e){const e=[...t];i(e[0],e[e.length-1])||e.push([e[0][0],e[0][1]]),e.length>2&&r.push(e)}const o=[];t=Math.max(t,.1);const s=[];for(const e of r)for(let t=0;t<e.length-1;t++){const n=e[t],r=e[t+1];if(n[1]!==r[1]){const e=Math.min(n[1],r[1]);s.push({ymin:e,ymax:Math.max(n[1],r[1]),x:e===n[1]?n[0]:r[0],islope:(r[0]-n[0])/(r[1]-n[1])})}}if(s.sort((e,t)=>e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)),!s.length)return o;let a=[],l=s[0].ymin,c=0;for(;a.length||s.length;){if(s.length){let e=-1;for(let t=0;t<s.length&&!(s[t].ymin>l);t++)e=t;s.splice(0,e+1).forEach(e=>{a.push({s:l,edge:e})})}if(a=a.filter(e=>!(e.edge.ymax<=l)),a.sort((e,t)=>e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)),(1!==n||c%t==0)&&a.length>1)for(let e=0;e<a.length;e+=2){const t=e+1;if(t>=a.length)break;const n=a[e].edge,r=a[t].edge;o.push([[Math.round(n.x),l],[Math.round(r.x),l]])}l+=n,a.forEach(e=>{e.edge.x=e.edge.x+n*e.edge.islope}),c++}return o}(l,a,o);if(s){for(const e of l)r(e,c,-s);!function(e,t,n){const i=[];e.forEach(e=>i.push(...e)),r(i,t,n)}(u,c,-s)}return u}function s(e,t){var n;const r=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return t.roughness>=1&&((null===(n=t.randomizer)||void 0===n?void 0:n.next())||Math.random())>.7&&(s=i),o(e,i,r,s||1)}n.d(t,{A:()=>ie});class a{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){const n=s(e,t);return{type:"fillSketch",ops:this.renderLines(n,t)}}renderLines(e,t){const n=[];for(const r of e)n.push(...this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],t));return n}}function l(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}class c extends a{fillPolygons(e,t){let n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);const r=s(e,Object.assign({},t,{hachureGap:n})),i=Math.PI/180*t.hachureAngle,o=[],a=.5*n*Math.cos(i),c=.5*n*Math.sin(i);for(const[e,t]of r)l([e,t])&&o.push([[e[0]-a,e[1]+c],[...t]],[[e[0]+a,e[1]-c],[...t]]);return{type:"fillSketch",ops:this.renderLines(o,t)}}}class u extends a{fillPolygons(e,t){const n=this._fillPolygons(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),i=this._fillPolygons(e,r);return n.ops=n.ops.concat(i.ops),n}}class h{constructor(e){this.helper=e}fillPolygons(e,t){const n=s(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(n,t)}dotsOnLines(e,t){const n=[];let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);let i=t.fillWeight;i<0&&(i=t.strokeWidth/2);const o=r/4;for(const s of e){const e=l(s),a=e/r,c=Math.ceil(a)-1,u=e-c*r,h=(s[0][0]+s[1][0])/2-r/4,d=Math.min(s[0][1],s[1][1]);for(let e=0;e<c;e++){const s=d+u+e*r,a=h-o+2*Math.random()*o,l=s-o+2*Math.random()*o,c=this.helper.ellipse(a,l,i,i,t);n.push(...c.ops)}}return{type:"fillSketch",ops:n}}}class d{constructor(e){this.helper=e}fillPolygons(e,t){const n=s(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}dashedLine(e,t){const n=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,r=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,i=[];return e.forEach(e=>{const o=l(e),s=Math.floor(o/(n+r)),a=(o+r-s*(n+r))/2;let c=e[0],u=e[1];c[0]>u[0]&&(c=e[1],u=e[0]);const h=Math.atan((u[1]-c[1])/(u[0]-c[0]));for(let e=0;e<s;e++){const o=e*(n+r),s=o+n,l=[c[0]+o*Math.cos(h)+a*Math.cos(h),c[1]+o*Math.sin(h)+a*Math.sin(h)],u=[c[0]+s*Math.cos(h)+a*Math.cos(h),c[1]+s*Math.sin(h)+a*Math.sin(h)];i.push(...this.helper.doubleLineOps(l[0],l[1],u[0],u[1],t))}}),i}}class p{constructor(e){this.helper=e}fillPolygons(e,t){const n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,r=t.zigzagOffset<0?n:t.zigzagOffset,i=s(e,t=Object.assign({},t,{hachureGap:n+r}));return{type:"fillSketch",ops:this.zigzagLines(i,r,t)}}zigzagLines(e,t,n){const r=[];return e.forEach(e=>{const i=l(e),o=Math.round(i/(2*t));let s=e[0],a=e[1];s[0]>a[0]&&(s=e[1],a=e[0]);const c=Math.atan((a[1]-s[1])/(a[0]-s[0]));for(let e=0;e<o;e++){const i=2*e*t,o=2*(e+1)*t,a=Math.sqrt(2*Math.pow(t,2)),l=[s[0]+i*Math.cos(c),s[1]+i*Math.sin(c)],u=[s[0]+o*Math.cos(c),s[1]+o*Math.sin(c)],h=[l[0]+a*Math.cos(c+Math.PI/4),l[1]+a*Math.sin(c+Math.PI/4)];r.push(...this.helper.doubleLineOps(l[0],l[1],h[0],h[1],n),...this.helper.doubleLineOps(h[0],h[1],u[0],u[1],n))}}),r}}const f={};class g{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const m={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function v(e,t){return e.type===t}function y(e){const t=[],n=function(e){const t=new Array;for(;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:1,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length)}return t[t.length]={type:2,text:""},t}(e);let r="BOD",i=0,o=n[i];for(;!v(o,2);){let s=0;const a=[];if("BOD"===r){if("M"!==o.text&&"m"!==o.text)return y("M0,0"+e);i++,s=m[o.text],r=o.text}else v(o,1)?s=m[r]:(i++,s=m[o.text],r=o.text);if(!(i+s<n.length))throw new Error("Path data ended short");for(let e=i;e<i+s;e++){const t=n[e];if(!v(t,1))throw new Error("Param not a number: "+r+","+t.text);a[a.length]=+t.text}if("number"!=typeof m[r])throw new Error("Bad segment: "+r);{const e={key:r,data:a};t.push(e),i+=s,o=n[i],"M"===r&&(r="L"),"m"===r&&(r="l")}}return t}function b(e){let t=0,n=0,r=0,i=0;const o=[];for(const{key:s,data:a}of e)switch(s){case"M":o.push({key:"M",data:[...a]}),[t,n]=a,[r,i]=a;break;case"m":t+=a[0],n+=a[1],o.push({key:"M",data:[t,n]}),r=t,i=n;break;case"L":o.push({key:"L",data:[...a]}),[t,n]=a;break;case"l":t+=a[0],n+=a[1],o.push({key:"L",data:[t,n]});break;case"C":o.push({key:"C",data:[...a]}),t=a[4],n=a[5];break;case"c":{const e=a.map((e,r)=>r%2?e+n:e+t);o.push({key:"C",data:e}),t=e[4],n=e[5];break}case"Q":o.push({key:"Q",data:[...a]}),t=a[2],n=a[3];break;case"q":{const e=a.map((e,r)=>r%2?e+n:e+t);o.push({key:"Q",data:e}),t=e[2],n=e[3];break}case"A":o.push({key:"A",data:[...a]}),t=a[5],n=a[6];break;case"a":t+=a[5],n+=a[6],o.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],t,n]});break;case"H":o.push({key:"H",data:[...a]}),t=a[0];break;case"h":t+=a[0],o.push({key:"H",data:[t]});break;case"V":o.push({key:"V",data:[...a]}),n=a[0];break;case"v":n+=a[0],o.push({key:"V",data:[n]});break;case"S":o.push({key:"S",data:[...a]}),t=a[2],n=a[3];break;case"s":{const e=a.map((e,r)=>r%2?e+n:e+t);o.push({key:"S",data:e}),t=e[2],n=e[3];break}case"T":o.push({key:"T",data:[...a]}),t=a[0],n=a[1];break;case"t":t+=a[0],n+=a[1],o.push({key:"T",data:[t,n]});break;case"Z":case"z":o.push({key:"Z",data:[]}),t=r,n=i}return o}function w(e){const t=[];let n="",r=0,i=0,o=0,s=0,a=0,l=0;for(const{key:c,data:u}of e){switch(c){case"M":t.push({key:"M",data:[...u]}),[r,i]=u,[o,s]=u;break;case"C":t.push({key:"C",data:[...u]}),r=u[4],i=u[5],a=u[2],l=u[3];break;case"L":t.push({key:"L",data:[...u]}),[r,i]=u;break;case"H":r=u[0],t.push({key:"L",data:[r,i]});break;case"V":i=u[0],t.push({key:"L",data:[r,i]});break;case"S":{let e=0,o=0;"C"===n||"S"===n?(e=r+(r-a),o=i+(i-l)):(e=r,o=i),t.push({key:"C",data:[e,o,...u]}),a=u[0],l=u[1],r=u[2],i=u[3];break}case"T":{const[e,o]=u;let s=0,c=0;"Q"===n||"T"===n?(s=r+(r-a),c=i+(i-l)):(s=r,c=i);const h=r+2*(s-r)/3,d=i+2*(c-i)/3,p=e+2*(s-e)/3,f=o+2*(c-o)/3;t.push({key:"C",data:[h,d,p,f,e,o]}),a=s,l=c,r=e,i=o;break}case"Q":{const[e,n,o,s]=u,c=r+2*(e-r)/3,h=i+2*(n-i)/3,d=o+2*(e-o)/3,p=s+2*(n-s)/3;t.push({key:"C",data:[c,h,d,p,o,s]}),a=e,l=n,r=o,i=s;break}case"A":{const e=Math.abs(u[0]),n=Math.abs(u[1]),o=u[2],s=u[3],a=u[4],l=u[5],c=u[6];0===e||0===n?(t.push({key:"C",data:[r,i,l,c,l,c]}),r=l,i=c):r===l&&i===c||(_(r,i,l,c,e,n,o,s,a).forEach(function(e){t.push({key:"C",data:e})}),r=l,i=c);break}case"Z":t.push({key:"Z",data:[]}),r=o,i=s}n=c}return t}function x(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function _(e,t,n,r,i,o,s,a,l,c){const u=(h=s,Math.PI*h/180);var h;let d=[],p=0,f=0,g=0,m=0;if(c)[p,f,g,m]=c;else{[e,t]=x(e,t,-u),[n,r]=x(n,r,-u);const s=(e-n)/2,c=(t-r)/2;let h=s*s/(i*i)+c*c/(o*o);h>1&&(h=Math.sqrt(h),i*=h,o*=h);const d=i*i,v=o*o,y=d*v-d*c*c-v*s*s,b=d*c*c+v*s*s,w=(a===l?-1:1)*Math.sqrt(Math.abs(y/b));g=w*i*c/o+(e+n)/2,m=w*-o*s/i+(t+r)/2,p=Math.asin(parseFloat(((t-m)/o).toFixed(9))),f=Math.asin(parseFloat(((r-m)/o).toFixed(9))),e<g&&(p=Math.PI-p),n<g&&(f=Math.PI-f),p<0&&(p=2*Math.PI+p),f<0&&(f=2*Math.PI+f),l&&p>f&&(p-=2*Math.PI),!l&&f>p&&(f-=2*Math.PI)}let v=f-p;if(Math.abs(v)>120*Math.PI/180){const e=f,t=n,a=r;f=l&&f>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,d=_(n=g+i*Math.cos(f),r=m+o*Math.sin(f),t,a,i,o,s,0,l,[f,e,g,m])}v=f-p;const y=Math.cos(p),b=Math.sin(p),w=Math.cos(f),A=Math.sin(f),T=Math.tan(v/4),E=4/3*i*T,k=4/3*o*T,S=[e,t],C=[e+E*b,t-k*y],N=[n+E*A,r-k*w],M=[n,r];if(C[0]=2*S[0]-C[0],C[1]=2*S[1]-C[1],c)return[C,N,M].concat(d);{d=[C,N,M].concat(d);const e=[];for(let t=0;t<d.length;t+=3){const n=x(d[t][0],d[t][1],u),r=x(d[t+1][0],d[t+1][1],u),i=x(d[t+2][0],d[t+2][1],u);e.push([n[0],n[1],r[0],r[1],i[0],i[1]])}return e}}const A={randOffset:function(e,t){return D(e,t)},randOffsetWithRange:function(e,t,n){return P(e,t,n)},ellipse:function(e,t,n,r,i){return C(e,t,i,S(n,r,i)).opset},doubleLineOps:function(e,t,n,r,i){return B(e,t,n,r,i,!0)}};function T(e,t,n,r,i){return{type:"path",ops:B(e,t,n,r,i)}}function E(e,t,n){const r=(e||[]).length;if(r>2){const i=[];for(let t=0;t<r-1;t++)i.push(...B(e[t][0],e[t][1],e[t+1][0],e[t+1][1],n));return t&&i.push(...B(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n)),{type:"path",ops:i}}return 2===r?T(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function k(e,t){if(e.length){const n="number"==typeof e[0][0]?[e]:e,r=z(n[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:z(n[0],1.5*(1+.22*t.roughness),I(t));for(let e=1;e<n.length;e++){const o=n[e];if(o.length){const e=z(o,1*(1+.2*t.roughness),t),n=t.disableMultiStroke?[]:z(o,1.5*(1+.22*t.roughness),I(t));for(const t of e)"move"!==t.op&&r.push(t);for(const e of n)"move"!==e.op&&i.push(e)}}return{type:"path",ops:r.concat(i)}}return{type:"path",ops:[]}}function S(e,t,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),o=2*Math.PI/i;let s=Math.abs(e/2),a=Math.abs(t/2);const l=1-n.curveFitting;return s+=D(s*l,n),a+=D(a*l,n),{increment:o,rx:s,ry:a}}function C(e,t,n,r){const[i,o]=j(r.increment,e,t,r.rx,r.ry,1,r.increment*P(.1,P(.4,1,n),n),n);let s=$(i,null,n);if(!n.disableMultiStroke&&0!==n.roughness){const[i]=j(r.increment,e,t,r.rx,r.ry,1.5,0,n),o=$(i,null,n);s=s.concat(o)}return{estimatedPoints:o,opset:{type:"path",ops:s}}}function N(e,t,n,r,i,o,s,a,l){const c=e,u=t;let h=Math.abs(n/2),d=Math.abs(r/2);h+=D(.01*h,l),d+=D(.01*d,l);let p=i,f=o;for(;p<0;)p+=2*Math.PI,f+=2*Math.PI;f-p>2*Math.PI&&(p=0,f=2*Math.PI);const g=2*Math.PI/l.curveStepCount,m=Math.min(g/2,(f-p)/2),v=U(m,c,u,h,d,p,f,1,l);if(!l.disableMultiStroke){const e=U(m,c,u,h,d,p,f,1.5,l);v.push(...e)}return s&&(a?v.push(...B(c,u,c+h*Math.cos(p),u+d*Math.sin(p),l),...B(c,u,c+h*Math.cos(f),u+d*Math.sin(f),l)):v.push({op:"lineTo",data:[c,u]},{op:"lineTo",data:[c+h*Math.cos(p),u+d*Math.sin(p)]})),{type:"path",ops:v}}function M(e,t){const n=w(b(y(e))),r=[];let i=[0,0],o=[0,0];for(const{key:e,data:s}of n)switch(e){case"M":o=[s[0],s[1]],i=[s[0],s[1]];break;case"L":r.push(...B(o[0],o[1],s[0],s[1],t)),o=[s[0],s[1]];break;case"C":{const[e,n,i,a,l,c]=s;r.push(...H(e,n,i,a,l,c,o,t)),o=[l,c];break}case"Z":r.push(...B(o[0],o[1],i[0],i[1],t)),o=[i[0],i[1]]}return{type:"path",ops:r}}function O(e,t){const n=[];for(const r of e)if(r.length){const e=t.maxRandomnessOffset||0,i=r.length;if(i>2){n.push({op:"move",data:[r[0][0]+D(e,t),r[0][1]+D(e,t)]});for(let o=1;o<i;o++)n.push({op:"lineTo",data:[r[o][0]+D(e,t),r[o][1]+D(e,t)]})}}return{type:"fillPath",ops:n}}function R(e,t){return function(e,t){let n=e.fillStyle||"hachure";if(!f[n])switch(n){case"zigzag":f[n]||(f[n]=new c(t));break;case"cross-hatch":f[n]||(f[n]=new u(t));break;case"dots":f[n]||(f[n]=new h(t));break;case"dashed":f[n]||(f[n]=new d(t));break;case"zigzag-line":f[n]||(f[n]=new p(t));break;default:n="hachure",f[n]||(f[n]=new a(t))}return f[n]}(t,A).fillPolygons(e,t)}function I(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function L(e){return e.randomizer||(e.randomizer=new g(e.seed||0)),e.randomizer.next()}function P(e,t,n,r=1){return n.roughness*r*(L(n)*(t-e)+e)}function D(e,t,n=1){return P(-e,e,t,n)}function B(e,t,n,r,i,o=!1){const s=o?i.disableMultiStrokeFill:i.disableMultiStroke,a=F(e,t,n,r,i,!0,!1);if(s)return a;const l=F(e,t,n,r,i,!0,!0);return a.concat(l)}function F(e,t,n,r,i,o,s){const a=Math.pow(e-n,2)+Math.pow(t-r,2),l=Math.sqrt(a);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let u=i.maxRandomnessOffset||0;u*u*100>a&&(u=l/10);const h=u/2,d=.2+.2*L(i);let p=i.bowing*i.maxRandomnessOffset*(r-t)/200,f=i.bowing*i.maxRandomnessOffset*(e-n)/200;p=D(p,i,c),f=D(f,i,c);const g=[],m=()=>D(h,i,c),v=()=>D(u,i,c),y=i.preserveVertices;return o&&(s?g.push({op:"move",data:[e+(y?0:m()),t+(y?0:m())]}):g.push({op:"move",data:[e+(y?0:D(u,i,c)),t+(y?0:D(u,i,c))]})),s?g.push({op:"bcurveTo",data:[p+e+(n-e)*d+m(),f+t+(r-t)*d+m(),p+e+2*(n-e)*d+m(),f+t+2*(r-t)*d+m(),n+(y?0:m()),r+(y?0:m())]}):g.push({op:"bcurveTo",data:[p+e+(n-e)*d+v(),f+t+(r-t)*d+v(),p+e+2*(n-e)*d+v(),f+t+2*(r-t)*d+v(),n+(y?0:v()),r+(y?0:v())]}),g}function z(e,t,n){if(!e.length)return[];const r=[];r.push([e[0][0]+D(t,n),e[0][1]+D(t,n)]),r.push([e[0][0]+D(t,n),e[0][1]+D(t,n)]);for(let i=1;i<e.length;i++)r.push([e[i][0]+D(t,n),e[i][1]+D(t,n)]),i===e.length-1&&r.push([e[i][0]+D(t,n),e[i][1]+D(t,n)]);return $(r,null,n)}function $(e,t,n){const r=e.length,i=[];if(r>3){const o=[],s=1-n.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let t=1;t+2<r;t++){const n=e[t];o[0]=[n[0],n[1]],o[1]=[n[0]+(s*e[t+1][0]-s*e[t-1][0])/6,n[1]+(s*e[t+1][1]-s*e[t-1][1])/6],o[2]=[e[t+1][0]+(s*e[t][0]-s*e[t+2][0])/6,e[t+1][1]+(s*e[t][1]-s*e[t+2][1])/6],o[3]=[e[t+1][0],e[t+1][1]],i.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}if(t&&2===t.length){const e=n.maxRandomnessOffset;i.push({op:"lineTo",data:[t[0]+D(e,n),t[1]+D(e,n)]})}}else 3===r?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&i.push(...F(e[0][0],e[0][1],e[1][0],e[1][1],n,!0,!0));return i}function j(e,t,n,r,i,o,s,a){const l=[],c=[];if(0===a.roughness){e/=4,c.push([t+r*Math.cos(-e),n+i*Math.sin(-e)]);for(let o=0;o<=2*Math.PI;o+=e){const e=[t+r*Math.cos(o),n+i*Math.sin(o)];l.push(e),c.push(e)}c.push([t+r*Math.cos(0),n+i*Math.sin(0)]),c.push([t+r*Math.cos(e),n+i*Math.sin(e)])}else{const u=D(.5,a)-Math.PI/2;c.push([D(o,a)+t+.9*r*Math.cos(u-e),D(o,a)+n+.9*i*Math.sin(u-e)]);const h=2*Math.PI+u-.01;for(let s=u;s<h;s+=e){const e=[D(o,a)+t+r*Math.cos(s),D(o,a)+n+i*Math.sin(s)];l.push(e),c.push(e)}c.push([D(o,a)+t+r*Math.cos(u+2*Math.PI+.5*s),D(o,a)+n+i*Math.sin(u+2*Math.PI+.5*s)]),c.push([D(o,a)+t+.98*r*Math.cos(u+s),D(o,a)+n+.98*i*Math.sin(u+s)]),c.push([D(o,a)+t+.9*r*Math.cos(u+.5*s),D(o,a)+n+.9*i*Math.sin(u+.5*s)])}return[c,l]}function U(e,t,n,r,i,o,s,a,l){const c=o+D(.1,l),u=[];u.push([D(a,l)+t+.9*r*Math.cos(c-e),D(a,l)+n+.9*i*Math.sin(c-e)]);for(let o=c;o<=s;o+=e)u.push([D(a,l)+t+r*Math.cos(o),D(a,l)+n+i*Math.sin(o)]);return u.push([t+r*Math.cos(s),n+i*Math.sin(s)]),u.push([t+r*Math.cos(s),n+i*Math.sin(s)]),$(u,null,l)}function H(e,t,n,r,i,o,s,a){const l=[],c=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let u=[0,0];const h=a.disableMultiStroke?1:2,d=a.preserveVertices;for(let p=0;p<h;p++)0===p?l.push({op:"move",data:[s[0],s[1]]}):l.push({op:"move",data:[s[0]+(d?0:D(c[0],a)),s[1]+(d?0:D(c[0],a))]}),u=d?[i,o]:[i+D(c[p],a),o+D(c[p],a)],l.push({op:"bcurveTo",data:[e+D(c[p],a),t+D(c[p],a),n+D(c[p],a),r+D(c[p],a),u[0],u[1]]});return l}function G(e){return[...e]}function V(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(3===n)r.push(G(e[0]),G(e[1]),G(e[2]),G(e[2]));else{const n=[];n.push(e[0],e[0]);for(let t=1;t<e.length;t++)n.push(e[t]),t===e.length-1&&n.push(e[t]);const i=[],o=1-t;r.push(G(n[0]));for(let e=1;e+2<n.length;e++){const t=n[e];i[0]=[t[0],t[1]],i[1]=[t[0]+(o*n[e+1][0]-o*n[e-1][0])/6,t[1]+(o*n[e+1][1]-o*n[e-1][1])/6],i[2]=[n[e+1][0]+(o*n[e][0]-o*n[e+2][0])/6,n[e+1][1]+(o*n[e][1]-o*n[e+2][1])/6],i[3]=[n[e+1][0],n[e+1][1]],r.push(i[1],i[2],i[3])}}return r}function W(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function Y(e,t,n){const r=W(t,n);if(0===r)return W(e,t);let i=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return i=Math.max(0,Math.min(1,i)),W(e,q(t,n,i))}function q(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function X(e,t,n,r){const i=r||[];if(function(e,t){const n=e[t+0],r=e[t+1],i=e[t+2],o=e[t+3];let s=3*r[0]-2*n[0]-o[0];s*=s;let a=3*r[1]-2*n[1]-o[1];a*=a;let l=3*i[0]-2*o[0]-n[0];l*=l;let c=3*i[1]-2*o[1]-n[1];return c*=c,s<l&&(s=l),a<c&&(a=c),s+a}(e,t)<n){const n=e[t+0];i.length?(o=i[i.length-1],s=n,Math.sqrt(W(o,s))>1&&i.push(n)):i.push(n),i.push(e[t+3])}else{const r=.5,o=e[t+0],s=e[t+1],a=e[t+2],l=e[t+3],c=q(o,s,r),u=q(s,a,r),h=q(a,l,r),d=q(c,u,r),p=q(u,h,r),f=q(d,p,r);X([o,c,d,f],0,n,i),X([f,p,h,l],0,n,i)}var o,s;return i}function K(e,t){return Z(e,0,e.length,t)}function Z(e,t,n,r,i){const o=i||[],s=e[t],a=e[n-1];let l=0,c=1;for(let r=t+1;r<n-1;++r){const t=Y(e[r],s,a);t>l&&(l=t,c=r)}return Math.sqrt(l)>r?(Z(e,t,c+1,r,o),Z(e,c,n,r,o)):(o.length||o.push(s),o.push(a)),o}function Q(e,t=.15,n){const r=[],i=(e.length-1)/3;for(let n=0;n<i;n++)X(e,3*n,t,r);return n&&n>0?Z(r,0,r.length,n):r}const J="none";class ee{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,n){return{shape:e,sets:t||[],options:n||this.defaultOptions}}line(e,t,n,r,i){const o=this._o(i);return this._d("line",[T(e,t,n,r,o)],o)}rectangle(e,t,n,r,i){const o=this._o(i),s=[],a=function(e,t,n,r,i){return function(e,t){return E(e,!0,t)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],i)}(e,t,n,r,o);if(o.fill){const i=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]];"solid"===o.fillStyle?s.push(O([i],o)):s.push(R([i],o))}return o.stroke!==J&&s.push(a),this._d("rectangle",s,o)}ellipse(e,t,n,r,i){const o=this._o(i),s=[],a=S(n,r,o),l=C(e,t,o,a);if(o.fill)if("solid"===o.fillStyle){const n=C(e,t,o,a).opset;n.type="fillPath",s.push(n)}else s.push(R([l.estimatedPoints],o));return o.stroke!==J&&s.push(l.opset),this._d("ellipse",s,o)}circle(e,t,n,r){const i=this.ellipse(e,t,n,n,r);return i.shape="circle",i}linearPath(e,t){const n=this._o(t);return this._d("linearPath",[E(e,!1,n)],n)}arc(e,t,n,r,i,o,s=!1,a){const l=this._o(a),c=[],u=N(e,t,n,r,i,o,s,!0,l);if(s&&l.fill)if("solid"===l.fillStyle){const s=Object.assign({},l);s.disableMultiStroke=!0;const a=N(e,t,n,r,i,o,!0,!1,s);a.type="fillPath",c.push(a)}else c.push(function(e,t,n,r,i,o,s){const a=e,l=t;let c=Math.abs(n/2),u=Math.abs(r/2);c+=D(.01*c,s),u+=D(.01*u,s);let h=i,d=o;for(;h<0;)h+=2*Math.PI,d+=2*Math.PI;d-h>2*Math.PI&&(h=0,d=2*Math.PI);const p=(d-h)/s.curveStepCount,f=[];for(let e=h;e<=d;e+=p)f.push([a+c*Math.cos(e),l+u*Math.sin(e)]);return f.push([a+c*Math.cos(d),l+u*Math.sin(d)]),f.push([a,l]),R([f],s)}(e,t,n,r,i,o,l));return l.stroke!==J&&c.push(u),this._d("arc",c,l)}curve(e,t){const n=this._o(t),r=[],i=k(e,n);if(n.fill&&n.fill!==J)if("solid"===n.fillStyle){const t=k(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(t.ops)})}else{const t=[],i=e;if(i.length){const e="number"==typeof i[0][0]?[i]:i;for(const r of e)r.length<3?t.push(...r):3===r.length?t.push(...Q(V([r[0],r[0],r[1],r[2]]),10,(1+n.roughness)/2)):t.push(...Q(V(r),10,(1+n.roughness)/2))}t.length&&r.push(R([t],n))}return n.stroke!==J&&r.push(i),this._d("curve",r,n)}polygon(e,t){const n=this._o(t),r=[],i=E(e,!0,n);return n.fill&&("solid"===n.fillStyle?r.push(O([e],n)):r.push(R([e],n))),n.stroke!==J&&r.push(i),this._d("polygon",r,n)}path(e,t){const n=this._o(t),r=[];if(!e)return this._d("path",r,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const i=n.fill&&"transparent"!==n.fill&&n.fill!==J,o=n.stroke!==J,s=!!(n.simplification&&n.simplification<1),a=function(e,t,n){const r=w(b(y(e))),i=[];let o=[],s=[0,0],a=[];const l=()=>{a.length>=4&&o.push(...Q(a,1)),a=[]},c=()=>{l(),o.length&&(i.push(o),o=[])};for(const{key:e,data:t}of r)switch(e){case"M":c(),s=[t[0],t[1]],o.push(s);break;case"L":l(),o.push([t[0],t[1]]);break;case"C":if(!a.length){const e=o.length?o[o.length-1]:s;a.push([e[0],e[1]])}a.push([t[0],t[1]]),a.push([t[2],t[3]]),a.push([t[4],t[5]]);break;case"Z":l(),o.push([s[0],s[1]])}if(c(),!n)return i;const u=[];for(const e of i){const t=K(e,n);t.length&&u.push(t)}return u}(e,0,s?4-4*(n.simplification||1):(1+n.roughness)/2),l=M(e,n);if(i)if("solid"===n.fillStyle)if(1===a.length){const t=M(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(t.ops)})}else r.push(O(a,n));else r.push(R(a,n));return o&&(s?a.forEach(e=>{r.push(E(e,!1,n))}):r.push(l)),this._d("path",r,n)}opsToPath(e,t){let n="";for(const r of e.ops){const e="number"==typeof t&&t>=0?r.data.map(e=>+e.toFixed(t)):r.data;switch(r.op){case"move":n+=`M${e[0]} ${e[1]} `;break;case"bcurveTo":n+=`C${e[0]} ${e[1]}, ${e[2]} ${e[3]}, ${e[4]} ${e[5]} `;break;case"lineTo":n+=`L${e[0]} ${e[1]} `}}return n.trim()}toPaths(e){const t=e.sets||[],n=e.options||this.defaultOptions,r=[];for(const e of t){let t=null;switch(e.type){case"path":t={d:this.opsToPath(e),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:J};break;case"fillPath":t={d:this.opsToPath(e),stroke:J,strokeWidth:0,fill:n.fill||J};break;case"fillSketch":t=this.fillSketch(e,n)}t&&r.push(t)}return r}fillSketch(e,t){let n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||J,strokeWidth:n,fill:J}}_mergedShape(e){return e.filter((e,t)=>0===t||"move"!==e.op)}}class te{constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new ee(t)}draw(e){const t=e.sets||[],n=e.options||this.getDefaultOptions(),r=this.ctx,i=e.options.fixedDecimalPlaceDigits;for(const o of t)switch(o.type){case"path":r.save(),r.strokeStyle="none"===n.stroke?"transparent":n.stroke,r.lineWidth=n.strokeWidth,n.strokeLineDash&&r.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(r.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(r,o,i),r.restore();break;case"fillPath":{r.save(),r.fillStyle=n.fill||"";const t="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(r,o,i,t),r.restore();break}case"fillSketch":this.fillSketch(r,o,n)}}fillSketch(e,t,n){let r=n.fillWeight;r<0&&(r=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=r,this._drawToContext(e,t,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,n,r="nonzero"){e.beginPath();for(const r of t.ops){const t="number"==typeof n&&n>=0?r.data.map(e=>+e.toFixed(n)):r.data;switch(r.op){case"move":e.moveTo(t[0],t[1]);break;case"bcurveTo":e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5]);break;case"lineTo":e.lineTo(t[0],t[1])}}"fillPath"===t.type?e.fill(r):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,n,r,i){const o=this.gen.line(e,t,n,r,i);return this.draw(o),o}rectangle(e,t,n,r,i){const o=this.gen.rectangle(e,t,n,r,i);return this.draw(o),o}ellipse(e,t,n,r,i){const o=this.gen.ellipse(e,t,n,r,i);return this.draw(o),o}circle(e,t,n,r){const i=this.gen.circle(e,t,n,r);return this.draw(i),i}linearPath(e,t){const n=this.gen.linearPath(e,t);return this.draw(n),n}polygon(e,t){const n=this.gen.polygon(e,t);return this.draw(n),n}arc(e,t,n,r,i,o,s=!1,a){const l=this.gen.arc(e,t,n,r,i,o,s,a);return this.draw(l),l}curve(e,t){const n=this.gen.curve(e,t);return this.draw(n),n}path(e,t){const n=this.gen.path(e,t);return this.draw(n),n}}const ne="http://www.w3.org/2000/svg";class re{constructor(e,t){this.svg=e,this.gen=new ee(t)}draw(e){const t=e.sets||[],n=e.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,i=r.createElementNS(ne,"g"),o=e.options.fixedDecimalPlaceDigits;for(const s of t){let t=null;switch(s.type){case"path":t=r.createElementNS(ne,"path"),t.setAttribute("d",this.opsToPath(s,o)),t.setAttribute("stroke",n.stroke),t.setAttribute("stroke-width",n.strokeWidth+""),t.setAttribute("fill","none"),n.strokeLineDash&&t.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&t.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":t=r.createElementNS(ne,"path"),t.setAttribute("d",this.opsToPath(s,o)),t.setAttribute("stroke","none"),t.setAttribute("stroke-width","0"),t.setAttribute("fill",n.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||t.setAttribute("fill-rule","evenodd");break;case"fillSketch":t=this.fillSketch(r,s,n)}t&&i.appendChild(t)}return i}fillSketch(e,t,n){let r=n.fillWeight;r<0&&(r=n.strokeWidth/2);const i=e.createElementNS(ne,"path");return i.setAttribute("d",this.opsToPath(t,n.fixedDecimalPlaceDigits)),i.setAttribute("stroke",n.fill||""),i.setAttribute("stroke-width",r+""),i.setAttribute("fill","none"),n.fillLineDash&&i.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&i.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),i}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,n,r,i){const o=this.gen.line(e,t,n,r,i);return this.draw(o)}rectangle(e,t,n,r,i){const o=this.gen.rectangle(e,t,n,r,i);return this.draw(o)}ellipse(e,t,n,r,i){const o=this.gen.ellipse(e,t,n,r,i);return this.draw(o)}circle(e,t,n,r){const i=this.gen.circle(e,t,n,r);return this.draw(i)}linearPath(e,t){const n=this.gen.linearPath(e,t);return this.draw(n)}polygon(e,t){const n=this.gen.polygon(e,t);return this.draw(n)}arc(e,t,n,r,i,o,s=!1,a){const l=this.gen.arc(e,t,n,r,i,o,s,a);return this.draw(l)}curve(e,t){const n=this.gen.curve(e,t);return this.draw(n)}path(e,t){const n=this.gen.path(e,t);return this.draw(n)}}var ie={canvas:(e,t)=>new te(e,t),svg:(e,t)=>new re(e,t),generator:e=>new ee(e),newSeed:()=>ee.newSeed()}},2277:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=function(e){i.default(e),o.default(e),s.default(e),a.default(e),l.default(e),c.default(e),u.default(e)},t.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var i=r(n(6097)),o=r(n(6785)),s=r(n(6734)),a=r(n(2355)),l=r(n(5300)),c=r(n(7466)),u=r(n(908))},2300:(e,t)=>{"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t.default=n,e.exports=t.default},2302:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(){}},2355:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=n(2849),o=n(3769),s=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("if",function(e,t){if(2!=arguments.length)throw new s.default("#if requires exactly one argument");return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){if(2!=arguments.length)throw new s.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},2383:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(241),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r.A?r.A.toStringTag:void 0;const l=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i};var c=Object.prototype.toString;const u=function(e){return c.call(e)};var h=r.A?r.A.toStringTag:void 0;const d=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":h&&h in Object(e)?l(e):u(e)}},2479:(e,t,n)=>{"use strict";function r(e){return"object"==typeof e&&null!==e&&"string"==typeof e.$type}function i(e){return"object"==typeof e&&null!==e&&"string"==typeof e.$refText}function o(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name&&"string"==typeof e.type&&"string"==typeof e.path}function s(e){return"object"==typeof e&&null!==e&&r(e.container)&&i(e.reference)&&"string"==typeof e.message}n.d(t,{A_:()=>i,FC:()=>c,Nr:()=>o,Zl:()=>s,br:()=>u,kD:()=>a,mD:()=>l,ng:()=>r});class a{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,t){return r(e)&&this.isSubtype(e.$type,t)}isSubtype(e,t){if(e===t)return!0;let n=this.subtypes[e];n||(n=this.subtypes[e]={});const r=n[t];if(void 0!==r)return r;{const r=this.computeIsSubtype(e,t);return n[t]=r,r}}getAllSubTypes(e){const t=this.allSubtypes[e];if(t)return t;{const t=this.getAllTypes(),n=[];for(const r of t)this.isSubtype(r,e)&&n.push(r);return this.allSubtypes[e]=n,n}}}function l(e){return"object"==typeof e&&null!==e&&Array.isArray(e.content)}function c(e){return"object"==typeof e&&null!==e&&"object"==typeof e.tokenType}function u(e){return l(e)&&"string"==typeof e.fullText}},2498:(e,t,n)=>{"use strict";n.d(t,{createArchitectureServices:()=>r.S});var r=n(3009);n(1272)},2505:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});const r=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var i=n(5175),o=n(2049),s=n(1200),a=n(5353),l=n(4749),c=Object.prototype.hasOwnProperty;const u=function(e,t){var n=(0,o.A)(e),u=!n&&(0,i.A)(e),h=!n&&!u&&(0,s.A)(e),d=!n&&!u&&!h&&(0,l.A)(e),p=n||u||h||d,f=p?r(e.length,String):[],g=f.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||(0,a.A)(m,g))||f.push(m);return f}},2528:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(4171);const i=function(e,t,n){"__proto__"==t&&r.A?(0,r.A)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},2543:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,c=32,u=64,h=128,d=256,p=1/0,f=9007199254740991,g=NaN,m=4294967295,v=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",d]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",x="[object Date]",_="[object Error]",A="[object Function]",T="[object GeneratorFunction]",E="[object Map]",k="[object Number]",S="[object Object]",C="[object Promise]",N="[object RegExp]",M="[object Set]",O="[object String]",R="[object Symbol]",I="[object WeakMap]",L="[object ArrayBuffer]",P="[object DataView]",D="[object Float32Array]",B="[object Float64Array]",F="[object Int8Array]",z="[object Int16Array]",$="[object Int32Array]",j="[object Uint8Array]",U="[object Uint8ClampedArray]",H="[object Uint16Array]",G="[object Uint32Array]",V=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,K=RegExp(q.source),Z=RegExp(X.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),se=/^\s+/,ae=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,he=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,Ae=/['\n\r\u2028\u2029\\]/g,Te="\\ud800-\\udfff",Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Ne="\\ufe0e\\ufe0f",Me="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oe="['’]",Re="["+Te+"]",Ie="["+Me+"]",Le="["+Ee+"]",Pe="\\d+",De="["+ke+"]",Be="["+Se+"]",Fe="[^"+Te+Me+Pe+ke+Se+Ce+"]",ze="\\ud83c[\\udffb-\\udfff]",$e="[^"+Te+"]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ce+"]",Ge="\\u200d",Ve="(?:"+Be+"|"+Fe+")",We="(?:"+He+"|"+Fe+")",Ye="(?:['’](?:d|ll|m|re|s|t|ve))?",qe="(?:['’](?:D|LL|M|RE|S|T|VE))?",Xe="(?:"+Le+"|"+ze+")"+"?",Ke="["+Ne+"]?",Ze=Ke+Xe+("(?:"+Ge+"(?:"+[$e,je,Ue].join("|")+")"+Ke+Xe+")*"),Qe="(?:"+[De,je,Ue].join("|")+")"+Ze,Je="(?:"+[$e+Le+"?",Le,je,Ue,Re].join("|")+")",et=RegExp(Oe,"g"),tt=RegExp(Le,"g"),nt=RegExp(ze+"(?="+ze+")|"+Je+Ze,"g"),rt=RegExp([He+"?"+Be+"+"+Ye+"(?="+[Ie,He,"$"].join("|")+")",We+"+"+qe+"(?="+[Ie,He+Ve,"$"].join("|")+")",He+"?"+Ve+"+"+Ye,He+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,Qe].join("|"),"g"),it=RegExp("["+Ge+Te+Ee+Ne+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,lt={};lt[D]=lt[B]=lt[F]=lt[z]=lt[$]=lt[j]=lt[U]=lt[H]=lt[G]=!0,lt[y]=lt[b]=lt[L]=lt[w]=lt[P]=lt[x]=lt[_]=lt[A]=lt[E]=lt[k]=lt[S]=lt[N]=lt[M]=lt[O]=lt[I]=!1;var ct={};ct[y]=ct[b]=ct[L]=ct[P]=ct[w]=ct[x]=ct[D]=ct[B]=ct[F]=ct[z]=ct[$]=ct[E]=ct[k]=ct[S]=ct[N]=ct[M]=ct[O]=ct[R]=ct[j]=ct[U]=ct[H]=ct[G]=!0,ct[_]=ct[A]=ct[I]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ht=parseFloat,dt=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ft="object"==typeof self&&self&&self.Object===Object&&self,gt=pt||ft||Function("return this")(),mt=t&&!t.nodeType&&t,vt=mt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===mt,bt=yt&&pt.process,wt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),xt=wt&&wt.isArrayBuffer,_t=wt&&wt.isDate,At=wt&&wt.isMap,Tt=wt&&wt.isRegExp,Et=wt&&wt.isSet,kt=wt&&wt.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Mt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function It(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Lt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Bt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function zt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var $t=Yt("length");function jt(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function Ut(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ht(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ut(e,Vt,n)}function Gt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Vt(e){return e!=e}function Wt(e,t){var n=null==e?0:e.length;return n?Kt(e,t)/n:g}function Yt(e){return function(t){return null==t?i:t[e]}}function qt(e){return function(t){return null==e?i:e[t]}}function Xt(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Kt(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e?e.slice(0,mn(e)+1).replace(se,""):e}function Jt(e){return function(t){return e(t)}}function en(e,t){return Pt(t,function(t){return e[t]})}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Ht(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Ht(t,e[n],0)>-1;);return n}var on=qt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),sn=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function ln(e){return it.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function un(e,t){return function(n){return e(t(n))}}function hn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function dn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function fn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):$t(e)}function gn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var vn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n,r=(t=null==t?gt:yn.defaults(gt.Object(),t,yn.pick(gt,st))).Array,ae=t.Date,Te=t.Error,Ee=t.Function,ke=t.Math,Se=t.Object,Ce=t.RegExp,Ne=t.String,Me=t.TypeError,Oe=r.prototype,Re=Ee.prototype,Ie=Se.prototype,Le=t["__core-js_shared__"],Pe=Re.toString,De=Ie.hasOwnProperty,Be=0,Fe=(n=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ze=Ie.toString,$e=Pe.call(Se),je=gt._,Ue=Ce("^"+Pe.call(De).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=yt?t.Buffer:i,Ge=t.Symbol,Ve=t.Uint8Array,We=He?He.allocUnsafe:i,Ye=un(Se.getPrototypeOf,Se),qe=Se.create,Xe=Ie.propertyIsEnumerable,Ke=Oe.splice,Ze=Ge?Ge.isConcatSpreadable:i,Qe=Ge?Ge.iterator:i,Je=Ge?Ge.toStringTag:i,nt=function(){try{var e=po(Se,"defineProperty");return e({},"",{}),e}catch(e){}}(),it=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,ut=ae&&ae.now!==gt.Date.now&&ae.now,pt=t.setTimeout!==gt.setTimeout&&t.setTimeout,ft=ke.ceil,mt=ke.floor,vt=Se.getOwnPropertySymbols,bt=He?He.isBuffer:i,wt=t.isFinite,$t=Oe.join,qt=un(Se.keys,Se),bn=ke.max,wn=ke.min,xn=ae.now,_n=t.parseInt,An=ke.random,Tn=Oe.reverse,En=po(t,"DataView"),kn=po(t,"Map"),Sn=po(t,"Promise"),Cn=po(t,"Set"),Nn=po(t,"WeakMap"),Mn=po(Se,"create"),On=Nn&&new Nn,Rn={},In=zo(En),Ln=zo(kn),Pn=zo(Sn),Dn=zo(Cn),Bn=zo(Nn),Fn=Ge?Ge.prototype:i,zn=Fn?Fn.valueOf:i,$n=Fn?Fn.toString:i;function jn(e){if(na(e)&&!Vs(e)&&!(e instanceof Vn)){if(e instanceof Gn)return e;if(De.call(e,"__wrapped__"))return $o(e)}return new Gn(e)}var Un=function(){function e(){}return function(t){if(!ta(t))return{};if(qe)return qe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Hn(){}function Gn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Yn(e);this.size=t.size}function Zn(e,t){var n=Vs(e),r=!n&&Gs(e),i=!n&&!r&&Xs(e),o=!n&&!r&&!i&&ua(e),s=n||r||i||o,a=s?Zt(e.length,Ne):[],l=a.length;for(var c in e)!t&&!De.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wo(c,l))||a.push(c);return a}function Qn(e){var t=e.length;return t?e[Xr(0,t-1)]:i}function Jn(e,t){return Do(Mi(e),lr(t,0,e.length))}function er(e){return Do(Mi(e))}function tr(e,t,n){(n!==i&&!js(e[t],n)||n===i&&!(t in e))&&sr(e,t,n)}function nr(e,t,n){var r=e[t];De.call(e,t)&&js(r,n)&&(n!==i||t in e)||sr(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(js(e[n][0],t))return n;return-1}function ir(e,t,n,r){return pr(e,function(e,i,o){t(r,e,n(e),o)}),r}function or(e,t){return e&&Oi(t,Ra(t),e)}function sr(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:Sa(e,t[n]);return s}function lr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,o,s){var a,l=1&t,c=2&t,u=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!ta(e))return e;var h=Vs(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&De.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Mi(e,a)}else{var d=mo(e),p=d==A||d==T;if(Xs(e))return Ti(e,l);if(d==S||d==y||p&&!o){if(a=c||p?{}:yo(e),!l)return c?function(e,t){return Oi(e,go(e),t)}(e,function(e,t){return e&&Oi(t,Ia(t),e)}(a,e)):function(e,t){return Oi(e,fo(e),t)}(e,or(a,e))}else{if(!ct[d])return o?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case L:return Ei(e);case w:case x:return new r(+e);case P:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case D:case B:case F:case z:case $:case j:case U:case H:case G:return ki(e,n);case E:return new r;case k:case O:return new r(e);case N:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case M:return new r;case R:return i=e,zn?Se(zn.call(i)):{}}var i}(e,d,l)}}s||(s=new Kn);var f=s.get(e);if(f)return f;s.set(e,a),aa(e)?e.forEach(function(r){a.add(cr(r,t,n,r,e,s))}):ra(e)&&e.forEach(function(r,i){a.set(i,cr(r,t,n,i,e,s))});var g=h?i:(u?c?oo:io:c?Ia:Ra)(e);return Nt(g||e,function(r,i){g&&(r=e[i=r]),nr(a,i,cr(r,t,n,i,e,s))}),a}function ur(e,t,n){var r=n.length;if(null==e)return!r;for(e=Se(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function hr(e,t,n){if("function"!=typeof e)throw new Me(o);return Ro(function(){e.apply(i,n)},t)}function dr(e,t,n,r){var i=-1,o=It,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=Pt(t,Jt(n))),r?(o=Lt,s=!1):t.length>=200&&(o=tn,s=!1,t=new Xn(t));e:for(;++i<a;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,s&&h==h){for(var d=c;d--;)if(t[d]===h)continue e;l.push(u)}else o(t,h,r)||l.push(u)}return l}jn.templateSettings={escape:Q,evaluate:J,interpolate:ee,variable:"",imports:{_:jn}},jn.prototype=Hn.prototype,jn.prototype.constructor=jn,Gn.prototype=Un(Hn.prototype),Gn.prototype.constructor=Gn,Vn.prototype=Un(Hn.prototype),Vn.prototype.constructor=Vn,Wn.prototype.clear=function(){this.__data__=Mn?Mn(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(Mn){var n=t[e];return n===s?i:n}return De.call(t,e)?t[e]:i},Wn.prototype.has=function(e){var t=this.__data__;return Mn?t[e]!==i:De.call(t,e)},Wn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Mn&&t===i?s:t,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},Yn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Yn.prototype.has=function(e){return rr(this.__data__,e)>-1},Yn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(kn||Yn),string:new Wn}},qn.prototype.delete=function(e){var t=uo(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return uo(this,e).get(e)},qn.prototype.has=function(e){return uo(this,e).has(e)},qn.prototype.set=function(e,t){var n=uo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(e){return this.__data__.set(e,s),this},Xn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Yn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(e,t),this.size=n.size,this};var pr=Li(xr),fr=Li(_r,!0);function gr(e,t){var n=!0;return pr(e,function(e,r,i){return n=!!t(e,r,i)}),n}function mr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(l===i?a==a&&!ca(a):n(a,l)))var l=a,c=s}return c}function vr(e,t){var n=[];return pr(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function yr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=bo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?yr(a,t-1,n,r,i):Dt(i,a):r||(i[i.length]=a)}return i}var br=Pi(),wr=Pi(!0);function xr(e,t){return e&&br(e,t,Ra)}function _r(e,t){return e&&wr(e,t,Ra)}function Ar(e,t){return Rt(t,function(t){return Qs(e[t])})}function Tr(e,t){for(var n=0,r=(t=wi(t,e)).length;null!=e&&n<r;)e=e[Fo(t[n++])];return n&&n==r?e:i}function Er(e,t,n){var r=t(e);return Vs(e)?r:Dt(r,n(e))}function kr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in Se(e)?function(e){var t=De.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(e){}var o=ze.call(e);r&&(t?e[Je]=n:delete e[Je]);return o}(e):function(e){return ze.call(e)}(e)}function Sr(e,t){return e>t}function Cr(e,t){return null!=e&&De.call(e,t)}function Nr(e,t){return null!=e&&t in Se(e)}function Mr(e,t,n){for(var o=n?Lt:It,s=e[0].length,a=e.length,l=a,c=r(a),u=1/0,h=[];l--;){var d=e[l];l&&t&&(d=Pt(d,Jt(t))),u=wn(d.length,u),c[l]=!n&&(t||s>=120&&d.length>=120)?new Xn(l&&d):i}d=e[0];var p=-1,f=c[0];e:for(;++p<s&&h.length<u;){var g=d[p],m=t?t(g):g;if(g=n||0!==g?g:0,!(f?tn(f,m):o(h,m,n))){for(l=a;--l;){var v=c[l];if(!(v?tn(v,m):o(e[l],m,n)))continue e}f&&f.push(m),h.push(g)}}return h}function Or(e,t,n){var r=null==(e=No(e,t=wi(t,e)))?e:e[Fo(Zo(t))];return null==r?i:St(r,e,n)}function Rr(e){return na(e)&&kr(e)==y}function Ir(e,t,n,r,o){return e===t||(null==e||null==t||!na(e)&&!na(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=Vs(e),l=Vs(t),c=a?b:mo(e),u=l?b:mo(t),h=(c=c==y?S:c)==S,d=(u=u==y?S:u)==S,p=c==u;if(p&&Xs(e)){if(!Xs(t))return!1;a=!0,h=!1}if(p&&!h)return s||(s=new Kn),a||ua(e)?no(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case L:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case w:case x:case k:return js(+e,+t);case _:return e.name==t.name&&e.message==t.message;case N:case O:return e==t+"";case E:var a=cn;case M:var l=1&r;if(a||(a=dn),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=no(a(e),a(t),r,i,o,s);return s.delete(e),u;case R:if(zn)return zn.call(e)==zn.call(t)}return!1}(e,t,c,n,r,o,s);if(!(1&n)){var f=h&&De.call(e,"__wrapped__"),g=d&&De.call(t,"__wrapped__");if(f||g){var m=f?e.value():e,v=g?t.value():t;return s||(s=new Kn),o(m,v,n,r,s)}}if(!p)return!1;return s||(s=new Kn),function(e,t,n,r,o,s){var a=1&n,l=io(e),c=l.length,u=io(t),h=u.length;if(c!=h&&!a)return!1;var d=c;for(;d--;){var p=l[d];if(!(a?p in t:De.call(t,p)))return!1}var f=s.get(e),g=s.get(t);if(f&&g)return f==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);var v=a;for(;++d<c;){var y=e[p=l[d]],b=t[p];if(r)var w=a?r(b,y,p,t,e,s):r(y,b,p,e,t,s);if(!(w===i?y===b||o(y,b,n,r,s):w)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var x=e.constructor,_=t.constructor;x==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _||(m=!1)}return s.delete(e),s.delete(t),m}(e,t,n,r,o,s)}(e,t,n,r,Ir,o))}function Lr(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Se(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var c=(l=n[o])[0],u=e[c],h=l[1];if(a&&l[2]){if(u===i&&!(c in e))return!1}else{var d=new Kn;if(r)var p=r(u,h,c,e,t,d);if(!(p===i?Ir(h,u,3,r,d):p))return!1}}return!0}function Pr(e){return!(!ta(e)||(t=e,Fe&&Fe in t))&&(Qs(e)?Ue:ye).test(zo(e));var t}function Dr(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Vs(e)?Ur(e[0],e[1]):jr(e):pl(e)}function Br(e){if(!Eo(e))return qt(e);var t=[];for(var n in Se(e))De.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ta(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=Eo(e),n=[];for(var r in e)("constructor"!=r||!t&&De.call(e,r))&&n.push(r);return n}function zr(e,t){return e<t}function $r(e,t){var n=-1,i=Ys(e)?r(e.length):[];return pr(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function jr(e){var t=ho(e);return 1==t.length&&t[0][2]?So(t[0][0],t[0][1]):function(n){return n===e||Lr(n,e,t)}}function Ur(e,t){return _o(e)&&ko(t)?So(Fo(e),t):function(n){var r=Sa(n,e);return r===i&&r===t?Ca(n,e):Ir(t,r,3)}}function Hr(e,t,n,r,o){e!==t&&br(t,function(s,a){if(o||(o=new Kn),ta(s))!function(e,t,n,r,o,s,a){var l=Mo(e,n),c=Mo(t,n),u=a.get(c);if(u)return void tr(e,n,u);var h=s?s(l,c,n+"",e,t,a):i,d=h===i;if(d){var p=Vs(c),f=!p&&Xs(c),g=!p&&!f&&ua(c);h=c,p||f||g?Vs(l)?h=l:qs(l)?h=Mi(l):f?(d=!1,h=Ti(c,!0)):g?(d=!1,h=ki(c,!0)):h=[]:oa(c)||Gs(c)?(h=l,Gs(l)?h=ya(l):ta(l)&&!Qs(l)||(h=yo(c))):d=!1}d&&(a.set(c,h),o(h,c,r,s,a),a.delete(c));tr(e,n,h)}(e,t,a,n,Hr,r,o);else{var l=r?r(Mo(e,a),s,a+"",e,t,o):i;l===i&&(l=s),tr(e,a,l)}},Ia)}function Gr(e,t){var n=e.length;if(n)return wo(t+=t<0?n:0,n)?e[t]:i}function Vr(e,t,n){t=t.length?Pt(t,function(e){return Vs(e)?function(t){return Tr(t,1===e.length?e[0]:e)}:e}):[il];var r=-1;t=Pt(t,Jt(co()));var i=$r(e,function(e,n,i){var o=Pt(t,function(t){return t(e)});return{criteria:o,index:++r,value:e}});return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var l=Si(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)})}function Wr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Tr(e,s);n(a,s)&&ei(o,wi(s,e),a)}return o}function Yr(e,t,n,r){var i=r?Gt:Ht,o=-1,s=t.length,a=e;for(e===t&&(t=Mi(t)),n&&(a=Pt(e,Jt(n)));++o<s;)for(var l=0,c=t[o],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==e&&Ke.call(a,l,1),Ke.call(e,l,1);return e}function qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;wo(i)?Ke.call(e,i,1):di(e,i)}}return e}function Xr(e,t){return e+mt(An()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=mt(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return Io(Co(e,t,il),e+"")}function Qr(e){return Qn(ja(e))}function Jr(e,t){var n=ja(e);return Do(n,lr(t,0,n.length))}function ei(e,t,n,r){if(!ta(e))return e;for(var o=-1,s=(t=wi(t,e)).length,a=s-1,l=e;null!=l&&++o<s;){var c=Fo(t[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var h=l[c];(u=r?r(h,c,l):i)===i&&(u=ta(h)?h:wo(t[o+1])?[]:{})}nr(l,c,u),l=l[c]}return e}var ti=On?function(e,t){return On.set(e,t),e}:il,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:il;function ri(e){return Do(ja(e))}function ii(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function oi(e,t){var n;return pr(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!ca(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ai(e,t,il,n)}function ai(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,l=null===t,c=ca(t),u=t===i;o<s;){var h=mt((o+s)/2),d=n(e[h]),p=d!==i,f=null===d,g=d==d,m=ca(d);if(a)var v=r||g;else v=u?g&&(r||p):l?g&&p&&(r||!f):c?g&&p&&!f&&(r||!m):!f&&!m&&(r?d<=t:d<t);v?o=h+1:s=h}return wn(s,4294967294)}function li(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!js(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function ci(e){return"number"==typeof e?e:ca(e)?g:+e}function ui(e){if("string"==typeof e)return e;if(Vs(e))return Pt(e,ui)+"";if(ca(e))return $n?$n.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function hi(e,t,n){var r=-1,i=It,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=Lt;else if(o>=200){var c=t?null:Ki(e);if(c)return dn(c);s=!1,i=tn,l=new Xn}else l=t?[]:a;e:for(;++r<o;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),a.push(u)}else i(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function di(e,t){return null==(e=No(e,t=wi(t,e)))||delete e[Fo(Zo(t))]}function pi(e,t,n,r){return ei(e,t,n(Tr(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function gi(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Bt(t,function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))},n)}function mi(e,t,n){var i=e.length;if(i<2)return i?hi(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],l=-1;++l<i;)l!=o&&(s[o]=dr(s[o]||a,e[l],t,n));return hi(yr(s,1),t,n)}function vi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var l=r<s?t[r]:i;n(a,e[r],l)}return a}function yi(e){return qs(e)?e:[]}function bi(e){return"function"==typeof e?e:il}function wi(e,t){return Vs(e)?e:_o(e,t)?[e]:Bo(ba(e))}var xi=Zr;function _i(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var Ai=it||function(e){return gt.clearTimeout(e)};function Ti(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function ki(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=ca(e),a=t!==i,l=null===t,c=t==t,u=ca(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!u&&e<t||u&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!c)return-1}return 0}function Ci(e,t,n,i){for(var o=-1,s=e.length,a=n.length,l=-1,c=t.length,u=bn(s-a,0),h=r(c+u),d=!i;++l<c;)h[l]=t[l];for(;++o<a;)(d||o<s)&&(h[n[o]]=e[o]);for(;u--;)h[l++]=e[o++];return h}function Ni(e,t,n,i){for(var o=-1,s=e.length,a=-1,l=n.length,c=-1,u=t.length,h=bn(s-l,0),d=r(h+u),p=!i;++o<h;)d[o]=e[o];for(var f=o;++c<u;)d[f+c]=t[c];for(;++a<l;)(p||o<s)&&(d[f+n[a]]=e[o++]);return d}function Mi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Oi(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],c=r?r(n[l],e[l],l,n,e):i;c===i&&(c=e[l]),o?sr(n,l,c):nr(n,l,c)}return n}function Ri(e,t){return function(n,r){var i=Vs(n)?Ct:ir,o=t?t():{};return i(n,e,co(r,2),o)}}function Ii(e){return Zr(function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&xo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Se(t);++r<o;){var l=n[r];l&&e(t,l,r,s)}return t})}function Li(e,t){return function(n,r){if(null==n)return n;if(!Ys(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Se(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Pi(e){return function(t,n,r){for(var i=-1,o=Se(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function Di(e){return function(t){var n=ln(t=ba(t))?gn(t):i,r=n?n[0]:t.charAt(0),o=n?_i(n,1).join(""):t.slice(1);return r[e]()+o}}function Bi(e){return function(t){return Bt(Qa(Ga(t).replace(et,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return ta(r)?r:n}}function zi(e){return function(t,n,r){var o=Se(t);if(!Ys(t)){var s=co(n,3);t=Ra(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function $i(e){return ro(function(t){var n=t.length,r=n,s=Gn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Me(o);if(s&&!l&&"wrapper"==ao(a))var l=new Gn([],!0)}for(r=l?r:n;++r<n;){var c=ao(a=t[r]),u="wrapper"==c?so(a):i;l=u&&Ao(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[ao(u[0])].apply(l,u[3]):1==a.length&&Ao(a)?l[c]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Vs(r))return l.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function ji(e,t,n,o,s,a,l,c,u,d){var p=t&h,f=1&t,g=2&t,m=24&t,v=512&t,y=g?i:Fi(e);return function h(){for(var b=arguments.length,w=r(b),x=b;x--;)w[x]=arguments[x];if(m)var _=lo(h),A=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,_);if(o&&(w=Ci(w,o,s,m)),a&&(w=Ni(w,a,l,m)),b-=A,m&&b<d){var T=hn(w,_);return qi(e,t,ji,h.placeholder,n,w,T,c,u,d-b)}var E=f?n:this,k=g?E[e]:e;return b=w.length,c?w=function(e,t){var n=e.length,r=wn(t.length,n),o=Mi(e);for(;r--;){var s=t[r];e[r]=wo(s,n)?o[s]:i}return e}(w,c):v&&b>1&&w.reverse(),p&&u<b&&(w.length=u),this&&this!==gt&&this instanceof h&&(k=y||Fi(k)),k.apply(E,w)}}function Ui(e,t){return function(n,r){return function(e,t,n,r){return xr(e,function(e,i,o){t(r,n(e),i,o)}),r}(n,e,t(r),{})}}function Hi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ui(n),r=ui(r)):(n=ci(n),r=ci(r)),o=e(n,r)}return o}}function Gi(e){return ro(function(t){return t=Pt(t,Jt(co())),Zr(function(n){var r=this;return e(t,function(e){return St(e,r,n)})})})}function Vi(e,t){var n=(t=t===i?" ":ui(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,ft(e/fn(t)));return ln(t)?_i(gn(r),0,e).join(""):r.slice(0,e)}function Wi(e){return function(t,n,o){return o&&"number"!=typeof o&&xo(t,n,o)&&(n=o=i),t=fa(t),n===i?(n=t,t=0):n=fa(n),function(e,t,n,i){for(var o=-1,s=bn(ft((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:fa(o),e)}}function Yi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=va(t),n=va(n)),e(t,n)}}function qi(e,t,n,r,o,s,a,l,h,d){var p=8&t;t|=p?c:u,4&(t&=~(p?u:c))||(t&=-4);var f=[e,t,o,p?s:i,p?a:i,p?i:s,p?i:a,l,h,d],g=n.apply(i,f);return Ao(e)&&Oo(g,f),g.placeholder=r,Lo(g,e,t)}function Xi(e){var t=ke[e];return function(e,n){if(e=va(e),(n=null==n?0:wn(ga(n),292))&&wt(e)){var r=(ba(e)+"e").split("e");return+((r=(ba(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=Cn&&1/dn(new Cn([,-0]))[1]==p?function(e){return new Cn(e)}:cl;function Zi(e){return function(t){var n=mo(t);return n==E?cn(t):n==M?pn(t):function(e,t){return Pt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Qi(e,t,n,s,p,f,g,m){var v=2&t;if(!v&&"function"!=typeof e)throw new Me(o);var y=s?s.length:0;if(y||(t&=-97,s=p=i),g=g===i?g:bn(ga(g),0),m=m===i?m:ga(m),y-=p?p.length:0,t&u){var b=s,w=p;s=p=i}var x=v?i:so(e),_=[e,t,n,s,p,b,w,f,g,m];if(x&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==h&&8==n||r==h&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Ci(c,l,t[4]):l,e[4]=c?hn(e[3],a):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Ni(c,l,t[6]):l,e[6]=c?hn(e[5],a):t[6]);(l=t[7])&&(e[7]=l);r&h&&(e[8]=null==e[8]?t[8]:wn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,x),e=_[0],t=_[1],n=_[2],s=_[3],p=_[4],!(m=_[9]=_[9]===i?v?0:e.length:bn(_[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)A=8==t||t==l?function(e,t,n){var o=Fi(e);return function s(){for(var a=arguments.length,l=r(a),c=a,u=lo(s);c--;)l[c]=arguments[c];var h=a<3&&l[0]!==u&&l[a-1]!==u?[]:hn(l,u);return(a-=h.length)<n?qi(e,t,ji,s.placeholder,i,l,h,i,i,n-a):St(this&&this!==gt&&this instanceof s?o:e,this,l)}}(e,t,m):t!=c&&33!=t||p.length?ji.apply(i,_):function(e,t,n,i){var o=1&t,s=Fi(e);return function t(){for(var a=-1,l=arguments.length,c=-1,u=i.length,h=r(u+l),d=this&&this!==gt&&this instanceof t?s:e;++c<u;)h[c]=i[c];for(;l--;)h[c++]=arguments[++a];return St(d,o?n:this,h)}}(e,t,n,s);else var A=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==gt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Lo((x?ti:Oo)(A,_),e,t)}function Ji(e,t,n,r){return e===i||js(e,Ie[n])&&!De.call(r,n)?t:e}function eo(e,t,n,r,o,s){return ta(e)&&ta(t)&&(s.set(t,e),Hr(e,t,i,eo,s),s.delete(t)),e}function to(e){return oa(e)?i:e}function no(e,t,n,r,o,s){var a=1&n,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e),h=s.get(t);if(u&&h)return u==t&&h==e;var d=-1,p=!0,f=2&n?new Xn:i;for(s.set(e,t),s.set(t,e);++d<l;){var g=e[d],m=t[d];if(r)var v=a?r(m,g,d,t,e,s):r(g,m,d,e,t,s);if(v!==i){if(v)continue;p=!1;break}if(f){if(!zt(t,function(e,t){if(!tn(f,t)&&(g===e||o(g,e,n,r,s)))return f.push(t)})){p=!1;break}}else if(g!==m&&!o(g,m,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function ro(e){return Io(Co(e,i,Wo),e+"")}function io(e){return Er(e,Ra,fo)}function oo(e){return Er(e,Ia,go)}var so=On?function(e){return On.get(e)}:cl;function ao(e){for(var t=e.name+"",n=Rn[t],r=De.call(Rn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function lo(e){return(De.call(jn,"placeholder")?jn:e).placeholder}function co(){var e=jn.iteratee||ol;return e=e===ol?Dr:e,arguments.length?e(arguments[0],arguments[1]):e}function uo(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ho(e){for(var t=Ra(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ko(i)]}return t}function po(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Pr(n)?n:i}var fo=vt?function(e){return null==e?[]:(e=Se(e),Rt(vt(e),function(t){return Xe.call(e,t)}))}:ml,go=vt?function(e){for(var t=[];e;)Dt(t,fo(e)),e=Ye(e);return t}:ml,mo=kr;function vo(e,t,n){for(var r=-1,i=(t=wi(t,e)).length,o=!1;++r<i;){var s=Fo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ea(i)&&wo(s,i)&&(Vs(e)||Gs(e))}function yo(e){return"function"!=typeof e.constructor||Eo(e)?{}:Un(Ye(e))}function bo(e){return Vs(e)||Gs(e)||!!(Ze&&e&&e[Ze])}function wo(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function xo(e,t,n){if(!ta(n))return!1;var r=typeof t;return!!("number"==r?Ys(n)&&wo(t,n.length):"string"==r&&t in n)&&js(n[t],e)}function _o(e,t){if(Vs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ca(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Se(t))}function Ao(e){var t=ao(e),n=jn[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=so(n);return!!r&&e===r[0]}(En&&mo(new En(new ArrayBuffer(1)))!=P||kn&&mo(new kn)!=E||Sn&&mo(Sn.resolve())!=C||Cn&&mo(new Cn)!=M||Nn&&mo(new Nn)!=I)&&(mo=function(e){var t=kr(e),n=t==S?e.constructor:i,r=n?zo(n):"";if(r)switch(r){case In:return P;case Ln:return E;case Pn:return C;case Dn:return M;case Bn:return I}return t});var To=Le?Qs:vl;function Eo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function ko(e){return e==e&&!ta(e)}function So(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Se(n)))}}function Co(e,t,n){return t=bn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=bn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var l=r(t+1);++o<t;)l[o]=i[o];return l[t]=n(a),St(e,this,l)}}function No(e,t){return t.length<2?e:Tr(e,ii(t,0,-1))}function Mo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Oo=Po(ti),Ro=pt||function(e,t){return gt.setTimeout(e,t)},Io=Po(ni);function Lo(e,t,n){var r=t+"";return Io(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Nt(v,function(n){var r="_."+n[0];t&n[1]&&!It(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function Po(e){var t=0,n=0;return function(){var r=xn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Do(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Xr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Bo=function(e){var t=Ps(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,function(e,n,r,i){t.push(r?i.replace(pe,"$1"):n||e)}),t});function Fo(e){if("string"==typeof e||ca(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function zo(e){if(null!=e){try{return Pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $o(e){if(e instanceof Vn)return e.clone();var t=new Gn(e.__wrapped__,e.__chain__);return t.__actions__=Mi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var jo=Zr(function(e,t){return qs(e)?dr(e,yr(t,1,qs,!0)):[]}),Uo=Zr(function(e,t){var n=Zo(t);return qs(n)&&(n=i),qs(e)?dr(e,yr(t,1,qs,!0),co(n,2)):[]}),Ho=Zr(function(e,t){var n=Zo(t);return qs(n)&&(n=i),qs(e)?dr(e,yr(t,1,qs,!0),i,n):[]});function Go(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=bn(r+i,0)),Ut(e,co(t,3),i)}function Vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ga(n),o=n<0?bn(r+o,0):wn(o,r-1)),Ut(e,co(t,3),o,!0)}function Wo(e){return(null==e?0:e.length)?yr(e,1):[]}function Yo(e){return e&&e.length?e[0]:i}var qo=Zr(function(e){var t=Pt(e,yi);return t.length&&t[0]===e[0]?Mr(t):[]}),Xo=Zr(function(e){var t=Zo(e),n=Pt(e,yi);return t===Zo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Mr(n,co(t,2)):[]}),Ko=Zr(function(e){var t=Zo(e),n=Pt(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Mr(n,i,t):[]});function Zo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Qo=Zr(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?Yr(e,t):e}var es=ro(function(e,t){var n=null==e?0:e.length,r=ar(e,t);return qr(e,Pt(t,function(e){return wo(e,n)?+e:e}).sort(Si)),r});function ts(e){return null==e?e:Tn.call(e)}var ns=Zr(function(e){return hi(yr(e,1,qs,!0))}),rs=Zr(function(e){var t=Zo(e);return qs(t)&&(t=i),hi(yr(e,1,qs,!0),co(t,2))}),is=Zr(function(e){var t=Zo(e);return t="function"==typeof t?t:i,hi(yr(e,1,qs,!0),i,t)});function os(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,function(e){if(qs(e))return t=bn(e.length,t),!0}),Zt(t,function(t){return Pt(e,Yt(t))})}function ss(e,t){if(!e||!e.length)return[];var n=os(e);return null==t?n:Pt(n,function(e){return St(t,i,e)})}var as=Zr(function(e,t){return qs(e)?dr(e,t):[]}),ls=Zr(function(e){return mi(Rt(e,qs))}),cs=Zr(function(e){var t=Zo(e);return qs(t)&&(t=i),mi(Rt(e,qs),co(t,2))}),us=Zr(function(e){var t=Zo(e);return t="function"==typeof t?t:i,mi(Rt(e,qs),i,t)}),hs=Zr(os);var ds=Zr(function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ss(e,n)});function ps(e){var t=jn(e);return t.__chain__=!0,t}function fs(e,t){return t(e)}var gs=ro(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&wo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fs,args:[o],thisArg:i}),new Gn(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(i),e})):this.thru(o)});var ms=Ri(function(e,t,n){De.call(e,n)?++e[n]:sr(e,n,1)});var vs=zi(Go),ys=zi(Vo);function bs(e,t){return(Vs(e)?Nt:pr)(e,co(t,3))}function ws(e,t){return(Vs(e)?Mt:fr)(e,co(t,3))}var xs=Ri(function(e,t,n){De.call(e,n)?e[n].push(t):sr(e,n,[t])});var _s=Zr(function(e,t,n){var i=-1,o="function"==typeof t,s=Ys(e)?r(e.length):[];return pr(e,function(e){s[++i]=o?St(t,e,n):Or(e,t,n)}),s}),As=Ri(function(e,t,n){sr(e,n,t)});function Ts(e,t){return(Vs(e)?Pt:$r)(e,co(t,3))}var Es=Ri(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var ks=Zr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&xo(e,t[0],t[1])?t=[]:n>2&&xo(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,yr(t,1),[])}),Ss=ut||function(){return gt.Date.now()};function Cs(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Qi(e,h,i,i,i,i,t)}function Ns(e,t){var n;if("function"!=typeof t)throw new Me(o);return e=ga(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ms=Zr(function(e,t,n){var r=1;if(n.length){var i=hn(n,lo(Ms));r|=c}return Qi(e,r,t,n,i)}),Os=Zr(function(e,t,n){var r=3;if(n.length){var i=hn(n,lo(Os));r|=c}return Qi(t,r,e,n,i)});function Rs(e,t,n){var r,s,a,l,c,u,h=0,d=!1,p=!1,f=!0;if("function"!=typeof e)throw new Me(o);function g(t){var n=r,o=s;return r=s=i,h=t,l=e.apply(o,n)}function m(e){var n=e-u;return u===i||n>=t||n<0||p&&e-h>=a}function v(){var e=Ss();if(m(e))return y(e);c=Ro(v,function(e){var n=t-(e-u);return p?wn(n,a-(e-h)):n}(e))}function y(e){return c=i,f&&r?g(e):(r=s=i,l)}function b(){var e=Ss(),n=m(e);if(r=arguments,s=this,u=e,n){if(c===i)return function(e){return h=e,c=Ro(v,t),d?g(e):l}(u);if(p)return Ai(c),c=Ro(v,t),g(u)}return c===i&&(c=Ro(v,t)),l}return t=va(t)||0,ta(n)&&(d=!!n.leading,a=(p="maxWait"in n)?bn(va(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),b.cancel=function(){c!==i&&Ai(c),h=0,r=u=s=c=i},b.flush=function(){return c===i?l:y(Ss())},b}var Is=Zr(function(e,t){return hr(e,1,t)}),Ls=Zr(function(e,t,n){return hr(e,va(t)||0,n)});function Ps(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Me(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ps.Cache||qn),n}function Ds(e){if("function"!=typeof e)throw new Me(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ps.Cache=qn;var Bs=xi(function(e,t){var n=(t=1==t.length&&Vs(t[0])?Pt(t[0],Jt(co())):Pt(yr(t,1),Jt(co()))).length;return Zr(function(r){for(var i=-1,o=wn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return St(e,this,r)})}),Fs=Zr(function(e,t){var n=hn(t,lo(Fs));return Qi(e,c,i,t,n)}),zs=Zr(function(e,t){var n=hn(t,lo(zs));return Qi(e,u,i,t,n)}),$s=ro(function(e,t){return Qi(e,d,i,i,i,t)});function js(e,t){return e===t||e!=e&&t!=t}var Us=Yi(Sr),Hs=Yi(function(e,t){return e>=t}),Gs=Rr(function(){return arguments}())?Rr:function(e){return na(e)&&De.call(e,"callee")&&!Xe.call(e,"callee")},Vs=r.isArray,Ws=xt?Jt(xt):function(e){return na(e)&&kr(e)==L};function Ys(e){return null!=e&&ea(e.length)&&!Qs(e)}function qs(e){return na(e)&&Ys(e)}var Xs=bt||vl,Ks=_t?Jt(_t):function(e){return na(e)&&kr(e)==x};function Zs(e){if(!na(e))return!1;var t=kr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oa(e)}function Qs(e){if(!ta(e))return!1;var t=kr(e);return t==A||t==T||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Js(e){return"number"==typeof e&&e==ga(e)}function ea(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function ta(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function na(e){return null!=e&&"object"==typeof e}var ra=At?Jt(At):function(e){return na(e)&&mo(e)==E};function ia(e){return"number"==typeof e||na(e)&&kr(e)==k}function oa(e){if(!na(e)||kr(e)!=S)return!1;var t=Ye(e);if(null===t)return!0;var n=De.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==$e}var sa=Tt?Jt(Tt):function(e){return na(e)&&kr(e)==N};var aa=Et?Jt(Et):function(e){return na(e)&&mo(e)==M};function la(e){return"string"==typeof e||!Vs(e)&&na(e)&&kr(e)==O}function ca(e){return"symbol"==typeof e||na(e)&&kr(e)==R}var ua=kt?Jt(kt):function(e){return na(e)&&ea(e.length)&&!!lt[kr(e)]};var ha=Yi(zr),da=Yi(function(e,t){return e<=t});function pa(e){if(!e)return[];if(Ys(e))return la(e)?gn(e):Mi(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=mo(e);return(t==E?cn:t==M?dn:ja)(e)}function fa(e){return e?(e=va(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ga(e){var t=fa(e),n=t%1;return t==t?n?t-n:t:0}function ma(e){return e?lr(ga(e),0,m):0}function va(e){if("number"==typeof e)return e;if(ca(e))return g;if(ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=ve.test(e);return n||be.test(e)?dt(e.slice(2),n?2:8):me.test(e)?g:+e}function ya(e){return Oi(e,Ia(e))}function ba(e){return null==e?"":ui(e)}var wa=Ii(function(e,t){if(Eo(t)||Ys(t))Oi(t,Ra(t),e);else for(var n in t)De.call(t,n)&&nr(e,n,t[n])}),xa=Ii(function(e,t){Oi(t,Ia(t),e)}),_a=Ii(function(e,t,n,r){Oi(t,Ia(t),e,r)}),Aa=Ii(function(e,t,n,r){Oi(t,Ra(t),e,r)}),Ta=ro(ar);var Ea=Zr(function(e,t){e=Se(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&xo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Ia(s),l=-1,c=a.length;++l<c;){var u=a[l],h=e[u];(h===i||js(h,Ie[u])&&!De.call(e,u))&&(e[u]=s[u])}return e}),ka=Zr(function(e){return e.push(i,eo),St(Pa,i,e)});function Sa(e,t,n){var r=null==e?i:Tr(e,t);return r===i?n:r}function Ca(e,t){return null!=e&&vo(e,t,Nr)}var Na=Ui(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),e[t]=n},tl(il)),Ma=Ui(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),De.call(e,t)?e[t].push(n):e[t]=[n]},co),Oa=Zr(Or);function Ra(e){return Ys(e)?Zn(e):Br(e)}function Ia(e){return Ys(e)?Zn(e,!0):Fr(e)}var La=Ii(function(e,t,n){Hr(e,t,n)}),Pa=Ii(function(e,t,n,r){Hr(e,t,n,r)}),Da=ro(function(e,t){var n={};if(null==e)return n;var r=!1;t=Pt(t,function(t){return t=wi(t,e),r||(r=t.length>1),t}),Oi(e,oo(e),n),r&&(n=cr(n,7,to));for(var i=t.length;i--;)di(n,t[i]);return n});var Ba=ro(function(e,t){return null==e?{}:function(e,t){return Wr(e,t,function(t,n){return Ca(e,n)})}(e,t)});function Fa(e,t){if(null==e)return{};var n=Pt(oo(e),function(e){return[e]});return t=co(t),Wr(e,n,function(e,n){return t(e,n[0])})}var za=Zi(Ra),$a=Zi(Ia);function ja(e){return null==e?[]:en(e,Ra(e))}var Ua=Bi(function(e,t,n){return t=t.toLowerCase(),e+(n?Ha(t):t)});function Ha(e){return Za(ba(e).toLowerCase())}function Ga(e){return(e=ba(e))&&e.replace(xe,on).replace(tt,"")}var Va=Bi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Wa=Bi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ya=Di("toLowerCase");var qa=Bi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Xa=Bi(function(e,t,n){return e+(n?" ":"")+Za(t)});var Ka=Bi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Za=Di("toUpperCase");function Qa(e,t,n){return e=ba(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(he)||[]}(e):e.match(t)||[]}var Ja=Zr(function(e,t){try{return St(e,i,t)}catch(e){return Zs(e)?e:new Te(e)}}),el=ro(function(e,t){return Nt(t,function(t){t=Fo(t),sr(e,t,Ms(e[t],e))}),e});function tl(e){return function(){return e}}var nl=$i(),rl=$i(!0);function il(e){return e}function ol(e){return Dr("function"==typeof e?e:cr(e,1))}var sl=Zr(function(e,t){return function(n){return Or(n,e,t)}}),al=Zr(function(e,t){return function(n){return Or(e,n,t)}});function ll(e,t,n){var r=Ra(t),i=Ar(t,r);null!=n||ta(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Ar(t,Ra(t)));var o=!(ta(n)&&"chain"in n&&!n.chain),s=Qs(e);return Nt(i,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Mi(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})}),e}function cl(){}var ul=Gi(Pt),hl=Gi(Ot),dl=Gi(zt);function pl(e){return _o(e)?Yt(Fo(e)):function(e){return function(t){return Tr(t,e)}}(e)}var fl=Wi(),gl=Wi(!0);function ml(){return[]}function vl(){return!1}var yl=Hi(function(e,t){return e+t},0),bl=Xi("ceil"),wl=Hi(function(e,t){return e/t},1),xl=Xi("floor");var _l,Al=Hi(function(e,t){return e*t},1),Tl=Xi("round"),El=Hi(function(e,t){return e-t},0);return jn.after=function(e,t){if("function"!=typeof t)throw new Me(o);return e=ga(e),function(){if(--e<1)return t.apply(this,arguments)}},jn.ary=Cs,jn.assign=wa,jn.assignIn=xa,jn.assignInWith=_a,jn.assignWith=Aa,jn.at=Ta,jn.before=Ns,jn.bind=Ms,jn.bindAll=el,jn.bindKey=Os,jn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Vs(e)?e:[e]},jn.chain=ps,jn.chunk=function(e,t,n){t=(n?xo(e,t,n):t===i)?1:bn(ga(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,l=r(ft(o/t));s<o;)l[a++]=ii(e,s,s+=t);return l},jn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},jn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Dt(Vs(n)?Mi(n):[n],yr(t,1))},jn.cond=function(e){var t=null==e?0:e.length,n=co();return e=t?Pt(e,function(e){if("function"!=typeof e[1])throw new Me(o);return[n(e[0]),e[1]]}):[],Zr(function(n){for(var r=-1;++r<t;){var i=e[r];if(St(i[0],this,n))return St(i[1],this,n)}})},jn.conforms=function(e){return function(e){var t=Ra(e);return function(n){return ur(n,e,t)}}(cr(e,1))},jn.constant=tl,jn.countBy=ms,jn.create=function(e,t){var n=Un(e);return null==t?n:or(n,t)},jn.curry=function e(t,n,r){var o=Qi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},jn.curryRight=function e(t,n,r){var o=Qi(t,l,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},jn.debounce=Rs,jn.defaults=Ea,jn.defaultsDeep=ka,jn.defer=Is,jn.delay=Ls,jn.difference=jo,jn.differenceBy=Uo,jn.differenceWith=Ho,jn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:ga(t))<0?0:t,r):[]},jn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:ga(t)))<0?0:t):[]},jn.dropRightWhile=function(e,t){return e&&e.length?fi(e,co(t,3),!0,!0):[]},jn.dropWhile=function(e,t){return e&&e.length?fi(e,co(t,3),!0):[]},jn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&xo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ga(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ga(r))<0&&(r+=o),r=n>r?0:ma(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},jn.filter=function(e,t){return(Vs(e)?Rt:vr)(e,co(t,3))},jn.flatMap=function(e,t){return yr(Ts(e,t),1)},jn.flatMapDeep=function(e,t){return yr(Ts(e,t),p)},jn.flatMapDepth=function(e,t,n){return n=n===i?1:ga(n),yr(Ts(e,t),n)},jn.flatten=Wo,jn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,p):[]},jn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:ga(t)):[]},jn.flip=function(e){return Qi(e,512)},jn.flow=nl,jn.flowRight=rl,jn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},jn.functions=function(e){return null==e?[]:Ar(e,Ra(e))},jn.functionsIn=function(e){return null==e?[]:Ar(e,Ia(e))},jn.groupBy=xs,jn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},jn.intersection=qo,jn.intersectionBy=Xo,jn.intersectionWith=Ko,jn.invert=Na,jn.invertBy=Ma,jn.invokeMap=_s,jn.iteratee=ol,jn.keyBy=As,jn.keys=Ra,jn.keysIn=Ia,jn.map=Ts,jn.mapKeys=function(e,t){var n={};return t=co(t,3),xr(e,function(e,r,i){sr(n,t(e,r,i),e)}),n},jn.mapValues=function(e,t){var n={};return t=co(t,3),xr(e,function(e,r,i){sr(n,r,t(e,r,i))}),n},jn.matches=function(e){return jr(cr(e,1))},jn.matchesProperty=function(e,t){return Ur(e,cr(t,1))},jn.memoize=Ps,jn.merge=La,jn.mergeWith=Pa,jn.method=sl,jn.methodOf=al,jn.mixin=ll,jn.negate=Ds,jn.nthArg=function(e){return e=ga(e),Zr(function(t){return Gr(t,e)})},jn.omit=Da,jn.omitBy=function(e,t){return Fa(e,Ds(co(t)))},jn.once=function(e){return Ns(2,e)},jn.orderBy=function(e,t,n,r){return null==e?[]:(Vs(t)||(t=null==t?[]:[t]),Vs(n=r?i:n)||(n=null==n?[]:[n]),Vr(e,t,n))},jn.over=ul,jn.overArgs=Bs,jn.overEvery=hl,jn.overSome=dl,jn.partial=Fs,jn.partialRight=zs,jn.partition=Es,jn.pick=Ba,jn.pickBy=Fa,jn.property=pl,jn.propertyOf=function(e){return function(t){return null==e?i:Tr(e,t)}},jn.pull=Qo,jn.pullAll=Jo,jn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,co(n,2)):e},jn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,i,n):e},jn.pullAt=es,jn.range=fl,jn.rangeRight=gl,jn.rearg=$s,jn.reject=function(e,t){return(Vs(e)?Rt:vr)(e,Ds(co(t,3)))},jn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=co(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return qr(e,i),n},jn.rest=function(e,t){if("function"!=typeof e)throw new Me(o);return Zr(e,t=t===i?t:ga(t))},jn.reverse=ts,jn.sampleSize=function(e,t,n){return t=(n?xo(e,t,n):t===i)?1:ga(t),(Vs(e)?Jn:Jr)(e,t)},jn.set=function(e,t,n){return null==e?e:ei(e,t,n)},jn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},jn.shuffle=function(e){return(Vs(e)?er:ri)(e)},jn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&xo(e,t,n)?(t=0,n=r):(t=null==t?0:ga(t),n=n===i?r:ga(n)),ii(e,t,n)):[]},jn.sortBy=ks,jn.sortedUniq=function(e){return e&&e.length?li(e):[]},jn.sortedUniqBy=function(e,t){return e&&e.length?li(e,co(t,2)):[]},jn.split=function(e,t,n){return n&&"number"!=typeof n&&xo(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=ba(e))&&("string"==typeof t||null!=t&&!sa(t))&&!(t=ui(t))&&ln(e)?_i(gn(e),0,n):e.split(t,n):[]},jn.spread=function(e,t){if("function"!=typeof e)throw new Me(o);return t=null==t?0:bn(ga(t),0),Zr(function(n){var r=n[t],i=_i(n,0,t);return r&&Dt(i,r),St(e,this,i)})},jn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},jn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:ga(t))<0?0:t):[]},jn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:ga(t)))<0?0:t,r):[]},jn.takeRightWhile=function(e,t){return e&&e.length?fi(e,co(t,3),!1,!0):[]},jn.takeWhile=function(e,t){return e&&e.length?fi(e,co(t,3)):[]},jn.tap=function(e,t){return t(e),e},jn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Me(o);return ta(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Rs(e,t,{leading:r,maxWait:t,trailing:i})},jn.thru=fs,jn.toArray=pa,jn.toPairs=za,jn.toPairsIn=$a,jn.toPath=function(e){return Vs(e)?Pt(e,Fo):ca(e)?[e]:Mi(Bo(ba(e)))},jn.toPlainObject=ya,jn.transform=function(e,t,n){var r=Vs(e),i=r||Xs(e)||ua(e);if(t=co(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ta(e)&&Qs(o)?Un(Ye(e)):{}}return(i?Nt:xr)(e,function(e,r,i){return t(n,e,r,i)}),n},jn.unary=function(e){return Cs(e,1)},jn.union=ns,jn.unionBy=rs,jn.unionWith=is,jn.uniq=function(e){return e&&e.length?hi(e):[]},jn.uniqBy=function(e,t){return e&&e.length?hi(e,co(t,2)):[]},jn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?hi(e,i,t):[]},jn.unset=function(e,t){return null==e||di(e,t)},jn.unzip=os,jn.unzipWith=ss,jn.update=function(e,t,n){return null==e?e:pi(e,t,bi(n))},jn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:pi(e,t,bi(n),r)},jn.values=ja,jn.valuesIn=function(e){return null==e?[]:en(e,Ia(e))},jn.without=as,jn.words=Qa,jn.wrap=function(e,t){return Fs(bi(t),e)},jn.xor=ls,jn.xorBy=cs,jn.xorWith=us,jn.zip=hs,jn.zipObject=function(e,t){return vi(e||[],t||[],nr)},jn.zipObjectDeep=function(e,t){return vi(e||[],t||[],ei)},jn.zipWith=ds,jn.entries=za,jn.entriesIn=$a,jn.extend=xa,jn.extendWith=_a,ll(jn,jn),jn.add=yl,jn.attempt=Ja,jn.camelCase=Ua,jn.capitalize=Ha,jn.ceil=bl,jn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=va(n))==n?n:0),t!==i&&(t=(t=va(t))==t?t:0),lr(va(e),t,n)},jn.clone=function(e){return cr(e,4)},jn.cloneDeep=function(e){return cr(e,5)},jn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},jn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},jn.conformsTo=function(e,t){return null==t||ur(e,t,Ra(t))},jn.deburr=Ga,jn.defaultTo=function(e,t){return null==e||e!=e?t:e},jn.divide=wl,jn.endsWith=function(e,t,n){e=ba(e),t=ui(t);var r=e.length,o=n=n===i?r:lr(ga(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},jn.eq=js,jn.escape=function(e){return(e=ba(e))&&Z.test(e)?e.replace(X,sn):e},jn.escapeRegExp=function(e){return(e=ba(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},jn.every=function(e,t,n){var r=Vs(e)?Ot:gr;return n&&xo(e,t,n)&&(t=i),r(e,co(t,3))},jn.find=vs,jn.findIndex=Go,jn.findKey=function(e,t){return jt(e,co(t,3),xr)},jn.findLast=ys,jn.findLastIndex=Vo,jn.findLastKey=function(e,t){return jt(e,co(t,3),_r)},jn.floor=xl,jn.forEach=bs,jn.forEachRight=ws,jn.forIn=function(e,t){return null==e?e:br(e,co(t,3),Ia)},jn.forInRight=function(e,t){return null==e?e:wr(e,co(t,3),Ia)},jn.forOwn=function(e,t){return e&&xr(e,co(t,3))},jn.forOwnRight=function(e,t){return e&&_r(e,co(t,3))},jn.get=Sa,jn.gt=Us,jn.gte=Hs,jn.has=function(e,t){return null!=e&&vo(e,t,Cr)},jn.hasIn=Ca,jn.head=Yo,jn.identity=il,jn.includes=function(e,t,n,r){e=Ys(e)?e:ja(e),n=n&&!r?ga(n):0;var i=e.length;return n<0&&(n=bn(i+n,0)),la(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ht(e,t,n)>-1},jn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=bn(r+i,0)),Ht(e,t,i)},jn.inRange=function(e,t,n){return t=fa(t),n===i?(n=t,t=0):n=fa(n),function(e,t,n){return e>=wn(t,n)&&e<bn(t,n)}(e=va(e),t,n)},jn.invoke=Oa,jn.isArguments=Gs,jn.isArray=Vs,jn.isArrayBuffer=Ws,jn.isArrayLike=Ys,jn.isArrayLikeObject=qs,jn.isBoolean=function(e){return!0===e||!1===e||na(e)&&kr(e)==w},jn.isBuffer=Xs,jn.isDate=Ks,jn.isElement=function(e){return na(e)&&1===e.nodeType&&!oa(e)},jn.isEmpty=function(e){if(null==e)return!0;if(Ys(e)&&(Vs(e)||"string"==typeof e||"function"==typeof e.splice||Xs(e)||ua(e)||Gs(e)))return!e.length;var t=mo(e);if(t==E||t==M)return!e.size;if(Eo(e))return!Br(e).length;for(var n in e)if(De.call(e,n))return!1;return!0},jn.isEqual=function(e,t){return Ir(e,t)},jn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Ir(e,t,i,n):!!r},jn.isError=Zs,jn.isFinite=function(e){return"number"==typeof e&&wt(e)},jn.isFunction=Qs,jn.isInteger=Js,jn.isLength=ea,jn.isMap=ra,jn.isMatch=function(e,t){return e===t||Lr(e,t,ho(t))},jn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Lr(e,t,ho(t),n)},jn.isNaN=function(e){return ia(e)&&e!=+e},jn.isNative=function(e){if(To(e))throw new Te("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pr(e)},jn.isNil=function(e){return null==e},jn.isNull=function(e){return null===e},jn.isNumber=ia,jn.isObject=ta,jn.isObjectLike=na,jn.isPlainObject=oa,jn.isRegExp=sa,jn.isSafeInteger=function(e){return Js(e)&&e>=-9007199254740991&&e<=f},jn.isSet=aa,jn.isString=la,jn.isSymbol=ca,jn.isTypedArray=ua,jn.isUndefined=function(e){return e===i},jn.isWeakMap=function(e){return na(e)&&mo(e)==I},jn.isWeakSet=function(e){return na(e)&&"[object WeakSet]"==kr(e)},jn.join=function(e,t){return null==e?"":$t.call(e,t)},jn.kebabCase=Va,jn.last=Zo,jn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ga(n))<0?bn(r+o,0):wn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Ut(e,Vt,o,!0)},jn.lowerCase=Wa,jn.lowerFirst=Ya,jn.lt=ha,jn.lte=da,jn.max=function(e){return e&&e.length?mr(e,il,Sr):i},jn.maxBy=function(e,t){return e&&e.length?mr(e,co(t,2),Sr):i},jn.mean=function(e){return Wt(e,il)},jn.meanBy=function(e,t){return Wt(e,co(t,2))},jn.min=function(e){return e&&e.length?mr(e,il,zr):i},jn.minBy=function(e,t){return e&&e.length?mr(e,co(t,2),zr):i},jn.stubArray=ml,jn.stubFalse=vl,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=Al,jn.nth=function(e,t){return e&&e.length?Gr(e,ga(t)):i},jn.noConflict=function(){return gt._===this&&(gt._=je),this},jn.noop=cl,jn.now=Ss,jn.pad=function(e,t,n){e=ba(e);var r=(t=ga(t))?fn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Vi(mt(i),n)+e+Vi(ft(i),n)},jn.padEnd=function(e,t,n){e=ba(e);var r=(t=ga(t))?fn(e):0;return t&&r<t?e+Vi(t-r,n):e},jn.padStart=function(e,t,n){e=ba(e);var r=(t=ga(t))?fn(e):0;return t&&r<t?Vi(t-r,n)+e:e},jn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(ba(e).replace(se,""),t||0)},jn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&xo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fa(e),t===i?(t=e,e=0):t=fa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=An();return wn(e+o*(t-e+ht("1e-"+((o+"").length-1))),t)}return Xr(e,t)},jn.reduce=function(e,t,n){var r=Vs(e)?Bt:Xt,i=arguments.length<3;return r(e,co(t,4),n,i,pr)},jn.reduceRight=function(e,t,n){var r=Vs(e)?Ft:Xt,i=arguments.length<3;return r(e,co(t,4),n,i,fr)},jn.repeat=function(e,t,n){return t=(n?xo(e,t,n):t===i)?1:ga(t),Kr(ba(e),t)},jn.replace=function(){var e=arguments,t=ba(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jn.result=function(e,t,n){var r=-1,o=(t=wi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Fo(t[r])];s===i&&(r=o,s=n),e=Qs(s)?s.call(e):s}return e},jn.round=Tl,jn.runInContext=e,jn.sample=function(e){return(Vs(e)?Qn:Qr)(e)},jn.size=function(e){if(null==e)return 0;if(Ys(e))return la(e)?fn(e):e.length;var t=mo(e);return t==E||t==M?e.size:Br(e).length},jn.snakeCase=qa,jn.some=function(e,t,n){var r=Vs(e)?zt:oi;return n&&xo(e,t,n)&&(t=i),r(e,co(t,3))},jn.sortedIndex=function(e,t){return si(e,t)},jn.sortedIndexBy=function(e,t,n){return ai(e,t,co(n,2))},jn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&js(e[r],t))return r}return-1},jn.sortedLastIndex=function(e,t){return si(e,t,!0)},jn.sortedLastIndexBy=function(e,t,n){return ai(e,t,co(n,2),!0)},jn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=si(e,t,!0)-1;if(js(e[n],t))return n}return-1},jn.startCase=Xa,jn.startsWith=function(e,t,n){return e=ba(e),n=null==n?0:lr(ga(n),0,e.length),t=ui(t),e.slice(n,n+t.length)==t},jn.subtract=El,jn.sum=function(e){return e&&e.length?Kt(e,il):0},jn.sumBy=function(e,t){return e&&e.length?Kt(e,co(t,2)):0},jn.template=function(e,t,n){var r=jn.templateSettings;n&&xo(e,t,n)&&(t=i),e=ba(e),t=_a({},t,r,Ji);var o,s,a=_a({},t.imports,r.imports,Ji),l=Ra(a),c=en(a,l),u=0,h=t.interpolate||_e,d="__p += '",p=Ce((t.escape||_e).source+"|"+h.source+"|"+(h===ee?fe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),f="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(p,function(t,n,r,i,a,l){return r||(r=i),d+=e.slice(u,l).replace(Ae,an),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),d+="';\n";var g=De.call(t,"variable")&&t.variable;if(g){if(de.test(g))throw new Te("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(V,""):d).replace(W,"$1").replace(Y,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Ja(function(){return Ee(l,f+"return "+d).apply(i,c)});if(m.source=d,Zs(m))throw m;return m},jn.times=function(e,t){if((e=ga(e))<1||e>f)return[];var n=m,r=wn(e,m);t=co(t),e-=m;for(var i=Zt(r,t);++n<e;)t(n);return i},jn.toFinite=fa,jn.toInteger=ga,jn.toLength=ma,jn.toLower=function(e){return ba(e).toLowerCase()},jn.toNumber=va,jn.toSafeInteger=function(e){return e?lr(ga(e),-9007199254740991,f):0===e?e:0},jn.toString=ba,jn.toUpper=function(e){return ba(e).toUpperCase()},jn.trim=function(e,t,n){if((e=ba(e))&&(n||t===i))return Qt(e);if(!e||!(t=ui(t)))return e;var r=gn(e),o=gn(t);return _i(r,nn(r,o),rn(r,o)+1).join("")},jn.trimEnd=function(e,t,n){if((e=ba(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=ui(t)))return e;var r=gn(e);return _i(r,0,rn(r,gn(t))+1).join("")},jn.trimStart=function(e,t,n){if((e=ba(e))&&(n||t===i))return e.replace(se,"");if(!e||!(t=ui(t)))return e;var r=gn(e);return _i(r,nn(r,gn(t))).join("")},jn.truncate=function(e,t){var n=30,r="...";if(ta(t)){var o="separator"in t?t.separator:o;n="length"in t?ga(t.length):n,r="omission"in t?ui(t.omission):r}var s=(e=ba(e)).length;if(ln(e)){var a=gn(e);s=a.length}if(n>=s)return e;var l=n-fn(r);if(l<1)return r;var c=a?_i(a,0,l).join(""):e.slice(0,l);if(o===i)return c+r;if(a&&(l+=c.length-l),sa(o)){if(e.slice(l).search(o)){var u,h=c;for(o.global||(o=Ce(o.source,ba(ge.exec(o))+"g")),o.lastIndex=0;u=o.exec(h);)var d=u.index;c=c.slice(0,d===i?l:d)}}else if(e.indexOf(ui(o),l)!=l){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+r},jn.unescape=function(e){return(e=ba(e))&&K.test(e)?e.replace(q,vn):e},jn.uniqueId=function(e){var t=++Be;return ba(e)+t},jn.upperCase=Ka,jn.upperFirst=Za,jn.each=bs,jn.eachRight=ws,jn.first=Yo,ll(jn,(_l={},xr(jn,function(e,t){De.call(jn.prototype,t)||(_l[t]=e)}),_l),{chain:!1}),jn.VERSION="4.17.21",Nt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){jn[e].placeholder=jn}),Nt(["drop","take"],function(e,t){Vn.prototype[e]=function(n){n=n===i?1:bn(ga(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=wn(n,r.__takeCount__):r.__views__.push({size:wn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Nt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:co(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Nt(["head","last"],function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}}),Nt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}}),Vn.prototype.compact=function(){return this.filter(il)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Zr(function(e,t){return"function"==typeof e?new Vn(this):this.map(function(n){return Or(n,e,t)})}),Vn.prototype.reject=function(e){return this.filter(Ds(co(e)))},Vn.prototype.slice=function(e,t){e=ga(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ga(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(m)},xr(Vn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=jn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(jn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof Vn,c=a[0],u=l||Vs(t),h=function(e){var t=o.apply(jn,Dt([e],a));return r&&d?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var d=this.__chain__,p=!!this.__actions__.length,f=s&&!d,g=l&&!p;if(!s&&u){t=g?t:new Vn(this);var m=e.apply(t,a);return m.__actions__.push({func:fs,args:[h],thisArg:i}),new Gn(m,d)}return f&&g?e.apply(this,a):(m=this.thru(h),f?r?m.value()[0]:m.value():m)})}),Nt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);jn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Vs(i)?i:[],e)}return this[n](function(n){return t.apply(Vs(n)?n:[],e)})}}),xr(Vn.prototype,function(e,t){var n=jn[t];if(n){var r=n.name+"";De.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:t,func:n})}}),Rn[ji(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Mi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Mi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Mi(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Vs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=wn(t,e+s);break;case"takeRight":e=bn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,h=u.length,d=0,p=wn(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return gi(e,this.__actions__);var f=[];e:for(;l--&&d<p;){for(var g=-1,m=e[c+=t];++g<h;){var v=u[g],y=v.iteratee,b=v.type,w=y(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}f[d++]=m}return f},jn.prototype.at=gs,jn.prototype.chain=function(){return ps(this)},jn.prototype.commit=function(){return new Gn(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===i&&(this.__values__=pa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},jn.prototype.plant=function(e){for(var t,n=this;n instanceof Hn;){var r=$o(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},jn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:fs,args:[ts],thisArg:i}),new Gn(t,this.__chain__)}return this.thru(ts)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,Qe&&(jn.prototype[Qe]=function(){return this}),jn}();gt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},2559:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(1882);const i=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var s=e[i],a=t(s);if(null!=a&&(void 0===l?a==a&&!(0,r.A)(a):n(a,l)))var l=a,c=s}return c}},2568:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(4288),i=n(8446);const o=function(e,t){var n=-1,o=(0,i.A)(e)?Array(e.length):[];return(0,r.A)(e,function(e,r,i){o[++n]=t(e,r,i)}),o}},2607:(e,t,n)=>{"use strict";function r(e){return e.charCodeAt(0)}function i(e,t){Array.isArray(e)?e.forEach(function(e){t.push(e)}):t.push(e)}function o(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t];e[t]=!0}function s(e){if(void 0===e)throw Error("Internal Error - Should never get here!");return!0}function a(){throw Error("Internal Error - Should never get here!")}function l(e){return"Character"===e.type}n.d(t,{z:()=>m,H:()=>g});const c=[];for(let e=r("0");e<=r("9");e++)c.push(e);const u=[r("_")].concat(c);for(let e=r("a");e<=r("z");e++)u.push(e);for(let e=r("A");e<=r("Z");e++)u.push(e);const h=[r(" "),r("\f"),r("\n"),r("\r"),r("\t"),r("\v"),r("\t"),r(" "),r(" "),r(" "),r(" "),r(" "),r(" "),r(" "),r(" "),r(" "),r(" "),r(" "),r(" "),r(" "),r("\u2028"),r("\u2029"),r(" "),r(" "),r("　"),r("\ufeff")],d=/[0-9a-fA-F]/,p=/[0-9]/,f=/[1-9]/;class g{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const t=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":o(n,"global");break;case"i":o(n,"ignoreCase");break;case"m":o(n,"multiLine");break;case"u":o(n,"unicode");break;case"y":o(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:t,loc:this.loc(0)}}disjunction(){const e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){const e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":let t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}s(t);const n=this.disjunction();return this.consumeChar(")"),{type:t,value:n,loc:this.loc(e)}}return a()}quantifier(e=!1){let t;const n=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":const n=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:n,atMost:n};break;case",":let e;this.isDigit()?(e=this.integerIncludingZero(),t={atLeast:n,atMost:e}):t={atLeast:n,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;s(t)}if(!0!==e||void 0!==t)return s(t)?("?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(n),t):void 0}atom(){let e;const t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}return void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),s(e)?(e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):a()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[r("\n"),r("\r"),r("\u2028"),r("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=c;break;case"D":e=c,t=!0;break;case"s":e=h;break;case"S":e=h,t=!0;break;case"w":e=u;break;case"W":e=u,t=!0}return s(e)?{type:"Set",value:e,complement:t}:a()}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=r("\f");break;case"n":e=r("\n");break;case"r":e=r("\r");break;case"t":e=r("\t");break;case"v":e=r("\v")}return s(e)?{type:"Character",value:e}:a()}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:r("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:r(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:r(this.popChar())}}}characterClass(){const e=[];let t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){const t=this.classAtom();t.type;if(l(t)&&this.isRangeDash()){this.consumeChar("-");const n=this.classAtom();n.type;if(l(n)){if(n.value<t.value)throw Error("Range out of order in character class");e.push({from:t.value,to:n.value})}else i(t.value,e),e.push(r("-")),i(n.value,e)}else i(t.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:r("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;if(this.consumeChar("("),"?"===this.peekChar(0))this.consumeChar("?"),this.consumeChar(":"),e=!1;else this.groupIdx++;const t=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:e,value:t};return e&&(n.idx=this.groupIdx),n}positiveInteger(){let e=this.popChar();if(!1===f.test(e))throw Error("Expecting a positive integer");for(;p.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(!1===p.test(e))throw Error("Expecting an integer");for(;p.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:r(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return p.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){const e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(e){return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let n=0;n<e;n++){const e=this.popChar();if(!1===d.test(e))throw Error("Expecting a HexDecimal digits");t+=e}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class m{visitChildren(e){for(const t in e){const n=e[t];e.hasOwnProperty(t)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach(e=>{this.visit(e)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}},2614:(e,t)=>{"use strict";t.__esModule=!0,t.wrapHelper=function(e,t){if("function"!=typeof e)return e;return function(){return arguments[arguments.length-1]=t(arguments[arguments.length-1]),e.apply(this,arguments)}}},2634:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}},2641:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},2676:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const r=n(9590);var i;!function(e){const t={dispose(){}};e.None=function(){return t}}(i||(t.Event=i={}));class o{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(e){(0,r.default)().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class s{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new o),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),r.dispose=s._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=s,s._noop=function(){}},2789:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return function(t){return e(t)}}},2806:(e,t,n)=>{"use strict";n.d(t,{Ao:()=>d,Nt:()=>h,PC:()=>p,TH:()=>i,Yv:()=>u,lU:()=>l});var r=n(2607);const i=/\r?\n/gm,o=new r.H;class s extends r.z{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){const t=String.fromCharCode(e.value);if(this.multiline||"\n"!==t||(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const e=h(t);this.endRegexpStack.push(e),this.isStarting&&(this.startRegexp+=e)}}visitSet(e){if(!this.multiline){const t=this.regex.substring(e.loc.begin,e.loc.end),n=new RegExp(t);this.multiline=Boolean("\n".match(n))}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const t=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(t),this.isStarting&&(this.startRegexp+=t)}}visitChildren(e){if("Group"===e.type){if(e.quantifier)return}super.visitChildren(e)}}const a=new s;function l(e){try{return"string"==typeof e&&(e=new RegExp(e)),e=e.toString(),a.reset(e),a.visit(o.pattern(e)),a.multiline}catch(e){return!1}}const c="\f\n\r\t\v              \u2028\u2029  　\ufeff".split("");function u(e){const t="string"==typeof e?new RegExp(e):e;return c.some(e=>t.test(e))}function h(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function d(e){return Array.prototype.map.call(e,e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:h(e)).join("")}function p(e,t){const n=function(e){"string"==typeof e&&(e=new RegExp(e));const t=e,n=e.source;let r=0;function i(){let e,o="";function s(e){o+=n.substr(r,e),r+=e}function a(e){o+="(?:"+n.substr(r,e)+"|$)",r+=e}for(;r<n.length;)switch(n[r]){case"\\":switch(n[r+1]){case"c":a(3);break;case"x":a(4);break;case"u":t.unicode?"{"===n[r+2]?a(n.indexOf("}",r)-r+1):a(6):a(2);break;case"p":case"P":t.unicode?a(n.indexOf("}",r)-r+1):a(2);break;case"k":a(n.indexOf(">",r)-r+1);break;default:a(2)}break;case"[":e=/\[(?:\\.|.)*?\]/g,e.lastIndex=r,e=e.exec(n)||[],a(e[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":s(1);break;case"{":e=/\{\d+,?\d*\}/g,e.lastIndex=r,e=e.exec(n),e?s(e[0].length):a(1);break;case"(":if("?"===n[r+1])switch(n[r+2]){case":":o+="(?:",r+=3,o+=i()+"|$)";break;case"=":o+="(?=",r+=3,o+=i()+")";break;case"!":e=r,r+=3,i(),o+=n.substr(e,r-e);break;case"<":switch(n[r+3]){case"=":case"!":e=r,r+=4,i(),o+=n.substr(e,r-e);break;default:s(n.indexOf(">",r)-r+1),o+=i()+"|$)"}}else s(1),o+=i()+"|$)";break;case")":return++r,o;default:a(1)}return o}return new RegExp(i(),e.flags)}(e),r=t.match(n);return!!r&&r[0].length>0}},2849:(e,t)=>{"use strict";t.__esModule=!0,t.extend=s,t.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!i.test(e))return e;return e.replace(r,o)},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.createFrame=function(e){var t=s({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,i=/[&<>"'`=]/;function o(e){return n[e]}function s(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var a=Object.prototype.toString;t.toString=a;var l=function(e){return"function"==typeof e};l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)}),t.isFunction=l;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===a.call(e)};t.isArray=c},2851:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2528),i=n(6984),o=Object.prototype.hasOwnProperty;const s=function(e,t,n){var s=e[t];o.call(e,t)&&(0,i.A)(s,n)&&(void 0!==n||t in e)||(0,r.A)(e,t,n)}},2852:(e,t,n)=>{"use strict";n.d(t,{f:()=>c});var r=n(1272),i=n(9264),o=n(9364),s=n(4298),a=class extends r.mR{static{(0,r.K2)(this,"RadarTokenBuilder")}constructor(){super(["radar-beta"])}},l={parser:{TokenBuilder:(0,r.K2)(()=>new a,"TokenBuilder"),ValueConverter:(0,r.K2)(()=>new r.Tm,"ValueConverter")}};function c(e=s.D){const t=(0,o.WQ)((0,i.u)(e),r.sr),n=(0,o.WQ)((0,i.t)({shared:t}),r.YP,l);return t.ServiceRegistry.register(n),{shared:t,Radar:n}}(0,r.K2)(c,"createRadarServices")},2866:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(5572);const i=function(e,t){return(0,r.A)(t,function(t){return e[t]})};var o=n(7422);const s=function(e){return null==e?[]:i(e,(0,o.A)(e))}},2871:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.HandlebarsEnvironment=h;var i=n(2849),o=r(n(3769)),s=n(2277),a=n(5940),l=r(n(566)),c=n(3865);t.VERSION="4.7.8";t.COMPILER_REVISION=8;t.LAST_COMPATIBLE_COMPILER_REVISION=7;t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var u="[object Object]";function h(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},s.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}h.prototype={constructor:h,logger:l.default,log:l.default.log,registerHelper:function(e,t){if(i.toString.call(e)===u){if(t)throw new o.default("Arg not supported with multiple helpers");i.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(i.toString.call(e)===u)i.extend(this.partials,e);else{if(void 0===t)throw new o.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(i.toString.call(e)===u){if(t)throw new o.default("Arg not supported with multiple decorators");i.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var d=l.default.log;t.log=d,t.createFrame=i.createFrame,t.logger=l.default},3009:(e,t,n)=>{"use strict";n.d(t,{S:()=>u});var r=n(1272),i=n(9264),o=n(9364),s=n(4298),a=class extends r.mR{static{(0,r.K2)(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},l=class extends r.dg{static{(0,r.K2)(this,"ArchitectureValueConverter")}runCustomConverter(e,t,n){return"ARCH_ICON"===e.name?t.replace(/[()]/g,"").trim():"ARCH_TEXT_ICON"===e.name?t.replace(/["()]/g,""):"ARCH_TITLE"===e.name?t.replace(/[[\]]/g,"").trim():void 0}},c={parser:{TokenBuilder:(0,r.K2)(()=>new a,"TokenBuilder"),ValueConverter:(0,r.K2)(()=>new l,"ValueConverter")}};function u(e=s.D){const t=(0,o.WQ)((0,i.u)(e),r.sr),n=(0,o.WQ)((0,i.t)({shared:t}),r.jE,c);return t.ServiceRegistry.register(n),{shared:t,Architecture:n}}(0,r.K2)(u,"createArchitectureServices")},3068:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(4326),i=n(6984),o=n(6832),s=n(9999),a=Object.prototype,l=a.hasOwnProperty;const c=(0,r.A)(function(e,t){e=Object(e);var n=-1,r=t.length,c=r>2?t[2]:void 0;for(c&&(0,o.A)(t[0],t[1],c)&&(r=1);++n<r;)for(var u=t[n],h=(0,s.A)(u),d=-1,p=h.length;++d<p;){var f=h[d],g=e[f];(void 0===g||(0,i.A)(g,a[f])&&!l.call(e,f))&&(e[f]=u[f])}return e})},3098:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return null!=e&&"object"==typeof e}},3122:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i,Z:()=>o});var r=n(6309);const i={};for(let e=0;e<=255;e++)i[e]=r.A.unit.dec2hex(e);const o={ALL:0,RGB:1,HSL:2}},3130:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});const r=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n};var i=n(4288),o=n(6307);const s=function(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n};var a=n(2049);const l=function(e,t,n){var l=(0,a.A)(e)?r:s,c=arguments.length<3;return l(e,(0,o.A)(t,4),n,c,i.A)}},3143:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=26)}([function(e,t,n){"use strict";function r(){}r.QUALITY=1,r.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,r.DEFAULT_INCREMENTAL=!1,r.DEFAULT_ANIMATION_ON_LAYOUT=!0,r.DEFAULT_ANIMATION_DURING_LAYOUT=!1,r.DEFAULT_ANIMATION_PERIOD=50,r.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,r.DEFAULT_GRAPH_MARGIN=15,r.NODE_DIMENSIONS_INCLUDE_LABELS=!1,r.SIMPLE_NODE_SIZE=40,r.SIMPLE_NODE_HALF_SIZE=r.SIMPLE_NODE_SIZE/2,r.EMPTY_COMPOUND_NODE_SIZE=40,r.MIN_EDGE_LENGTH=1,r.WORLD_BOUNDARY=1e6,r.INITIAL_WORLD_BOUNDARY=r.WORLD_BOUNDARY/1e3,r.WORLD_CENTER_X=1200,r.WORLD_CENTER_Y=900,e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(8),o=n(9);function s(e,t,n){r.call(this,n),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=n,this.bendpoints=[],this.source=e,this.target=t}for(var a in s.prototype=Object.create(r.prototype),r)s[a]=r[a];s.prototype.getSource=function(){return this.source},s.prototype.getTarget=function(){return this.target},s.prototype.isInterGraph=function(){return this.isInterGraph},s.prototype.getLength=function(){return this.length},s.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},s.prototype.getBendpoints=function(){return this.bendpoints},s.prototype.getLca=function(){return this.lca},s.prototype.getSourceInLca=function(){return this.sourceInLca},s.prototype.getTargetInLca=function(){return this.targetInLca},s.prototype.getOtherEnd=function(e){if(this.source===e)return this.target;if(this.target===e)return this.source;throw"Node is not incident with this edge"},s.prototype.getOtherEndInGraph=function(e,t){for(var n=this.getOtherEnd(e),r=t.getGraphManager().getRoot();;){if(n.getOwner()==t)return n;if(n.getOwner()==r)break;n=n.getOwner().getParent()}return null},s.prototype.updateLength=function(){var e=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),e),this.isOverlapingSourceAndTarget||(this.lengthX=e[0]-e[2],this.lengthY=e[1]-e[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},s.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=s},function(e,t,n){"use strict";e.exports=function(e){this.vGraphObject=e}},function(e,t,n){"use strict";var r=n(2),i=n(10),o=n(13),s=n(0),a=n(16),l=n(4);function c(e,t,n,s){null==n&&null==s&&(s=t),r.call(this,s),null!=e.graphManager&&(e=e.graphManager),this.estimatedSize=i.MIN_VALUE,this.inclusionTreeDepth=i.MAX_VALUE,this.vGraphObject=s,this.edges=[],this.graphManager=e,this.rect=null!=n&&null!=t?new o(t.x,t.y,n.width,n.height):new o}for(var u in c.prototype=Object.create(r.prototype),r)c[u]=r[u];c.prototype.getEdges=function(){return this.edges},c.prototype.getChild=function(){return this.child},c.prototype.getOwner=function(){return this.owner},c.prototype.getWidth=function(){return this.rect.width},c.prototype.setWidth=function(e){this.rect.width=e},c.prototype.getHeight=function(){return this.rect.height},c.prototype.setHeight=function(e){this.rect.height=e},c.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},c.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},c.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},c.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},c.prototype.getRect=function(){return this.rect},c.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},c.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},c.prototype.setRect=function(e,t){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=t.width,this.rect.height=t.height},c.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2,this.rect.y=t-this.rect.height/2},c.prototype.setLocation=function(e,t){this.rect.x=e,this.rect.y=t},c.prototype.moveBy=function(e,t){this.rect.x+=e,this.rect.y+=t},c.prototype.getEdgeListToNode=function(e){var t=[],n=this;return n.edges.forEach(function(r){if(r.target==e){if(r.source!=n)throw"Incorrect edge source!";t.push(r)}}),t},c.prototype.getEdgesBetween=function(e){var t=[],n=this;return n.edges.forEach(function(r){if(r.source!=n&&r.target!=n)throw"Incorrect edge source and/or target";r.target!=e&&r.source!=e||t.push(r)}),t},c.prototype.getNeighborsList=function(){var e=new Set,t=this;return t.edges.forEach(function(n){if(n.source==t)e.add(n.target);else{if(n.target!=t)throw"Incorrect incidency!";e.add(n.source)}}),e},c.prototype.withChildren=function(){var e=new Set;if(e.add(this),null!=this.child)for(var t=this.child.getNodes(),n=0;n<t.length;n++)t[n].withChildren().forEach(function(t){e.add(t)});return e},c.prototype.getNoOfChildren=function(){var e=0;if(null==this.child)e=1;else for(var t=this.child.getNodes(),n=0;n<t.length;n++)e+=t[n].getNoOfChildren();return 0==e&&(e=1),e},c.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},c.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},c.prototype.scatter=function(){var e,t,n=-s.INITIAL_WORLD_BOUNDARY,r=s.INITIAL_WORLD_BOUNDARY;e=s.WORLD_CENTER_X+a.nextDouble()*(r-n)+n;var i=-s.INITIAL_WORLD_BOUNDARY,o=s.INITIAL_WORLD_BOUNDARY;t=s.WORLD_CENTER_Y+a.nextDouble()*(o-i)+i,this.rect.x=e,this.rect.y=t},c.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var e=this.getChild();if(e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),s.NODE_DIMENSIONS_INCLUDE_LABELS){var t=e.getRight()-e.getLeft(),n=e.getBottom()-e.getTop();this.labelWidth>t&&(this.rect.x-=(this.labelWidth-t)/2,this.setWidth(this.labelWidth)),this.labelHeight>n&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-n)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-n),this.setHeight(this.labelHeight))}}},c.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},c.prototype.transform=function(e){var t=this.rect.x;t>s.WORLD_BOUNDARY?t=s.WORLD_BOUNDARY:t<-s.WORLD_BOUNDARY&&(t=-s.WORLD_BOUNDARY);var n=this.rect.y;n>s.WORLD_BOUNDARY?n=s.WORLD_BOUNDARY:n<-s.WORLD_BOUNDARY&&(n=-s.WORLD_BOUNDARY);var r=new l(t,n),i=e.inverseTransformPoint(r);this.setLocation(i.x,i.y)},c.prototype.getLeft=function(){return this.rect.x},c.prototype.getRight=function(){return this.rect.x+this.rect.width},c.prototype.getTop=function(){return this.rect.y},c.prototype.getBottom=function(){return this.rect.y+this.rect.height},c.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},e.exports=c},function(e,t,n){"use strict";function r(e,t){null==e&&null==t?(this.x=0,this.y=0):(this.x=e,this.y=t)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.setX=function(e){this.x=e},r.prototype.setY=function(e){this.y=e},r.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)},r.prototype.getCopy=function(){return new r(this.x,this.y)},r.prototype.translate=function(e){return this.x+=e.width,this.y+=e.height,this},e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(10),o=n(0),s=n(6),a=n(3),l=n(1),c=n(13),u=n(12),h=n(11);function d(e,t,n){r.call(this,n),this.estimatedSize=i.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=e,null!=t&&t instanceof s?this.graphManager=t:null!=t&&t instanceof Layout&&(this.graphManager=t.graphManager)}for(var p in d.prototype=Object.create(r.prototype),r)d[p]=r[p];d.prototype.getNodes=function(){return this.nodes},d.prototype.getEdges=function(){return this.edges},d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getParent=function(){return this.parent},d.prototype.getLeft=function(){return this.left},d.prototype.getRight=function(){return this.right},d.prototype.getTop=function(){return this.top},d.prototype.getBottom=function(){return this.bottom},d.prototype.isConnected=function(){return this.isConnected},d.prototype.add=function(e,t,n){if(null==t&&null==n){var r=e;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(r)>-1)throw"Node already in graph!";return r.owner=this,this.getNodes().push(r),r}var i=e;if(!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(n)>-1))throw"Source or target not in graph!";if(t.owner!=n.owner||t.owner!=this)throw"Both owners must be this graph!";return t.owner!=n.owner?null:(i.source=t,i.target=n,i.isInterGraph=!1,this.getEdges().push(i),t.edges.push(i),n!=t&&n.edges.push(i),i)},d.prototype.remove=function(e){var t=e;if(e instanceof a){if(null==t)throw"Node is null!";if(null==t.owner||t.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var n=t.edges.slice(),r=n.length,i=0;i<r;i++)(o=n[i]).isInterGraph?this.graphManager.remove(o):o.source.owner.remove(o);if(-1==(s=this.nodes.indexOf(t)))throw"Node not in owner node list!";this.nodes.splice(s,1)}else if(e instanceof l){var o;if(null==(o=e))throw"Edge is null!";if(null==o.source||null==o.target)throw"Source and/or target is null!";if(null==o.source.owner||null==o.target.owner||o.source.owner!=this||o.target.owner!=this)throw"Source and/or target owner is invalid!";var s,c=o.source.edges.indexOf(o),u=o.target.edges.indexOf(o);if(!(c>-1&&u>-1))throw"Source and/or target doesn't know this edge!";if(o.source.edges.splice(c,1),o.target!=o.source&&o.target.edges.splice(u,1),-1==(s=o.source.owner.getEdges().indexOf(o)))throw"Not in owner's edge list!";o.source.owner.getEdges().splice(s,1)}},d.prototype.updateLeftTop=function(){for(var e,t,n,r=i.MAX_VALUE,o=i.MAX_VALUE,s=this.getNodes(),a=s.length,l=0;l<a;l++){var c=s[l];r>(e=c.getTop())&&(r=e),o>(t=c.getLeft())&&(o=t)}return r==i.MAX_VALUE?null:(n=null!=s[0].getParent().paddingLeft?s[0].getParent().paddingLeft:this.margin,this.left=o-n,this.top=r-n,new u(this.left,this.top))},d.prototype.updateBounds=function(e){for(var t,n,r,o,s,a=i.MAX_VALUE,l=-i.MAX_VALUE,u=i.MAX_VALUE,h=-i.MAX_VALUE,d=this.nodes,p=d.length,f=0;f<p;f++){var g=d[f];e&&null!=g.child&&g.updateBounds(),a>(t=g.getLeft())&&(a=t),l<(n=g.getRight())&&(l=n),u>(r=g.getTop())&&(u=r),h<(o=g.getBottom())&&(h=o)}var m=new c(a,u,l-a,h-u);a==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),s=null!=d[0].getParent().paddingLeft?d[0].getParent().paddingLeft:this.margin,this.left=m.x-s,this.right=m.x+m.width+s,this.top=m.y-s,this.bottom=m.y+m.height+s},d.calculateBounds=function(e){for(var t,n,r,o,s=i.MAX_VALUE,a=-i.MAX_VALUE,l=i.MAX_VALUE,u=-i.MAX_VALUE,h=e.length,d=0;d<h;d++){var p=e[d];s>(t=p.getLeft())&&(s=t),a<(n=p.getRight())&&(a=n),l>(r=p.getTop())&&(l=r),u<(o=p.getBottom())&&(u=o)}return new c(s,l,a-s,u-l)},d.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){for(var e=0,t=this.nodes,n=t.length,r=0;r<n;r++)e+=t[r].calcEstimatedSize();return this.estimatedSize=0==e?o.EMPTY_COMPOUND_NODE_SIZE:e/Math.sqrt(this.nodes.length),this.estimatedSize},d.prototype.updateConnected=function(){var e=this;if(0!=this.nodes.length){var t,n,r=new h,i=new Set,o=this.nodes[0];for(o.withChildren().forEach(function(e){r.push(e),i.add(e)});0!==r.length;)for(var s=(t=(o=r.shift()).getEdges()).length,a=0;a<s;a++)null==(n=t[a].getOtherEndInGraph(o,this))||i.has(n)||n.withChildren().forEach(function(e){r.push(e),i.add(e)});if(this.isConnected=!1,i.size>=this.nodes.length){var l=0;i.forEach(function(t){t.owner==e&&l++}),l==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},e.exports=d},function(e,t,n){"use strict";var r,i=n(1);function o(e){r=n(5),this.layout=e,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var e=this.layout.newGraph(),t=this.layout.newNode(null),n=this.add(e,t);return this.setRootGraph(n),this.rootGraph},o.prototype.add=function(e,t,n,r,i){if(null==n&&null==r&&null==i){if(null==e)throw"Graph is null!";if(null==t)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),null!=e.parent)throw"Already has a parent!";if(null!=t.child)throw"Already has a child!";return e.parent=t,t.child=e,e}i=n,n=e;var o=(r=t).getOwner(),s=i.getOwner();if(null==o||o.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==s||s.getGraphManager()!=this)throw"Target not in this graph mgr!";if(o==s)return n.isInterGraph=!1,o.add(n,r,i);if(n.isInterGraph=!0,n.source=r,n.target=i,this.edges.indexOf(n)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(n),null==n.source||null==n.target)throw"Edge source and/or target is null!";if(-1!=n.source.edges.indexOf(n)||-1!=n.target.edges.indexOf(n))throw"Edge already in source and/or target incidency list!";return n.source.edges.push(n),n.target.edges.push(n),n},o.prototype.remove=function(e){if(e instanceof r){var t=e;if(t.getGraphManager()!=this)throw"Graph not in this graph mgr";if(t!=this.rootGraph&&(null==t.parent||t.parent.graphManager!=this))throw"Invalid parent node!";for(var n,o=[],s=(o=o.concat(t.getEdges())).length,a=0;a<s;a++)n=o[a],t.remove(n);var l,c=[];for(s=(c=c.concat(t.getNodes())).length,a=0;a<s;a++)l=c[a],t.remove(l);t==this.rootGraph&&this.setRootGraph(null);var u=this.graphs.indexOf(t);this.graphs.splice(u,1),t.parent=null}else if(e instanceof i){if(null==(n=e))throw"Edge is null!";if(!n.isInterGraph)throw"Not an inter-graph edge!";if(null==n.source||null==n.target)throw"Source and/or target is null!";if(-1==n.source.edges.indexOf(n)||-1==n.target.edges.indexOf(n))throw"Source and/or target doesn't know this edge!";if(u=n.source.edges.indexOf(n),n.source.edges.splice(u,1),u=n.target.edges.indexOf(n),n.target.edges.splice(u,1),null==n.source.owner||null==n.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==n.source.owner.getGraphManager().edges.indexOf(n))throw"Not in owner graph manager's edge list!";u=n.source.owner.getGraphManager().edges.indexOf(n),n.source.owner.getGraphManager().edges.splice(u,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(null==this.allNodes){for(var e=[],t=this.getGraphs(),n=t.length,r=0;r<n;r++)e=e.concat(t[r].getNodes());this.allNodes=e}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(null==this.allEdges){for(var e=[],t=this.getGraphs(),n=(t.length,0);n<t.length;n++)e=e.concat(t[n].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(e){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=e},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,null==e.parent&&(e.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(e,t){if(null==e||null==t)throw"assert failed";if(e==t)return!0;for(var n,r=e.getOwner();null!=(n=r.getParent());){if(n==t)return!0;if(null==(r=n.getOwner()))break}for(r=t.getOwner();null!=(n=r.getParent());){if(n==e)return!0;if(null==(r=n.getOwner()))break}return!1},o.prototype.calcLowestCommonAncestors=function(){for(var e,t,n,r,i,o=this.getAllEdges(),s=o.length,a=0;a<s;a++)if(t=(e=o[a]).source,n=e.target,e.lca=null,e.sourceInLca=t,e.targetInLca=n,t!=n){for(r=t.getOwner();null==e.lca;){for(e.targetInLca=n,i=n.getOwner();null==e.lca;){if(i==r){e.lca=i;break}if(i==this.rootGraph)break;if(null!=e.lca)throw"assert failed";e.targetInLca=i.getParent(),i=e.targetInLca.getOwner()}if(r==this.rootGraph)break;null==e.lca&&(e.sourceInLca=r.getParent(),r=e.sourceInLca.getOwner())}if(null==e.lca)throw"assert failed"}else e.lca=t.getOwner()},o.prototype.calcLowestCommonAncestor=function(e,t){if(e==t)return e.getOwner();for(var n=e.getOwner();null!=n;){for(var r=t.getOwner();null!=r;){if(r==n)return r;r=r.getParent().getOwner()}n=n.getParent().getOwner()}return n},o.prototype.calcInclusionTreeDepths=function(e,t){var n;null==e&&null==t&&(e=this.rootGraph,t=1);for(var r=e.getNodes(),i=r.length,o=0;o<i;o++)(n=r[o]).inclusionTreeDepth=t,null!=n.child&&this.calcInclusionTreeDepths(n.child,t+1)},o.prototype.includesInvalidEdge=function(){for(var e,t=this.edges.length,n=0;n<t;n++)if(e=this.edges[n],this.isOneAncestorOfOther(e.source,e.target))return!0;return!1},e.exports=o},function(e,t,n){"use strict";var r=n(0);function i(){}for(var o in r)i[o]=r[o];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,i.MAX_NODE_DISPLACEMENT=3*i.MAX_NODE_DISPLACEMENT_INCREMENTAL,i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=i},function(e,t,n){"use strict";var r=n(12);function i(){}i.calcSeparationAmount=function(e,t,n,r){if(!e.intersects(t))throw"assert failed";var i=new Array(2);this.decideDirectionsForOverlappingNodes(e,t,i),n[0]=Math.min(e.getRight(),t.getRight())-Math.max(e.x,t.x),n[1]=Math.min(e.getBottom(),t.getBottom())-Math.max(e.y,t.y),e.getX()<=t.getX()&&e.getRight()>=t.getRight()?n[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight()):t.getX()<=e.getX()&&t.getRight()>=e.getRight()&&(n[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight())),e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()?n[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()):t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()&&(n[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()));var o=Math.abs((t.getCenterY()-e.getCenterY())/(t.getCenterX()-e.getCenterX()));t.getCenterY()===e.getCenterY()&&t.getCenterX()===e.getCenterX()&&(o=1);var s=o*n[0],a=n[1]/o;n[0]<a?a=n[0]:s=n[1],n[0]=-1*i[0]*(a/2+r),n[1]=-1*i[1]*(s/2+r)},i.decideDirectionsForOverlappingNodes=function(e,t,n){e.getCenterX()<t.getCenterX()?n[0]=-1:n[0]=1,e.getCenterY()<t.getCenterY()?n[1]=-1:n[1]=1},i.getIntersection2=function(e,t,n){var r=e.getCenterX(),i=e.getCenterY(),o=t.getCenterX(),s=t.getCenterY();if(e.intersects(t))return n[0]=r,n[1]=i,n[2]=o,n[3]=s,!0;var a=e.getX(),l=e.getY(),c=e.getRight(),u=e.getX(),h=e.getBottom(),d=e.getRight(),p=e.getWidthHalf(),f=e.getHeightHalf(),g=t.getX(),m=t.getY(),v=t.getRight(),y=t.getX(),b=t.getBottom(),w=t.getRight(),x=t.getWidthHalf(),_=t.getHeightHalf(),A=!1,T=!1;if(r===o){if(i>s)return n[0]=r,n[1]=l,n[2]=o,n[3]=b,!1;if(i<s)return n[0]=r,n[1]=h,n[2]=o,n[3]=m,!1}else if(i===s){if(r>o)return n[0]=a,n[1]=i,n[2]=v,n[3]=s,!1;if(r<o)return n[0]=c,n[1]=i,n[2]=g,n[3]=s,!1}else{var E=e.height/e.width,k=t.height/t.width,S=(s-i)/(o-r),C=void 0,N=void 0,M=void 0,O=void 0,R=void 0,I=void 0;if(-E===S?r>o?(n[0]=u,n[1]=h,A=!0):(n[0]=c,n[1]=l,A=!0):E===S&&(r>o?(n[0]=a,n[1]=l,A=!0):(n[0]=d,n[1]=h,A=!0)),-k===S?o>r?(n[2]=y,n[3]=b,T=!0):(n[2]=v,n[3]=m,T=!0):k===S&&(o>r?(n[2]=g,n[3]=m,T=!0):(n[2]=w,n[3]=b,T=!0)),A&&T)return!1;if(r>o?i>s?(C=this.getCardinalDirection(E,S,4),N=this.getCardinalDirection(k,S,2)):(C=this.getCardinalDirection(-E,S,3),N=this.getCardinalDirection(-k,S,1)):i>s?(C=this.getCardinalDirection(-E,S,1),N=this.getCardinalDirection(-k,S,3)):(C=this.getCardinalDirection(E,S,2),N=this.getCardinalDirection(k,S,4)),!A)switch(C){case 1:O=l,M=r+-f/S,n[0]=M,n[1]=O;break;case 2:M=d,O=i+p*S,n[0]=M,n[1]=O;break;case 3:O=h,M=r+f/S,n[0]=M,n[1]=O;break;case 4:M=u,O=i+-p*S,n[0]=M,n[1]=O}if(!T)switch(N){case 1:I=m,R=o+-_/S,n[2]=R,n[3]=I;break;case 2:R=w,I=s+x*S,n[2]=R,n[3]=I;break;case 3:I=b,R=o+_/S,n[2]=R,n[3]=I;break;case 4:R=y,I=s+-x*S,n[2]=R,n[3]=I}}return!1},i.getCardinalDirection=function(e,t,n){return e>t?n:1+n%4},i.getIntersection=function(e,t,n,i){if(null==i)return this.getIntersection2(e,t,n);var o,s,a,l,c,u,h,d=e.x,p=e.y,f=t.x,g=t.y,m=n.x,v=n.y,y=i.x,b=i.y;return 0===(h=(o=g-p)*(l=m-y)-(s=b-v)*(a=d-f))?null:new r((a*(u=y*v-m*b)-l*(c=f*p-d*g))/h,(s*c-o*u)/h)},i.angleOfVector=function(e,t,n,r){var i=void 0;return e!==n?(i=Math.atan((r-t)/(n-e)),n<e?i+=Math.PI:r<t&&(i+=this.TWO_PI)):i=r<t?this.ONE_AND_HALF_PI:this.HALF_PI,i},i.doIntersect=function(e,t,n,r){var i=e.x,o=e.y,s=t.x,a=t.y,l=n.x,c=n.y,u=r.x,h=r.y,d=(s-i)*(h-c)-(u-l)*(a-o);if(0===d)return!1;var p=((h-c)*(u-i)+(l-u)*(h-o))/d,f=((o-a)*(u-i)+(s-i)*(h-o))/d;return 0<p&&p<1&&0<f&&f<1},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,e.exports=i},function(e,t,n){"use strict";function r(){}r.sign=function(e){return e>0?1:e<0?-1:0},r.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)},r.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)},e.exports=r},function(e,t,n){"use strict";function r(){}r.MAX_VALUE=2147483647,r.MIN_VALUE=-2147483648,e.exports=r},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return{value:e,next:null,prev:null}},o=function(e,t,n,r){return null!==e?e.next=t:r.head=t,null!==n?n.prev=t:r.tail=t,t.prev=e,t.next=n,r.length++,t},s=function(e,t){var n=e.prev,r=e.next;return null!==n?n.next=r:t.head=r,null!==r?r.prev=n:t.tail=n,e.prev=e.next=null,t.length--,e},a=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.length=0,this.head=null,this.tail=null,null!=t&&t.forEach(function(e){return n.push(e)})}return r(e,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(e,t){return o(t.prev,i(e),t,this)}},{key:"insertAfter",value:function(e,t){return o(t,i(e),t.next,this)}},{key:"insertNodeBefore",value:function(e,t){return o(t.prev,e,t,this)}},{key:"insertNodeAfter",value:function(e,t){return o(t,e,t.next,this)}},{key:"push",value:function(e){return o(this.tail,i(e),null,this)}},{key:"unshift",value:function(e){return o(null,i(e),this.head,this)}},{key:"remove",value:function(e){return s(e,this)}},{key:"pop",value:function(){return s(this.tail,this).value}},{key:"popNode",value:function(){return s(this.tail,this)}},{key:"shift",value:function(){return s(this.head,this).value}},{key:"shiftNode",value:function(){return s(this.head,this)}},{key:"get_object_at",value:function(e){if(e<=this.length()){for(var t=1,n=this.head;t<e;)n=n.next,t++;return n.value}}},{key:"set_object_at",value:function(e,t){if(e<=this.length()){for(var n=1,r=this.head;n<e;)r=r.next,n++;r.value=t}}}]),e}();e.exports=a},function(e,t,n){"use strict";function r(e,t,n){this.x=null,this.y=null,null==e&&null==t&&null==n?(this.x=0,this.y=0):"number"==typeof e&&"number"==typeof t&&null==n?(this.x=e,this.y=t):"Point"==e.constructor.name&&null==t&&null==n&&(n=e,this.x=n.x,this.y=n.y)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.getLocation=function(){return new r(this.x,this.y)},r.prototype.setLocation=function(e,t,n){"Point"==e.constructor.name&&null==t&&null==n?(n=e,this.setLocation(n.x,n.y)):"number"==typeof e&&"number"==typeof t&&null==n&&(parseInt(e)==e&&parseInt(t)==t?this.move(e,t):(this.x=Math.floor(e+.5),this.y=Math.floor(t+.5)))},r.prototype.move=function(e,t){this.x=e,this.y=t},r.prototype.translate=function(e,t){this.x+=e,this.y+=t},r.prototype.equals=function(e){if("Point"==e.constructor.name){var t=e;return this.x==t.x&&this.y==t.y}return this==e},r.prototype.toString=function(){return(new r).constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){this.x=0,this.y=0,this.width=0,this.height=0,null!=e&&null!=t&&null!=n&&null!=r&&(this.x=e,this.y=t,this.width=n,this.height=r)}r.prototype.getX=function(){return this.x},r.prototype.setX=function(e){this.x=e},r.prototype.getY=function(){return this.y},r.prototype.setY=function(e){this.y=e},r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){this.width=e},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(e){this.height=e},r.prototype.getRight=function(){return this.x+this.width},r.prototype.getBottom=function(){return this.y+this.height},r.prototype.intersects=function(e){return!(this.getRight()<e.x||this.getBottom()<e.y||e.getRight()<this.x||e.getBottom()<this.y)},r.prototype.getCenterX=function(){return this.x+this.width/2},r.prototype.getMinX=function(){return this.getX()},r.prototype.getMaxX=function(){return this.getX()+this.width},r.prototype.getCenterY=function(){return this.y+this.height/2},r.prototype.getMinY=function(){return this.getY()},r.prototype.getMaxY=function(){return this.getY()+this.height},r.prototype.getWidthHalf=function(){return this.width/2},r.prototype.getHeightHalf=function(){return this.height/2},e.exports=r},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(){}i.lastID=0,i.createID=function(e){return i.isPrimitive(e)?e:(null!=e.uniqueID||(e.uniqueID=i.getString(),i.lastID++),e.uniqueID)},i.getString=function(e){return null==e&&(e=i.lastID),"Object#"+e},i.isPrimitive=function(e){var t=void 0===e?"undefined":r(e);return null==e||"object"!=t&&"function"!=t},e.exports=i},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(0),o=n(6),s=n(3),a=n(1),l=n(5),c=n(4),u=n(17),h=n(27);function d(e){h.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=e&&(this.isRemoteUse=e)}d.RANDOM_SEED=1,d.prototype=Object.create(h.prototype),d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},d.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},d.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},d.prototype.newGraphManager=function(){var e=new o(this);return this.graphManager=e,e},d.prototype.newGraph=function(e){return new l(null,this.graphManager,e)},d.prototype.newNode=function(e){return new s(this.graphManager,e)},d.prototype.newEdge=function(e){return new a(null,null,e)},d.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},d.prototype.runLayout=function(){var e;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),e=!this.checkLayoutSuccess()&&this.layout(),"during"!==i.ANIMATE&&(e&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,e)},d.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},d.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var e=this.graphManager.getAllEdges(),t=0;t<e.length;t++)e[t];var n=this.graphManager.getRoot().getNodes();for(t=0;t<n.length;t++)n[t];this.update(this.graphManager.getRoot())}},d.prototype.update=function(e){if(null==e)this.update2();else if(e instanceof s){var t=e;if(null!=t.getChild())for(var n=t.getChild().getNodes(),r=0;r<n.length;r++)update(n[r]);null!=t.vGraphObject&&t.vGraphObject.update(t)}else if(e instanceof a){var i=e;null!=i.vGraphObject&&i.vGraphObject.update(i)}else if(e instanceof l){var o=e;null!=o.vGraphObject&&o.vGraphObject.update(o)}},d.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},d.prototype.transform=function(e){if(null==e)this.transform(new c(0,0));else{var t=new u,n=this.graphManager.getRoot().updateLeftTop();if(null!=n){t.setWorldOrgX(e.x),t.setWorldOrgY(e.y),t.setDeviceOrgX(n.x),t.setDeviceOrgY(n.y);for(var r=this.getAllNodes(),i=0;i<r.length;i++)r[i].transform(t)}}},d.prototype.positionNodesRandomly=function(e){if(null==e)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var t,n,r=e.getNodes(),i=0;i<r.length;i++)null==(n=(t=r[i]).getChild())||0==n.getNodes().length?t.scatter():(this.positionNodesRandomly(n),t.updateBounds())},d.prototype.getFlatForest=function(){for(var e=[],t=!0,n=this.graphManager.getRoot().getNodes(),i=!0,o=0;o<n.length;o++)null!=n[o].getChild()&&(i=!1);if(!i)return e;var s=new Set,a=[],l=new Map,c=[];for(c=c.concat(n);c.length>0&&t;){for(a.push(c[0]);a.length>0&&t;){var u=a[0];a.splice(0,1),s.add(u);var h=u.getEdges();for(o=0;o<h.length;o++){var d=h[o].getOtherEnd(u);if(l.get(u)!=d){if(s.has(d)){t=!1;break}a.push(d),l.set(d,u)}}}if(t){var p=[].concat(r(s));for(e.push(p),o=0;o<p.length;o++){var f=p[o],g=c.indexOf(f);g>-1&&c.splice(g,1)}s=new Set,l=new Map}else e=[]}return e},d.prototype.createDummyNodesForBendpoints=function(e){for(var t=[],n=e.source,r=this.graphManager.calcLowestCommonAncestor(e.source,e.target),i=0;i<e.bendpoints.length;i++){var o=this.newNode(null);o.setRect(new Point(0,0),new Dimension(1,1)),r.add(o);var s=this.newEdge(null);this.graphManager.add(s,n,o),t.add(o),n=o}return s=this.newEdge(null),this.graphManager.add(s,n,e.target),this.edgeToDummyNodes.set(e,t),e.isInterGraph()?this.graphManager.remove(e):r.remove(e),t},d.prototype.createBendpointsFromDummyNodes=function(){var e=[];e=e.concat(this.graphManager.getAllEdges()),e=[].concat(r(this.edgeToDummyNodes.keys())).concat(e);for(var t=0;t<e.length;t++){var n=e[t];if(n.bendpoints.length>0){for(var i=this.edgeToDummyNodes.get(n),o=0;o<i.length;o++){var s=i[o],a=new c(s.getCenterX(),s.getCenterY()),l=n.bendpoints.get(o);l.x=a.x,l.y=a.y,s.getOwner().remove(s)}this.graphManager.add(n,n.source,n.target)}}},d.transform=function(e,t,n,r){if(null!=n&&null!=r){var i=t;return e<=50?i-=(t-t/n)/50*(50-e):i+=(t*r-t)/50*(e-50),i}var o,s;return e<=50?(o=9*t/500,s=t/10):(o=9*t/50,s=-8*t),o*e+s},d.findCenterOfTree=function(e){var t=[];t=t.concat(e);var n=[],r=new Map,i=!1,o=null;1!=t.length&&2!=t.length||(i=!0,o=t[0]);for(var s=0;s<t.length;s++){var a=(u=t[s]).getNeighborsList().size;r.set(u,u.getNeighborsList().size),1==a&&n.push(u)}var l=[];for(l=l.concat(n);!i;){var c=[];for(c=c.concat(l),l=[],s=0;s<t.length;s++){var u=t[s],h=t.indexOf(u);h>=0&&t.splice(h,1),u.getNeighborsList().forEach(function(e){if(n.indexOf(e)<0){var t=r.get(e)-1;1==t&&l.push(e),r.set(e,t)}})}n=n.concat(l),1!=t.length&&2!=t.length||(i=!0,o=t[0])}return o},d.prototype.setGraphManager=function(e){this.graphManager=e},e.exports=d},function(e,t,n){"use strict";function r(){}r.seed=1,r.x=0,r.nextDouble=function(){return r.x=1e4*Math.sin(r.seed++),r.x-Math.floor(r.x)},e.exports=r},function(e,t,n){"use strict";var r=n(4);function i(e,t){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(e){this.lworldExtX=e},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(e){this.lworldExtY=e},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},i.prototype.transformX=function(e){var t=0,n=this.lworldExtX;return 0!=n&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/n),t},i.prototype.transformY=function(e){var t=0,n=this.lworldExtY;return 0!=n&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/n),t},i.prototype.inverseTransformX=function(e){var t=0,n=this.ldeviceExtX;return 0!=n&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/n),t},i.prototype.inverseTransformY=function(e){var t=0,n=this.ldeviceExtY;return 0!=n&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/n),t},i.prototype.inverseTransformPoint=function(e){return new r(this.inverseTransformX(e.x),this.inverseTransformY(e.y))},e.exports=i},function(e,t,n){"use strict";var r=n(15),i=n(7),o=n(0),s=n(8),a=n(9);function l(){r.call(this),this.useSmartIdealEdgeLengthCalculation=i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=i.DEFAULT_EDGE_LENGTH,this.springConstant=i.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=i.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=i.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=i.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=i.MAX_ITERATIONS}for(var c in l.prototype=Object.create(r.prototype),r)l[c]=r[c];l.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},l.prototype.calcIdealEdgeLengths=function(){for(var e,t,n,r,s,a,l=this.getGraphManager().getAllEdges(),c=0;c<l.length;c++)(e=l[c]).idealLength=this.idealEdgeLength,e.isInterGraph&&(n=e.getSource(),r=e.getTarget(),s=e.getSourceInLca().getEstimatedSize(),a=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=s+a-2*o.SIMPLE_NODE_SIZE),t=e.getLca().getInclusionTreeDepth(),e.idealLength+=i.DEFAULT_EDGE_LENGTH*i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(n.getInclusionTreeDepth()+r.getInclusionTreeDepth()-2*t))},l.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;this.incremental?(e>i.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*i.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-i.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT_INCREMENTAL):(e>i.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(i.COOLING_ADAPTATION_FACTOR,1-(e-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*(1-i.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},l.prototype.calcSpringForces=function(){for(var e,t=this.getAllEdges(),n=0;n<t.length;n++)e=t[n],this.calcSpringForce(e,e.idealLength)},l.prototype.calcRepulsionForces=function(){var e,t,n,r,o,s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&s&&this.updateGrid(),o=new Set,e=0;e<l.length;e++)n=l[e],this.calculateRepulsionForceOfANode(n,o,s,a),o.add(n);else for(e=0;e<l.length;e++)for(n=l[e],t=e+1;t<l.length;t++)r=l[t],n.getOwner()==r.getOwner()&&this.calcRepulsionForce(n,r)},l.prototype.calcGravitationalForces=function(){for(var e,t=this.getAllNodesToApplyGravitation(),n=0;n<t.length;n++)e=t[n],this.calcGravitationalForce(e)},l.prototype.moveNodes=function(){for(var e=this.getAllNodes(),t=0;t<e.length;t++)e[t].move()},l.prototype.calcSpringForce=function(e,t){var n,r,i,o,s=e.getSource(),a=e.getTarget();if(this.uniformLeafNodeSizes&&null==s.getChild()&&null==a.getChild())e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;0!=(n=e.getLength())&&(i=(r=this.springConstant*(n-t))*(e.lengthX/n),o=r*(e.lengthY/n),s.springForceX+=i,s.springForceY+=o,a.springForceX-=i,a.springForceY-=o)},l.prototype.calcRepulsionForce=function(e,t){var n,r,o,l,c,u,h,d=e.getRect(),p=t.getRect(),f=new Array(2),g=new Array(4);if(d.intersects(p)){s.calcSeparationAmount(d,p,f,i.DEFAULT_EDGE_LENGTH/2),u=2*f[0],h=2*f[1];var m=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren);e.repulsionForceX-=m*u,e.repulsionForceY-=m*h,t.repulsionForceX+=m*u,t.repulsionForceY+=m*h}else this.uniformLeafNodeSizes&&null==e.getChild()&&null==t.getChild()?(n=p.getCenterX()-d.getCenterX(),r=p.getCenterY()-d.getCenterY()):(s.getIntersection(d,p,g),n=g[2]-g[0],r=g[3]-g[1]),Math.abs(n)<i.MIN_REPULSION_DIST&&(n=a.sign(n)*i.MIN_REPULSION_DIST),Math.abs(r)<i.MIN_REPULSION_DIST&&(r=a.sign(r)*i.MIN_REPULSION_DIST),o=n*n+r*r,l=Math.sqrt(o),u=(c=this.repulsionConstant*e.noOfChildren*t.noOfChildren/o)*n/l,h=c*r/l,e.repulsionForceX-=u,e.repulsionForceY-=h,t.repulsionForceX+=u,t.repulsionForceY+=h},l.prototype.calcGravitationalForce=function(e){var t,n,r,i,o,s,a,l;n=((t=e.getOwner()).getRight()+t.getLeft())/2,r=(t.getTop()+t.getBottom())/2,i=e.getCenterX()-n,o=e.getCenterY()-r,s=Math.abs(i)+e.getWidth()/2,a=Math.abs(o)+e.getHeight()/2,e.getOwner()==this.graphManager.getRoot()?(s>(l=t.getEstimatedSize()*this.gravityRangeFactor)||a>l)&&(e.gravitationForceX=-this.gravityConstant*i,e.gravitationForceY=-this.gravityConstant*o):(s>(l=t.getEstimatedSize()*this.compoundGravityRangeFactor)||a>l)&&(e.gravitationForceX=-this.gravityConstant*i*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant)},l.prototype.isConverged=function(){var e,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||t},l.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},l.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,t=this.graphManager.getAllNodes(),n=0;n<t.length;n++)(e=t[n]).noOfChildren=e.getNoOfChildren()},l.prototype.calcGrid=function(e){var t,n;t=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),n=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));for(var r=new Array(t),i=0;i<t;i++)r[i]=new Array(n);for(i=0;i<t;i++)for(var o=0;o<n;o++)r[i][o]=new Array;return r},l.prototype.addNodeToGrid=function(e,t,n){var r,i,o,s;r=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange)),i=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange)),o=parseInt(Math.floor((e.getRect().y-n)/this.repulsionRange)),s=parseInt(Math.floor((e.getRect().height+e.getRect().y-n)/this.repulsionRange));for(var a=r;a<=i;a++)for(var l=o;l<=s;l++)this.grid[a][l].push(e),e.setGridCoordinates(r,i,o,s)},l.prototype.updateGrid=function(){var e,t,n=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<n.length;e++)t=n[e],this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},l.prototype.calculateRepulsionForceOfANode=function(e,t,n,r){if(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&n||r){var o,s=new Set;e.surrounding=new Array;for(var a=this.grid,l=e.startX-1;l<e.finishX+2;l++)for(var c=e.startY-1;c<e.finishY+2;c++)if(!(l<0||c<0||l>=a.length||c>=a[0].length))for(var u=0;u<a[l][c].length;u++)if(o=a[l][c][u],e.getOwner()==o.getOwner()&&e!=o&&!t.has(o)&&!s.has(o)){var h=Math.abs(e.getCenterX()-o.getCenterX())-(e.getWidth()/2+o.getWidth()/2),d=Math.abs(e.getCenterY()-o.getCenterY())-(e.getHeight()/2+o.getHeight()/2);h<=this.repulsionRange&&d<=this.repulsionRange&&s.add(o)}e.surrounding=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(s))}for(l=0;l<e.surrounding.length;l++)this.calcRepulsionForce(e,e.surrounding[l])},l.prototype.calcRepulsionRange=function(){return 0},e.exports=l},function(e,t,n){"use strict";var r=n(1),i=n(7);function o(e,t,n){r.call(this,e,t,n),this.idealLength=i.DEFAULT_EDGE_LENGTH}for(var s in o.prototype=Object.create(r.prototype),r)o[s]=r[s];e.exports=o},function(e,t,n){"use strict";var r=n(3);function i(e,t,n,i){r.call(this,e,t,n,i),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];i.prototype.setGridCoordinates=function(e,t,n,r){this.startX=e,this.finishX=t,this.startY=n,this.finishY=r},e.exports=i},function(e,t,n){"use strict";function r(e,t){this.width=0,this.height=0,null!==e&&null!==t&&(this.height=t,this.width=e)}r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){this.width=e},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(e){this.height=e},e.exports=r},function(e,t,n){"use strict";var r=n(14);function i(){this.map={},this.keys=[]}i.prototype.put=function(e,t){var n=r.createID(e);this.contains(n)||(this.map[n]=t,this.keys.push(e))},i.prototype.contains=function(e){return r.createID(e),null!=this.map[e]},i.prototype.get=function(e){var t=r.createID(e);return this.map[t]},i.prototype.keySet=function(){return this.keys},e.exports=i},function(e,t,n){"use strict";var r=n(14);function i(){this.set={}}i.prototype.add=function(e){var t=r.createID(e);this.contains(t)||(this.set[t]=e)},i.prototype.remove=function(e){delete this.set[r.createID(e)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(e){return this.set[r.createID(e)]==e},i.prototype.isEmpty=function(){return 0===this.size()},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(e){for(var t=Object.keys(this.set),n=t.length,r=0;r<n;r++)e.push(this.set[t[r]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];this.add(r)}},e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(11),o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null===n&&void 0===n||(this.compareFunction=this._defaultCompareFunction);var r=void 0;r=t instanceof i?t.size():t.length,this._quicksort(t,0,r-1)}return r(e,[{key:"_quicksort",value:function(e,t,n){if(t<n){var r=this._partition(e,t,n);this._quicksort(e,t,r),this._quicksort(e,r+1,n)}}},{key:"_partition",value:function(e,t,n){for(var r=this._get(e,t),i=t,o=n;;){for(;this.compareFunction(r,this._get(e,o));)o--;for(;this.compareFunction(this._get(e,i),r);)i++;if(!(i<o))return o;this._swap(e,i,o),i++,o--}}},{key:"_get",value:function(e,t){return e instanceof i?e.get_object_at(t):e[t]}},{key:"_set",value:function(e,t,n){e instanceof i?e.set_object_at(t,n):e[t]=n}},{key:"_swap",value:function(e,t,n){var r=this._get(e,t);this._set(e,t,this._get(e,n)),this._set(e,n,r)}},{key:"_defaultCompareFunction",value:function(e,t){return t>e}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sequence1=t,this.sequence2=n,this.match_score=r,this.mismatch_penalty=i,this.gap_penalty=o,this.iMax=t.length+1,this.jMax=n.length+1,this.grid=new Array(this.iMax);for(var s=0;s<this.iMax;s++){this.grid[s]=new Array(this.jMax);for(var a=0;a<this.jMax;a++)this.grid[s][a]=0}this.tracebackGrid=new Array(this.iMax);for(var l=0;l<this.iMax;l++){this.tracebackGrid[l]=new Array(this.jMax);for(var c=0;c<this.jMax;c++)this.tracebackGrid[l][c]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return r(e,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var e=1;e<this.jMax;e++)this.grid[0][e]=this.grid[0][e-1]+this.gap_penalty,this.tracebackGrid[0][e]=[!1,!1,!0];for(var t=1;t<this.iMax;t++)this.grid[t][0]=this.grid[t-1][0]+this.gap_penalty,this.tracebackGrid[t][0]=[!1,!0,!1];for(var n=1;n<this.iMax;n++)for(var r=1;r<this.jMax;r++){var i=[this.sequence1[n-1]===this.sequence2[r-1]?this.grid[n-1][r-1]+this.match_score:this.grid[n-1][r-1]+this.mismatch_penalty,this.grid[n-1][r]+this.gap_penalty,this.grid[n][r-1]+this.gap_penalty],o=this.arrayAllMaxIndexes(i);this.grid[n][r]=i[o[0]],this.tracebackGrid[n][r]=[o.includes(0),o.includes(1),o.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var e=[];for(e.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});e[0];){var t=e[0],n=this.tracebackGrid[t.pos[0]][t.pos[1]];n[0]&&e.push({pos:[t.pos[0]-1,t.pos[1]-1],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),n[1]&&e.push({pos:[t.pos[0]-1,t.pos[1]],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:"-"+t.seq2}),n[2]&&e.push({pos:[t.pos[0],t.pos[1]-1],seq1:"-"+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),0===t.pos[0]&&0===t.pos[1]&&this.alignments.push({sequence1:t.seq1,sequence2:t.seq2}),e.shift()}return this.alignments}},{key:"getAllIndexes",value:function(e,t){for(var n=[],r=-1;-1!==(r=e.indexOf(t,r+1));)n.push(r);return n}},{key:"arrayAllMaxIndexes",value:function(e){return this.getAllIndexes(e,Math.max.apply(null,e))}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=function(){};r.FDLayout=n(18),r.FDLayoutConstants=n(7),r.FDLayoutEdge=n(19),r.FDLayoutNode=n(20),r.DimensionD=n(21),r.HashMap=n(22),r.HashSet=n(23),r.IGeometry=n(8),r.IMath=n(9),r.Integer=n(10),r.Point=n(12),r.PointD=n(4),r.RandomSeed=n(16),r.RectangleD=n(13),r.Transform=n(17),r.UniqueIDGeneretor=n(14),r.Quicksort=n(24),r.LinkedList=n(11),r.LGraphObject=n(2),r.LGraph=n(5),r.LEdge=n(1),r.LGraphManager=n(6),r.LNode=n(3),r.Layout=n(15),r.LayoutConstants=n(0),r.NeedlemanWunsch=n(25),e.exports=r},function(e,t,n){"use strict";function r(){this.listeners=[]}var i=r.prototype;i.addListener=function(e,t){this.listeners.push({event:e,callback:t})},i.removeListener=function(e,t){for(var n=this.listeners.length;n>=0;n--){var r=this.listeners[n];r.event===e&&r.callback===t&&this.listeners.splice(n,1)}},i.emit=function(e,t){for(var n=0;n<this.listeners.length;n++){var r=this.listeners[n];e===r.event&&r.callback(t)}},e.exports=r}])},e.exports=t()},3149:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3153:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(){return[]}},3315:(e,t,n)=>{"use strict";n.d(t,{Xs:()=>o,wd:()=>s,xj:()=>i});const r=Object.freeze({left:0,top:0,width:16,height:16}),i=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),o=Object.freeze({...r,...i}),s=Object.freeze({...o,body:"",hidden:!1})},3456:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(241),i=n(5572),o=n(2049),s=n(1882),a=r.A?r.A.prototype:void 0,l=a?a.toString:void 0;const c=function e(t){if("string"==typeof t)return t;if((0,o.A)(t))return(0,i.A)(t,e)+"";if((0,s.A)(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const u=function(e){return null==e?"":c(e)}},3457:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(0).layoutBase.LayoutConstants,i=n(0).layoutBase.FDLayoutConstants,o=n(0).CoSEConstants,s=n(0).CoSELayout,a=n(0).CoSENode,l=n(0).layoutBase.PointD,c=n(0).layoutBase.DimensionD,u={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function h(e){this.options=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}(u,e),d(this.options)}var d=function(e){null!=e.nodeRepulsion&&(o.DEFAULT_REPULSION_STRENGTH=i.DEFAULT_REPULSION_STRENGTH=e.nodeRepulsion),null!=e.idealEdgeLength&&(o.DEFAULT_EDGE_LENGTH=i.DEFAULT_EDGE_LENGTH=e.idealEdgeLength),null!=e.edgeElasticity&&(o.DEFAULT_SPRING_STRENGTH=i.DEFAULT_SPRING_STRENGTH=e.edgeElasticity),null!=e.nestingFactor&&(o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=e.nestingFactor),null!=e.gravity&&(o.DEFAULT_GRAVITY_STRENGTH=i.DEFAULT_GRAVITY_STRENGTH=e.gravity),null!=e.numIter&&(o.MAX_ITERATIONS=i.MAX_ITERATIONS=e.numIter),null!=e.gravityRange&&(o.DEFAULT_GRAVITY_RANGE_FACTOR=i.DEFAULT_GRAVITY_RANGE_FACTOR=e.gravityRange),null!=e.gravityCompound&&(o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=e.gravityCompound),null!=e.gravityRangeCompound&&(o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=e.gravityRangeCompound),null!=e.initialEnergyOnIncremental&&(o.DEFAULT_COOLING_FACTOR_INCREMENTAL=i.DEFAULT_COOLING_FACTOR_INCREMENTAL=e.initialEnergyOnIncremental),"draft"==e.quality?r.QUALITY=0:"proof"==e.quality?r.QUALITY=2:r.QUALITY=1,o.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=r.NODE_DIMENSIONS_INCLUDE_LABELS=e.nodeDimensionsIncludeLabels,o.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=r.DEFAULT_INCREMENTAL=!e.randomize,o.ANIMATE=i.ANIMATE=r.ANIMATE=e.animate,o.TILE=e.tile,o.TILING_PADDING_VERTICAL="function"==typeof e.tilingPaddingVertical?e.tilingPaddingVertical.call():e.tilingPaddingVertical,o.TILING_PADDING_HORIZONTAL="function"==typeof e.tilingPaddingHorizontal?e.tilingPaddingHorizontal.call():e.tilingPaddingHorizontal};h.prototype.run=function(){var e,t,n=this.options,r=(this.idToLNode={},this.layout=new s),i=this;i.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var o=r.newGraphManager();this.gm=o;var a=this.options.eles.nodes(),l=this.options.eles.edges();this.root=o.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(a),r);for(var c=0;c<l.length;c++){var u=l[c],h=this.idToLNode[u.data("source")],d=this.idToLNode[u.data("target")];h!==d&&0==h.getEdgesBetween(d).length&&(o.add(r.newEdge(),h,d).id=u.id())}var p=function(e,t){"number"==typeof e&&(e=t);var n=e.data("id"),r=i.idToLNode[n];return{x:r.getRect().getCenterX(),y:r.getRect().getCenterY()}},f=function o(){for(var s,a=function(){n.fit&&n.cy.fit(n.eles,n.padding),e||(e=!0,i.cy.one("layoutready",n.ready),i.cy.trigger({type:"layoutready",layout:i}))},l=i.options.refresh,c=0;c<l&&!s;c++)s=i.stopped||i.layout.tick();if(s)return r.checkLayoutSuccess()&&!r.isSubLayout&&r.doPostLayout(),r.tilingPostLayout&&r.tilingPostLayout(),r.isLayoutFinished=!0,i.options.eles.nodes().positions(p),a(),i.cy.one("layoutstop",i.options.stop),i.cy.trigger({type:"layoutstop",layout:i}),t&&cancelAnimationFrame(t),void(e=!1);var u=i.layout.getPositionsData();n.eles.nodes().positions(function(e,t){if("number"==typeof e&&(e=t),!e.isParent()){for(var n=e.id(),r=u[n],i=e;null==r&&(r=u[i.data("parent")]||u["DummyCompound_"+i.data("parent")],u[n]=r,null!=(i=i.parent()[0])););return null!=r?{x:r.x,y:r.y}:{x:e.position("x"),y:e.position("y")}}}),a(),t=requestAnimationFrame(o)};return r.addListener("layoutstarted",function(){"during"===i.options.animate&&(t=requestAnimationFrame(f))}),r.runLayout(),"during"!==this.options.animate&&(i.options.eles.nodes().not(":parent").layoutPositions(i,i.options,p),e=!1),this},h.prototype.getTopMostNodes=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].id()]=!0;var r=e.filter(function(e,n){"number"==typeof e&&(e=n);for(var r=e.parent()[0];null!=r;){if(t[r.id()])return!1;r=r.parent()[0]}return!0});return r},h.prototype.processChildrenList=function(e,t,n){for(var r=t.length,i=0;i<r;i++){var o,s,u=t[i],h=u.children(),d=u.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((o=null!=u.outerWidth()&&null!=u.outerHeight()?e.add(new a(n.graphManager,new l(u.position("x")-d.w/2,u.position("y")-d.h/2),new c(parseFloat(d.w),parseFloat(d.h)))):e.add(new a(this.graphManager))).id=u.data("id"),o.paddingLeft=parseInt(u.css("padding")),o.paddingTop=parseInt(u.css("padding")),o.paddingRight=parseInt(u.css("padding")),o.paddingBottom=parseInt(u.css("padding")),this.options.nodeDimensionsIncludeLabels&&u.isParent()){var p=u.boundingBox({includeLabels:!0,includeNodes:!1}).w,f=u.boundingBox({includeLabels:!0,includeNodes:!1}).h,g=u.css("text-halign");o.labelWidth=p,o.labelHeight=f,o.labelPos=g}this.idToLNode[u.data("id")]=o,isNaN(o.rect.x)&&(o.rect.x=0),isNaN(o.rect.y)&&(o.rect.y=0),null!=h&&h.length>0&&(s=n.getGraphManager().add(n.newGraph(),o),this.processChildrenList(s,h,n))}},h.prototype.stop=function(){return this.stopped=!0,this};var p=function(e){e("layout","cose-bilkent",h)};"undefined"!=typeof cytoscape&&p(cytoscape),e.exports=p}])},e.exports=r(n(7799))},3511:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(6912),i=n(5647),o=n(4792),s=n(3153);const a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)(0,r.A)(t,(0,o.A)(e)),e=(0,i.A)(e);return t}:s.A},3533:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8446),i=n(3098);const o=function(e){return(0,i.A)(e)&&(0,r.A)(e)}},3631:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=/\s/;const i=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t};var o=/^\s+/;const s=function(e){return e?e.slice(0,i(e)+1).replace(o,""):e};var a=n(3149),l=n(1882),c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt;const p=function(e){if("number"==typeof e)return e;if((0,l.A)(e))return NaN;if((0,a.A)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,a.A)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var n=u.test(e);return n||h.test(e)?d(e.slice(2),n?2:8):c.test(e)?NaN:+e};var f=1/0;const g=function(e){return e?(e=p(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},3736:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},3758:(e,t,n)=>{"use strict";n.d(t,{d:()=>p});var r=n(1272),i=n(9264),o=n(9364),s=n(4298),a=class extends r.mR{static{(0,r.K2)(this,"TreemapTokenBuilder")}constructor(){super(["treemap"])}},l=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,c=class extends r.dg{static{(0,r.K2)(this,"TreemapValueConverter")}runCustomConverter(e,t,n){if("NUMBER2"===e.name)return parseFloat(t.replace(/,/g,""));if("SEPARATOR"===e.name)return t.substring(1,t.length-1);if("STRING2"===e.name)return t.substring(1,t.length-1);if("INDENTATION"===e.name)return t.length;if("ClassDef"===e.name){if("string"!=typeof t)return t;const e=l.exec(t);if(e)return{$type:"ClassDefStatement",className:e[1],styleText:e[2]||void 0}}}};function u(e){const t=e.validation.TreemapValidator,n=e.validation.ValidationRegistry;if(n){const e={Treemap:t.checkSingleRoot.bind(t)};n.register(e,t)}}(0,r.K2)(u,"registerValidationChecks");var h=class{static{(0,r.K2)(this,"TreemapValidator")}checkSingleRoot(e,t){let n;for(const r of e.TreemapRows)r.item&&(void 0===n&&void 0===r.indent?n=0:(void 0===r.indent||void 0!==n&&n>=parseInt(r.indent,10))&&t("error","Multiple root nodes are not allowed in a treemap.",{node:r,property:"item"}))}},d={parser:{TokenBuilder:(0,r.K2)(()=>new a,"TokenBuilder"),ValueConverter:(0,r.K2)(()=>new c,"ValueConverter")},validation:{TreemapValidator:(0,r.K2)(()=>new h,"TreemapValidator")}};function p(e=s.D){const t=(0,o.WQ)((0,i.u)(e),r.sr),n=(0,o.WQ)((0,i.t)({shared:t}),r.eV,d);return t.ServiceRegistry.register(n),u(n),{shared:t,Treemap:n}}(0,r.K2)(p,"createTreemapServices")},3767:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(4326),i=n(6832);const o=function(e){return(0,r.A)(function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(o--,s):void 0,a&&(0,i.A)(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,s)}return t})}},3769:(e,t)=>{"use strict";t.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(e,t){var i=t&&t.loc,o=void 0,s=void 0,a=void 0,l=void 0;i&&(o=i.start.line,s=i.end.line,a=i.start.column,l=i.end.column,e+=" - "+o+":"+a);for(var c=Error.prototype.constructor.call(this,e),u=0;u<n.length;u++)this[n[u]]=c[n[u]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{i&&(this.lineNumber=o,this.endLineNumber=s,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=a,this.endColumn=l))}catch(e){}}r.prototype=new Error,t.default=r,e.exports=t.default},3810:(e,t,n)=>{"use strict";n.d(t,{ct:()=>r});const r=(e,t,n,r="")=>{const o=e.split(":");if("@"===e.slice(0,1)){if(o.length<2||o.length>3)return null;r=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){const e=o.pop(),n=o.pop(),s={provider:o.length>0?o[0]:r,prefix:n,name:e};return t&&!i(s)?null:s}const s=o[0],a=s.split("-");if(a.length>1){const e={provider:r,prefix:a.shift(),name:a.join("-")};return t&&!i(e)?null:e}if(n&&""===r){const e={provider:r,prefix:"",name:s};return t&&!i(e,n)?null:e}return null},i=(e,t)=>!!e&&!(!(t&&""===e.prefix||e.prefix)||!e.name)},3831:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(6912),i=n(2049);const o=function(e,t,n){var o=t(e);return(0,i.A)(e)?o:(0,r.A)(o,n(e))}},3865:(e,t,n)=>{"use strict";t.__esModule=!0,t.createProtoAccessControl=function(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:i.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:i.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,n){return l("function"==typeof e?t.methods:t.properties,n)},t.resetLoggedProperties=function(){Object.keys(a).forEach(function(e){delete a[e]})};var r,i=n(9726),o=n(566),s=(r=o)&&r.__esModule?r:{default:r},a=Object.create(null);function l(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==a[e]&&(a[e]=!0,s.default.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}},3948:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1931),i=n(5582);const o=(e,t,n=50)=>{const{r:o,g:s,b:a,a:l}=r.A.parse(e),{r:c,g:u,b:h,a:d}=r.A.parse(t),p=n/100,f=2*p-1,g=l-d,m=((f*g===-1?f:(f+g)/(1+f*g))+1)/2,v=1-m,y=o*m+c*v,b=s*m+u*v,w=a*m+h*v,x=l*p+d*(1-p);return(0,i.A)(y,b,w,x)},s=(e,t=100)=>{const n=r.A.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,o(n,e,t)}},3956:(e,t,n)=>{"use strict";n.d(t,{createRadarServices:()=>r.f});var r=n(2852);n(1272)},3973:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(3831),i=n(3511),o=n(9999);const s=function(e){return(0,r.A)(e,o.A,i.A)}},3988:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1917).A.Uint8Array},4075:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var r=n(53),i=n(9592),o=n(4722);n(1471);function s(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:a(e),edges:l(e)};return i.A(e.graph())||(t.value=r.A(e.graph())),t}function a(e){return o.A(e.nodes(),function(t){var n=e.node(t),r=e.parent(t),o={v:t};return i.A(n)||(o.value=n),i.A(r)||(o.parent=r),o})}function l(e){return o.A(e.edges(),function(t){var n=e.edge(t),r={v:t.v,w:t.w};return i.A(t.name)||(r.name=t.name),i.A(n)||(r.value=n),r})}},4087:(e,t,n)=>{"use strict";n.d(t,{b:()=>c});var r=n(1272),i=n(9264),o=n(9364),s=n(4298),a=class extends r.mR{static{(0,r.K2)(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},l={parser:{TokenBuilder:(0,r.K2)(()=>new a,"TokenBuilder"),ValueConverter:(0,r.K2)(()=>new r.Tm,"ValueConverter")}};function c(e=s.D){const t=(0,o.WQ)((0,i.u)(e),r.sr),n=(0,o.WQ)((0,i.t)({shared:t}),r.eZ,l);return t.ServiceRegistry.register(n),{shared:t,GitGraph:n}}(0,r.K2)(c,"createGitGraphServices")},4092:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2634),i=n(1790),o=n(6307),s=n(2049);const a=function(e,t){return((0,s.A)(e)?r.A:i.A)(e,(0,o.A)(t,3))}},4098:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7671);const i=function(e){return(null==e?0:e.length)?(0,r.A)(e,1):[]}},4099:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){return e.has(t)}},4107:function(e,t,n){!function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o={exports:{}},s=function(e){return e&&e.Math===Math&&e},a=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof r&&r)||function(){return this}()||r||Function("return this")(),l=function(e){try{return!!e()}catch(e){return!0}},c=!l(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),u=c,h=Function.prototype,d=h.apply,p=h.call,f="object"==typeof Reflect&&Reflect.apply||(u?p.bind(d):function(){return p.apply(d,arguments)}),g=c,m=Function.prototype,v=m.call,y=g&&m.bind.bind(v,v),b=g?y:function(e){return function(){return v.apply(e,arguments)}},w=b,x=w({}.toString),_=w("".slice),A=function(e){return _(x(e),8,-1)},T=A,E=b,k=function(e){if("Function"===T(e))return E(e)},S="object"==typeof document&&document.all,C=void 0===S&&void 0!==S,N={all:S,IS_HTMLDDA:C},M=N,O=M.all,R=M.IS_HTMLDDA?function(e){return"function"==typeof e||e===O}:function(e){return"function"==typeof e},I={},L=!l(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),P=c,D=Function.prototype.call,B=P?D.bind(D):function(){return D.apply(D,arguments)},F={},z={}.propertyIsEnumerable,$=Object.getOwnPropertyDescriptor,j=$&&!z.call({1:2},1);F.f=j?function(e){var t=$(this,e);return!!t&&t.enumerable}:z;var U,H,G=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},V=l,W=A,Y=Object,q=b("".split),X=V(function(){return!Y("z").propertyIsEnumerable(0)})?function(e){return"String"===W(e)?q(e,""):Y(e)}:Y,K=function(e){return null==e},Z=K,Q=TypeError,J=function(e){if(Z(e))throw new Q("Can't call method on "+e);return e},ee=X,te=J,ne=function(e){return ee(te(e))},re=R,ie=N,oe=ie.all,se=ie.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:re(e)||e===oe}:function(e){return"object"==typeof e?null!==e:re(e)},ae={},le=ae,ce=a,ue=R,he=function(e){return ue(e)?e:void 0},de=function(e,t){return arguments.length<2?he(le[e])||he(ce[e]):le[e]&&le[e][t]||ce[e]&&ce[e][t]},pe=b({}.isPrototypeOf),fe="undefined"!=typeof navigator&&String(navigator.userAgent)||"",ge=a,me=fe,ve=ge.process,ye=ge.Deno,be=ve&&ve.versions||ye&&ye.version,we=be&&be.v8;we&&(H=(U=we.split("."))[0]>0&&U[0]<4?1:+(U[0]+U[1])),!H&&me&&(!(U=me.match(/Edge\/(\d+)/))||U[1]>=74)&&(U=me.match(/Chrome\/(\d+)/))&&(H=+U[1]);var xe=H,_e=xe,Ae=l,Te=a.String,Ee=!!Object.getOwnPropertySymbols&&!Ae(function(){var e=Symbol("symbol detection");return!Te(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&_e&&_e<41}),ke=Ee&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Se=de,Ce=R,Ne=pe,Me=Object,Oe=ke?function(e){return"symbol"==typeof e}:function(e){var t=Se("Symbol");return Ce(t)&&Ne(t.prototype,Me(e))},Re=String,Ie=function(e){try{return Re(e)}catch(e){return"Object"}},Le=R,Pe=Ie,De=TypeError,Be=function(e){if(Le(e))return e;throw new De(Pe(e)+" is not a function")},Fe=Be,ze=K,$e=function(e,t){var n=e[t];return ze(n)?void 0:Fe(n)},je=B,Ue=R,He=se,Ge=TypeError,Ve=function(e,t){var n,r;if("string"===t&&Ue(n=e.toString)&&!He(r=je(n,e)))return r;if(Ue(n=e.valueOf)&&!He(r=je(n,e)))return r;if("string"!==t&&Ue(n=e.toString)&&!He(r=je(n,e)))return r;throw new Ge("Can't convert object to primitive value")},We={exports:{}},Ye=!0,qe=a,Xe=Object.defineProperty,Ke=function(e,t){try{Xe(qe,e,{value:t,configurable:!0,writable:!0})}catch(n){qe[e]=t}return t},Ze="__core-js_shared__",Qe=a[Ze]||Ke(Ze,{}),Je=Qe;(We.exports=function(e,t){return Je[e]||(Je[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var et=We.exports,tt=J,nt=Object,rt=function(e){return nt(tt(e))},it=rt,ot=b({}.hasOwnProperty),st=Object.hasOwn||function(e,t){return ot(it(e),t)},at=b,lt=0,ct=Math.random(),ut=at(1..toString),ht=function(e){return"Symbol("+(void 0===e?"":e)+")_"+ut(++lt+ct,36)},dt=et,pt=st,ft=ht,gt=Ee,mt=ke,vt=a.Symbol,yt=dt("wks"),bt=mt?vt.for||vt:vt&&vt.withoutSetter||ft,wt=function(e){return pt(yt,e)||(yt[e]=gt&&pt(vt,e)?vt[e]:bt("Symbol."+e)),yt[e]},xt=B,_t=se,At=Oe,Tt=$e,Et=Ve,kt=TypeError,St=wt("toPrimitive"),Ct=function(e,t){if(!_t(e)||At(e))return e;var n,r=Tt(e,St);if(r){if(void 0===t&&(t="default"),n=xt(r,e,t),!_t(n)||At(n))return n;throw new kt("Can't convert object to primitive value")}return void 0===t&&(t="number"),Et(e,t)},Nt=Oe,Mt=function(e){var t=Ct(e,"string");return Nt(t)?t:t+""},Ot=se,Rt=a.document,It=Ot(Rt)&&Ot(Rt.createElement),Lt=function(e){return It?Rt.createElement(e):{}},Pt=l,Dt=Lt,Bt=!L&&!Pt(function(){return 7!==Object.defineProperty(Dt("div"),"a",{get:function(){return 7}}).a}),Ft=L,zt=B,$t=F,jt=G,Ut=ne,Ht=Mt,Gt=st,Vt=Bt,Wt=Object.getOwnPropertyDescriptor;I.f=Ft?Wt:function(e,t){if(e=Ut(e),t=Ht(t),Vt)try{return Wt(e,t)}catch(e){}if(Gt(e,t))return jt(!zt($t.f,e,t),e[t])};var Yt=l,qt=R,Xt=/#|\.prototype\./,Kt=function(e,t){var n=Qt[Zt(e)];return n===en||n!==Jt&&(qt(t)?Yt(t):!!t)},Zt=Kt.normalize=function(e){return String(e).replace(Xt,".").toLowerCase()},Qt=Kt.data={},Jt=Kt.NATIVE="N",en=Kt.POLYFILL="P",tn=Kt,nn=Be,rn=c,on=k(k.bind),sn=function(e,t){return nn(e),void 0===t?e:rn?on(e,t):function(){return e.apply(t,arguments)}},an={},ln=l,cn=L&&ln(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),un=se,hn=String,dn=TypeError,pn=function(e){if(un(e))return e;throw new dn(hn(e)+" is not an object")},fn=L,gn=Bt,mn=cn,vn=pn,yn=Mt,bn=TypeError,wn=Object.defineProperty,xn=Object.getOwnPropertyDescriptor,_n="enumerable",An="configurable",Tn="writable";an.f=fn?mn?function(e,t,n){if(vn(e),t=yn(t),vn(n),"function"==typeof e&&"prototype"===t&&"value"in n&&Tn in n&&!n[Tn]){var r=xn(e,t);r&&r[Tn]&&(e[t]=n.value,n={configurable:An in n?n[An]:r[An],enumerable:_n in n?n[_n]:r[_n],writable:!1})}return wn(e,t,n)}:wn:function(e,t,n){if(vn(e),t=yn(t),vn(n),gn)try{return wn(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new bn("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var En=an,kn=G,Sn=L?function(e,t,n){return En.f(e,t,kn(1,n))}:function(e,t,n){return e[t]=n,e},Cn=a,Nn=f,Mn=k,On=R,Rn=I.f,In=tn,Ln=ae,Pn=sn,Dn=Sn,Bn=st,Fn=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return Nn(e,this,arguments)};return t.prototype=e.prototype,t},zn=function(e,t){var n,r,i,o,s,a,l,c,u,h=e.target,d=e.global,p=e.stat,f=e.proto,g=d?Cn:p?Cn[h]:(Cn[h]||{}).prototype,m=d?Ln:Ln[h]||Dn(Ln,h,{})[h],v=m.prototype;for(o in t)r=!(n=In(d?o:h+(p?".":"#")+o,e.forced))&&g&&Bn(g,o),a=m[o],r&&(l=e.dontCallGetSet?(u=Rn(g,o))&&u.value:g[o]),s=r&&l?l:t[o],r&&typeof a==typeof s||(c=e.bind&&r?Pn(s,Cn):e.wrap&&r?Fn(s):f&&On(s)?Mn(s):s,(e.sham||s&&s.sham||a&&a.sham)&&Dn(c,"sham",!0),Dn(m,o,c),f&&(Bn(Ln,i=h+"Prototype")||Dn(Ln,i,{}),Dn(Ln[i],o,s),e.real&&v&&(n||!v[o])&&Dn(v,o,s)))},$n=zn,jn=L,Un=an.f;$n({target:"Object",stat:!0,forced:Object.defineProperty!==Un,sham:!jn},{defineProperty:Un});var Hn=ae.Object,Gn=o.exports=function(e,t,n){return Hn.defineProperty(e,t,n)};Hn.defineProperty.sham&&(Gn.sham=!0);var Vn=o.exports,Wn=Vn,Yn=i(Wn),qn=A,Xn=Array.isArray||function(e){return"Array"===qn(e)},Kn=Math.ceil,Zn=Math.floor,Qn=Math.trunc||function(e){var t=+e;return(t>0?Zn:Kn)(t)},Jn=function(e){var t=+e;return t!=t||0===t?0:Qn(t)},er=Jn,tr=Math.min,nr=function(e){return e>0?tr(er(e),9007199254740991):0},rr=function(e){return nr(e.length)},ir=TypeError,or=9007199254740991,sr=function(e){if(e>or)throw ir("Maximum allowed index exceeded");return e},ar=Mt,lr=an,cr=G,ur=function(e,t,n){var r=ar(t);r in e?lr.f(e,r,cr(0,n)):e[r]=n},hr=wt("toStringTag"),dr={};dr[hr]="z";var pr="[object z]"===String(dr),fr=pr,gr=R,mr=A,vr=wt("toStringTag"),yr=Object,br="Arguments"===mr(function(){return arguments}()),wr=function(e,t){try{return e[t]}catch(e){}},xr=fr?mr:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=wr(t=yr(e),vr))?n:br?mr(t):"Object"===(r=mr(t))&&gr(t.callee)?"Arguments":r},_r=R,Ar=Qe,Tr=b(Function.toString);_r(Ar.inspectSource)||(Ar.inspectSource=function(e){return Tr(e)});var Er=Ar.inspectSource,kr=b,Sr=l,Cr=R,Nr=xr,Mr=Er,Or=function(){},Rr=[],Ir=de("Reflect","construct"),Lr=/^\s*(?:class|function)\b/,Pr=kr(Lr.exec),Dr=!Lr.test(Or),Br=function(e){if(!Cr(e))return!1;try{return Ir(Or,Rr,e),!0}catch(e){return!1}},Fr=function(e){if(!Cr(e))return!1;switch(Nr(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Dr||!!Pr(Lr,Mr(e))}catch(e){return!0}};Fr.sham=!0;var zr=!Ir||Sr(function(){var e;return Br(Br.call)||!Br(Object)||!Br(function(){e=!0})||e})?Fr:Br,$r=Xn,jr=zr,Ur=se,Hr=wt("species"),Gr=Array,Vr=function(e){var t;return $r(e)&&(t=e.constructor,(jr(t)&&(t===Gr||$r(t.prototype))||Ur(t)&&null===(t=t[Hr]))&&(t=void 0)),void 0===t?Gr:t},Wr=function(e,t){return new(Vr(e))(0===t?0:t)},Yr=l,qr=xe,Xr=wt("species"),Kr=function(e){return qr>=51||!Yr(function(){var t=[];return(t.constructor={})[Xr]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Zr=zn,Qr=l,Jr=Xn,ei=se,ti=rt,ni=rr,ri=sr,ii=ur,oi=Wr,si=Kr,ai=xe,li=wt("isConcatSpreadable"),ci=ai>=51||!Qr(function(){var e=[];return e[li]=!1,e.concat()[0]!==e}),ui=function(e){if(!ei(e))return!1;var t=e[li];return void 0!==t?!!t:Jr(e)},hi=!ci||!si("concat");Zr({target:"Array",proto:!0,arity:1,forced:hi},{concat:function(e){var t,n,r,i,o,s=ti(this),a=oi(s,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(ui(o=-1===t?s:arguments[t]))for(i=ni(o),ri(l+i),n=0;n<i;n++,l++)n in o&&ii(a,l,o[n]);else ri(l+1),ii(a,l++,o);return a.length=l,a}});var di=xr,pi=String,fi=function(e){if("Symbol"===di(e))throw new TypeError("Cannot convert a Symbol value to a string");return pi(e)},gi={},mi=Jn,vi=Math.max,yi=Math.min,bi=function(e,t){var n=mi(e);return n<0?vi(n+t,0):yi(n,t)},wi=ne,xi=bi,_i=rr,Ai=function(e){return function(t,n,r){var i,o=wi(t),s=_i(o),a=xi(r,s);if(e&&n!=n){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},Ti={includes:Ai(!0),indexOf:Ai(!1)},Ei={},ki=b,Si=st,Ci=ne,Ni=Ti.indexOf,Mi=Ei,Oi=ki([].push),Ri=function(e,t){var n,r=Ci(e),i=0,o=[];for(n in r)!Si(Mi,n)&&Si(r,n)&&Oi(o,n);for(;t.length>i;)Si(r,n=t[i++])&&(~Ni(o,n)||Oi(o,n));return o},Ii=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Li=Ri,Pi=Ii,Di=Object.keys||function(e){return Li(e,Pi)},Bi=L,Fi=cn,zi=an,$i=pn,ji=ne,Ui=Di;gi.f=Bi&&!Fi?Object.defineProperties:function(e,t){$i(e);for(var n,r=ji(t),i=Ui(t),o=i.length,s=0;o>s;)zi.f(e,n=i[s++],r[n]);return e};var Hi,Gi=de("document","documentElement"),Vi=ht,Wi=et("keys"),Yi=function(e){return Wi[e]||(Wi[e]=Vi(e))},qi=pn,Xi=gi,Ki=Ii,Zi=Ei,Qi=Gi,Ji=Lt,eo=">",to="<",no="prototype",ro="script",io=Yi("IE_PROTO"),oo=function(){},so=function(e){return to+ro+eo+e+to+"/"+ro+eo},ao=function(e){e.write(so("")),e.close();var t=e.parentWindow.Object;return e=null,t},lo=function(){var e,t=Ji("iframe"),n="java"+ro+":";return t.style.display="none",Qi.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(so("document.F=Object")),e.close(),e.F},co=function(){try{Hi=new ActiveXObject("htmlfile")}catch(e){}co="undefined"!=typeof document?document.domain&&Hi?ao(Hi):lo():ao(Hi);for(var e=Ki.length;e--;)delete co[no][Ki[e]];return co()};Zi[io]=!0;var uo=Object.create||function(e,t){var n;return null!==e?(oo[no]=qi(e),n=new oo,oo[no]=null,n[io]=e):n=co(),void 0===t?n:Xi.f(n,t)},ho={},po=Ri,fo=Ii.concat("length","prototype");ho.f=Object.getOwnPropertyNames||function(e){return po(e,fo)};var go={},mo=bi,vo=rr,yo=ur,bo=Array,wo=Math.max,xo=function(e,t,n){for(var r=vo(e),i=mo(t,r),o=mo(void 0===n?r:n,r),s=bo(wo(o-i,0)),a=0;i<o;i++,a++)yo(s,a,e[i]);return s.length=a,s},_o=A,Ao=ne,To=ho.f,Eo=xo,ko="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],So=function(e){try{return To(e)}catch(e){return Eo(ko)}};go.f=function(e){return ko&&"Window"===_o(e)?So(e):To(Ao(e))};var Co={};Co.f=Object.getOwnPropertySymbols;var No=Sn,Mo=function(e,t,n,r){return r&&r.enumerable?e[t]=n:No(e,t,n),e},Oo=an,Ro=function(e,t,n){return Oo.f(e,t,n)},Io={},Lo=wt;Io.f=Lo;var Po,Do,Bo,Fo=ae,zo=st,$o=Io,jo=an.f,Uo=function(e){var t=Fo.Symbol||(Fo.Symbol={});zo(t,e)||jo(t,e,{value:$o.f(e)})},Ho=B,Go=de,Vo=wt,Wo=Mo,Yo=function(){var e=Go("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=Vo("toPrimitive");t&&!t[r]&&Wo(t,r,function(e){return Ho(n,this)},{arity:1})},qo=xr,Xo=pr?{}.toString:function(){return"[object "+qo(this)+"]"},Ko=pr,Zo=an.f,Qo=Sn,Jo=st,es=Xo,ts=wt("toStringTag"),ns=function(e,t,n,r){if(e){var i=n?e:e.prototype;Jo(i,ts)||Zo(i,ts,{configurable:!0,value:t}),r&&!Ko&&Qo(i,"toString",es)}},rs=R,is=a.WeakMap,os=rs(is)&&/native code/.test(String(is)),ss=a,as=se,ls=Sn,cs=st,us=Qe,hs=Yi,ds=Ei,ps="Object already initialized",fs=ss.TypeError,gs=ss.WeakMap,ms=function(e){return Bo(e)?Do(e):Po(e,{})},vs=function(e){return function(t){var n;if(!as(t)||(n=Do(t)).type!==e)throw new fs("Incompatible receiver, "+e+" required");return n}};if(os||us.state){var ys=us.state||(us.state=new gs);ys.get=ys.get,ys.has=ys.has,ys.set=ys.set,Po=function(e,t){if(ys.has(e))throw new fs(ps);return t.facade=e,ys.set(e,t),t},Do=function(e){return ys.get(e)||{}},Bo=function(e){return ys.has(e)}}else{var bs=hs("state");ds[bs]=!0,Po=function(e,t){if(cs(e,bs))throw new fs(ps);return t.facade=e,ls(e,bs,t),t},Do=function(e){return cs(e,bs)?e[bs]:{}},Bo=function(e){return cs(e,bs)}}var ws={set:Po,get:Do,has:Bo,enforce:ms,getterFor:vs},xs=sn,_s=X,As=rt,Ts=rr,Es=Wr,ks=b([].push),Ss=function(e){var t=1===e,n=2===e,r=3===e,i=4===e,o=6===e,s=7===e,a=5===e||o;return function(l,c,u,h){for(var d,p,f=As(l),g=_s(f),m=xs(c,u),v=Ts(g),y=0,b=h||Es,w=t?b(l,v):n||s?b(l,0):void 0;v>y;y++)if((a||y in g)&&(p=m(d=g[y],y,f),e))if(t)w[y]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return y;case 2:ks(w,d)}else switch(e){case 4:return!1;case 7:ks(w,d)}return o?-1:r||i?i:w}},Cs={forEach:Ss(0),map:Ss(1),filter:Ss(2),some:Ss(3),every:Ss(4),find:Ss(5),findIndex:Ss(6),filterReject:Ss(7)},Ns=zn,Ms=a,Os=B,Rs=b,Is=L,Ls=Ee,Ps=l,Ds=st,Bs=pe,Fs=pn,zs=ne,$s=Mt,js=fi,Us=G,Hs=uo,Gs=Di,Vs=ho,Ws=go,Ys=Co,qs=I,Xs=an,Ks=gi,Zs=F,Qs=Mo,Js=Ro,ea=et,ta=Yi,na=Ei,ra=ht,ia=wt,oa=Io,sa=Uo,aa=Yo,la=ns,ca=ws,ua=Cs.forEach,ha=ta("hidden"),da="Symbol",pa="prototype",fa=ca.set,ga=ca.getterFor(da),ma=Object[pa],va=Ms.Symbol,ya=va&&va[pa],ba=Ms.RangeError,wa=Ms.TypeError,xa=Ms.QObject,_a=qs.f,Aa=Xs.f,Ta=Ws.f,Ea=Zs.f,ka=Rs([].push),Sa=ea("symbols"),Ca=ea("op-symbols"),Na=ea("wks"),Ma=!xa||!xa[pa]||!xa[pa].findChild,Oa=function(e,t,n){var r=_a(ma,t);r&&delete ma[t],Aa(e,t,n),r&&e!==ma&&Aa(ma,t,r)},Ra=Is&&Ps(function(){return 7!==Hs(Aa({},"a",{get:function(){return Aa(this,"a",{value:7}).a}})).a})?Oa:Aa,Ia=function(e,t){var n=Sa[e]=Hs(ya);return fa(n,{type:da,tag:e,description:t}),Is||(n.description=t),n},La=function(e,t,n){e===ma&&La(Ca,t,n),Fs(e);var r=$s(t);return Fs(n),Ds(Sa,r)?(n.enumerable?(Ds(e,ha)&&e[ha][r]&&(e[ha][r]=!1),n=Hs(n,{enumerable:Us(0,!1)})):(Ds(e,ha)||Aa(e,ha,Us(1,{})),e[ha][r]=!0),Ra(e,r,n)):Aa(e,r,n)},Pa=function(e,t){Fs(e);var n=zs(t),r=Gs(n).concat($a(n));return ua(r,function(t){Is&&!Os(Ba,n,t)||La(e,t,n[t])}),e},Da=function(e,t){return void 0===t?Hs(e):Pa(Hs(e),t)},Ba=function(e){var t=$s(e),n=Os(Ea,this,t);return!(this===ma&&Ds(Sa,t)&&!Ds(Ca,t))&&(!(n||!Ds(this,t)||!Ds(Sa,t)||Ds(this,ha)&&this[ha][t])||n)},Fa=function(e,t){var n=zs(e),r=$s(t);if(n!==ma||!Ds(Sa,r)||Ds(Ca,r)){var i=_a(n,r);return!i||!Ds(Sa,r)||Ds(n,ha)&&n[ha][r]||(i.enumerable=!0),i}},za=function(e){var t=Ta(zs(e)),n=[];return ua(t,function(e){Ds(Sa,e)||Ds(na,e)||ka(n,e)}),n},$a=function(e){var t=e===ma,n=Ta(t?Ca:zs(e)),r=[];return ua(n,function(e){!Ds(Sa,e)||t&&!Ds(ma,e)||ka(r,Sa[e])}),r};Ls||(va=function(){if(Bs(ya,this))throw new wa("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?js(arguments[0]):void 0,t=ra(e),n=function(e){var r=void 0===this?Ms:this;r===ma&&Os(n,Ca,e),Ds(r,ha)&&Ds(r[ha],t)&&(r[ha][t]=!1);var i=Us(1,e);try{Ra(r,t,i)}catch(e){if(!(e instanceof ba))throw e;Oa(r,t,i)}};return Is&&Ma&&Ra(ma,t,{configurable:!0,set:n}),Ia(t,e)},Qs(ya=va[pa],"toString",function(){return ga(this).tag}),Qs(va,"withoutSetter",function(e){return Ia(ra(e),e)}),Zs.f=Ba,Xs.f=La,Ks.f=Pa,qs.f=Fa,Vs.f=Ws.f=za,Ys.f=$a,oa.f=function(e){return Ia(ia(e),e)},Is&&Js(ya,"description",{configurable:!0,get:function(){return ga(this).description}})),Ns({global:!0,constructor:!0,wrap:!0,forced:!Ls,sham:!Ls},{Symbol:va}),ua(Gs(Na),function(e){sa(e)}),Ns({target:da,stat:!0,forced:!Ls},{useSetter:function(){Ma=!0},useSimple:function(){Ma=!1}}),Ns({target:"Object",stat:!0,forced:!Ls,sham:!Is},{create:Da,defineProperty:La,defineProperties:Pa,getOwnPropertyDescriptor:Fa}),Ns({target:"Object",stat:!0,forced:!Ls},{getOwnPropertyNames:za}),aa(),la(va,da),na[ha]=!0;var ja=Ee&&!!Symbol.for&&!!Symbol.keyFor,Ua=zn,Ha=de,Ga=st,Va=fi,Wa=et,Ya=ja,qa=Wa("string-to-symbol-registry"),Xa=Wa("symbol-to-string-registry");Ua({target:"Symbol",stat:!0,forced:!Ya},{for:function(e){var t=Va(e);if(Ga(qa,t))return qa[t];var n=Ha("Symbol")(t);return qa[t]=n,Xa[n]=t,n}});var Ka=zn,Za=st,Qa=Oe,Ja=Ie,el=ja,tl=et("symbol-to-string-registry");Ka({target:"Symbol",stat:!0,forced:!el},{keyFor:function(e){if(!Qa(e))throw new TypeError(Ja(e)+" is not a symbol");if(Za(tl,e))return tl[e]}});var nl=b([].slice),rl=Xn,il=R,ol=A,sl=fi,al=b([].push),ll=zn,cl=de,ul=f,hl=B,dl=b,pl=l,fl=R,gl=Oe,ml=nl,vl=function(e){if(il(e))return e;if(rl(e)){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];"string"==typeof i?al(n,i):"number"!=typeof i&&"Number"!==ol(i)&&"String"!==ol(i)||al(n,sl(i))}var o=n.length,s=!0;return function(e,t){if(s)return s=!1,t;if(rl(this))return t;for(var r=0;r<o;r++)if(n[r]===e)return t}}},yl=Ee,bl=String,wl=cl("JSON","stringify"),xl=dl(/./.exec),_l=dl("".charAt),Al=dl("".charCodeAt),Tl=dl("".replace),El=dl(1..toString),kl=/[\uD800-\uDFFF]/g,Sl=/^[\uD800-\uDBFF]$/,Cl=/^[\uDC00-\uDFFF]$/,Nl=!yl||pl(function(){var e=cl("Symbol")("stringify detection");return"[null]"!==wl([e])||"{}"!==wl({a:e})||"{}"!==wl(Object(e))}),Ml=pl(function(){return'"\\udf06\\ud834"'!==wl("\udf06\ud834")||'"\\udead"'!==wl("\udead")}),Ol=function(e,t){var n=ml(arguments),r=vl(t);if(fl(r)||void 0!==e&&!gl(e))return n[1]=function(e,t){if(fl(r)&&(t=hl(r,this,bl(e),t)),!gl(t))return t},ul(wl,null,n)},Rl=function(e,t,n){var r=_l(n,t-1),i=_l(n,t+1);return xl(Sl,e)&&!xl(Cl,i)||xl(Cl,e)&&!xl(Sl,r)?"\\u"+El(Al(e,0),16):e};wl&&ll({target:"JSON",stat:!0,arity:3,forced:Nl||Ml},{stringify:function(e,t,n){var r=ml(arguments),i=ul(Nl?Ol:wl,null,r);return Ml&&"string"==typeof i?Tl(i,kl,Rl):i}});var Il=zn,Ll=l,Pl=Co,Dl=rt,Bl=!Ee||Ll(function(){Pl.f(1)});Il({target:"Object",stat:!0,forced:Bl},{getOwnPropertySymbols:function(e){var t=Pl.f;return t?t(Dl(e)):[]}}),Uo("asyncIterator"),Uo("hasInstance"),Uo("isConcatSpreadable"),Uo("iterator"),Uo("match"),Uo("matchAll"),Uo("replace"),Uo("search"),Uo("species"),Uo("split");var Fl=Yo;Uo("toPrimitive"),Fl();var zl=de,$l=ns;Uo("toStringTag"),$l(zl("Symbol"),"Symbol"),Uo("unscopables"),ns(a.JSON,"JSON",!0);var jl,Ul,Hl,Gl=ae.Symbol,Vl={},Wl=L,Yl=st,ql=Function.prototype,Xl=Wl&&Object.getOwnPropertyDescriptor,Kl=Yl(ql,"name"),Zl=Kl&&"something"===function(){}.name,Ql=Kl&&(!Wl||Wl&&Xl(ql,"name").configurable),Jl={EXISTS:Kl,PROPER:Zl,CONFIGURABLE:Ql},ec=!l(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),tc=st,nc=R,rc=rt,ic=ec,oc=Yi("IE_PROTO"),sc=Object,ac=sc.prototype,lc=ic?sc.getPrototypeOf:function(e){var t=rc(e);if(tc(t,oc))return t[oc];var n=t.constructor;return nc(n)&&t instanceof n?n.prototype:t instanceof sc?ac:null},cc=l,uc=R,hc=se,dc=uo,pc=lc,fc=Mo,gc=wt("iterator"),mc=!1;[].keys&&("next"in(Hl=[].keys())?(Ul=pc(pc(Hl)))!==Object.prototype&&(jl=Ul):mc=!0),jl=!hc(jl)||cc(function(){var e={};return jl[gc].call(e)!==e})?{}:dc(jl),uc(jl[gc])||fc(jl,gc,function(){return this});var vc={IteratorPrototype:jl,BUGGY_SAFARI_ITERATORS:mc},yc=vc.IteratorPrototype,bc=uo,wc=G,xc=ns,_c=Vl,Ac=function(){return this},Tc=function(e,t,n,r){var i=t+" Iterator";return e.prototype=bc(yc,{next:wc(+!r,n)}),xc(e,i,!1,!0),_c[i]=Ac,e},Ec=b,kc=Be,Sc=R,Cc=String,Nc=TypeError,Mc=function(e,t,n){try{return Ec(kc(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}},Oc=pn,Rc=function(e){if("object"==typeof e||Sc(e))return e;throw new Nc("Can't set "+Cc(e)+" as a prototype")},Ic=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Mc(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Oc(n),Rc(r),t?e(n,r):n.__proto__=r,n}}():void 0),Lc=zn,Pc=B,Dc=Jl,Bc=Tc,Fc=lc,zc=ns,$c=Mo,jc=wt,Uc=Vl,Hc=vc,Gc=Dc.PROPER;Dc.CONFIGURABLE,Hc.IteratorPrototype;var Vc=Hc.BUGGY_SAFARI_ITERATORS,Wc=jc("iterator"),Yc="keys",qc="values",Xc="entries",Kc=function(){return this},Zc=function(e,t,n,r,i,o,s){Bc(n,t,r);var a,l,c,u=function(e){if(e===i&&g)return g;if(!Vc&&e&&e in p)return p[e];switch(e){case Yc:case qc:case Xc:return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",d=!1,p=e.prototype,f=p[Wc]||p["@@iterator"]||i&&p[i],g=!Vc&&f||u(i),m="Array"===t&&p.entries||f;if(m&&(a=Fc(m.call(new e)))!==Object.prototype&&a.next&&(zc(a,h,!0,!0),Uc[h]=Kc),Gc&&i===qc&&f&&f.name!==qc&&(d=!0,g=function(){return Pc(f,this)}),i)if(l={values:u(qc),keys:o?g:u(Yc),entries:u(Xc)},s)for(c in l)(Vc||d||!(c in p))&&$c(p,c,l[c]);else Lc({target:t,proto:!0,forced:Vc||d},l);return s&&p[Wc]!==g&&$c(p,Wc,g,{name:i}),Uc[t]=g,l},Qc=function(e,t){return{value:e,done:t}},Jc=ne,eu=Vl,tu=ws;an.f;var nu=Zc,ru=Qc,iu="Array Iterator",ou=tu.set,su=tu.getterFor(iu);nu(Array,"Array",function(e,t){ou(this,{type:iu,target:Jc(e),index:0,kind:t})},function(){var e=su(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,ru(void 0,!0);switch(e.kind){case"keys":return ru(n,!1);case"values":return ru(t[n],!1)}return ru([n,t[n]],!1)},"values"),eu.Arguments=eu.Array;var au={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},lu=a,cu=xr,uu=Sn,hu=Vl,du=wt("toStringTag");for(var pu in au){var fu=lu[pu],gu=fu&&fu.prototype;gu&&cu(gu)!==du&&uu(gu,du,pu),hu[pu]=hu.Array}var mu=Gl,vu=wt,yu=an.f,bu=vu("metadata"),wu=Function.prototype;void 0===wu[bu]&&yu(wu,bu,{value:null}),Uo("asyncDispose"),Uo("dispose"),Uo("metadata");var xu=mu,_u=b,Au=de("Symbol"),Tu=Au.keyFor,Eu=_u(Au.prototype.valueOf),ku=Au.isRegisteredSymbol||function(e){try{return void 0!==Tu(Eu(e))}catch(e){return!1}};zn({target:"Symbol",stat:!0},{isRegisteredSymbol:ku});for(var Su=et,Cu=de,Nu=b,Mu=Oe,Ou=wt,Ru=Cu("Symbol"),Iu=Ru.isWellKnownSymbol,Lu=Cu("Object","getOwnPropertyNames"),Pu=Nu(Ru.prototype.valueOf),Du=Su("wks"),Bu=0,Fu=Lu(Ru),zu=Fu.length;Bu<zu;Bu++)try{var $u=Fu[Bu];Mu(Ru[$u])&&Ou($u)}catch(e){}var ju=function(e){if(Iu&&Iu(e))return!0;try{for(var t=Pu(e),n=0,r=Lu(Du),i=r.length;n<i;n++)if(Du[r[n]]==t)return!0}catch(e){}return!1};zn({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:ju}),Uo("matcher"),Uo("observable"),zn({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:ku}),zn({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:ju}),Uo("metadataKey"),Uo("patternMatch"),Uo("replaceAll");var Uu=xu,Hu=i(Uu),Gu=b,Vu=Jn,Wu=fi,Yu=J,qu=Gu("".charAt),Xu=Gu("".charCodeAt),Ku=Gu("".slice),Zu=function(e){return function(t,n){var r,i,o=Wu(Yu(t)),s=Vu(n),a=o.length;return s<0||s>=a?e?"":void 0:(r=Xu(o,s))<55296||r>56319||s+1===a||(i=Xu(o,s+1))<56320||i>57343?e?qu(o,s):r:e?Ku(o,s,s+2):i-56320+(r-55296<<10)+65536}},Qu=(Zu(!1),Zu(!0)),Ju=fi,eh=ws,th=Zc,nh=Qc,rh="String Iterator",ih=eh.set,oh=eh.getterFor(rh);th(String,"String",function(e){ih(this,{type:rh,string:Ju(e),index:0})},function(){var e,t=oh(this),n=t.string,r=t.index;return r>=n.length?nh(void 0,!0):(e=Qu(n,r),t.index+=e.length,nh(e,!1))});var sh=Io.f("iterator"),ah=sh,lh=i(ah);function ch(e){return ch="function"==typeof Hu&&"symbol"==typeof lh?function(e){return typeof e}:function(e){return e&&"function"==typeof Hu&&e.constructor===Hu&&e!==Hu.prototype?"symbol":typeof e},ch(e)}var uh=i(Io.f("toPrimitive"));function hh(e,t){if("object"!==ch(e)||null===e)return e;var n=e[uh];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ch(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function dh(e){var t=hh(e,"string");return"symbol"===ch(t)?t:String(t)}function ph(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Yn(e,dh(r.key),r)}}function fh(e,t,n){return t&&ph(e.prototype,t),n&&ph(e,n),Yn(e,"prototype",{writable:!1}),e}function gh(e,t,n){return(t=dh(t))in e?Yn(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mh=b,vh=Be,yh=se,bh=st,wh=nl,xh=c,_h=Function,Ah=mh([].concat),Th=mh([].join),Eh={},kh=function(e,t,n){if(!bh(Eh,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";Eh[t]=_h("C,a","return new C("+Th(r,",")+")")}return Eh[t](e,n)},Sh=xh?_h.bind:function(e){var t=vh(this),n=t.prototype,r=wh(arguments,1),i=function(){var n=Ah(r,wh(arguments));return this instanceof i?kh(t,n.length,n):t.apply(e,n)};return yh(n)&&(i.prototype=n),i},Ch=Sh;zn({target:"Function",proto:!0,forced:Function.bind!==Ch},{bind:Ch});var Nh=a,Mh=ae,Oh=function(e,t){var n=Mh[e+"Prototype"],r=n&&n[t];if(r)return r;var i=Nh[e],o=i&&i.prototype;return o&&o[t]},Rh=Oh("Function","bind"),Ih=pe,Lh=Rh,Ph=Function.prototype,Dh=function(e){var t=e.bind;return e===Ph||Ih(Ph,e)&&t===Ph.bind?Lh:t},Bh=i(Dh),Fh=Be,zh=rt,$h=X,jh=rr,Uh=TypeError,Hh=function(e){return function(t,n,r,i){Fh(n);var o=zh(t),s=$h(o),a=jh(o),l=e?a-1:0,c=e?-1:1;if(r<2)for(;;){if(l in s){i=s[l],l+=c;break}if(l+=c,e?l<0:a<=l)throw new Uh("Reduce of empty array with no initial value")}for(;e?l>=0:a>l;l+=c)l in s&&(i=n(i,s[l],l,o));return i}},Gh={left:Hh(!1),right:Hh(!0)},Vh=l,Wh=function(e,t){var n=[][e];return!!n&&Vh(function(){n.call(null,t||function(){return 1},1)})},Yh="process"===A(a.process),qh=zn,Xh=Gh.left,Kh=Wh,Zh=xe,Qh=!Yh&&Zh>79&&Zh<83||!Kh("reduce");qh({target:"Array",proto:!0,forced:Qh},{reduce:function(e){var t=arguments.length;return Xh(this,e,t,t>1?arguments[1]:void 0)}});var Jh=Oh("Array","reduce"),ed=pe,td=Jh,nd=Array.prototype,rd=i(function(e){var t=e.reduce;return e===nd||ed(nd,e)&&t===nd.reduce?td:t}),id=zn,od=Cs.filter,sd=Kr("filter");id({target:"Array",proto:!0,forced:!sd},{filter:function(e){return od(this,e,arguments.length>1?arguments[1]:void 0)}});var ad=Oh("Array","filter"),ld=pe,cd=ad,ud=Array.prototype,hd=i(function(e){var t=e.filter;return e===ud||ld(ud,e)&&t===ud.filter?cd:t}),dd=zn,pd=Cs.map,fd=Kr("map");dd({target:"Array",proto:!0,forced:!fd},{map:function(e){return pd(this,e,arguments.length>1?arguments[1]:void 0)}});var gd=Oh("Array","map"),md=pe,vd=gd,yd=Array.prototype,bd=i(function(e){var t=e.map;return e===yd||md(yd,e)&&t===yd.map?vd:t}),wd=Xn,xd=rr,_d=sr,Ad=sn,Td=function(e,t,n,r,i,o,s,a){for(var l,c,u=i,h=0,d=!!s&&Ad(s,a);h<r;)h in n&&(l=d?d(n[h],h,t):n[h],o>0&&wd(l)?(c=xd(l),u=Td(e,t,l,c,u,o-1)-1):(_d(u+1),e[u]=l),u++),h++;return u},Ed=Td,kd=Be,Sd=rt,Cd=rr,Nd=Wr;zn({target:"Array",proto:!0},{flatMap:function(e){var t,n=Sd(this),r=Cd(n);return kd(e),(t=Nd(n,0)).length=Ed(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var Md=Oh("Array","flatMap"),Od=pe,Rd=Md,Id=Array.prototype,Ld=i(function(e){var t=e.flatMap;return e===Id||Od(Id,e)&&t===Id.flatMap?Rd:t});function Pd(e){return new Bd(e)}var Dd=function(){function e(n,r,i){var o,s,a;t(this,e),gh(this,"_listeners",{add:Bh(o=this._add).call(o,this),remove:Bh(s=this._remove).call(s,this),update:Bh(a=this._update).call(a,this)}),this._source=n,this._transformers=r,this._target=i}return fh(e,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(e){var t;return rd(t=this._transformers).call(t,function(e,t){return t(e)},e)}},{key:"_add",value:function(e,t){null!=t&&this._target.add(this._transformItems(this._source.get(t.items)))}},{key:"_update",value:function(e,t){null!=t&&this._target.update(this._transformItems(this._source.get(t.items)))}},{key:"_remove",value:function(e,t){null!=t&&this._target.remove(this._transformItems(t.oldData))}}]),e}(),Bd=function(){function e(n){t(this,e),gh(this,"_transformers",[]),this._source=n}return fh(e,[{key:"filter",value:function(e){return this._transformers.push(function(t){return hd(t).call(t,e)}),this}},{key:"map",value:function(e){return this._transformers.push(function(t){return bd(t).call(t,e)}),this}},{key:"flatMap",value:function(e){return this._transformers.push(function(t){return Ld(t).call(t,e)}),this}},{key:"to",value:function(e){return new Dd(this._source,this._transformers,e)}}]),e}(),Fd=B,zd=pn,$d=$e,jd=function(e,t,n){var r,i;zd(e);try{if(!(r=$d(e,"return"))){if("throw"===t)throw n;return n}r=Fd(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return zd(r),n},Ud=pn,Hd=jd,Gd=function(e,t,n,r){try{return r?t(Ud(n)[0],n[1]):t(n)}catch(t){Hd(e,"throw",t)}},Vd=Vl,Wd=wt("iterator"),Yd=Array.prototype,qd=function(e){return void 0!==e&&(Vd.Array===e||Yd[Wd]===e)},Xd=xr,Kd=$e,Zd=K,Qd=Vl,Jd=wt("iterator"),ep=function(e){if(!Zd(e))return Kd(e,Jd)||Kd(e,"@@iterator")||Qd[Xd(e)]},tp=B,np=Be,rp=pn,ip=Ie,op=ep,sp=TypeError,ap=function(e,t){var n=arguments.length<2?op(e):t;if(np(n))return rp(tp(n,e));throw new sp(ip(e)+" is not iterable")},lp=sn,cp=B,up=rt,hp=Gd,dp=qd,pp=zr,fp=rr,gp=ur,mp=ap,vp=ep,yp=Array,bp=function(e){var t=up(e),n=pp(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=lp(i,r>2?arguments[2]:void 0));var s,a,l,c,u,h,d=vp(t),p=0;if(!d||this===yp&&dp(d))for(s=fp(t),a=n?new this(s):yp(s);s>p;p++)h=o?i(t[p],p):t[p],gp(a,p,h);else for(u=(c=mp(t,d)).next,a=n?new this:[];!(l=cp(u,c)).done;p++)h=o?hp(c,i,[l.value,p],!0):l.value,gp(a,p,h);return a.length=p,a},wp=wt("iterator"),xp=!1;try{var _p=0,Ap={next:function(){return{done:!!_p++}},return:function(){xp=!0}};Ap[wp]=function(){return this},Array.from(Ap,function(){throw 2})}catch(e){}var Tp=function(e,t){try{if(!t&&!xp)return!1}catch(e){return!1}var n=!1;try{var r={};r[wp]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},Ep=zn,kp=bp,Sp=!Tp(function(e){Array.from(e)});Ep({target:"Array",stat:!0,forced:Sp},{from:kp});var Cp=ae.Array.from,Np=i(Cp),Mp=ep,Op=i(Mp),Rp=i(Mp);zn({target:"Array",stat:!0},{isArray:Xn});var Ip=ae.Array.isArray,Lp=i(Ip);function Pp(e){if(Lp(e))return e}var Dp=L,Bp=Xn,Fp=TypeError,zp=Object.getOwnPropertyDescriptor,$p=Dp&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}()?function(e,t){if(Bp(e)&&!zp(e,"length").writable)throw new Fp("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},jp=zn,Up=rt,Hp=rr,Gp=$p,Vp=sr,Wp=l(function(){return 4294967297!==[].push.call({length:4294967296},1)}),Yp=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},qp=Wp||!Yp();jp({target:"Array",proto:!0,arity:1,forced:qp},{push:function(e){var t=Up(this),n=Hp(t),r=arguments.length;Vp(n+r);for(var i=0;i<r;i++)t[n]=arguments[i],n++;return Gp(t,n),n}});var Xp=Oh("Array","push"),Kp=pe,Zp=Xp,Qp=Array.prototype,Jp=function(e){var t=e.push;return e===Qp||Kp(Qp,e)&&t===Qp.push?Zp:t},ef=i(Jp);function tf(e,t){var n=null==e?null:void 0!==Hu&&Op(e)||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(ef(a).call(a,r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}var nf=zn,rf=Xn,of=zr,sf=se,af=bi,lf=rr,cf=ne,uf=ur,hf=wt,df=nl,pf=Kr("slice"),ff=hf("species"),gf=Array,mf=Math.max;nf({target:"Array",proto:!0,forced:!pf},{slice:function(e,t){var n,r,i,o=cf(this),s=lf(o),a=af(e,s),l=af(void 0===t?s:t,s);if(rf(o)&&(n=o.constructor,(of(n)&&(n===gf||rf(n.prototype))||sf(n)&&null===(n=n[ff]))&&(n=void 0),n===gf||void 0===n))return df(o,a,l);for(r=new(void 0===n?gf:n)(mf(l-a,0)),i=0;a<l;a++,i++)a in o&&uf(r,i,o[a]);return r.length=i,r}});var vf=Oh("Array","slice"),yf=pe,bf=vf,wf=Array.prototype,xf=function(e){var t=e.slice;return e===wf||yf(wf,e)&&t===wf.slice?bf:t},_f=xf,Af=i(_f),Tf=i(Cp);function Ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kf(e,t){var n;if(e){if("string"==typeof e)return Ef(e,t);var r=Af(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Tf(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ef(e,t):void 0}}function Sf(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Cf(e,t){return Pp(e)||tf(e,t)||kf(e,t)||Sf()}function Nf(e){if(Lp(e))return Ef(e)}function Mf(e){if(void 0!==Hu&&null!=Op(e)||null!=e["@@iterator"])return Tf(e)}function Of(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rf(e){return Nf(e)||Mf(e)||kf(e)||Of()}var If=i(mu),Lf=Oh("Array","concat"),Pf=pe,Df=Lf,Bf=Array.prototype,Ff=i(function(e){var t=e.concat;return e===Bf||Pf(Bf,e)&&t===Bf.concat?Df:t}),zf=i(xf),$f=de,jf=ho,Uf=Co,Hf=pn,Gf=b([].concat),Vf=$f("Reflect","ownKeys")||function(e){var t=jf.f(Hf(e)),n=Uf.f;return n?Gf(t,n(e)):t};zn({target:"Reflect",stat:!0},{ownKeys:Vf});var Wf=i(ae.Reflect.ownKeys),Yf=i(Ip),qf=zn,Xf=rt,Kf=Di,Zf=l(function(){Kf(1)});qf({target:"Object",stat:!0,forced:Zf},{keys:function(e){return Kf(Xf(e))}});var Qf=i(ae.Object.keys),Jf=Cs.forEach,eg=Wh("forEach")?[].forEach:function(e){return Jf(this,e,arguments.length>1?arguments[1]:void 0)};zn({target:"Array",proto:!0,forced:[].forEach!==eg},{forEach:eg});var tg=Oh("Array","forEach"),ng=xr,rg=st,ig=pe,og=tg,sg=Array.prototype,ag={DOMTokenList:!0,NodeList:!0},lg=function(e){var t=e.forEach;return e===sg||ig(sg,e)&&t===sg.forEach||rg(ag,ng(e))?og:t},cg=i(lg),ug=zn,hg=Xn,dg=b([].reverse),pg=[1,2];ug({target:"Array",proto:!0,forced:String(pg)===String(pg.reverse())},{reverse:function(){return hg(this)&&(this.length=this.length),dg(this)}});var fg=Oh("Array","reverse"),gg=pe,mg=fg,vg=Array.prototype,yg=function(e){var t=e.reverse;return e===vg||gg(vg,e)&&t===vg.reverse?mg:t},bg=i(yg),wg=Ie,xg=TypeError,_g=function(e,t){if(!delete e[t])throw new xg("Cannot delete property "+wg(t)+" of "+wg(e))},Ag=zn,Tg=rt,Eg=bi,kg=Jn,Sg=rr,Cg=$p,Ng=sr,Mg=Wr,Og=ur,Rg=_g,Ig=Kr("splice"),Lg=Math.max,Pg=Math.min;Ag({target:"Array",proto:!0,forced:!Ig},{splice:function(e,t){var n,r,i,o,s,a,l=Tg(this),c=Sg(l),u=Eg(e,c),h=arguments.length;for(0===h?n=r=0:1===h?(n=0,r=c-u):(n=h-2,r=Pg(Lg(kg(t),0),c-u)),Ng(c+n-r),i=Mg(l,r),o=0;o<r;o++)(s=u+o)in l&&Og(i,o,l[s]);if(i.length=r,n<r){for(o=u;o<c-r;o++)a=o+n,(s=o+r)in l?l[a]=l[s]:Rg(l,a);for(o=c;o>c-r+n;o--)Rg(l,o-1)}else if(n>r)for(o=c-r;o>u;o--)a=o+n-1,(s=o+r-1)in l?l[a]=l[s]:Rg(l,a);for(o=0;o<n;o++)l[o+u]=arguments[o+2];return Cg(l,c-r+n),i}});var Dg=Oh("Array","splice"),Bg=pe,Fg=Dg,zg=Array.prototype,$g=i(function(e){var t=e.splice;return e===zg||Bg(zg,e)&&t===zg.splice?Fg:t}),jg=L,Ug=b,Hg=B,Gg=l,Vg=Di,Wg=Co,Yg=F,qg=rt,Xg=X,Kg=Object.assign,Zg=Object.defineProperty,Qg=Ug([].concat),Jg=!Kg||Gg(function(){if(jg&&1!==Kg({b:1},Kg(Zg({},"a",{enumerable:!0,get:function(){Zg(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!==Kg({},e)[n]||Vg(Kg({},t)).join("")!==r})?function(e,t){for(var n=qg(e),r=arguments.length,i=1,o=Wg.f,s=Yg.f;r>i;)for(var a,l=Xg(arguments[i++]),c=o?Qg(Vg(l),o(l)):Vg(l),u=c.length,h=0;u>h;)a=c[h++],jg&&!Hg(s,l,a)||(n[a]=l[a]);return n}:Kg,em=Jg;zn({target:"Object",stat:!0,arity:2,forced:Object.assign!==em},{assign:em});var tm=i(ae.Object.assign),nm=zn,rm=rt,im=lc,om=ec,sm=l(function(){im(1)});nm({target:"Object",stat:!0,forced:sm,sham:!om},{getPrototypeOf:function(e){return im(rm(e))}});var am=ae.Object.getPrototypeOf;zn({target:"Object",stat:!0,sham:!L},{create:uo});var lm=ae.Object,cm=function(e,t){return lm.create(e,t)},um=i(cm),hm=ae,dm=f;hm.JSON||(hm.JSON={stringify:JSON.stringify});var pm=function(e,t,n){return dm(hm.JSON.stringify,null,arguments)},fm=i(pm),gm="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,mm=TypeError,vm=function(e,t){if(e<t)throw new mm("Not enough arguments");return e},ym=a,bm=f,wm=R,xm=gm,_m=fe,Am=nl,Tm=vm,Em=ym.Function,km=/MSIE .\./.test(_m)||xm&&function(){var e=ym.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}(),Sm=function(e,t){var n=t?2:1;return km?function(r,i){var o=Tm(arguments.length,1)>n,s=wm(r)?r:Em(r),a=o?Am(arguments,n):[],l=o?function(){bm(s,this,a)}:s;return t?e(l,i):e(l)}:e},Cm=zn,Nm=a,Mm=Sm(Nm.setInterval,!0);Cm({global:!0,bind:!0,forced:Nm.setInterval!==Mm},{setInterval:Mm});var Om=zn,Rm=a,Im=Sm(Rm.setTimeout,!0);Om({global:!0,bind:!0,forced:Rm.setTimeout!==Im},{setTimeout:Im});var Lm=i(ae.setTimeout),Pm={exports:{}};!function(e){function t(e){if(e)return n(e);this._callbacks=new Map}function n(e){return Object.assign(e,t.prototype),e._callbacks=new Map,e}t.prototype.on=function(e,t){const n=this._callbacks.get(e)??[];return n.push(t),this._callbacks.set(e,n),this},t.prototype.once=function(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return n.fn=t,this.on(e,n),this},t.prototype.off=function(e,t){if(void 0===e&&void 0===t)return this._callbacks.clear(),this;if(void 0===t)return this._callbacks.delete(e),this;const n=this._callbacks.get(e);if(n){for(const[e,r]of n.entries())if(r===t||r.fn===t){n.splice(e,1);break}0===n.length?this._callbacks.delete(e):this._callbacks.set(e,n)}return this},t.prototype.emit=function(e,...t){const n=this._callbacks.get(e);if(n){const e=[...n];for(const n of e)n.apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks.get(e)??[]},t.prototype.listenerCount=function(e){if(e)return this.listeners(e).length;let t=0;for(const e of this._callbacks.values())t+=e.length;return t},t.prototype.hasListeners=function(e){return this.listenerCount(e)>0},t.prototype.addEventListener=t.prototype.on,t.prototype.removeListener=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,e.exports=t}(Pm);var Dm,Bm=i(Pm.exports);function Fm(){return Fm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fm.apply(this,arguments)}function zm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function $m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Dm="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var jm,Um=Dm,Hm=["","webkit","Moz","MS","ms","o"],Gm="undefined"==typeof document?{style:{}}:document.createElement("div"),Vm="function",Wm=Math.round,Ym=Math.abs,qm=Date.now;function Xm(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<Hm.length;){if((r=(n=Hm[o])?n+i:t)in e)return r;o++}}jm="undefined"==typeof window?{}:window;var Km=Xm(Gm.style,"touchAction"),Zm=void 0!==Km;function Qm(){if(!Zm)return!1;var e={},t=jm.CSS&&jm.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){return e[n]=!t||jm.CSS.supports("touch-action",n)}),e}var Jm="compute",ev="auto",tv="manipulation",nv="none",rv="pan-x",iv="pan-y",ov=Qm(),sv=/mobile|tablet|ip(ad|hone|od)|android/i,av="ontouchstart"in jm,lv=void 0!==Xm(jm,"PointerEvent"),cv=av&&sv.test(navigator.userAgent),uv="touch",hv="pen",dv="mouse",pv="kinect",fv=25,gv=1,mv=2,vv=4,yv=8,bv=1,wv=2,xv=4,_v=8,Av=16,Tv=wv|xv,Ev=_v|Av,kv=Tv|Ev,Sv=["x","y"],Cv=["clientX","clientY"];function Nv(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function Mv(e,t){return typeof e===Vm?e.apply(t&&t[0]||void 0,t):e}function Ov(e,t){return e.indexOf(t)>-1}function Rv(e){if(Ov(e,nv))return nv;var t=Ov(e,rv),n=Ov(e,iv);return t&&n?nv:t||n?t?rv:iv:Ov(e,tv)?tv:ev}var Iv=function(){function e(e,t){this.manager=e,this.set(t)}var t=e.prototype;return t.set=function(e){e===Jm&&(e=this.compute()),Zm&&this.manager.element.style&&ov[e]&&(this.manager.element.style[Km]=e),this.actions=e.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var e=[];return Nv(this.manager.recognizers,function(t){Mv(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Rv(e.join(" "))},t.preventDefaults=function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=Ov(r,nv)&&!ov[nv],o=Ov(r,iv)&&!ov[iv],s=Ov(r,rv)&&!ov[rv];if(i){var a=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(a&&l&&c)return}if(!s||!o)return i||o&&n&Tv||s&&n&Ev?this.preventSrc(t):void 0}},t.preventSrc=function(e){this.manager.session.prevented=!0,e.preventDefault()},e}();function Lv(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function Pv(e){var t=e.length;if(1===t)return{x:Wm(e[0].clientX),y:Wm(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:Wm(n/t),y:Wm(r/t)}}function Dv(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:Wm(e.pointers[n].clientX),clientY:Wm(e.pointers[n].clientY)},n++;return{timeStamp:qm(),pointers:t,center:Pv(t),deltaX:e.deltaX,deltaY:e.deltaY}}function Bv(e,t,n){n||(n=Sv);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function Fv(e,t,n){n||(n=Sv);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}function zv(e,t){return e===t?bv:Ym(e)>=Ym(t)?e<0?wv:xv:t<0?_v:Av}function $v(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==gv&&o.eventType!==vv||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function jv(e,t,n){return{x:t/e||0,y:n/e||0}}function Uv(e,t){return Bv(t[0],t[1],Cv)/Bv(e[0],e[1],Cv)}function Hv(e,t){return Fv(t[1],t[0],Cv)+Fv(e[1],e[0],Cv)}function Gv(e,t){var n,r,i,o,s=e.lastInterval||t,a=t.timeStamp-s.timeStamp;if(t.eventType!==yv&&(a>fv||void 0===s.velocity)){var l=t.deltaX-s.deltaX,c=t.deltaY-s.deltaY,u=jv(a,l,c);r=u.x,i=u.y,n=Ym(u.x)>Ym(u.y)?u.x:u.y,o=zv(l,c),e.lastInterval=t}else n=s.velocity,r=s.velocityX,i=s.velocityY,o=s.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}function Vv(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=Dv(t)),i>1&&!n.firstMultiple?n.firstMultiple=Dv(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=t.center=Pv(r);t.timeStamp=qm(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=Fv(a,l),t.distance=Bv(a,l),$v(n,t),t.offsetDirection=zv(t.deltaX,t.deltaY);var c=jv(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=Ym(c.x)>Ym(c.y)?c.x:c.y,t.scale=s?Uv(s.pointers,r):1,t.rotation=s?Hv(s.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,Gv(n,t);var u,h=e.element,d=t.srcEvent;Lv(u=d.composedPath?d.composedPath()[0]:d.path?d.path[0]:d.target,h)&&(h=u),t.target=h}function Wv(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&gv&&r-i===0,s=t&(vv|yv)&&r-i===0;n.isFirst=!!o,n.isFinal=!!s,o&&(e.session={}),n.eventType=t,Vv(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function Yv(e){return e.trim().split(/\s+/g)}function qv(e,t,n){Nv(Yv(t),function(t){e.addEventListener(t,n,!1)})}function Xv(e,t,n){Nv(Yv(t),function(t){e.removeEventListener(t,n,!1)})}function Kv(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var Zv=function(){function e(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){Mv(e.options.enable,[e])&&n.handler(t)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&qv(this.element,this.evEl,this.domHandler),this.evTarget&&qv(this.target,this.evTarget,this.domHandler),this.evWin&&qv(Kv(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&Xv(this.element,this.evEl,this.domHandler),this.evTarget&&Xv(this.target,this.evTarget,this.domHandler),this.evWin&&Xv(Kv(this.element),this.evWin,this.domHandler)},e}();function Qv(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}var Jv={pointerdown:gv,pointermove:mv,pointerup:vv,pointercancel:yv,pointerout:yv},ey={2:uv,3:hv,4:dv,5:pv},ty="pointerdown",ny="pointermove pointerup pointercancel";jm.MSPointerEvent&&!jm.PointerEvent&&(ty="MSPointerDown",ny="MSPointerMove MSPointerUp MSPointerCancel");var ry=function(e){function t(){var n,r=t.prototype;return r.evEl=ty,r.evWin=ny,(n=e.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return zm(t,e),t.prototype.handler=function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=Jv[r],o=ey[e.pointerType]||e.pointerType,s=o===uv,a=Qv(t,e.pointerId,"pointerId");i&gv&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):i&(vv|yv)&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))},t}(Zv);function iy(e){return Array.prototype.slice.call(e,0)}function oy(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];Qv(i,s)<0&&r.push(e[o]),i[o]=s,o++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}var sy={touchstart:gv,touchmove:mv,touchend:vv,touchcancel:yv},ay="touchstart touchmove touchend touchcancel",ly=function(e){function t(){var n;return t.prototype.evTarget=ay,(n=e.apply(this,arguments)||this).targetIds={},n}return zm(t,e),t.prototype.handler=function(e){var t=sy[e.type],n=cy.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:uv,srcEvent:e})},t}(Zv);function cy(e,t){var n,r,i=iy(e.touches),o=this.targetIds;if(t&(gv|mv)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var s=iy(e.changedTouches),a=[],l=this.target;if(r=i.filter(function(e){return Lv(e.target,l)}),t===gv)for(n=0;n<r.length;)o[r[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),t&(vv|yv)&&delete o[s[n].identifier],n++;return a.length?[oy(r.concat(a),"identifier",!0),a]:void 0}var uy={mousedown:gv,mousemove:mv,mouseup:vv},hy="mousedown",dy="mousemove mouseup",py=function(e){function t(){var n,r=t.prototype;return r.evEl=hy,r.evWin=dy,(n=e.apply(this,arguments)||this).pressed=!1,n}return zm(t,e),t.prototype.handler=function(e){var t=uy[e.type];t&gv&&0===e.button&&(this.pressed=!0),t&mv&&1!==e.which&&(t=vv),this.pressed&&(t&vv&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:dv,srcEvent:e}))},t}(Zv),fy=2500,gy=25;function my(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},r=this.lastTouches;this.lastTouches.push(n);var i=function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)};setTimeout(i,fy)}}function vy(e,t){e&gv?(this.primaryTouch=t.changedPointers[0].identifier,my.call(this,t)):e&(vv|yv)&&my.call(this,t)}function yy(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),s=Math.abs(n-i.y);if(o<=gy&&s<=gy)return!0}return!1}var by=function(){return function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handler=function(e,t,n){var i=n.pointerType===uv,o=n.pointerType===dv;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)vy.call($m($m(r)),t,n);else if(o&&yy.call($m($m(r)),n))return;r.callback(e,t,n)}},r.touch=new ly(r.manager,r.handler),r.mouse=new py(r.manager,r.handler),r.primaryTouch=null,r.lastTouches=[],r}return zm(t,e),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Zv)}();function wy(e){var t=e.options.inputClass;return new(t||(lv?ry:cv?ly:av?by:py))(e,Wv)}function xy(e,t,n){return!!Array.isArray(e)&&(Nv(e,n[t],n),!0)}var _y=1,Ay=2,Ty=4,Ey=8,ky=Ey,Sy=16,Cy=32,Ny=1;function My(){return Ny++}function Oy(e,t){var n=t.manager;return n?n.get(e):e}function Ry(e){return e&Sy?"cancel":e&Ey?"end":e&Ty?"move":e&Ay?"start":""}var Iy=function(){function e(e){void 0===e&&(e={}),this.options=Fm({enable:!0},e),this.id=My(),this.manager=null,this.state=_y,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(e){return Um(this.options,e),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(e){if(xy(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Oy(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},t.dropRecognizeWith=function(e){return xy(e,"dropRecognizeWith",this)||(e=Oy(e,this),delete this.simultaneous[e.id]),this},t.requireFailure=function(e){if(xy(e,"requireFailure",this))return this;var t=this.requireFail;return-1===Qv(t,e=Oy(e,this))&&(t.push(e),e.requireFailure(this)),this},t.dropRequireFailure=function(e){if(xy(e,"dropRequireFailure",this))return this;e=Oy(e,this);var t=Qv(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(e){return!!this.simultaneous[e.id]},t.emit=function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<Ey&&r(t.options.event+Ry(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=Ey&&r(t.options.event+Ry(n))},t.tryEmit=function(e){if(this.canEmit())return this.emit(e);this.state=Cy},t.canEmit=function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(Cy|_y)))return!1;e++}return!0},t.recognize=function(e){var t=Um({},e);if(!Mv(this.options.enable,[this,t]))return this.reset(),void(this.state=Cy);this.state&(ky|Sy|Cy)&&(this.state=_y),this.state=this.process(t),this.state&(Ay|Ty|Ey|Sy)&&this.tryEmit(t)},t.process=function(e){},t.getTouchAction=function(){},t.reset=function(){},e}(),Ly=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,Fm({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},t))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}zm(t,e);var n=t.prototype;return n.getTouchAction=function(){return[tv]},n.process=function(e){var t=this,n=this.options,r=e.pointers.length===n.pointers,i=e.distance<n.threshold,o=e.deltaTime<n.time;if(this.reset(),e.eventType&gv&&0===this.count)return this.failTimeout();if(i&&o&&r){if(e.eventType!==vv)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<n.interval,a=!this.pCenter||Bv(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&s?this.count+=1:this.count=1,this._input=e,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){t.state=ky,t.tryEmit()},n.interval),Ay):ky}return Cy},n.failTimeout=function(){var e=this;return this._timer=setTimeout(function(){e.state=Cy},this.options.interval),Cy},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){this.state===ky&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(Iy),Py=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Fm({pointers:1},t))||this}zm(t,e);var n=t.prototype;return n.attrTest=function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},n.process=function(e){var t=this.state,n=e.eventType,r=t&(Ay|Ty),i=this.attrTest(e);return r&&(n&yv||!i)?t|Sy:r||i?n&vv?t|Ey:t&Ay?t|Ty:Ay:Cy},t}(Iy);function Dy(e){return e===Av?"down":e===_v?"up":e===wv?"left":e===xv?"right":""}var By=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,Fm({event:"pan",threshold:10,pointers:1,direction:kv},t))||this).pX=null,n.pY=null,n}zm(t,e);var n=t.prototype;return n.getTouchAction=function(){var e=this.options.direction,t=[];return e&Tv&&t.push(iv),e&Ev&&t.push(rv),t},n.directionTest=function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,s=e.deltaY;return i&t.direction||(t.direction&Tv?(i=0===o?bv:o<0?wv:xv,n=o!==this.pX,r=Math.abs(e.deltaX)):(i=0===s?bv:s<0?_v:Av,n=s!==this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},n.attrTest=function(e){return Py.prototype.attrTest.call(this,e)&&(this.state&Ay||!(this.state&Ay)&&this.directionTest(e))},n.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var n=Dy(t.direction);n&&(t.additionalEvent=this.options.event+n),e.prototype.emit.call(this,t)},t}(Py),Fy=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Fm({event:"swipe",threshold:10,velocity:.3,direction:Tv|Ev,pointers:1},t))||this}zm(t,e);var n=t.prototype;return n.getTouchAction=function(){return By.prototype.getTouchAction.call(this)},n.attrTest=function(t){var n,r=this.options.direction;return r&(Tv|Ev)?n=t.overallVelocity:r&Tv?n=t.overallVelocityX:r&Ev&&(n=t.overallVelocityY),e.prototype.attrTest.call(this,t)&&r&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&Ym(n)>this.options.velocity&&t.eventType&vv},n.emit=function(e){var t=Dy(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)},t}(Py),zy=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Fm({event:"pinch",threshold:0,pointers:2},t))||this}zm(t,e);var n=t.prototype;return n.getTouchAction=function(){return[nv]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Ay)},n.emit=function(t){if(1!==t.scale){var n=t.scale<1?"in":"out";t.additionalEvent=this.options.event+n}e.prototype.emit.call(this,t)},t}(Py),$y=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Fm({event:"rotate",threshold:0,pointers:2},t))||this}zm(t,e);var n=t.prototype;return n.getTouchAction=function(){return[nv]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Ay)},t}(Py),jy=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,Fm({event:"press",pointers:1,time:251,threshold:9},t))||this)._timer=null,n._input=null,n}zm(t,e);var n=t.prototype;return n.getTouchAction=function(){return[ev]},n.process=function(e){var t=this,n=this.options,r=e.pointers.length===n.pointers,i=e.distance<n.threshold,o=e.deltaTime>n.time;if(this._input=e,!i||!r||e.eventType&(vv|yv)&&!o)this.reset();else if(e.eventType&gv)this.reset(),this._timer=setTimeout(function(){t.state=ky,t.tryEmit()},n.time);else if(e.eventType&vv)return ky;return Cy},n.reset=function(){clearTimeout(this._timer)},n.emit=function(e){this.state===ky&&(e&&e.eventType&vv?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=qm(),this.manager.emit(this.options.event,this._input)))},t}(Iy),Uy={domEvents:!1,touchAction:Jm,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Hy=[[$y,{enable:!1}],[zy,{enable:!1},["rotate"]],[Fy,{direction:Tv}],[By,{direction:Tv},["swipe"]],[Ly],[Ly,{event:"doubletap",taps:2},["tap"]],[jy]],Gy=1,Vy=2;function Wy(e,t){var n,r=e.element;r.style&&(Nv(e.options.cssProps,function(i,o){n=Xm(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}function Yy(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var qy=function(){function e(e,t){var n=this;this.options=Um({},Uy,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=wy(this),this.touchAction=new Iv(this,this.options.touchAction),Wy(this,!0),Nv(this.options.recognizers,function(e){var t=n.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}var t=e.prototype;return t.set=function(e){return Um(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},t.stop=function(e){this.session.stopped=e?Vy:Gy},t.recognize=function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&ky)&&(t.curRecognizer=null,i=null);for(var o=0;o<r.length;)n=r[o],t.stopped===Vy||i&&n!==i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(Ay|Ty|Ey)&&(t.curRecognizer=n,i=n),o++}},t.get=function(e){if(e instanceof Iy)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event===e)return t[n];return null},t.add=function(e){if(xy(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},t.remove=function(e){if(xy(e,"remove",this))return this;var t=this.get(e);if(e){var n=this.recognizers,r=Qv(n,t);-1!==r&&(n.splice(r,1),this.touchAction.update())}return this},t.on=function(e,t){if(void 0===e||void 0===t)return this;var n=this.handlers;return Nv(Yv(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},t.off=function(e,t){if(void 0===e)return this;var n=this.handlers;return Nv(Yv(e),function(e){t?n[e]&&n[e].splice(Qv(n[e],t),1):delete n[e]}),this},t.emit=function(e,t){this.options.domEvents&&Yy(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},t.destroy=function(){this.element&&Wy(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),Xy={touchstart:gv,touchmove:mv,touchend:vv,touchcancel:yv},Ky="touchstart",Zy="touchstart touchmove touchend touchcancel",Qy=function(e){function t(){var n,r=t.prototype;return r.evTarget=Ky,r.evWin=Zy,(n=e.apply(this,arguments)||this).started=!1,n}return zm(t,e),t.prototype.handler=function(e){var t=Xy[e.type];if(t===gv&&(this.started=!0),this.started){var n=Jy.call(this,e,t);t&(vv|yv)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:uv,srcEvent:e})}},t}(Zv);function Jy(e,t){var n=iy(e.touches),r=iy(e.changedTouches);return t&(vv|yv)&&(n=oy(n.concat(r),"identifier",!0)),[n,r]}function eb(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=window.console&&(window.console.warn||window.console.log);return i&&i.call(window.console,r,n),e.apply(this,arguments)}}var tb=eb(function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&void 0===e[r[i]])&&(e[r[i]]=t[r[i]]),i++;return e},"extend","Use `assign`."),nb=eb(function(e,t){return tb(e,t,!0)},"merge","Use `assign`.");function rb(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&Um(r,n)}function ib(e,t){return function(){return e.apply(t,arguments)}}var ob=function(){var e=function(e,t){return void 0===t&&(t={}),new qy(e,Fm({recognizers:Hy.concat()},t))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=kv,e.DIRECTION_DOWN=Av,e.DIRECTION_LEFT=wv,e.DIRECTION_RIGHT=xv,e.DIRECTION_UP=_v,e.DIRECTION_HORIZONTAL=Tv,e.DIRECTION_VERTICAL=Ev,e.DIRECTION_NONE=bv,e.DIRECTION_DOWN=Av,e.INPUT_START=gv,e.INPUT_MOVE=mv,e.INPUT_END=vv,e.INPUT_CANCEL=yv,e.STATE_POSSIBLE=_y,e.STATE_BEGAN=Ay,e.STATE_CHANGED=Ty,e.STATE_ENDED=Ey,e.STATE_RECOGNIZED=ky,e.STATE_CANCELLED=Sy,e.STATE_FAILED=Cy,e.Manager=qy,e.Input=Zv,e.TouchAction=Iv,e.TouchInput=ly,e.MouseInput=py,e.PointerEventInput=ry,e.TouchMouseInput=by,e.SingleTouchInput=Qy,e.Recognizer=Iy,e.AttrRecognizer=Py,e.Tap=Ly,e.Pan=By,e.Swipe=Fy,e.Pinch=zy,e.Rotate=$y,e.Press=jy,e.on=qv,e.off=Xv,e.each=Nv,e.merge=nb,e.extend=tb,e.bindFn=ib,e.assign=Um,e.inherit=rb,e.bindFn=ib,e.prefixed=Xm,e.toArray=iy,e.inArray=Qv,e.uniqueArray=oy,e.splitStr=Yv,e.boolOrFn=Mv,e.hasParent=Lv,e.addEventListeners=qv,e.removeEventListeners=Xv,e.defaults=Um({},Uy,{preset:Hy}),e}();function sb(e,t){var n=void 0!==If&&Rp(e)||e["@@iterator"];if(!n){if(Yf(e)||(n=ab(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function ab(e,t){var n;if(e){if("string"==typeof e)return lb(e,t);var r=zf(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Np(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lb(e,t):void 0}}function lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cb=If("DELETE");function ub(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return hb.apply(void 0,Ff(t=[{},e]).call(t,r))}function hb(){var e=db.apply(void 0,arguments);return fb(e),e}function db(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length<2)return t[0];var r;if(t.length>2)return db.apply(void 0,Ff(r=[hb(t[0],t[1])]).call(r,Rf(zf(t).call(t,2))));var i=t[0],o=t[1];if(i instanceof Date&&o instanceof Date)return i.setTime(o.getTime()),i;var s,a=sb(Wf(o));try{for(a.s();!(s=a.n()).done;){var l=s.value;Object.prototype.propertyIsEnumerable.call(o,l)&&(o[l]===cb?delete i[l]:null===i[l]||null===o[l]||"object"!=typeof i[l]||"object"!=typeof o[l]||Yf(i[l])||Yf(o[l])?i[l]=pb(o[l]):i[l]=db(i[l],o[l]))}}catch(e){a.e(e)}finally{a.f()}return i}function pb(e){return Yf(e)?bd(e).call(e,function(e){return pb(e)}):"object"==typeof e&&null!==e?e instanceof Date?new Date(e.getTime()):db({},e):e}function fb(e){for(var t=0,n=Qf(e);t<n.length;t++){var r=n[t];e[r]===cb?delete e[r]:"object"==typeof e[r]&&null!==e[r]&&fb(e[r])}}function gb(){var e=function(){};return{on:e,off:e,destroy:e,emit:e,get:()=>({set:e})}}var mb="undefined"!=typeof window?window.Hammer||ob:function(){return gb()};function vb(e){var t,n=this;this._cleanupQueue=[],this.active=!1,this._dom={container:e,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){n._dom.overlay.parentNode.removeChild(n._dom.overlay)});var r=mb(this._dom.overlay);r.on("tap",Bh(t=this._onTapOverlay).call(t,this)),this._cleanupQueue.push(function(){r.destroy()});var i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];cg(i).call(i,function(e){r.on(e,function(e){e.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(t){yb(t.target,e)||n.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",n._onClick)})),this._escListener=function(e){("key"in e?"Escape"===e.key:27===e.keyCode)&&n.deactivate()}}function yb(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}Bm(vb.prototype),vb.current=null,vb.prototype.destroy=function(){var e,t;this.deactivate();var n,r=sb(bg(e=$g(t=this._cleanupQueue).call(t,0)).call(e));try{for(r.s();!(n=r.n()).done;)(0,n.value)()}catch(e){r.e(e)}finally{r.f()}},vb.prototype.activate=function(){vb.current&&vb.current.deactivate(),vb.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},vb.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},vb.prototype._onTapOverlay=function(e){this.activate(),e.srcEvent.stopPropagation()};var bb=zr,wb=Ie,xb=TypeError,_b=function(e){if(bb(e))return e;throw new xb(wb(e)+" is not a constructor")},Ab=zn,Tb=f,Eb=Sh,kb=_b,Sb=pn,Cb=se,Nb=uo,Mb=l,Ob=de("Reflect","construct"),Rb=Object.prototype,Ib=[].push,Lb=Mb(function(){function e(){}return!(Ob(function(){},[],e)instanceof e)}),Pb=!Mb(function(){Ob(function(){})}),Db=Lb||Pb;Ab({target:"Reflect",stat:!0,forced:Db,sham:Db},{construct:function(e,t){kb(e),Sb(t);var n=arguments.length<3?e:kb(arguments[2]);if(Pb&&!Lb)return Ob(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return Tb(Ib,r,t),new(Tb(Eb,e,r))}var i=n.prototype,o=Nb(Cb(i)?i:Rb),s=Tb(e,o,t);return Cb(s)?s:o}});var Bb=i(ae.Reflect.construct),Fb=i(ae.Object.getOwnPropertySymbols),zb={exports:{}},$b=zn,jb=l,Ub=ne,Hb=I.f,Gb=L,Vb=!Gb||jb(function(){Hb(1)});$b({target:"Object",stat:!0,forced:Vb,sham:!Gb},{getOwnPropertyDescriptor:function(e,t){return Hb(Ub(e),t)}});var Wb=ae.Object,Yb=zb.exports=function(e,t){return Wb.getOwnPropertyDescriptor(e,t)};Wb.getOwnPropertyDescriptor.sham&&(Yb.sham=!0);var qb=i(zb.exports),Xb=Vf,Kb=ne,Zb=I,Qb=ur;zn({target:"Object",stat:!0,sham:!L},{getOwnPropertyDescriptors:function(e){for(var t,n,r=Kb(e),i=Zb.f,o=Xb(r),s={},a=0;o.length>a;)void 0!==(n=i(r,t=o[a++]))&&Qb(s,t,n);return s}});var Jb=i(ae.Object.getOwnPropertyDescriptors),ew={exports:{}},tw=zn,nw=L,rw=gi.f;tw({target:"Object",stat:!0,forced:Object.defineProperties!==rw,sham:!nw},{defineProperties:rw});var iw=ae.Object,ow=ew.exports=function(e,t){return iw.defineProperties(e,t)};iw.defineProperties.sham&&(ow.sham=!0);var sw=i(ew.exports),aw=i(Vn);function lw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var cw=cm,uw=i(cw);zn({target:"Object",stat:!0},{setPrototypeOf:Ic});var hw=ae.Object.setPrototypeOf,dw=i(hw),pw=i(Dh);function fw(e,t){var n;return fw=dw?pw(n=dw).call(n):function(e,t){return e.__proto__=t,e},fw(e,t)}function gw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=uw(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Yn(e,"prototype",{writable:!1}),t&&fw(e,t)}function mw(e,t){if(t&&("object"===ch(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lw(e)}var vw=am,yw=i(vw);function bw(e){var t;return bw=dw?pw(t=yw).call(t):function(e){return e.__proto__||yw(e)},bw(e)}var ww={exports:{}},xw={exports:{}};!function(e){var t=Uu,n=ah;function r(i){return e.exports=r="function"==typeof t&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof t&&e.constructor===t&&e!==t.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(i)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(xw);var _w=xw.exports,Aw=lg,Tw=st,Ew=Vf,kw=I,Sw=an,Cw=function(e,t,n){for(var r=Ew(t),i=Sw.f,o=kw.f,s=0;s<r.length;s++){var a=r[s];Tw(e,a)||n&&Tw(n,a)||i(e,a,o(t,a))}},Nw=se,Mw=Sn,Ow=function(e,t){Nw(t)&&"cause"in t&&Mw(e,"cause",t.cause)},Rw=Error,Iw=b("".replace),Lw=String(new Rw("zxcasd").stack),Pw=/\n\s*at [^:]*:[^\n]*/,Dw=Pw.test(Lw),Bw=function(e,t){if(Dw&&"string"==typeof e&&!Rw.prepareStackTrace)for(;t--;)e=Iw(e,Pw,"");return e},Fw=G,zw=!l(function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",Fw(1,7)),7!==e.stack)}),$w=Sn,jw=Bw,Uw=zw,Hw=Error.captureStackTrace,Gw=function(e,t,n,r){Uw&&(Hw?Hw(e,t):$w(e,"stack",jw(n,r)))},Vw=sn,Ww=B,Yw=pn,qw=Ie,Xw=qd,Kw=rr,Zw=pe,Qw=ap,Jw=ep,ex=jd,tx=TypeError,nx=function(e,t){this.stopped=e,this.result=t},rx=nx.prototype,ix=function(e,t,n){var r,i,o,s,a,l,c,u=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),g=Vw(t,u),m=function(e){return r&&ex(r,"normal",e),new nx(!0,e)},v=function(e){return h?(Yw(e),f?g(e[0],e[1],m):g(e[0],e[1])):f?g(e,m):g(e)};if(d)r=e.iterator;else if(p)r=e;else{if(!(i=Jw(e)))throw new tx(qw(e)+" is not iterable");if(Xw(i)){for(o=0,s=Kw(e);s>o;o++)if((a=v(e[o]))&&Zw(rx,a))return a;return new nx(!1)}r=Qw(e,i)}for(l=d?e.next:r.next;!(c=Ww(l,r)).done;){try{a=v(c.value)}catch(e){ex(r,"throw",e)}if("object"==typeof a&&a&&Zw(rx,a))return a}return new nx(!1)},ox=fi,sx=function(e,t){return void 0===e?arguments.length<2?"":t:ox(e)},ax=zn,lx=pe,cx=lc,ux=Ic,hx=Cw,dx=uo,px=Sn,fx=G,gx=Ow,mx=Gw,vx=ix,yx=sx,bx=wt("toStringTag"),wx=Error,xx=[].push,_x=function(e,t){var n,r=lx(Ax,this);ux?n=ux(new wx,r?cx(this):Ax):(n=r?this:dx(Ax),px(n,bx,"Error")),void 0!==t&&px(n,"message",yx(t)),mx(n,_x,n.stack,1),arguments.length>2&&gx(n,arguments[2]);var i=[];return vx(e,xx,{that:i}),px(n,"errors",i),n};ux?ux(_x,wx):hx(_x,wx,{name:!0});var Ax=_x.prototype=dx(wx.prototype,{constructor:fx(1,_x),message:fx(1,""),name:fx(1,"AggregateError")});ax({global:!0,constructor:!0,arity:2},{AggregateError:_x});var Tx,Ex,kx,Sx,Cx=de,Nx=Ro,Mx=L,Ox=wt("species"),Rx=function(e){var t=Cx(e);Mx&&t&&!t[Ox]&&Nx(t,Ox,{configurable:!0,get:function(){return this}})},Ix=pe,Lx=TypeError,Px=function(e,t){if(Ix(t,e))return e;throw new Lx("Incorrect invocation")},Dx=pn,Bx=_b,Fx=K,zx=wt("species"),$x=function(e,t){var n,r=Dx(e).constructor;return void 0===r||Fx(n=Dx(r)[zx])?t:Bx(n)},jx=/(?:ipad|iphone|ipod).*applewebkit/i.test(fe),Ux=a,Hx=f,Gx=sn,Vx=R,Wx=st,Yx=l,qx=Gi,Xx=nl,Kx=Lt,Zx=vm,Qx=jx,Jx=Yh,e_=Ux.setImmediate,t_=Ux.clearImmediate,n_=Ux.process,r_=Ux.Dispatch,i_=Ux.Function,o_=Ux.MessageChannel,s_=Ux.String,a_=0,l_={},c_="onreadystatechange";Yx(function(){Tx=Ux.location});var u_=function(e){if(Wx(l_,e)){var t=l_[e];delete l_[e],t()}},h_=function(e){return function(){u_(e)}},d_=function(e){u_(e.data)},p_=function(e){Ux.postMessage(s_(e),Tx.protocol+"//"+Tx.host)};e_&&t_||(e_=function(e){Zx(arguments.length,1);var t=Vx(e)?e:i_(e),n=Xx(arguments,1);return l_[++a_]=function(){Hx(t,void 0,n)},Ex(a_),a_},t_=function(e){delete l_[e]},Jx?Ex=function(e){n_.nextTick(h_(e))}:r_&&r_.now?Ex=function(e){r_.now(h_(e))}:o_&&!Qx?(Sx=(kx=new o_).port2,kx.port1.onmessage=d_,Ex=Gx(Sx.postMessage,Sx)):Ux.addEventListener&&Vx(Ux.postMessage)&&!Ux.importScripts&&Tx&&"file:"!==Tx.protocol&&!Yx(p_)?(Ex=p_,Ux.addEventListener("message",d_,!1)):Ex=c_ in Kx("script")?function(e){qx.appendChild(Kx("script"))[c_]=function(){qx.removeChild(this),u_(e)}}:function(e){setTimeout(h_(e),0)});var f_={set:e_,clear:t_},g_=function(){this.head=null,this.tail=null};g_.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var m_,v_,y_,b_,w_,x_=g_,__=/ipad|iphone|ipod/i.test(fe)&&"undefined"!=typeof Pebble,A_=/web0s(?!.*chrome)/i.test(fe),T_=a,E_=sn,k_=I.f,S_=f_.set,C_=x_,N_=jx,M_=__,O_=A_,R_=Yh,I_=T_.MutationObserver||T_.WebKitMutationObserver,L_=T_.document,P_=T_.process,D_=T_.Promise,B_=k_(T_,"queueMicrotask"),F_=B_&&B_.value;if(!F_){var z_=new C_,$_=function(){var e,t;for(R_&&(e=P_.domain)&&e.exit();t=z_.get();)try{t()}catch(e){throw z_.head&&m_(),e}e&&e.enter()};N_||R_||O_||!I_||!L_?!M_&&D_&&D_.resolve?((b_=D_.resolve(void 0)).constructor=D_,w_=E_(b_.then,b_),m_=function(){w_($_)}):R_?m_=function(){P_.nextTick($_)}:(S_=E_(S_,T_),m_=function(){S_($_)}):(v_=!0,y_=L_.createTextNode(""),new I_($_).observe(y_,{characterData:!0}),m_=function(){y_.data=v_=!v_}),F_=function(e){z_.head||m_(),z_.add(e)}}var j_=F_,U_=function(e,t){},H_=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},G_=a.Promise,V_="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,W_=Yh,Y_=!V_&&!W_&&"object"==typeof window&&"object"==typeof document,q_=a,X_=G_,K_=R,Z_=tn,Q_=Er,J_=wt,eA=Y_,tA=V_,nA=xe,rA=X_&&X_.prototype,iA=J_("species"),oA=!1,sA=K_(q_.PromiseRejectionEvent),aA={CONSTRUCTOR:Z_("Promise",function(){var e=Q_(X_),t=e!==String(X_);if(!t&&66===nA)return!0;if(!rA.catch||!rA.finally)return!0;if(!nA||nA<51||!/native code/.test(e)){var n=new X_(function(e){e(1)}),r=function(e){e(function(){},function(){})};if((n.constructor={})[iA]=r,!(oA=n.then(function(){})instanceof r))return!0}return!t&&(eA||tA)&&!sA}),REJECTION_EVENT:sA,SUBCLASSING:oA},lA={},cA=Be,uA=TypeError,hA=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw new uA("Bad Promise constructor");t=e,n=r}),this.resolve=cA(t),this.reject=cA(n)};lA.f=function(e){return new hA(e)};var dA=zn,pA=Yh,fA=a,gA=B,mA=Mo,vA=ns,yA=Rx,bA=Be,wA=R,xA=se,_A=Px,AA=$x,TA=f_.set,EA=j_,kA=U_,SA=H_,CA=x_,NA=ws,MA=G_,OA=aA,RA=lA,IA="Promise",LA=OA.CONSTRUCTOR,PA=OA.REJECTION_EVENT;OA.SUBCLASSING;var DA,BA,FA,zA=NA.getterFor(IA),$A=NA.set,jA=MA&&MA.prototype,UA=MA,HA=jA,GA=fA.TypeError,VA=fA.document,WA=fA.process,YA=RA.f,qA=YA,XA=!!(VA&&VA.createEvent&&fA.dispatchEvent),KA="unhandledrejection",ZA="rejectionhandled",QA=0,JA=1,eT=2,tT=1,nT=2,rT=function(e){var t;return!(!xA(e)||!wA(t=e.then))&&t},iT=function(e,t){var n,r,i,o=t.value,s=t.state===JA,a=s?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{a?(s||(t.rejection===nT&&cT(t),t.rejection=tT),!0===a?n=o:(u&&u.enter(),n=a(o),u&&(u.exit(),i=!0)),n===e.promise?c(new GA("Promise-chain cycle")):(r=rT(n))?gA(r,n,l,c):l(n)):c(o)}catch(e){u&&!i&&u.exit(),c(e)}},oT=function(e,t){e.notified||(e.notified=!0,EA(function(){for(var n,r=e.reactions;n=r.get();)iT(n,e);e.notified=!1,t&&!e.rejection&&aT(e)}))},sT=function(e,t,n){var r,i;XA?((r=VA.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),fA.dispatchEvent(r)):r={promise:t,reason:n},!PA&&(i=fA["on"+e])?i(r):e===KA&&kA("Unhandled promise rejection",n)},aT=function(e){gA(TA,fA,function(){var t,n=e.facade,r=e.value;if(lT(e)&&(t=SA(function(){pA?WA.emit("unhandledRejection",r,n):sT(KA,n,r)}),e.rejection=pA||lT(e)?nT:tT,t.error))throw t.value})},lT=function(e){return e.rejection!==tT&&!e.parent},cT=function(e){gA(TA,fA,function(){var t=e.facade;pA?WA.emit("rejectionHandled",t):sT(ZA,t,e.value)})},uT=function(e,t,n){return function(r){e(t,r,n)}},hT=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=eT,oT(e,!0))},dT=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new GA("Promise can't be resolved itself");var r=rT(t);r?EA(function(){var n={done:!1};try{gA(r,t,uT(dT,n,e),uT(hT,n,e))}catch(t){hT(n,t,e)}}):(e.value=t,e.state=JA,oT(e,!1))}catch(t){hT({done:!1},t,e)}}};LA&&(HA=(UA=function(e){_A(this,HA),bA(e),gA(DA,this);var t=zA(this);try{e(uT(dT,t),uT(hT,t))}catch(e){hT(t,e)}}).prototype,(DA=function(e){$A(this,{type:IA,done:!1,notified:!1,parent:!1,reactions:new CA,rejection:!1,state:QA,value:void 0})}).prototype=mA(HA,"then",function(e,t){var n=zA(this),r=YA(AA(this,UA));return n.parent=!0,r.ok=!wA(e)||e,r.fail=wA(t)&&t,r.domain=pA?WA.domain:void 0,n.state===QA?n.reactions.add(r):EA(function(){iT(r,n)}),r.promise}),BA=function(){var e=new DA,t=zA(e);this.promise=e,this.resolve=uT(dT,t),this.reject=uT(hT,t)},RA.f=YA=function(e){return e===UA||e===FA?new BA(e):qA(e)}),dA({global:!0,constructor:!0,wrap:!0,forced:LA},{Promise:UA}),vA(UA,IA,!1,!0),yA(IA);var pT=G_,fT=Tp,gT=aA.CONSTRUCTOR||!fT(function(e){pT.all(e).then(void 0,function(){})}),mT=B,vT=Be,yT=lA,bT=H_,wT=ix;zn({target:"Promise",stat:!0,forced:gT},{all:function(e){var t=this,n=yT.f(t),r=n.resolve,i=n.reject,o=bT(function(){var n=vT(t.resolve),o=[],s=0,a=1;wT(e,function(e){var l=s++,c=!1;a++,mT(n,t,e).then(function(e){c||(c=!0,o[l]=e,--a||r(o))},i)}),--a||r(o)});return o.error&&i(o.value),n.promise}});var xT=zn,_T=aA.CONSTRUCTOR,AT=G_;AT&&AT.prototype,xT({target:"Promise",proto:!0,forced:_T,real:!0},{catch:function(e){return this.then(void 0,e)}});var TT=B,ET=Be,kT=lA,ST=H_,CT=ix;zn({target:"Promise",stat:!0,forced:gT},{race:function(e){var t=this,n=kT.f(t),r=n.reject,i=ST(function(){var i=ET(t.resolve);CT(e,function(e){TT(i,t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}});var NT=zn,MT=B,OT=lA,RT=aA.CONSTRUCTOR;NT({target:"Promise",stat:!0,forced:RT},{reject:function(e){var t=OT.f(this);return MT(t.reject,void 0,e),t.promise}});var IT=pn,LT=se,PT=lA,DT=function(e,t){if(IT(e),LT(t)&&t.constructor===e)return t;var n=PT.f(e);return(0,n.resolve)(t),n.promise},BT=zn,FT=de,zT=Ye,$T=G_,jT=aA.CONSTRUCTOR,UT=DT,HT=FT("Promise"),GT=!jT;BT({target:"Promise",stat:!0,forced:zT},{resolve:function(e){return UT(GT&&this===HT?$T:this,e)}});var VT=B,WT=Be,YT=lA,qT=H_,XT=ix;zn({target:"Promise",stat:!0,forced:gT},{allSettled:function(e){var t=this,n=YT.f(t),r=n.resolve,i=n.reject,o=qT(function(){var n=WT(t.resolve),i=[],o=0,s=1;XT(e,function(e){var a=o++,l=!1;s++,VT(n,t,e).then(function(e){l||(l=!0,i[a]={status:"fulfilled",value:e},--s||r(i))},function(e){l||(l=!0,i[a]={status:"rejected",reason:e},--s||r(i))})}),--s||r(i)});return o.error&&i(o.value),n.promise}});var KT=B,ZT=Be,QT=de,JT=lA,eE=H_,tE=ix,nE="No one promise resolved";zn({target:"Promise",stat:!0,forced:gT},{any:function(e){var t=this,n=QT("AggregateError"),r=JT.f(t),i=r.resolve,o=r.reject,s=eE(function(){var r=ZT(t.resolve),s=[],a=0,l=1,c=!1;tE(e,function(e){var u=a++,h=!1;l++,KT(r,t,e).then(function(e){h||c||(c=!0,i(e))},function(e){h||c||(h=!0,s[u]=e,--l||o(new n(s,nE)))})}),--l||o(new n(s,nE))});return s.error&&o(s.value),r.promise}});var rE=zn,iE=G_,oE=l,sE=de,aE=R,lE=$x,cE=DT,uE=iE&&iE.prototype,hE=!!iE&&oE(function(){uE.finally.call({then:function(){}},function(){})});rE({target:"Promise",proto:!0,real:!0,forced:hE},{finally:function(e){var t=lE(this,sE("Promise")),n=aE(e);return this.then(n?function(n){return cE(t,e()).then(function(){return n})}:e,n?function(n){return cE(t,e()).then(function(){throw n})}:e)}});var dE=ae.Promise,pE=lA;zn({target:"Promise",stat:!0},{withResolvers:function(){var e=pE.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var fE=dE,gE=lA,mE=H_;zn({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=gE.f(this),n=mE(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var vE=fE,yE=yg;!function(e){var t=_w.default,n=Wn,r=Uu,i=cw,o=vw,s=Aw,a=Jp,l=hw,c=vE,u=yE,h=_f;function d(){e.exports=d=function(){return f},e.exports.__esModule=!0,e.exports.default=e.exports;var p,f={},g=Object.prototype,m=g.hasOwnProperty,v=n||function(e,t,n){e[t]=n.value},y="function"==typeof r?r:{},b=y.iterator||"@@iterator",w=y.asyncIterator||"@@asyncIterator",x=y.toStringTag||"@@toStringTag";function _(e,t,r){return n(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{_({},"")}catch(p){_=function(e,t,n){return e[t]=n}}function A(e,t,n,r){var o=t&&t.prototype instanceof M?t:M,s=i(o.prototype),a=new U(r||[]);return v(s,"_invoke",{value:F(e,n,a)}),s}function T(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}f.wrap=A;var E="suspendedStart",k="suspendedYield",S="executing",C="completed",N={};function M(){}function O(){}function R(){}var I={};_(I,b,function(){return this});var L=o&&o(o(H([])));L&&L!==g&&m.call(L,b)&&(I=L);var P=R.prototype=M.prototype=i(I);function D(e){var t;s(t=["next","throw","return"]).call(t,function(t){_(e,t,function(e){return this._invoke(t,e)})})}function B(e,n){function r(i,o,s,a){var l=T(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==t(u)&&m.call(u,"__await")?n.resolve(u.__await).then(function(e){r("next",e,s,a)},function(e){r("throw",e,s,a)}):n.resolve(u).then(function(e){c.value=e,s(c)},function(e){return r("throw",e,s,a)})}a(l.arg)}var i;v(this,"_invoke",{value:function(e,t){function o(){return new n(function(n,i){r(e,t,n,i)})}return i=i?i.then(o,o):o()}})}function F(e,t,n){var r=E;return function(i,o){if(r===S)throw new Error("Generator is already running");if(r===C){if("throw"===i)throw o;return{value:p,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=z(s,n);if(a){if(a===N)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===E)throw r=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=S;var l=T(e,t,n);if("normal"===l.type){if(r=n.done?C:k,l.arg===N)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=C,n.method="throw",n.arg=l.arg)}}}function z(e,t){var n=t.method,r=e.iterator[n];if(r===p)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=p,z(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),N;var i=T(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,N;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=p),t.delegate=null,N):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,N)}function $(e){var t,n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),a(t=this.tryEntries).call(t,n)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],s(e).call(e,$,this),this.reset(!0)}function H(e){if(e||""===e){var n=e[b];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(m.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=p,t.done=!0,t};return i.next=i}}throw new TypeError(t(e)+" is not iterable")}return O.prototype=R,v(P,"constructor",{value:R,configurable:!0}),v(R,"constructor",{value:O,configurable:!0}),O.displayName=_(R,x,"GeneratorFunction"),f.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===O||"GeneratorFunction"===(t.displayName||t.name))},f.mark=function(e){return l?l(e,R):(e.__proto__=R,_(e,x,"GeneratorFunction")),e.prototype=i(P),e},f.awrap=function(e){return{__await:e}},D(B.prototype),_(B.prototype,w,function(){return this}),f.AsyncIterator=B,f.async=function(e,t,n,r,i){void 0===i&&(i=c);var o=new B(A(e,t,n,r),i);return f.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},D(P),_(P,x,"Generator"),_(P,b,function(){return this}),_(P,"toString",function(){return"[object Generator]"}),f.keys=function(e){var t=Object(e),n=[];for(var r in t)a(n).call(n,r);return u(n).call(n),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},f.values=H,U.prototype={constructor:U,reset:function(e){var t;if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,s(t=this.tryEntries).call(t,j),!e)for(var n in this)"t"===n.charAt(0)&&m.call(this,n)&&!isNaN(+h(n).call(n,1))&&(this[n]=p)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=p),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=m.call(i,"catchLoc"),a=m.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&m.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,N):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),N},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),N}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:H(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=p),N}},f}e.exports=d,e.exports.__esModule=!0,e.exports.default=e.exports}(ww);var bE=(0,ww.exports)(),wE=bE;try{regeneratorRuntime=bE}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=bE:Function("r","regeneratorRuntime = r")(bE)}var xE=i(wE),_E={exports:{}},AE=l(function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),TE=l,EE=se,kE=A,SE=AE,CE=Object.isExtensible,NE=TE(function(){CE(1)})||SE?function(e){return!!EE(e)&&(!SE||"ArrayBuffer"!==kE(e))&&(!CE||CE(e))}:CE,ME=!l(function(){return Object.isExtensible(Object.preventExtensions({}))}),OE=zn,RE=b,IE=Ei,LE=se,PE=st,DE=an.f,BE=ho,FE=go,zE=NE,$E=ME,jE=!1,UE=ht("meta"),HE=0,GE=function(e){DE(e,UE,{value:{objectID:"O"+HE++,weakData:{}}})},VE=function(e,t){if(!LE(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!PE(e,UE)){if(!zE(e))return"F";if(!t)return"E";GE(e)}return e[UE].objectID},WE=function(e,t){if(!PE(e,UE)){if(!zE(e))return!0;if(!t)return!1;GE(e)}return e[UE].weakData},YE=function(e){return $E&&jE&&zE(e)&&!PE(e,UE)&&GE(e),e},qE=function(){XE.enable=function(){},jE=!0;var e=BE.f,t=RE([].splice),n={};n[UE]=1,e(n).length&&(BE.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===UE){t(r,i,1);break}return r},OE({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:FE.f}))},XE=_E.exports={enable:qE,fastKey:VE,getWeakData:WE,onFreeze:YE};IE[UE]=!0;var KE=_E.exports,ZE=zn,QE=a,JE=KE,ek=l,tk=Sn,nk=ix,rk=Px,ik=R,ok=se,sk=K,ak=ns,lk=an.f,ck=Cs.forEach,uk=L,hk=ws,dk=hk.set,pk=hk.getterFor,fk=function(e,t,n){var r,i=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),s=i?"set":"add",a=QE[e],l=a&&a.prototype,c={};if(uk&&ik(a)&&(o||l.forEach&&!ek(function(){(new a).entries().next()}))){var u=(r=t(function(t,n){dk(rk(t,u),{type:e,collection:new a}),sk(n)||nk(n,t[s],{that:t,AS_ENTRIES:i})})).prototype,h=pk(e);ck(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(e){var t="add"===e||"set"===e;!(e in l)||o&&"clear"===e||tk(u,e,function(n,r){var i=h(this).collection;if(!t&&o&&!ok(n))return"get"===e&&void 0;var s=i[e](0===n?0:n,r);return t?this:s})}),o||lk(u,"size",{configurable:!0,get:function(){return h(this).collection.size}})}else r=n.getConstructor(t,e,i,s),JE.enable();return ak(r,e,!1,!0),c[e]=r,ZE({global:!0,forced:!0},c),o||n.setStrong(r,e,i),r},gk=Mo,mk=uo,vk=Ro,yk=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:gk(e,r,t[r],n);return e},bk=sn,wk=Px,xk=K,_k=ix,Ak=Zc,Tk=Qc,Ek=Rx,kk=L,Sk=KE.fastKey,Ck=ws,Nk=Ck.set,Mk=Ck.getterFor,Ok={getConstructor:function(e,t,n,r){var i=e(function(e,i){wk(e,o),Nk(e,{type:t,index:mk(null),first:void 0,last:void 0,size:0}),kk||(e.size=0),xk(i)||_k(i,e[r],{that:e,AS_ENTRIES:n})}),o=i.prototype,s=Mk(t),a=function(e,t,n){var r,i,o=s(e),a=l(e,t);return a?a.value=n:(o.last=a={index:i=Sk(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),kk?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},l=function(e,t){var n,r=s(e),i=Sk(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===t)return n};return yk(o,{clear:function(){for(var e=this,t=s(e),n=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,kk?t.size=0:e.size=0},delete:function(e){var t=this,n=s(t),r=l(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first===r&&(n.first=i),n.last===r&&(n.last=o),kk?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=s(this),r=bk(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!l(this,e)}}),yk(o,n?{get:function(e){var t=l(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),kk&&vk(o,"size",{configurable:!0,get:function(){return s(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=Mk(t),o=Mk(r);Ak(e,t,function(e,t){Nk(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?Tk("keys"===t?n.key:"values"===t?n.value:[n.key,n.value],!1):(e.target=void 0,Tk(void 0,!0))},n?"entries":"values",!n,!0),Ek(t)}};fk("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Ok);var Rk=i(ae.Map),Ik=zn,Lk=Cs.some,Pk=Wh("some");Ik({target:"Array",proto:!0,forced:!Pk},{some:function(e){return Lk(this,e,arguments.length>1?arguments[1]:void 0)}});var Dk=Oh("Array","some"),Bk=pe,Fk=Dk,zk=Array.prototype,$k=i(function(e){var t=e.some;return e===zk||Bk(zk,e)&&t===zk.some?Fk:t}),jk=Oh("Array","keys"),Uk=xr,Hk=st,Gk=pe,Vk=jk,Wk=Array.prototype,Yk={DOMTokenList:!0,NodeList:!0},qk=i(function(e){var t=e.keys;return e===Wk||Gk(Wk,e)&&t===Wk.keys||Hk(Yk,Uk(e))?Vk:t}),Xk=xo,Kk=Math.floor,Zk=function(e,t){var n=e.length,r=Kk(n/2);return n<8?Qk(e,t):Jk(e,Zk(Xk(e,0,r),t),Zk(Xk(e,r),t),t)},Qk=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},Jk=function(e,t,n,r){for(var i=t.length,o=n.length,s=0,a=0;s<i||a<o;)e[s+a]=s<i&&a<o?r(t[s],n[a])<=0?t[s++]:n[a++]:s<i?t[s++]:n[a++];return e},eS=Zk,tS=fe.match(/firefox\/(\d+)/i),nS=!!tS&&+tS[1],rS=/MSIE|Trident/.test(fe),iS=fe.match(/AppleWebKit\/(\d+)\./),oS=!!iS&&+iS[1],sS=zn,aS=b,lS=Be,cS=rt,uS=rr,hS=_g,dS=fi,pS=l,fS=eS,gS=Wh,mS=nS,vS=rS,yS=xe,bS=oS,wS=[],xS=aS(wS.sort),_S=aS(wS.push),AS=pS(function(){wS.sort(void 0)}),TS=pS(function(){wS.sort(null)}),ES=gS("sort"),kS=!pS(function(){if(yS)return yS<70;if(!(mS&&mS>3)){if(vS)return!0;if(bS)return bS<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)wS.push({k:t+r,v:n})}for(wS.sort(function(e,t){return t.v-e.v}),r=0;r<wS.length;r++)t=wS[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}),SS=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:dS(t)>dS(n)?1:-1}};sS({target:"Array",proto:!0,forced:AS||!TS||!ES||!kS},{sort:function(e){void 0!==e&&lS(e);var t=cS(this);if(kS)return void 0===e?xS(t):xS(t,e);var n,r,i=[],o=uS(t);for(r=0;r<o;r++)r in t&&_S(i,t[r]);for(fS(i,SS(e)),n=uS(i),r=0;r<n;)t[r]=i[r++];for(;r<o;)hS(t,r++);return t}});var CS=Oh("Array","sort"),NS=pe,MS=CS,OS=Array.prototype,RS=i(function(e){var t=e.sort;return e===OS||NS(OS,e)&&t===OS.sort?MS:t}),IS=Oh("Array","values"),LS=xr,PS=st,DS=pe,BS=IS,FS=Array.prototype,zS={DOMTokenList:!0,NodeList:!0},$S=i(function(e){var t=e.values;return e===FS||DS(FS,e)&&t===FS.values||PS(zS,LS(e))?BS:t}),jS=i(sh),US=Oh("Array","entries"),HS=xr,GS=st,VS=pe,WS=US,YS=Array.prototype,qS={DOMTokenList:!0,NodeList:!0},XS=i(function(e){var t=e.entries;return e===YS||VS(YS,e)&&t===YS.entries||GS(qS,HS(e))?WS:t});let KS;const ZS=new Uint8Array(16);function QS(){if(!KS&&(KS="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!KS))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return KS(ZS)}const JS=[];for(let e=0;e<256;++e)JS.push((e+256).toString(16).slice(1));function eC(e,t=0){return JS[e[t+0]]+JS[e[t+1]]+JS[e[t+2]]+JS[e[t+3]]+"-"+JS[e[t+4]]+JS[e[t+5]]+"-"+JS[e[t+6]]+JS[e[t+7]]+"-"+JS[e[t+8]]+JS[e[t+9]]+"-"+JS[e[t+10]]+JS[e[t+11]]+JS[e[t+12]]+JS[e[t+13]]+JS[e[t+14]]+JS[e[t+15]]}var tC={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function nC(e,t,n){if(tC.randomUUID&&!t&&!e)return tC.randomUUID();const r=(e=e||{}).random||(e.rng||QS)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return eC(r)}function rC(e){return"string"==typeof e||"number"==typeof e}var iC=function(){function e(n){t(this,e),gh(this,"_queue",[]),gh(this,"_timeout",null),gh(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(n)}return fh(e,[{key:"setOptions",value:function(e){e&&void 0!==e.delay&&(this.delay=e.delay),e&&void 0!==e.max&&(this.max=e.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var e=this._extended.object,t=this._extended.methods,n=0;n<t.length;n++){var r=t[n];r.original?e[r.name]=r.original:delete e[r.name]}this._extended=null}}},{key:"replace",value:function(e,t){var n=this,r=e[t];if(!r)throw new Error("Method "+t+" undefined");e[t]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.queue({args:t,fn:r,context:this})}}},{key:"queue",value:function(e){"function"==typeof e?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var e=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=Lm(function(){e.flush()},this.delay))}},{key:"flush",value:function(){var e,t;cg(e=$g(t=this._queue).call(t,0)).call(e,function(e){e.fn.apply(e.context||e.fn,e.args||[])})}}],[{key:"extend",value:function(t,n){var r=new e(n);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){r.flush()};var i=[{name:"flush",original:void 0}];if(n&&n.replace)for(var o=0;o<n.replace.length;o++){var s=n.replace[o];i.push({name:s,original:t[s]}),r.replace(t,s)}return r._extended={object:t,methods:i},r}}]),e}(),oC=function(){function e(){t(this,e),gh(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),gh(this,"subscribe",e.prototype.on),gh(this,"unsubscribe",e.prototype.off)}return fh(e,[{key:"_trigger",value:function(e,t,n){var r,i;if("*"===e)throw new Error("Cannot trigger event *");cg(r=Ff(i=[]).call(i,Rf(this._subscribers[e]),Rf(this._subscribers["*"]))).call(r,function(r){r(e,t,null!=n?n:null)})}},{key:"on",value:function(e,t){"function"==typeof t&&this._subscribers[e].push(t)}},{key:"off",value:function(e,t){var n;this._subscribers[e]=hd(n=this._subscribers[e]).call(n,function(e){return e!==t})}}]),e}();fk("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Ok);var sC=i(ae.Set),aC=i(ap);function lC(e,t){var n=void 0!==If&&Rp(e)||e["@@iterator"];if(!n){if(Yf(e)||(n=cC(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function cC(e,t){var n;if(e){if("string"==typeof e)return uC(e,t);var r=zf(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Np(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uC(e,t):void 0}}function uC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hC=function(e){function n(e){t(this,n),this._pairs=e}return fh(n,[{key:e,value:xE.mark(function e(){var t,n,r,i,o;return xE.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=lC(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=Cf(n.value,2),i=r[0],o=r[1],e.next=7,[i,o];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"entries",value:xE.mark(function e(){var t,n,r,i,o;return xE.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=lC(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=Cf(n.value,2),i=r[0],o=r[1],e.next=7,[i,o];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"keys",value:xE.mark(function e(){var t,n,r,i;return xE.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=lC(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=Cf(n.value,1),i=r[0],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"values",value:xE.mark(function e(){var t,n,r,i;return xE.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=lC(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=Cf(n.value,2),i=r[1],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var e;return bd(e=Rf(this._pairs)).call(e,function(e){return e[0]})}},{key:"toItemArray",value:function(){var e;return bd(e=Rf(this._pairs)).call(e,function(e){return e[1]})}},{key:"toEntryArray",value:function(){return Rf(this._pairs)}},{key:"toObjectMap",value:function(){var e,t=um(null),n=lC(this._pairs);try{for(n.s();!(e=n.n()).done;){var r=Cf(e.value,2),i=r[0],o=r[1];t[i]=o}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"toMap",value:function(){return new Rk(this._pairs)}},{key:"toIdSet",value:function(){return new sC(this.toIdArray())}},{key:"toItemSet",value:function(){return new sC(this.toItemArray())}},{key:"cache",value:function(){return new n(Rf(this._pairs))}},{key:"distinct",value:function(e){var t,n=new sC,r=lC(this._pairs);try{for(r.s();!(t=r.n()).done;){var i=Cf(t.value,2),o=i[0],s=i[1];n.add(e(s,o))}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"filter",value:function(e){var t=this._pairs;return new n({[jS]:()=>xE.mark(function n(){var r,i,o,s,a;return xE.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=lC(t),n.prev=1,r.s();case 3:if((i=r.n()).done){n.next=10;break}if(o=Cf(i.value,2),s=o[0],a=o[1],!e(a,s)){n.next=8;break}return n.next=8,[s,a];case 8:n.next=3;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),r.e(n.t0);case 15:return n.prev=15,r.f(),n.finish(15);case 18:case"end":return n.stop()}},n,null,[[1,12,15,18]])})()})}},{key:"forEach",value:function(e){var t,n=lC(this._pairs);try{for(n.s();!(t=n.n()).done;){var r=Cf(t.value,2),i=r[0];e(r[1],i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"map",value:function(e){var t=this._pairs;return new n({[jS]:()=>xE.mark(function n(){var r,i,o,s,a;return xE.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=lC(t),n.prev=1,r.s();case 3:if((i=r.n()).done){n.next=9;break}return o=Cf(i.value,2),s=o[0],a=o[1],n.next=7,[s,e(a,s)];case 7:n.next=3;break;case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),r.e(n.t0);case 14:return n.prev=14,r.f(),n.finish(14);case 17:case"end":return n.stop()}},n,null,[[1,11,14,17]])})()})}},{key:"max",value:function(e){var t=aC(this._pairs),n=t.next();if(n.done)return null;for(var r=n.value[1],i=e(n.value[1],n.value[0]);!(n=t.next()).done;){var o=Cf(n.value,2),s=o[0],a=o[1],l=e(a,s);l>i&&(i=l,r=a)}return r}},{key:"min",value:function(e){var t=aC(this._pairs),n=t.next();if(n.done)return null;for(var r=n.value[1],i=e(n.value[1],n.value[0]);!(n=t.next()).done;){var o=Cf(n.value,2),s=o[0],a=o[1],l=e(a,s);l<i&&(i=l,r=a)}return r}},{key:"reduce",value:function(e,t){var n,r=lC(this._pairs);try{for(r.s();!(n=r.n()).done;){var i=Cf(n.value,2),o=i[0];t=e(t,i[1],o)}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"sort",value:function(e){var t=this;return new n({[jS]:function(){var n;return aC(RS(n=Rf(t._pairs)).call(n,function(t,n){var r=Cf(t,2),i=r[0],o=r[1],s=Cf(n,2),a=s[0],l=s[1];return e(o,l,i,a)}))}})}}]),n}(jS);function dC(e,t){var n=Qf(e);if(Fb){var r=Fb(e);t&&(r=hd(r).call(r,function(t){return qb(e,t).enumerable})),n.push.apply(n,r)}return n}function pC(e){for(var t=1;t<arguments.length;t++){var n,r,i=null!=arguments[t]?arguments[t]:{};t%2?cg(n=dC(Object(i),!0)).call(n,function(t){gh(e,t,i[t])}):Jb?sw(e,Jb(i)):cg(r=dC(Object(i))).call(r,function(t){aw(e,t,qb(i,t))})}return e}function fC(e,t){var n=void 0!==If&&Rp(e)||e["@@iterator"];if(!n){if(Yf(e)||(n=gC(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function gC(e,t){var n;if(e){if("string"==typeof e)return mC(e,t);var r=zf(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Np(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mC(e,t):void 0}}function mC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vC(e){var t=yC();return function(){var n,r=bw(e);if(t){var i=bw(this).constructor;n=Bb(r,arguments,i)}else n=r.apply(this,arguments);return mw(this,n)}}function yC(){if("undefined"==typeof Reflect||!Bb)return!1;if(Bb.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Bb(Boolean,[],function(){})),!0}catch(e){return!1}}function bC(e,t){return null==e[t]&&(e[t]=nC()),e}var wC=function(e){gw(r,e);var n=vC(r);function r(e,i){var o;return t(this,r),gh(lw(o=n.call(this)),"_queue",null),e&&!Yf(e)&&(i=e,e=[]),o._options=i||{},o._data=new Rk,o.length=0,o._idProp=o._options.fieldId||"id",e&&e.length&&o.add(e),o.setOptions(i),o}return fh(r,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(e){e&&void 0!==e.queue&&(!1===e.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=iC.extend(this,{replace:["add","update","remove"]})),e.queue&&"object"==typeof e.queue&&this._queue.setOptions(e.queue)))}},{key:"add",value:function(e,t){var n,r=this,i=[];if(Yf(e)){var o=bd(e).call(e,function(e){return e[r._idProp]});if($k(o).call(o,function(e){return r._data.has(e)}))throw new Error("A duplicate id was found in the parameter array.");for(var s=0,a=e.length;s<a;s++)n=this._addItem(e[s]),i.push(n)}else{if(!e||"object"!=typeof e)throw new Error("Unknown dataType");n=this._addItem(e),i.push(n)}return i.length&&this._trigger("add",{items:i},t),i}},{key:"update",value:function(e,t){var n=this,r=[],i=[],o=[],s=[],a=this._idProp,l=function(e){var t=e[a];if(null!=t&&n._data.has(t)){var l=e,c=tm({},n._data.get(t)),u=n._updateItem(l);i.push(u),s.push(l),o.push(c)}else{var h=n._addItem(e);r.push(h)}};if(Yf(e))for(var c=0,u=e.length;c<u;c++)e[c]&&"object"==typeof e[c]&&l(e[c]);else{if(!e||"object"!=typeof e)throw new Error("Unknown dataType");l(e)}if(r.length&&this._trigger("add",{items:r},t),i.length){var h={items:i,oldData:o,data:s};this._trigger("update",h,t)}return Ff(r).call(r,i)}},{key:"updateOnly",value:function(e,t){var n,r=this;Yf(e)||(e=[e]);var i=bd(n=bd(e).call(e,function(e){var t=r._data.get(e[r._idProp]);if(null==t)throw new Error("Updating non-existent items is not allowed.");return{oldData:t,update:e}})).call(n,function(e){var t=e.oldData,n=e.update,i=t[r._idProp],o=ub(t,n);return r._data.set(i,o),{id:i,oldData:t,updatedData:o}});if(i.length){var o={items:bd(i).call(i,function(e){return e.id}),oldData:bd(i).call(i,function(e){return e.oldData}),data:bd(i).call(i,function(e){return e.updatedData})};return this._trigger("update",o,t),o.items}return[]}},{key:"get",value:function(e,t){var n=void 0,r=void 0,i=void 0;rC(e)?(n=e,i=t):Yf(e)?(r=e,i=t):i=e;var o,s=i&&"Object"===i.returnType?"Object":"Array",a=i&&hd(i),l=[],c=void 0,u=void 0,h=void 0;if(null!=n)(c=this._data.get(n))&&a&&!a(c)&&(c=void 0);else if(null!=r)for(var d=0,p=r.length;d<p;d++)null==(c=this._data.get(r[d]))||a&&!a(c)||l.push(c);else for(var f,g=0,m=(u=Rf(qk(f=this._data).call(f))).length;g<m;g++)h=u[g],null==(c=this._data.get(h))||a&&!a(c)||l.push(c);if(i&&i.order&&null==n&&this._sort(l,i.order),i&&i.fields){var v=i.fields;if(null!=n&&null!=c)c=this._filterFields(c,v);else for(var y=0,b=l.length;y<b;y++)l[y]=this._filterFields(l[y],v)}if("Object"==s){for(var w={},x=0,_=l.length;x<_;x++){var A=l[x];w[A[this._idProp]]=A}return w}return null!=n?null!==(o=c)&&void 0!==o?o:null:l}},{key:"getIds",value:function(e){var t=this._data,n=e&&hd(e),r=e&&e.order,i=Rf(qk(t).call(t)),o=[];if(n)if(r){for(var s=[],a=0,l=i.length;a<l;a++){var c=i[a],u=this._data.get(c);null!=u&&n(u)&&s.push(u)}this._sort(s,r);for(var h=0,d=s.length;h<d;h++)o.push(s[h][this._idProp])}else for(var p=0,f=i.length;p<f;p++){var g=i[p],m=this._data.get(g);null!=m&&n(m)&&o.push(m[this._idProp])}else if(r){for(var v=[],y=0,b=i.length;y<b;y++){var w=i[y];v.push(t.get(w))}this._sort(v,r);for(var x=0,_=v.length;x<_;x++)o.push(v[x][this._idProp])}else for(var A=0,T=i.length;A<T;A++){var E=i[A],k=t.get(E);null!=k&&o.push(k[this._idProp])}return o}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(e,t){var n=t&&hd(t),r=this._data,i=Rf(qk(r).call(r));if(t&&t.order)for(var o=this.get(t),s=0,a=o.length;s<a;s++){var l=o[s];e(l,l[this._idProp])}else for(var c=0,u=i.length;c<u;c++){var h=i[c],d=this._data.get(h);null==d||n&&!n(d)||e(d,h)}}},{key:"map",value:function(e,t){for(var n=t&&hd(t),r=[],i=this._data,o=Rf(qk(i).call(i)),s=0,a=o.length;s<a;s++){var l=o[s],c=this._data.get(l);null==c||n&&!n(c)||r.push(e(c,l))}return t&&t.order&&this._sort(r,t.order),r}},{key:"_filterFields",value:function(e,t){var n;return e?rd(n=Yf(t)?t:Qf(t)).call(n,function(t,n){return t[n]=e[n],t},{}):e}},{key:"_sort",value:function(e,t){if("string"==typeof t){var n=t;RS(e).call(e,function(e,t){var r=e[n],i=t[n];return r>i?1:r<i?-1:0})}else{if("function"!=typeof t)throw new TypeError("Order must be a function or a string");RS(e).call(e,t)}}},{key:"remove",value:function(e,t){for(var n=[],r=[],i=Yf(e)?e:[e],o=0,s=i.length;o<s;o++){var a=this._remove(i[o]);if(a){var l=a[this._idProp];null!=l&&(n.push(l),r.push(a))}}return n.length&&this._trigger("remove",{items:n,oldData:r},t),n}},{key:"_remove",value:function(e){var t;if(rC(e)?t=e:e&&"object"==typeof e&&(t=e[this._idProp]),null!=t&&this._data.has(t)){var n=this._data.get(t)||null;return this._data.delete(t),--this.length,n}return null}},{key:"clear",value:function(e){for(var t,n=Rf(qk(t=this._data).call(t)),r=[],i=0,o=n.length;i<o;i++)r.push(this._data.get(n[i]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:r},e),n}},{key:"max",value:function(e){var t,n,r=null,i=null,o=fC($S(t=this._data).call(t));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[e];"number"==typeof a&&(null==i||a>i)&&(r=s,i=a)}}catch(e){o.e(e)}finally{o.f()}return r||null}},{key:"min",value:function(e){var t,n,r=null,i=null,o=fC($S(t=this._data).call(t));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[e];"number"==typeof a&&(null==i||a<i)&&(r=s,i=a)}}catch(e){o.e(e)}finally{o.f()}return r||null}},{key:"distinct",value:function(e){for(var t=this._data,n=Rf(qk(t).call(t)),r=[],i=0,o=0,s=n.length;o<s;o++){for(var a=n[o],l=t.get(a)[e],c=!1,u=0;u<i;u++)if(r[u]==l){c=!0;break}c||void 0===l||(r[i]=l,i++)}return r}},{key:"_addItem",value:function(e){var t=bC(e,this._idProp),n=t[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,t),++this.length,n}},{key:"_updateItem",value:function(e){var t=e[this._idProp];if(null==t)throw new Error("Cannot update item: item has no id (item: "+fm(e)+")");var n=this._data.get(t);if(!n)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,pC(pC({},n),e)),t}},{key:"stream",value:function(e){if(e){var t=this._data;return new hC({[jS]:()=>xE.mark(function n(){var r,i,o,s;return xE.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=fC(e),n.prev=1,r.s();case 3:if((i=r.n()).done){n.next=11;break}if(o=i.value,null==(s=t.get(o))){n.next=9;break}return n.next=9,[o,s];case 9:n.next=3;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),r.e(n.t0);case 16:return n.prev=16,r.f(),n.finish(16);case 19:case"end":return n.stop()}},n,null,[[1,13,16,19]])})()})}var n;return new hC({[jS]:Bh(n=XS(this._data)).call(n,this._data)})}}]),r}(oC);function xC(e,t){var n=void 0!==If&&Rp(e)||e["@@iterator"];if(!n){if(Yf(e)||(n=_C(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _C(e,t){var n;if(e){if("string"==typeof e)return AC(e,t);var r=zf(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Np(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?AC(e,t):void 0}}function AC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TC(e){var t=EC();return function(){var n,r=bw(e);if(t){var i=bw(this).constructor;n=Bb(r,arguments,i)}else n=r.apply(this,arguments);return mw(this,n)}}function EC(){if("undefined"==typeof Reflect||!Bb)return!1;if(Bb.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Bb(Boolean,[],function(){})),!0}catch(e){return!1}}var kC=function(e){gw(r,e);var n=TC(r);function r(e,i){var o,s;return t(this,r),gh(lw(s=n.call(this)),"length",0),gh(lw(s),"_ids",new sC),s._options=i||{},s._listener=Bh(o=s._onEvent).call(o,lw(s)),s.setData(e),s}return fh(r,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(e){if(this._data){this._data.off&&this._data.off("*",this._listener);var t=this._data.getIds({filter:hd(this._options)}),n=this._data.get(t);this._ids.clear(),this.length=0,this._trigger("remove",{items:t,oldData:n})}if(null!=e){this._data=e;for(var r=this._data.getIds({filter:hd(this._options)}),i=0,o=r.length;i<o;i++){var s=r[i];this._ids.add(s)}this.length=r.length,this._trigger("add",{items:r})}else this._data=new wC;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var e=this._data.getIds({filter:hd(this._options)}),t=Rf(this._ids),n={},r=[],i=[],o=[],s=0,a=e.length;s<a;s++){var l=e[s];n[l]=!0,this._ids.has(l)||(r.push(l),this._ids.add(l))}for(var c=0,u=t.length;c<u;c++){var h=t[c],d=this._data.get(h);null==d||n[h]||(i.push(h),o.push(d),this._ids.delete(h))}this.length+=r.length-i.length,r.length&&this._trigger("add",{items:r}),i.length&&this._trigger("remove",{items:i,oldData:o})}},{key:"get",value:function(e,t){if(null==this._data)return null;var n,r=null;rC(e)||Yf(e)?(r=e,n=t):n=e;var i=tm({},this._options,n),o=hd(this._options),s=n&&hd(n);return o&&s&&(i.filter=function(e){return o(e)&&s(e)}),null==r?this._data.get(i):this._data.get(r,i)}},{key:"getIds",value:function(e){if(this._data.length){var t,n=hd(this._options),r=null!=e?hd(e):null;return t=r?n?function(e){return n(e)&&r(e)}:r:n,this._data.getIds({filter:t,order:e&&e.order})}return[]}},{key:"forEach",value:function(e,t){if(this._data){var n,r,i=hd(this._options),o=t&&hd(t);r=o?i?function(e){return i(e)&&o(e)}:o:i,cg(n=this._data).call(n,e,{filter:r,order:t&&t.order})}}},{key:"map",value:function(e,t){if(this._data){var n,r,i=hd(this._options),o=t&&hd(t);return r=o?i?function(e){return i(e)&&o(e)}:o:i,bd(n=this._data).call(n,e,{filter:r,order:t&&t.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(e){var t;return this._data.stream(e||{[jS]:Bh(t=qk(this._ids)).call(t,this._ids)})}},{key:"dispose",value:function(){var e;null!==(e=this._data)&&void 0!==e&&e.off&&this._data.off("*",this._listener);var t,n="This data view has already been disposed of.",i={get:function(){throw new Error(n)},set:function(){throw new Error(n)},configurable:!1},o=xC(Wf(r.prototype));try{for(o.s();!(t=o.n()).done;){var s=t.value;aw(this,s,i)}}catch(e){o.e(e)}finally{o.f()}}},{key:"_onEvent",value:function(e,t,n){if(t&&t.items&&this._data){var r=t.items,i=[],o=[],s=[],a=[],l=[],c=[];switch(e){case"add":for(var u=0,h=r.length;u<h;u++){var d=r[u];this.get(d)&&(this._ids.add(d),i.push(d))}break;case"update":for(var p=0,f=r.length;p<f;p++){var g=r[p];this.get(g)?this._ids.has(g)?(o.push(g),l.push(t.data[p]),a.push(t.oldData[p])):(this._ids.add(g),i.push(g)):this._ids.has(g)&&(this._ids.delete(g),s.push(g),c.push(t.oldData[p]))}break;case"remove":for(var m=0,v=r.length;m<v;m++){var y=r[m];this._ids.has(y)&&(this._ids.delete(y),s.push(y),c.push(t.oldData[m]))}}this.length+=i.length-s.length,i.length&&this._trigger("add",{items:i},n),o.length&&this._trigger("update",{items:o,oldData:a,data:l},n),s.length&&this._trigger("remove",{items:s,oldData:c},n)}}}]),r}(oC);function SC(e,t){return"object"==typeof t&&null!==t&&e===t.idProp&&"function"==typeof t.add&&"function"==typeof t.clear&&"function"==typeof t.distinct&&"function"==typeof cg(t)&&"function"==typeof t.get&&"function"==typeof t.getDataSet&&"function"==typeof t.getIds&&"number"==typeof t.length&&"function"==typeof bd(t)&&"function"==typeof t.max&&"function"==typeof t.min&&"function"==typeof t.off&&"function"==typeof t.on&&"function"==typeof t.remove&&"function"==typeof t.setOptions&&"function"==typeof t.stream&&"function"==typeof t.update&&"function"==typeof t.updateOnly}function CC(e,t){return"object"==typeof t&&null!==t&&e===t.idProp&&"function"==typeof cg(t)&&"function"==typeof t.get&&"function"==typeof t.getDataSet&&"function"==typeof t.getIds&&"number"==typeof t.length&&"function"==typeof bd(t)&&"function"==typeof t.off&&"function"==typeof t.on&&"function"==typeof t.stream&&SC(e,t.getDataSet())}e.DELETE=cb,e.DataSet=wC,e.DataStream=hC,e.DataView=kC,e.Queue=iC,e.createNewDataPipeFrom=Pd,e.isDataSetLike=SC,e.isDataViewLike=CC}(t)},4171:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8562);const i=function(){try{var e=(0,r.A)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},4288:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9841),i=n(8446);const o=function(e,t){return function(n,r){if(null==n)return n;if(!(0,i.A)(n))return e(n,r);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&!1!==r(a[s],s,a););return n}}(r.A)},4298:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});class r{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const i={fileSystemProvider:()=>new r}},4326:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(9008),i=n(5255),o=n(7424);const s=function(e,t){return(0,o.A)((0,i.A)(e,t,r.A),e+"")}},4353:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",s="hour",a="day",l="week",c="month",u="quarter",h="year",d="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,s=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:h,w:l,d:a,D:d,h:s,m:o,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",w={};w[b]=m;var x="$isDayjsObject",_=function(e){return e instanceof k||!(!e||!e[x])},A=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();w[o]&&(i=o),n&&(w[o]=n,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;w[a]=t,i=a}return!r&&i&&(b=i),i||!r&&b},T=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},E=y;E.l=A,E.i=_,E.w=function(e,t){return T(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function m(e){this.$L=A(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var v=m.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(E.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return E},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,t){var n=T(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return T(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<T(e)},v.$g=function(e,t,n){return E.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!E.u(t)||t,u=E.p(e),p=function(e,t){var i=E.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(a)},f=function(e,t){return E.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},g=this.$W,m=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case h:return r?p(1,0):p(31,11);case c:return r?p(1,m):p(0,m+1);case l:var b=this.$locale().weekStart||0,w=(g<b?g+7:g)-b;return p(r?v-w:v+(6-w),m);case a:case d:return f(y+"Hours",0);case s:return f(y+"Minutes",1);case o:return f(y+"Seconds",2);case i:return f(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=E.p(e),u="set"+(this.$u?"UTC":""),p=(n={},n[a]=u+"Date",n[d]=u+"Date",n[c]=u+"Month",n[h]=u+"FullYear",n[s]=u+"Hours",n[o]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],f=l===a?this.$D+(t-this.$W):t;if(l===c||l===h){var g=this.clone().set(d,1);g.$d[p](f),g.init(),this.$d=g.set(d,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[E.p(e)]()},v.add=function(r,u){var d,p=this;r=Number(r);var f=E.p(u),g=function(e){var t=T(p);return E.w(t.date(t.date()+Math.round(e*r)),p)};if(f===c)return this.set(c,this.$M+r);if(f===h)return this.set(h,this.$y+r);if(f===a)return g(1);if(f===l)return g(7);var m=(d={},d[o]=t,d[s]=n,d[i]=e,d)[f]||1,v=this.$d.getTime()+r*m;return E.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=E.z(this),o=this.$H,s=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,h=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},d=function(e){return E.s(o%12||12,e,"0")},f=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(g,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return E.s(t.$y,4,"0");case"M":return a+1;case"MM":return E.s(a+1,2,"0");case"MMM":return h(n.monthsShort,a,c,3);case"MMMM":return h(c,a);case"D":return t.$D;case"DD":return E.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(n.weekdaysMin,t.$W,l,2);case"ddd":return h(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return E.s(o,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return f(o,s,!0);case"A":return f(o,s,!1);case"m":return String(s);case"mm":return E.s(s,2,"0");case"s":return String(t.$s);case"ss":return E.s(t.$s,2,"0");case"SSS":return E.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,d,p){var f,g=this,m=E.p(d),v=T(r),y=(v.utcOffset()-this.utcOffset())*t,b=this-v,w=function(){return E.m(g,v)};switch(m){case h:f=w()/12;break;case c:f=w();break;case u:f=w()/3;break;case l:f=(b-y)/6048e5;break;case a:f=(b-y)/864e5;break;case s:f=b/n;break;case o:f=b/t;break;case i:f=b/e;break;default:f=b}return p?f:E.a(f)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return w[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=A(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return E.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},m}(),S=k.prototype;return T.prototype=S,[["$ms",r],["$s",i],["$m",o],["$H",s],["$W",a],["$M",c],["$y",h],["$D",d]].forEach(function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),T.extend=function(e,t){return e.$i||(e(t,k,T),e.$i=!0),T},T.locale=A,T.isDayjs=_,T.unix=function(e){return T(1e3*e)},T.en=w[b],T.Ls=w,T.p={},T}()},4453:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7271);const i=(0,n(367).A)(Object.keys,Object);var o=Object.prototype.hasOwnProperty;const s=function(e){if(!(0,r.A)(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},4504:(e,t,n)=>{"use strict";n.d(t,{createTreemapServices:()=>r.d});var r=n(3758);n(1272)},4507:(e,t,n)=>{"use strict";n.d(t,{A:()=>X});var r=n(2080),i=n(2641),o=n(2851),s=n(2031),a=n(7422);const l=function(e,t){return e&&(0,s.A)(t,(0,a.A)(t),e)};var c=n(9999);const u=function(e,t){return e&&(0,s.A)(t,(0,c.A)(t),e)};var h=n(154),d=n(9759),p=n(4792);const f=function(e,t){return(0,s.A)(e,(0,p.A)(e),t)};var g=n(3511);const m=function(e,t){return(0,s.A)(e,(0,g.A)(e),t)};var v=n(9042),y=n(3973),b=n(9137),w=Object.prototype.hasOwnProperty;const x=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&w.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var _=n(565);const A=function(e,t){var n=t?(0,_.A)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var T=/\w*$/;const E=function(e){var t=new e.constructor(e.source,T.exec(e));return t.lastIndex=e.lastIndex,t};var k=n(241),S=k.A?k.A.prototype:void 0,C=S?S.valueOf:void 0;const N=function(e){return C?Object(C.call(e)):{}};var M=n(1801);const O=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return(0,_.A)(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return A(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,M.A)(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return E(e);case"[object Symbol]":return N(e)}};var R=n(407),I=n(2049),L=n(1200),P=n(3098);const D=function(e){return(0,P.A)(e)&&"[object Map]"==(0,b.A)(e)};var B=n(2789),F=n(4841),z=F.A&&F.A.isMap;const $=z?(0,B.A)(z):D;var j=n(3149);const U=function(e){return(0,P.A)(e)&&"[object Set]"==(0,b.A)(e)};var H=F.A&&F.A.isSet;const G=H?(0,B.A)(H):U;var V="[object Arguments]",W="[object Function]",Y="[object Object]",q={};q[V]=q["[object Array]"]=q["[object ArrayBuffer]"]=q["[object DataView]"]=q["[object Boolean]"]=q["[object Date]"]=q["[object Float32Array]"]=q["[object Float64Array]"]=q["[object Int8Array]"]=q["[object Int16Array]"]=q["[object Int32Array]"]=q["[object Map]"]=q["[object Number]"]=q[Y]=q["[object RegExp]"]=q["[object Set]"]=q["[object String]"]=q["[object Symbol]"]=q["[object Uint8Array]"]=q["[object Uint8ClampedArray]"]=q["[object Uint16Array]"]=q["[object Uint32Array]"]=!0,q["[object Error]"]=q[W]=q["[object WeakMap]"]=!1;const X=function e(t,n,s,p,g,w){var _,A=1&n,T=2&n,E=4&n;if(s&&(_=g?s(t,p,g,w):s(t)),void 0!==_)return _;if(!(0,j.A)(t))return t;var k=(0,I.A)(t);if(k){if(_=x(t),!A)return(0,d.A)(t,_)}else{var S=(0,b.A)(t),C=S==W||"[object GeneratorFunction]"==S;if((0,L.A)(t))return(0,h.A)(t,A);if(S==Y||S==V||C&&!g){if(_=T||C?{}:(0,R.A)(t),!A)return T?m(t,u(_,t)):f(t,l(_,t))}else{if(!q[S])return g?t:{};_=O(t,S,A)}}w||(w=new r.A);var N=w.get(t);if(N)return N;w.set(t,_),G(t)?t.forEach(function(r){_.add(e(r,n,s,r,t,w))}):$(t)&&t.forEach(function(r,i){_.set(i,e(r,n,s,i,t,w))});var M=E?T?y.A:v.A:T?c.A:a.A,P=k?void 0:M(t);return(0,i.A)(P||t,function(r,i){P&&(r=t[i=r]),(0,o.A)(_,i,e(r,n,s,i,t,w))}),_}},4534:(e,t,n)=>{"use strict";n.d(t,{CU:()=>a,IO:()=>c,LU:()=>o,Sv:()=>l,XZ:()=>i,YK:()=>r,yE:()=>s});var r="comm",i="rule",o="decl",s="@import",a="@namespace",l="@keyframes",c="@layer"},4722:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5572),i=n(6307),o=n(2568),s=n(2049);const a=function(e,t){return((0,s.A)(e)?r.A:o.A)(e,(0,i.A)(t,3))}},4749:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(2383),i=n(5254),o=n(3098),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;const a=function(e){return(0,o.A)(e)&&(0,i.A)(e.length)&&!!s[(0,r.A)(e)]};var l=n(2789),c=n(4841),u=c.A&&c.A.isTypedArray;const h=u?(0,l.A)(u):a},4792:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2634),i=n(3153),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols;const a=s?function(e){return null==e?[]:(e=Object(e),(0,r.A)(s(e),function(t){return o.call(e,t)}))}:i.A},4826:(e,t,n)=>{"use strict";function r(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}n.d(t,{A:()=>r})},4841:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2136),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof module&&module&&!module.nodeType&&module,s=o&&o.exports===i&&r.A.process;const a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}()},5033:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r,i=n(2151),o=n(418);class s{convert(e,t){let n=t.grammarSource;if((0,i._c)(n)&&(n=(0,o.g4)(n)),(0,i.$g)(n)){const r=n.rule.ref;if(!r)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(r,e,t)}return e}runConverter(e,t,n){var i;switch(e.name.toUpperCase()){case"INT":return r.convertInt(t);case"STRING":return r.convertString(t);case"ID":return r.convertID(t)}switch(null===(i=(0,o.P3)(e))||void 0===i?void 0:i.toLowerCase()){case"number":return r.convertNumber(t);case"boolean":return r.convertBoolean(t);case"bigint":return r.convertBigint(t);case"date":return r.convertDate(t);default:return t}}}!function(e){function t(e){switch(e){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\0";default:return e}}e.convertString=function(e){let n="";for(let r=1;r<e.length-1;r++){const i=e.charAt(r);if("\\"===i){n+=t(e.charAt(++r))}else n+=i}return n},e.convertID=function(e){return"^"===e.charAt(0)?e.substring(1):e},e.convertInt=function(e){return parseInt(e)},e.convertBigint=function(e){return BigInt(e)},e.convertDate=function(e){return new Date(e)},e.convertNumber=function(e){return Number(e)},e.convertBoolean=function(e){return"true"===e.toLowerCase()}}(r||(r={}))},5054:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(1521),i=n(5175),o=n(2049),s=n(5353),a=n(5254),l=n(901);const c=function(e,t,n){for(var c=-1,u=(t=(0,r.A)(t,e)).length,h=!1;++c<u;){var d=(0,l.A)(t[c]);if(!(h=null!=e&&n(e,d)))break;e=e[d]}return h||++c!=u?h:!!(u=null==e?0:e.length)&&(0,a.A)(u)&&(0,s.A)(d,u)&&((0,o.A)(e)||(0,i.A)(e))}},5097:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(6309),i=n(1931);const o=e=>{const{r:t,g:n,b:o}=i.A.parse(e),s=.2126*r.A.channel.toLinear(t)+.7152*r.A.channel.toLinear(n)+.0722*r.A.channel.toLinear(o);return r.A.lang.round(s)},s=e=>o(e)>=.5,a=e=>!s(e)},5175:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(2383),i=n(3098);const o=function(e){return(0,i.A)(e)&&"[object Arguments]"==(0,r.A)(e)};var s=Object.prototype,a=s.hasOwnProperty,l=s.propertyIsEnumerable;const c=o(function(){return arguments}())?o:function(e){return(0,i.A)(e)&&a.call(e,"callee")&&!l.call(e,"callee")}},5205:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(5707);const i=function(e){return e!=e};const o=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};const s=function(e,t,n){return t==t?o(e,t,n):(0,r.A)(e,i,n)}},5254:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5255:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const r=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var i=Math.max;const o=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),l=Array(a);++s<a;)l[s]=o[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=o[s];return c[t]=n(l),r(e,this,c)}}},5263:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5635);const i=(e,t)=>(0,r.A)(e,"l",-t)},5279:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const o=new Uint8Array(16);const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function a(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}const l=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const s=(e=e||{}).random??e.rng?.()??function(){if(!i){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");i=crypto.getRandomValues.bind(crypto)}return i(o)}();if(s.length<16)throw new Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=s[e];return t}return a(s)}},5300:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),t[0]=i,e.log.apply(e,t)})},e.exports=t.default},5353:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=/^(?:0|[1-9]\d*)$/;const i=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},5392:(e,t,n)=>{"use strict";n.d(t,{createGitGraphServices:()=>r.b});var r=n(4087);n(1272)},5507:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(6318),i=n(2851),o=n(1521),s=n(5353),a=n(3149),l=n(901);const c=function(e,t,n,r){if(!(0,a.A)(e))return e;for(var c=-1,u=(t=(0,o.A)(t,e)).length,h=u-1,d=e;null!=d&&++c<u;){var p=(0,l.A)(t[c]),f=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=h){var g=d[p];void 0===(f=r?r(g,p,d):void 0)&&(f=(0,a.A)(g)?g:(0,s.A)(t[c+1])?[]:{})}(0,i.A)(d,p,f),d=d[p]}return e};const u=function(e,t,n){for(var i=-1,s=t.length,a={};++i<s;){var l=t[i],u=(0,r.A)(e,l);n(u,l)&&c(a,(0,o.A)(l,e),u)}return a}},5530:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5205);const i=function(e,t){return!!(null==e?0:e.length)&&(0,r.A)(e,t,0)>-1}},5572:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},5582:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(6309),i=n(7266),o=n(1931),s=n(8232);const a=(e,t,n=0,a=1)=>{if("number"!=typeof e)return(0,s.A)(e,{a:t});const l=i.A.set({r:r.A.channel.clamp.r(e),g:r.A.channel.clamp.g(t),b:r.A.channel.clamp.b(n),a:r.A.channel.clamp.a(a)});return o.A.stringify(l)}},5635:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(6309),i=n(1931);const o=(e,t,n)=>{const o=i.A.parse(e),s=o[t],a=r.A.channel.clamp[t](s+n);return s!==a&&(o[t]=a),i.A.stringify(o)}},5647:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(367).A)(Object.getPrototypeOf,Object)},5707:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5937:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(6309),i=n(1931);const o=(e,t)=>r.A.lang.round(i.A.parse(e)[t])},5940:(e,t,n)=>{"use strict";t.__esModule=!0,t.registerDefaultDecorators=function(e){o.default(e)};var r,i=n(7430),o=(r=i)&&r.__esModule?r:{default:r}},6057:(e,t,n)=>{"use strict";n.d(t,{wE:()=>k});var r=n(4534),i=n(9735),o=1,s=1,a=0,l=0,c=0,u="";function h(e,t,n,r,i,a,l,c){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:o,column:s,length:l,return:"",siblings:c}}function d(){return c=l>0?(0,i.wN)(u,--l):0,s--,10===c&&(s=1,o--),c}function p(){return c=l<a?(0,i.wN)(u,l++):0,s++,10===c&&(s=1,o++),c}function f(){return(0,i.wN)(u,l)}function g(){return l}function m(e,t){return(0,i.c1)(u,e,t)}function v(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function y(e){return o=s=1,a=(0,i.b2)(u=e),l=0,[]}function b(e){return u="",e}function w(e){return(0,i.Bq)(m(l-1,A(91===e?e+2:40===e?e+1:e)))}function x(e){for(;(c=f())&&c<33;)p();return v(e)>2||v(c)>3?"":" "}function _(e,t){for(;--t&&p()&&!(c<48||c>102||c>57&&c<65||c>70&&c<97););return m(e,g()+(t<6&&32==f()&&32==p()))}function A(e){for(;p();)switch(c){case e:return l;case 34:case 39:34!==e&&39!==e&&A(c);break;case 40:41===e&&A(e);break;case 92:p()}return l}function T(e,t){for(;p()&&e+c!==57&&(e+c!==84||47!==f()););return"/*"+m(t,l-1)+"*"+(0,i.HT)(47===e?e:p())}function E(e){for(;!v(f());)p();return m(e,l)}function k(e){return b(S("",null,null,null,[""],e=y(e),0,[0],e))}function S(e,t,n,r,o,s,a,l,c){for(var u=0,h=0,m=a,y=0,b=0,A=0,k=1,O=1,R=1,I=0,L="",P=o,D=s,B=r,F=L;O;)switch(A=I,I=p()){case 40:if(108!=A&&58==(0,i.wN)(F,m-1)){-1!=(0,i.K5)(F+=(0,i.HC)(w(I),"&","&\f"),"&\f",(0,i.tn)(u?l[u-1]:0))&&(R=-1);break}case 34:case 39:case 91:F+=w(I);break;case 9:case 10:case 13:case 32:F+=x(A);break;case 92:F+=_(g()-1,7);continue;case 47:switch(f()){case 42:case 47:(0,i.BC)(N(T(p(),g()),t,n,c),c),5!=v(A||1)&&5!=v(f()||1)||!(0,i.b2)(F)||" "===(0,i.c1)(F,-1,void 0)||(F+=" ");break;default:F+="/"}break;case 123*k:l[u++]=(0,i.b2)(F)*R;case 125*k:case 59:case 0:switch(I){case 0:case 125:O=0;case 59+h:-1==R&&(F=(0,i.HC)(F,/\f/g,"")),b>0&&((0,i.b2)(F)-m||0===k&&47===A)&&(0,i.BC)(b>32?M(F+";",r,n,m-1,c):M((0,i.HC)(F," ","")+";",r,n,m-2,c),c);break;case 59:F+=";";default:if((0,i.BC)(B=C(F,t,n,u,h,o,l,L,P=[],D=[],m,s),s),123===I)if(0===h)S(F,t,B,B,P,s,m,l,D);else{switch(y){case 99:if(110===(0,i.wN)(F,3))break;case 108:if(97===(0,i.wN)(F,2))break;default:h=0;case 100:case 109:case 115:}h?S(e,B,B,r&&(0,i.BC)(C(e,B,B,0,0,o,l,L,o,P=[],m,D),D),o,D,m,l,r?P:D):S(F,B,B,B,[""],D,0,l,D)}}u=h=b=0,k=R=1,L=F="",m=a;break;case 58:m=1+(0,i.b2)(F),b=A;default:if(k<1)if(123==I)--k;else if(125==I&&0==k++&&125==d())continue;switch(F+=(0,i.HT)(I),I*k){case 38:R=h>0?1:(F+="\f",-1);break;case 44:l[u++]=((0,i.b2)(F)-1)*R,R=1;break;case 64:45===f()&&(F+=w(p())),y=f(),h=m=(0,i.b2)(L=F+=E(g())),I++;break;case 45:45===A&&2==(0,i.b2)(F)&&(k=0)}}return s}function C(e,t,n,o,s,a,l,c,u,d,p,f){for(var g=s-1,m=0===s?a:[""],v=(0,i.FK)(m),y=0,b=0,w=0;y<o;++y)for(var x=0,_=(0,i.c1)(e,g+1,g=(0,i.tn)(b=l[y])),A=e;x<v;++x)(A=(0,i.Bq)(b>0?m[x]+" "+_:(0,i.HC)(_,/&\f/g,m[x])))&&(u[w++]=A);return h(e,t,n,0===s?r.XZ:c,u,d,p,f)}function N(e,t,n,o){return h(e,t,n,r.YK,(0,i.HT)(c),(0,i.c1)(e,2,-2),0,o)}function M(e,t,n,o,s){return h(e,t,n,r.LU,(0,i.c1)(e,0,o),(0,i.c1)(e,o+1,-1),o,s)}},6097:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(2849);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,o=n.fn;if(!0===t)return o(this);if(!1===t||null==t)return i(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var s=r.createFrame(n.data);s.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(t,n)})},e.exports=t.default},6201:(e,t)=>{"use strict";t.__esModule=!0;var n=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,r,i,o,s){var a=o.length-1;switch(i){case 1:return o[a-1];case 2:this.$=r.prepareProgram(o[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=o[a];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(o[a]),strip:r.stripFlags(o[a],o[a]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[a],value:o[a],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 12:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 13:this.$=r.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 14:this.$=r.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 15:this.$={open:o[a-5],path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:r.stripFlags(o[a-5],o[a])};break;case 16:case 17:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:r.stripFlags(o[a-5],o[a])};break;case 18:this.$={strip:r.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 19:var l=r.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),c=r.prepareProgram([l],o[a-1].loc);c.chained=!0,this.$={strip:o[a-2].strip,program:c,chain:!0};break;case 21:this.$={path:o[a-1],strip:r.stripFlags(o[a-2],o[a])};break;case 22:case 23:this.$=r.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],r.stripFlags(o[a-4],o[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[a-3],params:o[a-2],hash:o[a-1],indent:"",strip:r.stripFlags(o[a-4],o[a]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(o[a-2],o[a-1],o[a],this._$);break;case 26:this.$={path:o[a-3],params:o[a-2],hash:o[a-1],strip:r.stripFlags(o[a-4],o[a])};break;case 29:this.$={type:"SubExpression",path:o[a-3],params:o[a-2],hash:o[a-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[a],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(o[a-2]),value:o[a],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(o[a-1]);break;case 35:this.$={type:"StringLiteral",value:o[a],original:o[a],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[a]),original:Number(o[a]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[a],original:"true"===o[a],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 42:this.$=r.preparePath(!0,o[a],this._$);break;case 43:this.$=r.preparePath(!1,o[a],this._$);break;case 44:o[a-2].push({part:r.id(o[a]),original:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 45:this.$=[{part:r.id(o[a]),original:o[a]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:o[a-1].push(o[a]);break;case 98:case 100:this.$=[o[a]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,s="",a=0,l=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;i.push(u);var h=this.lexer.options&&this.lexer.options.ranges;function d(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,g,m,v,y,b,w,x,_={};;){if(g=n[n.length-1],this.defaultActions[g]?m=this.defaultActions[g]:(null==p&&(p=d()),m=o[g]&&o[g][p]),void 0===m||!m.length||!m[0]){var A="";if(!c){for(y in x=[],o[g])this.terminals_[y]&&y>2&&x.push("'"+this.terminals_[y]+"'");A=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(A,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:x})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(m[0]){case 1:n.push(p),r.push(this.lexer.yytext),i.push(this.lexer.yylloc),n.push(m[1]),p=null,f?(p=f,f=null):(l=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[m[1]][1],_.$=r[r.length-b],_._$={first_line:i[i.length-(b||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(b||1)].first_column,last_column:i[i.length-1].last_column},h&&(_._$.range=[i[i.length-(b||1)].range[0],i[i.length-1].range[1]]),void 0!==(v=this.performAction.call(_,s,l,a,this.yy,m[1],r,i)))return v;b&&(n=n.slice(0,-1*b*2),r=r.slice(0,-1*b),i=i.slice(0,-1*b)),n.push(this.productions_[m[1]][0]),r.push(_.$),i.push(_._$),w=o[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,r,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(!(n=this._input.match(this.rules[o[s]]))||t&&!(n[0].length>t[0].length)||(t=n,r=s,this.options.flex));s++);return t?((i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,r){function i(e,n){return t.yytext=t.yytext.substring(e,t.yyleng-n+e)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(i(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(i(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(i(5,9),"END_RAW_BLOCK");case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=i(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=i(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return e}();function n(){this.yy={}}return e.lexer=t,n.prototype=e,e.Parser=n,new n}();t.default=n,e.exports=t.default},6224:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){return e<t}},6307:(e,t,n)=>{"use strict";n.d(t,{A:()=>Y});var r=n(2080),i=n(8300),o=n(3736),s=n(4099);const a=function(e,t,n,r,a,l){var c=1&n,u=e.length,h=t.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var f=-1,g=!0,m=2&n?new i.A:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var v=e[f],y=t[f];if(r)var b=c?r(y,v,f,t,e,l):r(v,y,f,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!(0,o.A)(t,function(e,t){if(!(0,s.A)(m,t)&&(v===e||a(v,e,n,r,l)))return m.push(t)})){g=!1;break}}else if(v!==y&&!a(v,y,n,r,l)){g=!1;break}}return l.delete(e),l.delete(t),g};var l=n(241),c=n(3988),u=n(6984);const h=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n};var d=n(9959),p=l.A?l.A.prototype:void 0,f=p?p.valueOf:void 0;const g=function(e,t,n,r,i,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new c.A(e),new c.A(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,u.A)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=h;case"[object Set]":var p=1&r;if(l||(l=d.A),e.size!=t.size&&!p)return!1;var g=s.get(e);if(g)return g==t;r|=2,s.set(e,t);var m=a(l(e),l(t),r,i,o,s);return s.delete(e),m;case"[object Symbol]":if(f)return f.call(e)==f.call(t)}return!1};var m=n(9042),v=Object.prototype.hasOwnProperty;const y=function(e,t,n,r,i,o){var s=1&n,a=(0,m.A)(e),l=a.length;if(l!=(0,m.A)(t).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in t:v.call(t,u)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var p=!0;o.set(e,t),o.set(t,e);for(var f=s;++c<l;){var g=e[u=a[c]],y=t[u];if(r)var b=s?r(y,g,u,t,e,o):r(g,y,u,e,t,o);if(!(void 0===b?g===y||i(g,y,n,r,o):b)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(p=!1)}return o.delete(e),o.delete(t),p};var b=n(9137),w=n(2049),x=n(1200),_=n(4749),A="[object Arguments]",T="[object Array]",E="[object Object]",k=Object.prototype.hasOwnProperty;const S=function(e,t,n,i,o,s){var l=(0,w.A)(e),c=(0,w.A)(t),u=l?T:(0,b.A)(e),h=c?T:(0,b.A)(t),d=(u=u==A?E:u)==E,p=(h=h==A?E:h)==E,f=u==h;if(f&&(0,x.A)(e)){if(!(0,x.A)(t))return!1;l=!0,d=!1}if(f&&!d)return s||(s=new r.A),l||(0,_.A)(e)?a(e,t,n,i,o,s):g(e,t,u,n,i,o,s);if(!(1&n)){var m=d&&k.call(e,"__wrapped__"),v=p&&k.call(t,"__wrapped__");if(m||v){var S=m?e.value():e,C=v?t.value():t;return s||(s=new r.A),o(S,C,n,i,s)}}return!!f&&(s||(s=new r.A),y(e,t,n,i,o,s))};var C=n(3098);const N=function e(t,n,r,i,o){return t===n||(null==t||null==n||!(0,C.A)(t)&&!(0,C.A)(n)?t!=t&&n!=n:S(t,n,r,i,e,o))};const M=function(e,t,n,i){var o=n.length,s=o,a=!i;if(null==e)return!s;for(e=Object(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var c=(l=n[o])[0],u=e[c],h=l[1];if(a&&l[2]){if(void 0===u&&!(c in e))return!1}else{var d=new r.A;if(i)var p=i(u,h,c,e,t,d);if(!(void 0===p?N(h,u,3,i,d):p))return!1}}return!0};var O=n(3149);const R=function(e){return e==e&&!(0,O.A)(e)};var I=n(7422);const L=function(e){for(var t=(0,I.A)(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,R(i)]}return t};const P=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const D=function(e){var t=L(e);return 1==t.length&&t[0][2]?P(t[0][0],t[0][1]):function(n){return n===e||M(n,e,t)}};var B=n(6318);const F=function(e,t,n){var r=null==e?void 0:(0,B.A)(e,t);return void 0===r?n:r};var z=n(6964),$=n(6586),j=n(901);const U=function(e,t){return(0,$.A)(e)&&R(t)?P((0,j.A)(e),t):function(n){var r=F(n,e);return void 0===r&&r===t?(0,z.A)(n,e):N(t,r,3)}};var H=n(9008),G=n(805);const V=function(e){return function(t){return(0,B.A)(t,e)}};const W=function(e){return(0,$.A)(e)?(0,G.A)((0,j.A)(e)):V(e)};const Y=function(e){return"function"==typeof e?e:null==e?H.A:"object"==typeof e?(0,w.A)(e)?U(e[0],e[1]):D(e):W(e)}},6309:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),hsl2rgb:({h:e,s:t,l:n},i)=>{if(!t)return 2.55*n;e/=360,t/=100;const o=(n/=100)<.5?n*(1+t):n+t-n*t,s=2*n-o;switch(i){case"r":return 255*r.hue2rgb(s,o,e+1/3);case"g":return 255*r.hue2rgb(s,o,e);case"b":return 255*r.hue2rgb(s,o,e-1/3)}},rgb2hsl:({r:e,g:t,b:n},r)=>{e/=255,t/=255,n/=255;const i=Math.max(e,t,n),o=Math.min(e,t,n),s=(i+o)/2;if("l"===r)return 100*s;if(i===o)return 0;const a=i-o;if("s"===r)return 100*(s>.5?a/(2-i-o):a/(i+o));switch(i){case e:return 60*((t-n)/a+(t<n?6:0));case t:return 60*((n-e)/a+2);case n:return 60*((e-t)/a+4);default:return-1}}},i={channel:r,lang:{clamp:(e,t,n)=>t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e)),round:e=>Math.round(1e10*e)/1e10},unit:{dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}}}},6318:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1521),i=n(901);const o=function(e,t){for(var n=0,o=(t=(0,r.A)(t,e)).length;null!=e&&n<o;)e=e[(0,i.A)(t[n++])];return n&&n==o?e:void 0}},6373:(e,t,n)=>{"use strict";n.d(t,{El:()=>h,NS:()=>s,SX:()=>c,pO:()=>a,r4:()=>u,v:()=>d,wf:()=>l});var r,i=n(2479),o=n(1719);function s(e){return new o.Vj(e,e=>(0,i.mD)(e)?e.content:[],{includeRoot:!0})}function a(e,t){for(;e.container;)if((e=e.container)===t)return!0;return!1}function l(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function c(e){if(!e)return;const{offset:t,end:n,range:r}=e;return{range:r,offset:t,end:n,length:n-t}}function u(e,t){const n=function(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<=t.start.character)return r.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>=t.end.character)return r.After;const n=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,i=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return n&&i?r.Inside:n?r.OverlapBack:i?r.OverlapFront:r.Outside}(e,t);return n>r.After}!function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside",e[e.Outside=5]="Outside"}(r||(r={}));const h=/^[\w\p{L}]$/u;function d(e,t){if(e){const n=function(e,t=!0){for(;e.container;){const n=e.container;let r=n.content.indexOf(e);for(;r>0;){r--;const e=n.content[r];if(t||!e.hidden)return e}e=n}return}(e,!0);if(n&&p(n,t))return n;if((0,i.br)(e)){for(let n=e.content.findIndex(e=>!e.hidden)-1;n>=0;n--){const r=e.content[n];if(p(r,t))return r}}}}function p(e,t){return(0,i.FC)(e)&&t.includes(e.tokenType.name)}},6401:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(4453),i=n(9137),o=n(5175),s=n(2049),a=n(8446),l=n(1200),c=n(7271),u=n(4749),h=Object.prototype.hasOwnProperty;const d=function(e){if(null==e)return!0;if((0,a.A)(e)&&((0,s.A)(e)||"string"==typeof e||"function"==typeof e.splice||(0,l.A)(e)||(0,u.A)(e)||(0,o.A)(e)))return!e.length;var t=(0,i.A)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,c.A)(e))return!(0,r.A)(e).length;for(var n in e)if(h.call(e,n))return!1;return!0}},6452:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2559),i=n(6224),o=n(9008);const s=function(e){return e&&e.length?(0,r.A)(e,o.A,i.A):void 0}},6527:function(e,t,n){var r;r=function(e){return(()=>{"use strict";var t={658:e=>{e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(function(t){Object.keys(t).forEach(function(n){return e[n]=t[n]})}),e}},548:(e,t,n)=>{var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(140).layoutBase.LinkedList,o={getTopMostNodes:function(e){for(var t={},n=0;n<e.length;n++)t[e[n].id()]=!0;var r=e.filter(function(e,n){"number"==typeof e&&(e=n);for(var r=e.parent()[0];null!=r;){if(t[r.id()])return!1;r=r.parent()[0]}return!0});return r},connectComponents:function(e,t,n,r){var o=new i,s=new Set,a=[],l=void 0,c=void 0,u=void 0,h=!1,d=1,p=[],f=[],g=function(){var r=e.collection();f.push(r);var i=n[0],g=e.collection();g.merge(i).merge(i.descendants().intersection(t)),a.push(i),g.forEach(function(e){o.push(e),s.add(e),r.merge(e)});for(var m=function(){i=o.shift();var c=e.collection();i.neighborhood().nodes().forEach(function(e){t.intersection(i.edgesWith(e)).length>0&&c.merge(e)});for(var u=0;u<c.length;u++){var h=c[u];null==(l=n.intersection(h.union(h.ancestors())))||s.has(l[0])||l.union(l.descendants()).forEach(function(e){o.push(e),s.add(e),r.merge(e),n.has(e)&&a.push(e)})}};0!=o.length;)m();if(r.forEach(function(e){t.intersection(e.connectedEdges()).forEach(function(e){r.has(e.source())&&r.has(e.target())&&r.merge(e)})}),a.length==n.length&&(h=!0),!h||h&&d>1){c=a[0],u=c.connectedEdges().length,a.forEach(function(e){e.connectedEdges().length<u&&(u=e.connectedEdges().length,c=e)}),p.push(c.id());var v=e.collection();v.merge(a[0]),a.forEach(function(e){v.merge(e)}),a=[],n=n.difference(v),d++}};do{g()}while(!h);return r&&p.length>0&&r.set("dummy"+(r.size+1),p),f},relocateComponent:function(e,t,n){if(!n.fixedNodeConstraint){var i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;if("draft"==n.quality){var l=!0,c=!1,u=void 0;try{for(var h,d=t.nodeIndexes[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var p=h.value,f=r(p,2),g=f[0],m=f[1],v=n.cy.getElementById(g);if(v){var y=v.boundingBox(),b=t.xCoords[m]-y.w/2,w=t.xCoords[m]+y.w/2,x=t.yCoords[m]-y.h/2,_=t.yCoords[m]+y.h/2;b<i&&(i=b),w>o&&(o=w),x<s&&(s=x),_>a&&(a=_)}}}catch(e){c=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(c)throw u}}var A=e.x-(o+i)/2,T=e.y-(a+s)/2;t.xCoords=t.xCoords.map(function(e){return e+A}),t.yCoords=t.yCoords.map(function(e){return e+T})}else{Object.keys(t).forEach(function(e){var n=t[e],r=n.getRect().x,l=n.getRect().x+n.getRect().width,c=n.getRect().y,u=n.getRect().y+n.getRect().height;r<i&&(i=r),l>o&&(o=l),c<s&&(s=c),u>a&&(a=u)});var E=e.x-(o+i)/2,k=e.y-(a+s)/2;Object.keys(t).forEach(function(e){var n=t[e];n.setCenter(n.getCenterX()+E,n.getCenterY()+k)})}}},calcBoundingBox:function(e,t,n,r){for(var i=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,l=void 0,c=void 0,u=void 0,h=void 0,d=e.descendants().not(":parent"),p=d.length,f=0;f<p;f++){var g=d[f];i>(l=t[r.get(g.id())]-g.width()/2)&&(i=l),o<(c=t[r.get(g.id())]+g.width()/2)&&(o=c),s>(u=n[r.get(g.id())]-g.height()/2)&&(s=u),a<(h=n[r.get(g.id())]+g.height()/2)&&(a=h)}var m={};return m.topLeftX=i,m.topLeftY=s,m.width=o-i,m.height=a-s,m},calcParentsWithoutChildren:function(e,t){var n=e.collection();return t.nodes(":parent").forEach(function(e){var t=!1;e.children().forEach(function(e){"none"!=e.css("display")&&(t=!0)}),t||n.merge(e)}),n}};e.exports=o},816:(e,t,n)=>{var r=n(548),i=n(140).CoSELayout,o=n(140).CoSENode,s=n(140).layoutBase.PointD,a=n(140).layoutBase.DimensionD,l=n(140).layoutBase.LayoutConstants,c=n(140).layoutBase.FDLayoutConstants,u=n(140).CoSEConstants;e.exports={coseLayout:function(e,t){var n=e.cy,h=e.eles,d=h.nodes(),p=h.edges(),f=void 0,g=void 0,m=void 0,v={};e.randomize&&(f=t.nodeIndexes,g=t.xCoords,m=t.yCoords);var y=function(e){return"function"==typeof e},b=function(e,t){return y(e)?e(t):e},w=r.calcParentsWithoutChildren(n,h);null!=e.nestingFactor&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=c.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=e.nestingFactor),null!=e.gravity&&(u.DEFAULT_GRAVITY_STRENGTH=c.DEFAULT_GRAVITY_STRENGTH=e.gravity),null!=e.numIter&&(u.MAX_ITERATIONS=c.MAX_ITERATIONS=e.numIter),null!=e.gravityRange&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=c.DEFAULT_GRAVITY_RANGE_FACTOR=e.gravityRange),null!=e.gravityCompound&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH=e.gravityCompound),null!=e.gravityRangeCompound&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=e.gravityRangeCompound),null!=e.initialEnergyOnIncremental&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=c.DEFAULT_COOLING_FACTOR_INCREMENTAL=e.initialEnergyOnIncremental),null!=e.tilingCompareBy&&(u.TILING_COMPARE_BY=e.tilingCompareBy),"proof"==e.quality?l.QUALITY=2:l.QUALITY=0,u.NODE_DIMENSIONS_INCLUDE_LABELS=c.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=e.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=c.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=!e.randomize,u.ANIMATE=c.ANIMATE=l.ANIMATE=e.animate,u.TILE=e.tile,u.TILING_PADDING_VERTICAL="function"==typeof e.tilingPaddingVertical?e.tilingPaddingVertical.call():e.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL="function"==typeof e.tilingPaddingHorizontal?e.tilingPaddingHorizontal.call():e.tilingPaddingHorizontal,u.DEFAULT_INCREMENTAL=c.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=!0,u.PURE_INCREMENTAL=!e.randomize,l.DEFAULT_UNIFORM_LEAF_NODE_SIZES=e.uniformNodeDimensions,"transformed"==e.step&&(u.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,u.ENFORCE_CONSTRAINTS=!1,u.APPLY_LAYOUT=!1),"enforced"==e.step&&(u.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,u.ENFORCE_CONSTRAINTS=!0,u.APPLY_LAYOUT=!1),"cose"==e.step&&(u.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,u.ENFORCE_CONSTRAINTS=!1,u.APPLY_LAYOUT=!0),"all"==e.step&&(e.randomize?u.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:u.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,u.ENFORCE_CONSTRAINTS=!0,u.APPLY_LAYOUT=!0),e.fixedNodeConstraint||e.alignmentConstraint||e.relativePlacementConstraint?u.TREE_REDUCTION_ON_INCREMENTAL=!1:u.TREE_REDUCTION_ON_INCREMENTAL=!0;var x=new i,_=x.newGraphManager();return function e(t,n,i,l){for(var c=n.length,u=0;u<c;u++){var h=n[u],d=null;0==h.intersection(w).length&&(d=h.children());var p=void 0,y=h.layoutDimensions({nodeDimensionsIncludeLabels:l.nodeDimensionsIncludeLabels});if(null!=h.outerWidth()&&null!=h.outerHeight())if(l.randomize)if(h.isParent()){var x=r.calcBoundingBox(h,g,m,f);p=0==h.intersection(w).length?t.add(new o(i.graphManager,new s(x.topLeftX,x.topLeftY),new a(x.width,x.height))):t.add(new o(i.graphManager,new s(x.topLeftX,x.topLeftY),new a(parseFloat(y.w),parseFloat(y.h))))}else p=t.add(new o(i.graphManager,new s(g[f.get(h.id())]-y.w/2,m[f.get(h.id())]-y.h/2),new a(parseFloat(y.w),parseFloat(y.h))));else p=t.add(new o(i.graphManager,new s(h.position("x")-y.w/2,h.position("y")-y.h/2),new a(parseFloat(y.w),parseFloat(y.h))));else p=t.add(new o(this.graphManager));p.id=h.data("id"),p.nodeRepulsion=b(l.nodeRepulsion,h),p.paddingLeft=parseInt(h.css("padding")),p.paddingTop=parseInt(h.css("padding")),p.paddingRight=parseInt(h.css("padding")),p.paddingBottom=parseInt(h.css("padding")),l.nodeDimensionsIncludeLabels&&(p.labelWidth=h.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,p.labelHeight=h.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,p.labelPosVertical=h.css("text-valign"),p.labelPosHorizontal=h.css("text-halign")),v[h.data("id")]=p,isNaN(p.rect.x)&&(p.rect.x=0),isNaN(p.rect.y)&&(p.rect.y=0),null!=d&&d.length>0&&e(i.getGraphManager().add(i.newGraph(),p),d,i,l)}}(_.addRoot(),r.getTopMostNodes(d),x,e),function(t,n,r){for(var i=0,o=0,s=0;s<r.length;s++){var a=r[s],l=v[a.data("source")],h=v[a.data("target")];if(l&&h&&l!==h&&0==l.getEdgesBetween(h).length){var d=n.add(t.newEdge(),l,h);d.id=a.id(),d.idealLength=b(e.idealEdgeLength,a),d.edgeElasticity=b(e.edgeElasticity,a),i+=d.idealLength,o++}}null!=e.idealEdgeLength&&(o>0?u.DEFAULT_EDGE_LENGTH=c.DEFAULT_EDGE_LENGTH=i/o:y(e.idealEdgeLength)?u.DEFAULT_EDGE_LENGTH=c.DEFAULT_EDGE_LENGTH=50:u.DEFAULT_EDGE_LENGTH=c.DEFAULT_EDGE_LENGTH=e.idealEdgeLength,u.MIN_REPULSION_DIST=c.MIN_REPULSION_DIST=c.DEFAULT_EDGE_LENGTH/10,u.DEFAULT_RADIAL_SEPARATION=c.DEFAULT_EDGE_LENGTH)}(x,_,p),function(e,t){t.fixedNodeConstraint&&(e.constraints.fixedNodeConstraint=t.fixedNodeConstraint),t.alignmentConstraint&&(e.constraints.alignmentConstraint=t.alignmentConstraint),t.relativePlacementConstraint&&(e.constraints.relativePlacementConstraint=t.relativePlacementConstraint)}(x,e),x.runLayout(),v}}},212:(e,t,n)=>{var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(658),o=n(548),s=n(657).spectralLayout,a=n(816).coseLayout,l=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(e){return 4500},idealEdgeLength:function(e){return 50},edgeElasticity:function(e){return.45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=i({},l,t)}return r(e,[{key:"run",value:function(){var e=this.options,t=e.cy,n=e.eles,r=[],i=[],l=void 0,c=[];!e.fixedNodeConstraint||Array.isArray(e.fixedNodeConstraint)&&0!=e.fixedNodeConstraint.length||(e.fixedNodeConstraint=void 0),e.alignmentConstraint&&(!e.alignmentConstraint.vertical||Array.isArray(e.alignmentConstraint.vertical)&&0!=e.alignmentConstraint.vertical.length||(e.alignmentConstraint.vertical=void 0),!e.alignmentConstraint.horizontal||Array.isArray(e.alignmentConstraint.horizontal)&&0!=e.alignmentConstraint.horizontal.length||(e.alignmentConstraint.horizontal=void 0)),!e.relativePlacementConstraint||Array.isArray(e.relativePlacementConstraint)&&0!=e.relativePlacementConstraint.length||(e.relativePlacementConstraint=void 0),(e.fixedNodeConstraint||e.alignmentConstraint||e.relativePlacementConstraint)&&(e.tile=!1,e.packComponents=!1);var u=void 0,h=!1;if(t.layoutUtilities&&e.packComponents&&((u=t.layoutUtilities("get"))||(u=t.layoutUtilities()),h=!0),n.nodes().length>0)if(h){var d=o.getTopMostNodes(e.eles.nodes());if((l=o.connectComponents(t,e.eles,d)).forEach(function(e){var t=e.boundingBox();c.push({x:t.x1+t.w/2,y:t.y1+t.h/2})}),e.randomize&&l.forEach(function(t){e.eles=t,r.push(s(e))}),"default"==e.quality||"proof"==e.quality){var p=t.collection();if(e.tile){var f=new Map,g=0,m={nodeIndexes:f,xCoords:[],yCoords:[]},v=[];if(l.forEach(function(e,t){0==e.edges().length&&(e.nodes().forEach(function(t,n){p.merge(e.nodes()[n]),t.isParent()||(m.nodeIndexes.set(e.nodes()[n].id(),g++),m.xCoords.push(e.nodes()[0].position().x),m.yCoords.push(e.nodes()[0].position().y))}),v.push(t))}),p.length>1){var y=p.boundingBox();c.push({x:y.x1+y.w/2,y:y.y1+y.h/2}),l.push(p),r.push(m);for(var b=v.length-1;b>=0;b--)l.splice(v[b],1),r.splice(v[b],1),c.splice(v[b],1)}}l.forEach(function(t,n){e.eles=t,i.push(a(e,r[n])),o.relocateComponent(c[n],i[n],e)})}else l.forEach(function(t,n){o.relocateComponent(c[n],r[n],e)});var w=new Set;if(l.length>1){var x=[],_=n.filter(function(e){return"none"==e.css("display")});l.forEach(function(t,n){var s=void 0;if("draft"==e.quality&&(s=r[n].nodeIndexes),t.nodes().not(_).length>0){var a={edges:[],nodes:[]},l=void 0;t.nodes().not(_).forEach(function(t){if("draft"==e.quality)if(t.isParent()){var c=o.calcBoundingBox(t,r[n].xCoords,r[n].yCoords,s);a.nodes.push({x:c.topLeftX,y:c.topLeftY,width:c.width,height:c.height})}else l=s.get(t.id()),a.nodes.push({x:r[n].xCoords[l]-t.boundingbox().w/2,y:r[n].yCoords[l]-t.boundingbox().h/2,width:t.boundingbox().w,height:t.boundingbox().h});else i[n][t.id()]&&a.nodes.push({x:i[n][t.id()].getLeft(),y:i[n][t.id()].getTop(),width:i[n][t.id()].getWidth(),height:i[n][t.id()].getHeight()})}),t.edges().forEach(function(t){var l=t.source(),c=t.target();if("none"!=l.css("display")&&"none"!=c.css("display"))if("draft"==e.quality){var u=s.get(l.id()),h=s.get(c.id()),d=[],p=[];if(l.isParent()){var f=o.calcBoundingBox(l,r[n].xCoords,r[n].yCoords,s);d.push(f.topLeftX+f.width/2),d.push(f.topLeftY+f.height/2)}else d.push(r[n].xCoords[u]),d.push(r[n].yCoords[u]);if(c.isParent()){var g=o.calcBoundingBox(c,r[n].xCoords,r[n].yCoords,s);p.push(g.topLeftX+g.width/2),p.push(g.topLeftY+g.height/2)}else p.push(r[n].xCoords[h]),p.push(r[n].yCoords[h]);a.edges.push({startX:d[0],startY:d[1],endX:p[0],endY:p[1]})}else i[n][l.id()]&&i[n][c.id()]&&a.edges.push({startX:i[n][l.id()].getCenterX(),startY:i[n][l.id()].getCenterY(),endX:i[n][c.id()].getCenterX(),endY:i[n][c.id()].getCenterY()})}),a.nodes.length>0&&(x.push(a),w.add(n))}});var A=u.packComponents(x,e.randomize).shifts;if("draft"==e.quality)r.forEach(function(e,t){var n=e.xCoords.map(function(e){return e+A[t].dx}),r=e.yCoords.map(function(e){return e+A[t].dy});e.xCoords=n,e.yCoords=r});else{var T=0;w.forEach(function(e){Object.keys(i[e]).forEach(function(t){var n=i[e][t];n.setCenter(n.getCenterX()+A[T].dx,n.getCenterY()+A[T].dy)}),T++})}}}else{var E=e.eles.boundingBox();if(c.push({x:E.x1+E.w/2,y:E.y1+E.h/2}),e.randomize){var k=s(e);r.push(k)}"default"==e.quality||"proof"==e.quality?(i.push(a(e,r[0])),o.relocateComponent(c[0],i[0],e)):o.relocateComponent(c[0],r[0],e)}var S=function(t,n){if("default"==e.quality||"proof"==e.quality){"number"==typeof t&&(t=n);var o=void 0,s=void 0,a=t.data("id");return i.forEach(function(e){a in e&&(o={x:e[a].getRect().getCenterX(),y:e[a].getRect().getCenterY()},s=e[a])}),e.nodeDimensionsIncludeLabels&&(s.labelWidth&&("left"==s.labelPosHorizontal?o.x+=s.labelWidth/2:"right"==s.labelPosHorizontal&&(o.x-=s.labelWidth/2)),s.labelHeight&&("top"==s.labelPosVertical?o.y+=s.labelHeight/2:"bottom"==s.labelPosVertical&&(o.y-=s.labelHeight/2))),null==o&&(o={x:t.position("x"),y:t.position("y")}),{x:o.x,y:o.y}}var l=void 0;return r.forEach(function(e){var n=e.nodeIndexes.get(t.id());null!=n&&(l={x:e.xCoords[n],y:e.yCoords[n]})}),null==l&&(l={x:t.position("x"),y:t.position("y")}),{x:l.x,y:l.y}};if("default"==e.quality||"proof"==e.quality||e.randomize){var C=o.calcParentsWithoutChildren(t,n),N=n.filter(function(e){return"none"==e.css("display")});e.eles=n.not(N),n.nodes().not(":parent").not(N).layoutPositions(this,e,S),C.length>0&&C.forEach(function(e){e.position(S(e))})}}}]),e}();e.exports=c},657:(e,t,n)=>{var r=n(548),i=n(140).layoutBase.Matrix,o=n(140).layoutBase.SVD;e.exports={spectralLayout:function(e){var t=e.cy,n=e.eles,s=n.nodes(),a=n.nodes(":parent"),l=new Map,c=new Map,u=new Map,h=[],d=[],p=[],f=[],g=[],m=[],v=[],y=[],b=void 0,w=1e8,x=1e-9,_=e.piTol,A=e.samplingType,T=e.nodeSeparation,E=void 0,k=function(e,t,n){for(var r=[],i=0,o=0,s=0,a=void 0,l=[],u=0,d=1,p=0;p<b;p++)l[p]=w;for(r[o]=e,l[e]=0;o>=i;){s=r[i++];for(var f=h[s],v=0;v<f.length;v++)l[a=c.get(f[v])]==w&&(l[a]=l[s]+1,r[++o]=a);m[s][t]=l[s]*T}if(n){for(var y=0;y<b;y++)m[y][t]<g[y]&&(g[y]=m[y][t]);for(var x=0;x<b;x++)g[x]>u&&(u=g[x],d=x)}return d};r.connectComponents(t,n,r.getTopMostNodes(s),l),a.forEach(function(e){r.connectComponents(t,n,r.getTopMostNodes(e.descendants().intersection(n)),l)});for(var S=0,C=0;C<s.length;C++)s[C].isParent()||c.set(s[C].id(),S++);var N=!0,M=!1,O=void 0;try{for(var R,I=l.keys()[Symbol.iterator]();!(N=(R=I.next()).done);N=!0){var L=R.value;c.set(L,S++)}}catch(e){M=!0,O=e}finally{try{!N&&I.return&&I.return()}finally{if(M)throw O}}for(var P=0;P<c.size;P++)h[P]=[];a.forEach(function(e){for(var t=e.children().intersection(n);0==t.nodes(":childless").length;)t=t.nodes()[0].children().intersection(n);var r=0,i=t.nodes(":childless")[0].connectedEdges().length;t.nodes(":childless").forEach(function(e,t){e.connectedEdges().length<i&&(i=e.connectedEdges().length,r=t)}),u.set(e.id(),t.nodes(":childless")[r].id())}),s.forEach(function(e){var t=void 0;t=e.isParent()?c.get(u.get(e.id())):c.get(e.id()),e.neighborhood().nodes().forEach(function(r){n.intersection(e.edgesWith(r)).length>0&&(r.isParent()?h[t].push(u.get(r.id())):h[t].push(r.id()))})});var D=function(e){var n=c.get(e),r=void 0;l.get(e).forEach(function(i){r=t.getElementById(i).isParent()?u.get(i):i,h[n].push(r),h[c.get(r)].push(e)})},B=!0,F=!1,z=void 0;try{for(var $,j=l.keys()[Symbol.iterator]();!(B=($=j.next()).done);B=!0)D($.value)}catch(e){F=!0,z=e}finally{try{!B&&j.return&&j.return()}finally{if(F)throw z}}var U=void 0;if((b=c.size)>2){E=b<e.sampleSize?b:e.sampleSize;for(var H=0;H<b;H++)m[H]=[];for(var G=0;G<E;G++)y[G]=[];return"draft"==e.quality||"all"==e.step?(function(e){var t=void 0;if(e){t=Math.floor(Math.random()*b);for(var n=0;n<b;n++)g[n]=w;for(var r=0;r<E;r++)f[r]=t,t=k(t,r,e)}else{!function(){for(var e=0,t=0,n=!1;t<E;){e=Math.floor(Math.random()*b),n=!1;for(var r=0;r<t;r++)if(f[r]==e){n=!0;break}n||(f[t]=e,t++)}}();for(var i=0;i<E;i++)k(f[i],i,e)}for(var o=0;o<b;o++)for(var s=0;s<E;s++)m[o][s]*=m[o][s];for(var a=0;a<E;a++)v[a]=[];for(var l=0;l<E;l++)for(var c=0;c<E;c++)v[l][c]=m[f[c]][l]}(A),function(){for(var e=o.svd(v),t=e.S,n=e.U,r=e.V,s=t[0]*t[0]*t[0],a=[],l=0;l<E;l++){a[l]=[];for(var c=0;c<E;c++)a[l][c]=0,l==c&&(a[l][c]=t[l]/(t[l]*t[l]+s/(t[l]*t[l])))}y=i.multMat(i.multMat(r,a),i.transpose(n))}(),function(){for(var e=void 0,t=void 0,n=[],r=[],o=[],s=[],a=0;a<b;a++)n[a]=Math.random(),r[a]=Math.random();n=i.normalize(n),r=i.normalize(r);for(var l=x,c=x,u=void 0;;){for(var h=0;h<b;h++)o[h]=n[h];if(n=i.multGamma(i.multL(i.multGamma(o),m,y)),e=i.dotProduct(o,n),n=i.normalize(n),l=i.dotProduct(o,n),(u=Math.abs(l/c))<=1+_&&u>=1)break;c=l}for(var f=0;f<b;f++)o[f]=n[f];for(c=x;;){for(var g=0;g<b;g++)s[g]=r[g];if(s=i.minusOp(s,i.multCons(o,i.dotProduct(o,s))),r=i.multGamma(i.multL(i.multGamma(s),m,y)),t=i.dotProduct(s,r),r=i.normalize(r),l=i.dotProduct(s,r),(u=Math.abs(l/c))<=1+_&&u>=1)break;c=l}for(var v=0;v<b;v++)s[v]=r[v];d=i.multCons(o,Math.sqrt(Math.abs(e))),p=i.multCons(s,Math.sqrt(Math.abs(t)))}(),U={nodeIndexes:c,xCoords:d,yCoords:p}):(c.forEach(function(e,n){d.push(t.getElementById(n).position("x")),p.push(t.getElementById(n).position("y"))}),U={nodeIndexes:c,xCoords:d,yCoords:p}),U}var V=c.keys(),W=t.getElementById(V.next().value),Y=W.position(),q=W.outerWidth();if(d.push(Y.x),p.push(Y.y),2==b){var X=t.getElementById(V.next().value).outerWidth();d.push(Y.x+q/2+X/2+e.idealEdgeLength),p.push(Y.y)}return U={nodeIndexes:c,xCoords:d,yCoords:p}}}},579:(e,t,n)=>{var r=n(212),i=function(e){e&&e("layout","fcose",r)};"undefined"!=typeof cytoscape&&i(cytoscape),e.exports=i},140:t=>{t.exports=e}},n={},r=function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return t[r](o,o.exports,e),o.exports}(579);return r})()},e.exports=r(n(1709))},6586:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2049),i=n(1882),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;const a=function(e,t){if((0,r.A)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!(0,i.A)(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}},6632:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2050);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(i.Cache||r.A),n}i.Cache=r.A;const o=i},6649:(e,t,n)=>{"use strict";function r(e,t){let n=-1===e.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const e in t)n+=" "+e+'="'+t[e]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}n.d(t,{U:()=>r})},6666:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},6679:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}([function(e,t,n){"use strict";function r(){}r.QUALITY=1,r.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,r.DEFAULT_INCREMENTAL=!1,r.DEFAULT_ANIMATION_ON_LAYOUT=!0,r.DEFAULT_ANIMATION_DURING_LAYOUT=!1,r.DEFAULT_ANIMATION_PERIOD=50,r.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,r.DEFAULT_GRAPH_MARGIN=15,r.NODE_DIMENSIONS_INCLUDE_LABELS=!1,r.SIMPLE_NODE_SIZE=40,r.SIMPLE_NODE_HALF_SIZE=r.SIMPLE_NODE_SIZE/2,r.EMPTY_COMPOUND_NODE_SIZE=40,r.MIN_EDGE_LENGTH=1,r.WORLD_BOUNDARY=1e6,r.INITIAL_WORLD_BOUNDARY=r.WORLD_BOUNDARY/1e3,r.WORLD_CENTER_X=1200,r.WORLD_CENTER_Y=900,e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(8),o=n(9);function s(e,t,n){r.call(this,n),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=n,this.bendpoints=[],this.source=e,this.target=t}for(var a in s.prototype=Object.create(r.prototype),r)s[a]=r[a];s.prototype.getSource=function(){return this.source},s.prototype.getTarget=function(){return this.target},s.prototype.isInterGraph=function(){return this.isInterGraph},s.prototype.getLength=function(){return this.length},s.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},s.prototype.getBendpoints=function(){return this.bendpoints},s.prototype.getLca=function(){return this.lca},s.prototype.getSourceInLca=function(){return this.sourceInLca},s.prototype.getTargetInLca=function(){return this.targetInLca},s.prototype.getOtherEnd=function(e){if(this.source===e)return this.target;if(this.target===e)return this.source;throw"Node is not incident with this edge"},s.prototype.getOtherEndInGraph=function(e,t){for(var n=this.getOtherEnd(e),r=t.getGraphManager().getRoot();;){if(n.getOwner()==t)return n;if(n.getOwner()==r)break;n=n.getOwner().getParent()}return null},s.prototype.updateLength=function(){var e=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),e),this.isOverlapingSourceAndTarget||(this.lengthX=e[0]-e[2],this.lengthY=e[1]-e[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},s.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=s},function(e,t,n){"use strict";e.exports=function(e){this.vGraphObject=e}},function(e,t,n){"use strict";var r=n(2),i=n(10),o=n(13),s=n(0),a=n(16),l=n(5);function c(e,t,n,s){null==n&&null==s&&(s=t),r.call(this,s),null!=e.graphManager&&(e=e.graphManager),this.estimatedSize=i.MIN_VALUE,this.inclusionTreeDepth=i.MAX_VALUE,this.vGraphObject=s,this.edges=[],this.graphManager=e,this.rect=null!=n&&null!=t?new o(t.x,t.y,n.width,n.height):new o}for(var u in c.prototype=Object.create(r.prototype),r)c[u]=r[u];c.prototype.getEdges=function(){return this.edges},c.prototype.getChild=function(){return this.child},c.prototype.getOwner=function(){return this.owner},c.prototype.getWidth=function(){return this.rect.width},c.prototype.setWidth=function(e){this.rect.width=e},c.prototype.getHeight=function(){return this.rect.height},c.prototype.setHeight=function(e){this.rect.height=e},c.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},c.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},c.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},c.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},c.prototype.getRect=function(){return this.rect},c.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},c.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},c.prototype.setRect=function(e,t){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=t.width,this.rect.height=t.height},c.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2,this.rect.y=t-this.rect.height/2},c.prototype.setLocation=function(e,t){this.rect.x=e,this.rect.y=t},c.prototype.moveBy=function(e,t){this.rect.x+=e,this.rect.y+=t},c.prototype.getEdgeListToNode=function(e){var t=[],n=this;return n.edges.forEach(function(r){if(r.target==e){if(r.source!=n)throw"Incorrect edge source!";t.push(r)}}),t},c.prototype.getEdgesBetween=function(e){var t=[],n=this;return n.edges.forEach(function(r){if(r.source!=n&&r.target!=n)throw"Incorrect edge source and/or target";r.target!=e&&r.source!=e||t.push(r)}),t},c.prototype.getNeighborsList=function(){var e=new Set,t=this;return t.edges.forEach(function(n){if(n.source==t)e.add(n.target);else{if(n.target!=t)throw"Incorrect incidency!";e.add(n.source)}}),e},c.prototype.withChildren=function(){var e=new Set;if(e.add(this),null!=this.child)for(var t=this.child.getNodes(),n=0;n<t.length;n++)t[n].withChildren().forEach(function(t){e.add(t)});return e},c.prototype.getNoOfChildren=function(){var e=0;if(null==this.child)e=1;else for(var t=this.child.getNodes(),n=0;n<t.length;n++)e+=t[n].getNoOfChildren();return 0==e&&(e=1),e},c.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},c.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},c.prototype.scatter=function(){var e,t,n=-s.INITIAL_WORLD_BOUNDARY,r=s.INITIAL_WORLD_BOUNDARY;e=s.WORLD_CENTER_X+a.nextDouble()*(r-n)+n;var i=-s.INITIAL_WORLD_BOUNDARY,o=s.INITIAL_WORLD_BOUNDARY;t=s.WORLD_CENTER_Y+a.nextDouble()*(o-i)+i,this.rect.x=e,this.rect.y=t},c.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var e=this.getChild();if(e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),s.NODE_DIMENSIONS_INCLUDE_LABELS){var t=e.getRight()-e.getLeft(),n=e.getBottom()-e.getTop();this.labelWidth&&("left"==this.labelPosHorizontal?(this.rect.x-=this.labelWidth,this.setWidth(t+this.labelWidth)):"center"==this.labelPosHorizontal&&this.labelWidth>t?(this.rect.x-=(this.labelWidth-t)/2,this.setWidth(this.labelWidth)):"right"==this.labelPosHorizontal&&this.setWidth(t+this.labelWidth)),this.labelHeight&&("top"==this.labelPosVertical?(this.rect.y-=this.labelHeight,this.setHeight(n+this.labelHeight)):"center"==this.labelPosVertical&&this.labelHeight>n?(this.rect.y-=(this.labelHeight-n)/2,this.setHeight(this.labelHeight)):"bottom"==this.labelPosVertical&&this.setHeight(n+this.labelHeight))}}},c.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},c.prototype.transform=function(e){var t=this.rect.x;t>s.WORLD_BOUNDARY?t=s.WORLD_BOUNDARY:t<-s.WORLD_BOUNDARY&&(t=-s.WORLD_BOUNDARY);var n=this.rect.y;n>s.WORLD_BOUNDARY?n=s.WORLD_BOUNDARY:n<-s.WORLD_BOUNDARY&&(n=-s.WORLD_BOUNDARY);var r=new l(t,n),i=e.inverseTransformPoint(r);this.setLocation(i.x,i.y)},c.prototype.getLeft=function(){return this.rect.x},c.prototype.getRight=function(){return this.rect.x+this.rect.width},c.prototype.getTop=function(){return this.rect.y},c.prototype.getBottom=function(){return this.rect.y+this.rect.height},c.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},e.exports=c},function(e,t,n){"use strict";var r=n(0);function i(){}for(var o in r)i[o]=r[o];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,i.MAX_NODE_DISPLACEMENT=3*i.MAX_NODE_DISPLACEMENT_INCREMENTAL,i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=i},function(e,t,n){"use strict";function r(e,t){null==e&&null==t?(this.x=0,this.y=0):(this.x=e,this.y=t)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.setX=function(e){this.x=e},r.prototype.setY=function(e){this.y=e},r.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)},r.prototype.getCopy=function(){return new r(this.x,this.y)},r.prototype.translate=function(e){return this.x+=e.width,this.y+=e.height,this},e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(10),o=n(0),s=n(7),a=n(3),l=n(1),c=n(13),u=n(12),h=n(11);function d(e,t,n){r.call(this,n),this.estimatedSize=i.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=e,null!=t&&t instanceof s?this.graphManager=t:null!=t&&t instanceof Layout&&(this.graphManager=t.graphManager)}for(var p in d.prototype=Object.create(r.prototype),r)d[p]=r[p];d.prototype.getNodes=function(){return this.nodes},d.prototype.getEdges=function(){return this.edges},d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getParent=function(){return this.parent},d.prototype.getLeft=function(){return this.left},d.prototype.getRight=function(){return this.right},d.prototype.getTop=function(){return this.top},d.prototype.getBottom=function(){return this.bottom},d.prototype.isConnected=function(){return this.isConnected},d.prototype.add=function(e,t,n){if(null==t&&null==n){var r=e;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(r)>-1)throw"Node already in graph!";return r.owner=this,this.getNodes().push(r),r}var i=e;if(!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(n)>-1))throw"Source or target not in graph!";if(t.owner!=n.owner||t.owner!=this)throw"Both owners must be this graph!";return t.owner!=n.owner?null:(i.source=t,i.target=n,i.isInterGraph=!1,this.getEdges().push(i),t.edges.push(i),n!=t&&n.edges.push(i),i)},d.prototype.remove=function(e){var t=e;if(e instanceof a){if(null==t)throw"Node is null!";if(null==t.owner||t.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var n=t.edges.slice(),r=n.length,i=0;i<r;i++)(o=n[i]).isInterGraph?this.graphManager.remove(o):o.source.owner.remove(o);if(-1==(s=this.nodes.indexOf(t)))throw"Node not in owner node list!";this.nodes.splice(s,1)}else if(e instanceof l){var o;if(null==(o=e))throw"Edge is null!";if(null==o.source||null==o.target)throw"Source and/or target is null!";if(null==o.source.owner||null==o.target.owner||o.source.owner!=this||o.target.owner!=this)throw"Source and/or target owner is invalid!";var s,c=o.source.edges.indexOf(o),u=o.target.edges.indexOf(o);if(!(c>-1&&u>-1))throw"Source and/or target doesn't know this edge!";if(o.source.edges.splice(c,1),o.target!=o.source&&o.target.edges.splice(u,1),-1==(s=o.source.owner.getEdges().indexOf(o)))throw"Not in owner's edge list!";o.source.owner.getEdges().splice(s,1)}},d.prototype.updateLeftTop=function(){for(var e,t,n,r=i.MAX_VALUE,o=i.MAX_VALUE,s=this.getNodes(),a=s.length,l=0;l<a;l++){var c=s[l];r>(e=c.getTop())&&(r=e),o>(t=c.getLeft())&&(o=t)}return r==i.MAX_VALUE?null:(n=null!=s[0].getParent().paddingLeft?s[0].getParent().paddingLeft:this.margin,this.left=o-n,this.top=r-n,new u(this.left,this.top))},d.prototype.updateBounds=function(e){for(var t,n,r,o,s,a=i.MAX_VALUE,l=-i.MAX_VALUE,u=i.MAX_VALUE,h=-i.MAX_VALUE,d=this.nodes,p=d.length,f=0;f<p;f++){var g=d[f];e&&null!=g.child&&g.updateBounds(),a>(t=g.getLeft())&&(a=t),l<(n=g.getRight())&&(l=n),u>(r=g.getTop())&&(u=r),h<(o=g.getBottom())&&(h=o)}var m=new c(a,u,l-a,h-u);a==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),s=null!=d[0].getParent().paddingLeft?d[0].getParent().paddingLeft:this.margin,this.left=m.x-s,this.right=m.x+m.width+s,this.top=m.y-s,this.bottom=m.y+m.height+s},d.calculateBounds=function(e){for(var t,n,r,o,s=i.MAX_VALUE,a=-i.MAX_VALUE,l=i.MAX_VALUE,u=-i.MAX_VALUE,h=e.length,d=0;d<h;d++){var p=e[d];s>(t=p.getLeft())&&(s=t),a<(n=p.getRight())&&(a=n),l>(r=p.getTop())&&(l=r),u<(o=p.getBottom())&&(u=o)}return new c(s,l,a-s,u-l)},d.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){for(var e=0,t=this.nodes,n=t.length,r=0;r<n;r++)e+=t[r].calcEstimatedSize();return this.estimatedSize=0==e?o.EMPTY_COMPOUND_NODE_SIZE:e/Math.sqrt(this.nodes.length),this.estimatedSize},d.prototype.updateConnected=function(){var e=this;if(0!=this.nodes.length){var t,n,r=new h,i=new Set,o=this.nodes[0];for(o.withChildren().forEach(function(e){r.push(e),i.add(e)});0!==r.length;)for(var s=(t=(o=r.shift()).getEdges()).length,a=0;a<s;a++)null==(n=t[a].getOtherEndInGraph(o,this))||i.has(n)||n.withChildren().forEach(function(e){r.push(e),i.add(e)});if(this.isConnected=!1,i.size>=this.nodes.length){var l=0;i.forEach(function(t){t.owner==e&&l++}),l==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},e.exports=d},function(e,t,n){"use strict";var r,i=n(1);function o(e){r=n(6),this.layout=e,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var e=this.layout.newGraph(),t=this.layout.newNode(null),n=this.add(e,t);return this.setRootGraph(n),this.rootGraph},o.prototype.add=function(e,t,n,r,i){if(null==n&&null==r&&null==i){if(null==e)throw"Graph is null!";if(null==t)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),null!=e.parent)throw"Already has a parent!";if(null!=t.child)throw"Already has a child!";return e.parent=t,t.child=e,e}i=n,n=e;var o=(r=t).getOwner(),s=i.getOwner();if(null==o||o.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==s||s.getGraphManager()!=this)throw"Target not in this graph mgr!";if(o==s)return n.isInterGraph=!1,o.add(n,r,i);if(n.isInterGraph=!0,n.source=r,n.target=i,this.edges.indexOf(n)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(n),null==n.source||null==n.target)throw"Edge source and/or target is null!";if(-1!=n.source.edges.indexOf(n)||-1!=n.target.edges.indexOf(n))throw"Edge already in source and/or target incidency list!";return n.source.edges.push(n),n.target.edges.push(n),n},o.prototype.remove=function(e){if(e instanceof r){var t=e;if(t.getGraphManager()!=this)throw"Graph not in this graph mgr";if(t!=this.rootGraph&&(null==t.parent||t.parent.graphManager!=this))throw"Invalid parent node!";for(var n,o=[],s=(o=o.concat(t.getEdges())).length,a=0;a<s;a++)n=o[a],t.remove(n);var l,c=[];for(s=(c=c.concat(t.getNodes())).length,a=0;a<s;a++)l=c[a],t.remove(l);t==this.rootGraph&&this.setRootGraph(null);var u=this.graphs.indexOf(t);this.graphs.splice(u,1),t.parent=null}else if(e instanceof i){if(null==(n=e))throw"Edge is null!";if(!n.isInterGraph)throw"Not an inter-graph edge!";if(null==n.source||null==n.target)throw"Source and/or target is null!";if(-1==n.source.edges.indexOf(n)||-1==n.target.edges.indexOf(n))throw"Source and/or target doesn't know this edge!";if(u=n.source.edges.indexOf(n),n.source.edges.splice(u,1),u=n.target.edges.indexOf(n),n.target.edges.splice(u,1),null==n.source.owner||null==n.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==n.source.owner.getGraphManager().edges.indexOf(n))throw"Not in owner graph manager's edge list!";u=n.source.owner.getGraphManager().edges.indexOf(n),n.source.owner.getGraphManager().edges.splice(u,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(null==this.allNodes){for(var e=[],t=this.getGraphs(),n=t.length,r=0;r<n;r++)e=e.concat(t[r].getNodes());this.allNodes=e}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(null==this.allEdges){for(var e=[],t=this.getGraphs(),n=(t.length,0);n<t.length;n++)e=e.concat(t[n].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(e){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=e},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,null==e.parent&&(e.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(e,t){if(null==e||null==t)throw"assert failed";if(e==t)return!0;for(var n,r=e.getOwner();null!=(n=r.getParent());){if(n==t)return!0;if(null==(r=n.getOwner()))break}for(r=t.getOwner();null!=(n=r.getParent());){if(n==e)return!0;if(null==(r=n.getOwner()))break}return!1},o.prototype.calcLowestCommonAncestors=function(){for(var e,t,n,r,i,o=this.getAllEdges(),s=o.length,a=0;a<s;a++)if(t=(e=o[a]).source,n=e.target,e.lca=null,e.sourceInLca=t,e.targetInLca=n,t!=n){for(r=t.getOwner();null==e.lca;){for(e.targetInLca=n,i=n.getOwner();null==e.lca;){if(i==r){e.lca=i;break}if(i==this.rootGraph)break;if(null!=e.lca)throw"assert failed";e.targetInLca=i.getParent(),i=e.targetInLca.getOwner()}if(r==this.rootGraph)break;null==e.lca&&(e.sourceInLca=r.getParent(),r=e.sourceInLca.getOwner())}if(null==e.lca)throw"assert failed"}else e.lca=t.getOwner()},o.prototype.calcLowestCommonAncestor=function(e,t){if(e==t)return e.getOwner();for(var n=e.getOwner();null!=n;){for(var r=t.getOwner();null!=r;){if(r==n)return r;r=r.getParent().getOwner()}n=n.getParent().getOwner()}return n},o.prototype.calcInclusionTreeDepths=function(e,t){var n;null==e&&null==t&&(e=this.rootGraph,t=1);for(var r=e.getNodes(),i=r.length,o=0;o<i;o++)(n=r[o]).inclusionTreeDepth=t,null!=n.child&&this.calcInclusionTreeDepths(n.child,t+1)},o.prototype.includesInvalidEdge=function(){for(var e,t=[],n=this.edges.length,r=0;r<n;r++)e=this.edges[r],this.isOneAncestorOfOther(e.source,e.target)&&t.push(e);for(r=0;r<t.length;r++)this.remove(t[r]);return!1},e.exports=o},function(e,t,n){"use strict";var r=n(12);function i(){}i.calcSeparationAmount=function(e,t,n,r){if(!e.intersects(t))throw"assert failed";var i=new Array(2);this.decideDirectionsForOverlappingNodes(e,t,i),n[0]=Math.min(e.getRight(),t.getRight())-Math.max(e.x,t.x),n[1]=Math.min(e.getBottom(),t.getBottom())-Math.max(e.y,t.y),e.getX()<=t.getX()&&e.getRight()>=t.getRight()?n[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight()):t.getX()<=e.getX()&&t.getRight()>=e.getRight()&&(n[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight())),e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()?n[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()):t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()&&(n[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()));var o=Math.abs((t.getCenterY()-e.getCenterY())/(t.getCenterX()-e.getCenterX()));t.getCenterY()===e.getCenterY()&&t.getCenterX()===e.getCenterX()&&(o=1);var s=o*n[0],a=n[1]/o;n[0]<a?a=n[0]:s=n[1],n[0]=-1*i[0]*(a/2+r),n[1]=-1*i[1]*(s/2+r)},i.decideDirectionsForOverlappingNodes=function(e,t,n){e.getCenterX()<t.getCenterX()?n[0]=-1:n[0]=1,e.getCenterY()<t.getCenterY()?n[1]=-1:n[1]=1},i.getIntersection2=function(e,t,n){var r=e.getCenterX(),i=e.getCenterY(),o=t.getCenterX(),s=t.getCenterY();if(e.intersects(t))return n[0]=r,n[1]=i,n[2]=o,n[3]=s,!0;var a=e.getX(),l=e.getY(),c=e.getRight(),u=e.getX(),h=e.getBottom(),d=e.getRight(),p=e.getWidthHalf(),f=e.getHeightHalf(),g=t.getX(),m=t.getY(),v=t.getRight(),y=t.getX(),b=t.getBottom(),w=t.getRight(),x=t.getWidthHalf(),_=t.getHeightHalf(),A=!1,T=!1;if(r===o){if(i>s)return n[0]=r,n[1]=l,n[2]=o,n[3]=b,!1;if(i<s)return n[0]=r,n[1]=h,n[2]=o,n[3]=m,!1}else if(i===s){if(r>o)return n[0]=a,n[1]=i,n[2]=v,n[3]=s,!1;if(r<o)return n[0]=c,n[1]=i,n[2]=g,n[3]=s,!1}else{var E=e.height/e.width,k=t.height/t.width,S=(s-i)/(o-r),C=void 0,N=void 0,M=void 0,O=void 0,R=void 0,I=void 0;if(-E===S?r>o?(n[0]=u,n[1]=h,A=!0):(n[0]=c,n[1]=l,A=!0):E===S&&(r>o?(n[0]=a,n[1]=l,A=!0):(n[0]=d,n[1]=h,A=!0)),-k===S?o>r?(n[2]=y,n[3]=b,T=!0):(n[2]=v,n[3]=m,T=!0):k===S&&(o>r?(n[2]=g,n[3]=m,T=!0):(n[2]=w,n[3]=b,T=!0)),A&&T)return!1;if(r>o?i>s?(C=this.getCardinalDirection(E,S,4),N=this.getCardinalDirection(k,S,2)):(C=this.getCardinalDirection(-E,S,3),N=this.getCardinalDirection(-k,S,1)):i>s?(C=this.getCardinalDirection(-E,S,1),N=this.getCardinalDirection(-k,S,3)):(C=this.getCardinalDirection(E,S,2),N=this.getCardinalDirection(k,S,4)),!A)switch(C){case 1:O=l,M=r+-f/S,n[0]=M,n[1]=O;break;case 2:M=d,O=i+p*S,n[0]=M,n[1]=O;break;case 3:O=h,M=r+f/S,n[0]=M,n[1]=O;break;case 4:M=u,O=i+-p*S,n[0]=M,n[1]=O}if(!T)switch(N){case 1:I=m,R=o+-_/S,n[2]=R,n[3]=I;break;case 2:R=w,I=s+x*S,n[2]=R,n[3]=I;break;case 3:I=b,R=o+_/S,n[2]=R,n[3]=I;break;case 4:R=y,I=s+-x*S,n[2]=R,n[3]=I}}return!1},i.getCardinalDirection=function(e,t,n){return e>t?n:1+n%4},i.getIntersection=function(e,t,n,i){if(null==i)return this.getIntersection2(e,t,n);var o,s,a,l,c,u,h,d=e.x,p=e.y,f=t.x,g=t.y,m=n.x,v=n.y,y=i.x,b=i.y;return 0===(h=(o=g-p)*(l=m-y)-(s=b-v)*(a=d-f))?null:new r((a*(u=y*v-m*b)-l*(c=f*p-d*g))/h,(s*c-o*u)/h)},i.angleOfVector=function(e,t,n,r){var i=void 0;return e!==n?(i=Math.atan((r-t)/(n-e)),n<e?i+=Math.PI:r<t&&(i+=this.TWO_PI)):i=r<t?this.ONE_AND_HALF_PI:this.HALF_PI,i},i.doIntersect=function(e,t,n,r){var i=e.x,o=e.y,s=t.x,a=t.y,l=n.x,c=n.y,u=r.x,h=r.y,d=(s-i)*(h-c)-(u-l)*(a-o);if(0===d)return!1;var p=((h-c)*(u-i)+(l-u)*(h-o))/d,f=((o-a)*(u-i)+(s-i)*(h-o))/d;return 0<p&&p<1&&0<f&&f<1},i.findCircleLineIntersections=function(e,t,n,r,i,o,s){var a=(n-e)*(n-e)+(r-t)*(r-t),l=2*((e-i)*(n-e)+(t-o)*(r-t)),c=(e-i)*(e-i)+(t-o)*(t-o)-s*s;if(l*l-4*a*c>=0){var u=(-l+Math.sqrt(l*l-4*a*c))/(2*a),h=(-l-Math.sqrt(l*l-4*a*c))/(2*a);return u>=0&&u<=1?[u]:h>=0&&h<=1?[h]:null}return null},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,e.exports=i},function(e,t,n){"use strict";function r(){}r.sign=function(e){return e>0?1:e<0?-1:0},r.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)},r.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)},e.exports=r},function(e,t,n){"use strict";function r(){}r.MAX_VALUE=2147483647,r.MIN_VALUE=-2147483648,e.exports=r},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return{value:e,next:null,prev:null}},o=function(e,t,n,r){return null!==e?e.next=t:r.head=t,null!==n?n.prev=t:r.tail=t,t.prev=e,t.next=n,r.length++,t},s=function(e,t){var n=e.prev,r=e.next;return null!==n?n.next=r:t.head=r,null!==r?r.prev=n:t.tail=n,e.prev=e.next=null,t.length--,e},a=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.length=0,this.head=null,this.tail=null,null!=t&&t.forEach(function(e){return n.push(e)})}return r(e,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(e,t){return o(t.prev,i(e),t,this)}},{key:"insertAfter",value:function(e,t){return o(t,i(e),t.next,this)}},{key:"insertNodeBefore",value:function(e,t){return o(t.prev,e,t,this)}},{key:"insertNodeAfter",value:function(e,t){return o(t,e,t.next,this)}},{key:"push",value:function(e){return o(this.tail,i(e),null,this)}},{key:"unshift",value:function(e){return o(null,i(e),this.head,this)}},{key:"remove",value:function(e){return s(e,this)}},{key:"pop",value:function(){return s(this.tail,this).value}},{key:"popNode",value:function(){return s(this.tail,this)}},{key:"shift",value:function(){return s(this.head,this).value}},{key:"shiftNode",value:function(){return s(this.head,this)}},{key:"get_object_at",value:function(e){if(e<=this.length()){for(var t=1,n=this.head;t<e;)n=n.next,t++;return n.value}}},{key:"set_object_at",value:function(e,t){if(e<=this.length()){for(var n=1,r=this.head;n<e;)r=r.next,n++;r.value=t}}}]),e}();e.exports=a},function(e,t,n){"use strict";function r(e,t,n){this.x=null,this.y=null,null==e&&null==t&&null==n?(this.x=0,this.y=0):"number"==typeof e&&"number"==typeof t&&null==n?(this.x=e,this.y=t):"Point"==e.constructor.name&&null==t&&null==n&&(n=e,this.x=n.x,this.y=n.y)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.getLocation=function(){return new r(this.x,this.y)},r.prototype.setLocation=function(e,t,n){"Point"==e.constructor.name&&null==t&&null==n?(n=e,this.setLocation(n.x,n.y)):"number"==typeof e&&"number"==typeof t&&null==n&&(parseInt(e)==e&&parseInt(t)==t?this.move(e,t):(this.x=Math.floor(e+.5),this.y=Math.floor(t+.5)))},r.prototype.move=function(e,t){this.x=e,this.y=t},r.prototype.translate=function(e,t){this.x+=e,this.y+=t},r.prototype.equals=function(e){if("Point"==e.constructor.name){var t=e;return this.x==t.x&&this.y==t.y}return this==e},r.prototype.toString=function(){return(new r).constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){this.x=0,this.y=0,this.width=0,this.height=0,null!=e&&null!=t&&null!=n&&null!=r&&(this.x=e,this.y=t,this.width=n,this.height=r)}r.prototype.getX=function(){return this.x},r.prototype.setX=function(e){this.x=e},r.prototype.getY=function(){return this.y},r.prototype.setY=function(e){this.y=e},r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){this.width=e},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(e){this.height=e},r.prototype.getRight=function(){return this.x+this.width},r.prototype.getBottom=function(){return this.y+this.height},r.prototype.intersects=function(e){return!(this.getRight()<e.x||this.getBottom()<e.y||e.getRight()<this.x||e.getBottom()<this.y)},r.prototype.getCenterX=function(){return this.x+this.width/2},r.prototype.getMinX=function(){return this.getX()},r.prototype.getMaxX=function(){return this.getX()+this.width},r.prototype.getCenterY=function(){return this.y+this.height/2},r.prototype.getMinY=function(){return this.getY()},r.prototype.getMaxY=function(){return this.getY()+this.height},r.prototype.getWidthHalf=function(){return this.width/2},r.prototype.getHeightHalf=function(){return this.height/2},e.exports=r},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(){}i.lastID=0,i.createID=function(e){return i.isPrimitive(e)?e:(null!=e.uniqueID||(e.uniqueID=i.getString(),i.lastID++),e.uniqueID)},i.getString=function(e){return null==e&&(e=i.lastID),"Object#"+e},i.isPrimitive=function(e){var t=void 0===e?"undefined":r(e);return null==e||"object"!=t&&"function"!=t},e.exports=i},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(0),o=n(7),s=n(3),a=n(1),l=n(6),c=n(5),u=n(17),h=n(29);function d(e){h.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=e&&(this.isRemoteUse=e)}d.RANDOM_SEED=1,d.prototype=Object.create(h.prototype),d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},d.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},d.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},d.prototype.newGraphManager=function(){var e=new o(this);return this.graphManager=e,e},d.prototype.newGraph=function(e){return new l(null,this.graphManager,e)},d.prototype.newNode=function(e){return new s(this.graphManager,e)},d.prototype.newEdge=function(e){return new a(null,null,e)},d.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},d.prototype.runLayout=function(){var e;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),e=!this.checkLayoutSuccess()&&this.layout(),"during"!==i.ANIMATE&&(e&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,e)},d.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},d.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var e=this.graphManager.getAllEdges(),t=0;t<e.length;t++)e[t];var n=this.graphManager.getRoot().getNodes();for(t=0;t<n.length;t++)n[t];this.update(this.graphManager.getRoot())}},d.prototype.update=function(e){if(null==e)this.update2();else if(e instanceof s){var t=e;if(null!=t.getChild())for(var n=t.getChild().getNodes(),r=0;r<n.length;r++)update(n[r]);null!=t.vGraphObject&&t.vGraphObject.update(t)}else if(e instanceof a){var i=e;null!=i.vGraphObject&&i.vGraphObject.update(i)}else if(e instanceof l){var o=e;null!=o.vGraphObject&&o.vGraphObject.update(o)}},d.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},d.prototype.transform=function(e){if(null==e)this.transform(new c(0,0));else{var t=new u,n=this.graphManager.getRoot().updateLeftTop();if(null!=n){t.setWorldOrgX(e.x),t.setWorldOrgY(e.y),t.setDeviceOrgX(n.x),t.setDeviceOrgY(n.y);for(var r=this.getAllNodes(),i=0;i<r.length;i++)r[i].transform(t)}}},d.prototype.positionNodesRandomly=function(e){if(null==e)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var t,n,r=e.getNodes(),i=0;i<r.length;i++)null==(n=(t=r[i]).getChild())||0==n.getNodes().length?t.scatter():(this.positionNodesRandomly(n),t.updateBounds())},d.prototype.getFlatForest=function(){for(var e=[],t=!0,n=this.graphManager.getRoot().getNodes(),i=!0,o=0;o<n.length;o++)null!=n[o].getChild()&&(i=!1);if(!i)return e;var s=new Set,a=[],l=new Map,c=[];for(c=c.concat(n);c.length>0&&t;){for(a.push(c[0]);a.length>0&&t;){var u=a[0];a.splice(0,1),s.add(u);var h=u.getEdges();for(o=0;o<h.length;o++){var d=h[o].getOtherEnd(u);if(l.get(u)!=d){if(s.has(d)){t=!1;break}a.push(d),l.set(d,u)}}}if(t){var p=[].concat(r(s));for(e.push(p),o=0;o<p.length;o++){var f=p[o],g=c.indexOf(f);g>-1&&c.splice(g,1)}s=new Set,l=new Map}else e=[]}return e},d.prototype.createDummyNodesForBendpoints=function(e){for(var t=[],n=e.source,r=this.graphManager.calcLowestCommonAncestor(e.source,e.target),i=0;i<e.bendpoints.length;i++){var o=this.newNode(null);o.setRect(new Point(0,0),new Dimension(1,1)),r.add(o);var s=this.newEdge(null);this.graphManager.add(s,n,o),t.add(o),n=o}return s=this.newEdge(null),this.graphManager.add(s,n,e.target),this.edgeToDummyNodes.set(e,t),e.isInterGraph()?this.graphManager.remove(e):r.remove(e),t},d.prototype.createBendpointsFromDummyNodes=function(){var e=[];e=e.concat(this.graphManager.getAllEdges()),e=[].concat(r(this.edgeToDummyNodes.keys())).concat(e);for(var t=0;t<e.length;t++){var n=e[t];if(n.bendpoints.length>0){for(var i=this.edgeToDummyNodes.get(n),o=0;o<i.length;o++){var s=i[o],a=new c(s.getCenterX(),s.getCenterY()),l=n.bendpoints.get(o);l.x=a.x,l.y=a.y,s.getOwner().remove(s)}this.graphManager.add(n,n.source,n.target)}}},d.transform=function(e,t,n,r){if(null!=n&&null!=r){var i=t;return e<=50?i-=(t-t/n)/50*(50-e):i+=(t*r-t)/50*(e-50),i}var o,s;return e<=50?(o=9*t/500,s=t/10):(o=9*t/50,s=-8*t),o*e+s},d.findCenterOfTree=function(e){var t=[];t=t.concat(e);var n=[],r=new Map,i=!1,o=null;1!=t.length&&2!=t.length||(i=!0,o=t[0]);for(var s=0;s<t.length;s++){var a=(u=t[s]).getNeighborsList().size;r.set(u,u.getNeighborsList().size),1==a&&n.push(u)}var l=[];for(l=l.concat(n);!i;){var c=[];for(c=c.concat(l),l=[],s=0;s<t.length;s++){var u=t[s],h=t.indexOf(u);h>=0&&t.splice(h,1),u.getNeighborsList().forEach(function(e){if(n.indexOf(e)<0){var t=r.get(e)-1;1==t&&l.push(e),r.set(e,t)}})}n=n.concat(l),1!=t.length&&2!=t.length||(i=!0,o=t[0])}return o},d.prototype.setGraphManager=function(e){this.graphManager=e},e.exports=d},function(e,t,n){"use strict";function r(){}r.seed=1,r.x=0,r.nextDouble=function(){return r.x=1e4*Math.sin(r.seed++),r.x-Math.floor(r.x)},e.exports=r},function(e,t,n){"use strict";var r=n(5);function i(e,t){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(e){this.lworldExtX=e},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(e){this.lworldExtY=e},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},i.prototype.transformX=function(e){var t=0,n=this.lworldExtX;return 0!=n&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/n),t},i.prototype.transformY=function(e){var t=0,n=this.lworldExtY;return 0!=n&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/n),t},i.prototype.inverseTransformX=function(e){var t=0,n=this.ldeviceExtX;return 0!=n&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/n),t},i.prototype.inverseTransformY=function(e){var t=0,n=this.ldeviceExtY;return 0!=n&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/n),t},i.prototype.inverseTransformPoint=function(e){return new r(this.inverseTransformX(e.x),this.inverseTransformY(e.y))},e.exports=i},function(e,t,n){"use strict";var r=n(15),i=n(4),o=n(0),s=n(8),a=n(9);function l(){r.call(this),this.useSmartIdealEdgeLengthCalculation=i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=i.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=i.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=i.MAX_ITERATIONS}for(var c in l.prototype=Object.create(r.prototype),r)l[c]=r[c];l.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},l.prototype.calcIdealEdgeLengths=function(){for(var e,t,n,r,s,a,l,c=this.getGraphManager().getAllEdges(),u=0;u<c.length;u++)t=(e=c[u]).idealLength,e.isInterGraph&&(r=e.getSource(),s=e.getTarget(),a=e.getSourceInLca().getEstimatedSize(),l=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=a+l-2*o.SIMPLE_NODE_SIZE),n=e.getLca().getInclusionTreeDepth(),e.idealLength+=t*i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(r.getInclusionTreeDepth()+s.getInclusionTreeDepth()-2*n))},l.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;this.incremental?(e>i.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*i.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-i.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT_INCREMENTAL):(e>i.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(i.COOLING_ADAPTATION_FACTOR,1-(e-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*(1-i.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},l.prototype.calcSpringForces=function(){for(var e,t=this.getAllEdges(),n=0;n<t.length;n++)e=t[n],this.calcSpringForce(e,e.idealLength)},l.prototype.calcRepulsionForces=function(){var e,t,n,r,o,s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&s&&this.updateGrid(),o=new Set,e=0;e<l.length;e++)n=l[e],this.calculateRepulsionForceOfANode(n,o,s,a),o.add(n);else for(e=0;e<l.length;e++)for(n=l[e],t=e+1;t<l.length;t++)r=l[t],n.getOwner()==r.getOwner()&&this.calcRepulsionForce(n,r)},l.prototype.calcGravitationalForces=function(){for(var e,t=this.getAllNodesToApplyGravitation(),n=0;n<t.length;n++)e=t[n],this.calcGravitationalForce(e)},l.prototype.moveNodes=function(){for(var e=this.getAllNodes(),t=0;t<e.length;t++)e[t].move()},l.prototype.calcSpringForce=function(e,t){var n,r,i,o,s=e.getSource(),a=e.getTarget();if(this.uniformLeafNodeSizes&&null==s.getChild()&&null==a.getChild())e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;0!=(n=e.getLength())&&(i=(r=e.edgeElasticity*(n-t))*(e.lengthX/n),o=r*(e.lengthY/n),s.springForceX+=i,s.springForceY+=o,a.springForceX-=i,a.springForceY-=o)},l.prototype.calcRepulsionForce=function(e,t){var n,r,o,l,c,u,h,d=e.getRect(),p=t.getRect(),f=new Array(2),g=new Array(4);if(d.intersects(p)){s.calcSeparationAmount(d,p,f,i.DEFAULT_EDGE_LENGTH/2),u=2*f[0],h=2*f[1];var m=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren);e.repulsionForceX-=m*u,e.repulsionForceY-=m*h,t.repulsionForceX+=m*u,t.repulsionForceY+=m*h}else this.uniformLeafNodeSizes&&null==e.getChild()&&null==t.getChild()?(n=p.getCenterX()-d.getCenterX(),r=p.getCenterY()-d.getCenterY()):(s.getIntersection(d,p,g),n=g[2]-g[0],r=g[3]-g[1]),Math.abs(n)<i.MIN_REPULSION_DIST&&(n=a.sign(n)*i.MIN_REPULSION_DIST),Math.abs(r)<i.MIN_REPULSION_DIST&&(r=a.sign(r)*i.MIN_REPULSION_DIST),o=n*n+r*r,l=Math.sqrt(o),u=(c=(e.nodeRepulsion/2+t.nodeRepulsion/2)*e.noOfChildren*t.noOfChildren/o)*n/l,h=c*r/l,e.repulsionForceX-=u,e.repulsionForceY-=h,t.repulsionForceX+=u,t.repulsionForceY+=h},l.prototype.calcGravitationalForce=function(e){var t,n,r,i,o,s,a,l;n=((t=e.getOwner()).getRight()+t.getLeft())/2,r=(t.getTop()+t.getBottom())/2,i=e.getCenterX()-n,o=e.getCenterY()-r,s=Math.abs(i)+e.getWidth()/2,a=Math.abs(o)+e.getHeight()/2,e.getOwner()==this.graphManager.getRoot()?(s>(l=t.getEstimatedSize()*this.gravityRangeFactor)||a>l)&&(e.gravitationForceX=-this.gravityConstant*i,e.gravitationForceY=-this.gravityConstant*o):(s>(l=t.getEstimatedSize()*this.compoundGravityRangeFactor)||a>l)&&(e.gravitationForceX=-this.gravityConstant*i*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant)},l.prototype.isConverged=function(){var e,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||t},l.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},l.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,t=this.graphManager.getAllNodes(),n=0;n<t.length;n++)(e=t[n]).noOfChildren=e.getNoOfChildren()},l.prototype.calcGrid=function(e){var t,n;t=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),n=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));for(var r=new Array(t),i=0;i<t;i++)r[i]=new Array(n);for(i=0;i<t;i++)for(var o=0;o<n;o++)r[i][o]=new Array;return r},l.prototype.addNodeToGrid=function(e,t,n){var r,i,o,s;r=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange)),i=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange)),o=parseInt(Math.floor((e.getRect().y-n)/this.repulsionRange)),s=parseInt(Math.floor((e.getRect().height+e.getRect().y-n)/this.repulsionRange));for(var a=r;a<=i;a++)for(var l=o;l<=s;l++)this.grid[a][l].push(e),e.setGridCoordinates(r,i,o,s)},l.prototype.updateGrid=function(){var e,t,n=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<n.length;e++)t=n[e],this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},l.prototype.calculateRepulsionForceOfANode=function(e,t,n,r){if(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&n||r){var o,s=new Set;e.surrounding=new Array;for(var a=this.grid,l=e.startX-1;l<e.finishX+2;l++)for(var c=e.startY-1;c<e.finishY+2;c++)if(!(l<0||c<0||l>=a.length||c>=a[0].length))for(var u=0;u<a[l][c].length;u++)if(o=a[l][c][u],e.getOwner()==o.getOwner()&&e!=o&&!t.has(o)&&!s.has(o)){var h=Math.abs(e.getCenterX()-o.getCenterX())-(e.getWidth()/2+o.getWidth()/2),d=Math.abs(e.getCenterY()-o.getCenterY())-(e.getHeight()/2+o.getHeight()/2);h<=this.repulsionRange&&d<=this.repulsionRange&&s.add(o)}e.surrounding=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(s))}for(l=0;l<e.surrounding.length;l++)this.calcRepulsionForce(e,e.surrounding[l])},l.prototype.calcRepulsionRange=function(){return 0},e.exports=l},function(e,t,n){"use strict";var r=n(1),i=n(4);function o(e,t,n){r.call(this,e,t,n),this.idealLength=i.DEFAULT_EDGE_LENGTH,this.edgeElasticity=i.DEFAULT_SPRING_STRENGTH}for(var s in o.prototype=Object.create(r.prototype),r)o[s]=r[s];e.exports=o},function(e,t,n){"use strict";var r=n(3),i=n(4);function o(e,t,n,o){r.call(this,e,t,n,o),this.nodeRepulsion=i.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var s in o.prototype=Object.create(r.prototype),r)o[s]=r[s];o.prototype.setGridCoordinates=function(e,t,n,r){this.startX=e,this.finishX=t,this.startY=n,this.finishY=r},e.exports=o},function(e,t,n){"use strict";function r(e,t){this.width=0,this.height=0,null!==e&&null!==t&&(this.height=t,this.width=e)}r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){this.width=e},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(e){this.height=e},e.exports=r},function(e,t,n){"use strict";var r=n(14);function i(){this.map={},this.keys=[]}i.prototype.put=function(e,t){var n=r.createID(e);this.contains(n)||(this.map[n]=t,this.keys.push(e))},i.prototype.contains=function(e){return r.createID(e),null!=this.map[e]},i.prototype.get=function(e){var t=r.createID(e);return this.map[t]},i.prototype.keySet=function(){return this.keys},e.exports=i},function(e,t,n){"use strict";var r=n(14);function i(){this.set={}}i.prototype.add=function(e){var t=r.createID(e);this.contains(t)||(this.set[t]=e)},i.prototype.remove=function(e){delete this.set[r.createID(e)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(e){return this.set[r.createID(e)]==e},i.prototype.isEmpty=function(){return 0===this.size()},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(e){for(var t=Object.keys(this.set),n=t.length,r=0;r<n;r++)e.push(this.set[t[r]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];this.add(r)}},e.exports=i},function(e,t,n){"use strict";function r(){}r.multMat=function(e,t){for(var n=[],r=0;r<e.length;r++){n[r]=[];for(var i=0;i<t[0].length;i++){n[r][i]=0;for(var o=0;o<e[0].length;o++)n[r][i]+=e[r][o]*t[o][i]}}return n},r.transpose=function(e){for(var t=[],n=0;n<e[0].length;n++){t[n]=[];for(var r=0;r<e.length;r++)t[n][r]=e[r][n]}return t},r.multCons=function(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=e[r]*t;return n},r.minusOp=function(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=e[r]-t[r];return n},r.dotProduct=function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n},r.mag=function(e){return Math.sqrt(this.dotProduct(e,e))},r.normalize=function(e){for(var t=[],n=this.mag(e),r=0;r<e.length;r++)t[r]=e[r]/n;return t},r.multGamma=function(e){for(var t=[],n=0,r=0;r<e.length;r++)n+=e[r];n*=-1/e.length;for(var i=0;i<e.length;i++)t[i]=n+e[i];return t},r.multL=function(e,t,n){for(var r=[],i=[],o=[],s=0;s<t[0].length;s++){for(var a=0,l=0;l<t.length;l++)a+=-.5*t[l][s]*e[l];i[s]=a}for(var c=0;c<n.length;c++){for(var u=0,h=0;h<n.length;h++)u+=n[c][h]*i[h];o[c]=u}for(var d=0;d<t.length;d++){for(var p=0,f=0;f<t[0].length;f++)p+=t[d][f]*o[f];r[d]=p}return r},e.exports=r},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(11),o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null===n&&void 0===n||(this.compareFunction=this._defaultCompareFunction);var r=void 0;r=t instanceof i?t.size():t.length,this._quicksort(t,0,r-1)}return r(e,[{key:"_quicksort",value:function(e,t,n){if(t<n){var r=this._partition(e,t,n);this._quicksort(e,t,r),this._quicksort(e,r+1,n)}}},{key:"_partition",value:function(e,t,n){for(var r=this._get(e,t),i=t,o=n;;){for(;this.compareFunction(r,this._get(e,o));)o--;for(;this.compareFunction(this._get(e,i),r);)i++;if(!(i<o))return o;this._swap(e,i,o),i++,o--}}},{key:"_get",value:function(e,t){return e instanceof i?e.get_object_at(t):e[t]}},{key:"_set",value:function(e,t,n){e instanceof i?e.set_object_at(t,n):e[t]=n}},{key:"_swap",value:function(e,t,n){var r=this._get(e,t);this._set(e,t,this._get(e,n)),this._set(e,n,r)}},{key:"_defaultCompareFunction",value:function(e,t){return t>e}}]),e}();e.exports=o},function(e,t,n){"use strict";function r(){}r.svd=function(e){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=e.length,this.n=e[0].length;var t=Math.min(this.m,this.n);this.s=function(e){for(var t=[];e-- >0;)t.push(0);return t}(Math.min(this.m+1,this.n)),this.U=function e(t){if(0==t.length)return 0;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([this.m,t]),this.V=function(e){return function e(t){if(0==t.length)return 0;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}(e)}([this.n,this.n]);for(var n=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.n),i=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.m),o=Math.min(this.m-1,this.n),s=Math.max(0,Math.min(this.n-2,this.m)),a=0;a<Math.max(o,s);a++){if(a<o){this.s[a]=0;for(var l=a;l<this.m;l++)this.s[a]=r.hypot(this.s[a],e[l][a]);if(0!==this.s[a]){e[a][a]<0&&(this.s[a]=-this.s[a]);for(var c=a;c<this.m;c++)e[c][a]/=this.s[a];e[a][a]+=1}this.s[a]=-this.s[a]}for(var u=a+1;u<this.n;u++){if(function(e,t){return e&&t}(a<o,0!==this.s[a])){for(var h=0,d=a;d<this.m;d++)h+=e[d][a]*e[d][u];h=-h/e[a][a];for(var p=a;p<this.m;p++)e[p][u]+=h*e[p][a]}n[u]=e[a][u]}if(function(e,t){return t}(0,a<o))for(var f=a;f<this.m;f++)this.U[f][a]=e[f][a];if(a<s){n[a]=0;for(var g=a+1;g<this.n;g++)n[a]=r.hypot(n[a],n[g]);if(0!==n[a]){n[a+1]<0&&(n[a]=-n[a]);for(var m=a+1;m<this.n;m++)n[m]/=n[a];n[a+1]+=1}if(n[a]=-n[a],function(e,t){return e&&t}(a+1<this.m,0!==n[a])){for(var v=a+1;v<this.m;v++)i[v]=0;for(var y=a+1;y<this.n;y++)for(var b=a+1;b<this.m;b++)i[b]+=n[y]*e[b][y];for(var w=a+1;w<this.n;w++)for(var x=-n[w]/n[a+1],_=a+1;_<this.m;_++)e[_][w]+=x*i[_]}for(var A=a+1;A<this.n;A++)this.V[A][a]=n[A]}}var T=Math.min(this.n,this.m+1);o<this.n&&(this.s[o]=e[o][o]),this.m<T&&(this.s[T-1]=0),s+1<T&&(n[s]=e[s][T-1]),n[T-1]=0;for(var E=o;E<t;E++){for(var k=0;k<this.m;k++)this.U[k][E]=0;this.U[E][E]=1}for(var S=o-1;S>=0;S--)if(0!==this.s[S]){for(var C=S+1;C<t;C++){for(var N=0,M=S;M<this.m;M++)N+=this.U[M][S]*this.U[M][C];N=-N/this.U[S][S];for(var O=S;O<this.m;O++)this.U[O][C]+=N*this.U[O][S]}for(var R=S;R<this.m;R++)this.U[R][S]=-this.U[R][S];this.U[S][S]=1+this.U[S][S];for(var I=0;I<S-1;I++)this.U[I][S]=0}else{for(var L=0;L<this.m;L++)this.U[L][S]=0;this.U[S][S]=1}for(var P=this.n-1;P>=0;P--){if(function(e,t){return e&&t}(P<s,0!==n[P]))for(var D=P+1;D<t;D++){for(var B=0,F=P+1;F<this.n;F++)B+=this.V[F][P]*this.V[F][D];B=-B/this.V[P+1][P];for(var z=P+1;z<this.n;z++)this.V[z][D]+=B*this.V[z][P]}for(var $=0;$<this.n;$++)this.V[$][P]=0;this.V[P][P]=1}for(var j=T-1,U=Math.pow(2,-52),H=Math.pow(2,-966);T>0;){var G=void 0,V=void 0;for(G=T-2;G>=-1&&-1!==G;G--)if(Math.abs(n[G])<=H+U*(Math.abs(this.s[G])+Math.abs(this.s[G+1]))){n[G]=0;break}if(G===T-2)V=4;else{var W=void 0;for(W=T-1;W>=G&&W!==G;W--){var Y=(W!==T?Math.abs(n[W]):0)+(W!==G+1?Math.abs(n[W-1]):0);if(Math.abs(this.s[W])<=H+U*Y){this.s[W]=0;break}}W===G?V=3:W===T-1?V=1:(V=2,G=W)}switch(G++,V){case 1:var q=n[T-2];n[T-2]=0;for(var X=T-2;X>=G;X--){var K=r.hypot(this.s[X],q),Z=this.s[X]/K,Q=q/K;this.s[X]=K,X!==G&&(q=-Q*n[X-1],n[X-1]=Z*n[X-1]);for(var J=0;J<this.n;J++)K=Z*this.V[J][X]+Q*this.V[J][T-1],this.V[J][T-1]=-Q*this.V[J][X]+Z*this.V[J][T-1],this.V[J][X]=K}break;case 2:var ee=n[G-1];n[G-1]=0;for(var te=G;te<T;te++){var ne=r.hypot(this.s[te],ee),re=this.s[te]/ne,ie=ee/ne;this.s[te]=ne,ee=-ie*n[te],n[te]=re*n[te];for(var oe=0;oe<this.m;oe++)ne=re*this.U[oe][te]+ie*this.U[oe][G-1],this.U[oe][G-1]=-ie*this.U[oe][te]+re*this.U[oe][G-1],this.U[oe][te]=ne}break;case 3:var se=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[T-1]),Math.abs(this.s[T-2])),Math.abs(n[T-2])),Math.abs(this.s[G])),Math.abs(n[G])),ae=this.s[T-1]/se,le=this.s[T-2]/se,ce=n[T-2]/se,ue=this.s[G]/se,he=n[G]/se,de=((le+ae)*(le-ae)+ce*ce)/2,pe=ae*ce*(ae*ce),fe=0;(function(e,t){return e||t})(0!==de,0!==pe)&&(fe=Math.sqrt(de*de+pe),de<0&&(fe=-fe),fe=pe/(de+fe));for(var ge=(ue+ae)*(ue-ae)+fe,me=ue*he,ve=G;ve<T-1;ve++){var ye=r.hypot(ge,me),be=ge/ye,we=me/ye;ve!==G&&(n[ve-1]=ye),ge=be*this.s[ve]+we*n[ve],n[ve]=be*n[ve]-we*this.s[ve],me=we*this.s[ve+1],this.s[ve+1]=be*this.s[ve+1];for(var xe=0;xe<this.n;xe++)ye=be*this.V[xe][ve]+we*this.V[xe][ve+1],this.V[xe][ve+1]=-we*this.V[xe][ve]+be*this.V[xe][ve+1],this.V[xe][ve]=ye;if(be=ge/(ye=r.hypot(ge,me)),we=me/ye,this.s[ve]=ye,ge=be*n[ve]+we*this.s[ve+1],this.s[ve+1]=-we*n[ve]+be*this.s[ve+1],me=we*n[ve+1],n[ve+1]=be*n[ve+1],ve<this.m-1)for(var _e=0;_e<this.m;_e++)ye=be*this.U[_e][ve]+we*this.U[_e][ve+1],this.U[_e][ve+1]=-we*this.U[_e][ve]+be*this.U[_e][ve+1],this.U[_e][ve]=ye}n[T-2]=ge;break;case 4:if(this.s[G]<=0){this.s[G]=this.s[G]<0?-this.s[G]:0;for(var Ae=0;Ae<=j;Ae++)this.V[Ae][G]=-this.V[Ae][G]}for(;G<j&&!(this.s[G]>=this.s[G+1]);){var Te=this.s[G];if(this.s[G]=this.s[G+1],this.s[G+1]=Te,G<this.n-1)for(var Ee=0;Ee<this.n;Ee++)Te=this.V[Ee][G+1],this.V[Ee][G+1]=this.V[Ee][G],this.V[Ee][G]=Te;if(G<this.m-1)for(var ke=0;ke<this.m;ke++)Te=this.U[ke][G+1],this.U[ke][G+1]=this.U[ke][G],this.U[ke][G]=Te;G++}T--}}return{U:this.U,V:this.V,S:this.s}},r.hypot=function(e,t){var n=void 0;return Math.abs(e)>Math.abs(t)?(n=t/e,n=Math.abs(e)*Math.sqrt(1+n*n)):0!=t?(n=e/t,n=Math.abs(t)*Math.sqrt(1+n*n)):n=0,n},e.exports=r},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sequence1=t,this.sequence2=n,this.match_score=r,this.mismatch_penalty=i,this.gap_penalty=o,this.iMax=t.length+1,this.jMax=n.length+1,this.grid=new Array(this.iMax);for(var s=0;s<this.iMax;s++){this.grid[s]=new Array(this.jMax);for(var a=0;a<this.jMax;a++)this.grid[s][a]=0}this.tracebackGrid=new Array(this.iMax);for(var l=0;l<this.iMax;l++){this.tracebackGrid[l]=new Array(this.jMax);for(var c=0;c<this.jMax;c++)this.tracebackGrid[l][c]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return r(e,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var e=1;e<this.jMax;e++)this.grid[0][e]=this.grid[0][e-1]+this.gap_penalty,this.tracebackGrid[0][e]=[!1,!1,!0];for(var t=1;t<this.iMax;t++)this.grid[t][0]=this.grid[t-1][0]+this.gap_penalty,this.tracebackGrid[t][0]=[!1,!0,!1];for(var n=1;n<this.iMax;n++)for(var r=1;r<this.jMax;r++){var i=[this.sequence1[n-1]===this.sequence2[r-1]?this.grid[n-1][r-1]+this.match_score:this.grid[n-1][r-1]+this.mismatch_penalty,this.grid[n-1][r]+this.gap_penalty,this.grid[n][r-1]+this.gap_penalty],o=this.arrayAllMaxIndexes(i);this.grid[n][r]=i[o[0]],this.tracebackGrid[n][r]=[o.includes(0),o.includes(1),o.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var e=[];for(e.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});e[0];){var t=e[0],n=this.tracebackGrid[t.pos[0]][t.pos[1]];n[0]&&e.push({pos:[t.pos[0]-1,t.pos[1]-1],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),n[1]&&e.push({pos:[t.pos[0]-1,t.pos[1]],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:"-"+t.seq2}),n[2]&&e.push({pos:[t.pos[0],t.pos[1]-1],seq1:"-"+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),0===t.pos[0]&&0===t.pos[1]&&this.alignments.push({sequence1:t.seq1,sequence2:t.seq2}),e.shift()}return this.alignments}},{key:"getAllIndexes",value:function(e,t){for(var n=[],r=-1;-1!==(r=e.indexOf(t,r+1));)n.push(r);return n}},{key:"arrayAllMaxIndexes",value:function(e){return this.getAllIndexes(e,Math.max.apply(null,e))}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=function(){};r.FDLayout=n(18),r.FDLayoutConstants=n(4),r.FDLayoutEdge=n(19),r.FDLayoutNode=n(20),r.DimensionD=n(21),r.HashMap=n(22),r.HashSet=n(23),r.IGeometry=n(8),r.IMath=n(9),r.Integer=n(10),r.Point=n(12),r.PointD=n(5),r.RandomSeed=n(16),r.RectangleD=n(13),r.Transform=n(17),r.UniqueIDGeneretor=n(14),r.Quicksort=n(25),r.LinkedList=n(11),r.LGraphObject=n(2),r.LGraph=n(6),r.LEdge=n(1),r.LGraphManager=n(7),r.LNode=n(3),r.Layout=n(15),r.LayoutConstants=n(0),r.NeedlemanWunsch=n(27),r.Matrix=n(24),r.SVD=n(26),e.exports=r},function(e,t,n){"use strict";function r(){this.listeners=[]}var i=r.prototype;i.addListener=function(e,t){this.listeners.push({event:e,callback:t})},i.removeListener=function(e,t){for(var n=this.listeners.length;n>=0;n--){var r=this.listeners[n];r.event===e&&r.callback===t&&this.listeners.splice(n,1)}},i.emit=function(e,t){for(var n=0;n<this.listeners.length;n++){var r=this.listeners[n];e===r.event&&r.callback(t)}},e.exports=r}])},e.exports=t()},6727:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(2871),o=r(n(3769)),s=n(2849),a=r(n(9632));function l(e){this.value=e}function c(){}c.prototype={nameLookup:function(e,t){return this.internalNameLookup(e,t)},depthedLookup:function(e){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(e),")"]},compilerInfo:function(){var e=i.COMPILER_REVISION;return[e,i.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,n){return s.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(e,t){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",e,",",JSON.stringify(t),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(e,t,n,r){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var i=e.opcodes,s=void 0,a=void 0,l=void 0,c=void 0;for(l=0,c=i.length;l<c;l++)s=i[l],this.source.currentLocation=s.loc,a=a||s.loc,this[s.opcode].apply(this,s.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new o.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),r?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(r);if(this.isChild)return u;var h={compiler:this.compilerInfo(),main:u};this.decorators&&(h.main_d=this.decorators,h.useDecorators=!0);var d=this.context,p=d.programs,f=d.decorators;for(l=0,c=p.length;l<c;l++)p[l]&&(h[l]=p[l],f[l]&&(h[l+"_d"]=f[l],h.useDecorators=!0));return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),r?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),t.srcName?(h=h.toStringWithSourceMap({file:t.destName})).map=h.map&&h.map.toString():h=h.toString()),h},preamble:function(){this.lastContext=0,this.source=new a.default(this.options.srcName),this.decorators=new a.default(this.options.srcName)},createFunctionContext:function(e){var t=this,n="",r=this.stackVars.concat(this.registers.list);r.length>0&&(n+=", "+r.join(", "));var i=0;Object.keys(this.aliases).forEach(function(e){var r=t.aliases[e];r.children&&r.referenceCount>1&&(n+=", alias"+ ++i+"="+e,r.children[0]="alias"+i)}),this.lookupPropertyFunctionIsUsed&&(n+=", "+this.lookupPropertyFunctionVarDeclaration());var o=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&o.push("blockParams"),this.useDepths&&o.push("depths");var s=this.mergeSource(n);return e?(o.push(s),Function.apply(this,o)):this.source.wrap(["function(",o.join(","),") {\n  ",s,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,r=void 0,i=void 0,o=void 0,s=void 0;return this.source.each(function(e){e.appendToBuffer?(o?e.prepend("  + "):o=e,s=e):(o&&(i?o.prepend("buffer += "):r=!0,s.add(";"),o=s=void 0),i=!0,t||(n=!1))}),n?o?(o.prepend("return "),s.add(";")):i||this.source.push('return "";'):(e+=", buffer = "+(r?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(r?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(e){var t=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var r=this.popStack();n.splice(1,0,r),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("container.hooks.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,r){var i=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[i++])),this.resolvePath("context",e,i,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,r,i){var o=this;if(this.options.strict||this.options.assumeObjects)this.push(function(e,t,n,r,i){var o=t.popStack(),s=n.length;e&&s--;for(;r<s;r++)o=t.nameLookup(o,n[r],i);return e?[t.aliasable("container.strict"),"(",o,", ",t.quotedString(n[r]),", ",JSON.stringify(t.source.currentLocation)," )"]:o}(this.options.strict&&i,this,t,n,e));else for(var s=t.length;n<s;n++)this.replaceStack(function(i){var s=o.nameLookup(i,t[n],e);return r?[" && ",s]:[" != null ? ",s," : ",i]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),r=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",r])," || fn;"])},invokeHelper:function(e,t,n){var r=this.popStack(),i=this.setupHelper(e,t),o=[];n&&o.push(i.name),o.push(r),this.options.strict||o.push(this.aliasable("container.hooks.helperMissing"));var s=["(",this.itemsSeparatedBy(o,"||"),")"],a=this.source.functionCall(s,"call",i.callParams);this.push(a)},itemsSeparatedBy:function(e,t){var n=[];n.push(e[0]);for(var r=1;r<e.length;r++)n.push(t,e[r]);return n},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var r=this.setupHelper(0,e,t),i=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",n,")"];this.options.strict||(i[0]="(helper = ",i.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",i,r.paramsInit?["),(",r.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",r.callParams)," : helper))"])},invokePartial:function(e,t,n){var r=[],i=this.setupParams(t,1,r);e&&(t=this.popStack(),delete i.name),n&&(i.indent=JSON.stringify(n)),i.helpers="helpers",i.partials="partials",i.decorators="container.decorators",e?r.unshift(t):r.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(i.depths="depths"),i=this.objectLiteral(i),r.push(i),this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function(e){var t=this.popStack(),n=void 0,r=void 0,i=void 0;this.trackIds&&(i=this.popStack()),this.stringParams&&(r=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[e]=n),r&&(o.types[e]=r),i&&(o.ids[e]=i),o.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:c,compileChildren:function(e,t){for(var n=e.children,r=void 0,i=void 0,o=0,s=n.length;o<s;o++){r=n[o],i=new this.compiler;var a=this.matchExistingProgram(r);if(null==a){this.context.programs.push("");var l=this.context.programs.length;r.index=l,r.name="program"+l,this.context.programs[l]=i.compile(r,t,this.context,!this.precompile),this.context.decorators[l]=i.decorators,this.context.environments[l]=r,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams,r.useDepths=this.useDepths,r.useBlockParams=this.useBlockParams}else r.index=a.index,r.name="program"+a.index,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var r=this.context.environments[t];if(r&&r.equals(e))return r}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof l||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new l(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,r=void 0,i=void 0;if(!this.isInline())throw new o.default("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof l)t=["(",n=[s.value]],i=!0;else{r=!0;var a=this.incrStack();t=["((",this.push(a)," = ",s,")"],n=this.topStack()}var c=e.call(this,n);i||this.popStack(),r&&this.stackSlot--,this.push(t.concat(c,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r instanceof l)this.compileStack.push(r);else{var i=this.incrStack();this.pushSource([i," = ",r,";"]),this.compileStack.push(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof l)return n.value;if(!t){if(!this.stackSlot)throw new o.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof l?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var r=[];return{params:r,paramsInit:this.setupHelperArgs(t,e,r,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(r)}},setupParams:function(e,t,n){var r={},i=[],o=[],s=[],a=!n,l=void 0;a&&(n=[]),r.name=this.quotedString(e),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(r.fn=u||"container.noop",r.inverse=c||"container.noop");for(var h=t;h--;)l=this.popStack(),n[h]=l,this.trackIds&&(s[h]=this.popStack()),this.stringParams&&(o[h]=this.popStack(),i[h]=this.popStack());return a&&(r.args=this.source.generateArray(n)),this.trackIds&&(r.ids=this.source.generateArray(s)),this.stringParams&&(r.types=this.source.generateArray(o),r.contexts=this.source.generateArray(i)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(e,t,n,r){var i=this.setupParams(e,t,n);return i.loc=JSON.stringify(this.source.currentLocation),i=this.objectLiteral(i),r?(this.useRegister("options"),n.push("options"),["options=",i]):n?(n.push(i),""):i}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=c.RESERVED_WORDS={},n=0,r=e.length;n<r;n++)t[e[n]]=!0}(),c.isValidJavaScriptVariableName=function(e){return!c.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=c,e.exports=t.default},6734:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=n(3769),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},6750:(e,t,n)=>{"use strict";t.J=void 0;var r=n(9119);function i(e){return e.replace(r.ctrlCharactersRegex,"").replace(r.htmlEntitiesRegex,function(e,t){return String.fromCharCode(t)})}function o(e){try{return decodeURIComponent(e)}catch(t){return e}}t.J=function(e){if(!e)return r.BLANK_URL;var t,n=o(e.trim());do{t=(n=o(n=i(n).replace(r.htmlCtrlEntityRegex,"").replace(r.ctrlCharactersRegex,"").replace(r.whitespaceEscapeCharsRegex,"").trim())).match(r.ctrlCharactersRegex)||n.match(r.htmlEntitiesRegex)||n.match(r.htmlCtrlEntityRegex)||n.match(r.whitespaceEscapeCharsRegex)}while(t&&t.length>0);var s=n;if(!s)return r.BLANK_URL;if(function(e){return r.relativeFirstCharacters.indexOf(e[0])>-1}(s))return s;var a=s.trimStart(),l=a.match(r.urlSchemeRegex);if(!l)return s;var c=l[0].toLowerCase().trim();if(r.invalidProtocolRegex.test(c))return r.BLANK_URL;var u=a.replace(/\\/g,"/");if("mailto:"===c||c.includes("://"))return u;if("http:"===c||"https:"===c){if(!function(e){return URL.canParse(e)}(u))return r.BLANK_URL;var h=new URL(u);return h.protocol=h.protocol.toLowerCase(),h.hostname=h.hostname.toLowerCase(),h.toString()}return u}},6785:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=n(2849),o=n(3769),s=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("each",function(e,t){if(!t)throw new s.default("Must pass iterator to #each");var n,r=t.fn,o=t.inverse,a=0,l="",c=void 0,u=void 0;function h(t,n,o){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!o,u&&(c.contextPath=u+t)),l+=r(e[t],{data:c,blockParams:i.blockParams([e[t],t],[u+t,null])})}if(t.data&&t.ids&&(u=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),i.isFunction(e)&&(e=e.call(this)),t.data&&(c=i.createFrame(t.data)),e&&"object"==typeof e)if(i.isArray(e))for(var d=e.length;a<d;a++)a in e&&h(a,a,a===e.length-1);else if("function"==typeof Symbol&&e[Symbol.iterator]){for(var p=[],f=e[Symbol.iterator](),g=f.next();!g.done;g=f.next())p.push(g.value);for(d=(e=p).length;a<d;a++)h(a,a,a===e.length-1)}else n=void 0,Object.keys(e).forEach(function(e){void 0!==n&&h(n,a-1),n=e,a++}),void 0!==n&&h(n,a-1,!0);return 0===a&&(l=o(this)),l})},e.exports=t.default},6832:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(6984),i=n(8446),o=n(5353),s=n(3149);const a=function(e,t,n){if(!(0,s.A)(n))return!1;var a=typeof t;return!!("number"==a?(0,i.A)(n)&&(0,o.A)(t,n.length):"string"==a&&t in n)&&(0,r.A)(n[t],e)}},6912:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},6964:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const r=function(e,t){return null!=e&&t in Object(e)};var i=n(5054);const o=function(e,t){return null!=e&&(0,i.A)(e,t,r)}},6984:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){return e===t||e!=e&&t!=t}},7132:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}()},7222:(e,t,n)=>{"use strict";n.d(t,{A:()=>L});var r=n(2080),i=n(2528),o=n(6984);const s=function(e,t,n){(void 0!==n&&!(0,o.A)(e[t],n)||void 0===n&&!(t in e))&&(0,i.A)(e,t,n)};var a=n(7132),l=n(154),c=n(1801),u=n(9759),h=n(407),d=n(5175),p=n(2049),f=n(3533),g=n(1200),m=n(9610),v=n(3149),y=n(2383),b=n(5647),w=n(3098),x=Function.prototype,_=Object.prototype,A=x.toString,T=_.hasOwnProperty,E=A.call(Object);const k=function(e){if(!(0,w.A)(e)||"[object Object]"!=(0,y.A)(e))return!1;var t=(0,b.A)(e);if(null===t)return!0;var n=T.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&A.call(n)==E};var S=n(4749);const C=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var N=n(2031),M=n(9999);const O=function(e){return(0,N.A)(e,(0,M.A)(e))};const R=function(e,t,n,r,i,o,a){var y=C(e,n),b=C(t,n),w=a.get(b);if(w)s(e,n,w);else{var x=o?o(y,b,n+"",e,t,a):void 0,_=void 0===x;if(_){var A=(0,p.A)(b),T=!A&&(0,g.A)(b),E=!A&&!T&&(0,S.A)(b);x=b,A||T||E?(0,p.A)(y)?x=y:(0,f.A)(y)?x=(0,u.A)(y):T?(_=!1,x=(0,l.A)(b,!0)):E?(_=!1,x=(0,c.A)(b,!0)):x=[]:k(b)||(0,d.A)(b)?(x=y,(0,d.A)(y)?x=O(y):(0,v.A)(y)&&!(0,m.A)(y)||(x=(0,h.A)(b))):_=!1}_&&(a.set(b,x),i(x,b,r,o,a),a.delete(b)),s(e,n,x)}};const I=function e(t,n,i,o,l){t!==n&&(0,a.A)(n,function(a,c){if(l||(l=new r.A),(0,v.A)(a))R(t,n,c,i,e,o,l);else{var u=o?o(C(t,c),a,c+"",t,n,l):void 0;void 0===u&&(u=a),s(t,c,u)}},M.A)};const L=(0,n(3767).A)(function(e,t,n){I(e,t,n)})},7266:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(6309),i=n(3122);const o=class{constructor(){this.type=i.Z.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=i.Z.ALL}is(e){return this.type===e}};const s=new class{constructor(e,t){this.color=t,this.changed=!1,this.data=e,this.type=new o}set(e,t){return this.color=t,this.changed=!1,this.data=e,this.type.type=i.Z.ALL,this}_ensureHSL(){const e=this.data,{h:t,s:n,l:i}=e;void 0===t&&(e.h=r.A.channel.rgb2hsl(e,"h")),void 0===n&&(e.s=r.A.channel.rgb2hsl(e,"s")),void 0===i&&(e.l=r.A.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:t,g:n,b:i}=e;void 0===t&&(e.r=r.A.channel.hsl2rgb(e,"r")),void 0===n&&(e.g=r.A.channel.hsl2rgb(e,"g")),void 0===i&&(e.b=r.A.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,t=e.r;return this.type.is(i.Z.HSL)||void 0===t?(this._ensureHSL(),r.A.channel.hsl2rgb(e,"r")):t}get g(){const e=this.data,t=e.g;return this.type.is(i.Z.HSL)||void 0===t?(this._ensureHSL(),r.A.channel.hsl2rgb(e,"g")):t}get b(){const e=this.data,t=e.b;return this.type.is(i.Z.HSL)||void 0===t?(this._ensureHSL(),r.A.channel.hsl2rgb(e,"b")):t}get h(){const e=this.data,t=e.h;return this.type.is(i.Z.RGB)||void 0===t?(this._ensureRGB(),r.A.channel.rgb2hsl(e,"h")):t}get s(){const e=this.data,t=e.s;return this.type.is(i.Z.RGB)||void 0===t?(this._ensureRGB(),r.A.channel.rgb2hsl(e,"s")):t}get l(){const e=this.data,t=e.l;return this.type.is(i.Z.RGB)||void 0===t?(this._ensureRGB(),r.A.channel.rgb2hsl(e,"l")):t}get a(){return this.data.a}set r(e){this.type.set(i.Z.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(i.Z.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(i.Z.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(i.Z.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(i.Z.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(i.Z.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}({r:0,g:0,b:0,a:0},"transparent")},7271:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=Object.prototype;const i=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},7371:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(8300),i=n(5530),o=n(7809),s=n(4099),a=n(9857),l=n(2302),c=n(9959);const u=a.A&&1/(0,c.A)(new a.A([,-0]))[1]==1/0?function(e){return new a.A(e)}:l.A;const h=function(e,t,n){var a=-1,l=i.A,h=e.length,d=!0,p=[],f=p;if(n)d=!1,l=o.A;else if(h>=200){var g=t?null:u(e);if(g)return(0,c.A)(g);d=!1,l=s.A,f=new r.A}else f=t?[]:p;e:for(;++a<h;){var m=e[a],v=t?t(m):m;if(m=n||0!==m?m:0,d&&v==v){for(var y=f.length;y--;)if(f[y]===v)continue e;t&&f.push(v),p.push(m)}else l(f,v,n)||(f!==p&&f.push(v),p.push(m))}return p}},7375:function(e){e.exports=function(){"use strict";return function(e,t){var n=t.prototype,r=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return r.bind(this)(e);var i=this.$utils(),o=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return i.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return i.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return i.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}});return r.bind(this)(o)}}}()},7422:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2505),i=n(4453),o=n(8446);const s=function(e){return(0,o.A)(e)?(0,r.A)(e):(0,i.A)(e)}},7424:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(9142),i=n(4171),o=n(9008);const s=i.A?function(e,t){return(0,i.A)(e,"toString",{configurable:!0,enumerable:!1,value:(0,r.A)(t),writable:!0})}:o.A;var a=Date.now;const l=function(e){var t=0,n=0;return function(){var r=a(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(s)},7430:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(2849);t.default=function(e){e.registerDecorator("inline",function(e,t,n,i){var o=e;return t.partials||(t.partials={},o=function(i,o){var s=n.partials;n.partials=r.extend({},s,t.partials);var a=e(i,o);return n.partials=s,a}),t.partials[i.args[0]]=i.fn,o})},e.exports=t.default},7466:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t,n){return e?n.lookupProperty(e,t):e})},e.exports=t.default},7608:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>o,r:()=>i}),(()=>{var e={470:e=>{function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",i=0):i=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,a):r=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(r=s+"/"+r,i=47===s.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,s=o-i,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var l=n.length-a,c=s<l?s:l,u=-1,h=0;h<=c;++h){if(h===c){if(l>c){if(47===n.charCodeAt(a+h))return n.slice(a+h+1);if(0===h)return n.slice(a+h)}else s>c&&(47===e.charCodeAt(i+h)?u=h:0===h&&(u=0));break}var d=e.charCodeAt(i+h);if(d!==n.charCodeAt(a+h))break;47===d&&(u=h)}var p="";for(h=i+u+1;h<=o;++h)h!==o&&47!==e.charCodeAt(h)||(0===p.length?p+="..":p+="/..");return p.length>0?p+n.slice(a+u):(a+=u,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(n=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,o=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,l=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(47===c){if(!s){i=r+1;break}}else-1===l&&(s=!1,l=r+1),a>=0&&(c===n.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=l))}return i===o?o=l:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!s){i=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47!==l)-1===i&&(o=!1,i=a+1),46===l?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!o){r=a+1;break}}return-1===n||-1===i||0===s||1===s&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var s=-1,a=0,l=-1,c=!0,u=e.length-1,h=0;u>=r;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===i?-1===s?s=u:1!==h&&(h=1):-1!==s&&(h=-1);else if(!c){a=u+1;break}return-1===s||-1===l||0===h||1===h&&s===l-1&&s===a+1?-1!==l&&(n.base=n.name=0===a&&o?e.slice(1,l):e.slice(a,l)):(0===a&&o?(n.name=e.slice(1,s),n.base=e.slice(1,l)):(n.name=e.slice(a,s),n.base=e.slice(a,l)),n.ext=e.slice(s,l)),a>0?n.dir=e.slice(0,a-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{let e;if(n.r(i),n.d(i,{URI:()=>u,Utils:()=>T}),"object"==typeof process)e="win32"===process.platform;else if("object"==typeof navigator){let t=navigator.userAgent;e=t.indexOf("Windows")>=0}const t=/^\w[\w\d+.-]*$/,r=/^\//,o=/^\/\//;function s(e,n){if(!e.scheme&&n)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!t.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!r.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const a="",l="/",c=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class u{static isUri(e){return e instanceof u||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString}scheme;authority;path;query;fragment;constructor(e,t,n,r,i,o=!1){"object"==typeof e?(this.scheme=e.scheme||a,this.authority=e.authority||a,this.path=e.path||a,this.query=e.query||a,this.fragment=e.fragment||a):(this.scheme=function(e,t){return e||t?e:"file"}(e,o),this.authority=t||a,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==l&&(t=l+t):t=l}return t}(this.scheme,n||a),this.query=r||a,this.fragment=i||a,s(this,o))}get fsPath(){return m(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:n,path:r,query:i,fragment:o}=e;return void 0===t?t=this.scheme:null===t&&(t=a),void 0===n?n=this.authority:null===n&&(n=a),void 0===r?r=this.path:null===r&&(r=a),void 0===i?i=this.query:null===i&&(i=a),void 0===o?o=this.fragment:null===o&&(o=a),t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&o===this.fragment?this:new d(t,n,r,i,o)}static parse(e,t=!1){const n=c.exec(e);return n?new d(n[2]||a,w(n[4]||a),w(n[5]||a),w(n[7]||a),w(n[9]||a),t):new d(a,a,a,a,a)}static file(t){let n=a;if(e&&(t=t.replace(/\\/g,l)),t[0]===l&&t[1]===l){const e=t.indexOf(l,2);-1===e?(n=t.substring(2),t=l):(n=t.substring(2,e),t=t.substring(e)||l)}return new d("file",n,t,a,a)}static from(e){const t=new d(e.scheme,e.authority,e.path,e.query,e.fragment);return s(t,!0),t}toString(e=!1){return v(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof u)return e;{const t=new d(e);return t._formatted=e.external,t._fsPath=e._sep===h?e.fsPath:null,t}}return e}}const h=e?1:void 0;class d extends u{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=m(this,!1)),this._fsPath}toString(e=!1){return e?v(this,!0):(this._formatted||(this._formatted=v(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=h),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const p={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function f(e,t,n){let r,i=-1;for(let o=0;o<e.length;o++){const s=e.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||45===s||46===s||95===s||126===s||t&&47===s||n&&91===s||n&&93===s||n&&58===s)-1!==i&&(r+=encodeURIComponent(e.substring(i,o)),i=-1),void 0!==r&&(r+=e.charAt(o));else{void 0===r&&(r=e.substr(0,o));const t=p[s];void 0!==t?(-1!==i&&(r+=encodeURIComponent(e.substring(i,o)),i=-1),r+=t):-1===i&&(i=o)}}return-1!==i&&(r+=encodeURIComponent(e.substring(i))),void 0!==r?r:e}function g(e){let t;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=p[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function m(t,n){let r;return r=t.authority&&t.path.length>1&&"file"===t.scheme?`//${t.authority}${t.path}`:47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?n?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,e&&(r=r.replace(/\//g,"\\")),r}function v(e,t){const n=t?g:f;let r="",{scheme:i,authority:o,path:s,query:a,fragment:c}=e;if(i&&(r+=i,r+=":"),(o||"file"===i)&&(r+=l,r+=l),o){let e=o.indexOf("@");if(-1!==e){const t=o.substr(0,e);o=o.substr(e+1),e=t.lastIndexOf(":"),-1===e?r+=n(t,!1,!1):(r+=n(t.substr(0,e),!1,!1),r+=":",r+=n(t.substr(e+1),!1,!0)),r+="@"}o=o.toLowerCase(),e=o.lastIndexOf(":"),-1===e?r+=n(o,!1,!0):(r+=n(o.substr(0,e),!1,!0),r+=o.substr(e))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)){const e=s.charCodeAt(1);e>=65&&e<=90&&(s=`/${String.fromCharCode(e+32)}:${s.substr(3)}`)}else if(s.length>=2&&58===s.charCodeAt(1)){const e=s.charCodeAt(0);e>=65&&e<=90&&(s=`${String.fromCharCode(e+32)}:${s.substr(2)}`)}r+=n(s,!0,!1)}return a&&(r+="?",r+=n(a,!1,!1)),c&&(r+="#",r+=t?c:f(c,!1,!1)),r}function y(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+y(e.substr(3)):e}}const b=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(e){return e.match(b)?e.replace(b,e=>y(e)):e}var x=n(470);const _=x.posix||x,A="/";var T;!function(e){e.joinPath=function(e,...t){return e.with({path:_.join(e.path,...t)})},e.resolvePath=function(e,...t){let n=e.path,r=!1;n[0]!==A&&(n=A+n,r=!0);let i=_.resolve(n,...t);return r&&i[0]===A&&!e.authority&&(i=i.substring(1)),e.with({path:i})},e.dirname=function(e){if(0===e.path.length||e.path===A)return e;let t=_.dirname(e.path);return 1===t.length&&46===t.charCodeAt(0)&&(t=""),e.with({path:t})},e.basename=function(e){return _.basename(e.path)},e.extname=function(e){return _.extname(e.path)}}(T||(T={}))})(),r=i})();const{URI:i,Utils:o}=r},7624:(e,t,n)=>{"use strict";t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=a.COMPILER_REVISION;if(t>=a.LAST_COMPATIBLE_COMPILER_REVISION&&t<=a.COMPILER_REVISION)return;if(t<a.LAST_COMPATIBLE_COMPILER_REVISION){var r=a.REVISION_CHANGES[n],i=a.REVISION_CHANGES[t];throw new s.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new s.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")},t.template=function(e,t){if(!t)throw new s.default("No environment passed to template");if(!e||!e.main)throw new s.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0];var r={strict:function(e,t,n){if(!e||!(t in e))throw new s.default('"'+t+'" not defined in '+e,{loc:n});return r.lookupProperty(e,t)},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||u.resultIsAllowed(n,r.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,i=0;i<n;i++){if(null!=(e[i]&&r.lookupProperty(e[i],t)))return e[i][t]}},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:i.escapeExpression,invokePartial:function(n,r,o){o.hash&&(r=i.extend({},r,o.hash),o.ids&&(o.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,o);var a=i.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),l=t.VM.invokePartial.call(this,n,r,a);if(null==l&&t.compile&&(o.partials[o.name]=t.compile(n,e.compilerOptions,t),l=o.partials[o.name](r,a)),null!=l){if(o.indent){for(var c=l.split("\n"),u=0,h=c.length;u<h&&(c[u]||u+1!==h);u++)c[u]=o.indent+c[u];l=c.join("\n")}return l}throw new s.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,i){var o=this.programs[e],s=this.fn(e);return t||i||r||n?o=h(this,e,s,t,n,r,i):o||(o=this.programs[e]=h(this,e,s)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=i.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function o(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=n.data;o._setup(n),!n.partial&&e.useData&&(i=function(e,t){t&&"root"in t||((t=t?a.createFrame(t):{}).root=e);return t}(t,i));var s=void 0,l=e.useBlockParams?[]:void 0;function c(t){return""+e.main(r,t,r.helpers,r.partials,i,l,s)}return e.useDepths&&(s=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(c=p(e.main,c,r,n.depths||[],i,l))(t,n)}return o.isTop=!0,o._setup=function(o){if(o.partial)r.protoAccessControl=o.protoAccessControl,r.helpers=o.helpers,r.partials=o.partials,r.decorators=o.decorators,r.hooks=o.hooks;else{var s=i.extend({},t.helpers,o.helpers);!function(e,t){Object.keys(e).forEach(function(n){var r=e[n];e[n]=function(e,t){var n=t.lookupProperty;return c.wrapHelper(e,function(e){return i.extend({lookupProperty:n},e)})}(r,t)})}(s,r),r.helpers=s,e.usePartial&&(r.partials=r.mergeIfNeeded(o.partials,t.partials)),(e.usePartial||e.useDecorators)&&(r.decorators=i.extend({},t.decorators,o.decorators)),r.hooks={},r.protoAccessControl=u.createProtoAccessControl(o);var a=o.allowCallsToHelperMissing||n;l.moveHelperToHooks(r,"helperMissing",a),l.moveHelperToHooks(r,"blockHelperMissing",a)}},o._child=function(t,n,i,o){if(e.useBlockParams&&!i)throw new s.default("must pass block params");if(e.useDepths&&!o)throw new s.default("must pass parent depths");return h(r,t,e[t],n,0,i,o)},o},t.wrapProgram=h,t.resolvePartial=function(e,t,n){e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return e},t.invokePartial=function(e,t,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=void 0;n.fn&&n.fn!==d&&function(){n.data=a.createFrame(n.data);var e=n.fn;o=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=a.createFrame(n.data),n.data["partial-block"]=r,e(t,n)},e.partials&&(n.partials=i.extend({},n.partials,e.partials))}();void 0===e&&o&&(e=o);if(void 0===e)throw new s.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=d;var r,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2849)),o=n(3769),s=(r=o)&&r.__esModule?r:{default:r},a=n(2871),l=n(2277),c=n(2614),u=n(3865);function h(e,t,n,r,i,o,s){function a(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return!s||t==s[0]||t===e.nullContext&&null===s[0]||(a=[t].concat(s)),n(e,t,e.helpers,e.partials,i.data||r,o&&[i.blockParams].concat(o),a)}return(a=p(n,a,e,s,r,o)).program=t,a.depth=s?s.length:0,a.blockParams=i||0,a}function d(){return""}function p(e,t,n,r,o,s){if(e.decorator){var a={};t=e.decorator(t,a,n,r&&r[0],o,s,r),i.extend(t,a)}return t}},7671:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(6912),i=n(241),o=n(5175),s=n(2049),a=i.A?i.A.isConcatSpreadable:void 0;const l=function(e){return(0,s.A)(e)||(0,o.A)(e)||!!(a&&e&&e[a])};const c=function e(t,n,i,o,s){var a=-1,c=t.length;for(i||(i=l),s||(s=[]);++a<c;){var u=t[a];n>0&&i(u)?n>1?e(u,n-1,i,o,s):(0,r.A)(s,u):o||(s[s.length]=u)}return s}},7799:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(0).FDLayoutConstants;function i(){}for(var o in r)i[o]=r[o];i.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,i.DEFAULT_RADIAL_SEPARATION=r.DEFAULT_EDGE_LENGTH,i.DEFAULT_COMPONENT_SEPERATION=60,i.TILE=!0,i.TILING_PADDING_VERTICAL=10,i.TILING_PADDING_HORIZONTAL=10,i.TREE_REDUCTION_ON_INCREMENTAL=!1,e.exports=i},function(e,t,n){"use strict";var r=n(0).FDLayoutEdge;function i(e,t,n){r.call(this,e,t,n)}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];e.exports=i},function(e,t,n){"use strict";var r=n(0).LGraph;function i(e,t,n){r.call(this,e,t,n)}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];e.exports=i},function(e,t,n){"use strict";var r=n(0).LGraphManager;function i(e){r.call(this,e)}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];e.exports=i},function(e,t,n){"use strict";var r=n(0).FDLayoutNode,i=n(0).IMath;function o(e,t,n,i){r.call(this,e,t,n,i)}for(var s in o.prototype=Object.create(r.prototype),r)o[s]=r[s];o.prototype.move=function(){var e=this.graphManager.getLayout();this.displacementX=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*i.sign(this.displacementX)),Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*i.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},o.prototype.propogateDisplacementToChildren=function(e,t){for(var n,r=this.getChild().getNodes(),i=0;i<r.length;i++)null==(n=r[i]).getChild()?(n.moveBy(e,t),n.displacementX+=e,n.displacementY+=t):n.propogateDisplacementToChildren(e,t)},o.prototype.setPred1=function(e){this.pred1=e},o.prototype.getPred1=function(){return pred1},o.prototype.getPred2=function(){return pred2},o.prototype.setNext=function(e){this.next=e},o.prototype.getNext=function(){return next},o.prototype.setProcessed=function(e){this.processed=e},o.prototype.isProcessed=function(){return processed},e.exports=o},function(e,t,n){"use strict";var r=n(0).FDLayout,i=n(4),o=n(3),s=n(5),a=n(2),l=n(1),c=n(0).FDLayoutConstants,u=n(0).LayoutConstants,h=n(0).Point,d=n(0).PointD,p=n(0).Layout,f=n(0).Integer,g=n(0).IGeometry,m=n(0).LGraph,v=n(0).Transform;function y(){r.call(this),this.toBeTiled={}}for(var b in y.prototype=Object.create(r.prototype),r)y[b]=r[b];y.prototype.newGraphManager=function(){var e=new i(this);return this.graphManager=e,e},y.prototype.newGraph=function(e){return new o(null,this.graphManager,e)},y.prototype.newNode=function(e){return new s(this.graphManager,e)},y.prototype.newEdge=function(e){return new a(null,null,e)},y.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.isSubLayout||(l.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=l.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=c.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=c.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=c.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=c.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/c.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=c.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},y.prototype.layout=function(){return u.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},y.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)l.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),t=new Set(this.getAllNodes()),n=this.nodesWithGravity.filter(function(e){return t.has(e)}),this.graphManager.setAllNodesToApplyGravitation(n));else{var e=this.getFlatForest();if(e.length>0)this.positionNodesRadially(e);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),n=this.nodesWithGravity.filter(function(e){return t.has(e)});this.graphManager.setAllNodesToApplyGravitation(n),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},y.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%c.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter(function(t){return e.has(t)});this.graphManager.setAllNodesToApplyGravitation(t),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var n=!this.isTreeGrowing&&!this.isGrowthFinished,r=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(n,r),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},y.prototype.getPositionsData=function(){for(var e=this.graphManager.getAllNodes(),t={},n=0;n<e.length;n++){var r=e[n].rect,i=e[n].id;t[i]={id:i,x:r.getCenterX(),y:r.getCenterY(),w:r.width,h:r.height}}return t},y.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var e=!1;if("during"===c.ANIMATE)this.emit("layoutstarted");else{for(;!e;)e=this.tick();this.graphManager.updateBounds()}},y.prototype.calculateNodesToApplyGravitationTo=function(){var e,t,n=[],r=this.graphManager.getGraphs(),i=r.length;for(t=0;t<i;t++)(e=r[t]).updateConnected(),e.isConnected||(n=n.concat(e.getNodes()));return n},y.prototype.createBendpoints=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());var t,n=new Set;for(t=0;t<e.length;t++){var r=e[t];if(!n.has(r)){var i=r.getSource(),o=r.getTarget();if(i==o)r.getBendpoints().push(new d),r.getBendpoints().push(new d),this.createDummyNodesForBendpoints(r),n.add(r);else{var s=[];if(s=(s=s.concat(i.getEdgeListToNode(o))).concat(o.getEdgeListToNode(i)),!n.has(s[0])){var a;if(s.length>1)for(a=0;a<s.length;a++){var l=s[a];l.getBendpoints().push(new d),this.createDummyNodesForBendpoints(l)}s.forEach(function(e){n.add(e)})}}}if(n.size==e.length)break}},y.prototype.positionNodesRadially=function(e){for(var t=new h(0,0),n=Math.ceil(Math.sqrt(e.length)),r=0,i=0,o=0,s=new d(0,0),a=0;a<e.length;a++){a%n==0&&(o=0,i=r,0!=a&&(i+=l.DEFAULT_COMPONENT_SEPERATION),r=0);var c=e[a],f=p.findCenterOfTree(c);t.x=o,t.y=i,(s=y.radialLayout(c,f,t)).y>r&&(r=Math.floor(s.y)),o=Math.floor(s.x+l.DEFAULT_COMPONENT_SEPERATION)}this.transform(new d(u.WORLD_CENTER_X-s.x/2,u.WORLD_CENTER_Y-s.y/2))},y.radialLayout=function(e,t,n){var r=Math.max(this.maxDiagonalInTree(e),l.DEFAULT_RADIAL_SEPARATION);y.branchRadialLayout(t,null,0,359,0,r);var i=m.calculateBounds(e),o=new v;o.setDeviceOrgX(i.getMinX()),o.setDeviceOrgY(i.getMinY()),o.setWorldOrgX(n.x),o.setWorldOrgY(n.y);for(var s=0;s<e.length;s++)e[s].transform(o);var a=new d(i.getMaxX(),i.getMaxY());return o.inverseTransformPoint(a)},y.branchRadialLayout=function(e,t,n,r,i,o){var s=(r-n+1)/2;s<0&&(s+=180);var a=(s+n)%360*g.TWO_PI/360,l=(Math.cos(a),i*Math.cos(a)),c=i*Math.sin(a);e.setCenter(l,c);var u=[],h=(u=u.concat(e.getEdges())).length;null!=t&&h--;for(var d,p=0,f=u.length,m=e.getEdgesBetween(t);m.length>1;){var v=m[0];m.splice(0,1);var b=u.indexOf(v);b>=0&&u.splice(b,1),f--,h--}d=null!=t?(u.indexOf(m[0])+1)%f:0;for(var w=Math.abs(r-n)/h,x=d;p!=h;x=++x%f){var _=u[x].getOtherEnd(e);if(_!=t){var A=(n+p*w)%360,T=(A+w)%360;y.branchRadialLayout(_,e,A,T,i+o,o),p++}}},y.maxDiagonalInTree=function(e){for(var t=f.MIN_VALUE,n=0;n<e.length;n++){var r=e[n].getDiagonal();r>t&&(t=r)}return t},y.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},y.prototype.groupZeroDegreeMembers=function(){var e=this,t={};this.memberGroups={},this.idToDummyNode={};for(var n=[],r=this.graphManager.getAllNodes(),i=0;i<r.length;i++){var o=(a=r[i]).getParent();0!==this.getNodeDegreeWithChildren(a)||null!=o.id&&this.getToBeTiled(o)||n.push(a)}for(i=0;i<n.length;i++){var a,l=(a=n[i]).getParent().id;void 0===t[l]&&(t[l]=[]),t[l]=t[l].concat(a)}Object.keys(t).forEach(function(n){if(t[n].length>1){var r="DummyCompound_"+n;e.memberGroups[r]=t[n];var i=t[n][0].getParent(),o=new s(e.graphManager);o.id=r,o.paddingLeft=i.paddingLeft||0,o.paddingRight=i.paddingRight||0,o.paddingBottom=i.paddingBottom||0,o.paddingTop=i.paddingTop||0,e.idToDummyNode[r]=o;var a=e.getGraphManager().add(e.newGraph(),o),l=i.getChild();l.add(o);for(var c=0;c<t[n].length;c++){var u=t[n][c];l.remove(u),a.add(u)}}})},y.prototype.clearCompounds=function(){var e={},t={};this.performDFSOnCompounds();for(var n=0;n<this.compoundOrder.length;n++)t[this.compoundOrder[n].id]=this.compoundOrder[n],e[this.compoundOrder[n].id]=[].concat(this.compoundOrder[n].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[n].getChild()),this.compoundOrder[n].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(e,t)},y.prototype.clearZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(n){var r=e.idToDummyNode[n];t[n]=e.tileNodes(e.memberGroups[n],r.paddingLeft+r.paddingRight),r.rect.width=t[n].width,r.rect.height=t[n].height})},y.prototype.repopulateCompounds=function(){for(var e=this.compoundOrder.length-1;e>=0;e--){var t=this.compoundOrder[e],n=t.id,r=t.paddingLeft,i=t.paddingTop;this.adjustLocations(this.tiledMemberPack[n],t.rect.x,t.rect.y,r,i)}},y.prototype.repopulateZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack;Object.keys(t).forEach(function(n){var r=e.idToDummyNode[n],i=r.paddingLeft,o=r.paddingTop;e.adjustLocations(t[n],r.rect.x,r.rect.y,i,o)})},y.prototype.getToBeTiled=function(e){var t=e.id;if(null!=this.toBeTiled[t])return this.toBeTiled[t];var n=e.getChild();if(null==n)return this.toBeTiled[t]=!1,!1;for(var r=n.getNodes(),i=0;i<r.length;i++){var o=r[i];if(this.getNodeDegree(o)>0)return this.toBeTiled[t]=!1,!1;if(null!=o.getChild()){if(!this.getToBeTiled(o))return this.toBeTiled[t]=!1,!1}else this.toBeTiled[o.id]=!1}return this.toBeTiled[t]=!0,!0},y.prototype.getNodeDegree=function(e){e.id;for(var t=e.getEdges(),n=0,r=0;r<t.length;r++){var i=t[r];i.getSource().id!==i.getTarget().id&&(n+=1)}return n},y.prototype.getNodeDegreeWithChildren=function(e){var t=this.getNodeDegree(e);if(null==e.getChild())return t;for(var n=e.getChild().getNodes(),r=0;r<n.length;r++){var i=n[r];t+=this.getNodeDegreeWithChildren(i)}return t},y.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},y.prototype.fillCompexOrderByDFS=function(e){for(var t=0;t<e.length;t++){var n=e[t];null!=n.getChild()&&this.fillCompexOrderByDFS(n.getChild().getNodes()),this.getToBeTiled(n)&&this.compoundOrder.push(n)}},y.prototype.adjustLocations=function(e,t,n,r,i){n+=i;for(var o=t+=r,s=0;s<e.rows.length;s++){var a=e.rows[s];t=o;for(var l=0,c=0;c<a.length;c++){var u=a[c];u.rect.x=t,u.rect.y=n,t+=u.rect.width+e.horizontalPadding,u.rect.height>l&&(l=u.rect.height)}n+=l+e.verticalPadding}},y.prototype.tileCompoundMembers=function(e,t){var n=this;this.tiledMemberPack=[],Object.keys(e).forEach(function(r){var i=t[r];n.tiledMemberPack[r]=n.tileNodes(e[r],i.paddingLeft+i.paddingRight),i.rect.width=n.tiledMemberPack[r].width,i.rect.height=n.tiledMemberPack[r].height})},y.prototype.tileNodes=function(e,t){var n={rows:[],rowWidth:[],rowHeight:[],width:0,height:t,verticalPadding:l.TILING_PADDING_VERTICAL,horizontalPadding:l.TILING_PADDING_HORIZONTAL};e.sort(function(e,t){return e.rect.width*e.rect.height>t.rect.width*t.rect.height?-1:e.rect.width*e.rect.height<t.rect.width*t.rect.height?1:0});for(var r=0;r<e.length;r++){var i=e[r];0==n.rows.length?this.insertNodeToRow(n,i,0,t):this.canAddHorizontal(n,i.rect.width,i.rect.height)?this.insertNodeToRow(n,i,this.getShortestRowIndex(n),t):this.insertNodeToRow(n,i,n.rows.length,t),this.shiftToLastRow(n)}return n},y.prototype.insertNodeToRow=function(e,t,n,r){var i=r;n==e.rows.length&&(e.rows.push([]),e.rowWidth.push(i),e.rowHeight.push(0));var o=e.rowWidth[n]+t.rect.width;e.rows[n].length>0&&(o+=e.horizontalPadding),e.rowWidth[n]=o,e.width<o&&(e.width=o);var s=t.rect.height;n>0&&(s+=e.verticalPadding);var a=0;s>e.rowHeight[n]&&(a=e.rowHeight[n],e.rowHeight[n]=s,a=e.rowHeight[n]-a),e.height+=a,e.rows[n].push(t)},y.prototype.getShortestRowIndex=function(e){for(var t=-1,n=Number.MAX_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]<n&&(t=r,n=e.rowWidth[r]);return t},y.prototype.getLongestRowIndex=function(e){for(var t=-1,n=Number.MIN_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]>n&&(t=r,n=e.rowWidth[r]);return t},y.prototype.canAddHorizontal=function(e,t,n){var r=this.getShortestRowIndex(e);if(r<0)return!0;var i=e.rowWidth[r];if(i+e.horizontalPadding+t<=e.width)return!0;var o,s,a=0;return e.rowHeight[r]<n&&r>0&&(a=n+e.verticalPadding-e.rowHeight[r]),o=e.width-i>=t+e.horizontalPadding?(e.height+a)/(i+t+e.horizontalPadding):(e.height+a)/e.width,a=n+e.verticalPadding,(s=e.width<t?(e.height+a)/t:(e.height+a)/e.width)<1&&(s=1/s),o<1&&(o=1/o),o<s},y.prototype.shiftToLastRow=function(e){var t=this.getLongestRowIndex(e),n=e.rowWidth.length-1,r=e.rows[t],i=r[r.length-1],o=i.width+e.horizontalPadding;if(e.width-e.rowWidth[n]>o&&t!=n){r.splice(-1,1),e.rows[n].push(i),e.rowWidth[t]=e.rowWidth[t]-o,e.rowWidth[n]=e.rowWidth[n]+o,e.width=e.rowWidth[instance.getLongestRowIndex(e)];for(var s=Number.MIN_VALUE,a=0;a<r.length;a++)r[a].height>s&&(s=r[a].height);t>0&&(s+=e.verticalPadding);var l=e.rowHeight[t]+e.rowHeight[n];e.rowHeight[t]=s,e.rowHeight[n]<i.height+e.verticalPadding&&(e.rowHeight[n]=i.height+e.verticalPadding);var c=e.rowHeight[t]+e.rowHeight[n];e.height+=c-l,this.shiftToLastRow(e)}},y.prototype.tilingPreLayout=function(){l.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},y.prototype.tilingPostLayout=function(){l.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},y.prototype.reduceTrees=function(){for(var e,t=[],n=!0;n;){var r=this.graphManager.getAllNodes(),i=[];n=!1;for(var o=0;o<r.length;o++)1!=(e=r[o]).getEdges().length||e.getEdges()[0].isInterGraph||null!=e.getChild()||(i.push([e,e.getEdges()[0],e.getOwner()]),n=!0);if(1==n){for(var s=[],a=0;a<i.length;a++)1==i[a][0].getEdges().length&&(s.push(i[a]),i[a][0].getOwner().remove(i[a][0]));t.push(s),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=t},y.prototype.growTree=function(e){for(var t,n=e[e.length-1],r=0;r<n.length;r++)t=n[r],this.findPlaceforPrunedNode(t),t[2].add(t[0]),t[2].add(t[1],t[1].source,t[1].target);e.splice(e.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},y.prototype.findPlaceforPrunedNode=function(e){var t,n,r=e[0],i=(n=r==e[1].source?e[1].target:e[1].source).startX,o=n.finishX,s=n.startY,a=n.finishY,l=[0,0,0,0];if(s>0)for(var u=i;u<=o;u++)l[0]+=this.grid[u][s-1].length+this.grid[u][s].length-1;if(o<this.grid.length-1)for(u=s;u<=a;u++)l[1]+=this.grid[o+1][u].length+this.grid[o][u].length-1;if(a<this.grid[0].length-1)for(u=i;u<=o;u++)l[2]+=this.grid[u][a+1].length+this.grid[u][a].length-1;if(i>0)for(u=s;u<=a;u++)l[3]+=this.grid[i-1][u].length+this.grid[i][u].length-1;for(var h,d,p=f.MAX_VALUE,g=0;g<l.length;g++)l[g]<p?(p=l[g],h=1,d=g):l[g]==p&&h++;if(3==h&&0==p)0==l[0]&&0==l[1]&&0==l[2]?t=1:0==l[0]&&0==l[1]&&0==l[3]?t=0:0==l[0]&&0==l[2]&&0==l[3]?t=3:0==l[1]&&0==l[2]&&0==l[3]&&(t=2);else if(2==h&&0==p){var m=Math.floor(2*Math.random());t=0==l[0]&&0==l[1]?0==m?0:1:0==l[0]&&0==l[2]?0==m?0:2:0==l[0]&&0==l[3]?0==m?0:3:0==l[1]&&0==l[2]?0==m?1:2:0==l[1]&&0==l[3]?0==m?1:3:0==m?2:3}else t=4==h&&0==p?m=Math.floor(4*Math.random()):d;0==t?r.setCenter(n.getCenterX(),n.getCenterY()-n.getHeight()/2-c.DEFAULT_EDGE_LENGTH-r.getHeight()/2):1==t?r.setCenter(n.getCenterX()+n.getWidth()/2+c.DEFAULT_EDGE_LENGTH+r.getWidth()/2,n.getCenterY()):2==t?r.setCenter(n.getCenterX(),n.getCenterY()+n.getHeight()/2+c.DEFAULT_EDGE_LENGTH+r.getHeight()/2):r.setCenter(n.getCenterX()-n.getWidth()/2-c.DEFAULT_EDGE_LENGTH-r.getWidth()/2,n.getCenterY())},e.exports=y},function(e,t,n){"use strict";var r={};r.layoutBase=n(0),r.CoSEConstants=n(1),r.CoSEEdge=n(2),r.CoSEGraph=n(3),r.CoSEGraphManager=n(4),r.CoSELayout=n(6),r.CoSENode=n(5),e.exports=r}])},e.exports=r(n(3143))},7809:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},8041:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5635);const i=(e,t)=>(0,r.A)(e,"l",t)},8058:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2641),i=n(4288),o=n(9922),s=n(2049);const a=function(e,t){return((0,s.A)(e)?r.A:i.A)(e,(0,o.A)(t))}},8139:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7671),i=n(4722);const o=function(e,t){return(0,r.A)((0,i.A)(e,t),1)}},8188:(e,t,n)=>{"use strict";n.d(t,{createPieServices:()=>r.f});var r=n(9786);n(1272)},8232:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(6309),i=n(1931);const o=(e,t)=>{const n=i.A.parse(e);for(const e in t)n[e]=r.A.channel.clamp[e](t[e]);return i.A.stringify(n)}},8300:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2050);const i=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const o=function(e){return this.__data__.has(e)};function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r.A;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o;const a=s},8313:function(e){e.exports=function(){"use strict";var e="day";return function(t,n,r){var i=function(t){return t.add(4-t.isoWeekday(),e)},o=n.prototype;o.isoWeekYear=function(){return i(this).year()},o.isoWeek=function(t){if(!this.$utils().u(t))return this.add(7*(t-this.isoWeek()),e);var n,o,s,a=i(this),l=(n=this.isoWeekYear(),s=4-(o=(this.$u?r.utc:r)().year(n).startOf("year")).isoWeekday(),o.isoWeekday()>4&&(s+=7),o.add(s,e));return a.diff(l,"week")+1},o.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var s=o.startOf;o.startOf=function(e,t){var n=this.$utils(),r=!!n.u(t)||t;return"isoweek"===n.p(e)?r?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):s.bind(this)(e,t)}}}()},8335:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8562),i=n(1917);const o=(0,r.A)(i.A,"Map")},8425:(e,t,n)=>{"use strict";t.__esModule=!0,t.SourceLocation=function(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}},t.id=function(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e},t.stripFlags=function(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}},t.stripComment=function(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},t.preparePath=function(e,t,n){n=this.locInfo(n);for(var r=e?"@":"",i=[],s=0,a=0,l=t.length;a<l;a++){var c=t[a].part,u=t[a].original!==c;if(r+=(t[a].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)i.push(c);else{if(i.length>0)throw new o.default("Invalid path: "+r,{loc:n});".."===c&&s++}}return{type:"PathExpression",data:e,depth:s,parts:i,original:r,loc:n}},t.prepareMustache=function(e,t,n,r,i,o){var s=r.charAt(3)||r.charAt(2),a="{"!==s&&"&"!==s;return{type:/\*/.test(r)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:a,strip:i,loc:this.locInfo(o)}},t.prepareRawBlock=function(e,t,n,r){s(e,n),r=this.locInfo(r);var i={type:"Program",body:t,strip:{},loc:r};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:i,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}},t.prepareBlock=function(e,t,n,r,i,a){r&&r.path&&s(e,r);var l=/\*/.test(e.open);t.blockParams=e.blockParams;var c=void 0,u=void 0;if(n){if(l)throw new o.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=r.strip),u=n.strip,c=n.program}i&&(i=c,c=t,t=i);return{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:c,openStrip:e.strip,inverseStrip:u,closeStrip:r&&r.strip,loc:this.locInfo(a)}},t.prepareProgram=function(e,t){if(!t&&e.length){var n=e[0].loc,r=e[e.length-1].loc;n&&r&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},t.preparePartialBlock=function(e,t,n,r){return s(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}};var r,i=n(3769),o=(r=i)&&r.__esModule?r:{default:r};function s(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new o.default(e.path.original+" doesn't match "+t,n)}}},8446:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9610),i=n(5254);const o=function(e){return null!=e&&(0,i.A)(e.length)&&!(0,r.A)(e)}},8562:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(9610);const i=n(1917).A["__core-js_shared__"];var o,s=(o=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";const a=function(e){return!!s&&s in e};var l=n(3149),c=n(1121),u=/^\[object .+?Constructor\]$/,h=Function.prototype,d=Object.prototype,p=h.toString,f=d.hasOwnProperty,g=RegExp("^"+p.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const m=function(e){return!(!(0,l.A)(e)||a(e))&&((0,r.A)(e)?g:u).test((0,c.A)(e))};const v=function(e,t){return null==e?void 0:e[t]};const y=function(e,t){var n=v(e,t);return m(n)?n:void 0}},8585:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every(e=>n(e))}},8593:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3631);const i=function(e){var t=(0,r.A)(e),n=t%1;return t==t?n?t-n:t:0}},8695:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1931),i=n(8232);const o=(e,t)=>{const n=r.A.parse(e),o={};for(const e in t)t[e]&&(o[e]=n[e]+t[e]);return(0,i.A)(e,o)}},8716:(e,t,n)=>{"use strict";n.d(t,{createPacketServices:()=>r.$});var r=n(9811);n(1272)},8731:(e,t,n)=>{"use strict";n.d(t,{qg:()=>s});n(4087),n(1366),n(9811),n(9786),n(3009),n(2852),n(3758);var r=n(1272),i={},o={info:(0,r.K2)(async()=>{const{createInfoServices:e}=await n.e(855).then(n.bind(n,2068)),t=e().Info.parser.LangiumParser;i.info=t},"info"),packet:(0,r.K2)(async()=>{const{createPacketServices:e}=await n.e(855).then(n.bind(n,8716)),t=e().Packet.parser.LangiumParser;i.packet=t},"packet"),pie:(0,r.K2)(async()=>{const{createPieServices:e}=await n.e(855).then(n.bind(n,8188)),t=e().Pie.parser.LangiumParser;i.pie=t},"pie"),architecture:(0,r.K2)(async()=>{const{createArchitectureServices:e}=await n.e(855).then(n.bind(n,2498)),t=e().Architecture.parser.LangiumParser;i.architecture=t},"architecture"),gitGraph:(0,r.K2)(async()=>{const{createGitGraphServices:e}=await n.e(855).then(n.bind(n,5392)),t=e().GitGraph.parser.LangiumParser;i.gitGraph=t},"gitGraph"),radar:(0,r.K2)(async()=>{const{createRadarServices:e}=await n.e(855).then(n.bind(n,3956)),t=e().Radar.parser.LangiumParser;i.radar=t},"radar"),treemap:(0,r.K2)(async()=>{const{createTreemapServices:e}=await n.e(855).then(n.bind(n,4504)),t=e().Treemap.parser.LangiumParser;i.treemap=t},"treemap")};async function s(e,t){const n=o[e];if(!n)throw new Error(`Unknown diagram type: ${e}`);i[e]||await n();const r=i[e].parse(t);if(r.lexerErrors.length>0||r.parserErrors.length>0)throw new a(r);return r.value}(0,r.K2)(s,"parse");var a=class extends Error{constructor(e){super(`Parsing failed: ${e.lexerErrors.map(e=>e.message).join("\n")} ${e.parserErrors.map(e=>e.message).join("\n")}`),this.result=e}static{(0,r.K2)(this,"MermaidParseError")}}},8754:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var r=Math.PI,i=2*r,o=1e-6,s=i-o;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function l(){return new a}a.prototype=l.prototype={constructor:a,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,i,s){e=+e,t=+t,n=+n,i=+i,s=+s;var a=this._x1,l=this._y1,c=n-e,u=i-t,h=a-e,d=l-t,p=h*h+d*d;if(s<0)throw new Error("negative radius: "+s);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>o)if(Math.abs(d*c-u*h)>o&&s){var f=n-a,g=i-l,m=c*c+u*u,v=f*f+g*g,y=Math.sqrt(m),b=Math.sqrt(p),w=s*Math.tan((r-Math.acos((m+p-v)/(2*y*b)))/2),x=w/b,_=w/y;Math.abs(x-1)>o&&(this._+="L"+(e+x*h)+","+(t+x*d)),this._+="A"+s+","+s+",0,0,"+ +(d*f>h*g)+","+(this._x1=e+_*c)+","+(this._y1=t+_*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,a,l,c){e=+e,t=+t,c=!!c;var u=(n=+n)*Math.cos(a),h=n*Math.sin(a),d=e+u,p=t+h,f=1^c,g=c?a-l:l-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+d+","+p:(Math.abs(this._x1-d)>o||Math.abs(this._y1-p)>o)&&(this._+="L"+d+","+p),n&&(g<0&&(g=g%i+i),g>s?this._+="A"+n+","+n+",0,1,"+f+","+(e-u)+","+(t-h)+"A"+n+","+n+",0,1,"+f+","+(this._x1=d)+","+(this._y1=p):g>o&&(this._+="A"+n+","+n+",0,"+ +(g>=r)+","+f+","+(this._x1=e+n*Math.cos(l))+","+(this._y1=t+n*Math.sin(l))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const c=l;var u=Array.prototype.slice;function h(e){return function(){return e}}function d(e){return e[0]}function p(e){return e[1]}function f(e){return e.source}function g(e){return e.target}function m(e){var t=f,n=g,r=d,i=p,o=null;function s(){var s,a=u.call(arguments),l=t.apply(this,a),h=n.apply(this,a);if(o||(o=s=c()),e(o,+r.apply(this,(a[0]=l,a)),+i.apply(this,a),+r.apply(this,(a[0]=h,a)),+i.apply(this,a)),s)return o=null,s+""||null}return s.source=function(e){return arguments.length?(t=e,s):t},s.target=function(e){return arguments.length?(n=e,s):n},s.x=function(e){return arguments.length?(r="function"==typeof e?e:h(+e),s):r},s.y=function(e){return arguments.length?(i="function"==typeof e?e:h(+e),s):i},s.context=function(e){return arguments.length?(o=null==e?null:e,s):o},s}function v(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function y(e){return[e.source.x1,e.y0]}function b(e){return[e.target.x0,e.y1]}function w(){return m(v).source(y).target(b)}},8993:function(e,t,n){!function(e,t){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o=function(e){return e&&e.Math===Math&&e},s=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof r&&r)||function(){return this}()||r||Function("return this")(),a=function(e){try{return!!e()}catch(e){return!0}},l=!a(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),c=l,u=Function.prototype,h=u.apply,d=u.call,p="object"==typeof Reflect&&Reflect.apply||(c?d.bind(h):function(){return d.apply(h,arguments)}),f=l,g=Function.prototype,m=g.call,v=f&&g.bind.bind(m,m),y=f?v:function(e){return function(){return m.apply(e,arguments)}},b=y,w=b({}.toString),x=b("".slice),_=function(e){return x(w(e),8,-1)},A=_,T=y,E=function(e){if("Function"===A(e))return T(e)},k="object"==typeof document&&document.all,S={all:k,IS_HTMLDDA:void 0===k&&void 0!==k},C=S.all,N=S.IS_HTMLDDA?function(e){return"function"==typeof e||e===C}:function(e){return"function"==typeof e},M={},O=!a(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),R=l,I=Function.prototype.call,L=R?I.bind(I):function(){return I.apply(I,arguments)},P={},D={}.propertyIsEnumerable,B=Object.getOwnPropertyDescriptor,F=B&&!D.call({1:2},1);P.f=F?function(e){var t=B(this,e);return!!t&&t.enumerable}:D;var z,$,j=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},U=a,H=_,G=Object,V=y("".split),W=U(function(){return!G("z").propertyIsEnumerable(0)})?function(e){return"String"===H(e)?V(e,""):G(e)}:G,Y=function(e){return null==e},q=Y,X=TypeError,K=function(e){if(q(e))throw new X("Can't call method on "+e);return e},Z=W,Q=K,J=function(e){return Z(Q(e))},ee=N,te=S.all,ne=S.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:ee(e)||e===te}:function(e){return"object"==typeof e?null!==e:ee(e)},re={},ie=re,oe=s,se=N,ae=function(e){return se(e)?e:void 0},le=function(e,t){return arguments.length<2?ae(ie[e])||ae(oe[e]):ie[e]&&ie[e][t]||oe[e]&&oe[e][t]},ce=y({}.isPrototypeOf),ue="undefined"!=typeof navigator&&String(navigator.userAgent)||"",he=s,de=ue,pe=he.process,fe=he.Deno,ge=pe&&pe.versions||fe&&fe.version,me=ge&&ge.v8;me&&($=(z=me.split("."))[0]>0&&z[0]<4?1:+(z[0]+z[1])),!$&&de&&(!(z=de.match(/Edge\/(\d+)/))||z[1]>=74)&&(z=de.match(/Chrome\/(\d+)/))&&($=+z[1]);var ve=$,ye=ve,be=a,we=s.String,xe=!!Object.getOwnPropertySymbols&&!be(function(){var e=Symbol("symbol detection");return!we(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ye&&ye<41}),_e=xe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ae=le,Te=N,Ee=ce,ke=Object,Se=_e?function(e){return"symbol"==typeof e}:function(e){var t=Ae("Symbol");return Te(t)&&Ee(t.prototype,ke(e))},Ce=String,Ne=function(e){try{return Ce(e)}catch(e){return"Object"}},Me=N,Oe=Ne,Re=TypeError,Ie=function(e){if(Me(e))return e;throw new Re(Oe(e)+" is not a function")},Le=Ie,Pe=Y,De=function(e,t){var n=e[t];return Pe(n)?void 0:Le(n)},Be=L,Fe=N,ze=ne,$e=TypeError,je={exports:{}},Ue=s,He=Object.defineProperty,Ge=function(e,t){try{He(Ue,e,{value:t,configurable:!0,writable:!0})}catch(n){Ue[e]=t}return t},Ve="__core-js_shared__",We=s[Ve]||Ge(Ve,{}),Ye=We;(je.exports=function(e,t){return Ye[e]||(Ye[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var qe=je.exports,Xe=K,Ke=Object,Ze=function(e){return Ke(Xe(e))},Qe=Ze,Je=y({}.hasOwnProperty),et=Object.hasOwn||function(e,t){return Je(Qe(e),t)},tt=y,nt=0,rt=Math.random(),it=tt(1..toString),ot=function(e){return"Symbol("+(void 0===e?"":e)+")_"+it(++nt+rt,36)},st=qe,at=et,lt=ot,ct=xe,ut=_e,ht=s.Symbol,dt=st("wks"),pt=ut?ht.for||ht:ht&&ht.withoutSetter||lt,ft=function(e){return at(dt,e)||(dt[e]=ct&&at(ht,e)?ht[e]:pt("Symbol."+e)),dt[e]},gt=L,mt=ne,vt=Se,yt=De,bt=function(e,t){var n,r;if("string"===t&&Fe(n=e.toString)&&!ze(r=Be(n,e)))return r;if(Fe(n=e.valueOf)&&!ze(r=Be(n,e)))return r;if("string"!==t&&Fe(n=e.toString)&&!ze(r=Be(n,e)))return r;throw new $e("Can't convert object to primitive value")},wt=TypeError,xt=ft("toPrimitive"),_t=function(e,t){if(!mt(e)||vt(e))return e;var n,r=yt(e,xt);if(r){if(void 0===t&&(t="default"),n=gt(r,e,t),!mt(n)||vt(n))return n;throw new wt("Can't convert object to primitive value")}return void 0===t&&(t="number"),bt(e,t)},At=Se,Tt=function(e){var t=_t(e,"string");return At(t)?t:t+""},Et=ne,kt=s.document,St=Et(kt)&&Et(kt.createElement),Ct=function(e){return St?kt.createElement(e):{}},Nt=Ct,Mt=!O&&!a(function(){return 7!==Object.defineProperty(Nt("div"),"a",{get:function(){return 7}}).a}),Ot=O,Rt=L,It=P,Lt=j,Pt=J,Dt=Tt,Bt=et,Ft=Mt,zt=Object.getOwnPropertyDescriptor;M.f=Ot?zt:function(e,t){if(e=Pt(e),t=Dt(t),Ft)try{return zt(e,t)}catch(e){}if(Bt(e,t))return Lt(!Rt(It.f,e,t),e[t])};var $t=a,jt=N,Ut=/#|\.prototype\./,Ht=function(e,t){var n=Vt[Gt(e)];return n===Yt||n!==Wt&&(jt(t)?$t(t):!!t)},Gt=Ht.normalize=function(e){return String(e).replace(Ut,".").toLowerCase()},Vt=Ht.data={},Wt=Ht.NATIVE="N",Yt=Ht.POLYFILL="P",qt=Ht,Xt=Ie,Kt=l,Zt=E(E.bind),Qt=function(e,t){return Xt(e),void 0===t?e:Kt?Zt(e,t):function(){return e.apply(t,arguments)}},Jt={},en=O&&a(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),tn=ne,nn=String,rn=TypeError,on=function(e){if(tn(e))return e;throw new rn(nn(e)+" is not an object")},sn=O,an=Mt,ln=en,cn=on,un=Tt,hn=TypeError,dn=Object.defineProperty,pn=Object.getOwnPropertyDescriptor,fn="enumerable",gn="configurable",mn="writable";Jt.f=sn?ln?function(e,t,n){if(cn(e),t=un(t),cn(n),"function"==typeof e&&"prototype"===t&&"value"in n&&mn in n&&!n[mn]){var r=pn(e,t);r&&r[mn]&&(e[t]=n.value,n={configurable:gn in n?n[gn]:r[gn],enumerable:fn in n?n[fn]:r[fn],writable:!1})}return dn(e,t,n)}:dn:function(e,t,n){if(cn(e),t=un(t),cn(n),an)try{return dn(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new hn("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var vn=Jt,yn=j,bn=O?function(e,t,n){return vn.f(e,t,yn(1,n))}:function(e,t,n){return e[t]=n,e},wn=s,xn=p,_n=E,An=N,Tn=M.f,En=qt,kn=re,Sn=Qt,Cn=bn,Nn=et,Mn=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return xn(e,this,arguments)};return t.prototype=e.prototype,t},On=function(e,t){var n,r,i,o,s,a,l,c,u,h=e.target,d=e.global,p=e.stat,f=e.proto,g=d?wn:p?wn[h]:(wn[h]||{}).prototype,m=d?kn:kn[h]||Cn(kn,h,{})[h],v=m.prototype;for(o in t)r=!(n=En(d?o:h+(p?".":"#")+o,e.forced))&&g&&Nn(g,o),a=m[o],r&&(l=e.dontCallGetSet?(u=Tn(g,o))&&u.value:g[o]),s=r&&l?l:t[o],r&&typeof a==typeof s||(c=e.bind&&r?Sn(s,wn):e.wrap&&r?Mn(s):f&&An(s)?_n(s):s,(e.sham||s&&s.sham||a&&a.sham)&&Cn(c,"sham",!0),Cn(m,o,c),f&&(Nn(kn,i=h+"Prototype")||Cn(kn,i,{}),Cn(kn[i],o,s),e.real&&v&&(n||!v[o])&&Cn(v,o,s)))},Rn=Math.ceil,In=Math.floor,Ln=Math.trunc||function(e){var t=+e;return(t>0?In:Rn)(t)},Pn=function(e){var t=+e;return t!=t||0===t?0:Ln(t)},Dn=Pn,Bn=Math.max,Fn=Math.min,zn=function(e,t){var n=Dn(e);return n<0?Bn(n+t,0):Fn(n,t)},$n=Pn,jn=Math.min,Un=function(e){return e>0?jn($n(e),9007199254740991):0},Hn=function(e){return Un(e.length)},Gn=J,Vn=zn,Wn=Hn,Yn=function(e){return function(t,n,r){var i,o=Gn(t),s=Wn(o),a=Vn(r,s);if(e&&n!=n){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},qn={includes:Yn(!0),indexOf:Yn(!1)},Xn={},Kn=et,Zn=J,Qn=qn.indexOf,Jn=Xn,er=y([].push),tr=function(e,t){var n,r=Zn(e),i=0,o=[];for(n in r)!Kn(Jn,n)&&Kn(r,n)&&er(o,n);for(;t.length>i;)Kn(r,n=t[i++])&&(~Qn(o,n)||er(o,n));return o},nr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],rr=tr,ir=nr,or=Object.keys||function(e){return rr(e,ir)},sr={};sr.f=Object.getOwnPropertySymbols;var ar=O,lr=y,cr=L,ur=a,hr=or,dr=sr,pr=P,fr=Ze,gr=W,mr=Object.assign,vr=Object.defineProperty,yr=lr([].concat),br=!mr||ur(function(){if(ar&&1!==mr({b:1},mr(vr({},"a",{enumerable:!0,get:function(){vr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!==mr({},e)[n]||hr(mr({},t)).join("")!==r})?function(e,t){for(var n=fr(e),r=arguments.length,i=1,o=dr.f,s=pr.f;r>i;)for(var a,l=gr(arguments[i++]),c=o?yr(hr(l),o(l)):hr(l),u=c.length,h=0;u>h;)a=c[h++],ar&&!cr(s,l,a)||(n[a]=l[a]);return n}:mr,wr=br;On({target:"Object",stat:!0,arity:2,forced:Object.assign!==wr},{assign:wr});var xr=i(re.Object.assign),_r=y([].slice),Ar=y,Tr=Ie,Er=ne,kr=et,Sr=_r,Cr=l,Nr=Function,Mr=Ar([].concat),Or=Ar([].join),Rr={},Ir=Cr?Nr.bind:function(e){var t=Tr(this),n=t.prototype,r=Sr(arguments,1),i=function(){var n=Mr(r,Sr(arguments));return this instanceof i?function(e,t,n){if(!kr(Rr,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";Rr[t]=Nr("C,a","return new C("+Or(r,",")+")")}return Rr[t](e,n)}(t,n.length,n):t.apply(e,n)};return Er(n)&&(i.prototype=n),i},Lr=Ir;On({target:"Function",proto:!0,forced:Function.bind!==Lr},{bind:Lr});var Pr=re,Dr=function(e){return Pr[e+"Prototype"]},Br=Dr("Function").bind,Fr=ce,zr=Br,$r=Function.prototype,jr=function(e){var t=e.bind;return e===$r||Fr($r,e)&&t===$r.bind?zr:t},Ur=i(jr);function Hr(e,t,n,r){e.beginPath(),e.arc(t,n,r,0,2*Math.PI,!1),e.closePath()}function Gr(e,t,n,r,i,o){const s=Math.PI/180;r-2*o<0&&(o=r/2),i-2*o<0&&(o=i/2),e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.arc(t+r-o,n+o,o,270*s,360*s,!1),e.lineTo(t+r,n+i-o),e.arc(t+r-o,n+i-o,o,0,90*s,!1),e.lineTo(t+o,n+i),e.arc(t+o,n+i-o,o,90*s,180*s,!1),e.lineTo(t,n+o),e.arc(t+o,n+o,o,180*s,270*s,!1),e.closePath()}function Vr(e,t,n,r,i){const o=.5522848,s=r/2*o,a=i/2*o,l=t+r,c=n+i,u=t+r/2,h=n+i/2;e.beginPath(),e.moveTo(t,h),e.bezierCurveTo(t,h-a,u-s,n,u,n),e.bezierCurveTo(u+s,n,l,h-a,l,h),e.bezierCurveTo(l,h+a,u+s,c,u,c),e.bezierCurveTo(u-s,c,t,h+a,t,h),e.closePath()}function Wr(e,t,n,r,i){const o=i*(1/3),s=.5522848,a=r/2*s,l=o/2*s,c=t+r,u=n+o,h=t+r/2,d=n+o/2,p=n+(i-o/2),f=n+i;e.beginPath(),e.moveTo(c,d),e.bezierCurveTo(c,d+l,h+a,u,h,u),e.bezierCurveTo(h-a,u,t,d+l,t,d),e.bezierCurveTo(t,d-l,h-a,n,h,n),e.bezierCurveTo(h+a,n,c,d-l,c,d),e.lineTo(c,p),e.bezierCurveTo(c,p+l,h+a,f,h,f),e.bezierCurveTo(h-a,f,t,p+l,t,p),e.lineTo(t,d)}function Yr(e,t,n,r,i,o){e.beginPath(),e.moveTo(t,n);const s=o.length,a=r-t,l=i-n,c=l/a;let u=Math.sqrt(a*a+l*l),h=0,d=!0,p=0,f=+o[0];for(;u>=.1;)f=+o[h++%s],f>u&&(f=u),p=Math.sqrt(f*f/(1+c*c)),p=a<0?-p:p,t+=p,n+=c*p,!0===d?e.lineTo(t,n):e.moveTo(t,n),u-=f,d=!d}const qr={circle:Hr,dashedLine:Yr,database:Wr,diamond:function(e,t,n,r){e.beginPath(),e.lineTo(t,n+r),e.lineTo(t+r,n),e.lineTo(t,n-r),e.lineTo(t-r,n),e.closePath()},ellipse:Vr,ellipse_vis:Vr,hexagon:function(e,t,n,r){e.beginPath();const i=2*Math.PI/6;e.moveTo(t+r,n);for(let o=1;o<6;o++)e.lineTo(t+r*Math.cos(i*o),n+r*Math.sin(i*o));e.closePath()},roundRect:Gr,square:function(e,t,n,r){e.beginPath(),e.rect(t-r,n-r,2*r,2*r),e.closePath()},star:function(e,t,n,r){e.beginPath(),n+=.1*(r*=.82);for(let i=0;i<10;i++){const o=i%2==0?1.3*r:.5*r;e.lineTo(t+o*Math.sin(2*i*Math.PI/10),n-o*Math.cos(2*i*Math.PI/10))}e.closePath()},triangle:function(e,t,n,r){e.beginPath(),n+=.275*(r*=1.15);const i=2*r,o=i/2,s=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-o*o);e.moveTo(t,n-(a-s)),e.lineTo(t+o,n+s),e.lineTo(t-o,n+s),e.lineTo(t,n-(a-s)),e.closePath()},triangleDown:function(e,t,n,r){e.beginPath(),n-=.275*(r*=1.15);const i=2*r,o=i/2,s=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-o*o);e.moveTo(t,n+(a-s)),e.lineTo(t+o,n-s),e.lineTo(t-o,n-s),e.lineTo(t,n+(a-s)),e.closePath()}};var Xr={exports:{}};!function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}(Xr);var Kr=i(Xr.exports),Zr=_,Qr=Array.isArray||function(e){return"Array"===Zr(e)},Jr=TypeError,ei=function(e){if(e>9007199254740991)throw Jr("Maximum allowed index exceeded");return e},ti=Tt,ni=Jt,ri=j,ii=function(e,t,n){var r=ti(t);r in e?ni.f(e,r,ri(0,n)):e[r]=n},oi={};oi[ft("toStringTag")]="z";var si="[object z]"===String(oi),ai=si,li=N,ci=_,ui=ft("toStringTag"),hi=Object,di="Arguments"===ci(function(){return arguments}()),pi=ai?ci:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=hi(e),ui))?n:di?ci(t):"Object"===(r=ci(t))&&li(t.callee)?"Arguments":r},fi=N,gi=We,mi=y(Function.toString);fi(gi.inspectSource)||(gi.inspectSource=function(e){return mi(e)});var vi=gi.inspectSource,yi=y,bi=a,wi=N,xi=pi,_i=vi,Ai=function(){},Ti=[],Ei=le("Reflect","construct"),ki=/^\s*(?:class|function)\b/,Si=yi(ki.exec),Ci=!ki.test(Ai),Ni=function(e){if(!wi(e))return!1;try{return Ei(Ai,Ti,e),!0}catch(e){return!1}},Mi=function(e){if(!wi(e))return!1;switch(xi(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ci||!!Si(ki,_i(e))}catch(e){return!0}};Mi.sham=!0;var Oi=!Ei||bi(function(){var e;return Ni(Ni.call)||!Ni(Object)||!Ni(function(){e=!0})||e})?Mi:Ni,Ri=Qr,Ii=Oi,Li=ne,Pi=ft("species"),Di=Array,Bi=function(e){var t;return Ri(e)&&(t=e.constructor,(Ii(t)&&(t===Di||Ri(t.prototype))||Li(t)&&null===(t=t[Pi]))&&(t=void 0)),void 0===t?Di:t},Fi=function(e,t){return new(Bi(e))(0===t?0:t)},zi=a,$i=ve,ji=ft("species"),Ui=function(e){return $i>=51||!zi(function(){var t=[];return(t.constructor={})[ji]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Hi=On,Gi=a,Vi=Qr,Wi=ne,Yi=Ze,qi=Hn,Xi=ei,Ki=ii,Zi=Fi,Qi=Ui,Ji=ve,eo=ft("isConcatSpreadable"),to=Ji>=51||!Gi(function(){var e=[];return e[eo]=!1,e.concat()[0]!==e}),no=function(e){if(!Wi(e))return!1;var t=e[eo];return void 0!==t?!!t:Vi(e)};Hi({target:"Array",proto:!0,arity:1,forced:!to||!Qi("concat")},{concat:function(e){var t,n,r,i,o,s=Yi(this),a=Zi(s,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(no(o=-1===t?s:arguments[t]))for(i=qi(o),Xi(l+i),n=0;n<i;n++,l++)n in o&&Ki(a,l,o[n]);else Xi(l+1),Ki(a,l++,o);return a.length=l,a}});var ro=pi,io=String,oo=function(e){if("Symbol"===ro(e))throw new TypeError("Cannot convert a Symbol value to a string");return io(e)},so={},ao=O,lo=en,co=Jt,uo=on,ho=J,po=or;so.f=ao&&!lo?Object.defineProperties:function(e,t){uo(e);for(var n,r=ho(t),i=po(t),o=i.length,s=0;o>s;)co.f(e,n=i[s++],r[n]);return e};var fo,go=le("document","documentElement"),mo=ot,vo=qe("keys"),yo=function(e){return vo[e]||(vo[e]=mo(e))},bo=on,wo=so,xo=nr,_o=Xn,Ao=go,To=Ct,Eo="prototype",ko="script",So=yo("IE_PROTO"),Co=function(){},No=function(e){return"<"+ko+">"+e+"</"+ko+">"},Mo=function(e){e.write(No("")),e.close();var t=e.parentWindow.Object;return e=null,t},Oo=function(){try{fo=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;Oo="undefined"!=typeof document?document.domain&&fo?Mo(fo):(t=To("iframe"),n="java"+ko+":",t.style.display="none",Ao.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(No("document.F=Object")),e.close(),e.F):Mo(fo);for(var r=xo.length;r--;)delete Oo[Eo][xo[r]];return Oo()};_o[So]=!0;var Ro=Object.create||function(e,t){var n;return null!==e?(Co[Eo]=bo(e),n=new Co,Co[Eo]=null,n[So]=e):n=Oo(),void 0===t?n:wo.f(n,t)},Io={},Lo=tr,Po=nr.concat("length","prototype");Io.f=Object.getOwnPropertyNames||function(e){return Lo(e,Po)};var Do={},Bo=zn,Fo=Hn,zo=ii,$o=Array,jo=Math.max,Uo=function(e,t,n){for(var r=Fo(e),i=Bo(t,r),o=Bo(void 0===n?r:n,r),s=$o(jo(o-i,0)),a=0;i<o;i++,a++)zo(s,a,e[i]);return s.length=a,s},Ho=_,Go=J,Vo=Io.f,Wo=Uo,Yo="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Do.f=function(e){return Yo&&"Window"===Ho(e)?function(e){try{return Vo(e)}catch(e){return Wo(Yo)}}(e):Vo(Go(e))};var qo=bn,Xo=function(e,t,n,r){return r&&r.enumerable?e[t]=n:qo(e,t,n),e},Ko=Jt,Zo=function(e,t,n){return Ko.f(e,t,n)},Qo={},Jo=ft;Qo.f=Jo;var es,ts,ns,rs=re,is=et,os=Qo,ss=Jt.f,as=function(e){var t=rs.Symbol||(rs.Symbol={});is(t,e)||ss(t,e,{value:os.f(e)})},ls=L,cs=le,us=ft,hs=Xo,ds=function(){var e=cs("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=us("toPrimitive");t&&!t[r]&&hs(t,r,function(e){return ls(n,this)},{arity:1})},ps=pi,fs=si?{}.toString:function(){return"[object "+ps(this)+"]"},gs=si,ms=Jt.f,vs=bn,ys=et,bs=fs,ws=ft("toStringTag"),xs=function(e,t,n,r){if(e){var i=n?e:e.prototype;ys(i,ws)||ms(i,ws,{configurable:!0,value:t}),r&&!gs&&vs(i,"toString",bs)}},_s=N,As=s.WeakMap,Ts=_s(As)&&/native code/.test(String(As)),Es=Ts,ks=s,Ss=ne,Cs=bn,Ns=et,Ms=We,Os=yo,Rs=Xn,Is="Object already initialized",Ls=ks.TypeError,Ps=ks.WeakMap;if(Es||Ms.state){var Ds=Ms.state||(Ms.state=new Ps);Ds.get=Ds.get,Ds.has=Ds.has,Ds.set=Ds.set,es=function(e,t){if(Ds.has(e))throw new Ls(Is);return t.facade=e,Ds.set(e,t),t},ts=function(e){return Ds.get(e)||{}},ns=function(e){return Ds.has(e)}}else{var Bs=Os("state");Rs[Bs]=!0,es=function(e,t){if(Ns(e,Bs))throw new Ls(Is);return t.facade=e,Cs(e,Bs,t),t},ts=function(e){return Ns(e,Bs)?e[Bs]:{}},ns=function(e){return Ns(e,Bs)}}var Fs={set:es,get:ts,has:ns,enforce:function(e){return ns(e)?ts(e):es(e,{})},getterFor:function(e){return function(t){var n;if(!Ss(t)||(n=ts(t)).type!==e)throw new Ls("Incompatible receiver, "+e+" required");return n}}},zs=Qt,$s=W,js=Ze,Us=Hn,Hs=Fi,Gs=y([].push),Vs=function(e){var t=1===e,n=2===e,r=3===e,i=4===e,o=6===e,s=7===e,a=5===e||o;return function(l,c,u,h){for(var d,p,f=js(l),g=$s(f),m=zs(c,u),v=Us(g),y=0,b=h||Hs,w=t?b(l,v):n||s?b(l,0):void 0;v>y;y++)if((a||y in g)&&(p=m(d=g[y],y,f),e))if(t)w[y]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return y;case 2:Gs(w,d)}else switch(e){case 4:return!1;case 7:Gs(w,d)}return o?-1:r||i?i:w}},Ws={forEach:Vs(0),map:Vs(1),filter:Vs(2),some:Vs(3),every:Vs(4),find:Vs(5),findIndex:Vs(6),filterReject:Vs(7)},Ys=On,qs=s,Xs=L,Ks=y,Zs=O,Qs=xe,Js=a,ea=et,ta=ce,na=on,ra=J,ia=Tt,oa=oo,sa=j,aa=Ro,la=or,ca=Io,ua=Do,ha=sr,da=M,pa=Jt,fa=so,ga=P,ma=Xo,va=Zo,ya=qe,ba=Xn,wa=ot,xa=ft,_a=Qo,Aa=as,Ta=ds,Ea=xs,ka=Fs,Sa=Ws.forEach,Ca=yo("hidden"),Na="Symbol",Ma="prototype",Oa=ka.set,Ra=ka.getterFor(Na),Ia=Object[Ma],La=qs.Symbol,Pa=La&&La[Ma],Da=qs.RangeError,Ba=qs.TypeError,Fa=qs.QObject,za=da.f,$a=pa.f,ja=ua.f,Ua=ga.f,Ha=Ks([].push),Ga=ya("symbols"),Va=ya("op-symbols"),Wa=ya("wks"),Ya=!Fa||!Fa[Ma]||!Fa[Ma].findChild,qa=function(e,t,n){var r=za(Ia,t);r&&delete Ia[t],$a(e,t,n),r&&e!==Ia&&$a(Ia,t,r)},Xa=Zs&&Js(function(){return 7!==aa($a({},"a",{get:function(){return $a(this,"a",{value:7}).a}})).a})?qa:$a,Ka=function(e,t){var n=Ga[e]=aa(Pa);return Oa(n,{type:Na,tag:e,description:t}),Zs||(n.description=t),n},Za=function(e,t,n){e===Ia&&Za(Va,t,n),na(e);var r=ia(t);return na(n),ea(Ga,r)?(n.enumerable?(ea(e,Ca)&&e[Ca][r]&&(e[Ca][r]=!1),n=aa(n,{enumerable:sa(0,!1)})):(ea(e,Ca)||$a(e,Ca,sa(1,{})),e[Ca][r]=!0),Xa(e,r,n)):$a(e,r,n)},Qa=function(e,t){na(e);var n=ra(t),r=la(n).concat(nl(n));return Sa(r,function(t){Zs&&!Xs(Ja,n,t)||Za(e,t,n[t])}),e},Ja=function(e){var t=ia(e),n=Xs(Ua,this,t);return!(this===Ia&&ea(Ga,t)&&!ea(Va,t))&&(!(n||!ea(this,t)||!ea(Ga,t)||ea(this,Ca)&&this[Ca][t])||n)},el=function(e,t){var n=ra(e),r=ia(t);if(n!==Ia||!ea(Ga,r)||ea(Va,r)){var i=za(n,r);return!i||!ea(Ga,r)||ea(n,Ca)&&n[Ca][r]||(i.enumerable=!0),i}},tl=function(e){var t=ja(ra(e)),n=[];return Sa(t,function(e){ea(Ga,e)||ea(ba,e)||Ha(n,e)}),n},nl=function(e){var t=e===Ia,n=ja(t?Va:ra(e)),r=[];return Sa(n,function(e){!ea(Ga,e)||t&&!ea(Ia,e)||Ha(r,Ga[e])}),r};Qs||(La=function(){if(ta(Pa,this))throw new Ba("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?oa(arguments[0]):void 0,t=wa(e),n=function(e){this===Ia&&Xs(n,Va,e),ea(this,Ca)&&ea(this[Ca],t)&&(this[Ca][t]=!1);var r=sa(1,e);try{Xa(this,t,r)}catch(e){if(!(e instanceof Da))throw e;qa(this,t,r)}};return Zs&&Ya&&Xa(Ia,t,{configurable:!0,set:n}),Ka(t,e)},ma(Pa=La[Ma],"toString",function(){return Ra(this).tag}),ma(La,"withoutSetter",function(e){return Ka(wa(e),e)}),ga.f=Ja,pa.f=Za,fa.f=Qa,da.f=el,ca.f=ua.f=tl,ha.f=nl,_a.f=function(e){return Ka(xa(e),e)},Zs&&va(Pa,"description",{configurable:!0,get:function(){return Ra(this).description}})),Ys({global:!0,constructor:!0,wrap:!0,forced:!Qs,sham:!Qs},{Symbol:La}),Sa(la(Wa),function(e){Aa(e)}),Ys({target:Na,stat:!0,forced:!Qs},{useSetter:function(){Ya=!0},useSimple:function(){Ya=!1}}),Ys({target:"Object",stat:!0,forced:!Qs,sham:!Zs},{create:function(e,t){return void 0===t?aa(e):Qa(aa(e),t)},defineProperty:Za,defineProperties:Qa,getOwnPropertyDescriptor:el}),Ys({target:"Object",stat:!0,forced:!Qs},{getOwnPropertyNames:tl}),Ta(),Ea(La,Na),ba[Ca]=!0;var rl=xe&&!!Symbol.for&&!!Symbol.keyFor,il=On,ol=le,sl=et,al=oo,ll=qe,cl=rl,ul=ll("string-to-symbol-registry"),hl=ll("symbol-to-string-registry");il({target:"Symbol",stat:!0,forced:!cl},{for:function(e){var t=al(e);if(sl(ul,t))return ul[t];var n=ol("Symbol")(t);return ul[t]=n,hl[n]=t,n}});var dl=On,pl=et,fl=Se,gl=Ne,ml=rl,vl=qe("symbol-to-string-registry");dl({target:"Symbol",stat:!0,forced:!ml},{keyFor:function(e){if(!fl(e))throw new TypeError(gl(e)+" is not a symbol");if(pl(vl,e))return vl[e]}});var yl=Qr,bl=N,wl=_,xl=oo,_l=y([].push),Al=On,Tl=le,El=p,kl=L,Sl=y,Cl=a,Nl=N,Ml=Se,Ol=_r,Rl=function(e){if(bl(e))return e;if(yl(e)){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];"string"==typeof i?_l(n,i):"number"!=typeof i&&"Number"!==wl(i)&&"String"!==wl(i)||_l(n,xl(i))}var o=n.length,s=!0;return function(e,t){if(s)return s=!1,t;if(yl(this))return t;for(var r=0;r<o;r++)if(n[r]===e)return t}}},Il=xe,Ll=String,Pl=Tl("JSON","stringify"),Dl=Sl(/./.exec),Bl=Sl("".charAt),Fl=Sl("".charCodeAt),zl=Sl("".replace),$l=Sl(1..toString),jl=/[\uD800-\uDFFF]/g,Ul=/^[\uD800-\uDBFF]$/,Hl=/^[\uDC00-\uDFFF]$/,Gl=!Il||Cl(function(){var e=Tl("Symbol")("stringify detection");return"[null]"!==Pl([e])||"{}"!==Pl({a:e})||"{}"!==Pl(Object(e))}),Vl=Cl(function(){return'"\\udf06\\ud834"'!==Pl("\udf06\ud834")||'"\\udead"'!==Pl("\udead")}),Wl=function(e,t){var n=Ol(arguments),r=Rl(t);if(Nl(r)||void 0!==e&&!Ml(e))return n[1]=function(e,t){if(Nl(r)&&(t=kl(r,this,Ll(e),t)),!Ml(t))return t},El(Pl,null,n)},Yl=function(e,t,n){var r=Bl(n,t-1),i=Bl(n,t+1);return Dl(Ul,e)&&!Dl(Hl,i)||Dl(Hl,e)&&!Dl(Ul,r)?"\\u"+$l(Fl(e,0),16):e};Pl&&Al({target:"JSON",stat:!0,arity:3,forced:Gl||Vl},{stringify:function(e,t,n){var r=Ol(arguments),i=El(Gl?Wl:Pl,null,r);return Vl&&"string"==typeof i?zl(i,jl,Yl):i}});var ql=sr,Xl=Ze;On({target:"Object",stat:!0,forced:!xe||a(function(){ql.f(1)})},{getOwnPropertySymbols:function(e){var t=ql.f;return t?t(Xl(e)):[]}}),as("asyncIterator"),as("hasInstance"),as("isConcatSpreadable"),as("iterator"),as("match"),as("matchAll"),as("replace"),as("search"),as("species"),as("split");var Kl=ds;as("toPrimitive"),Kl();var Zl=le,Ql=xs;as("toStringTag"),Ql(Zl("Symbol"),"Symbol"),as("unscopables"),xs(s.JSON,"JSON",!0);var Jl,ec,tc,nc=re.Symbol,rc={},ic=O,oc=et,sc=Function.prototype,ac=ic&&Object.getOwnPropertyDescriptor,lc=oc(sc,"name"),cc={EXISTS:lc,PROPER:lc&&"something"===function(){}.name,CONFIGURABLE:lc&&(!ic||ic&&ac(sc,"name").configurable)},uc=!a(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),hc=et,dc=N,pc=Ze,fc=uc,gc=yo("IE_PROTO"),mc=Object,vc=mc.prototype,yc=fc?mc.getPrototypeOf:function(e){var t=pc(e);if(hc(t,gc))return t[gc];var n=t.constructor;return dc(n)&&t instanceof n?n.prototype:t instanceof mc?vc:null},bc=a,wc=N,xc=ne,_c=Ro,Ac=yc,Tc=Xo,Ec=ft("iterator"),kc=!1;[].keys&&("next"in(tc=[].keys())?(ec=Ac(Ac(tc)))!==Object.prototype&&(Jl=ec):kc=!0);var Sc=!xc(Jl)||bc(function(){var e={};return Jl[Ec].call(e)!==e});wc((Jl=Sc?{}:_c(Jl))[Ec])||Tc(Jl,Ec,function(){return this});var Cc={IteratorPrototype:Jl,BUGGY_SAFARI_ITERATORS:kc},Nc=Cc.IteratorPrototype,Mc=Ro,Oc=j,Rc=xs,Ic=rc,Lc=function(){return this},Pc=On,Dc=L,Bc=function(e,t,n,r){var i=t+" Iterator";return e.prototype=Mc(Nc,{next:Oc(+!r,n)}),Rc(e,i,!1,!0),Ic[i]=Lc,e},Fc=yc,zc=xs,$c=Xo,jc=rc,Uc=Cc,Hc=cc.PROPER,Gc=Uc.BUGGY_SAFARI_ITERATORS,Vc=ft("iterator"),Wc="keys",Yc="values",qc="entries",Xc=function(){return this},Kc=function(e,t,n,r,i,o,s){Bc(n,t,r);var a,l,c,u=function(e){if(e===i&&g)return g;if(!Gc&&e&&e in p)return p[e];switch(e){case Wc:case Yc:case qc:return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",d=!1,p=e.prototype,f=p[Vc]||p["@@iterator"]||i&&p[i],g=!Gc&&f||u(i),m="Array"===t&&p.entries||f;if(m&&(a=Fc(m.call(new e)))!==Object.prototype&&a.next&&(zc(a,h,!0,!0),jc[h]=Xc),Hc&&i===Yc&&f&&f.name!==Yc&&(d=!0,g=function(){return Dc(f,this)}),i)if(l={values:u(Yc),keys:o?g:u(Wc),entries:u(qc)},s)for(c in l)(Gc||d||!(c in p))&&$c(p,c,l[c]);else Pc({target:t,proto:!0,forced:Gc||d},l);return s&&p[Vc]!==g&&$c(p,Vc,g,{name:i}),jc[t]=g,l},Zc=function(e,t){return{value:e,done:t}},Qc=J,Jc=rc,eu=Fs;Jt.f;var tu=Kc,nu=Zc,ru="Array Iterator",iu=eu.set,ou=eu.getterFor(ru);tu(Array,"Array",function(e,t){iu(this,{type:ru,target:Qc(e),index:0,kind:t})},function(){var e=ou(this),t=e.target,n=e.kind,r=e.index++;if(!t||r>=t.length)return e.target=void 0,nu(void 0,!0);switch(n){case"keys":return nu(r,!1);case"values":return nu(t[r],!1)}return nu([r,t[r]],!1)},"values"),Jc.Arguments=Jc.Array;var su={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},au=s,lu=pi,cu=bn,uu=rc,hu=ft("toStringTag");for(var du in su){var pu=au[du],fu=pu&&pu.prototype;fu&&lu(fu)!==hu&&cu(fu,hu,du),uu[du]=uu.Array}var gu=nc,mu=i(gu),vu=On,yu=Qr,bu=Oi,wu=ne,xu=zn,_u=Hn,Au=J,Tu=ii,Eu=ft,ku=_r,Su=Ui("slice"),Cu=Eu("species"),Nu=Array,Mu=Math.max;vu({target:"Array",proto:!0,forced:!Su},{slice:function(e,t){var n,r,i,o=Au(this),s=_u(o),a=xu(e,s),l=xu(void 0===t?s:t,s);if(yu(o)&&(n=o.constructor,(bu(n)&&(n===Nu||yu(n.prototype))||wu(n)&&null===(n=n[Cu]))&&(n=void 0),n===Nu||void 0===n))return ku(o,a,l);for(r=new(void 0===n?Nu:n)(Mu(l-a,0)),i=0;a<l;a++,i++)a in o&&Tu(r,i,o[a]);return r.length=i,r}});var Ou=Dr("Array").slice,Ru=ce,Iu=Ou,Lu=Array.prototype,Pu=function(e){var t=e.slice;return e===Lu||Ru(Lu,e)&&t===Lu.slice?Iu:t},Du=i(Pu),Bu=le,Fu=Io,zu=sr,$u=on,ju=y([].concat),Uu=Bu("Reflect","ownKeys")||function(e){var t=Fu.f($u(e)),n=zu.f;return n?ju(t,n(e)):t};On({target:"Array",stat:!0},{isArray:Qr});var Hu=i(re.Array.isArray),Gu=Ws.map;On({target:"Array",proto:!0,forced:!Ui("map")},{map:function(e){return Gu(this,e,arguments.length>1?arguments[1]:void 0)}});var Vu=Dr("Array").map,Wu=ce,Yu=Vu,qu=Array.prototype,Xu=function(e){var t=e.map;return e===qu||Wu(qu,e)&&t===qu.map?Yu:t},Ku=i(Xu),Zu=Ze,Qu=or;On({target:"Object",stat:!0,forced:a(function(){Qu(1)})},{keys:function(e){return Qu(Zu(e))}});var Ju=i(re.Object.keys),eh=On,th=Date,nh=y(th.prototype.getTime);eh({target:"Date",stat:!0},{now:function(){return nh(new th)}});var rh=i(re.Date.now),ih=a,oh=function(e,t){var n=[][e];return!!n&&ih(function(){n.call(null,t||function(){return 1},1)})},sh=Ws.forEach,ah=oh("forEach")?[].forEach:function(e){return sh(this,e,arguments.length>1?arguments[1]:void 0)};On({target:"Array",proto:!0,forced:[].forEach!==ah},{forEach:ah});var lh=Dr("Array").forEach,ch=pi,uh=et,hh=ce,dh=lh,ph=Array.prototype,fh={DOMTokenList:!0,NodeList:!0},gh=function(e){var t=e.forEach;return e===ph||hh(ph,e)&&t===ph.forEach||uh(fh,ch(e))?dh:t},mh=i(gh),vh=On,yh=Qr,bh=y([].reverse),wh=[1,2];vh({target:"Array",proto:!0,forced:String(wh)===String(wh.reverse())},{reverse:function(){return yh(this)&&(this.length=this.length),bh(this)}});var xh=Dr("Array").reverse,_h=ce,Ah=xh,Th=Array.prototype,Eh=function(e){var t=e.reverse;return e===Th||_h(Th,e)&&t===Th.reverse?Ah:t},kh=i(Eh),Sh=O,Ch=Qr,Nh=TypeError,Mh=Object.getOwnPropertyDescriptor,Oh=Sh&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),Rh=Ne,Ih=TypeError,Lh=function(e,t){if(!delete e[t])throw new Ih("Cannot delete property "+Rh(t)+" of "+Rh(e))},Ph=On,Dh=Ze,Bh=zn,Fh=Pn,zh=Hn,$h=Oh?function(e,t){if(Ch(e)&&!Mh(e,"length").writable)throw new Nh("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},jh=ei,Uh=Fi,Hh=ii,Gh=Lh,Vh=Ui("splice"),Wh=Math.max,Yh=Math.min;Ph({target:"Array",proto:!0,forced:!Vh},{splice:function(e,t){var n,r,i,o,s,a,l=Dh(this),c=zh(l),u=Bh(e,c),h=arguments.length;for(0===h?n=r=0:1===h?(n=0,r=c-u):(n=h-2,r=Yh(Wh(Fh(t),0),c-u)),jh(c+n-r),i=Uh(l,r),o=0;o<r;o++)(s=u+o)in l&&Hh(i,o,l[s]);if(i.length=r,n<r){for(o=u;o<c-r;o++)a=o+n,(s=o+r)in l?l[a]=l[s]:Gh(l,a);for(o=c;o>c-r+n;o--)Gh(l,o-1)}else if(n>r)for(o=c-r;o>u;o--)a=o+n-1,(s=o+r-1)in l?l[a]=l[s]:Gh(l,a);for(o=0;o<n;o++)l[o+u]=arguments[o+2];return $h(l,c-r+n),i}});var qh=Dr("Array").splice,Xh=ce,Kh=qh,Zh=Array.prototype,Qh=function(e){var t=e.splice;return e===Zh||Xh(Zh,e)&&t===Zh.splice?Kh:t},Jh=i(Qh),ed=qn.includes;On({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(e){return ed(this,e,arguments.length>1?arguments[1]:void 0)}});var td=Dr("Array").includes,nd=ne,rd=_,id=ft("match"),od=function(e){var t;return nd(e)&&(void 0!==(t=e[id])?!!t:"RegExp"===rd(e))},sd=TypeError,ad=ft("match"),ld=On,cd=function(e){if(od(e))throw new sd("The method doesn't accept regular expressions");return e},ud=K,hd=oo,dd=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[ad]=!1,"/./"[e](t)}catch(e){}}return!1},pd=y("".indexOf);ld({target:"String",proto:!0,forced:!dd("includes")},{includes:function(e){return!!~pd(hd(ud(this)),hd(cd(e)),arguments.length>1?arguments[1]:void 0)}});var fd=Dr("String").includes,gd=ce,md=td,vd=fd,yd=Array.prototype,bd=String.prototype,wd=function(e){var t=e.includes;return e===yd||gd(yd,e)&&t===yd.includes?md:"string"==typeof e||e===bd||gd(bd,e)&&t===bd.includes?vd:t},xd=i(wd),_d=Ze,Ad=yc,Td=uc;On({target:"Object",stat:!0,forced:a(function(){Ad(1)}),sham:!Td},{getPrototypeOf:function(e){return Ad(_d(e))}});var Ed=i(re.Object.getPrototypeOf),kd=Dr("Array").concat,Sd=ce,Cd=kd,Nd=Array.prototype,Md=function(e){var t=e.concat;return e===Nd||Sd(Nd,e)&&t===Nd.concat?Cd:t},Od=(i(Md),Ws.filter);On({target:"Array",proto:!0,forced:!Ui("filter")},{filter:function(e){return Od(this,e,arguments.length>1?arguments[1]:void 0)}});var Rd=Dr("Array").filter,Id=ce,Ld=Rd,Pd=Array.prototype,Dd=function(e){var t=e.filter;return e===Pd||Id(Pd,e)&&t===Pd.filter?Ld:t},Bd=i(Dd),Fd=O,zd=a,$d=y,jd=yc,Ud=or,Hd=J,Gd=$d(P.f),Vd=$d([].push),Wd=Fd&&zd(function(){var e=Object.create(null);return e[2]=2,!Gd(e,2)}),Yd=function(e){return function(t){for(var n,r=Hd(t),i=Ud(r),o=Wd&&null===jd(r),s=i.length,a=0,l=[];s>a;)n=i[a++],Fd&&!(o?n in r:Gd(r,n))||Vd(l,e?[n,r[n]]:r[n]);return l}},qd=(Yd(!0),Yd(!1));On({target:"Object",stat:!0},{values:function(e){return qd(e)}});var Xd=i(re.Object.values),Kd="\t\n\v\f\r                　\u2028\u2029\ufeff",Zd=K,Qd=oo,Jd=Kd,ep=y("".replace),tp=RegExp("^["+Jd+"]+"),np=RegExp("(^|[^"+Jd+"])["+Jd+"]+$"),rp=function(e){return function(t){var n=Qd(Zd(t));return 1&e&&(n=ep(n,tp,"")),2&e&&(n=ep(n,np,"$1")),n}},ip={start:rp(1),end:rp(2),trim:rp(3)},op=s,sp=a,ap=y,lp=oo,cp=ip.trim,up=Kd,hp=op.parseInt,dp=op.Symbol,pp=dp&&dp.iterator,fp=/^[+-]?0x/i,gp=ap(fp.exec),mp=8!==hp(up+"08")||22!==hp(up+"0x16")||pp&&!sp(function(){hp(Object(pp))})?function(e,t){var n=cp(lp(e));return hp(n,t>>>0||(gp(fp,n)?16:10))}:hp;On({global:!0,forced:parseInt!==mp},{parseInt:mp});var vp=i(re.parseInt),yp=On,bp=qn.indexOf,wp=oh,xp=E([].indexOf),_p=!!xp&&1/xp([1],1,-0)<0;yp({target:"Array",proto:!0,forced:_p||!wp("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return _p?xp(this,e,t)||0:bp(this,e,t)}});var Ap=Dr("Array").indexOf,Tp=ce,Ep=Ap,kp=Array.prototype,Sp=function(e){var t=e.indexOf;return e===kp||Tp(kp,e)&&t===kp.indexOf?Ep:t},Cp=i(Sp);On({target:"Object",stat:!0,sham:!O},{create:Ro});var Np=re.Object,Mp=i(function(e,t){return Np.create(e,t)}),Op=re,Rp=p;Op.JSON||(Op.JSON={stringify:JSON.stringify});var Ip=function(e,t,n){return Rp(Op.JSON.stringify,null,arguments)},Lp=i(Ip),Pp="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,Dp=TypeError,Bp=s,Fp=p,zp=N,$p=Pp,jp=ue,Up=_r,Hp=function(e,t){if(e<t)throw new Dp("Not enough arguments");return e},Gp=Bp.Function,Vp=/MSIE .\./.test(jp)||$p&&function(){var e=Bp.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}(),Wp=function(e,t){var n=t?2:1;return Vp?function(r,i){var o=Hp(arguments.length,1)>n,s=zp(r)?r:Gp(r),a=o?Up(arguments,n):[],l=o?function(){Fp(s,this,a)}:s;return t?e(l,i):e(l)}:e},Yp=On,qp=s,Xp=Wp(qp.setInterval,!0);Yp({global:!0,bind:!0,forced:qp.setInterval!==Xp},{setInterval:Xp});var Kp=On,Zp=s,Qp=Wp(Zp.setTimeout,!0);Kp({global:!0,bind:!0,forced:Zp.setTimeout!==Qp},{setTimeout:Qp});var Jp=i(re.setTimeout),ef=Ze,tf=zn,nf=Hn,rf=function(e){for(var t=ef(this),n=nf(t),r=arguments.length,i=tf(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,s=void 0===o?n:tf(o,n);s>i;)t[i++]=e;return t};On({target:"Array",proto:!0},{fill:rf});var of,sf=Dr("Array").fill,af=ce,lf=sf,cf=Array.prototype,uf=function(e){var t=e.fill;return e===cf||af(cf,e)&&t===cf.fill?lf:t},hf=i(uf);function df(){return df=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},df.apply(this,arguments)}function pf(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ff(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}of="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var gf,mf=of,vf=["","webkit","Moz","MS","ms","o"],yf="undefined"==typeof document?{style:{}}:document.createElement("div"),bf=Math.round,wf=Math.abs,xf=Date.now;function _f(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<vf.length;){if((r=(n=vf[o])?n+i:t)in e)return r;o++}}gf="undefined"==typeof window?{}:window;var Af=_f(yf.style,"touchAction"),Tf=void 0!==Af,Ef="compute",kf="auto",Sf="manipulation",Cf="none",Nf="pan-x",Mf="pan-y",Of=function(){if(!Tf)return!1;var e={},t=gf.CSS&&gf.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){return e[n]=!t||gf.CSS.supports("touch-action",n)}),e}(),Rf="ontouchstart"in gf,If=void 0!==_f(gf,"PointerEvent"),Lf=Rf&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Pf="touch",Df="mouse",Bf=25,Ff=1,zf=4,$f=8,jf=1,Uf=2,Hf=4,Gf=8,Vf=16,Wf=Uf|Hf,Yf=Gf|Vf,qf=Wf|Yf,Xf=["x","y"],Kf=["clientX","clientY"];function Zf(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function Qf(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function Jf(e,t){return e.indexOf(t)>-1}var eg=function(){function e(e,t){this.manager=e,this.set(t)}var t=e.prototype;return t.set=function(e){e===Ef&&(e=this.compute()),Tf&&this.manager.element.style&&Of[e]&&(this.manager.element.style[Af]=e),this.actions=e.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var e=[];return Zf(this.manager.recognizers,function(t){Qf(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(Jf(e,Cf))return Cf;var t=Jf(e,Nf),n=Jf(e,Mf);return t&&n?Cf:t||n?t?Nf:Mf:Jf(e,Sf)?Sf:kf}(e.join(" "))},t.preventDefaults=function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=Jf(r,Cf)&&!Of[Cf],o=Jf(r,Mf)&&!Of[Mf],s=Jf(r,Nf)&&!Of[Nf];if(i){var a=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(a&&l&&c)return}if(!s||!o)return i||o&&n&Wf||s&&n&Yf?this.preventSrc(t):void 0}},t.preventSrc=function(e){this.manager.session.prevented=!0,e.preventDefault()},e}();function tg(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function ng(e){var t=e.length;if(1===t)return{x:bf(e[0].clientX),y:bf(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:bf(n/t),y:bf(r/t)}}function rg(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:bf(e.pointers[n].clientX),clientY:bf(e.pointers[n].clientY)},n++;return{timeStamp:xf(),pointers:t,center:ng(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ig(e,t,n){n||(n=Xf);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function og(e,t,n){n||(n=Xf);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}function sg(e,t){return e===t?jf:wf(e)>=wf(t)?e<0?Uf:Hf:t<0?Gf:Vf}function ag(e,t,n){return{x:t/e||0,y:n/e||0}}function lg(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=rg(t)),i>1&&!n.firstMultiple?n.firstMultiple=rg(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=t.center=ng(r);t.timeStamp=xf(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=og(a,l),t.distance=ig(a,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==Ff&&o.eventType!==zf||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=sg(t.deltaX,t.deltaY);var c,u,h=ag(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=h.x,t.overallVelocityY=h.y,t.overallVelocity=wf(h.x)>wf(h.y)?h.x:h.y,t.scale=s?(c=s.pointers,ig((u=r)[0],u[1],Kf)/ig(c[0],c[1],Kf)):1,t.rotation=s?function(e,t){return og(t[1],t[0],Kf)+og(e[1],e[0],Kf)}(s.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,s=e.lastInterval||t,a=t.timeStamp-s.timeStamp;if(t.eventType!==$f&&(a>Bf||void 0===s.velocity)){var l=t.deltaX-s.deltaX,c=t.deltaY-s.deltaY,u=ag(a,l,c);r=u.x,i=u.y,n=wf(u.x)>wf(u.y)?u.x:u.y,o=sg(l,c),e.lastInterval=t}else n=s.velocity,r=s.velocityX,i=s.velocityY,o=s.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var d,p=e.element,f=t.srcEvent;tg(d=f.composedPath?f.composedPath()[0]:f.path?f.path[0]:f.target,p)&&(p=d),t.target=p}function cg(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&Ff&&r-i==0,s=t&(zf|$f)&&r-i==0;n.isFirst=!!o,n.isFinal=!!s,o&&(e.session={}),n.eventType=t,lg(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ug(e){return e.trim().split(/\s+/g)}function hg(e,t,n){Zf(ug(t),function(t){e.addEventListener(t,n,!1)})}function dg(e,t,n){Zf(ug(t),function(t){e.removeEventListener(t,n,!1)})}function pg(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var fg=function(){function e(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){Qf(e.options.enable,[e])&&n.handler(t)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&hg(this.element,this.evEl,this.domHandler),this.evTarget&&hg(this.target,this.evTarget,this.domHandler),this.evWin&&hg(pg(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&dg(this.element,this.evEl,this.domHandler),this.evTarget&&dg(this.target,this.evTarget,this.domHandler),this.evWin&&dg(pg(this.element),this.evWin,this.domHandler)},e}();function gg(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}var mg={pointerdown:Ff,pointermove:2,pointerup:zf,pointercancel:$f,pointerout:$f},vg={2:Pf,3:"pen",4:Df,5:"kinect"},yg="pointerdown",bg="pointermove pointerup pointercancel";gf.MSPointerEvent&&!gf.PointerEvent&&(yg="MSPointerDown",bg="MSPointerMove MSPointerUp MSPointerCancel");var wg=function(e){function t(){var n,r=t.prototype;return r.evEl=yg,r.evWin=bg,(n=e.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return pf(t,e),t.prototype.handler=function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=mg[r],o=vg[e.pointerType]||e.pointerType,s=o===Pf,a=gg(t,e.pointerId,"pointerId");i&Ff&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):i&(zf|$f)&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))},t}(fg);function xg(e){return Array.prototype.slice.call(e,0)}function _g(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];gg(i,s)<0&&r.push(e[o]),i[o]=s,o++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}var Ag={touchstart:Ff,touchmove:2,touchend:zf,touchcancel:$f},Tg=function(e){function t(){var n;return t.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).targetIds={},n}return pf(t,e),t.prototype.handler=function(e){var t=Ag[e.type],n=Eg.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Pf,srcEvent:e})},t}(fg);function Eg(e,t){var n,r,i=xg(e.touches),o=this.targetIds;if(t&(2|Ff)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var s=xg(e.changedTouches),a=[],l=this.target;if(r=i.filter(function(e){return tg(e.target,l)}),t===Ff)for(n=0;n<r.length;)o[r[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),t&(zf|$f)&&delete o[s[n].identifier],n++;return a.length?[_g(r.concat(a),"identifier",!0),a]:void 0}var kg={mousedown:Ff,mousemove:2,mouseup:zf},Sg=function(e){function t(){var n,r=t.prototype;return r.evEl="mousedown",r.evWin="mousemove mouseup",(n=e.apply(this,arguments)||this).pressed=!1,n}return pf(t,e),t.prototype.handler=function(e){var t=kg[e.type];t&Ff&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=zf),this.pressed&&(t&zf&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Df,srcEvent:e}))},t}(fg),Cg=2500;function Ng(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},r=this.lastTouches;this.lastTouches.push(n),setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},Cg)}}function Mg(e,t){e&Ff?(this.primaryTouch=t.changedPointers[0].identifier,Ng.call(this,t)):e&(zf|$f)&&Ng.call(this,t)}function Og(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),s=Math.abs(n-i.y);if(o<=25&&s<=25)return!0}return!1}var Rg=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handler=function(e,t,n){var i=n.pointerType===Pf,o=n.pointerType===Df;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)Mg.call(ff(ff(r)),t,n);else if(o&&Og.call(ff(ff(r)),n))return;r.callback(e,t,n)}},r.touch=new Tg(r.manager,r.handler),r.mouse=new Sg(r.manager,r.handler),r.primaryTouch=null,r.lastTouches=[],r}return pf(t,e),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(fg);function Ig(e,t,n){return!!Array.isArray(e)&&(Zf(e,n[t],n),!0)}var Lg=32,Pg=1;function Dg(e,t){var n=t.manager;return n?n.get(e):e}function Bg(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}var Fg=function(){function e(e){void 0===e&&(e={}),this.options=df({enable:!0},e),this.id=Pg++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(e){return mf(this.options,e),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(e){if(Ig(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Dg(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},t.dropRecognizeWith=function(e){return Ig(e,"dropRecognizeWith",this)||(e=Dg(e,this),delete this.simultaneous[e.id]),this},t.requireFailure=function(e){if(Ig(e,"requireFailure",this))return this;var t=this.requireFail;return-1===gg(t,e=Dg(e,this))&&(t.push(e),e.requireFailure(this)),this},t.dropRequireFailure=function(e){if(Ig(e,"dropRequireFailure",this))return this;e=Dg(e,this);var t=gg(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(e){return!!this.simultaneous[e.id]},t.emit=function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Bg(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Bg(n))},t.tryEmit=function(e){if(this.canEmit())return this.emit(e);this.state=Lg},t.canEmit=function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},t.recognize=function(e){var t=mf({},e);if(!Qf(this.options.enable,[this,t]))return this.reset(),void(this.state=Lg);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},t.process=function(e){},t.getTouchAction=function(){},t.reset=function(){},e}(),zg=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,df({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},t))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}pf(t,e);var n=t.prototype;return n.getTouchAction=function(){return[Sf]},n.process=function(e){var t=this,n=this.options,r=e.pointers.length===n.pointers,i=e.distance<n.threshold,o=e.deltaTime<n.time;if(this.reset(),e.eventType&Ff&&0===this.count)return this.failTimeout();if(i&&o&&r){if(e.eventType!==zf)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<n.interval,a=!this.pCenter||ig(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&s?this.count+=1:this.count=1,this._input=e,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){t.state=8,t.tryEmit()},n.interval),2):8}return Lg},n.failTimeout=function(){var e=this;return this._timer=setTimeout(function(){e.state=Lg},this.options.interval),Lg},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(Fg),$g=function(e){function t(t){return void 0===t&&(t={}),e.call(this,df({pointers:1},t))||this}pf(t,e);var n=t.prototype;return n.attrTest=function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},n.process=function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(n&$f||!i)?16|t:r||i?n&zf?8|t:2&t?4|t:2:Lg},t}(Fg);function jg(e){return e===Vf?"down":e===Gf?"up":e===Uf?"left":e===Hf?"right":""}var Ug=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,df({event:"pan",threshold:10,pointers:1,direction:qf},t))||this).pX=null,n.pY=null,n}pf(t,e);var n=t.prototype;return n.getTouchAction=function(){var e=this.options.direction,t=[];return e&Wf&&t.push(Mf),e&Yf&&t.push(Nf),t},n.directionTest=function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,s=e.deltaY;return i&t.direction||(t.direction&Wf?(i=0===o?jf:o<0?Uf:Hf,n=o!==this.pX,r=Math.abs(e.deltaX)):(i=0===s?jf:s<0?Gf:Vf,n=s!==this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},n.attrTest=function(e){return $g.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},n.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var n=jg(t.direction);n&&(t.additionalEvent=this.options.event+n),e.prototype.emit.call(this,t)},t}($g),Hg=function(e){function t(t){return void 0===t&&(t={}),e.call(this,df({event:"swipe",threshold:10,velocity:.3,direction:Wf|Yf,pointers:1},t))||this}pf(t,e);var n=t.prototype;return n.getTouchAction=function(){return Ug.prototype.getTouchAction.call(this)},n.attrTest=function(t){var n,r=this.options.direction;return r&(Wf|Yf)?n=t.overallVelocity:r&Wf?n=t.overallVelocityX:r&Yf&&(n=t.overallVelocityY),e.prototype.attrTest.call(this,t)&&r&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&wf(n)>this.options.velocity&&t.eventType&zf},n.emit=function(e){var t=jg(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)},t}($g),Gg=function(e){function t(t){return void 0===t&&(t={}),e.call(this,df({event:"pinch",threshold:0,pointers:2},t))||this}pf(t,e);var n=t.prototype;return n.getTouchAction=function(){return[Cf]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},n.emit=function(t){if(1!==t.scale){var n=t.scale<1?"in":"out";t.additionalEvent=this.options.event+n}e.prototype.emit.call(this,t)},t}($g),Vg=function(e){function t(t){return void 0===t&&(t={}),e.call(this,df({event:"rotate",threshold:0,pointers:2},t))||this}pf(t,e);var n=t.prototype;return n.getTouchAction=function(){return[Cf]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)},t}($g),Wg=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,df({event:"press",pointers:1,time:251,threshold:9},t))||this)._timer=null,n._input=null,n}pf(t,e);var n=t.prototype;return n.getTouchAction=function(){return[kf]},n.process=function(e){var t=this,n=this.options,r=e.pointers.length===n.pointers,i=e.distance<n.threshold,o=e.deltaTime>n.time;if(this._input=e,!i||!r||e.eventType&(zf|$f)&&!o)this.reset();else if(e.eventType&Ff)this.reset(),this._timer=setTimeout(function(){t.state=8,t.tryEmit()},n.time);else if(e.eventType&zf)return 8;return Lg},n.reset=function(){clearTimeout(this._timer)},n.emit=function(e){8===this.state&&(e&&e.eventType&zf?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=xf(),this.manager.emit(this.options.event,this._input)))},t}(Fg),Yg={domEvents:!1,touchAction:Ef,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},qg=[[Vg,{enable:!1}],[Gg,{enable:!1},["rotate"]],[Hg,{direction:Wf}],[Ug,{direction:Wf},["swipe"]],[zg],[zg,{event:"doubletap",taps:2},["tap"]],[Wg]];function Xg(e,t){var n,r=e.element;r.style&&(Zf(e.options.cssProps,function(i,o){n=_f(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}var Kg=function(){function e(e,t){var n,r=this;this.options=mf({},Yg,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(If?wg:Lf?Tg:Rf?Rg:Sg))(n,cg),this.touchAction=new eg(this,this.options.touchAction),Xg(this,!0),Zf(this.options.recognizers,function(e){var t=r.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}var t=e.prototype;return t.set=function(e){return mf(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},t.stop=function(e){this.session.stopped=e?2:1},t.recognize=function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(t.curRecognizer=null,i=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!==i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(t.curRecognizer=n,i=n),o++}},t.get=function(e){if(e instanceof Fg)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event===e)return t[n];return null},t.add=function(e){if(Ig(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},t.remove=function(e){if(Ig(e,"remove",this))return this;var t=this.get(e);if(e){var n=this.recognizers,r=gg(n,t);-1!==r&&(n.splice(r,1),this.touchAction.update())}return this},t.on=function(e,t){if(void 0===e||void 0===t)return this;var n=this.handlers;return Zf(ug(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},t.off=function(e,t){if(void 0===e)return this;var n=this.handlers;return Zf(ug(e),function(e){t?n[e]&&n[e].splice(gg(n[e],t),1):delete n[e]}),this},t.emit=function(e,t){this.options.domEvents&&function(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},t.destroy=function(){this.element&&Xg(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),Zg={touchstart:Ff,touchmove:2,touchend:zf,touchcancel:$f},Qg=function(e){function t(){var n,r=t.prototype;return r.evTarget="touchstart",r.evWin="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).started=!1,n}return pf(t,e),t.prototype.handler=function(e){var t=Zg[e.type];if(t===Ff&&(this.started=!0),this.started){var n=Jg.call(this,e,t);t&(zf|$f)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Pf,srcEvent:e})}},t}(fg);function Jg(e,t){var n=xg(e.touches),r=xg(e.changedTouches);return t&(zf|$f)&&(n=_g(n.concat(r),"identifier",!0)),[n,r]}function em(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=window.console&&(window.console.warn||window.console.log);return i&&i.call(window.console,r,n),e.apply(this,arguments)}}var tm=em(function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&void 0===e[r[i]])&&(e[r[i]]=t[r[i]]),i++;return e},"extend","Use `assign`."),nm=em(function(e,t){return tm(e,t,!0)},"merge","Use `assign`.");function rm(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&mf(r,n)}function im(e,t){return function(){return e.apply(t,arguments)}}var om=function(){var e=function(e,t){return void 0===t&&(t={}),new Kg(e,df({recognizers:qg.concat()},t))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=qf,e.DIRECTION_DOWN=Vf,e.DIRECTION_LEFT=Uf,e.DIRECTION_RIGHT=Hf,e.DIRECTION_UP=Gf,e.DIRECTION_HORIZONTAL=Wf,e.DIRECTION_VERTICAL=Yf,e.DIRECTION_NONE=jf,e.DIRECTION_DOWN=Vf,e.INPUT_START=Ff,e.INPUT_MOVE=2,e.INPUT_END=zf,e.INPUT_CANCEL=$f,e.STATE_POSSIBLE=1,e.STATE_BEGAN=2,e.STATE_CHANGED=4,e.STATE_ENDED=8,e.STATE_RECOGNIZED=8,e.STATE_CANCELLED=16,e.STATE_FAILED=Lg,e.Manager=Kg,e.Input=fg,e.TouchAction=eg,e.TouchInput=Tg,e.MouseInput=Sg,e.PointerEventInput=wg,e.TouchMouseInput=Rg,e.SingleTouchInput=Qg,e.Recognizer=Fg,e.AttrRecognizer=$g,e.Tap=zg,e.Pan=Ug,e.Swipe=Hg,e.Pinch=Gg,e.Rotate=Vg,e.Press=Wg,e.on=hg,e.off=dg,e.each=Zf,e.merge=nm,e.extend=tm,e.bindFn=im,e.assign=mf,e.inherit=rm,e.bindFn=im,e.prefixed=_f,e.toArray=xg,e.inArray=gg,e.uniqueArray=_g,e.splitStr=ug,e.boolOrFn=Qf,e.hasParent=tg,e.addEventListeners=hg,e.removeEventListeners=dg,e.defaults=mf({},Yg,{preset:qg}),e}();om.defaults;var sm=om;function am(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){let[t,n,r]=function(){const e=function(){let e=4022871197;return function(t){const n=t.toString();for(let t=0;t<n.length;t++){e+=n.charCodeAt(t);let r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)}}();let t=e(" "),n=e(" "),r=e(" ");for(let i=0;i<arguments.length;i++)t-=e(i<0||arguments.length<=i?void 0:arguments[i]),t<0&&(t+=1),n-=e(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1),r-=e(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1);return[t,n,r]}(e),i=1;const o=()=>{const e=2091639*t+2.3283064365386963e-10*i;return t=n,n=r,r=e-(i=0|e)};return o.uint32=()=>4294967296*o(),o.fract53=()=>o()+11102230246251565e-32*(2097152*o()|0),o.algorithm="Alea",o.seed=e,o.version="0.9",o}(t.length?t:[rh()])}mu("DELETE");const lm="undefined"!=typeof window?window.Hammer||sm:function(){return function(){const e=()=>{};return{on:e,off:e,destroy:e,emit:e,get:()=>({set:e})}}()};function cm(e){var t;this._cleanupQueue=[],this.active=!1,this._dom={container:e,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const n=lm(this._dom.overlay);n.on("tap",Ur(t=this._onTapOverlay).call(t,this)),this._cleanupQueue.push(()=>{n.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];mh(r).call(r,e=>{n.on(e,e=>{e.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=t=>{(function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1})(t.target,e)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=e=>{("key"in e?"Escape"===e.key:27===e.keyCode)&&this.deactivate()}}Kr(cm.prototype),cm.current=null,cm.prototype.destroy=function(){this.deactivate();for(const n of kh(e=Jh(t=this._cleanupQueue).call(t,0)).call(e)){var e,t;n()}},cm.prototype.activate=function(){cm.current&&cm.current.deactivate(),cm.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},cm.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},cm.prototype._onTapOverlay=function(e){this.activate(),e.srcEvent.stopPropagation()};const um=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,hm=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,dm=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,pm=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function fm(e){if(e)for(;!0===e.hasChildNodes();){const t=e.firstChild;t&&(fm(t),e.removeChild(t))}}function gm(e){return e instanceof String||"string"==typeof e}function mm(e){return"object"==typeof e&&null!==e}function vm(e,t,n,r){let i=!1;!0===r&&(i=null===t[n]&&void 0!==e[n]),i?delete e[n]:e[n]=t[n]}function ym(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(const r in e)if(void 0!==t[r])if(null===t[r]||"object"!=typeof t[r])vm(e,t,r,n);else{const i=e[r],o=t[r];mm(i)&&mm(o)&&ym(i,o,n)}}function bm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Hu(n))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<e.length;i++){const o=e[i];if(Object.prototype.hasOwnProperty.call(n,o))if(n[o]&&n[o].constructor===Object)void 0===t[o]&&(t[o]={}),t[o].constructor===Object?xm(t[o],n[o],!1,r):vm(t,n,o,r);else{if(Hu(n[o]))throw new TypeError("Arrays are not supported by deepExtend");vm(t,n,o,r)}}return t}function wm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Hu(n))throw new TypeError("Arrays are not supported by deepExtend");for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&!xd(e).call(e,i))if(n[i]&&n[i].constructor===Object)void 0===t[i]&&(t[i]={}),t[i].constructor===Object?xm(t[i],n[i]):vm(t,n,i,r);else if(Hu(n[i])){t[i]=[];for(let e=0;e<n[i].length;e++)t[i].push(n[i][e])}else vm(t,n,i,r);return t}function xm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)||!0===n)if("object"==typeof t[o]&&null!==t[o]&&Ed(t[o])===Object.prototype)void 0===e[o]?e[o]=xm({},t[o],n):"object"==typeof e[o]&&null!==e[o]&&Ed(e[o])===Object.prototype?xm(e[o],t[o],n):vm(e,t,o,r);else if(Hu(t[o])){var i;e[o]=Du(i=t[o]).call(i)}else vm(e,t,o,r);return e}function _m(e,t){return[...e,t]}function Am(e){return e.getBoundingClientRect().top}function Tm(e,t){if(Hu(e)){const n=e.length;for(let r=0;r<n;r++)t(e[r],r,e)}else for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function Em(e){let t;switch(e.length){case 3:case 4:return t=hm.exec(e),t?{r:vp(t[1]+t[1],16),g:vp(t[2]+t[2],16),b:vp(t[3]+t[3],16)}:null;case 6:case 7:return t=um.exec(e),t?{r:vp(t[1],16),g:vp(t[2],16),b:vp(t[3],16)}:null;default:return null}}function km(e,t){if(xd(e).call(e,"rgba"))return e;if(xd(e).call(e,"rgb")){const n=e.substr(Cp(e).call(e,"(")+1).replace(")","").split(",");return"rgba("+n[0]+","+n[1]+","+n[2]+","+t+")"}{const n=Em(e);return null==n?e:"rgba("+n.r+","+n.g+","+n.b+","+t+")"}}function Sm(e,t,n){var r;return"#"+Du(r=((1<<24)+(e<<16)+(t<<8)+n).toString(16)).call(r,1)}function Cm(e,t){if(gm(e)){let t=e;if(Im(t)){var n;const e=Ku(n=t.substr(4).substr(0,t.length-5).split(",")).call(n,function(e){return vp(e)});t=Sm(e[0],e[1],e[2])}if(!0===Rm(t)){const e=function(e){const t=Em(e);if(!t)throw new TypeError("'".concat(e,"' is not a valid color."));return Nm(t.r,t.g,t.b)}(t),n={h:e.h,s:.8*e.s,v:Math.min(1,1.02*e.v)},r={h:e.h,s:Math.min(1,1.25*e.s),v:.8*e.v},i=Om(r.h,r.s,r.v),o=Om(n.h,n.s,n.v);return{background:t,border:i,highlight:{background:o,border:i},hover:{background:o,border:i}}}return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}return t?{background:e.background||t.background,border:e.border||t.border,highlight:gm(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||t.highlight.background,border:e.highlight&&e.highlight.border||t.highlight.border},hover:gm(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||t.hover.border,background:e.hover&&e.hover.background||t.hover.background}}:{background:e.background||void 0,border:e.border||void 0,highlight:gm(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||void 0,border:e.highlight&&e.highlight.border||void 0},hover:gm(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||void 0,background:e.hover&&e.hover.background||void 0}}}function Nm(e,t,n){e/=255,t/=255,n/=255;const r=Math.min(e,Math.min(t,n)),i=Math.max(e,Math.max(t,n));return r===i?{h:0,s:0,v:r}:{h:60*((e===r?3:n===r?1:5)-(e===r?t-n:n===r?e-t:n-e)/(i-r))/360,s:(i-r)/i,v:i}}function Mm(e,t,n){let r,i,o;const s=Math.floor(6*e),a=6*e-s,l=n*(1-t),c=n*(1-a*t),u=n*(1-(1-a)*t);switch(s%6){case 0:r=n,i=u,o=l;break;case 1:r=c,i=n,o=l;break;case 2:r=l,i=n,o=u;break;case 3:r=l,i=c,o=n;break;case 4:r=u,i=l,o=n;break;case 5:r=n,i=l,o=c}return{r:Math.floor(255*r),g:Math.floor(255*i),b:Math.floor(255*o)}}function Om(e,t,n){const r=Mm(e,t,n);return Sm(r.r,r.g,r.b)}function Rm(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)}function Im(e){return dm.test(e)}function Lm(e){if(null===e||"object"!=typeof e)return null;if(e instanceof Element)return e;const t=Mp(e);for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&"object"==typeof e[n]&&(t[n]=Lm(e[n]));return t}function Pm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=function(e){return null!=e},o=function(e){return null!==e&&"object"==typeof e};if(!o(e))throw new Error("Parameter mergeTarget must be an object");if(!o(t))throw new Error("Parameter options must be an object");if(!i(n))throw new Error("Parameter option must have a value");if(!o(r))throw new Error("Parameter globalOptions must be an object");const s=t[n],a=o(r)&&!function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(r)?r[n]:void 0,l=a?a.enabled:void 0;if(void 0===s)return;if("boolean"==typeof s)return o(e[n])||(e[n]={}),void(e[n].enabled=s);if(null===s&&!o(e[n])){if(!i(a))return;e[n]=Mp(a)}if(!o(s))return;let c=!0;void 0!==s.enabled?c=s.enabled:void 0!==l&&(c=a.enabled),function(e,t,n){o(e[n])||(e[n]={});const r=t[n],i=e[n];for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&(i[e]=r[e])}(e,t,n),e[n].enabled=c}const Dm={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e};function Bm(e,t){let n;Hu(t)||(t=[t]);for(const r of e)if(r){n=r[t[0]];for(let e=1;e<t.length;e++)n&&(n=n[t[e]]);if(void 0!==n)break}return n}const Fm={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let zm=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}setCloseCallback(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}_isColorString(e){if("string"==typeof e)return Fm[e]}setColor(e){let t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"===e)return;const r=this._isColorString(e);if(void 0!==r&&(e=r),!0===gm(e)){if(!0===Im(e)){const n=e.substr(4).substr(0,e.length-5).split(",");t={r:n[0],g:n[1],b:n[2],a:1}}else if(!0===function(e){return pm.test(e)}(e)){const n=e.substr(5).substr(0,e.length-6).split(",");t={r:n[0],g:n[1],b:n[2],a:n[3]}}else if(!0===Rm(e)){const n=Em(e);t={r:n.r,g:n.g,b:n.b,a:1}}}else if(e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b){const n=void 0!==e.a?e.a:"1.0";t={r:e.r,g:e.g,b:e.b,a:n}}if(void 0===t)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Lp(e));this._setColor(t,n)}show(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=xr({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",Jp(()=>{void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=xr({},e)),this.color=e;const t=Nm(e.r,e.g,e.b),n=2*Math.PI,r=this.r*t.s,i=this.centerCoordinates.x+r*Math.sin(n*t.h),o=this.centerCoordinates.y+r*Math.cos(n*t.h);this.colorPickerSelector.style.left=i-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=Nm(this.color.r,this.color.g,this.color.b);t.v=e/100;const n=Mm(t.h,t.s,t.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color;const t=Nm(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,r,i),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-t.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),hf(n).call(n),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,t,n,r;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const e=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(e){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(e){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const i=this;this.opacityRange.onchange=function(){i._setOpacity(this.value)},this.opacityRange.oninput=function(){i._setOpacity(this.value)},this.brightnessRange.onchange=function(){i._setBrightness(this.value)},this.brightnessRange.oninput=function(){i._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Ur(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Ur(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Ur(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Ur(r=this._loadLast).call(r,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new lm(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(!1===this.generated){const e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;let r,i,o,s;e.clearRect(0,0,t,n),this.centerCoordinates={x:.5*t,y:.5*n},this.r=.49*t;const a=2*Math.PI/360,l=1/360,c=1/this.r;let u;for(o=0;o<360;o++)for(s=0;s<this.r;s++)r=this.centerCoordinates.x+s*Math.sin(a*o),i=this.centerCoordinates.y+s*Math.cos(a*o),u=Mm(o*l,s*c,1),e.fillStyle="rgb("+u.r+","+u.g+","+u.b+")",e.fillRect(r-.5,i-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,n)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-t.left,r=e.center.y-t.top,i=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,s=n-o,a=r-i,l=Math.atan2(s,a),c=.98*Math.min(Math.sqrt(s*s+a*a),o),u=Math.cos(l)*c+i,h=Math.sin(l)*c+o;this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let d=l/(2*Math.PI);d=d<0?d+1:d;const p=c/this.r,f=Nm(this.color.r,this.color.g,this.color.b);f.h=d,f.s=p;const g=Mm(f.h,f.s,f.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function $m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length<1)throw new TypeError("Invalid arguments.");if(1===t.length)return document.createTextNode(t[0]);{const e=document.createElement(t[0]);return e.appendChild($m(...Du(t).call(t,1))),e}}let jm,Um=!1;const Hm=cm,Gm=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=i,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},xr(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new zm(r),this.wrapper=void 0}setOptions(e){if(void 0!==e){this.popupHistory={},this._removePopup();let t=!0;if("string"==typeof e)this.options.filter=e;else if(Hu(e))this.options.filter=e.join();else if("object"==typeof e){if(null==e)throw new TypeError("options cannot be null");void 0!==e.container&&(this.options.container=e.container),void 0!==Bd(e)&&(this.options.filter=Bd(e)),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(t=e.enabled)}else"boolean"==typeof e?(this.options.filter=!0,t=e):"function"==typeof e&&(this.options.filter=e,t=!0);!1===Bd(this.options)&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Bd(this.options);let t=0,n=!1;for(const r in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,r)&&(this.allowCreation=!1,n=!1,"function"==typeof e?(n=e(r,[]),n=n||this._handleObject(this.configureOptions[r],[r],!0)):!0!==e&&-1===Cp(e).call(e,r)||(n=!0),!1!==n&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let n=0;n<e.length;n++){if(void 0===t[e[n]]){t=void 0;break}t=t[e[n]]}return t}_makeItem(e){if(!0===this.allowCreation){const i=document.createElement("div");i.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mh(n).call(n,e=>{i.appendChild(e)}),this.domElements.push(i),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=document.createElement("div");if(r.className="vis-configuration vis-config-label vis-config-s"+t.length,!0===n){for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild($m("i","b",e))}else r.innerText=e+":";return r}_makeDropdown(e,t,n){const r=document.createElement("select");r.className="vis-configuration vis-config-select";let i=0;void 0!==t&&-1!==Cp(e).call(e,t)&&(i=Cp(e).call(e,t));for(let t=0;t<e.length;t++){const n=document.createElement("option");n.value=e[t],t===i&&(n.selected="selected"),n.innerText=e[t],r.appendChild(n)}const o=this;r.onchange=function(){o._update(this.value,n)};const s=this._makeLabel(n[n.length-1],n);this._makeItem(n,s,r)}_makeRange(e,t,n){const r=e[0],i=e[1],o=e[2],s=e[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=i,a.max=o}catch(e){}a.step=s;let l="",c=0;if(void 0!==t){const e=1.2;t<0&&t*e<i?(a.min=Math.ceil(t*e),c=a.min,l="range increased"):t/e<i&&(a.min=Math.ceil(t/e),c=a.min,l="range increased"),t*e>o&&1!==o&&(a.max=Math.ceil(t*e),c=a.max,l="range increased"),a.value=t}else a.value=r;const u=document.createElement("input");u.className="vis-configuration vis-config-rangeinput",u.value=a.value;const h=this;a.onchange=function(){u.value=this.value,h._update(Number(this.value),n)},a.oninput=function(){u.value=this.value};const d=this._makeLabel(n[n.length-1],n),p=this._makeItem(n,d,a,u);""!==l&&this.popupHistory[p]!==c&&(this.popupHistory[p]=c,this._setupPopup(l,p))}_makeButton(){if(!0===this.options.showButton){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:t}}}_removePopup(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(void 0!==this.popupDiv.html){const e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Jp(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Jp(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,n){const r=document.createElement("input");r.type="checkbox",r.className="vis-configuration vis-config-checkbox",r.checked=e,void 0!==t&&(r.checked=t,t!==e&&("object"==typeof e?t!==e.enabled&&this.changedOptions.push({path:n,value:t}):this.changedOptions.push({path:n,value:t})));const i=this;r.onchange=function(){i._update(this.checked,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,r)}_makeTextInput(e,t,n){const r=document.createElement("input");r.type="text",r.className="vis-configuration vis-config-text",r.value=t,t!==e&&this.changedOptions.push({path:n,value:t});const i=this;r.onchange=function(){i._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,r)}_makeColorField(e,t,n){const r=e[1],i=document.createElement("div");"none"!==(t=void 0===t?r:t)?(i.className="vis-configuration vis-config-colorBlock",i.style.backgroundColor=t):i.className="vis-configuration vis-config-colorBlock none",t=void 0===t?r:t,i.onclick=()=>{this._showColorPicker(t,i,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_showColorPicker(e,t,n){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(e=>{const r="rgba("+e.r+","+e.g+","+e.b+","+e.a+")";t.style.backgroundColor=r,this._update(r,n)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,n)}})}_handleObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1;const i=Bd(this.options);let o=!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){r=!0;const a=e[s],l=_m(t,s);if("function"==typeof i&&(r=i(s,t),!1===r&&!Hu(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,r=this._handleObject(a,l,!0),this.allowCreation=!1===n)),!1!==r){o=!0;const e=this._getValue(l);if(Hu(a))this._handleArray(a,e,l);else if("string"==typeof a)this._makeTextInput(a,e,l);else if("boolean"==typeof a)this._makeCheckbox(a,e,l);else if(a instanceof Object&&!this.hideOption(t,s,this.moduleOptions))if(void 0!==a.enabled){const e=_m(l,"enabled"),t=this._getValue(e);if(!0===t){const e=this._makeLabel(s,l,!0);this._makeItem(l,e),o=this._handleObject(a,l)||o}else this._makeCheckbox(a,t,l)}else{const e=this._makeLabel(s,l,!0);this._makeItem(l,e),o=this._handleObject(a,l)||o}}}return o}_handleArray(e,t,n){"string"==typeof e[0]&&"color"===e[0]?(this._makeColorField(e,t,n),e[1]!==t&&this.changedOptions.push({path:n,value:t})):"string"==typeof e[0]?(this._makeDropdown(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:t})):"number"==typeof e[0]&&(this._makeRange(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:Number(t)}))}_update(e,t){const n=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n;e="false"!==(e="true"===e||e)&&e;for(let n=0;n<t.length;n++)"global"!==t[n]&&(void 0===r[t[n]]&&(r[t[n]]={}),n!==t.length-1?r=r[t[n]]:r[t[n]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild($m("pre","const options = "+Lp(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},Vm=lm,Wm=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=vp(e),this.y=vp(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(void 0===e&&(e=!0),!0===e){const e=this.frame.clientHeight,t=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth;let i=0,o=0;if("flip"==this.overflowMethod){let n=!1,s=!0;this.y-e<this.padding&&(s=!1),this.x+t>r-this.padding&&(n=!0),i=n?this.x-t:this.x,o=s?this.y-e:this.y}else o=this.y-e,o+e+this.padding>n&&(o=n-e-this.padding),o<this.padding&&(o=this.padding),i=this.x,i+t+this.padding>r&&(i=r-t-this.padding),i<this.padding&&(i=this.padding);this.frame.style.left=i+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Ym=class e{static validate(t,n,r){Um=!1,jm=n;let i=n;return void 0!==r&&(i=n[r]),e.parse(t,i,[]),Um}static parse(t,n,r){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.check(i,t,n,r)}static check(t,n,r,i){if(void 0===r[t]&&void 0===r.__any__)return void e.getSuggestion(t,r,i);let o=t,s=!0;void 0===r[t]&&void 0!==r.__any__&&(o="__any__",s="object"===e.getType(n[t]));let a=r[o];s&&void 0!==a.__type__&&(a=a.__type__),e.checkFields(t,n,r,o,a,i)}static checkFields(t,n,r,i,o,s){const a=function(e){},l=e.getType(n[t]),c=o[l];void 0!==c?"array"===e.getType(c)&&-1===Cp(c).call(c,n[t])?(a('Invalid option detected in "'+t+'". Allowed values are:'+e.print(c)+' not "'+n[t]+'". '),Um=!0):"object"===l&&"__any__"!==i&&(s=_m(s,t),e.parse(n[t],r[i],s)):void 0===o.any&&(a('Invalid type received for "'+t+'". Expected: '+e.print(Ju(o))+". Received ["+l+'] "'+n[t]+'"'),Um=!0)}static getType(e){const t=typeof e;return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Hu(e)?"array":e instanceof Date?"date":void 0!==e.nodeType?"dom":!0===e._isAMomentObject?"moment":"object":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}static getSuggestion(t,n,r){const i=e.findInOptions(t,n,r,!1),o=e.findInOptions(t,jm,[],!0);let s;s=void 0!==i.indexMatch?" in "+e.printLocation(i.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+'"?\n\n':o.distance<=4&&i.distance>o.distance?" in "+e.printLocation(i.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+e.printLocation(o.path,o.closestMatch,""):i.distance<=8?'. Did you mean "'+i.closestMatch+'"?'+e.printLocation(i.path,t):". Did you mean one of these: "+e.print(Ju(n))+e.printLocation(r,t),Um=!0}static findInOptions(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1e9,s="",a=[];const l=t.toLowerCase();let c;for(const d in n){let p;if(void 0!==n[d].__type__&&!0===i){const i=e.findInOptions(t,n[d],_m(r,d));o>i.distance&&(s=i.closestMatch,a=i.path,o=i.distance,c=i.indexMatch)}else{var u;-1!==Cp(u=d.toLowerCase()).call(u,l)&&(c=d),p=e.levenshteinDistance(t,d),o>p&&(s=d,a=Du(h=r).call(h),o=p)}}var h;return{closestMatch:s,path:a,distance:o,indexMatch:c}}static printLocation(e,t){let n="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n";for(let t=0;t<e.length;t++){for(let e=0;e<t+1;e++)n+="  ";n+=e[t]+": {\n"}for(let t=0;t<e.length+1;t++)n+="  ";n+=t+"\n";for(let t=0;t<e.length+1;t++){for(let r=0;r<e.length-t;r++)n+="  ";n+="}\n"}return n+"\n\n"}static print(e){return Lp(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;const n=[];let r,i;for(r=0;r<=t.length;r++)n[r]=[r];for(i=0;i<=e.length;i++)n[0][i]=i;for(r=1;r<=t.length;r++)for(i=1;i<=e.length;i++)t.charAt(r-1)==e.charAt(i-1)?n[r][i]=n[r-1][i-1]:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[t.length][e.length]}};function qm(e){return Jm=e,function(){var e={};if(ev=0,tv=Jm.charAt(0),dv(),"strict"===nv&&(e.strict=!0,dv()),"graph"!==nv&&"digraph"!==nv||(e.type=nv,dv()),rv===Zm.IDENTIFIER&&(e.id=nv,dv()),"{"!=nv)throw yv("Angle bracket { expected");if(dv(),pv(e),"}"!=nv)throw yv("Angle bracket } expected");if(dv(),""!==nv)throw yv("End of file expected");return dv(),delete e.node,delete e.edge,delete e.graph,e}()}var Xm={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Km=Mp(Xm);Km.color="color.color",Km.style="dashes";var Zm={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Qm={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Jm="",ev=0,tv="",nv="",rv=Zm.NULL;function iv(){ev++,tv=Jm.charAt(ev)}function ov(){return Jm.charAt(ev+1)}function sv(e){var t=e.charCodeAt(0);return t<47?35===t||46===t:t<59?t>47:t<91?t>64:t<96?95===t:t<123&&t>96}function av(e,t){if(e||(e={}),t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function lv(e,t,n){for(var r=t.split("."),i=e;r.length;){var o=r.shift();r.length?(i[o]||(i[o]={}),i=i[o]):i[o]=n}}function cv(e,t){for(var n,r,i=null,o=[e],s=e;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes)for(n=0,r=s.nodes.length;n<r;n++)if(t.id===s.nodes[n].id){i=s.nodes[n];break}for(i||(i={id:t.id},e.node&&(i.attr=av(i.attr,e.node))),n=o.length-1;n>=0;n--){var a,l=o[n];l.nodes||(l.nodes=[]),-1===Cp(a=l.nodes).call(a,i)&&l.nodes.push(i)}t.attr&&(i.attr=av(i.attr,t.attr))}function uv(e,t){if(e.edges||(e.edges=[]),e.edges.push(t),e.edge){var n=av({},e.edge);t.attr=av(n,t.attr)}}function hv(e,t,n,r,i){var o={from:t,to:n,type:r};return e.edge&&(o.attr=av({},e.edge)),o.attr=av(o.attr||{},i),null!=i&&i.hasOwnProperty("arrows")&&null!=i.arrows&&(o.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),o}function dv(){for(rv=Zm.NULL,nv="";" "===tv||"\t"===tv||"\n"===tv||"\r"===tv;)iv();do{var e=!1;if("#"===tv){for(var t=ev-1;" "===Jm.charAt(t)||"\t"===Jm.charAt(t);)t--;if("\n"===Jm.charAt(t)||""===Jm.charAt(t)){for(;""!=tv&&"\n"!=tv;)iv();e=!0}}if("/"===tv&&"/"===ov()){for(;""!=tv&&"\n"!=tv;)iv();e=!0}if("/"===tv&&"*"===ov()){for(;""!=tv;){if("*"===tv&&"/"===ov()){iv(),iv();break}iv()}e=!0}for(;" "===tv||"\t"===tv||"\n"===tv||"\r"===tv;)iv()}while(e);if(""!==tv){var n=tv+ov();if(Qm[n])return rv=Zm.DELIMITER,nv=n,iv(),void iv();if(Qm[tv])return rv=Zm.DELIMITER,nv=tv,void iv();if(sv(tv)||"-"===tv){for(nv+=tv,iv();sv(tv);)nv+=tv,iv();return"false"===nv?nv=!1:"true"===nv?nv=!0:isNaN(Number(nv))||(nv=Number(nv)),void(rv=Zm.IDENTIFIER)}if('"'===tv){for(iv();""!=tv&&('"'!=tv||'"'===tv&&'"'===ov());)'"'===tv?(nv+=tv,iv()):"\\"===tv&&"n"===ov()?(nv+="\n",iv()):nv+=tv,iv();if('"'!=tv)throw yv('End of string " expected');return iv(),void(rv=Zm.IDENTIFIER)}for(rv=Zm.UNKNOWN;""!=tv;)nv+=tv,iv();throw new SyntaxError('Syntax error in part "'+bv(nv,30)+'"')}rv=Zm.DELIMITER}function pv(e){for(;""!==nv&&"}"!=nv;)fv(e),";"===nv&&dv()}function fv(e){var t=gv(e);if(t)mv(e,t);else{var n=function(e){return"node"===nv?(dv(),e.node=vv(),"node"):"edge"===nv?(dv(),e.edge=vv(),"edge"):"graph"===nv?(dv(),e.graph=vv(),"graph"):null}(e);if(!n){if(rv!=Zm.IDENTIFIER)throw yv("Identifier expected");var r=nv;if(dv(),"="===nv){if(dv(),rv!=Zm.IDENTIFIER)throw yv("Identifier expected");e[r]=nv,dv()}else!function(e,t){var n={id:t},r=vv();r&&(n.attr=r),cv(e,n),mv(e,t)}(e,r)}}}function gv(e){var t=null;if("subgraph"===nv&&((t={}).type="subgraph",dv(),rv===Zm.IDENTIFIER&&(t.id=nv,dv())),"{"===nv){if(dv(),t||(t={}),t.parent=e,t.node=e.node,t.edge=e.edge,t.graph=e.graph,pv(t),"}"!=nv)throw yv("Angle bracket } expected");dv(),delete t.node,delete t.edge,delete t.graph,delete t.parent,e.subgraphs||(e.subgraphs=[]),e.subgraphs.push(t)}return t}function mv(e,t){for(;"->"===nv||"--"===nv;){var n,r=nv;dv();var i=gv(e);if(i)n=i;else{if(rv!=Zm.IDENTIFIER)throw yv("Identifier or subgraph expected");cv(e,{id:n=nv}),dv()}uv(e,hv(e,t,n,r,vv())),t=n}}function vv(){for(var e,t,n=null,r={dashed:!0,solid:!1,dotted:[1,5]},i={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,s=new Array;"["===nv;){for(dv(),n={};""!==nv&&"]"!=nv;){if(rv!=Zm.IDENTIFIER)throw yv("Attribute name expected");var a=nv;if(dv(),"="!=nv)throw yv("Equal sign = expected");if(dv(),rv!=Zm.IDENTIFIER)throw yv("Attribute value expected");var l=nv;"style"===a&&(l=r[l]),"arrowhead"===a&&(a="arrows",l={to:{enabled:!0,type:i[l]}}),"arrowtail"===a&&(a="arrows",l={from:{enabled:!0,type:i[l]}}),o.push({attr:n,name:a,value:l}),s.push(a),dv(),","==nv&&dv()}if("]"!=nv)throw yv("Bracket ] expected");dv()}if(xd(s).call(s,"dir")){var c={arrows:{}};for(e=0;e<o.length;e++)if("arrows"===o[e].name)if(null!=o[e].value.to)c.arrows.to=e;else{if(null==o[e].value.from)throw yv("Invalid value of arrows");c.arrows.from=e}else"dir"===o[e].name&&(c.dir=e);var u,h,d=o[c.dir].value;if(!xd(s).call(s,"arrows"))if("both"===d)o.push({attr:o[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=o.length-1,o.push({attr:o[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=o.length-1;else if("forward"===d)o.push({attr:o[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=o.length-1;else if("back"===d)o.push({attr:o[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=o.length-1;else{if("none"!==d)throw yv('Invalid dir type "'+d+'"');o.push({attr:o[c.dir].attr,name:"arrows",value:""}),c.arrows.to=o.length-1}if("both"===d)c.arrows.to&&c.arrows.from?(h=o[c.arrows.to].value.to.type,u=o[c.arrows.from].value.from.type,o[c.arrows.to]={attr:o[c.arrows.to].attr,name:o[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}},Jh(o).call(o,c.arrows.from,1)):c.arrows.to?(h=o[c.arrows.to].value.to.type,u="arrow",o[c.arrows.to]={attr:o[c.arrows.to].attr,name:o[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.from&&(h="arrow",u=o[c.arrows.from].value.from.type,o[c.arrows.from]={attr:o[c.arrows.from].attr,name:o[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}});else if("back"===d)c.arrows.to&&c.arrows.from?(h="",u=o[c.arrows.from].value.from.type,o[c.arrows.from]={attr:o[c.arrows.from].attr,name:o[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.to?(h="",u="arrow",c.arrows.from=c.arrows.to,o[c.arrows.from]={attr:o[c.arrows.from].attr,name:o[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.from&&(h="",u=o[c.arrows.from].value.from.type,o[c.arrows.to]={attr:o[c.arrows.from].attr,name:o[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}),o[c.arrows.from]={attr:o[c.arrows.from].attr,name:o[c.arrows.from].name,value:{from:{enabled:!0,type:o[c.arrows.from].value.from.type}}};else if("none"===d){var p;o[p=c.arrows.to?c.arrows.to:c.arrows.from]={attr:o[p].attr,name:o[p].name,value:""}}else{if("forward"!==d)throw yv('Invalid dir type "'+d+'"');c.arrows.to&&c.arrows.from||c.arrows.to?(h=o[c.arrows.to].value.to.type,u="",o[c.arrows.to]={attr:o[c.arrows.to].attr,name:o[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.from&&(h="arrow",u="",c.arrows.to=c.arrows.from,o[c.arrows.to]={attr:o[c.arrows.to].attr,name:o[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}),o[c.arrows.to]={attr:o[c.arrows.to].attr,name:o[c.arrows.to].name,value:{to:{enabled:!0,type:o[c.arrows.to].value.to.type}}}}Jh(o).call(o,c.dir,1)}if(xd(s).call(s,"penwidth")){var f=[];for(t=o.length,e=0;e<t;e++)"width"!==o[e].name&&("penwidth"===o[e].name&&(o[e].name="width"),f.push(o[e]));o=f}for(t=o.length,e=0;e<t;e++)lv(o[e].attr,o[e].name,o[e].value);return n}function yv(e){return new SyntaxError(e+', got "'+bv(nv,30)+'" (char '+ev+")")}function bv(e,t){return e.length<=t?e:e.substr(0,27)+"..."}function wv(e,t,n){for(var r=t.split("."),i=r.pop(),o=e,s=0;s<r.length;s++){var a=r[s];a in o||(o[a]={}),o=o[a]}return o[i]=n,e}function xv(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=t[r];Hu(i)?mh(i).call(i,function(t){wv(n,t,e[r])}):wv(n,"string"==typeof i?i:r,e[r])}return n}function _v(e){var t,n=qm(e),r={nodes:[],edges:[],options:{}};if(n.nodes&&mh(t=n.nodes).call(t,function(e){var t={id:e.id,label:String(e.label||e.id)};av(t,xv(e.attr,Xm)),t.image&&(t.shape="image"),r.nodes.push(t)}),n.edges){var i,o=function(e){var t={from:e.from,to:e.to};return av(t,xv(e.attr,Km)),null==t.arrows&&"->"===e.type&&(t.arrows="to"),t};mh(i=n.edges).call(i,function(e){var t,n,i,s,a,l,c;t=e.from instanceof Object?e.from.nodes:{id:e.from},n=e.to instanceof Object?e.to.nodes:{id:e.to},e.from instanceof Object&&e.from.edges&&mh(i=e.from.edges).call(i,function(e){var t=o(e);r.edges.push(t)}),a=n,l=function(t,n){var i=hv(r,t.id,n.id,e.type,e.attr),s=o(i);r.edges.push(s)},Hu(s=t)?mh(s).call(s,function(e){Hu(a)?mh(a).call(a,function(t){l(e,t)}):l(e,a)}):Hu(a)?mh(a).call(a,function(e){l(s,e)}):l(s,a),e.to instanceof Object&&e.to.edges&&mh(c=e.to.edges).call(c,function(e){var t=o(e);r.edges.push(t)})})}return n.attr&&(r.options=n.attr),r}var Av=Object.freeze({__proto__:null,DOTToGraph:_v,parseDOT:qm});function Tv(e,t){var n;const r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=t&&(null!=t.fixed&&(r.nodes.fixed=t.fixed),null!=t.parseColor&&(r.nodes.parseColor=t.parseColor),null!=t.inheritColor&&(r.edges.inheritColor=t.inheritColor));const i=e.edges,o=Ku(i).call(i,e=>{const t={from:e.source,id:e.id,to:e.target};return null!=e.attributes&&(t.attributes=e.attributes),null!=e.label&&(t.label=e.label),null!=e.attributes&&null!=e.attributes.title&&(t.title=e.attributes.title),"Directed"===e.type&&(t.arrows="to"),e.color&&!1===r.edges.inheritColor&&(t.color=e.color),t});return{nodes:Ku(n=e.nodes).call(n,e=>{const t={id:e.id,fixed:r.nodes.fixed&&null!=e.x&&null!=e.y};return null!=e.attributes&&(t.attributes=e.attributes),null!=e.label&&(t.label=e.label),null!=e.size&&(t.size=e.size),null!=e.attributes&&null!=e.attributes.title&&(t.title=e.attributes.title),null!=e.title&&(t.title=e.title),null!=e.x&&(t.x=e.x),null!=e.y&&(t.y=e.y),null!=e.color&&(!0===r.nodes.parseColor?t.color=e.color:t.color={background:e.color,border:e.color,highlight:{background:e.color,border:e.color},hover:{background:e.color,border:e.color}}),t}),edges:o}}var Ev=Object.freeze({__proto__:null,parseGephi:Tv}),kv=Object.freeze({__proto__:null,cn:{addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},cs:{addDescription:"Kluknutím do prázdného prostoru můžete přidat nový vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavřít",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat výběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufügen",addNode:"Knoten hinzufügen",back:"Zurück",close:"Schließen",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",del:"Lösche Auswahl",deleteClusterError:"Cluster können nicht gelöscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster können nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",addEdge:"Añadir arista",addNode:"Añadir nodo",back:"Atrás",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selección",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de créer un lien vers un cluster.",del:"Effacer la sélection",deleteClusterError:"Les clusters ne peuvent pas être effacés.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"Éditer",editClusterError:"Les clusters ne peuvent pas être édités.",editEdge:"Éditer le lien",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un nœud.",editNode:"Éditer le nœud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espaço em branco para adicionar um novo nó",addEdge:"Adicionar aresta",addNode:"Adicionar nó",back:"Voltar",close:"Fechar",createEdgeError:"Não foi possível linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters não puderam ser removidos.",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",edit:"Editar",editClusterError:"Clusters não puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",editNode:"Editar nó"},ru:{addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},uk:{addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"}});class Sv{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,t=this.image.height;this.width=e,this.height=t;const n=Math.floor(t/2),r=Math.floor(t/4),i=Math.floor(t/8),o=Math.floor(t/16),s=Math.floor(e/2),a=Math.floor(e/4),l=Math.floor(e/8),c=Math.floor(e/16);this.canvas.width=3*a,this.canvas.height=n,this.coordinates=[[0,0,s,n],[s,0,a,r],[s,r,l,i],[5*l,r,c,o]],this._fillMipMap()}initialized(){return void 0!==this.coordinates}_fillMipMap(){const e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(let t=1;t<this.NUM_ITERATIONS;t++){const n=this.coordinates[t-1],r=this.coordinates[t];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],r[0],r[1],r[2],r[3])}}drawImageAtPosition(e,t,n,r,i,o){if(this.initialized())if(t>2){t*=.5;let s=0;for(;t>2&&s<this.NUM_ITERATIONS;)t*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);const a=this.coordinates[s];e.drawImage(this.canvas,a[0],a[1],a[2],a[3],n,r,i,o)}else e.drawImage(this.image,n,r,i,o)}}class Cv{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,t,n){void 0!==e&&void 0!==n&&void 0!==t&&(n.image.onerror=()=>{},n.image.src=t)}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,t){const n=this.images[e];if(n)return n;const r=new Sv;return this.images[e]=r,r.image.onload=()=>{this._fixImageCoordinates(r.image),r.init(),this._redrawWithImage(r)},r.image.onerror=()=>{this._tryloadBrokenUrl(e,t,r)},r.image.src=e,r}_fixImageCoordinates(e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Nv={exports:{}},Mv=a(function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Ov=a,Rv=ne,Iv=_,Lv=Mv,Pv=Object.isExtensible,Dv=Ov(function(){Pv(1)})||Lv?function(e){return!!Rv(e)&&(!Lv||"ArrayBuffer"!==Iv(e))&&(!Pv||Pv(e))}:Pv,Bv=!a(function(){return Object.isExtensible(Object.preventExtensions({}))}),Fv=On,zv=y,$v=Xn,jv=ne,Uv=et,Hv=Jt.f,Gv=Io,Vv=Do,Wv=Dv,Yv=Bv,qv=!1,Xv=ot("meta"),Kv=0,Zv=function(e){Hv(e,Xv,{value:{objectID:"O"+Kv++,weakData:{}}})},Qv=Nv.exports={enable:function(){Qv.enable=function(){},qv=!0;var e=Gv.f,t=zv([].splice),n={};n[Xv]=1,e(n).length&&(Gv.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===Xv){t(r,i,1);break}return r},Fv({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Vv.f}))},fastKey:function(e,t){if(!jv(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Uv(e,Xv)){if(!Wv(e))return"F";if(!t)return"E";Zv(e)}return e[Xv].objectID},getWeakData:function(e,t){if(!Uv(e,Xv)){if(!Wv(e))return!0;if(!t)return!1;Zv(e)}return e[Xv].weakData},onFreeze:function(e){return Yv&&qv&&Wv(e)&&!Uv(e,Xv)&&Zv(e),e}};$v[Xv]=!0;var Jv=Nv.exports,ey=rc,ty=ft("iterator"),ny=Array.prototype,ry=pi,iy=De,oy=Y,sy=rc,ay=ft("iterator"),ly=function(e){if(!oy(e))return iy(e,ay)||iy(e,"@@iterator")||sy[ry(e)]},cy=L,uy=Ie,hy=on,dy=Ne,py=ly,fy=TypeError,gy=L,my=on,vy=De,yy=Qt,by=L,wy=on,xy=Ne,_y=function(e){return void 0!==e&&(ey.Array===e||ny[ty]===e)},Ay=Hn,Ty=ce,Ey=function(e,t){var n=arguments.length<2?py(e):t;if(uy(n))return hy(cy(n,e));throw new fy(dy(e)+" is not iterable")},ky=ly,Sy=function(e,t,n){var r,i;my(e);try{if(!(r=vy(e,"return"))){if("throw"===t)throw n;return n}r=gy(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return my(r),n},Cy=TypeError,Ny=function(e,t){this.stopped=e,this.result=t},My=Ny.prototype,Oy=function(e,t,n){var r,i,o,s,a,l,c,u=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),g=yy(t,u),m=function(e){return r&&Sy(r,"normal",e),new Ny(!0,e)},v=function(e){return h?(wy(e),f?g(e[0],e[1],m):g(e[0],e[1])):f?g(e,m):g(e)};if(d)r=e.iterator;else if(p)r=e;else{if(!(i=ky(e)))throw new Cy(xy(e)+" is not iterable");if(_y(i)){for(o=0,s=Ay(e);s>o;o++)if((a=v(e[o]))&&Ty(My,a))return a;return new Ny(!1)}r=Ey(e,i)}for(l=d?e.next:r.next;!(c=by(l,r)).done;){try{a=v(c.value)}catch(e){Sy(r,"throw",e)}if("object"==typeof a&&a&&Ty(My,a))return a}return new Ny(!1)},Ry=ce,Iy=TypeError,Ly=function(e,t){if(Ry(t,e))return e;throw new Iy("Incorrect invocation")},Py=On,Dy=s,By=Jv,Fy=a,zy=bn,$y=Oy,jy=Ly,Uy=N,Hy=ne,Gy=Y,Vy=xs,Wy=Jt.f,Yy=Ws.forEach,qy=O,Xy=Fs.set,Ky=Fs.getterFor,Zy=function(e,t,n){var r,i=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),s=i?"set":"add",a=Dy[e],l=a&&a.prototype,c={};if(qy&&Uy(a)&&(o||l.forEach&&!Fy(function(){(new a).entries().next()}))){var u=(r=t(function(t,n){Xy(jy(t,u),{type:e,collection:new a}),Gy(n)||$y(n,t[s],{that:t,AS_ENTRIES:i})})).prototype,h=Ky(e);Yy(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(e){var t="add"===e||"set"===e;!(e in l)||o&&"clear"===e||zy(u,e,function(n,r){var i=h(this).collection;if(!t&&o&&!Hy(n))return"get"===e&&void 0;var s=i[e](0===n?0:n,r);return t?this:s})}),o||Wy(u,"size",{configurable:!0,get:function(){return h(this).collection.size}})}else r=n.getConstructor(t,e,i,s),By.enable();return Vy(r,e,!1,!0),c[e]=r,Py({global:!0,forced:!0},c),o||n.setStrong(r,e,i),r},Qy=Xo,Jy=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:Qy(e,r,t[r],n);return e},eb=le,tb=Zo,nb=O,rb=ft("species"),ib=Ro,ob=Zo,sb=Jy,ab=Qt,lb=Ly,cb=Y,ub=Oy,hb=Kc,db=Zc,pb=function(e){var t=eb(e);nb&&t&&!t[rb]&&tb(t,rb,{configurable:!0,get:function(){return this}})},fb=O,gb=Jv.fastKey,mb=Fs.set,vb=Fs.getterFor,yb={getConstructor:function(e,t,n,r){var i=e(function(e,i){lb(e,o),mb(e,{type:t,index:ib(null),first:void 0,last:void 0,size:0}),fb||(e.size=0),cb(i)||ub(i,e[r],{that:e,AS_ENTRIES:n})}),o=i.prototype,s=vb(t),a=function(e,t,n){var r,i,o=s(e),a=l(e,t);return a?a.value=n:(o.last=a={index:i=gb(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),fb?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},l=function(e,t){var n,r=s(e),i=gb(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===t)return n};return sb(o,{clear:function(){for(var e=s(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,fb?e.size=0:this.size=0},delete:function(e){var t=this,n=s(t),r=l(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first===r&&(n.first=i),n.last===r&&(n.last=o),fb?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=s(this),r=ab(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!l(this,e)}}),sb(o,n?{get:function(e){var t=l(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),fb&&ob(o,"size",{configurable:!0,get:function(){return s(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=vb(t),o=vb(r);hb(e,t,function(e,t){mb(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?db("keys"===t?n.key:"values"===t?n.value:[n.key,n.value],!1):(e.target=void 0,db(void 0,!0))},n?"entries":"values",!n,!0),pb(t)}};Zy("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},yb);var bb=y,wb=Pn,xb=oo,_b=K,Ab=bb("".charAt),Tb=bb("".charCodeAt),Eb=bb("".slice),kb=function(e){return function(t,n){var r,i,o=xb(_b(t)),s=wb(n),a=o.length;return s<0||s>=a?e?"":void 0:(r=Tb(o,s))<55296||r>56319||s+1===a||(i=Tb(o,s+1))<56320||i>57343?e?Ab(o,s):r:e?Eb(o,s,s+2):i-56320+(r-55296<<10)+65536}},Sb=(kb(!1),kb(!0)),Cb=oo,Nb=Fs,Mb=Kc,Ob=Zc,Rb="String Iterator",Ib=Nb.set,Lb=Nb.getterFor(Rb);Mb(String,"String",function(e){Ib(this,{type:Rb,string:Cb(e),index:0})},function(){var e,t=Lb(this),n=t.string,r=t.index;return r>=n.length?Ob(void 0,!0):(e=Sb(n,r),t.index+=e.length,Ob(e,!1))});var Pb=i(re.Map);class Db{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},xr(this.options,this.defaultOptions)}setOptions(e){const t=["useDefaultGroups"];if(void 0!==e)for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&-1===Cp(t).call(t,n)){const t=e[n];this.add(n,t)}}clear(){this._groups=new Pb,this._groupNames=[]}get(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._groups.get(e);if(void 0===n&&t)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){const t=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[t]),this._groups.set(e,n)}else{const t=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[t],this._groups.set(e,n)}return n}add(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}On({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var Bb=i(re.Number.isNaN),Fb=s.isFinite,zb=Number.isFinite||function(e){return"number"==typeof e&&Fb(e)};On({target:"Number",stat:!0},{isFinite:zb});var $b=i(re.Number.isFinite),jb=Ws.some;On({target:"Array",proto:!0,forced:!oh("some")},{some:function(e){return jb(this,e,arguments.length>1?arguments[1]:void 0)}});var Ub=Dr("Array").some,Hb=ce,Gb=Ub,Vb=Array.prototype,Wb=function(e){var t=e.some;return e===Vb||Hb(Vb,e)&&t===Vb.some?Gb:t},Yb=i(Wb),qb={exports:{}},Xb=On,Kb=O,Zb=Jt.f;Xb({target:"Object",stat:!0,forced:Object.defineProperty!==Zb,sham:!Kb},{defineProperty:Zb});var Qb=re.Object,Jb=qb.exports=function(e,t,n){return Qb.defineProperty(e,t,n)};Qb.defineProperty.sham&&(Jb.sham=!0);var ew=qb.exports,tw=i(ew),nw=ft,rw=Jt.f,iw=nw("metadata"),ow=Function.prototype;void 0===ow[iw]&&rw(ow,iw,{value:null}),as("asyncDispose"),as("dispose"),as("metadata");var sw=gu,aw=y,lw=le("Symbol"),cw=lw.keyFor,uw=aw(lw.prototype.valueOf),hw=lw.isRegisteredSymbol||function(e){try{return void 0!==cw(uw(e))}catch(e){return!1}};On({target:"Symbol",stat:!0},{isRegisteredSymbol:hw});for(var dw=qe,pw=le,fw=y,gw=Se,mw=ft,vw=pw("Symbol"),yw=vw.isWellKnownSymbol,bw=pw("Object","getOwnPropertyNames"),ww=fw(vw.prototype.valueOf),xw=dw("wks"),_w=0,Aw=bw(vw),Tw=Aw.length;_w<Tw;_w++)try{var Ew=Aw[_w];gw(vw[Ew])&&mw(Ew)}catch(e){}var kw=function(e){if(yw&&yw(e))return!0;try{for(var t=ww(e),n=0,r=bw(xw),i=r.length;n<i;n++)if(xw[r[n]]==t)return!0}catch(e){}return!1};On({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:kw}),as("matcher"),as("observable"),On({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:hw}),On({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:kw}),as("metadataKey"),as("patternMatch"),as("replaceAll");var Sw=i(sw),Cw=i(Qo.f("iterator"));function Nw(e){return Nw="function"==typeof Sw&&"symbol"==typeof Cw?function(e){return typeof e}:function(e){return e&&"function"==typeof Sw&&e.constructor===Sw&&e!==Sw.prototype?"symbol":typeof e},Nw(e)}var Mw=i(Qo.f("toPrimitive"));function Ow(e){var t=function(e,t){if("object"!==Nw(e)||null===e)return e;var n=e[Mw];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Nw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Nw(t)?t:String(t)}function Rw(e,t,n){return(t=Ow(t))in e?tw(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Iw=s,Lw=a,Pw=oo,Dw=ip.trim,Bw=Kd,Fw=y("".charAt),zw=Iw.parseFloat,$w=Iw.Symbol,jw=$w&&$w.iterator,Uw=1/zw(Bw+"-0")!=-1/0||jw&&!Lw(function(){zw(Object(jw))})?function(e){var t=Dw(Pw(e)),n=zw(t);return 0===n&&"-"===Fw(t,0)?-0:n}:zw;On({global:!0,forced:parseFloat!==Uw},{parseFloat:Uw});var Hw=i(re.parseFloat),Gw=On,Vw=a,Ww=Do.f;Gw({target:"Object",stat:!0,forced:Vw(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:Ww});var Yw=re.Object,qw=function(e){return Yw.getOwnPropertyNames(e)},Xw=i(qw),Kw=i(re.Object.getOwnPropertySymbols),Zw={exports:{}},Qw=On,Jw=a,ex=J,tx=M.f,nx=O;Qw({target:"Object",stat:!0,forced:!nx||Jw(function(){tx(1)}),sham:!nx},{getOwnPropertyDescriptor:function(e,t){return tx(ex(e),t)}});var rx=re.Object,ix=Zw.exports=function(e,t){return rx.getOwnPropertyDescriptor(e,t)};rx.getOwnPropertyDescriptor.sham&&(ix.sham=!0);var ox=i(Zw.exports),sx=Uu,ax=J,lx=M,cx=ii;On({target:"Object",stat:!0,sham:!O},{getOwnPropertyDescriptors:function(e){for(var t,n,r=ax(e),i=lx.f,o=sx(r),s={},a=0;o.length>a;)void 0!==(n=i(r,t=o[a++]))&&cx(s,t,n);return s}});var ux=i(re.Object.getOwnPropertyDescriptors),hx={exports:{}},dx=On,px=O,fx=so.f;dx({target:"Object",stat:!0,forced:Object.defineProperties!==fx,sham:!px},{defineProperties:fx});var gx=re.Object,mx=hx.exports=function(e,t){return gx.defineProperties(e,t)};gx.defineProperties.sham&&(mx.sham=!0);var vx=i(hx.exports),yx=i(ew);function bx(e,t){const n=["node","edge","label"];let r=!0;const i=Bm(t,"chosen");if("boolean"==typeof i)r=i;else if("object"==typeof i){if(-1===Cp(n).call(n,e))throw new Error("choosify: subOption '"+e+"' should be one of '"+n.join("', '")+"'");const i=Bm(t,["chosen",e]);"boolean"!=typeof i&&"function"!=typeof i||(r=i)}return r}function wx(e,t,n){if(e.width<=0||e.height<=0)return!1;if(void 0!==n){const e={x:t.x-n.x,y:t.y-n.y};if(0!==n.angle){const r=-n.angle;t={x:Math.cos(r)*e.x-Math.sin(r)*e.y,y:Math.sin(r)*e.x+Math.cos(r)*e.y}}else t=e}const r=e.x+e.width,i=e.y+e.width;return e.left<t.x&&r>t.x&&e.top<t.y&&i>t.y}function xx(e){return"string"==typeof e&&""!==e}function _x(e,t,n,r){let i=r.x,o=r.y;if("function"==typeof r.distanceToBorder){const n=r.distanceToBorder(e,t),s=Math.sin(t)*n,a=Math.cos(t)*n;a===n?(i+=n,o=r.y):s===n?(i=r.x,o-=n):(i+=a,o-=s)}else r.shape.width>r.shape.height?(i=r.x+.5*r.shape.width,o=r.y-n):(i=r.x+n,o=r.y-.5*r.shape.height);return{x:i,y:o}}var Ax=Dr("Array").values,Tx=pi,Ex=et,kx=ce,Sx=Ax,Cx=Array.prototype,Nx={DOMTokenList:!0,NodeList:!0},Mx=function(e){var t=e.values;return e===Cx||kx(Cx,e)&&t===Cx.values||Ex(Nx,Tx(e))?Sx:t},Ox=i(Mx);class Rx{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[e]&&(this.lines[e]={width:0,height:0,blocks:[]});let r=t;void 0!==t&&""!==t||(r=" ");const i=this.measureText(r,n),o=xr({},Ox(i));o.text=t,o.width=i.width,o.mod=n,void 0!==t&&""!==t||(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}curWidth(){const e=this.lines[this.current];return void 0===e?0:e.width}append(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t)}newLine(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const t=this.lines[e];let n=0;if(void 0!==t.blocks)for(let e=0;e<t.blocks.length;e++){const r=t.blocks[e];n<r.height&&(n=r.height)}t.height=n}}determineLabelSize(){let e=0,t=0;for(let n=0;n<this.lines.length;n++){const r=this.lines[n];r.width>e&&(e=r.width),t+=r.height}this.width=e,this.height=t}removeEmptyBlocks(){const e=[];for(let t=0;t<this.lines.length;t++){const n=this.lines[t];if(0===n.blocks.length)continue;if(t===this.lines.length-1&&0===n.width)continue;const r={};let i;xr(r,n),r.blocks=[];const o=[];for(let e=0;e<n.blocks.length;e++){const t=n.blocks[e];0!==t.width?o.push(t):void 0===i&&(i=t)}0===o.length&&void 0!==i&&o.push(i),r.blocks=o,e.push(r)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const Ix={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class Lx{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return 0===this.modStack.length?"normal":this.modStack[0]}modName(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){" "===e&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=e&&(this.buffer+=e)}parseWS(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,t){return!(this.mono||this[e]||!this.match(t)||(this.setTag(e),0))}match(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const[n,r]=this.prepareRegExp(e),i=n.test(this.text.substr(this.position,r));return i&&t&&(this.position+=r-1),i}parseEndTag(e,t,n){let r=this.mod()===e;return r="mono"===e?r&&this.mono:r&&!this.mono,!(!r||!this.match(t)||(void 0!==n?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),0))}replace(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}prepareRegExp(e){let t,n;if(e instanceof RegExp)n=e,t=1;else{const r=Ix[e];n=void 0!==r?r:new RegExp(e),t=e.length}return[n,t]}}class Px{constructor(e,t,n,r){this.ctx=e,this.parent=t,this.selected=n,this.hover=r,this.lines=new Rx((t,i)=>{if(void 0===t)return 0;const o=this.parent.getFormattingValues(e,n,r,i);let s=0;return""!==t&&(s=this.ctx.measureText(t).width),{width:s,values:o}})}process(e){if(!xx(e))return this.lines.finalize();const t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");const n=String(e).split("\n"),r=n.length;if(t.multi)for(let e=0;e<r;e++){const r=this.splitBlocks(n[e],t.multi);if(void 0!==r)if(0!==r.length){if(t.maxWdt>0)for(let e=0;e<r.length;e++){const t=r[e].mod,n=r[e].text;this.splitStringIntoLines(n,t,!0)}else for(let e=0;e<r.length;e++){const t=r[e].mod,n=r[e].text;this.lines.append(n,t)}this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(let e=0;e<r;e++)this.splitStringIntoLines(n[e]);else for(let e=0;e<r;e++)this.lines.newLine(n[e]);return this.lines.finalize()}decodeMarkupSystem(e){let t="none";return"markdown"===e||"md"===e?t="markdown":!0!==e&&"html"!==e||(t="html"),t}splitHtmlBlocks(e){const t=new Lx(e),n=e=>!!/&/.test(e)&&(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0);for(;t.position<t.text.length;){const e=t.text.charAt(t.position);t.parseWS(e)||/</.test(e)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||n(e)||t.add(e),t.position++}return t.emitBlock(),t.blocks}splitMarkdownBlocks(e){const t=new Lx(e);let n=!0;const r=e=>!!/\\/.test(e)&&(t.position<this.text.length+1&&(t.position++,e=this.text.charAt(t.position),/ \t/.test(e)?t.spacing=!0:(t.add(e),n=!1)),!0);for(;t.position<t.text.length;){const e=t.text.charAt(t.position);t.parseWS(e)||r(e)||(n||t.spacing)&&(t.parseStartTag("bold","*")||t.parseStartTag("ital","_")||t.parseStartTag("mono","`"))||t.parseEndTag("bold","*","afterBold")||t.parseEndTag("ital","_","afterItal")||t.parseEndTag("mono","`","afterMono")||(t.add(e),n=!1),t.position++}return t.emitBlock(),t.blocks}splitBlocks(e,t){const n=this.decodeMarkupSystem(t);return"none"===n?[{text:e,mod:"normal"}]:"markdown"===n?this.splitMarkdownBlocks(e):"html"===n?this.splitHtmlBlocks(e):void 0}overMaxWidth(e){const t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}getLongestFit(e){let t="",n=0;for(;n<e.length;){const r=t+(""===t?"":" ")+e[n];if(this.overMaxWidth(r))break;t=r,n++}return n}getLongestFitWord(e){let t=0;for(;t<e.length&&!this.overMaxWidth(Du(e).call(e,0,t));)t++;return t}splitStringIntoLines(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);let r=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");for(;r.length>0;){let e=this.getLongestFit(r);if(0===e){const e=r[0],n=this.getLongestFitWord(e);this.lines.newLine(Du(e).call(e,0,n),t),r[0]=Du(e).call(e,n)}else{let i=e;" "===r[e-1]?e--:" "===r[i]&&i++;const o=Du(r).call(r,0,e).join("");e==r.length&&n?this.lines.append(o,t):this.lines.newLine(o,t),r=Du(r).call(r,i)}}}}const Dx=["bold","ital","boldital","mono"];class Bx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),xx(e.label)?this.labelDirty=!0:e.label=void 0,void 0!==e.font&&null!==e.font)if("string"==typeof e.font)this.baseSize=this.fontOptions.size;else if("object"==typeof e.font){const t=e.font.size;void 0!==t&&(this.baseSize=t)}}initFontOptions(e){Tm(Dx,e=>{this.fontOptions[e]={}}),Bx.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:Tm(e,(e,t)=>{null!=e&&"object"!=typeof e&&(this.fontOptions[t]=e)})}static parseFontString(e,t){if(!t||"string"!=typeof t)return!1;const n=t.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=Bm(e,"widthConstraint");if("number"==typeof n)t.maxWdt=Number(n),t.minWdt=Number(n);else if("object"==typeof n){const n=Bm(e,["widthConstraint","maximum"]);"number"==typeof n&&(t.maxWdt=Number(n));const r=Bm(e,["widthConstraint","minimum"]);"number"==typeof r&&(t.minWdt=Number(r))}const r=Bm(e,"heightConstraint");if("number"==typeof r)t.minHgt=Number(r);else if("object"==typeof r){const n=Bm(e,["heightConstraint","minimum"]);"number"==typeof n&&(t.minHgt=Number(n));const r=Bm(e,["heightConstraint","valign"]);"string"==typeof r&&("top"!==r&&"bottom"!==r||(t.valign=r))}return t}update(e,t){this.setOptions(e,!0),this.propagateFonts(t),xm(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=bx("label",t)}adjustSizes(e){const t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,t){for(let n=0;n<t.length;++n)this.addFontToPile(e,t[n])}addFontToPile(e,t){if(void 0===t)return;if(void 0===t.font||null===t.font)return;const n=t.font;e.push(n)}getBasicOptions(e){const t={};for(let n=0;n<e.length;++n){let r=e[n];const i={};Bx.parseFontString(i,r)&&(r=i),Tm(r,(e,n)=>{void 0!==e&&(Object.prototype.hasOwnProperty.call(t,n)||(-1!==Cp(Dx).call(Dx,n)?t[n]={}:t[n]=e))})}return t}getFontOption(e,t,n){let r;for(let i=0;i<e.length;++i){const o=e[i];if(Object.prototype.hasOwnProperty.call(o,t)){if(r=o[t],null==r)continue;const e={};if(Bx.parseFontString(e,r)&&(r=e),Object.prototype.hasOwnProperty.call(r,n))return r[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,t){const n={},r=["color","size","face","mod","vadjust"];for(let i=0;i<r.length;++i){const o=r[i];n[o]=this.getFontOption(e,t,o)}return n}propagateFonts(e){const t=[];this.addFontOptionsToPile(t,e),this.fontOptions=this.getBasicOptions(t);for(let e=0;e<Dx.length;++e){const n=Dx[e],r=this.fontOptions[n];Tm(this.getFontOptions(t,n),(e,t)=>{r[t]=e}),r.size=Number(r.size),r.vadjust=Number(r.vadjust)}}draw(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0===this.elementOptions.label)return;let s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,r,i,t,n,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,s))}_drawBackground(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;const t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}_drawText(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",i=arguments.length>4?arguments[4]:void 0;[t,n]=this._setAlignment(e,t,n,r),e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(let r=0;r<this.lineCount;r++){const o=this.lines[r];if(o&&o.blocks){let r=0;this.isEdgeLabel||"center"===this.fontOptions.align?r+=(this.size.width-o.width)/2:"right"===this.fontOptions.align&&(r+=this.size.width-o.width);for(let s=0;s<o.blocks.length;s++){const a=o.blocks[s];e.font=a.font;const[l,c]=this._getColor(a.color,i,a.strokeColor);a.strokeWidth>0&&(e.lineWidth=a.strokeWidth,e.strokeStyle=c,e.lineJoin="round"),e.fillStyle=l,a.strokeWidth>0&&e.strokeText(a.text,t+r,n+a.vadjust),e.fillText(a.text,t+r,n+a.vadjust),r+=a.width}n+=o.height}}}_setAlignment(e,t,n,r){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){t=0,n=0;const r=2;"top"===this.fontOptions.align?(e.textBaseline="alphabetic",n-=2*r):"bottom"===this.fontOptions.align?(e.textBaseline="hanging",n+=2*r):e.textBaseline="middle"}else e.textBaseline=r;return[t,n]}_getColor(e,t,n){let r=e||"#000000",i=n||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){const e=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));r=km(r,e),i=km(i,e)}return[r,i]}getTextSize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(e,t,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){const n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=n,t=.5*-this.size.height;break;case"top":e=n,t=-(this.size.height+2);break;case"bottom":e=n,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}calculateLabelSize(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(e,t,n),this.size.left=r-.5*this.size.width,this.size.top=i-.5*this.size.height,this.size.yLine=i+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,t,n,r){const i=function(e,t,n){return"normal"===t?"mod"===n?"":e[n]:void 0!==e[t][n]?e[t][n]:e[n]},o={color:i(this.fontOptions,r,"color"),size:i(this.fontOptions,r,"size"),face:i(this.fontOptions,r,"face"),mod:i(this.fontOptions,r,"mod"),vadjust:i(this.fontOptions,r,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||n)&&("normal"===r&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,t,n));let s="";return void 0!==o.mod&&""!==o.mod&&(s+=o.mod+" "),s+=o.size+"px "+o.face,e.font=s.replace(/"/g,""),o.font=e.font,o.height=o.size,o}differentState(e,t){return e!==this.selectedState||t!==this.hoverState}_processLabelText(e,t,n,r){return new Px(e,this,t,n).process(r)}_processLabel(e,t,n){if(!1===this.labelDirty&&!this.differentState(t,n))return;const r=this._processLabelText(e,t,n,this.elementOptions.label);this.fontOptions.minWdt>0&&r.width<this.fontOptions.minWdt&&(r.width=this.fontOptions.minWdt),this.size.labelHeight=r.height,this.fontOptions.minHgt>0&&r.height<this.fontOptions.minHgt&&(r.height=this.fontOptions.minHgt),this.lines=r.lines,this.lineCount=r.lines.length,this.size.width=r.width,this.size.height=r.height,this.selectedState=t,this.hoverState=n,this.labelDirty=!1}visible(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class Fx{constructor(e,t,n){this.body=t,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&("object"==typeof this.options.margin?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,t){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+n}enableShadow(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,t){if(!1!==t.borderDashes)if(void 0!==e.setLineDash){let n=t.borderDashes;!0===n&&(n=[5,15]),e.setLineDash(n)}else this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}disableBorderDashes(e,t){!1!==t.borderDashes&&(void 0!==e.setLineDash?e.setLineDash([0]):(this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}needsRefresh(e,t){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(e,t)}initContextForDraw(e,t){const n=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=t.borderColor,e.fillStyle=t.color}performStroke(e,t){const n=t.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}performFill(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),hf(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,t,n,r,i){void 0!==n&&this.resize(n,r,i),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,t,n,r,i){this._updateBoundingBox(e,t,n,r,i)}getDimensionsFromLabel(e,t,n){this.textSize=this.labelModule.getTextSize(e,t,n);let r=this.textSize.width,i=this.textSize.height;return 0===r&&(r=14,i=14),{width:r,height:i}}}let zx=class extends Fx{constructor(e,t,n){super(e,t,n),this._setMargins(n)}resize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){const r=this.getDimensionsFromLabel(e,t,n);this.width=r.width+this.margin.right+this.margin.left,this.height=r.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),Gr(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,n,e,r,i),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,i)}updateBoundingBox(e,t,n,r,i){this._updateBoundingBox(e,t,n,r,i);const o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}distanceToBorder(e,t){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+n}};class $x extends Fx{constructor(e,t,n){super(e,t,n),this.labelOffset=0,this.selected=!1}setOptions(e,t,n){this.options=e,void 0===t&&void 0===n||this.setImages(t,n)}setImages(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}switchImages(e){const t=e&&!this.selected||!e&&this.selected;if(this.selected=e,void 0!==this.imageObjAlt&&t){const e=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=e}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const t=this.options.imagePadding;"object"==typeof t?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}_resizeImage(){let e,t;if(!1===this.options.shapeProperties.useImageSize){let n=1,r=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:r=this.imageObj.height/this.imageObj.width),e=2*this.options.size*n,t=2*this.options.size*r}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,t=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=t,this.radius=.5*this.width}_drawRawCircle(e,t,n,r){this.initContextForDraw(e,r),Hr(e,t,n,r.size),this.performFill(e,r)}_drawImageAtPosition(e,t){if(0!=this.imageObj.width){e.globalAlpha=void 0!==t.opacity?t.opacity:1,this.enableShadow(e,t);let n=1;!0===this.options.shapeProperties.interpolation&&(n=this.imageObj.width/this.width/this.body.view.scale);const r=this._getImagePadding(),i=this.left+r.left,o=this.top+r.top,s=this.width-r.left-r.right,a=this.height-r.top-r.bottom;this.imageObj.drawImageAtPosition(e,n,i,o,s,a),this.disableShadow(e,t)}}_drawImageLabel(e,t,n,r,i){let o=0;if(void 0!==this.height){o=.5*this.height;const t=this.labelModule.getTextSize(e,r,i);t.lineCount>=1&&(o+=t.height/2)}const s=n+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,t,s,r,i,"hanging")}}let jx=class extends $x{constructor(e,t,n){super(e,t,n),this._setMargins(n)}resize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){const r=this.getDimensionsFromLabel(e,t,n),i=Math.max(r.width+this.margin.right+this.margin.left,r.height+this.margin.top+this.margin.bottom);this.options.size=i/2,this.width=i,this.height=i,this.radius=this.width/2}}draw(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,t,n,o),this.updateBoundingBox(t,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,r,i)}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}distanceToBorder(e){return e&&this.resize(e),.5*this.width}};class Ux extends $x{constructor(e,t,n,r,i){super(e,t,n),this.setImages(r,i)}resize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){const e=2*this.options.size;return this.width=e,this.height=e,void(this.radius=.5*this.width)}this.needsRefresh(t,n)&&this._resizeImage()}draw(e,t,n,r,i,o){this.switchImages(r),this.resize();let s=t,a=n;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=n,s+=this.width/2,a+=this.height/2):(this.left=t-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,s,a,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,s,a,r,i),this.updateBoundingBox(t,n)}updateBoundingBox(e,t){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=t,this.boundingBox.left=e,this.boundingBox.right=e+2*this.options.size,this.boundingBox.bottom=t+2*this.options.size):(this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),.5*this.width}}class Hx extends Fx{constructor(e,t,n){super(e,t,n)}resize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,n)){var i,o;this.labelModule.getTextSize(e,t,n);const s=2*r.size;this.width=null!==(i=this.customSizeWidth)&&void 0!==i?i:s,this.height=null!==(o=this.customSizeHeight)&&void 0!==o?o:s,this.radius=.5*this.width}}_drawShape(e,t,n,r,i,o,s,a){var l;return this.resize(e,o,s,a),this.left=r-this.width/2,this.top=i-this.height/2,this.initContextForDraw(e,a),(l=t,Object.prototype.hasOwnProperty.call(qr,l)?qr[l]:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];CanvasRenderingContext2D.prototype[l].call(e,n)})(e,r,i,a.size),this.performFill(e,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,r,i)),{drawExternalLabel:()=>{if(void 0!==this.options.label){this.labelModule.calculateLabelSize(e,o,s,r,i,"hanging");const t=i+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,r,t,o,s,"hanging")}this.updateBoundingBox(r,i)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function Gx(e,t){var n=Ju(e);if(Kw){var r=Kw(e);t&&(r=Bd(r).call(r,function(t){return ox(e,t).enumerable})),n.push.apply(n,r)}return n}function Vx(e){for(var t=1;t<arguments.length;t++){var n,r,i=null!=arguments[t]?arguments[t]:{};t%2?mh(n=Gx(Object(i),!0)).call(n,function(t){Rw(e,t,i[t])}):ux?vx(e,ux(i)):mh(r=Gx(Object(i))).call(r,function(t){yx(e,t,ox(i,t))})}return e}class Wx extends Hx{constructor(e,t,n,r){super(e,t,n,r),this.ctxRenderer=r}draw(e,t,n,r,i,o){this.resize(e,r,i,o),this.left=t-this.width/2,this.top=n-this.height/2,e.save();const s=this.ctxRenderer({ctx:e,id:this.options.id,x:t,y:n,state:{selected:r,hover:i},style:Vx({},o),label:this.options.label});if(null!=s.drawNode&&s.drawNode(),e.restore(),s.drawExternalLabel){const t=s.drawExternalLabel;s.drawExternalLabel=()=>{e.save(),t(),e.restore()}}return s.nodeDimensions&&(this.customSizeWidth=s.nodeDimensions.width,this.customSizeHeight=s.nodeDimensions.height),s}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class Yx extends Fx{constructor(e,t,n){super(e,t,n),this._setMargins(n)}resize(e,t,n){if(this.needsRefresh(t,n)){const r=this.getDimensionsFromLabel(e,t,n).width+this.margin.right+this.margin.left;this.width=r,this.height=r,this.radius=this.width/2}}draw(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),Wr(e,t-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,n,e,r,i),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,i)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let qx=class extends Hx{constructor(e,t,n){super(e,t,n)}draw(e,t,n,r,i,o){return this._drawShape(e,"diamond",4,t,n,r,i,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class Xx extends Hx{constructor(e,t,n){super(e,t,n)}draw(e,t,n,r,i,o){return this._drawShape(e,"circle",2,t,n,r,i,o)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class Kx extends Fx{constructor(e,t,n){super(e,t,n)}resize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){const r=this.getDimensionsFromLabel(e,t,n);this.height=2*r.height,this.width=r.width+r.height,this.radius=.5*this.width}}draw(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-.5*this.width,this.top=n-.5*this.height,this.initContextForDraw(e,o),Vr(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,n,e,r,i),this.labelModule.draw(e,t,n,r,i)}distanceToBorder(e,t){e&&this.resize(e);const n=.5*this.width,r=.5*this.height,i=Math.sin(t)*n,o=Math.cos(t)*r;return n*r/Math.sqrt(i*i+o*o)}}class Zx extends Fx{constructor(e,t,n){super(e,t,n),this._setMargins(n)}resize(e,t,n){this.needsRefresh(t,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,n,r,i,o){return this.resize(e,r,i),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=n-this.height/2,this._icon(e,t,n,r,i,o),{drawExternalLabel:()=>{if(void 0!==this.options.label){const t=5;this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+t,r)}this.updateBoundingBox(t,n)}}}updateBoundingBox(e,t){if(this.boundingBox.top=t-.5*this.options.icon.size,this.boundingBox.left=e-.5*this.options.icon.size,this.boundingBox.right=e+.5*this.options.icon.size,this.boundingBox.bottom=t+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){const e=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+e)}}_icon(e,t,n,r,i,o){const s=Number(this.options.icon.size);void 0!==this.options.icon.code&&(e.font=[null!=this.options.icon.weight?this.options.icon.weight:r?"bold":"",(null!=this.options.icon.weight&&r?5:0)+s+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,n),this.disableShadow(e,o))}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let Qx=class extends $x{constructor(e,t,n,r,i){super(e,t,n),this.setImages(r,i)}resize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){const e=2*this.options.size;return this.width=e,void(this.height=e)}this.needsRefresh(t,n)&&this._resizeImage()}draw(e,t,n,r,i,o){e.save(),this.switchImages(r),this.resize();let s=t,a=n;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=n,s+=this.width/2,a+=this.height/2):(this.left=t-this.width/2,this.top=n-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){const t=this.options.borderWidth,n=this.options.borderWidthSelected||2*this.options.borderWidth,s=(r?n:t)/this.body.view.scale;e.lineWidth=Math.min(this.width,s),e.beginPath();let a=r?this.options.color.highlight.border:i?this.options.color.hover.border:this.options.color.border,l=r?this.options.color.highlight.background:i?this.options.color.hover.background:this.options.color.background;void 0!==o.opacity&&(a=km(a,o.opacity),l=km(l,o.opacity)),e.strokeStyle=a,e.fillStyle=l,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),hf(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,s,a,r,i),this.updateBoundingBox(t,n),e.restore()}updateBoundingBox(e,t){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=t):(this.left=e-this.width/2,this.top=t-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class Jx extends Hx{constructor(e,t,n){super(e,t,n)}draw(e,t,n,r,i,o){return this._drawShape(e,"square",2,t,n,r,i,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class e_ extends Hx{constructor(e,t,n){super(e,t,n)}draw(e,t,n,r,i,o){return this._drawShape(e,"hexagon",4,t,n,r,i,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class t_ extends Hx{constructor(e,t,n){super(e,t,n)}draw(e,t,n,r,i,o){return this._drawShape(e,"star",4,t,n,r,i,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class n_ extends Fx{constructor(e,t,n){super(e,t,n),this._setMargins(n)}resize(e,t,n){this.needsRefresh(t,n)&&(this.textSize=this.labelModule.getTextSize(e,t,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-this.width/2,this.top=n-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,i),this.disableShadow(e,o),this.updateBoundingBox(t,n,e,r,i)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let r_=class extends Hx{constructor(e,t,n){super(e,t,n)}draw(e,t,n,r,i,o){return this._drawShape(e,"triangle",3,t,n,r,i,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class i_ extends Hx{constructor(e,t,n){super(e,t,n)}draw(e,t,n,r,i,o){return this._drawShape(e,"triangleDown",3,t,n,r,i,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}function o_(e,t){var n=Ju(e);if(Kw){var r=Kw(e);t&&(r=Bd(r).call(r,function(t){return ox(e,t).enumerable})),n.push.apply(n,r)}return n}function s_(e){for(var t=1;t<arguments.length;t++){var n,r,i=null!=arguments[t]?arguments[t]:{};t%2?mh(n=o_(Object(i),!0)).call(n,function(t){Rw(e,t,i[t])}):ux?vx(e,ux(i)):mh(r=o_(Object(i))).call(r,function(t){yx(e,t,ox(i,t))})}return e}class a_{constructor(e,t,n,r,i,o){this.options=Lm(i),this.globalOptions=i,this.defaultOptions=o,this.body=t,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Bx(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var t;-1===Cp(t=this.edges).call(t,e)&&this.edges.push(e)}detachEdge(e){var t;const n=Cp(t=this.edges).call(t,e);var r;-1!=n&&Jh(r=this.edges).call(r,n,1)}setOptions(e){const t=this.options.shape;if(!e)return;if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");a_.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=vp(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=vp(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=Hw(e.value)),a_.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=bx("node",n),this._load_images(),this.updateLabelModule(e),void 0!==e.opacity&&a_.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),void 0!==e.hidden||void 0!==e.physics}_load_images(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return void 0===e||"center"===e||"top-left"===e}static updateGroupOptions(e,t,n){var r;if(void 0===n)return;const i=e.group;if(void 0!==t&&void 0!==t.group&&i!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"!=typeof i&&("string"!=typeof i||""==i))return;const o=n.get(i);void 0!==o.opacity&&void 0===t.opacity&&(a_.checkOpacity(o.opacity)||(o.opacity=void 0));const s=Bd(r=Xw(t)).call(r,e=>null!=t[e]);s.push("font"),wm(s,e,o),e.color=Cm(e.color)}static parseOptions(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0;if(wm(["color","fixed","shadow"],e,t,n),a_.checkMass(t),void 0!==e.opacity&&(a_.checkOpacity(e.opacity)||(e.opacity=void 0)),void 0!==t.opacity&&(a_.checkOpacity(t.opacity)||(t.opacity=void 0)),t.shapeProperties&&a_.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin),Pm(e,t,"shadow",r),void 0!==t.color&&null!==t.color){const n=Cm(t.color);ym(e.color,n)}else!0===n&&null===t.color&&(e.color=Lm(r.color));void 0!==t.fixed&&null!==t.fixed&&("boolean"==typeof t.fixed?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(void 0!==t.fixed.x&&"boolean"==typeof t.fixed.x&&(e.fixed.x=t.fixed.x),void 0!==t.fixed.y&&"boolean"==typeof t.fixed.y&&(e.fixed.y=t.fixed.y))),!0===n&&null===t.font&&(e.font=Lm(r.font)),a_.updateGroupOptions(e,t,i),void 0!==t.scaling&&Pm(e.scaling,t.scaling,"label",r.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){const t=this.options.opacity;e.borderColor=km(e.borderColor,t),e.color=km(e.color,t),e.shadowColor=km(e.shadowColor,t)}return e}updateLabelModule(e){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),a_.updateGroupOptions(this.options,s_(s_({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const t=this.grouplist.get(this.options.group,!1),n=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new zx(this.options,this.body,this.labelModule);break;case"circle":this.shape=new jx(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Ux(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Wx(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Yx(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new qx(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Xx(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new Kx(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Zx(this.options,this.body,this.labelModule);break;case"image":this.shape=new Qx(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Jx(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new e_(this.options,this.body,this.labelModule);break;case"star":this.shape=new t_(this.options,this.body,this.labelModule);break;case"text":this.shape=new n_(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new r_(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new i_(this.options,this.body,this.labelModule)}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,t){return this.shape.distanceToBorder(e,t)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,t,n){if(void 0!==this.options.value){const r=this.options.scaling.customScalingFunction(e,t,n,this.options.value),i=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){const e=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+r*e}this.options.size=this.options.scaling.min+r*i}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}getItemsOnPoint(e){const t=[];return this.labelModule.visible()&&wx(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),wx(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,t){if(void 0!==e.mass&&e.mass<=0){let n="";void 0!==t&&(n=" in node id: "+t),e.mass=1}}}class l_{constructor(e,t,n,r){var i;if(this.body=e,this.images=t,this.groups=n,this.layoutEngine=r,this.body.functions.createNode=Ur(i=this.create).call(i,this),this.nodesListeners={add:(e,t)=>{this.add(t.items)},update:(e,t)=>{this.update(t.items,t.data,t.oldData)},remove:(e,t)=>{this.remove(t.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,n,r){if(t===e)return.5;{const n=1/(t-e);return Math.max(0,(r-e)*n)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Lm(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,t;this.body.emitter.on("refreshNodes",Ur(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Ur(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",()=>{Tm(this.nodesListeners,(e,t)=>{this.body.data.nodes&&this.body.data.nodes.off(t,e)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(void 0!==e){if(a_.parseOptions(this.options,e),void 0!==e.opacity&&(Bb(e.opacity)||!$b(e.opacity)||e.opacity<0||e.opacity>1||(this.options.opacity=e.opacity)),void 0!==e.shape)for(const e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&this.body.nodes[e].updateShape();if(void 0!==e.font||void 0!==e.widthConstraint||void 0!==e.heightConstraint)for(const e of Ju(this.body.nodes))this.body.nodes[e].updateLabelModule(),this.body.nodes[e].needsRefresh();if(void 0!==e.size)for(const e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&this.body.nodes[e].needsRefresh();void 0===e.hidden&&void 0===e.physics||this.body.emitter.emit("_dataChanged")}}setData(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.body.data.nodes;if(t.isDataViewLike("id",e))this.body.data.nodes=e;else if(Hu(e))this.body.data.nodes=new t.DataSet,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new t.DataSet}if(r&&Tm(this.nodesListeners,function(e,t){r.off(t,e)}),this.body.nodes={},this.body.data.nodes){const e=this;Tm(this.nodesListeners,function(t,n){e.body.data.nodes.on(n,t)});const t=this.body.data.nodes.getIds();this.add(t,!0)}!1===n&&this.body.emitter.emit("_dataChanged")}add(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=[];for(let n=0;n<e.length;n++){t=e[n];const i=this.body.data.nodes.get(t),o=this.create(i);r.push(o),this.body.nodes[t]=o}this.layoutEngine.positionInitially(r),!1===n&&this.body.emitter.emit("_dataChanged")}update(e,t,n){const r=this.body.nodes;let i=!1;for(let n=0;n<e.length;n++){const o=e[n];let s=r[o];const a=t[n];void 0!==s?s.setOptions(a)&&(i=!0):(i=!0,s=this.create(a),r[o]=s)}i||void 0===n||(i=Yb(t).call(t,function(e,t){const r=n[t];return r&&r.level!==e.level})),!0===i?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const t=this.body.nodes;for(let n=0;n<e.length;n++)delete t[e[n]];this.body.emitter.emit("_dataChanged")}create(e){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:a_)(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Tm(this.body.nodes,(t,n)=>{const r=this.body.data.nodes.get(n);void 0!==r&&(!0===e&&t.setOptions({x:null,y:null}),t.setOptions({fixed:!1}),t.setOptions(r))})}getPositions(e){const t={};if(void 0!==e){if(!0===Hu(e)){for(let n=0;n<e.length;n++)if(void 0!==this.body.nodes[e[n]]){const r=this.body.nodes[e[n]];t[e[n]]={x:Math.round(r.x),y:Math.round(r.y)}}}else if(void 0!==this.body.nodes[e]){const n=this.body.nodes[e];t[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let e=0;e<this.body.nodeIndices.length;e++){const n=this.body.nodes[this.body.nodeIndices[e]];t[this.body.nodeIndices[e]]={x:Math.round(n.x),y:Math.round(n.y)}}return t}getPosition(e){if(null==e)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[e])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],t=this.body.data.nodes.getDataSet();for(const n of t.get()){const t=n.id,r=this.body.nodes[t],i=Math.round(r.x),o=Math.round(r.y);n.x===i&&n.y===o||e.push({id:t,x:i,y:o})}t.update(e)}getBoundingBox(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,t){const n=[];if(void 0!==this.body.nodes[e]){const r=this.body.nodes[e],i={};for(let e=0;e<r.edges.length;e++){const o=r.edges[e];"to"!==t&&o.toId==r.id?void 0===i[o.fromId]&&(n.push(o.fromId),i[o.fromId]=!0):"from"!==t&&o.fromId==r.id&&void 0===i[o.toId]&&(n.push(o.toId),i[o.toId]=!0)}}return n}getConnectedEdges(e){const t=[];if(void 0!==this.body.nodes[e]){const n=this.body.nodes[e];for(let e=0;e<n.edges.length;e++)t.push(n.edges[e].id)}return t}moveNode(e,t,n){void 0!==this.body.nodes[e]&&(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(n),Jp(()=>{this.body.emitter.emit("startSimulation")},0))}}var c_=On,u_=Math.hypot,h_=Math.abs,d_=Math.sqrt;c_({target:"Math",stat:!0,arity:2,forced:!!u_&&u_(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,i=0,o=0,s=arguments.length,a=0;o<s;)a<(n=h_(arguments[o++]))?(i=i*(r=a/n)*r+1,a=n):i+=n>0?(r=n/a)*r:n;return a===1/0?1/0:a*d_(i)}});var p_=i(re.Math.hypot);class f_{static transform(e,t){Hu(e)||(e=[e]);const n=t.point.x,r=t.point.y,i=t.angle,o=t.length;for(let t=0;t<e.length;++t){const s=e[t],a=s.x*Math.cos(i)-s.y*Math.sin(i),l=s.x*Math.sin(i)+s.y*Math.cos(i);s.x=n+o*a,s.y=r+o*l}}static drawPath(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let n=1;n<t.length;++n)e.lineTo(t[n].x,t[n].y);e.closePath()}}let g_,m_=class extends f_{static draw(e,t){if(t.image){e.save(),e.translate(t.point.x,t.point.y),e.rotate(Math.PI/2+t.angle);const n=null!=t.imageWidth?t.imageWidth:t.image.width,r=null!=t.imageHeight?t.imageHeight:t.image.height;t.image.drawImageAtPosition(e,1,-n/2,0,n,r),e.restore()}return!1}};class v_ extends f_{static draw(e,t){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return f_.transform(n,t),f_.drawPath(e,n),!0}}class y_{static draw(e,t){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return f_.transform(n,t),f_.drawPath(e,n),!0}}class b_{static draw(e,t){const n={x:-.4,y:0};f_.transform(n,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const r=Math.PI,i=t.angle-r/2,o=t.angle+r/2;return e.beginPath(),e.arc(n.x,n.y,.4*t.length,i,o,!1),e.stroke(),!0}}class w_{static draw(e,t){const n={x:-.3,y:0};f_.transform(n,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const r=Math.PI,i=t.angle+r/2,o=t.angle+3*r/2;return e.beginPath(),e.arc(n.x,n.y,.4*t.length,i,o,!1),e.stroke(),!0}}class x_{static draw(e,t){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return f_.transform(n,t),f_.drawPath(e,n),!0}}class __{static draw(e,t){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return f_.transform(n,t),f_.drawPath(e,n),!0}}class A_{static draw(e,t){const n={x:-.4,y:0};return f_.transform(n,t),Hr(e,n.x,n.y,.4*t.length),!0}}class T_{static draw(e,t){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return f_.transform(n,t),f_.drawPath(e,n),!0}}class E_{static draw(e,t){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return f_.transform(n,t),f_.drawPath(e,n),!0}}class k_{static draw(e,t){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return f_.transform(n,t),f_.drawPath(e,n),!0}}class S_{static draw(e,t){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return f_.transform(n,t),f_.drawPath(e,n),!0}}class C_{static draw(e,t){let n;switch(t.type&&(n=t.type.toLowerCase()),n){case"image":return m_.draw(e,t);case"circle":return A_.draw(e,t);case"box":return E_.draw(e,t);case"crow":return y_.draw(e,t);case"curve":return b_.draw(e,t);case"diamond":return k_.draw(e,t);case"inv_curve":return w_.draw(e,t);case"triangle":return x_.draw(e,t);case"inv_triangle":return __.draw(e,t);case"bar":return T_.draw(e,t);case"vee":return S_.draw(e,t);default:return v_.draw(e,t)}}}function N_(e,t){var n=Ju(e);if(Kw){var r=Kw(e);t&&(r=Bd(r).call(r,function(t){return ox(e,t).enumerable})),n.push.apply(n,r)}return n}function M_(e){for(var t=1;t<arguments.length;t++){var n,r,i=null!=arguments[t]?arguments[t]:{};t%2?mh(n=N_(Object(i),!0)).call(n,function(t){Rw(e,t,i[t])}):ux?vx(e,ux(i)):mh(r=N_(Object(i))).call(r,function(t){yx(e,t,ox(i,t))})}return e}class O_{constructor(e,t,n){this._body=t,this._labelModule=n,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,!1!==t.dashes?this._drawDashedLine(e,t,i):this._drawLine(e,t,i)}_drawLine(e,t,n,r,i){if(this.from!=this.to)this._line(e,t,n,r,i);else{const[n,r,i]=this._getCircleData(e);this._circle(e,t,n,r,i)}}_drawDashedLine(e,t,n,r,i){e.lineCap="round";const o=Hu(t.dashes)?t.dashes:[5,5];if(void 0!==e.setLineDash){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,n);else{const[n,r,i]=this._getCircleData(e);this._circle(e,t,n,r,i)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)Yr(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{const[n,r,i]=this._getCircleData(e);this._circle(e,t,n,r,i)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}findBorderPosition(e,t,n){return this.from!=this.to?this._findBorderPosition(e,t,n):this._findBorderPositionCircle(e,t,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var t;const[n,r]=Du(t=this._getCircleData(e)).call(t,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:r,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:r,low:.6,high:.8,direction:1})}}}_getCircleData(e){const t=this.options.selfReference.size;void 0!==e&&void 0===this.from.shape.width&&this.from.shape.resize(e);const n=_x(e,this.options.selfReference.angle,t,this.from);return[n.x,n.y,t]}_pointOnCircle(e,t,n,r){const i=2*r*Math.PI;return{x:e+n*Math.cos(i),y:t-n*Math.sin(i)}}_findBorderPositionCircle(e,t,n){const r=n.x,i=n.y;let o=n.low,s=n.high;const a=n.direction,l=this.options.selfReference.size;let c,u=.5*(o+s),h=0;!0===this.options.arrowStrikethrough&&(-1===a?h=this.options.endPointOffset.from:1===a&&(h=this.options.endPointOffset.to));let d=0;do{u=.5*(o+s),c=this._pointOnCircle(r,i,l,u);const n=Math.atan2(e.y-c.y,e.x-c.x),p=e.distanceToBorder(t,n)+h-Math.sqrt(Math.pow(c.x-e.x,2)+Math.pow(c.y-e.y,2));if(Math.abs(p)<.05)break;p>0?a>0?o=u:s=u:a>0?s=u:o=u,++d}while(o<=s&&d<10);return M_(M_({},c),{},{t:u})}getLineWidth(e,t){return!0===e?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===t?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,t){if(!1!==t.inheritsColor){if("both"===t.inheritsColor&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let r=this.from.options.color.highlight.border,i=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(r=km(this.from.options.color.border,t.opacity),i=km(this.to.options.color.border,t.opacity)):!0===this.from.selected&&!1===this.to.selected?i=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(r=this.from.options.color.border),n.addColorStop(0,r),n.addColorStop(1,i),n}return"to"===t.inheritsColor?km(this.to.options.color.border,t.opacity):km(this.from.options.color.border,t.opacity)}return km(t.color,t.opacity)}_circle(e,t,n,r,i){this.enableShadow(e,t);let o=0,s=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){const t=this.options.selfReference.angle,i=this.options.selfReference.angle+Math.PI,a=this._findBorderPositionCircle(this.from,e,{x:n,y:r,low:t,high:i,direction:-1}),l=this._findBorderPositionCircle(this.from,e,{x:n,y:r,low:t,high:i,direction:1});o=Math.atan2(a.y-r,a.x-n),s=Math.atan2(l.y-r,l.x-n)}e.beginPath(),e.arc(n,r,i,o,s,!1),e.stroke(),this.disableShadow(e,t)}getDistanceToEdge(e,t,n,r,i,o){if(this.from!=this.to)return this._getDistanceToEdge(e,t,n,r,i,o);{const[e,t,n]=this._getCircleData(void 0),r=e-i,s=t-o;return Math.abs(Math.sqrt(r*r+s*s)-n)}}_getDistanceToLine(e,t,n,r,i,o){const s=n-e,a=r-t;let l=((i-e)*s+(o-t)*a)/(s*s+a*a);l>1?l=1:l<0&&(l=0);const c=e+l*s-i,u=t+l*a-o;return Math.sqrt(c*c+u*u)}getArrowData(e,t,n,r,i,o){let s,a,l,c,u,h,d;const p=o.width;"from"===t?(l=this.from,c=this.to,u=o.fromArrowScale<0,h=Math.abs(o.fromArrowScale),d=o.fromArrowType):"to"===t?(l=this.to,c=this.from,u=o.toArrowScale<0,h=Math.abs(o.toArrowScale),d=o.toArrowType):(l=this.to,c=this.from,u=o.middleArrowScale<0,h=Math.abs(o.middleArrowScale),d=o.middleArrowType);const f=15*h+3*p;if(l!=c){const r=f/p_(l.x-c.x,l.y-c.y);if("middle"!==t)if(!0===this.options.smooth.enabled){const i=this._findBorderPosition(l,e,{via:n}),o=this.getPoint(i.t+r*("from"===t?1:-1),n);s=Math.atan2(i.y-o.y,i.x-o.x),a=i}else s=Math.atan2(l.y-c.y,l.x-c.x),a=this._findBorderPosition(l,e);else{const e=(u?-r:r)/2,t=this.getPoint(.5+e,n),i=this.getPoint(.5-e,n);s=Math.atan2(t.y-i.y,t.x-i.x),a=this.getPoint(.5,n)}}else{const[n,r,i]=this._getCircleData(e);if("from"===t){const t=this.options.selfReference.angle,i=this.options.selfReference.angle+Math.PI,o=this._findBorderPositionCircle(this.from,e,{x:n,y:r,low:t,high:i,direction:-1});s=-2*o.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=o}else if("to"===t){const t=this.options.selfReference.angle,i=this.options.selfReference.angle+Math.PI,o=this._findBorderPositionCircle(this.from,e,{x:n,y:r,low:t,high:i,direction:1});s=-2*o.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=o}else{const e=this.options.selfReference.angle/(2*Math.PI);a=this._pointOnCircle(n,r,i,e),s=-2*e*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:a,core:{x:a.x-.9*f*Math.cos(s),y:a.y-.9*f*Math.sin(s)},angle:s,length:f,type:d}}drawArrowHead(e,t,n,r,i){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,C_.draw(e,i)&&(this.enableShadow(e,t),hf(e).call(e),this.disableShadow(e,t))}enableShadow(e,t){!0===t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){!0===t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,t){if(!1!==t.background){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,t.dashes)}}setStrokeDashed(e,t){if(!1!==t){if(void 0!==e.setLineDash){const n=Hu(t)?t:[5,5];e.setLineDash(n)}}else void 0!==e.setLineDash&&e.setLineDash([])}}function R_(e,t){var n=Ju(e);if(Kw){var r=Kw(e);t&&(r=Bd(r).call(r,function(t){return ox(e,t).enumerable})),n.push.apply(n,r)}return n}function I_(e){for(var t=1;t<arguments.length;t++){var n,r,i=null!=arguments[t]?arguments[t]:{};t%2?mh(n=R_(Object(i),!0)).call(n,function(t){Rw(e,t,i[t])}):ux?vx(e,ux(i)):mh(r=R_(Object(i))).call(r,function(t){yx(e,t,ox(i,t))})}return e}class L_ extends O_{constructor(e,t,n){super(e,t,n)}_findBorderPositionBezier(e,t){let n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),o=!1,s=1,a=0,l=this.to,c=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(l=this.from,o=!0,c=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(c=0);let u=0;do{r=.5*(a+s),n=this.getPoint(r,i);const e=Math.atan2(l.y-n.y,l.x-n.x),h=l.distanceToBorder(t,e)+c-Math.sqrt(Math.pow(n.x-l.x,2)+Math.pow(n.y-l.y,2));if(Math.abs(h)<.2)break;h<0?!1===o?a=r:s=r:!1===o?s=r:a=r,++u}while(a<=s&&u<10);return I_(I_({},n),{},{t:r})}_getDistanceToBezierEdge(e,t,n,r,i,o,s){let a,l,c,u,h,d=1e9,p=e,f=t;for(l=1;l<10;l++)c=.1*l,u=Math.pow(1-c,2)*e+2*c*(1-c)*s.x+Math.pow(c,2)*n,h=Math.pow(1-c,2)*t+2*c*(1-c)*s.y+Math.pow(c,2)*r,l>0&&(a=this._getDistanceToLine(p,f,u,h,i,o),d=a<d?a:d),p=u,f=h;return d}_bezierCurve(e,t,n,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),null!=n&&null!=n.x?null!=r&&null!=r.x?e.bezierCurveTo(n.x,n.y,r.x,r.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){return this._getViaCoordinates()}}class P_ extends L_{constructor(e,t,n){super(e,t,n),this.via=this.via,this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===t&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}setupSupportNode(){if(void 0===this.via){const e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}_line(e,t,n){this._bezierCurve(e,t,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){const[t,n,r]=this._getCircleData(),i=2*Math.PI*(1-e);return{x:t+r*Math.sin(i),y:n+r-r*(1-Math.cos(i))}}return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*t.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*t.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t,this.via)}_getDistanceToEdge(e,t,n,r,i,o){return this._getDistanceToBezierEdge(e,t,n,r,i,o,this.via)}}class D_ extends L_{constructor(e,t,n){super(e,t,n)}_line(e,t,n){this._bezierCurve(e,t,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,t=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),r=Math.abs(this.from.y-this.to.y);if("discrete"===t||"diagonalCross"===t){let i,o;i=o=n<=r?e*r:e*n,this.from.x>this.to.x&&(i=-i),this.from.y>=this.to.y&&(o=-o);let s=this.from.x+i,a=this.from.y+o;return"discrete"===t&&(n<=r?s=n<e*r?this.from.x:s:a=r<e*n?this.from.y:a),{x:s,y:a}}if("straightCross"===t){let t=(1-e)*n,i=(1-e)*r;return n<=r?(t=0,this.from.y<this.to.y&&(i=-i)):(this.from.x<this.to.x&&(t=-t),i=0),{x:this.to.x+t,y:this.to.y+i}}if("horizontal"===t){let t=(1-e)*n;return this.from.x<this.to.x&&(t=-t),{x:this.to.x+t,y:this.from.y}}if("vertical"===t){let t=(1-e)*r;return this.from.y<this.to.y&&(t=-t),{x:this.from.x,y:this.to.y+t}}if("curvedCW"===t){n=this.to.x-this.from.x,r=this.from.y-this.to.y;const t=Math.sqrt(n*n+r*r),i=Math.PI,o=(Math.atan2(r,n)+(.5*e+.5)*i)%(2*i);return{x:this.from.x+(.5*e+.5)*t*Math.sin(o),y:this.from.y+(.5*e+.5)*t*Math.cos(o)}}if("curvedCCW"===t){n=this.to.x-this.from.x,r=this.from.y-this.to.y;const t=Math.sqrt(n*n+r*r),i=Math.PI,o=(Math.atan2(r,n)+(.5*-e+.5)*i)%(2*i);return{x:this.from.x+(.5*e+.5)*t*Math.sin(o),y:this.from.y+(.5*e+.5)*t*Math.cos(o)}}{let t,i;t=i=n<=r?e*r:e*n,this.from.x>this.to.x&&(t=-t),this.from.y>=this.to.y&&(i=-i);let o=this.from.x+t,s=this.from.y+i;return n<=r?o=this.from.x<=this.to.x?this.to.x<o?this.to.x:o:this.to.x>o?this.to.x:o:s=this.from.y>=this.to.y?this.to.y>s?this.to.y:s:this.to.y<s?this.to.y:s,{x:o,y:s}}}_findBorderPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(e,t,n.via)}_getDistanceToEdge(e,t,n,r,i,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,n,r,i,o,s)}getPoint(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates();const n=e;return{x:Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*t.x+Math.pow(n,2)*this.toPoint.x,y:Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*t.y+Math.pow(n,2)*this.toPoint.y}}}class B_ extends L_{constructor(e,t,n){super(e,t,n)}_getDistanceToBezierEdge2(e,t,n,r,i,o,s,a){let l=1e9,c=e,u=t;const h=[0,0,0,0];for(let d=1;d<10;d++){const p=.1*d;h[0]=Math.pow(1-p,3),h[1]=3*p*Math.pow(1-p,2),h[2]=3*Math.pow(p,2)*(1-p),h[3]=Math.pow(p,3);const f=h[0]*e+h[1]*s.x+h[2]*a.x+h[3]*n,g=h[0]*t+h[1]*s.y+h[2]*a.y+h[3]*r;if(d>0){const e=this._getDistanceToLine(c,u,f,g,i,o);l=e<l?e:l}c=f,u=g}return l}}class F_ extends B_{constructor(e,t,n){super(e,t,n)}_line(e,t,n){const r=n[0],i=n[1];this._bezierCurve(e,t,r,i)}_getViaCoordinates(){const e=this.from.x-this.to.x,t=this.from.y-this.to.y;let n,r,i,o;const s=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(t)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(r=this.from.y,o=this.to.y,n=this.from.x-s*e,i=this.to.x+s*e):(r=this.from.y-s*t,o=this.to.y+s*t,n=this.from.x,i=this.to.x),[{x:n,y:r},{x:i,y:o}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t)}_getDistanceToEdge(e,t,n,r,i,o){let[s,a]=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,t,n,r,i,o,s,a)}getPoint(e){let[t,n]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates();const r=e,i=[Math.pow(1-r,3),3*r*Math.pow(1-r,2),3*Math.pow(r,2)*(1-r),Math.pow(r,3)];return{x:i[0]*this.fromPoint.x+i[1]*t.x+i[2]*n.x+i[3]*this.toPoint.x,y:i[0]*this.fromPoint.y+i[1]*t.y+i[2]*n.y+i[3]*this.toPoint.y}}}class z_ extends O_{constructor(e,t,n){super(e,t,n)}_line(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,t){let n=this.to,r=this.from;e.id===this.from.id&&(n=this.from,r=this.to);const i=Math.atan2(n.y-r.y,n.x-r.x),o=n.x-r.x,s=n.y-r.y,a=Math.sqrt(o*o+s*s),l=(a-e.distanceToBorder(t,i))/a;return{x:(1-l)*r.x+l*n.x,y:(1-l)*r.y+l*n.y,t:0}}_getDistanceToEdge(e,t,n,r,i,o){return this._getDistanceToLine(e,t,n,r,i,o)}}class $_{constructor(e,t,n,r,i){if(void 0===t)throw new Error("No body provided");this.options=Lm(r),this.globalOptions=r,this.defaultOptions=i,this.body=t,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Bx(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let t=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;$_.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=Hw(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=bx("edge",n),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}static parseOptions(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(bm(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,n),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.from&&($b(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:e.endPointOffset.from=void 0!==r.endPointOffset.from?r.endPointOffset.from:0),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.to&&($b(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:e.endPointOffset.to=void 0!==r.endPointOffset.to?r.endPointOffset.to:0),xx(t.label)?e.label=t.label:xx(e.label)||(e.label=void 0),Pm(e,t,"smooth",r),Pm(e,t,"shadow",r),Pm(e,t,"background",r),void 0!==t.dashes&&null!==t.dashes?e.dashes=t.dashes:!0===n&&null===t.dashes&&(e.dashes=Mp(r.dashes)),void 0!==t.scaling&&null!==t.scaling?(void 0!==t.scaling.min&&(e.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(e.scaling.max=t.scaling.max),Pm(e.scaling,t.scaling,"label",r.scaling)):!0===n&&null===t.scaling&&(e.scaling=Mp(r.scaling)),void 0!==t.arrows&&null!==t.arrows)if("string"==typeof t.arrows){const n=t.arrows.toLowerCase();e.arrows.to.enabled=-1!=Cp(n).call(n,"to"),e.arrows.middle.enabled=-1!=Cp(n).call(n,"middle"),e.arrows.from.enabled=-1!=Cp(n).call(n,"from")}else{if("object"!=typeof t.arrows)throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Lp(t.arrows));Pm(e.arrows,t.arrows,"to",r.arrows),Pm(e.arrows,t.arrows,"middle",r.arrows),Pm(e.arrows,t.arrows,"from",r.arrows)}else!0===n&&null===t.arrows&&(e.arrows=Mp(r.arrows));if(void 0!==t.color&&null!==t.color){const o=gm(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,s=e.color;if(i)xm(s,r.color,!1,n);else for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&delete s[e];if(gm(s))s.color=s,s.highlight=s,s.hover=s,s.inherit=!1,void 0===o.opacity&&(s.opacity=1);else{let e=!1;void 0!==o.color&&(s.color=o.color,e=!0),void 0!==o.highlight&&(s.highlight=o.highlight,e=!0),void 0!==o.hover&&(s.hover=o.hover,e=!0),void 0!==o.inherit&&(s.inherit=o.inherit),void 0!==o.opacity&&(s.opacity=Math.min(1,Math.max(0,o.opacity))),!0===e?s.inherit=!1:void 0===s.inherit&&(s.inherit="from")}}else!0===n&&null===t.color&&(e.color=Lm(r.color));!0===n&&null===t.font&&(e.font=Lm(r.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(e.selfReference.size=t.selfReferenceSize)}getFormattingValues(){const e=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,t=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,n=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,r=this.options.color.inherit,i={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:r?void 0:this.options.color.color,inheritsColor:r,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){const e=this.options.selectionWidth;"function"==typeof e?i.width=e(i.width):"number"==typeof e&&(i.width+=e),i.width=Math.max(i.width,.3/this.body.view.scale),i.color=this.options.color.highlight,i.shadow=this.options.shadow.enabled}else if(this.hover){const e=this.options.hoverWidth;"function"==typeof e?i.width=e(i.width):"number"==typeof e&&(i.width+=e),i.width=Math.max(i.width,.3/this.body.view.scale),i.color=this.options.color.hover,i.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(i,this.options.id,this.selected,this.hover),void 0!==i.color&&(i.inheritsColor=!1),!1===i.shadow&&(i.shadowColor===this.options.shadow.color&&i.shadowSize===this.options.shadow.size&&i.shadowX===this.options.shadow.x&&i.shadowY===this.options.shadow.y||(i.shadow=!0)));else i.shadow=this.options.shadow.enabled,i.width=Math.max(i.width,.3/this.body.view.scale);return i}updateLabelModule(e){const t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let t=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof P_&&!0===e.enabled&&"dynamic"===e.type||this.edgeType instanceof F_&&!0===e.enabled&&"cubicBezier"===e.type||this.edgeType instanceof D_&&!0===e.enabled&&"dynamic"!==e.type&&"cubicBezier"!==e.type||this.edgeType instanceof z_&&!1===e.type.enabled)&&(n=!1),!0===n&&(t=this.cleanup())),!0===n?!0===e.enabled?"dynamic"===e.type?(t=!0,this.edgeType=new P_(this.options,this.body,this.labelModule)):"cubicBezier"===e.type?this.edgeType=new F_(this.options,this.body,this.labelModule):this.edgeType=new D_(this.options,this.body,this.labelModule):this.edgeType=new z_(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,t,n){if(void 0!==this.options.value){const r=this.options.scaling.customScalingFunction(e,t,n,this.options.value),i=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){const e=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+r*e}this.options.width=this.options.scaling.min+r*i}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const t=this.getFormattingValues();if(t.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const t=this.getFormattingValues();if(t.hidden)return;const n=this.edgeType.getViaNode(),r={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(r.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.fromPoint=r.from.core),t.fromArrowSrc&&(r.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(r.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(r.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(r.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.toPoint=r.to.core),t.toArrowSrc&&(r.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(r.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(r.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(r.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,t),t.middleArrowSrc&&(r.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(r.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(r.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,r.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,r.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,r.to)}drawLabel(e,t){if(void 0!==this.options.label){const n=this.from,r=this.to;let i;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),n.id!=r.id){this.labelModule.pointToSelf=!1,i=this.edgeType.getPoint(.5,t),e.save();const n=this._getRotation(e);0!=n.angle&&(e.translate(n.x,n.y),e.rotate(n.angle)),this.labelModule.draw(e,i.x,i.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const t=_x(e,this.options.selfReference.angle,this.options.selfReference.size,n);i=this._pointOnCircle(t.x,t.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,i.x,i.y,this.selected,this.hover)}}}getItemsOnPoint(e){const t=[];if(this.labelModule.visible()){const n=this._getRotation();wx(this.labelModule.getSize(),e,n)&&t.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&t.push({edgeId:this.id}),t}isOverlappingWith(e){if(this.connected){const t=10,n=this.from.x,r=this.from.y,i=this.to.x,o=this.to.y,s=e.left,a=e.top;return this.edgeType.getDistanceToEdge(n,r,i,o,s,a)<t}return!1}_getRotation(e){const t=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,t);void 0!==e&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const r={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return r;if("horizontal"===this.options.font.align)return r;const i=this.from.y-this.to.y,o=this.from.x-this.to.x;let s=Math.atan2(i,o);return(s<-1&&o<0||s>0&&o<0)&&(s+=Math.PI),r.angle=s,r}_pointOnCircle(e,t,n,r){return{x:e+n*Math.cos(r),y:t-n*Math.sin(r)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}class j_{constructor(e,t,n){var r;this.body=e,this.images=t,this.groups=n,this.body.functions.createEdge=Ur(r=this.create).call(r,this),this.edgesListeners={add:(e,t)=>{this.add(t.items)},update:(e,t)=>{this.update(t.items)},remove:(e,t)=>{this.remove(t.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,n,r){if(t===e)return.5;{const n=1/(t-e);return Math.max(0,(r-e)*n)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},xm(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,t,n=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");let r=!1;for(const t in n.body.edges)if(Object.prototype.hasOwnProperty.call(n.body.edges,t)){const i=n.body.edges[t],o=n.body.data.edges.get(t);if(null!=o){const t=o.smooth;void 0!==t&&!0===t.enabled&&"dynamic"===t.type&&(void 0===e?i.setOptions({smooth:!1}):i.setOptions({smooth:{type:e}}),r=!0)}}!0===t&&!0===r&&n.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",Ur(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Ur(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",()=>{Tm(this.edgesListeners,(e,t)=>{this.body.data.edges&&this.body.data.edges.off(t,e)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(void 0!==e){$_.parseOptions(this.options,e,!0,this.defaultOptions,!0);let t=!1;if(void 0!==e.smooth)for(const e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&(t=this.body.edges[e].updateEdgeType()||t);if(void 0!==e.font)for(const e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&this.body.edges[e].updateLabelModule();void 0===e.hidden&&void 0===e.physics&&!0!==t||this.body.emitter.emit("_dataChanged")}}setData(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.body.data.edges;if(t.isDataViewLike("id",e))this.body.data.edges=e;else if(Hu(e))this.body.data.edges=new t.DataSet,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new t.DataSet}if(r&&Tm(this.edgesListeners,(e,t)=>{r.off(t,e)}),this.body.edges={},this.body.data.edges){Tm(this.edgesListeners,(e,t)=>{this.body.data.edges.on(t,e)});const e=this.body.data.edges.getIds();this.add(e,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===n&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.body.edges,r=this.body.data.edges;for(let t=0;t<e.length;t++){const i=e[t],o=n[i];o&&o.disconnect();const s=r.get(i,{showInternalIds:!0});n[i]=this.create(s)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===t&&this.body.emitter.emit("_dataChanged")}update(e){const t=this.body.edges,n=this.body.data.edges;let r=!1;for(let i=0;i<e.length;i++){const o=e[i],s=n.get(o),a=t[o];void 0!==a?(a.disconnect(),r=a.setOptions(s)||r,a.connect()):(this.body.edges[o]=this.create(s),r=!0)}!0===r?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0===e.length)return;const n=this.body.edges;Tm(e,e=>{const t=n[e];void 0!==t&&t.remove()}),t&&this.body.emitter.emit("_dataChanged")}refresh(){Tm(this.body.edges,(e,t)=>{const n=this.body.data.edges.get(t);void 0!==n&&e.setOptions(n)})}create(e){return new $_(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const t=this.body.nodes,n=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const t=n[e];t.from=null,t.to=null,t.connect()}}getConnectedNodes(e){const t=[];if(void 0!==this.body.edges[e]){const n=this.body.edges[e];void 0!==n.fromId&&t.push(n.fromId),void 0!==n.toId&&t.push(n.toId)}return t}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];Tm(this.body.edges,(t,n)=>{const r=this.body.nodes[t.toId],i=this.body.nodes[t.fromId];void 0!==r&&!0===r.isCluster||void 0!==i&&!0===i.isCluster||void 0!==r&&void 0!==i||e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(null==e)return;const t=this.body.edges,n=[];mh(e).call(e,(e,r)=>{void 0===t[r]&&n.push(r)}),this.add(n,!0)}}class U_{constructor(e,t,n){this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(n),this._rng=am("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){let e;const t=this.body.nodes,n=this.physicsBody.physicsNodeIndices,r=n.length,i=this._formBarnesHutTree(t,n);this.barnesHutTree=i;for(let o=0;o<r;o++)e=t[n[o]],e.options.mass>0&&this._getForceContributions(i.root,e)}}_getForceContributions(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}_getForceContribution(e,t){if(e.childrenCount>0){const n=e.centerOfMass.x-t.x,r=e.centerOfMass.y-t.y,i=Math.sqrt(n*n+r*r);i*e.calcSize>this.thetaInversed?this._calculateForces(i,n,r,t,e):4===e.childrenCount?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(i,n,r,t,e)}}_calculateForces(e,t,n,r,i){0===e&&(t=e=.1),this.overlapAvoidanceFactor<1&&r.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,e-r.shape.radius));const o=this.options.gravitationalConstant*i.mass*r.options.mass/Math.pow(e,3),s=t*o,a=n*o;this.physicsBody.forces[r.id].x+=s,this.physicsBody.forces[r.id].y+=a}_formBarnesHutTree(e,t){let n;const r=t.length;let i=e[t[0]].x,o=e[t[0]].y,s=e[t[0]].x,a=e[t[0]].y;for(let n=1;n<r;n++){const r=e[t[n]],l=r.x,c=r.y;r.options.mass>0&&(l<i&&(i=l),l>s&&(s=l),c<o&&(o=c),c>a&&(a=c))}const l=Math.abs(s-i)-Math.abs(a-o);l>0?(o-=.5*l,a+=.5*l):(i+=.5*l,s-=.5*l);const c=Math.max(1e-5,Math.abs(s-i)),u=.5*c,h=.5*(i+s),d=.5*(o+a),p={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:h-u,maxX:h+u,minY:d-u,maxY:d+u},size:c,calcSize:1/c,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(p.root);for(let i=0;i<r;i++)n=e[t[i]],n.options.mass>0&&this._placeInTree(p.root,n);return p}_updateBranchMass(e,t){const n=e.centerOfMass,r=e.mass+t.options.mass,i=1/r;n.x=n.x*e.mass+t.x*t.options.mass,n.x*=i,n.y=n.y*e.mass+t.y*t.options.mass,n.y*=i,e.mass=r;const o=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}_placeInTree(e,t,n){1==n&&void 0!==n||this._updateBranchMass(e,t);const r=e.children.NW.range;let i;i=r.maxX>t.x?r.maxY>t.y?"NW":"SW":r.maxY>t.y?"NE":"SE",this._placeInRegion(e,t,i)}_placeInRegion(e,t,n){const r=e.children[n];switch(r.childrenCount){case 0:r.children.data=t,r.childrenCount=1,this._updateBranchMass(r,t);break;case 1:r.children.data.x===t.x&&r.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(r),this._placeInTree(r,t));break;case 4:this._placeInTree(r,t)}}_splitBranch(e){let t=null;1===e.childrenCount&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),null!=t&&this._placeInTree(e,t)}_insertRegion(e,t){let n,r,i,o;const s=.5*e.size;switch(t){case"NW":n=e.range.minX,r=e.range.minX+s,i=e.range.minY,o=e.range.minY+s;break;case"NE":n=e.range.minX+s,r=e.range.maxX,i=e.range.minY,o=e.range.minY+s;break;case"SW":n=e.range.minX,r=e.range.minX+s,i=e.range.minY+s,o=e.range.maxY;break;case"SE":n=e.range.minX+s,r=e.range.maxX,i=e.range.minY+s,o=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:r,minY:i,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,t){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}_drawBranch(e,t,n){void 0===n&&(n="#FF0000"),4===e.childrenCount&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=n,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}class H_{constructor(e,t,n){this._rng=am("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,t,n,r,i,o,s,a;const l=this.body.nodes,c=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,h=this.options.nodeDistance,d=-2/3/h;for(let p=0;p<c.length-1;p++){s=l[c[p]];for(let f=p+1;f<c.length;f++)a=l[c[f]],e=a.x-s.x,t=a.y-s.y,n=Math.sqrt(e*e+t*t),0===n&&(n=.1*this._rng(),e=n),n<2*h&&(o=n<.5*h?1:d*n+1.3333333333333333,o/=n,r=e*o,i=t*o,u[s.id].x-=r,u[s.id].y-=i,u[a.id].x+=r,u[a.id].y+=i)}}}class G_{constructor(e,t,n){this.body=e,this.physicsBody=t,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,r=this.options.nodeDistance;for(let i=0;i<t.length-1;i++){const o=e[t[i]];for(let s=i+1;s<t.length;s++){const i=e[t[s]];if(o.level===i.level){const e=r+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(i.shape.radius||0)/2),t=i.x-o.x,s=i.y-o.y,a=Math.sqrt(t*t+s*s),l=.05;let c;c=a<e?-Math.pow(l*a,2)+Math.pow(l*e,2):0,0!==a&&(c/=a);const u=t*c,h=s*c;n[o.id].x-=u,n[o.id].y-=h,n[i.id].x+=u,n[i.id].y+=h}}}}}class V_{constructor(e,t,n){this.body=e,this.physicsBody=t,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,t;const n=this.physicsBody.physicsEdgeIndices,r=this.body.edges;let i,o,s;for(let a=0;a<n.length;a++)t=r[n[a]],!0===t.connected&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0!==t.edgeType.via?(e=void 0===t.options.length?this.options.springLength:t.options.length,i=t.to,o=t.edgeType.via,s=t.from,this._calculateSpringForce(i,o,.5*e),this._calculateSpringForce(o,s,.5*e)):(e=void 0===t.options.length?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}_calculateSpringForce(e,t,n){const r=e.x-t.x,i=e.y-t.y,o=Math.max(Math.sqrt(r*r+i*i),.01),s=this.options.springConstant*(n-o)/o,a=r*s,l=i*s;void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x+=a,this.physicsBody.forces[e.id].y+=l),void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x-=a,this.physicsBody.forces[t.id].y-=l)}}class W_{constructor(e,t,n){this.body=e,this.physicsBody=t,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,t,n,r,i,o,s,a;const l=this.body.edges,c=.5,u=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces;for(let e=0;e<h.length;e++){const t=h[e];d[t].springFx=0,d[t].springFy=0}for(let h=0;h<u.length;h++)t=l[u[h]],!0===t.connected&&(e=void 0===t.options.length?this.options.springLength:t.options.length,n=t.from.x-t.to.x,r=t.from.y-t.to.y,a=Math.sqrt(n*n+r*r),a=0===a?.01:a,s=this.options.springConstant*(e-a)/a,i=n*s,o=r*s,t.to.level!=t.from.level?(void 0!==d[t.toId]&&(d[t.toId].springFx-=i,d[t.toId].springFy-=o),void 0!==d[t.fromId]&&(d[t.fromId].springFx+=i,d[t.fromId].springFy+=o)):(void 0!==d[t.toId]&&(d[t.toId].x-=c*i,d[t.toId].y-=c*o),void 0!==d[t.fromId]&&(d[t.fromId].x+=c*i,d[t.fromId].y+=c*o)));let p,f;s=1;for(let e=0;e<h.length;e++){const t=h[e];p=Math.min(s,Math.max(-s,d[t].springFx)),f=Math.min(s,Math.max(-s,d[t].springFy)),d[t].x+=p,d[t].y+=f}let g=0,m=0;for(let e=0;e<h.length;e++){const t=h[e];g+=d[t].x,m+=d[t].y}const v=g/h.length,y=m/h.length;for(let e=0;e<h.length;e++){const t=h[e];d[t].x-=v,d[t].y-=y}}}class Y_{constructor(e,t,n){this.body=e,this.physicsBody=t,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,t,n,r;const i=this.body.nodes,o=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces;for(let a=0;a<o.length;a++)r=i[o[a]],e=-r.x,t=-r.y,n=Math.sqrt(e*e+t*t),this._calculateForces(n,e,t,s,r)}_calculateForces(e,t,n,r,i){const o=0===e?0:this.options.centralGravity/e;r[i.id].x=t*o,r[i.id].y=n*o}}class q_ extends U_{constructor(e,t,n){super(e,t,n),this._rng=am("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,t,n,r,i){0===e&&(t=e=.1*this._rng()),this.overlapAvoidanceFactor<1&&r.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,e-r.shape.radius));const o=r.edges.length+1,s=this.options.gravitationalConstant*i.mass*r.options.mass*o/Math.pow(e,2),a=t*s,l=n*s;this.physicsBody.forces[r.id].x+=a,this.physicsBody.forces[r.id].y+=l}}class X_ extends Y_{constructor(e,t,n){super(e,t,n)}_calculateForces(e,t,n,r,i){if(e>0){const e=i.edges.length+1,o=this.options.centralGravity*e*i.options.mass;r[i.id].x=t*o,r[i.id].y=n*o}}}class K_{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},xr(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),!0===this.ready&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{!0===this.ready&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(void 0!==e)if(!1===e)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===e)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,wm(["stabilization"],this.options,e),Pm(this.options,e,"stabilization"),void 0===e.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());const t=this.options.wind;t&&(("number"!=typeof t.x||Bb(t.x))&&(t.x=0),("number"!=typeof t.y||Bb(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;"forceAtlas2Based"===this.options.solver?(e=this.options.forceAtlas2Based,this.nodesSolver=new q_(this.body,this.physicsBody,e),this.edgesSolver=new V_(this.body,this.physicsBody,e),this.gravitySolver=new X_(this.body,this.physicsBody,e)):"repulsion"===this.options.solver?(e=this.options.repulsion,this.nodesSolver=new H_(this.body,this.physicsBody,e),this.edgesSolver=new V_(this.body,this.physicsBody,e),this.gravitySolver=new Y_(this.body,this.physicsBody,e)):"hierarchicalRepulsion"===this.options.solver?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new G_(this.body,this.physicsBody,e),this.edgesSolver=new W_(this.body,this.physicsBody,e),this.gravitySolver=new Y_(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new U_(this.body,this.physicsBody,e),this.edgesSolver=new V_(this.body,this.physicsBody,e),this.gravitySolver=new Y_(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){var e;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=Ur(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}stopSimulation(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===e&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===e&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=rh();this.physicsTick(),(rh()-e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&Jp(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,t=this.body.edges;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&!0===e[t].options.physics&&this.physicsBody.physicsNodeIndices.push(e[t].id);for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&!0===t[e].options.physics&&this.physicsBody.physicsEdgeIndices.push(t[e].id);for(let e=0;e<this.physicsBody.physicsNodeIndices.length;e++){const t=this.physicsBody.physicsNodeIndices[e];this.physicsBody.forces[t]={x:0,y:0},void 0===this.physicsBody.velocities[t]&&(this.physicsBody.velocities[t]={x:0,y:0})}for(const t in this.physicsBody.velocities)void 0===e[t]&&delete this.physicsBody.velocities[t]}revert(){const e=Ju(this.previousStates),t=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let r=0;r<e.length;r++){const i=e[r];void 0!==t[i]?!0===t[i].options.physics&&(this.referenceState[i]={positions:{x:t[i].x,y:t[i].y}},n[i].x=this.previousStates[i].vx,n[i].y=this.previousStates[i].vy,t[i].x=this.previousStates[i].x,t[i].y=this.previousStates[i].y):delete this.previousStates[i]}}_evaluateStepQuality(){let e,t,n;const r=this.body.nodes,i=this.referenceState;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&void 0!==r[o]&&(e=r[o].x-i[o].positions.x,t=r[o].y-i[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),n>.3))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let t=0,n=0;for(let r=0;r<e.length;r++){const i=e[r],o=this._performStep(i);t=Math.max(t,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<5,this.stabilized=t<this.options.minVelocity}calculateComponentVelocity(e,t,n){e+=(t-this.modelOptions.damping*e)/n*this.timestep;const r=this.options.maxVelocity||1e9;return Math.abs(e)>r&&(e=e>0?r:-r),e}_performStep(e){const t=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const r=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:r.x,vy:r.y},!1===t.options.fixed.x?(r.x=this.calculateComponentVelocity(r.x,n.x,t.options.mass),t.x+=r.x*this.timestep):(n.x=0,r.x=0),!1===t.options.fixed.y?(r.y=this.calculateComponentVelocity(r.y,n.y,t.options.mass),t.y+=r.y*this.timestep):(n.y=0,r.y=0),Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))}_freezeNodes(){const e=this.body.nodes;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){const n=e[t].options.fixed;this.freezeCache[t]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,Jp(()=>this._stabilizationBatch(),0)):this.ready=!0}_startStabilizing(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>!1===this.stabilized&&this.stabilizationIterations<this.targetIterations,t=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&t();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;var r;t(),e()?Jp(Ur(r=this._stabilizationBatch).call(r,this),0):this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let t=0;t<this.physicsBody.physicsNodeIndices.length;t++){const n=this.physicsBody.physicsNodeIndices[t],r=this.body.nodes[n],i=this.physicsBody.forces[n],o=20,s=.03,a=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.x,2)),l=Math.min(Math.max(5,a),15),c=3*l,u=Om((180-180*Math.min(1,Math.max(0,s*a)))/360,1,1),h={x:r.x+o*i.x,y:r.y+o*i.y};e.lineWidth=l,e.strokeStyle=u,e.beginPath(),e.moveTo(r.x,r.y),e.lineTo(h.x,h.y),e.stroke();const d=Math.atan2(i.y,i.x);e.fillStyle=u,C_.draw(e,{type:"arrow",point:h,angle:d,length:c}),hf(e).call(e)}}}const Z_=new Uint8Array(16);function Q_(){if(!g_&&(g_="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!g_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g_(Z_)}const J_=[];for(let e=0;e<256;++e)J_.push((e+256).toString(16).slice(1));var eA={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function tA(e,t,n){if(eA.randomUUID&&!t&&!e)return eA.randomUUID();const r=(e=e||{}).random||(e.rng||Q_)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return J_[e[t+0]]+J_[e[t+1]]+J_[e[t+2]]+J_[e[t+3]]+"-"+J_[e[t+4]]+J_[e[t+5]]+"-"+J_[e[t+6]]+J_[e[t+7]]+"-"+J_[e[t+8]]+J_[e[t+9]]+"-"+J_[e[t+10]]+J_[e[t+11]]+J_[e[t+12]]+J_[e[t+13]]+J_[e[t+14]]+J_[e[t+15]]}(r)}class nA{constructor(){}static getRange(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=1e9,i=-1e9,o=1e9,s=-1e9;if(n.length>0)for(let a=0;a<n.length;a++)t=e[n[a]],o>t.shape.boundingBox.left&&(o=t.shape.boundingBox.left),s<t.shape.boundingBox.right&&(s=t.shape.boundingBox.right),r>t.shape.boundingBox.top&&(r=t.shape.boundingBox.top),i<t.shape.boundingBox.bottom&&(i=t.shape.boundingBox.bottom);return 1e9===o&&-1e9===s&&1e9===r&&-1e9===i&&(r=0,i=0,o=0,s=0),{minX:o,maxX:s,minY:r,maxY:i}}static getRangeCore(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=1e9,i=-1e9,o=1e9,s=-1e9;if(n.length>0)for(let a=0;a<n.length;a++)t=e[n[a]],o>t.x&&(o=t.x),s<t.x&&(s=t.x),r>t.y&&(r=t.y),i<t.y&&(i=t.y);return 1e9===o&&-1e9===s&&1e9===r&&-1e9===i&&(r=0,i=0,o=0,s=0),{minX:o,maxX:s,minY:r,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,t){const n={};return void 0===t||"node"===t?(xm(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):xm(n,e.options,!0),n}}class rA extends a_{constructor(e,t,n,r,i,o){super(e,t,n,r,i,o),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const t=this.body.nodes[e];if(void 0===this.containedNodes[e])throw new Error("node with id: "+e+" not in current cluster");if(!t.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],Tm(t.edges,e=>{delete this.containedEdges[e.id]}),Tm(t.containedNodes,(e,t)=>{this.containedNodes[t]=e}),t.containedNodes={},Tm(t.containedEdges,(e,t)=>{this.containedEdges[t]=e}),t.containedEdges={},Tm(t.edges,e=>{Tm(this.edges,t=>{var n,r;const i=Cp(n=t.clusteringEdgeReplacingIds).call(n,e.id);-1!==i&&(Tm(e.clusteringEdgeReplacingIds,e=>{t.clusteringEdgeReplacingIds.push(e),this.body.edges[e].edgeReplacedById=t.id}),Jh(r=t.clusteringEdgeReplacingIds).call(r,i,1))})}),t.edges=[]}}class iA{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},xr(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,t){void 0===e?e=this._getHubSize():"object"==typeof e&&(t=this._checkOptions(e),e=this._getHubSize());const n=[];for(let t=0;t<this.body.nodeIndices.length;t++){const r=this.body.nodes[this.body.nodeIndices[t]];r.edges.length>=e&&n.push(r.id)}for(let e=0;e<n.length;e++)this.clusterByConnection(n[e],t,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},r={};Tm(this.body.nodes,(t,i)=>{t.options&&!0===e.joinCondition(t.options)&&(n[i]=t,Tm(t.edges,e=>{void 0===this.clusteredEdges[e.id]&&(r[e.id]=e)}))}),this._cluster(n,r,e,t)}clusterByEdgeCount(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=this._checkOptions(t);const r=[],i={};let o,s,a;for(let n=0;n<this.body.nodeIndices.length;n++){const l={},c={},u=this.body.nodeIndices[n],h=this.body.nodes[u];if(void 0===i[u]){a=0,s=[];for(let e=0;e<h.edges.length;e++)o=h.edges[e],void 0===this.clusteredEdges[o.id]&&(o.toId!==o.fromId&&a++,s.push(o));if(a===e){const e=function(e){if(void 0===t.joinCondition||null===t.joinCondition)return!0;const n=nA.cloneOptions(e);return t.joinCondition(n)};let n=!0;for(let t=0;t<s.length;t++){o=s[t];const r=this._getConnectedId(o,u);if(!e(h)){n=!1;break}c[o.id]=o,l[u]=h,l[r]=this.body.nodes[r],i[u]=!0}if(Ju(l).length>0&&Ju(c).length>0&&!0===n){const e=function(){for(let e=0;e<r.length;++e)for(const t in l)if(void 0!==r[e].nodes[t])return r[e]}();if(void 0!==e){for(const t in l)void 0===e.nodes[t]&&(e.nodes[t]=l[t]);for(const t in c)void 0===e.edges[t]&&(e.edges[t]=c[t])}else r.push({nodes:l,edges:c})}}}}for(let e=0;e<r.length;e++)this._cluster(r[e].nodes,r[e].edges,t,!1);!0===n&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,e,t)}clusterBridges(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,e,t)}clusterByConnection(e,t){var n;let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");const i=this.body.nodes[e];void 0===(t=this._checkOptions(t,i)).clusterNodeProperties.x&&(t.clusterNodeProperties.x=i.x),void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=i.y),void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=i.options.fixed.x,t.clusterNodeProperties.fixed.y=i.options.fixed.y);const o={},s={},a=i.id,l=nA.cloneOptions(i);o[a]=i;for(let e=0;e<i.edges.length;e++){const n=i.edges[e];if(void 0===this.clusteredEdges[n.id]){const e=this._getConnectedId(n,a);if(void 0===this.clusteredNodes[e])if(e!==a)if(void 0===t.joinCondition)s[n.id]=n,o[e]=this.body.nodes[e];else{const r=nA.cloneOptions(this.body.nodes[e]);!0===t.joinCondition(l,r)&&(s[n.id]=n,o[e]=this.body.nodes[e])}else s[n.id]=n}}const c=Ku(n=Ju(o)).call(n,function(e){return o[e].id});for(const e in o){if(!Object.prototype.hasOwnProperty.call(o,e))continue;const t=o[e];for(let e=0;e<t.edges.length;e++){const n=t.edges[e];Cp(c).call(c,this._getConnectedId(n,t.id))>-1&&(s[n.id]=n)}}this._cluster(o,s,t,r)}_createClusterEdges(e,t,n,r){let i,o,s,a,l,c;const u=Ju(e),h=[];for(let r=0;r<u.length;r++){o=u[r],s=e[o];for(let r=0;r<s.edges.length;r++)i=s.edges[r],void 0===this.clusteredEdges[i.id]&&(i.toId==i.fromId?t[i.id]=i:i.toId==o?(a=n.id,l=i.fromId,c=l):(a=i.toId,l=n.id,c=a),void 0===e[c]&&h.push({edge:i,fromId:l,toId:a}))}const d=[],p=function(e){for(let t=0;t<d.length;t++){const n=d[t],r=e.fromId===n.fromId&&e.toId===n.toId,i=e.fromId===n.toId&&e.toId===n.fromId;if(r||i)return n}return null};for(let e=0;e<h.length;e++){const t=h[e],n=t.edge;let i=p(t);null===i?(i=this._createClusteredEdge(t.fromId,t.toId,n,r),d.push(i)):i.clusteringEdgeReplacingIds.push(n.id),this.body.edges[n.id].edgeReplacedById=i.id,this._backupEdgeOptions(n),n.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}_cluster(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=[];for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&void 0!==this.clusteredNodes[t]&&i.push(t);for(let t=0;t<i.length;++t)delete e[i[t]];if(0==Ju(e).length)return;if(1==Ju(e).length&&1!=n.clusterNodeProperties.allowSingleNodeCluster)return;let o=xm({},n.clusterNodeProperties);if(void 0!==n.processProperties){const r=[];for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=nA.cloneOptions(e[t]);r.push(n)}const i=[];for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&"clusterEdge:"!==e.substr(0,12)){const n=nA.cloneOptions(t[e],"edge");i.push(n)}if(o=n.processProperties(o,r,i),!o)throw new Error("The processProperties function does not return properties!")}void 0===o.id&&(o.id="cluster:"+tA());const s=o.id;let a;void 0===o.label&&(o.label="cluster"),void 0===o.x&&(a=this._getClusterPosition(e),o.x=a.x),void 0===o.y&&(void 0===a&&(a=this._getClusterPosition(e)),o.y=a.y),o.id=s;const l=this.body.functions.createNode(o,rA);l.containedNodes=e,l.containedEdges=t,l.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[o.id]=l,this._clusterEdges(e,t,o,n.clusterEdgeProperties),o.id=void 0,!0===r&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const t=this.clusteredEdges[e.id];void 0!==t&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return void 0!==this.body.nodes[e]&&!0===this.body.nodes[e].isCluster}_getClusterPosition(e){const t=Ju(e);let n,r=e[t[0]].x,i=e[t[0]].x,o=e[t[0]].y,s=e[t[0]].y;for(let a=1;a<t.length;a++)n=e[t[a]],r=n.x<r?n.x:r,i=n.x>i?n.x:i,o=n.y<o?n.y:o,s=n.y>s?n.y:s;return{x:.5*(r+i),y:.5*(o+s)}}openCluster(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");const r=this.body.nodes[e];if(void 0===r)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==r.isCluster||void 0===r.containedNodes||void 0===r.containedEdges)throw new Error("The node:"+e+" is not a valid cluster.");const i=this.findNode(e),o=Cp(i).call(i,e)-1;if(o>=0){const t=i[o];return this.body.nodes[t]._openChildCluster(e),delete this.body.nodes[e],void(!0===n&&this.body.emitter.emit("_dataChanged"))}const s=r.containedNodes,a=r.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&"function"==typeof t.releaseFunction){const e={},n={x:r.x,y:r.y};for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)){const n=this.body.nodes[t];e[t]={x:n.x,y:n.y}}const i=t.releaseFunction(n,e);for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e)){const t=this.body.nodes[e];void 0!==i[e]&&(t.x=void 0===i[e].x?r.x:i[e].x,t.y=void 0===i[e].y?r.y:i[e].y)}}else Tm(s,function(e){!1===e.options.fixed.x&&(e.x=r.x),!1===e.options.fixed.y&&(e.y=r.y)});for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e)){const t=this.body.nodes[e];t.vx=r.vx,t.vy=r.vy,t.setOptions({physics:!0}),delete this.clusteredNodes[e]}const l=[];for(let e=0;e<r.edges.length;e++)l.push(r.edges[e]);for(let t=0;t<l.length;t++){const n=l[t],r=this._getConnectedId(n,e),i=this.clusteredNodes[r];for(let e=0;e<n.clusteringEdgeReplacingIds.length;e++){const t=n.clusteringEdgeReplacingIds[e],o=this.body.edges[t];if(void 0!==o)if(void 0!==i){const e=this.body.nodes[i.clusterId];e.containedEdges[o.id]=o,delete a[o.id];let t=o.fromId,n=o.toId;o.toId==r?n=i.clusterId:t=i.clusterId,this._createClusteredEdge(t,n,o,e.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(o)}n.remove()}for(const e in a)Object.prototype.hasOwnProperty.call(a,e)&&this._restoreEdge(a[e]);delete this.body.nodes[e],!0===n&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const t=[];if(!0===this.isCluster(e)){const n=this.body.nodes[e].containedNodes;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.push(this.body.nodes[e].id)}return t}findNode(e){const t=[];let n,r=0;for(;void 0!==this.clusteredNodes[e]&&r<100;){if(n=this.body.nodes[e],void 0===n)return[];t.push(n.id),e=this.clusteredNodes[e].clusterId,r++}return n=this.body.nodes[e],void 0===n?[]:(t.push(n.id),kh(t).call(t),t)}updateClusteredNode(e,t){if(void 0===e)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===t)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[e])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}updateEdge(e,t){if(void 0===e)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===t)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[e])throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let e=0;e<n.length;e++)this.body.edges[n[e]].setOptions(t);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const t=[];let n=0;for(;void 0!==e&&void 0!==this.body.edges[e]&&n<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return kh(t).call(t),t}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const t=[e],n=[],r=[];let i=0;for(;t.length>0&&i<100;){const e=t.pop();if(void 0===e)continue;const o=this.body.edges[e];if(void 0===o)continue;i++;const s=o.clusteringEdgeReplacingIds;if(void 0===s)r.push(e);else for(let e=0;e<s.length;++e){const r=s[e];-1===Cp(t).call(t,s)&&-1===Cp(n).call(n,s)&&t.push(r)}n.push(e)}return r}_getConnectedId(e,t){return e.toId!=t?e.toId:(e.fromId,e.fromId)}_getHubSize(){let e=0,t=0,n=0,r=0;for(let i=0;i<this.body.nodeIndices.length;i++){const o=this.body.nodes[this.body.nodeIndices[i]];o.edges.length>r&&(r=o.edges.length),e+=o.edges.length,t+=Math.pow(o.edges.length,2),n+=1}e/=n,t/=n;const i=t-Math.pow(e,2),o=Math.sqrt(i);let s=Math.floor(e+2*o);return s>r&&(s=r),s}_createClusteredEdge(e,t,n,r,i){const o=nA.cloneOptions(n,"edge");xm(o,r),o.from=e,o.to=t,o.id="clusterEdge:"+tA(),void 0!==i&&xm(o,i);const s=this.body.functions.createEdge(o);return s.clusteringEdgeReplacingIds=[n.id],s.connect(),this.body.edges[s.id]=s,s}_clusterEdges(e,t,n,r){if(t instanceof $_){const e=t,n={};n[e.id]=e,t=n}if(e instanceof a_){const t=e,n={};n[t.id]=t,e=n}if(null==n)throw new Error("_clusterEdges: parameter clusterNode required");void 0===r&&(r=n.clusterEdgeProperties),this._createClusterEdges(e,t,n,r);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.body.edges[e]){const t=this.body.edges[e];this._backupEdgeOptions(t),t.setOptions({physics:!1})}for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.clusteredNodes[t]={clusterId:n.id,node:this.body.nodes[t]},this.body.nodes[t].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(void 0===e)return;const t=this.clusteredNodes[e];if(void 0===t)return;const n=t.clusterId;return void 0!==n?this.body.nodes[n]:void 0}_filter(e,t){const n=[];return Tm(e,e=>{t(e)&&n.push(e)}),n}_updateState(){let e;const t=[],n={},r=e=>{Tm(this.body.nodes,t=>{!0===t.isCluster&&e(t)})};for(e in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,e)&&void 0===this.body.nodes[e]&&t.push(e);r(function(e){for(let n=0;n<t.length;n++)delete e.containedNodes[t[n]]});for(let e=0;e<t.length;e++)delete this.clusteredNodes[t[e]];Tm(this.clusteredEdges,e=>{const t=this.body.edges[e];void 0!==t&&t.endPointsValid()||(n[e]=e)}),r(function(e){Tm(e.containedEdges,(e,t)=>{e.endPointsValid()||n[t]||(n[t]=t)})}),Tm(this.body.edges,(e,t)=>{let r=!0;const i=e.clusteringEdgeReplacingIds;if(void 0!==i){let e=0;Tm(i,t=>{const n=this.body.edges[t];void 0!==n&&n.endPointsValid()&&(e+=1)}),r=e>0}e.endPointsValid()&&r||(n[t]=t)}),r(e=>{Tm(n,t=>{delete e.containedEdges[t],Tm(e.edges,(r,i)=>{r.id!==t?r.clusteringEdgeReplacingIds=this._filter(r.clusteringEdgeReplacingIds,function(e){return!n[e]}):e.edges[i]=null}),e.edges=this._filter(e.edges,function(e){return null!==e})})}),Tm(n,e=>{delete this.clusteredEdges[e]}),Tm(n,e=>{delete this.body.edges[e]}),Tm(Ju(this.body.edges),e=>{const t=this.body.edges[e],n=this._isClusteredNode(t.fromId)||this._isClusteredNode(t.toId);if(n!==this._isClusteredEdge(t.id))if(n){const e=this._getClusterNodeForNode(t.fromId);void 0!==e&&this._clusterEdges(this.body.nodes[t.fromId],t,e);const n=this._getClusterNodeForNode(t.toId);void 0!==n&&this._clusterEdges(this.body.nodes[t.toId],t,n)}else delete this._clusterEdges[e],this._restoreEdge(t)});let i=!1,o=!0;for(;o;){const e=[];r(function(t){const n=Ju(t.containedNodes).length,r=!0===t.options.allowSingleNodeCluster;(r&&n<1||!r&&n<2)&&e.push(t.id)});for(let t=0;t<e.length;++t)this.openCluster(e[t],{},!1);o=e.length>0,i=i||o}i&&this._updateState()}_isClusteredNode(e){return void 0!==this.clusteredNodes[e]}_isClusteredEdge(e){return void 0!==this.clusteredEdges[e]}}class oA{constructor(e,t){this.body=e,this.canvas=t,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},xr(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Jp(()=>{var e;this.zooming=!1,Ur(e=this._requestRedraw).call(e,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{!1===this.renderingActive&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",Ur(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){void 0!==e&&bm(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){var e;!0===this.renderingActive&&void 0===this.requestAnimationFrameRequestId&&(this.requestAnimationFrameRequestId=window.requestAnimationFrame(Ur(e=this._renderStep).call(e,this),this.simulationInterval))}_renderStep(){!0===this.renderingActive&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const t={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),r=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,r,i),0===this.canvas.frame.clientWidth)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(n),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){const{drawExternalLabels:r}=this._drawNodes(n,e);t.drawExternalLabels=r}!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(n),null!=t.drawExternalLabels&&t.drawExternalLabels(),!1===e&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),!0===e&&n.clearRect(0,0,r,i)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const t=this.body.nodes;let n;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n=t[r],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.body.nodes,r=this.body.nodeIndices;let i;const o=[],s=[],a=this.canvas.DOMtoCanvas({x:-20,y:-20}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),c={top:a.y,left:a.x,bottom:l.y,right:l.x},u=[];for(let a=0;a<r.length;a++)if(i=n[r[a]],i.hover)s.push(r[a]);else if(i.isSelected())o.push(r[a]);else if(!0===t){const t=i.draw(e);null!=t.drawExternalLabel&&u.push(t.drawExternalLabel)}else if(!0===i.isBoundingBoxOverlappingWith(c)){const t=i.draw(e);null!=t.drawExternalLabel&&u.push(t.drawExternalLabel)}else i.updateBoundingBox(e,i.selected);let h;const d=o.length,p=s.length;for(h=0;h<d;h++){i=n[o[h]];const t=i.draw(e);null!=t.drawExternalLabel&&u.push(t.drawExternalLabel)}for(h=0;h<p;h++){i=n[s[h]];const t=i.draw(e);null!=t.drawExternalLabel&&u.push(t.drawExternalLabel)}return{drawExternalLabels:()=>{for(const e of u)e()}}}_drawEdges(e){const t=this.body.edges,n=this.body.edgeIndices;for(let r=0;r<n.length;r++){const i=t[n[r]];!0===i.connected&&i.draw(e)}}_drawArrows(e){const t=this.body.edges,n=this.body.edgeIndices;for(let r=0;r<n.length;r++){const i=t[n[r]];!0===i.connected&&i.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var sA=i(re.setInterval);function aA(e,t){t.inputHandler=function(e){e.isFirst&&t(e)},e.on("hammer.input",t.inputHandler)}function lA(e,t){return t.inputHandler=function(e){e.isFinal&&t(e)},e.on("hammer.input",t.inputHandler)}class cA{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},xr(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",e=>{0!==e.width&&(this.body.view.translation.x=.5*e.width),0!==e.height&&(this.body.view.translation.y=.5*e.height)}),this.body.emitter.on("setSize",Ur(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(void 0!==e&&bm(["width","height","autoResize"],this.options,e),this._cleanUp(),!0===this.options.autoResize){var t;if(window.ResizeObserver){const e=new ResizeObserver(()=>{!0===this.setSize()&&this.body.emitter.emit("_requestRedraw")}),{frame:t}=this;e.observe(t),this._cleanupCallbacks.push(()=>{e.unobserve(t)})}else{const e=sA(()=>{!0===this.setSize()&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(e)})}const e=Ur(t=this._onResize).call(t,this);window.addEventListener("resize",e),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",e)})}}_cleanUp(){var e,t,n;mh(e=kh(t=Jh(n=this._cleanupCallbacks).call(n,0)).call(t)).call(e,e=>{try{e()}catch(e){}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;1!=e&&1!=t?n=.5*this.cameraState.scale*(e+t):1!=e?n=this.cameraState.scale*e:1!=t&&(n=this.cameraState.scale*t),this.body.view.scale=n;const r=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),i={x:r.x-this.cameraState.position.x,y:r.y-this.cameraState.position.y};this.body.view.translation.x+=i.x*this.body.view.scale,this.body.view.translation.y+=i.y*this.body.view.scale}}_prepareValue(e){if("number"==typeof e)return e+"px";if("string"==typeof e){if(-1!==Cp(e).call(e,"%")||-1!==Cp(e).call(e,"px"))return e;if(-1===Cp(e).call(e,"%"))return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Vm(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Vm.DIRECTION_ALL}),aA(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Vm(this.frame),lA(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);let n=!1;const r=this.frame.canvas.width,i=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const e=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),t=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===e&&this.frame.canvas.height===t||this._getCameraState(o),this.frame.canvas.width!==e&&(this.frame.canvas.width=e,n=!0),this.frame.canvas.height!==t&&(this.frame.canvas.height=t,n=!0)}return!0===n&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(r/this.pixelRatio),oldHeight:Math.round(i/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");let t=1;return"undefined"!=typeof window&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}class uA{constructor(e,t){var n,r;this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Ur(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",Ur(r=this.releaseNode).call(r,this))}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}fit(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=function(e,t){const n=xr({nodes:t,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=e?e:{});if(!Hu(n.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===n.nodes.length&&(n.nodes=t),!("number"==typeof n.minZoomLevel&&n.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof n.maxZoomLevel&&n.minZoomLevel<=n.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return n}(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;let i,o;if(0===n||0===r)o=1,i=nA.getRange(this.body.nodes,e.nodes);else if(!0===t){let t=0;for(const e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&!0===this.body.nodes[e].predefinedPosition&&(t+=1);if(t>.5*this.body.nodeIndices.length)return void this.fit(e,!1);i=nA.getRange(this.body.nodes,e.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,o*=Math.min(n/600,r/600)}else{this.body.emitter.emit("_resizeNodes"),i=nA.getRange(this.body.nodes,e.nodes);const t=n/(1.1*Math.abs(i.maxX-i.minX)),s=r/(1.1*Math.abs(i.maxY-i.minY));o=t<=s?t:s}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);const s={position:nA.findCenter(i),scale:o,animation:e.animation};this.moveTo(s)}focus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[e]){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=n,t.lockedOnNode=e,this.moveTo(t)}}moveTo(e){if(void 0!==e){if(null!=e.offset){if(null!=e.offset.x){if(e.offset.x=+e.offset.x,!$b(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(null!=e.offset.y){if(e.offset.y=+e.offset.y,!$b(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(null!=e.position){if(null!=e.position.x){if(e.position.x=+e.position.x,!$b(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(null!=e.position.y){if(e.position.y=+e.position.y,!$b(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(null!=e.scale){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;void 0===e.animation&&(e.animation={duration:0}),!1===e.animation&&(e.animation={duration:0}),!0===e.animation&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}animateView(e){if(void 0===e)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),!0===e.locked&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=t.x-e.position.x,r=t.y-e.position.y;var i,o;this.targetTranslation={x:this.sourceTranslation.x+n*this.targetScale+e.offset.x,y:this.sourceTranslation.y+r*this.targetScale+e.offset.y},0===e.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=Ur(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=Ur(o=this._transitionRedraw).call(o,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}_lockedRedraw(){const e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r=n.x-e,i=n.y-t,o=this.body.view.translation,s={x:o.x+r*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+i*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===e?1:this.easingTime;const t=Dm[this.animationEasingFunction](this.easingTime);var n;this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=Ur(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function hA(e){var t,n=e&&e.preventDefault||!1,r=e&&e.container||window,i={},o={keydown:{},keyup:{}},s={};for(t=97;t<=122;t++)s[String.fromCharCode(t)]={code:t-97+65,shift:!1};for(t=65;t<=90;t++)s[String.fromCharCode(t)]={code:t,shift:!0};for(t=0;t<=9;t++)s[""+t]={code:48+t,shift:!1};for(t=1;t<=12;t++)s["F"+t]={code:111+t,shift:!1};for(t=0;t<=9;t++)s["num"+t]={code:96+t,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(e){c(e,"keydown")},l=function(e){c(e,"keyup")},c=function(e,t){if(void 0!==o[t][e.keyCode]){for(var r=o[t][e.keyCode],i=0;i<r.length;i++)(void 0===r[i].shift||1==r[i].shift&&1==e.shiftKey||0==r[i].shift&&0==e.shiftKey)&&r[i].fn(e);1==n&&e.preventDefault()}};return i.bind=function(e,t,n){if(void 0===n&&(n="keydown"),void 0===s[e])throw new Error("unsupported key: "+e);void 0===o[n][s[e].code]&&(o[n][s[e].code]=[]),o[n][s[e].code].push({fn:t,shift:s[e].shift})},i.bindAll=function(e,t){for(var n in void 0===t&&(t="keydown"),s)s.hasOwnProperty(n)&&i.bind(n,e,t)},i.getKey=function(e){for(var t in s)if(s.hasOwnProperty(t)){if(1==e.shiftKey&&1==s[t].shift&&e.keyCode==s[t].code)return t;if(0==e.shiftKey&&0==s[t].shift&&e.keyCode==s[t].code)return t;if(e.keyCode==s[t].code&&"shift"==t)return t}return"unknown key, currently not supported"},i.unbind=function(e,t,n){if(void 0===n&&(n="keydown"),void 0===s[e])throw new Error("unsupported key: "+e);if(void 0!==t){var r=[],i=o[n][s[e].code];if(void 0!==i)for(var a=0;a<i.length;a++)i[a].fn==t&&i[a].shift==s[e].shift||r.push(o[n][s[e].code][a]);o[n][s[e].code]=r}else o[n][s[e].code]=[]},i.reset=function(){o={keydown:{},keyup:{}}},i.destroy=function(){o={keydown:{},keyup:{}},r.removeEventListener("keydown",a,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",a,!0),r.addEventListener("keyup",l,!0),i}class dA{constructor(e,t){this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{void 0!==this.keycharm&&this.keycharm.destroy()}),this.options={}}setOptions(e){void 0!==e&&(this.options=e,this.create())}create(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(0!=this.navigationHammers.length){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],t=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let i=0;i<e.length;i++){this.navigationDOM[e[i]]=document.createElement("div"),this.navigationDOM[e[i]].className="vis-button vis-"+e[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[i]]);const o=new Vm(this.navigationDOM[e[i]]);var n,r;"_fit"===t[i]?aA(o,Ur(n=this._fit).call(n,this)):aA(o,Ur(r=this.bindToRedraw).call(r,this,t[i])),this.navigationHammers.push(o)}const i=new Vm(this.canvas.frame);lA(i,()=>{this._stopMovement()}),this.navigationHammers.push(i),this.iconsCreated=!0}bindToRedraw(e){var t;void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=Ur(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}unbindFromRedraw(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,r=t/e,i=(1-r)*this.canvas.canvasViewCenter.x+n.x*r,o=(1-r)*this.canvas.canvasViewCenter.y+n.y*r;this.body.view.scale=t,this.body.view.translation={x:i,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,r=t/e,i=(1-r)*this.canvas.canvasViewCenter.x+n.x*r,o=(1-r)*this.canvas.canvasViewCenter.y+n.y*r;this.body.view.scale=t,this.body.view.translation={x:i,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){var e,t,n,r,i,o,s,a,l,c,u,h,d,p,f,g,m,v,y,b,w,x,_,A;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=hA({container:window,preventDefault:!0}):this.keycharm=hA({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(Ur(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),Ur(t=this.keycharm).call(t,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),Ur(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),Ur(r=this.keycharm).call(r,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),Ur(i=this.keycharm).call(i,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Ur(o=this.keycharm).call(o,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Ur(s=this.keycharm).call(s,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Ur(a=this.keycharm).call(a,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Ur(l=this.keycharm).call(l,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Ur(c=this.keycharm).call(c,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Ur(u=this.keycharm).call(u,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Ur(h=this.keycharm).call(h,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Ur(d=this.keycharm).call(d,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),Ur(p=this.keycharm).call(p,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),Ur(f=this.keycharm).call(f,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),Ur(g=this.keycharm).call(g,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),Ur(m=this.keycharm).call(m,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Ur(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Ur(y=this.keycharm).call(y,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Ur(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Ur(w=this.keycharm).call(w,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Ur(x=this.keycharm).call(x,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Ur(_=this.keycharm).call(_,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Ur(A=this.keycharm).call(A,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")))}}class pA{constructor(e,t,n){var r,i,o,s,a,l,c,u,h,d,p,f,g;this.body=e,this.canvas=t,this.selectionHandler=n,this.navigationHandler=new dA(e,t),this.body.eventListeners.onTap=Ur(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=Ur(i=this.onTouch).call(i,this),this.body.eventListeners.onDoubleTap=Ur(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=Ur(s=this.onHold).call(s,this),this.body.eventListeners.onDragStart=Ur(a=this.onDragStart).call(a,this),this.body.eventListeners.onDrag=Ur(l=this.onDrag).call(l,this),this.body.eventListeners.onDragEnd=Ur(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=Ur(u=this.onMouseWheel).call(u,this),this.body.eventListeners.onPinch=Ur(h=this.onPinch).call(h,this),this.body.eventListeners.onMouseMove=Ur(d=this.onMouseMove).call(d,this),this.body.eventListeners.onRelease=Ur(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=Ur(f=this.onContext).call(f,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Ur(g=this.getPointer).call(g,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},xr(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){void 0!==e&&(wm(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Pm(this.options,e,"keyboard"),e.tooltip&&(xr(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Cm(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-(t=this.canvas.frame.canvas,t.getBoundingClientRect().left),y:e.y-Am(this.canvas.frame.canvas)};var t}onTouch(e){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}onTap(e){const t=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,n),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}onDoubleTap(e){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}onHold(e){const t=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,n),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}onRelease(e){if((new Date).valueOf()-this.touchTime>10){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=(new Date).valueOf()}}onContext(e){const t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}checkSelectionChanges(e){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,t){const n=function(e,t){const n=[];for(let r=0;r<e.length;r++){const i=e[r];-1===Cp(t).call(t,i)&&n.push(i)}return n};return{nodes:n(e.nodes,t.nodes),edges:n(e.edges,t.edges)}}onDragStart(e){if(this.drag.dragging)return;void 0===this.drag.pointer&&this.onTouch(e);const t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=xr({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const t=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(t.x),y:this.canvas._YconvertDOMtoCanvas(t.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(t.x),y:this.canvas._YconvertDOMtoCanvas(t.y)}}else if(void 0!==t&&!0===this.options.dragNodes){this.drag.nodeId=t.id,!1===t.isSelected()&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const e of this.selectionHandler.getSelectedNodes()){const t={id:e.id,node:e,x:e.x,y:e.y,xFixed:e.options.fixed.x,yFixed:e.options.fixed.y};e.options.fixed.x=!0,e.options.fixed.y=!0,this.drag.selection.push(t)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(!0===this.drag.pinched)return;this.body.emitter.emit("unlockNode");const t=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",e,t);const r=t.x-this.drag.pointer.x,i=t.y-this.drag.pointer.y;mh(n).call(n,e=>{const t=e.node;!1===e.xFixed&&(t.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(e.x)+r)),!1===e.yFixed&&(t.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(e.y)+i))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(t.x),y:this.canvas._YconvertDOMtoCanvas(t.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);const n=t.x-this.drag.pointer.x,r=t.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+n,y:this.drag.translation.y+r},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var t;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,r={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},i=Bd(t=this.body.nodeIndices).call(t,e=>{const t=this.body.nodes[e];return t.x>=r.minX&&t.x<=r.maxX&&t.y>=r.minY&&t.y<=r.maxY});mh(i).call(i,e=>this.selectionHandler.selectObject(this.body.nodes[e]));const o=this.getPointer(e.center);this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const t=this.drag.selection;t&&t.length?(mh(t).call(t,function(e){e.node.options.fixed.x=e.xFixed,e.node.options.fixed.y=e.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const t=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,t)}zoom(e,t){if(!0===this.options.zoomView){const n=this.body.view.scale;let r;e<1e-5&&(e=1e-5),e>10&&(e=10),void 0!==this.drag&&!0===this.drag.dragging&&(r=this.canvas.DOMtoCanvas(this.drag.pointer));const i=this.body.view.translation,o=e/n,s=(1-o)*t.x+i.x*o,a=(1-o)*t.y+i.y*o;if(this.body.view.scale=e,this.body.view.translation={x:s,y:a},null!=r){const e=this.canvas.canvasToDOM(r);this.drag.pointer.x=e.x,this.drag.pointer.y=e.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}onMouseWheel(e){if(!0===this.options.zoomView){if(0!==e.deltaY){let t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,n)}e.preventDefault()}}onMouseMove(e){const t=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(t),!1===this.popup.hidden&&(n=!0,this.popup.setPosition(t.x+3,t.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===n&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Jp(()=>this._checkShowPopup(t),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(e,t)}_checkShowPopup(e){const t=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),r={left:t,top:n,right:t,bottom:n},i=void 0===this.popupObj?void 0:this.popupObj.id;let o=!1,s="node";if(void 0===this.popupObj){const e=this.body.nodeIndices,t=this.body.nodes;let n;const i=[];for(let s=0;s<e.length;s++)n=t[e[s]],!0===n.isOverlappingWith(r)&&(o=!0,void 0!==n.getTitle()&&i.push(e[s]));i.length>0&&(this.popupObj=t[i[i.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){const e=this.body.edgeIndices,t=this.body.edges;let n;const i=[];for(let o=0;o<e.length;o++)n=t[e[o]],!0===n.isOverlappingWith(r)&&!0===n.connected&&void 0!==n.getTitle()&&i.push(e[o]);i.length>0&&(this.popupObj=t[i[i.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==i&&(void 0===this.popup&&(this.popup=new Wm(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const t=this.selectionHandler._pointerToPositionObject(e);let n=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t),!0===n)){const t=this.selectionHandler.getNodeAt(e);n=void 0!==t&&t.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}Zy("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},yb);var fA=i(re.Set),gA=y,mA=Jy,vA=Jv.getWeakData,yA=Ly,bA=on,wA=Y,xA=ne,_A=Oy,AA=et,TA=Fs.set,EA=Fs.getterFor,kA=Ws.find,SA=Ws.findIndex,CA=gA([].splice),NA=0,MA=function(e){return e.frozen||(e.frozen=new OA)},OA=function(){this.entries=[]},RA=function(e,t){return kA(e.entries,function(e){return e[0]===t})};OA.prototype={get:function(e){var t=RA(this,e);if(t)return t[1]},has:function(e){return!!RA(this,e)},set:function(e,t){var n=RA(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=SA(this.entries,function(t){return t[0]===e});return~t&&CA(this.entries,t,1),!!~t}};var IA,LA={getConstructor:function(e,t,n,r){var i=e(function(e,i){yA(e,o),TA(e,{type:t,id:NA++,frozen:void 0}),wA(i)||_A(i,e[r],{that:e,AS_ENTRIES:n})}),o=i.prototype,s=EA(t),a=function(e,t,n){var r=s(e),i=vA(bA(t),!0);return!0===i?MA(r).set(t,n):i[r.id]=n,e};return mA(o,{delete:function(e){var t=s(this);if(!xA(e))return!1;var n=vA(e);return!0===n?MA(t).delete(e):n&&AA(n,t.id)&&delete n[t.id]},has:function(e){var t=s(this);if(!xA(e))return!1;var n=vA(e);return!0===n?MA(t).has(e):n&&AA(n,t.id)}}),mA(o,n?{get:function(e){var t=s(this);if(xA(e)){var n=vA(e);return!0===n?MA(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return a(this,e,t)}}:{add:function(e){return a(this,e,!0)}}),i}},PA=Bv,DA=s,BA=y,FA=Jy,zA=Jv,$A=Zy,jA=LA,UA=ne,HA=Fs.enforce,GA=a,VA=Ts,WA=Object,YA=Array.isArray,qA=WA.isExtensible,XA=WA.isFrozen,KA=WA.isSealed,ZA=WA.freeze,QA=WA.seal,JA={},eT={},tT=!DA.ActiveXObject&&"ActiveXObject"in DA,nT=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},rT=$A("WeakMap",nT,jA),iT=rT.prototype,oT=BA(iT.set);if(VA)if(tT){IA=jA.getConstructor(nT,"WeakMap",!0),zA.enable();var sT=BA(iT.delete),aT=BA(iT.has),lT=BA(iT.get);FA(iT,{delete:function(e){if(UA(e)&&!qA(e)){var t=HA(this);return t.frozen||(t.frozen=new IA),sT(this,e)||t.frozen.delete(e)}return sT(this,e)},has:function(e){if(UA(e)&&!qA(e)){var t=HA(this);return t.frozen||(t.frozen=new IA),aT(this,e)||t.frozen.has(e)}return aT(this,e)},get:function(e){if(UA(e)&&!qA(e)){var t=HA(this);return t.frozen||(t.frozen=new IA),aT(this,e)?lT(this,e):t.frozen.get(e)}return lT(this,e)},set:function(e,t){if(UA(e)&&!qA(e)){var n=HA(this);n.frozen||(n.frozen=new IA),aT(this,e)?oT(this,e,t):n.frozen.set(e,t)}else oT(this,e,t);return this}})}else PA&&GA(function(){var e=ZA([]);return oT(new rT,e,1),!XA(e)})&&FA(iT,{set:function(e,t){var n;return YA(e)&&(XA(e)?n=JA:KA(e)&&(n=eT)),oT(this,e,t),n===JA&&ZA(e),n===eT&&QA(e),this}});var cT,uT,hT,dT,pT,fT=i(re.WeakMap);function gT(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function mT(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function vT(e,t){const n=new fA;for(const r of t)e.has(r)||n.add(r);return n}"function"==typeof SuppressedError&&SuppressedError;class yT{constructor(){cT.set(this,new fA),uT.set(this,new fA)}get size(){return gT(this,uT,"f").size}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const e of t)gT(this,uT,"f").add(e)}delete(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const e of t)gT(this,uT,"f").delete(e)}clear(){gT(this,uT,"f").clear()}getSelection(){return[...gT(this,uT,"f")]}getChanges(){return{added:[...vT(gT(this,cT,"f"),gT(this,uT,"f"))],deleted:[...vT(gT(this,uT,"f"),gT(this,cT,"f"))],previous:[...new fA(gT(this,cT,"f"))],current:[...new fA(gT(this,uT,"f"))]}}commit(){const e=this.getChanges();mT(this,cT,gT(this,uT,"f"),"f"),mT(this,uT,new fA(gT(this,cT,"f")),"f");for(const t of e.added)t.select();for(const t of e.deleted)t.unselect();return e}}cT=new fT,uT=new fT;class bT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};hT.set(this,new yT),dT.set(this,new yT),pT.set(this,void 0),mT(this,pT,e,"f")}get sizeNodes(){return gT(this,hT,"f").size}get sizeEdges(){return gT(this,dT,"f").size}getNodes(){return gT(this,hT,"f").getSelection()}getEdges(){return gT(this,dT,"f").getSelection()}addNodes(){gT(this,hT,"f").add(...arguments)}addEdges(){gT(this,dT,"f").add(...arguments)}deleteNodes(e){gT(this,hT,"f").delete(e)}deleteEdges(e){gT(this,dT,"f").delete(e)}clear(){gT(this,hT,"f").clear(),gT(this,dT,"f").clear()}commit(){const e={nodes:gT(this,hT,"f").commit(),edges:gT(this,dT,"f").commit()};for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gT(this,pT,"f").call(this,e,...n),e}}hT=new fT,dT=new fT,pT=new fT;class wT{constructor(e,t){this.body=e,this.canvas=t,this._selectionAccumulator=new bT,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},xr(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){void 0!==e&&bm(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let t=!1;if(!0===this.options.selectable){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==n&&(t=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return t}selectAdditionalOnPoint(e){let t=!1;if(!0===this.options.selectable){const n=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==n&&(t=!0,!0===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return t}_initBaseEvent(e,t){const n={};return n.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},n.event=e,n}generateClickEvent(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=this._initBaseEvent(t,n);if(!0===i)o.nodes=[],o.edges=[];else{const e=this.getSelection();o.nodes=e.nodes,o.edges=e.edges}void 0!==r&&(o.previousSelection=r),"click"==e&&(o.items=this.getClickedItems(n)),void 0!==t.controlEdge&&(o.controlEdge=t.controlEdge),this.body.emitter.emit(e,o)}selectObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==e&&(e instanceof a_?(!0===t&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0)}deselectObject(e){!0===e.isSelected()&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const t=[],n=this.body.nodes;for(let r=0;r<this.body.nodeIndices.length;r++){const i=this.body.nodeIndices[r];n[i].isOverlappingWith(e)&&t.push(i)}return t}_pointerToPositionObject(e){const t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}getNodeAt(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this._pointerToPositionObject(e),r=this._getAllNodesOverlappingWith(n);return r.length>0?!0===t?this.body.nodes[r[r.length-1]]:r[r.length-1]:void 0}_getEdgesOverlappingWith(e,t){const n=this.body.edges;for(let r=0;r<this.body.edgeIndices.length;r++){const i=this.body.edgeIndices[r];n[i].isOverlappingWith(e)&&t.push(i)}}_getAllEdgesOverlappingWith(e){const t=[];return this._getEdgesOverlappingWith(e,t),t}getEdgeAt(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.canvas.DOMtoCanvas(e);let r=10,i=null;const o=this.body.edges;for(let e=0;e<this.body.edgeIndices.length;e++){const t=this.body.edgeIndices[e],s=o[t];if(s.connected){const e=s.from.x,o=s.from.y,a=s.to.x,l=s.to.y,c=s.edgeType.getDistanceToEdge(e,o,a,l,n.x,n.y);c<r&&(i=t,r=c)}}return null!==i?!0===t?this.body.edges[i]:i:void 0}_addToHover(e){e instanceof a_?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof a_?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let t=0;t<e.edges.length;t++){const n=e.edges[t];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,t,n){const r=this._initBaseEvent(e,t);!0===n.hover&&(n.hover=!1,n instanceof a_?(r.node=n.id,this.body.emitter.emit("blurNode",r)):(r.edge=n.id,this.body.emitter.emit("blurEdge",r)))}emitHoverEvent(e,t,n){const r=this._initBaseEvent(e,t);let i=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),i=!0,n instanceof a_?(r.node=n.id,this.body.emitter.emit("hoverNode",r)):(r.edge=n.id,this.body.emitter.emit("hoverEdge",r))),i}hoverObject(e,t){let n=this.getNodeAt(t);void 0===n&&(n=this.getEdgeAt(t));let r=!1;for(const i in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,i)&&(void 0===n||n instanceof a_&&n.id!=i||n instanceof $_)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[i]),delete this.hoverObj.nodes[i],r=!0);for(const i in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,i)&&(!0===r?(this.hoverObj.edges[i].hover=!1,delete this.hoverObj.edges[i]):(void 0===n||n instanceof $_&&n.id!=i||n instanceof a_&&!n.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[i]),delete this.hoverObj.edges[i],r=!0));if(void 0!==n){const i=Ju(this.hoverObj.edges).length,o=Ju(this.hoverObj.nodes).length;(r||n instanceof $_&&0===i&&0===o||n instanceof a_&&0===i&&0===o)&&(r=this.emitHoverEvent(e,t,n)),n instanceof a_&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)}!0===r&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,t){let n=!1;const r=this._selectionAccumulator.commit(),i={nodes:r.nodes.previous,edges:r.edges.previous};r.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,i),n=!0),r.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,i),n=!0),r.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),n=!0),r.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),n=!0),!0===n&&this.generateClickEvent("select",t,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return Ku(e=this._selectionAccumulator.getNodes()).call(e,e=>e.id)}getSelectedEdgeIds(){var e;return Ku(e=this._selectionAccumulator.getEdges()).call(e,e=>e.id)}setSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||void 0===t.unselectAll)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const e=this.body.nodes[n];if(!e)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(e,t.highlightEdges)}if(e.edges)for(const t of e.edges){const e=this.body.edges[t];if(!e)throw new RangeError('Edge with id "'+t+'" not found');this.selectObject(e)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}selectEdges(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const t=this.canvas.DOMtoCanvas(e),n=[],r=this.body.nodeIndices,i=this.body.nodes;for(let e=r.length-1;e>=0;e--){const o=i[r[e]].getItemsOnPoint(t);n.push.apply(n,o)}const o=this.body.edgeIndices,s=this.body.edges;for(let e=o.length-1;e>=0;e--){const r=s[o[e]].getItemsOnPoint(t);n.push.apply(n,r)}return n}}var xT=Uo,_T=Math.floor,AT=function(e,t){var n=e.length,r=_T(n/2);return n<8?TT(e,t):ET(e,AT(xT(e,0,r),t),AT(xT(e,r),t),t)},TT=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},ET=function(e,t,n,r){for(var i=t.length,o=n.length,s=0,a=0;s<i||a<o;)e[s+a]=s<i&&a<o?r(t[s],n[a])<=0?t[s++]:n[a++]:s<i?t[s++]:n[a++];return e},kT=AT,ST=ue.match(/firefox\/(\d+)/i),CT=!!ST&&+ST[1],NT=/MSIE|Trident/.test(ue),MT=ue.match(/AppleWebKit\/(\d+)\./),OT=!!MT&&+MT[1],RT=On,IT=y,LT=Ie,PT=Ze,DT=Hn,BT=Lh,FT=oo,zT=a,$T=kT,jT=oh,UT=CT,HT=NT,GT=ve,VT=OT,WT=[],YT=IT(WT.sort),qT=IT(WT.push),XT=zT(function(){WT.sort(void 0)}),KT=zT(function(){WT.sort(null)}),ZT=jT("sort"),QT=!zT(function(){if(GT)return GT<70;if(!(UT&&UT>3)){if(HT)return!0;if(VT)return VT<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)WT.push({k:t+r,v:n})}for(WT.sort(function(e,t){return t.v-e.v}),r=0;r<WT.length;r++)t=WT[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}});RT({target:"Array",proto:!0,forced:XT||!KT||!ZT||!QT},{sort:function(e){void 0!==e&&LT(e);var t=PT(this);if(QT)return void 0===e?YT(t):YT(t,e);var n,r,i=[],o=DT(t);for(r=0;r<o;r++)r in t&&qT(i,t[r]);for($T(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:FT(t)>FT(n)?1:-1}}(e)),n=DT(i),r=0;r<n;)t[r]=i[r++];for(;r<o;)BT(t,r++);return t}});var JT=Dr("Array").sort,eE=ce,tE=JT,nE=Array.prototype,rE=function(e){var t=e.sort;return e===nE||eE(nE,e)&&t===nE.sort?tE:t},iE=i(rE),oE=Ie,sE=Ze,aE=W,lE=Hn,cE=TypeError,uE=function(e){return function(t,n,r,i){oE(n);var o=sE(t),s=aE(o),a=lE(o),l=e?a-1:0,c=e?-1:1;if(r<2)for(;;){if(l in s){i=s[l],l+=c;break}if(l+=c,e?l<0:a<=l)throw new cE("Reduce of empty array with no initial value")}for(;e?l>=0:a>l;l+=c)l in s&&(i=n(i,s[l],l,o));return i}},hE={left:uE(!1),right:uE(!0)},dE="process"===_(s.process),pE=hE.left;On({target:"Array",proto:!0,forced:!dE&&ve>79&&ve<83||!oh("reduce")},{reduce:function(e){var t=arguments.length;return pE(this,e,t,t>1?arguments[1]:void 0)}});var fE=Dr("Array").reduce,gE=ce,mE=fE,vE=Array.prototype,yE=function(e){var t=e.reduce;return e===vE||gE(vE,e)&&t===vE.reduce?mE:t},bE=i(yE);class wE{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(e,t,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,t){this.fake_use(e,t),this.abstract()}shift(e,t){this.fake_use(e,t),this.abstract()}}class xE extends wE{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(e,n),e.x=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}sort(e){iE(e).call(e,function(e,t){return e.x-t.x})}fix(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}shift(e,t){this.layout.body.nodes[e].x+=t}}class _E extends wE{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(e,n),e.y=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}sort(e){iE(e).call(e,function(e,t){return e.y-t.y})}fix(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}shift(e,t){this.layout.body.nodes[e].y+=t}}var AE=Ws.every;On({target:"Array",proto:!0,forced:!oh("every")},{every:function(e){return AE(this,e,arguments.length>1?arguments[1]:void 0)}});var TE=Dr("Array").every,EE=ce,kE=TE,SE=Array.prototype,CE=function(e){var t=e.every;return e===SE||EE(SE,e)&&t===SE.every?kE:t},NE=i(CE);function ME(e,t){const n=new fA;return mh(e).call(e,e=>{var t;mh(t=e.edges).call(t,e=>{e.connected&&n.add(e)})}),mh(n).call(n,e=>{const n=e.from.id,r=e.to.id;null==t[n]&&(t[n]=0),(null==t[r]||t[n]>=t[r])&&(t[r]=t[n]+1)}),t}function OE(e,t,n,r){var i;const o=Mp(null),s=bE(i=[...Ox(r).call(r)]).call(i,(e,t)=>e+1+t.edges.length,0),a=n+"Id",l="to"===n?1:-1;for(const[i,h]of r){if(!r.has(i)||!e(h))continue;o[i]=0;const d=[h];let p,f=0;for(;p=d.pop();){var c,u;if(!r.has(i))continue;const e=o[p.id]+l;if(mh(c=Bd(u=p.edges).call(u,e=>e.connected&&e.to!==e.from&&e[n]!==p&&r.has(e.toId)&&r.has(e.fromId))).call(c,r=>{const i=r[a],s=o[i];(null==s||t(e,s))&&(o[i]=e,d.push(r[n]))}),f>s)return ME(r,o);++f}}return o}class RE{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,t){void 0===this.childrenReference[e]&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),void 0===this.parentReference[t]&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,t){void 0!==t&&void 0===this.trees[e.id]&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}ensureLevel(e){void 0===this.levels[e]&&(this.levels[e]=0)}getMaxLevel(e){const t={},n=e=>{if(void 0!==t[e])return t[e];let r=this.levels[e];if(this.childrenReference[e]){const t=this.childrenReference[e];if(t.length>0)for(let e=0;e<t.length;e++)r=Math.max(r,n(t[e]))}return t[e]=r,r};return n(e)}levelDownstream(e,t){void 0===this.levels[t.id]&&(void 0===this.levels[e.id]&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const t=new Pb;let n=0;const r=iE(e=[...new fA(Xd(this.levels))]).call(e,(e,t)=>e-t);for(const e of r)t.set(e,n++);for(const e in this.levels)Object.prototype.hasOwnProperty.call(this.levels,e)&&(this.levels[e]=t.get(this.levels[e]))}getTreeSize(e,t){let n=1e9,r=-1e9,i=1e9,o=-1e9;for(const s in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,s)&&this.trees[s]===t){const t=e[s];n=Math.min(t.x,n),r=Math.max(t.x,r),i=Math.min(t.y,i),o=Math.max(t.y,o)}return{min_x:n,max_x:r,min_y:i,max_y:o}}hasSameParent(e,t){const n=this.parentReference[e.id],r=this.parentReference[t.id];if(void 0===n||void 0===r)return!1;for(let e=0;e<n.length;e++)for(let t=0;t<r.length;t++)if(n[e]==r[t])return!0;return!1}inSameSubNetwork(e,t){return this.trees[e.id]===this.trees[t.id]}getLevels(){return Ju(this.distributionOrdering)}addToOrdering(e,t){void 0===this.distributionOrdering[t]&&(this.distributionOrdering[t]=[]);let n=!1;const r=this.distributionOrdering[t];for(const t in r)if(r[t]===e){n=!0;break}n||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}class IE{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+rh()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},xr(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(!0!==this.options.hierarchical.enabled)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,t){if(void 0!==e){const n=this.options.hierarchical,r=n.enabled;if(bm(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Pm(this.options,e,"hierarchical"),void 0!==e.randomSeed&&this._resetRNG(e.randomSeed),!0===n.enabled)return!0===r&&this.body.emitter.emit("refresh",!0),"RL"===n.direction||"DU"===n.direction?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(!0===r)return this.body.emitter.emit("refresh"),xm(t,this.optionsBackup)}return t}_resetRNG(e){this.initialRandomSeed=e,this._rng=am(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(!0===this.options.hierarchical.enabled){const t=this.optionsBackup.physics;void 0===e.physics||!0===e.physics?(e.physics={enabled:void 0===t.enabled||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=void 0===t.enabled||t.enabled,t.solver=t.solver||"barnesHut"):"object"==typeof e.physics?(t.enabled=void 0===e.physics.enabled||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):!1!==e.physics&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(void 0===e.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(void 0===e.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if("boolean"==typeof e.edges.smooth)this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const t=e.edges.smooth;void 0!==t.type&&"dynamic"!==t.type&&(n=t.type),this.optionsBackup.edges={smooth:{enabled:void 0===t.enabled||t.enabled,type:void 0===t.type?"dynamic":t.type,roundness:void 0===t.roundness?.5:t.roundness,forceDirection:void 0!==t.forceDirection&&t.forceDirection}},e.edges.smooth={enabled:void 0===t.enabled||t.enabled,type:n,roundness:void 0===t.roundness?.5:t.roundness,forceDirection:void 0!==t.forceDirection&&t.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);const t=e.length+50;for(let n=0;n<e.length;n++){const r=e[n],i=2*Math.PI*this._rng();void 0===r.x&&(r.x=t*Math.cos(i)),void 0===r.y&&(r.y=t*Math.sin(i))}}}layoutNetwork(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){const e=this.body.nodeIndices;let t=0;for(let n=0;n<e.length;n++)!0===this.body.nodes[e[n]].predefinedPosition&&(t+=1);if(t<.5*e.length){const t=10;let n=0;const r=this.options.clusterThreshold,i={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>r){const o=e.length;for(;e.length>r&&n<=t;){n+=1;const t=e.length;if(n%3==0?this.body.modules.clustering.clusterBridges(i):this.body.modules.clustering.clusterOutliers(i),t==e.length&&n%3!=0)return this._declusterAll(),void this.body.emitter.emit("_layoutFailed")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*o)})}this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let t=0;t<e.length;t++){const n=this.body.nodes[e[t]];!1===n.predefinedPosition&&(n.x+=(.5-this._rng())*o,n.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=nA.getRangeCore(this.body.nodes,this.body.nodeIndices),t=nA.findCenter(e);for(let e=0;e<this.body.nodeIndices.length;e++){const n=this.body.nodes[this.body.nodeIndices[e]];n.x-=t.x,n.y-=t.y}}_declusterAll(){let e=!0;for(;!0===e;){e=!1;for(let t=0;t<this.body.nodeIndices.length;t++)!0===this.body.nodes[this.body.nodeIndices[t]].isCluster&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));!0===e&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){let e,t,n=!1,r=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new RE,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(e=this.body.nodes[t],void 0!==e.options.level?(n=!0,this.hierarchical.levels[t]=e.options.level):r=!0);if(!0===r&&!0===n)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(!0===r){const e=this.options.hierarchical.sortMethod;"hubsize"===e?this._determineLevelsByHubsize():"directed"===e?this._determineLevelsDirected():"custom"===e&&this._determineLevelsCustomCallback()}for(const e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&this.hierarchical.ensureLevel(e);const e=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(e),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let t=!1;const n={},r=(e,t)=>{const n=this.hierarchical.trees;for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e&&this.direction.shift(r,t)},i=()=>{const e=[];for(let t=0;t<this.hierarchical.numTrees();t++)e.push(this.direction.getTreeSize(t));return e},o=(e,t)=>{if(!t[e.id]&&(t[e.id]=!0,this.hierarchical.childrenReference[e.id])){const n=this.hierarchical.childrenReference[e.id];if(n.length>0)for(let e=0;e<n.length;e++)o(this.body.nodes[n[e]],t)}},s=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,r=1e9,i=1e9,o=1e9,s=-1e9;for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const l=e.body.nodes[a],c=e.hierarchical.levels[l.id],u=e.direction.getPosition(l),[h,d]=e._getSpaceAroundNode(l,t);r=Math.min(h,r),i=Math.min(d,i),c<=n&&(o=Math.min(u,o),s=Math.max(u,s))}return[o,s,r,i]},a=(e,t)=>{const n=this.hierarchical.getMaxLevel(e.id),r=this.hierarchical.getMaxLevel(t.id);return Math.min(n,r)},l=(e,t,n)=>{const r=this.hierarchical;for(let i=0;i<t.length;i++){const o=t[i],s=r.distributionOrdering[o];if(s.length>1)for(let t=0;t<s.length-1;t++){const i=s[t],o=s[t+1];r.hasSameParent(i,o)&&r.inSameSubNetwork(i,o)&&e(i,o,n)}}},c=function(n,r){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const l=e.direction.getPosition(n),c=e.direction.getPosition(r),u=Math.abs(c-l),h=e.options.hierarchical.nodeSpacing;if(u>h){const l={},c={};o(n,l),o(r,c);const u=a(n,r),d=s(l,u),p=s(c,u),f=d[1],g=p[0],m=p[2];if(Math.abs(f-g)>h){let n=f-g+h;n<-m+h&&(n=-m+h),n<0&&(e._shiftBlock(r.id,n),t=!0,!0===i&&e._centerParent(r))}}},u=(e,r)=>{const i=r.id,a=r.edges,l=this.hierarchical.levels[r.id],c=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,u={},h=[];for(let e=0;e<a.length;e++){const t=a[e];if(t.toId!=t.fromId){const n=t.toId==i?t.from:t.to;u[a[e].id]=n,this.hierarchical.levels[n.id]<l&&h.push(t)}}const d=(e,t)=>{let n=0;for(let r=0;r<t.length;r++)if(void 0!==u[t[r].id]){const i=this.direction.getPosition(u[t[r].id])-e;n+=i/Math.sqrt(i*i+c)}return n},p=(e,t)=>{let n=0;for(let r=0;r<t.length;r++)if(void 0!==u[t[r].id]){const i=this.direction.getPosition(u[t[r].id])-e;n-=c*Math.pow(i*i+c,-1.5)}return n},f=(e,t)=>{let n=this.direction.getPosition(r);const i={};for(let r=0;r<e;r++){const e=d(n,t),o=p(n,t),s=40;if(n-=Math.max(-s,Math.min(s,Math.round(e/o))),void 0!==i[n])break;i[n]=r}return n};let g=f(e,h);(e=>{const i=this.direction.getPosition(r);if(void 0===n[r.id]){const e={};o(r,e),n[r.id]=e}const a=s(n[r.id]),l=a[2],c=a[3],u=e-i;let h=0;u>0?h=Math.min(u,c-this.options.hierarchical.nodeSpacing):u<0&&(h=-Math.min(-u,l-this.options.hierarchical.nodeSpacing)),0!=h&&(this._shiftBlock(r.id,h),t=!0)})(g),g=f(e,a),(e=>{const n=this.direction.getPosition(r),[i,o]=this._getSpaceAroundNode(r),s=e-n;let a=n;s>0?a=Math.min(n+(o-this.options.hierarchical.nodeSpacing),e):s<0&&(a=Math.max(n-(i-this.options.hierarchical.nodeSpacing),e)),a!==n&&(this.direction.setPosition(r,a),t=!0)})(g)},h=e=>{let n=this.hierarchical.getLevels();n=kh(n).call(n);for(let r=0;r<e;r++){t=!1;for(let e=0;e<n.length;e++){const t=n[e],r=this.hierarchical.distributionOrdering[t];for(let e=0;e<r.length;e++)u(1e3,r[e])}if(!0!==t)break}},d=e=>{let n=this.hierarchical.getLevels();n=kh(n).call(n);for(let r=0;r<e&&(t=!1,l(c,n,!0),!0===t);r++);},p=()=>{for(const e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&this._centerParent(this.body.nodes[e])},f=()=>{let e=this.hierarchical.getLevels();e=kh(e).call(e);for(let t=0;t<e.length;t++){const n=e[t],r=this.hierarchical.distributionOrdering[n];for(let e=0;e<r.length;e++)this._centerParent(r[e])}};!0===this.options.hierarchical.blockShifting&&(d(5),p()),!0===this.options.hierarchical.edgeMinimization&&h(20),!0===this.options.hierarchical.parentCentralization&&f(),(()=>{const e=i();let t=0;for(let n=0;n<e.length-1;n++)t+=e[n].max-e[n+1].min+this.options.hierarchical.treeSpacing,r(n+1,t)})()}_getSpaceAroundNode(e,t){let n=!0;void 0===t&&(n=!1);const r=this.hierarchical.levels[e.id];if(void 0!==r){const i=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),s=this.hierarchical.distributionOrdering[r];let a=1e9,l=1e9;if(0!==i){const e=s[i-1];(!0===n&&void 0===t[e.id]||!1===n)&&(a=o-this.direction.getPosition(e))}if(i!=s.length-1){const e=s[i+1];if(!0===n&&void 0===t[e.id]||!1===n){const t=this.direction.getPosition(e);l=Math.min(l,t-o)}}return[a,l]}return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const t=this.hierarchical.parentReference[e.id];for(let e=0;e<t.length;e++){const n=t[e],r=this.body.nodes[n],i=this.hierarchical.childrenReference[n];if(void 0!==i){const e=this._getCenterPosition(i),t=this.direction.getPosition(r),[n,o]=this._getSpaceAroundNode(r),s=t-e;(s<0&&Math.abs(s)<o-this.options.hierarchical.nodeSpacing||s>0&&Math.abs(s)<n-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,e)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var t;let r=Ju(e[n]);r=this._indexArrayToNodes(r),iE(t=this.direction).call(t,r);let i=0;for(let e=0;e<r.length;e++){const t=r[e];if(void 0===this.positionedNodes[t.id]){const o=this.options.hierarchical.nodeSpacing;let s=o*i;i>0&&(s=this.direction.getPosition(r[e-1])+o),this.direction.setPosition(t,s,n),this._validatePositionAndContinue(t,n,s),i++}}}}_placeBranchNodes(e,t){var n;const r=this.hierarchical.childrenReference[e];if(void 0===r)return;const i=[];for(let e=0;e<r.length;e++)i.push(this.body.nodes[r[e]]);iE(n=this.direction).call(n,i);for(let n=0;n<i.length;n++){const r=i[n],o=this.hierarchical.levels[r.id];if(!(o>t&&void 0===this.positionedNodes[r.id]))return;{const t=this.options.hierarchical.nodeSpacing;let s;s=0===n?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(i[n-1])+t,this.direction.setPosition(r,s,o),this._validatePositionAndContinue(r,o,s)}}const o=this._getCenterPosition(i);this.direction.setPosition(this.body.nodes[e],o,t)}_validatePositionAndContinue(e,t,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[t]){const r=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(n-r<this.options.hierarchical.nodeSpacing){const i=r+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,i)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}_indexArrayToNodes(e){const t=[];for(let n=0;n<e.length;n++)t.push(this.body.nodes[e[n]]);return t}_getDistribution(){const e={};let t,n;for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){n=this.body.nodes[t];const r=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(n,r),void 0===e[r]&&(e[r]={}),e[r][t]=n}return e}_getActiveEdges(e){const t=[];return Tm(e.edges,e=>{var n;-1!==Cp(n=this.body.edgeIndices).call(n,e.id)&&t.push(e)}),t}_getHubSizes(){const e={};Tm(this.body.nodeIndices,t=>{const n=this.body.nodes[t],r=this._getActiveEdges(n).length;e[r]=!0});const t=[];return Tm(e,e=>{t.push(Number(e))}),iE(t).call(t,function(e,t){return t-e}),t}_determineLevelsByHubsize(){const e=(e,t)=>{this.hierarchical.levelDownstream(e,t)},t=this._getHubSizes();for(let n=0;n<t.length;++n){const r=t[n];if(0===r)break;Tm(this.body.nodeIndices,t=>{const n=this.body.nodes[t];r===this._getActiveEdges(n).length&&this._crawlNetwork(e,t)})}}_determineLevelsCustomCallback(){this._crawlNetwork((e,t,n)=>{let r=this.hierarchical.levels[e.id];void 0===r&&(r=this.hierarchical.levels[e.id]=1e5);const i=(nA.cloneOptions(e,"node"),nA.cloneOptions(t,"node"),void nA.cloneOptions(n,"edge"));this.hierarchical.levels[t.id]=r+i}),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const t=bE(e=this.body.nodeIndices).call(e,(e,t)=>(e.set(t,this.body.nodes[t]),e),new Pb);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=function(e){return OE(t=>{var n,r;return NE(n=Bd(r=t.edges).call(r,t=>e.has(t.toId))).call(n,e=>e.from===t)},(e,t)=>t<e,"to",e)}(t):this.hierarchical.levels=function(e){return OE(t=>{var n,r;return NE(n=Bd(r=t.edges).call(r,t=>e.has(t.toId))).call(n,e=>e.to===t)},(e,t)=>t>e,"from",e)}(t),this.hierarchical.setMinLevelToZero()}_generateMap(){this._crawlNetwork((e,t)=>{this.hierarchical.levels[t.id]>this.hierarchical.levels[e.id]&&this.hierarchical.addRelation(e.id,t.id)}),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;const n={},r=(t,i)=>{if(void 0===n[t.id]){let o;this.hierarchical.setTreeIndex(t,i),n[t.id]=!0;const s=this._getActiveEdges(t);for(let n=0;n<s.length;n++){const a=s[n];!0===a.connected&&(o=a.toId==t.id?a.from:a.to,t.id!=o.id&&(e(t,o,a),r(o,i)))}}};if(void 0===t){let e=0;for(let t=0;t<this.body.nodeIndices.length;t++){const i=this.body.nodeIndices[t];if(void 0===n[i]){const t=this.body.nodes[i];r(t,e),e+=1}}}else{const e=this.body.nodes[t];if(void 0===e)return;r(e)}}_shiftBlock(e,t){const n={},r=e=>{if(n[e])return;n[e]=!0,this.direction.shift(e,t);const i=this.hierarchical.childrenReference[e];if(void 0!==i)for(let e=0;e<i.length;e++)r(i[e])};r(e)}_findCommonParent(e,t){const n={},r=(e,t)=>{const n=this.hierarchical.parentReference[t];if(void 0!==n)for(let t=0;t<n.length;t++){const i=n[t];e[i]=!0,r(e,i)}},i=(e,t)=>{const n=this.hierarchical.parentReference[t];if(void 0!==n)for(let r=0;r<n.length;r++){const o=n[r];if(void 0!==e[o])return{foundParent:o,withChild:t};const s=i(e,o);if(null!==s.foundParent)return s}return{foundParent:null,withChild:t}};return r(n,e),i(n,t)}setDirectionStrategy(){const e="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=e?new xE(this):new _E(this)}_getCenterPosition(e){let t=1e9,n=-1e9;for(let r=0;r<e.length;r++){let i;if(void 0!==e[r].id)i=e[r];else{const t=e[r];i=this.body.nodes[t]}const o=this.direction.getPosition(i);t=Math.min(t,o),n=Math.max(n,o)}return.5*(t+n)}}class LE{constructor(e,t,n,r){var i,o;this.body=e,this.canvas=t,this.selectionHandler=n,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},xr(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",Ur(i=this._restore).call(i,this)),this.body.emitter.on("_resetData",Ur(o=this._restore).call(o,this))}_restore(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}setOptions(e,t,n){void 0!==t&&(void 0!==t.locale?this.options.locale=t.locale:this.options.locale=n.locale,void 0!==t.locales?this.options.locales=t.locales:this.options.locales=n.locales),void 0!==e&&("boolean"==typeof e?this.options.enabled=e:(this.options.enabled=!0,xm(this.options,e)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}toggleEditMode(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),r=this.selectionHandler.getSelectedEdgeCount(),i=n+r,o=this.options.locales[this.options.locale];let s=!1;!1!==this.options.addNode&&(this._createAddNodeButton(o),s=!0),!1!==this.options.addEdge&&(!0===s?this._createSeperator(1):s=!0,this._createAddEdgeButton(o)),1===n&&"function"==typeof this.options.editNode?(!0===s?this._createSeperator(2):s=!0,this._createEditNodeButton(o)):1===r&&0===n&&!1!==this.options.editEdge&&(!0===s?this._createSeperator(3):s=!0,this._createEditEdgeButton(o)),0!==i&&(n>0&&!1!==this.options.deleteNode||0===n&&!1!==this.options.deleteEdge)&&(!0===s&&this._createSeperator(4),this._createDeleteButton(o)),this._bindElementEvents(this.closeDiv,Ur(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",Ur(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t;const e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Ur(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",Ur(e=this._performAddNode).call(e,this))}editNode(){!0!==this.editMode&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){const t=xm({},e.options,!1);if(t.x=e.x,t.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(t,e=>{null!=e&&"editNode"===this.inMode&&this.body.data.nodes.getDataSet().update(e),this.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}addEdgeMode(){var e,t,n,r,i;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var o;const e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Ur(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",Ur(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",Ur(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",Ur(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",Ur(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDragStart",Ur(i=this._dragStartEdge).call(i,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!=typeof this.options.editEdge||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var e;const t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Ur(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var t,n,r,i;const e=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(e.from.x,e.from.y),s=this._getNewTargetNode(e.to.x,e.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(s.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[s.id]=s,this.body.nodeIndices.push(s.id),this._temporaryBindUI("onTouch",Ur(t=this._controlNodeTouch).call(t,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",Ur(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",Ur(r=this._controlNodeDrag).call(r,this)),this._temporaryBindUI("onDragEnd",Ur(i=this._controlNodeDragEnd).call(i,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",t=>{const n=e.edgeType.findBorderPositions(t);!1===o.selected&&(o.x=n.from.x,o.y=n.from.y),!1===s.selected&&(s.x=n.to.x,s.y=n.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{const e=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(e.from.id,e.to.id)}}deleteSelected(){!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),t=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let t=0;t<e.length;t++)if(!0===this.body.nodes[e[t]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else t.length>0&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){const r={nodes:e,edges:t};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(r,e=>{null!=e&&"delete"===this.inMode?(this.body.data.edges.getDataSet().remove(e.edges),this.body.data.nodes.getDataSet().remove(e.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(t),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){var e,t;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(e=null===(t=this.options.locales[this.options.locale])||void 0===t?void 0:t.close)&&void 0!==e?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}_getNewTargetNode(e,t){const n=xm({},this.options.controlNodeStyle);n.id="targetNode"+tA(),n.hidden=!1,n.physics=!1,n.x=e,n.y=t;const r=this.body.functions.createNode(n);return r.shape.boundingBox={left:e,right:e,top:t,bottom:t},r}_createEditButton(){var e;this._clean(),this.manipulationDOM={},fm(this.editModeDiv);const t=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,Ur(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,!0===this.guiEnabled&&(fm(this.editModeDiv),fm(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const t of Jh(e=this._domEventListenerCleanupQueue).call(e,0)){var e;t()}}_removeManipulationDOM(){this._clean(),fm(this.manipulationDiv),fm(this.editModeDiv),fm(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var t;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Ur(t=this.addNodeMode).call(t,this))}_createAddEdgeButton(e){var t;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Ur(t=this.addEdgeMode).call(t,this))}_createEditNodeButton(e){var t;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Ur(t=this.editNode).call(t,this))}_createEditEdgeButton(e){var t;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Ur(t=this.editEdgeMode).call(t,this))}_createDeleteButton(e){var t;let n;n=this.options.rtl?"vis-delete-rtl":"vis-delete";const r=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,Ur(t=this.deleteSelected).call(t,this))}_createBackButton(e){var t;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Ur(t=this.showManipulatorToolbar).call(t,this))}_createButton(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=r,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}_temporaryBindUI(e,t){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Lp(Ju(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const t=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,t){const n=new Vm(e,{});aA(n,t),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const r=e=>{let{keyCode:n,key:r}=e;"Enter"!==r&&" "!==r&&13!==n&&32!==n||t()};e.addEventListener("keyup",r,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",r,!1)})}_cleanupTemporaryNodesAndEdges(){for(let n=0;n<this.temporaryIds.edges.length;n++){var e;this.body.edges[this.temporaryIds.edges[n]].disconnect(),delete this.body.edges[this.temporaryIds.edges[n]];const r=Cp(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[n]);var t;-1!==r&&Jh(t=this.body.edgeIndices).call(t,r,1)}for(let e=0;e<this.temporaryIds.nodes.length;e++){var n;delete this.body.nodes[this.temporaryIds.nodes[e]];const t=Cp(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[e]);var r;-1!==t&&Jh(r=this.body.nodeIndices).call(r,t,1)}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=xr({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],r=this.body.nodes[this.temporaryIds.nodes[1]],i=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const o=n.isOverlappingWith(t),s=r.isOverlappingWith(t);!0===o?(this.selectedControlNode=n,i.edgeType.from=n):!0===s&&(this.selectedControlNode=r,i.edgeType.to=r),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const t=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(t);void 0!==this.selectedControlNode?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),r=this.body.edges[this.edgeBeingEditedId];if(void 0===this.selectedControlNode)return;this.selectionHandler.unselectAll();const i=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let e=i.length-1;e>=0;e--)if(i[e]!==this.selectedControlNode.id){o=this.body.nodes[i[e]];break}if(void 0!==o&&void 0!==this.selectedControlNode)if(!0===o.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const e=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===e.id?this._performEditEdge(o.id,r.to.id):this._performEditEdge(r.from.id,o.id)}else r.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=xr({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const t=this.lastTouch,n=this.selectionHandler.getNodeAt(t);if(void 0!==n)if(!0===n.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const e=this._getNewTargetNode(n.x,n.y);this.body.nodes[e.id]=e,this.body.nodeIndices.push(e.id);const t=this.body.functions.createEdge({id:"connectionEdge"+tA(),from:n.id,to:e.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[t.id]=t,this.body.edgeIndices.push(t.id),this.temporaryIds.nodes.push(e.id),this.temporaryIds.edges.push(t.id)}this.touchTime=(new Date).valueOf()}}_dragControlNode(e){const t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t);let r;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);const i=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let e=i.length-1;e>=0;e--){var s;if(-1===Cp(s=this.temporaryIds.nodes).call(s,i[e])){o=this.body.nodes[i[e]];break}}if(e.controlEdge={from:r,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),void 0!==this.temporaryIds.nodes[0]){const e=this.body.nodes[this.temporaryIds.nodes[0]];e.x=this.canvas._XconvertDOMtoCanvas(t.x),e.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t);let r;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);const i=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let e=i.length-1;e>=0;e--){var s;if(-1===Cp(s=this.temporaryIds.nodes).call(s,i[e])){o=this.body.nodes[i[e]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[r]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(r,o.id)),e.controlEdge={from:r,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}_performAddNode(e){const t={id:tA(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(t,e=>{null!=e&&"addNode"===this.inMode&&this.body.data.nodes.getDataSet().add(e),this.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()}_performAddEdge(e,t){const n={from:e,to:t};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,e=>{null!=e&&"addEdge"===this.inMode&&(this.body.data.edges.getDataSet().add(e),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,t){const n={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let r=this.options.editEdge;if("object"==typeof r&&(r=r.editWithoutDrag),"function"==typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(n,e=>{null==e||"editEdge"!==this.inMode?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(e),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const PE="string",DE="boolean",BE="number",FE="array",zE="object",$E=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],jE={borderWidth:{number:BE},borderWidthSelected:{number:BE,undefined:"undefined"},brokenImage:{string:PE,undefined:"undefined"},chosen:{label:{boolean:DE,function:"function"},node:{boolean:DE,function:"function"},__type__:{object:zE,boolean:DE}},color:{border:{string:PE},background:{string:PE},highlight:{border:{string:PE},background:{string:PE},__type__:{object:zE,string:PE}},hover:{border:{string:PE},background:{string:PE},__type__:{object:zE,string:PE}},__type__:{object:zE,string:PE}},opacity:{number:BE,undefined:"undefined"},fixed:{x:{boolean:DE},y:{boolean:DE},__type__:{object:zE,boolean:DE}},font:{align:{string:PE},color:{string:PE},size:{number:BE},face:{string:PE},background:{string:PE},strokeWidth:{number:BE},strokeColor:{string:PE},vadjust:{number:BE},multi:{boolean:DE,string:PE},bold:{color:{string:PE},size:{number:BE},face:{string:PE},mod:{string:PE},vadjust:{number:BE},__type__:{object:zE,string:PE}},boldital:{color:{string:PE},size:{number:BE},face:{string:PE},mod:{string:PE},vadjust:{number:BE},__type__:{object:zE,string:PE}},ital:{color:{string:PE},size:{number:BE},face:{string:PE},mod:{string:PE},vadjust:{number:BE},__type__:{object:zE,string:PE}},mono:{color:{string:PE},size:{number:BE},face:{string:PE},mod:{string:PE},vadjust:{number:BE},__type__:{object:zE,string:PE}},__type__:{object:zE,string:PE}},group:{string:PE,number:BE,undefined:"undefined"},heightConstraint:{minimum:{number:BE},valign:{string:PE},__type__:{object:zE,boolean:DE,number:BE}},hidden:{boolean:DE},icon:{face:{string:PE},code:{string:PE},size:{number:BE},color:{string:PE},weight:{string:PE,number:BE},__type__:{object:zE}},id:{string:PE,number:BE},image:{selected:{string:PE,undefined:"undefined"},unselected:{string:PE,undefined:"undefined"},__type__:{object:zE,string:PE}},imagePadding:{top:{number:BE},right:{number:BE},bottom:{number:BE},left:{number:BE},__type__:{object:zE,number:BE}},label:{string:PE,undefined:"undefined"},labelHighlightBold:{boolean:DE},level:{number:BE,undefined:"undefined"},margin:{top:{number:BE},right:{number:BE},bottom:{number:BE},left:{number:BE},__type__:{object:zE,number:BE}},mass:{number:BE},physics:{boolean:DE},scaling:{min:{number:BE},max:{number:BE},label:{enabled:{boolean:DE},min:{number:BE},max:{number:BE},maxVisible:{number:BE},drawThreshold:{number:BE},__type__:{object:zE,boolean:DE}},customScalingFunction:{function:"function"},__type__:{object:zE}},shadow:{enabled:{boolean:DE},color:{string:PE},size:{number:BE},x:{number:BE},y:{number:BE},__type__:{object:zE,boolean:DE}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:DE,array:FE},borderRadius:{number:BE},interpolation:{boolean:DE},useImageSize:{boolean:DE},useBorderWithImage:{boolean:DE},coordinateOrigin:{string:["center","top-left"]},__type__:{object:zE}},size:{number:BE},title:{string:PE,dom:"dom",undefined:"undefined"},value:{number:BE,undefined:"undefined"},widthConstraint:{minimum:{number:BE},maximum:{number:BE},__type__:{object:zE,boolean:DE,number:BE}},x:{number:BE},y:{number:BE},__type__:{object:zE}},UE={configure:{enabled:{boolean:DE},filter:{boolean:DE,string:PE,array:FE,function:"function"},container:{dom:"dom"},showButton:{boolean:DE},__type__:{object:zE,boolean:DE,string:PE,array:FE,function:"function"}},edges:{arrows:{to:{enabled:{boolean:DE},scaleFactor:{number:BE},type:{string:$E},imageHeight:{number:BE},imageWidth:{number:BE},src:{string:PE},__type__:{object:zE,boolean:DE}},middle:{enabled:{boolean:DE},scaleFactor:{number:BE},type:{string:$E},imageWidth:{number:BE},imageHeight:{number:BE},src:{string:PE},__type__:{object:zE,boolean:DE}},from:{enabled:{boolean:DE},scaleFactor:{number:BE},type:{string:$E},imageWidth:{number:BE},imageHeight:{number:BE},src:{string:PE},__type__:{object:zE,boolean:DE}},__type__:{string:["from","to","middle"],object:zE}},endPointOffset:{from:{number:BE},to:{number:BE},__type__:{object:zE,number:BE}},arrowStrikethrough:{boolean:DE},background:{enabled:{boolean:DE},color:{string:PE},size:{number:BE},dashes:{boolean:DE,array:FE},__type__:{object:zE,boolean:DE}},chosen:{label:{boolean:DE,function:"function"},edge:{boolean:DE,function:"function"},__type__:{object:zE,boolean:DE}},color:{color:{string:PE},highlight:{string:PE},hover:{string:PE},inherit:{string:["from","to","both"],boolean:DE},opacity:{number:BE},__type__:{object:zE,string:PE}},dashes:{boolean:DE,array:FE},font:{color:{string:PE},size:{number:BE},face:{string:PE},background:{string:PE},strokeWidth:{number:BE},strokeColor:{string:PE},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:BE},multi:{boolean:DE,string:PE},bold:{color:{string:PE},size:{number:BE},face:{string:PE},mod:{string:PE},vadjust:{number:BE},__type__:{object:zE,string:PE}},boldital:{color:{string:PE},size:{number:BE},face:{string:PE},mod:{string:PE},vadjust:{number:BE},__type__:{object:zE,string:PE}},ital:{color:{string:PE},size:{number:BE},face:{string:PE},mod:{string:PE},vadjust:{number:BE},__type__:{object:zE,string:PE}},mono:{color:{string:PE},size:{number:BE},face:{string:PE},mod:{string:PE},vadjust:{number:BE},__type__:{object:zE,string:PE}},__type__:{object:zE,string:PE}},hidden:{boolean:DE},hoverWidth:{function:"function",number:BE},label:{string:PE,undefined:"undefined"},labelHighlightBold:{boolean:DE},length:{number:BE,undefined:"undefined"},physics:{boolean:DE},scaling:{min:{number:BE},max:{number:BE},label:{enabled:{boolean:DE},min:{number:BE},max:{number:BE},maxVisible:{number:BE},drawThreshold:{number:BE},__type__:{object:zE,boolean:DE}},customScalingFunction:{function:"function"},__type__:{object:zE}},selectionWidth:{function:"function",number:BE},selfReferenceSize:{number:BE},selfReference:{size:{number:BE},angle:{number:BE},renderBehindTheNode:{boolean:DE},__type__:{object:zE}},shadow:{enabled:{boolean:DE},color:{string:PE},size:{number:BE},x:{number:BE},y:{number:BE},__type__:{object:zE,boolean:DE}},smooth:{enabled:{boolean:DE},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:BE},forceDirection:{string:["horizontal","vertical","none"],boolean:DE},__type__:{object:zE,boolean:DE}},title:{string:PE,undefined:"undefined"},width:{number:BE},widthConstraint:{maximum:{number:BE},__type__:{object:zE,boolean:DE,number:BE}},value:{number:BE,undefined:"undefined"},__type__:{object:zE}},groups:{useDefaultGroups:{boolean:DE},__any__:jE,__type__:{object:zE}},interaction:{dragNodes:{boolean:DE},dragView:{boolean:DE},hideEdgesOnDrag:{boolean:DE},hideEdgesOnZoom:{boolean:DE},hideNodesOnDrag:{boolean:DE},hover:{boolean:DE},keyboard:{enabled:{boolean:DE},speed:{x:{number:BE},y:{number:BE},zoom:{number:BE},__type__:{object:zE}},bindToWindow:{boolean:DE},autoFocus:{boolean:DE},__type__:{object:zE,boolean:DE}},multiselect:{boolean:DE},navigationButtons:{boolean:DE},selectable:{boolean:DE},selectConnectedEdges:{boolean:DE},hoverConnectedEdges:{boolean:DE},tooltipDelay:{number:BE},zoomView:{boolean:DE},zoomSpeed:{number:BE},__type__:{object:zE}},layout:{randomSeed:{undefined:"undefined",number:BE,string:PE},improvedLayout:{boolean:DE},clusterThreshold:{number:BE},hierarchical:{enabled:{boolean:DE},levelSeparation:{number:BE},nodeSpacing:{number:BE},treeSpacing:{number:BE},blockShifting:{boolean:DE},edgeMinimization:{boolean:DE},parentCentralization:{boolean:DE},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:zE,boolean:DE}},__type__:{object:zE}},manipulation:{enabled:{boolean:DE},initiallyActive:{boolean:DE},addNode:{boolean:DE,function:"function"},addEdge:{boolean:DE,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:zE,boolean:DE,function:"function"}},deleteNode:{boolean:DE,function:"function"},deleteEdge:{boolean:DE,function:"function"},controlNodeStyle:jE,__type__:{object:zE,boolean:DE}},nodes:jE,physics:{enabled:{boolean:DE},barnesHut:{theta:{number:BE},gravitationalConstant:{number:BE},centralGravity:{number:BE},springLength:{number:BE},springConstant:{number:BE},damping:{number:BE},avoidOverlap:{number:BE},__type__:{object:zE}},forceAtlas2Based:{theta:{number:BE},gravitationalConstant:{number:BE},centralGravity:{number:BE},springLength:{number:BE},springConstant:{number:BE},damping:{number:BE},avoidOverlap:{number:BE},__type__:{object:zE}},repulsion:{centralGravity:{number:BE},springLength:{number:BE},springConstant:{number:BE},nodeDistance:{number:BE},damping:{number:BE},__type__:{object:zE}},hierarchicalRepulsion:{centralGravity:{number:BE},springLength:{number:BE},springConstant:{number:BE},nodeDistance:{number:BE},damping:{number:BE},avoidOverlap:{number:BE},__type__:{object:zE}},maxVelocity:{number:BE},minVelocity:{number:BE},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:DE},iterations:{number:BE},updateInterval:{number:BE},onlyDynamicEdges:{boolean:DE},fit:{boolean:DE},__type__:{object:zE,boolean:DE}},timestep:{number:BE},adaptiveTimestep:{boolean:DE},wind:{x:{number:BE},y:{number:BE},__type__:{object:zE}},__type__:{object:zE,boolean:DE}},autoResize:{boolean:DE},clickToUse:{boolean:DE},locale:{string:PE},locales:{__any__:{any:"any"},__type__:{object:zE}},height:{string:PE},width:{string:PE},__type__:{object:zE}},HE={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},GE=(e,t,n)=>{var r;return!(!xd(e).call(e,"physics")||!xd(r=HE.physics.solver).call(r,t)||n.physics.solver===t||"wind"===t)};var VE=Object.freeze({__proto__:null,allOptions:UE,configuratorHideOption:GE,configureOptions:HE});class WE{constructor(){}getDistances(e,t,n){const r={},i=e.edges;for(let e=0;e<t.length;e++){const n={};r[t[e]]=n;for(let r=0;r<t.length;r++)n[t[r]]=e==r?0:1e9}for(let e=0;e<n.length;e++){const t=i[n[e]];!0===t.connected&&void 0!==r[t.fromId]&&void 0!==r[t.toId]&&(r[t.fromId][t.toId]=1,r[t.toId][t.fromId]=1)}const o=t.length;for(let e=0;e<o;e++){const n=t[e],i=r[n];for(let e=0;e<o-1;e++){const s=t[e],a=r[s];for(let l=e+1;l<o;l++){const e=t[l],o=r[e],c=Math.min(a[e],a[n]+i[e]);a[e]=c,o[s]=c}}}return r}}class YE{constructor(e,t,n){this.body=e,this.springLength=t,this.springConstant=n,this.distanceSolver=new WE}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(r),this._createK_matrix(r),this._createE_matrix();let i=0;const o=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3));let s=1e9,a=0,l=0,c=0,u=0,h=0;for(;s>.01&&i<o;)for(i+=1,[a,s,l,c]=this._getHighestEnergyNode(n),u=s,h=0;u>1&&h<5;)h+=1,this._moveNode(a,l,c),[u,l,c]=this._getEnergy(a)}_getHighestEnergyNode(e){const t=this.body.nodeIndices,n=this.body.nodes;let r=0,i=t[0],o=0,s=0;for(let a=0;a<t.length;a++){const l=t[a];if(!0!==n[l].predefinedPosition||!0===n[l].isCluster&&!0===e||!0!==n[l].options.fixed.x||!0!==n[l].options.fixed.y){const[e,t,n]=this._getEnergy(l);r<e&&(r=e,i=l,o=t,s=n)}}return[i,r,o,s]}_getEnergy(e){const[t,n]=this.E_sums[e];return[Math.sqrt(t**2+n**2),t,n]}_moveNode(e,t,n){const r=this.body.nodeIndices,i=this.body.nodes;let o=0,s=0,a=0;const l=i[e].x,c=i[e].y,u=this.K_matrix[e],h=this.L_matrix[e];for(let t=0;t<r.length;t++){const n=r[t];if(n!==e){const e=i[n].x,t=i[n].y,r=u[n],d=h[n],p=1/((l-e)**2+(c-t)**2)**1.5;o+=r*(1-d*(c-t)**2*p),s+=r*(d*(l-e)*(c-t)*p),a+=r*(1-d*(l-e)**2*p)}}const d=(t/o+n/s)/(s/o-a/s),p=-(s*d+t)/o;i[e].x+=p,i[e].y+=d,this._updateE_matrix(e)}_createL_matrix(e){const t=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let r=0;r<t.length;r++){this.L_matrix[t[r]]={};for(let i=0;i<t.length;i++)this.L_matrix[t[r]][t[i]]=n*e[t[r]][t[i]]}}_createK_matrix(e){const t=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let r=0;r<t.length;r++){this.K_matrix[t[r]]={};for(let i=0;i<t.length;i++)this.K_matrix[t[r]][t[i]]=n*e[t[r]][t[i]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(let t=0;t<e.length;t++)this.E_matrix[e[t]]=[];for(let n=0;n<e.length;n++){const r=e[n],i=t[r].x,o=t[r].y;let s=0,a=0;for(let l=n;l<e.length;l++){const c=e[l];if(c!==r){const e=t[c].x,u=t[c].y,h=1/Math.sqrt((i-e)**2+(o-u)**2);this.E_matrix[r][l]=[this.K_matrix[r][c]*(i-e-this.L_matrix[r][c]*(i-e)*h),this.K_matrix[r][c]*(o-u-this.L_matrix[r][c]*(o-u)*h)],this.E_matrix[c][n]=this.E_matrix[r][l],s+=this.E_matrix[r][l][0],a+=this.E_matrix[r][l][1]}}this.E_sums[r]=[s,a]}}_updateE_matrix(e){const t=this.body.nodeIndices,n=this.body.nodes,r=this.E_matrix[e],i=this.K_matrix[e],o=this.L_matrix[e],s=n[e].x,a=n[e].y;let l=0,c=0;for(let u=0;u<t.length;u++){const h=t[u];if(h!==e){const e=r[u],t=e[0],d=e[1],p=n[h].x,f=n[h].y,g=1/Math.sqrt((s-p)**2+(a-f)**2),m=i[h]*(s-p-o[h]*(s-p)*g),v=i[h]*(a-f-o[h]*(a-f)*g);r[u]=[m,v],l+=m,c+=v;const y=this.E_sums[h];y[0]+=m-t,y[1]+=v-d}}this.E_sums[e]=[l,c]}}function qE(e,t,n){var r,i,o,s;if(!(this instanceof qE))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:kv,clickToUse:!1},xr(this.options,this.defaultOptions),this.body={container:e,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Ur(r=this.on).call(r,this),off:Ur(i=this.off).call(i,this),emit:Ur(o=this.emit).call(o,this),once:Ur(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Cv(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Db,this.canvas=new cA(this.body),this.selectionHandler=new wT(this.body,this.canvas),this.interactionHandler=new pA(this.body,this.canvas,this.selectionHandler),this.view=new uA(this.body,this.canvas),this.renderer=new oA(this.body,this.canvas),this.physics=new K_(this.body),this.layoutEngine=new IE(this.body),this.clustering=new iA(this.body),this.manipulation=new LE(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new l_(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new j_(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new YE(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(t)}Kr(qE.prototype),qE.prototype.setOptions=function(e){if(null===e&&(e=void 0),void 0!==e){if(Ym.validate(e,UE),bm(["locale","locales","clickToUse"],this.options,e),void 0!==e.locale&&(e.locale=function(e,t){try{const[n,r]=t.split(/[-_ /]/,2),i=null!=n?n.toLowerCase():null,o=null!=r?r.toUpperCase():null;if(i&&o){const t=i+"-"+o;if(Object.prototype.hasOwnProperty.call(e,t))return t}if(i){const t=i;if(Object.prototype.hasOwnProperty.call(e,t))return t}return"en"}catch(e){return"en"}}(e.locales||this.options.locales,e.locale)),e=this.layoutEngine.setOptions(e.layout,e),this.canvas.setOptions(e),this.groups.setOptions(e.groups),this.nodesHandler.setOptions(e.nodes),this.edgesHandler.setOptions(e.edges),this.physics.setOptions(e.physics),this.manipulation.setOptions(e.manipulation,e,this.options),this.interactionHandler.setOptions(e.interaction),this.renderer.setOptions(e.interaction),this.selectionHandler.setOptions(e.interaction),void 0!==e.groups&&this.body.emitter.emit("refreshNodes"),"configure"in e&&(this.configurator||(this.configurator=new Gm(this,this.body.container,HE,this.canvas.pixelRatio,GE)),this.configurator.setOptions(e.configure)),this.configurator&&!0===this.configurator.options.enabled){const e={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};xm(e.nodes,this.nodesHandler.options),xm(e.edges,this.edgesHandler.options),xm(e.layout,this.layoutEngine.options),xm(e.interaction,this.selectionHandler.options),xm(e.interaction,this.renderer.options),xm(e.interaction,this.interactionHandler.options),xm(e.manipulation,this.manipulation.options),xm(e.physics,this.physics.options),xm(e.global,this.canvas.options),xm(e.global,this.options),this.configurator.setModuleOptions(e)}void 0!==e.clickToUse?!0===e.clickToUse?void 0===this.activator&&(this.activator=new Hm(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},qE.prototype._updateVisibleIndices=function(){const e=this.body.nodes,t=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.clustering._isClusteredNode(t)||!1!==e[t].options.hidden||this.body.nodeIndices.push(e[t].id));for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n],i=e[r.fromId],o=e[r.toId],s=void 0!==i&&void 0!==o;!this.clustering._isClusteredEdge(n)&&!1===r.options.hidden&&s&&!1===i.options.hidden&&!1===o.options.hidden&&this.body.edgeIndices.push(r.id)}},qE.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})},qE.prototype.setData=function(e){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),e&&e.dot&&(e.nodes||e.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(e&&e.options),e&&e.dot){const t=_v(e.dot);this.setData(t)}else if(e&&e.gephi){const t=Tv(e.gephi);this.setData(t)}else this.nodesHandler.setData(e&&e.nodes,!0),this.edgesHandler.setData(e&&e.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},qE.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&delete this.body.nodes[e];for(const e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];fm(this.body.container)},qE.prototype._updateValueRange=function(e){let t,n,r,i=0;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const o=e[t].getValue();void 0!==o&&(n=void 0===n?o:Math.min(o,n),r=void 0===r?o:Math.max(o,r),i+=o)}if(void 0!==n&&void 0!==r)for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&e[t].setValueRange(n,r,i)},qE.prototype.isActive=function(){return!this.activator||this.activator.active},qE.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},qE.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},qE.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},qE.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},qE.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},qE.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},qE.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},qE.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},qE.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},qE.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},qE.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},qE.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},qE.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},qE.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},qE.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},qE.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},qE.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},qE.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},qE.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},qE.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},qE.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},qE.prototype.editNodeMode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},qE.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},qE.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},qE.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},qE.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},qE.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},qE.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},qE.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},qE.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},qE.prototype.getConnectedNodes=function(e){return void 0!==this.body.nodes[e]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},qE.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},qE.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},qE.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},qE.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},qE.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},qE.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},qE.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},qE.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},qE.prototype.getNodeAt=function(){const e=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},qE.prototype.getEdgeAt=function(){const e=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},qE.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},qE.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},qE.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},qE.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},qE.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},qE.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},qE.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},qE.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},qE.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},qE.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},qE.prototype.getOptionsFromConfigurator=function(){let e={};return this.configurator&&(e=this.configurator.getOptions.apply(this.configurator)),e};const XE=_v;e.Network=qE,e.NetworkImages=Cv,e.networkDOTParser=Av,e.networkGephiParser=Ev,e.networkOptions=VE,e.parseDOTNetwork=XE,e.parseGephiNetwork=Tv}(t,n(4107))},9008:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return e}},9027:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.parseWithoutProcessing=c,t.parse=function(e,t){var n=c(e,t);return new o.default(t).accept(n)};var i=r(n(6201)),o=r(n(915)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(8425)),a=n(2849);t.parser=i.default;var l={};function c(e,t){return"Program"===e.type?e:(i.default.yy=l,l.locInfo=function(e){return new l.SourceLocation(t&&t.srcName,e)},i.default.parse(e))}a.extend(l,s)},9042:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(3831),i=n(4792),o=n(7422);const s=function(e){return(0,r.A)(e,o.A,i.A)}},9119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLANK_URL=t.relativeFirstCharacters=t.whitespaceEscapeCharsRegex=t.urlSchemeRegex=t.ctrlCharactersRegex=t.htmlCtrlEntityRegex=t.htmlEntitiesRegex=t.invalidProtocolRegex=void 0,t.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,t.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,t.htmlCtrlEntityRegex=/&(newline|tab);/gi,t.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,t.urlSchemeRegex=/^.+(:|&colon;)/gim,t.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,t.relativeFirstCharacters=[".","/"],t.BLANK_URL="about:blank"},9137:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var r=n(8562),i=n(1917);const o=(0,r.A)(i.A,"DataView");var s=n(8335);const a=(0,r.A)(i.A,"Promise");var l=n(9857);const c=(0,r.A)(i.A,"WeakMap");var u=n(2383),h=n(1121),d="[object Map]",p="[object Promise]",f="[object Set]",g="[object WeakMap]",m="[object DataView]",v=(0,h.A)(o),y=(0,h.A)(s.A),b=(0,h.A)(a),w=(0,h.A)(l.A),x=(0,h.A)(c),_=u.A;(o&&_(new o(new ArrayBuffer(1)))!=m||s.A&&_(new s.A)!=d||a&&_(a.resolve())!=p||l.A&&_(new l.A)!=f||c&&_(new c)!=g)&&(_=function(e){var t=(0,u.A)(e),n="[object Object]"==t?e.constructor:void 0,r=n?(0,h.A)(n):"";if(r)switch(r){case v:return m;case y:return d;case b:return p;case w:return f;case x:return g}return t});const A=_},9142:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return function(){return e}}},9249:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var r=n(3315);function i(e,t){const n=function(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}(e,t);for(const i in r.wd)i in r.xj?i in e&&!(i in n)&&(n[i]=r.xj[i]):i in t?n[i]=t[i]:i in e&&(n[i]=e[i]);return n}function o(e,t,n){const r=e.icons,o=e.aliases||Object.create(null);let s={};function a(e){s=i(r[e]||o[e],s)}return a(t),n.forEach(a),i(e,s)}function s(e,t){if(e.icons[t])return o(e,t,[]);const n=function(e,t){const n=e.icons,r=e.aliases||Object.create(null),i=Object.create(null);return(t||Object.keys(n).concat(Object.keys(r))).forEach(function e(t){if(n[t])return i[t]=[];if(!(t in i)){i[t]=null;const n=r[t]&&r[t].parent,o=n&&e(n);o&&(i[t]=[n].concat(o))}return i[t]}),i}(e,[t])[t];return n?o(e,t,n):null}},9264:(e,t,n)=>{"use strict";n.d(t,{t:()=>zr,u:()=>$r});var r=n(6373),i=n(418),o=n(2806),s=n(2151);var a=n(724),l=n(4722),c=n(4092);function u(e,t,n){return`${e.name}_${t}_${n}`}class h{constructor(e){this.target=e}isEpsilon(){return!1}}class d extends h{constructor(e,t){super(e),this.tokenType=t}}class p extends h{constructor(e){super(e)}isEpsilon(){return!0}}class f extends h{constructor(e,t,n){super(e),this.rule=t,this.followState=n}isEpsilon(){return!0}}function g(e){const t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};!function(e,t){const n=t.length;for(let r=0;r<n;r++){const n=t[r],i=E(e,n,void 0,{type:2}),o=E(e,n,void 0,{type:7});i.stop=o,e.ruleToStartState.set(n,i),e.ruleToStopState.set(n,o)}}(t,e);const n=e.length;for(let r=0;r<n;r++){const n=e[r],i=v(t,n,n);void 0!==i&&A(t,n,i)}return t}function m(e,t,n){return n instanceof a.BK?_(e,t,n.terminalType,n):n instanceof a.wL?function(e,t,n){const r=n.referencedRule,i=e.ruleToStartState.get(r),o=E(e,t,n,{type:1}),s=E(e,t,n,{type:1}),a=new f(i,r,s);return k(o,a),{left:o,right:s}}(e,t,n):n instanceof a.ak?function(e,t,n){const r=E(e,t,n,{type:1});w(e,r);const i=(0,l.A)(n.definition,n=>m(e,t,n)),o=x(e,t,r,n,...i);return o}(e,t,n):n instanceof a.c$?function(e,t,n){const r=E(e,t,n,{type:1});w(e,r);const i=x(e,t,r,n,v(e,t,n));return function(e,t,n,r){const i=r.left,o=r.right;return T(i,o),e.decisionMap[u(t,"Option",n.idx)]=i,r}(e,t,n,i)}(e,t,n):n instanceof a.Y2?function(e,t,n){const r=E(e,t,n,{type:5});w(e,r);const i=x(e,t,r,n,v(e,t,n));return b(e,t,n,i)}(e,t,n):n instanceof a.Pp?function(e,t,n){const r=E(e,t,n,{type:5});w(e,r);const i=x(e,t,r,n,v(e,t,n)),o=_(e,t,n.separator,n);return b(e,t,n,i,o)}(e,t,n):n instanceof a.$P?function(e,t,n){const r=E(e,t,n,{type:4});w(e,r);const i=x(e,t,r,n,v(e,t,n));return y(e,t,n,i)}(e,t,n):n instanceof a.Cy?function(e,t,n){const r=E(e,t,n,{type:4});w(e,r);const i=x(e,t,r,n,v(e,t,n)),o=_(e,t,n.separator,n);return y(e,t,n,i,o)}(e,t,n):v(e,t,n)}function v(e,t,n){const r=(0,c.A)((0,l.A)(n.definition,n=>m(e,t,n)),e=>void 0!==e);return 1===r.length?r[0]:0===r.length?void 0:function(e,t){const n=t.length;for(let r=0;r<n-1;r++){const n=t[r];let i;1===n.left.transitions.length&&(i=n.left.transitions[0]);const o=i instanceof f,s=i,a=t[r+1].left;1===n.left.type&&1===n.right.type&&void 0!==i&&(o&&s.followState===n.right||i.target===n.right)?(o?s.followState=a:i.target=a,S(e,n.right)):T(n.right,a)}const r=t[0],i=t[n-1];return{left:r.left,right:i.right}}(e,r)}function y(e,t,n,r,i){const o=r.left,s=r.right,a=E(e,t,n,{type:11});w(e,a);const l=E(e,t,n,{type:12});return o.loopback=a,l.loopback=a,e.decisionMap[u(t,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=a,T(s,a),void 0===i?(T(a,o),T(a,l)):(T(a,l),T(a,i.left),T(i.right,o)),{left:o,right:l}}function b(e,t,n,r,i){const o=r.left,s=r.right,a=E(e,t,n,{type:10});w(e,a);const l=E(e,t,n,{type:12}),c=E(e,t,n,{type:9});return a.loopback=c,l.loopback=c,T(a,o),T(a,l),T(s,c),void 0!==i?(T(c,l),T(c,i.left),T(i.right,o)):T(c,a),e.decisionMap[u(t,i?"RepetitionWithSeparator":"Repetition",n.idx)]=a,{left:a,right:l}}function w(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function x(e,t,n,r,...i){const o=E(e,t,r,{type:8,start:n});n.end=o;for(const e of i)void 0!==e?(T(n,e.left),T(e.right,o)):T(n,o);const s={left:n,right:o};return e.decisionMap[u(t,function(e){if(e instanceof a.ak)return"Alternation";if(e instanceof a.c$)return"Option";if(e instanceof a.Y2)return"Repetition";if(e instanceof a.Pp)return"RepetitionWithSeparator";if(e instanceof a.$P)return"RepetitionMandatory";if(e instanceof a.Cy)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}(r),r.idx)]=n,s}function _(e,t,n,r){const i=E(e,t,r,{type:1}),o=E(e,t,r,{type:1});return k(i,new d(o,n)),{left:i,right:o}}function A(e,t,n){const r=e.ruleToStartState.get(t);T(r,n.left);const i=e.ruleToStopState.get(t);T(n.right,i);return{left:r,right:i}}function T(e,t){k(e,new p(t))}function E(e,t,n,r){const i=Object.assign({atn:e,production:n,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},r);return e.states.push(i),i}function k(e,t){0===e.transitions.length&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function S(e,t){e.states.splice(e.states.indexOf(t),1)}const C={};class N{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const t=M(e);t in this.map||(this.map[t]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return(0,l.A)(this.configs,e=>e.alt)}get key(){let e="";for(const t in this.map)e+=t+":";return e}}function M(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(e=>e.stateNumber.toString()).join("_")}`}var O=n(6452),R=n(8139),I=n(6307),L=n(7371);const P=function(e,t){return e&&e.length?(0,L.A)(e,(0,I.A)(t,2)):[]};var D=n(4098),B=n(8058),F=n(6401),z=n(3130);function $(e,t){const n={};return r=>{const i=r.toString();let o=n[i];return void 0!==o||(o={atnStartState:e,decision:t,states:{}},n[i]=o),o}}class j{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,t){this.predicates[e]=t}toString(){let e="";const t=this.predicates.length;for(let n=0;n<t;n++)e+=!0===this.predicates[n]?"1":"0";return e}}const U=new j;class H extends a.T6{constructor(e){var t;super(),this.logging=null!==(t=null==e?void 0:e.logging)&&void 0!==t?t:e=>{}}initialize(e){this.atn=g(e.rules),this.dfas=function(e){const t=e.decisionStates.length,n=Array(t);for(let r=0;r<t;r++)n[r]=$(e.decisionStates[r],r);return n}(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:t,rule:n,hasPredicates:r,dynamicTokensEnabled:i}=e,o=this.dfas,s=this.logging,c=u(n,"Alternation",t),h=this.atn.decisionMap[c].decision,d=(0,l.A)((0,a.jk)({maxLookahead:1,occurrence:t,prodType:"Alternation",rule:n}),e=>(0,l.A)(e,e=>e[0]));if(G(d,!1)&&!i){const e=(0,z.A)(d,(e,t,n)=>((0,B.A)(t,t=>{t&&(e[t.tokenTypeIdx]=n,(0,B.A)(t.categoryMatches,t=>{e[t]=n}))}),e),{});return r?function(t){var n;const r=this.LA(1),i=e[r.tokenTypeIdx];if(void 0!==t&&void 0!==i){const e=null===(n=t[i])||void 0===n?void 0:n.GATE;if(void 0!==e&&!1===e.call(this))return}return i}:function(){const t=this.LA(1);return e[t.tokenTypeIdx]}}return r?function(e){const t=new j,n=void 0===e?0:e.length;for(let r=0;r<n;r++){const n=null==e?void 0:e[r].GATE;t.set(r,void 0===n||n.call(this))}const r=V.call(this,o,h,t,s);return"number"==typeof r?r:void 0}:function(){const e=V.call(this,o,h,U,s);return"number"==typeof e?e:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:t,rule:n,prodType:r,dynamicTokensEnabled:i}=e,o=this.dfas,s=this.logging,c=u(n,r,t),h=this.atn.decisionMap[c].decision,d=(0,l.A)((0,a.jk)({maxLookahead:1,occurrence:t,prodType:r,rule:n}),e=>(0,l.A)(e,e=>e[0]));if(G(d)&&d[0][0]&&!i){const e=d[0],t=(0,D.A)(e);if(1===t.length&&(0,F.A)(t[0].categoryMatches)){const e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{const e=(0,z.A)(t,(e,t)=>(void 0!==t&&(e[t.tokenTypeIdx]=!0,(0,B.A)(t.categoryMatches,t=>{e[t]=!0})),e),{});return function(){const t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){const e=V.call(this,o,h,U,s);return"object"!=typeof e&&0===e}}}function G(e,t=!0){const n=new Set;for(const r of e){const e=new Set;for(const i of r){if(void 0===i){if(t)break;return!1}const r=[i.tokenTypeIdx].concat(i.categoryMatches);for(const t of r)if(n.has(t)){if(!e.has(t))return!1}else n.add(t),e.add(t)}}return!0}function V(e,t,n,r){const i=e[t](n);let o=i.start;if(void 0===o){o=ee(i,Q(te(i.atnStartState))),i.start=o}return W.apply(this,[i,o,n,r])}function W(e,t,n,r){let i=t,o=1;const s=[];let a=this.LA(o++);for(;;){let t=K(i,a);if(void 0===t&&(t=Y.apply(this,[e,i,a,o,n,r])),t===C)return X(s,i,a);if(!0===t.isAcceptState)return t.prediction;i=t,s.push(a),a=this.LA(o++)}}function Y(e,t,n,r,i,o){const s=function(e,t,n){const r=new N,i=[];for(const o of e.elements){if(!1===n.is(o.alt))continue;if(7===o.state.type){i.push(o);continue}const e=o.state.transitions.length;for(let n=0;n<e;n++){const e=Z(o.state.transitions[n],t);void 0!==e&&r.add({state:e,alt:o.alt,stack:o.stack})}}let o;0===i.length&&1===r.size&&(o=r);if(void 0===o){o=new N;for(const e of r.elements)ne(e,o)}if(i.length>0&&!function(e){for(const t of e.elements)if(7===t.state.type)return!0;return!1}(o))for(const e of i)o.add(e);return o}(t.configs,n,i);if(0===s.size)return J(e,t,n,C),C;let a=Q(s);const l=function(e,t){let n;for(const r of e.elements)if(!0===t.is(r.alt))if(void 0===n)n=r.alt;else if(n!==r.alt)return;return n}(s,i);if(void 0!==l)a.isAcceptState=!0,a.prediction=l,a.configs.uniqueAlt=l;else if(function(e){if(function(e){for(const t of e.elements)if(7!==t.state.type)return!1;return!0}(e))return!0;const t=function(e){const t=new Map;for(const n of e){const e=M(n,!1);let r=t.get(e);void 0===r&&(r={},t.set(e,r)),r[n.alt]=!0}return t}(e.elements);return function(e){for(const t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}(t)&&!function(e){for(const t of Array.from(e.values()))if(1===Object.keys(t).length)return!0;return!1}(t)}(s)){const t=(0,O.A)(s.alts);a.isAcceptState=!0,a.prediction=t,a.configs.uniqueAlt=t,q.apply(this,[e,r,s.alts,o])}return a=J(e,t,n,a),a}function q(e,t,n,r){const i=[];for(let e=1;e<=t;e++)i.push(this.LA(e).tokenType);const o=e.atnStartState;r(function(e){const t=(0,l.A)(e.prefixPath,e=>(0,a.Sk)(e)).join(", "),n=0===e.production.idx?"":e.production.idx;let r=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${function(e){if(e instanceof a.wL)return"SUBRULE";if(e instanceof a.c$)return"OPTION";if(e instanceof a.ak)return"OR";if(e instanceof a.$P)return"AT_LEAST_ONE";if(e instanceof a.Cy)return"AT_LEAST_ONE_SEP";if(e instanceof a.Pp)return"MANY_SEP";if(e instanceof a.Y2)return"MANY";if(e instanceof a.BK)return"CONSUME";throw Error("non exhaustive match")}(e.production)}${n}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r}({topLevelRule:o.rule,ambiguityIndices:n,production:o.production,prefixPath:i}))}function X(e,t,n){const r=(0,R.A)(t.configs.elements,e=>e.state.transitions);return{actualToken:n,possibleTokenTypes:P(r.filter(e=>e instanceof d).map(e=>e.tokenType),e=>e.tokenTypeIdx),tokenPath:e}}function K(e,t){return e.edges[t.tokenTypeIdx]}function Z(e,t){if(e instanceof d&&(0,a.G)(t,e.tokenType))return e.target}function Q(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function J(e,t,n,r){return r=ee(e,r),t.edges[n.tokenTypeIdx]=r,r}function ee(e,t){if(t===C)return t;const n=t.configs.key,r=e.states[n];return void 0!==r?r:(t.configs.finalize(),e.states[n]=t,t)}function te(e){const t=new N,n=e.transitions.length;for(let r=0;r<n;r++){ne({state:e.transitions[r].target,alt:r,stack:[]},t)}return t}function ne(e,t){const n=e.state;if(7===n.type){if(e.stack.length>0){const n=[...e.stack];ne({state:n.pop(),alt:e.alt,stack:n},t)}else t.add(e);return}n.epsilonOnlyTransitions||t.add(e);const r=n.transitions.length;for(let i=0;i<r;i++){const r=re(e,n.transitions[i]);void 0!==r&&ne(r,t)}}function re(e,t){if(t instanceof p)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof f){const n=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:n}}}var ie,oe,se,ae,le,ce,ue,he,de,pe,fe,ge,me,ve,ye,be,we,xe,_e,Ae,Te,Ee,ke,Se,Ce,Ne,Me,Oe,Re,Ie,Le,Pe,De,Be,Fe,ze,$e,je,Ue,He,Ge,Ve,We,Ye,qe,Xe,Ke,Ze,Qe,Je,et,tt,nt,rt,it,ot,st,at,lt,ct,ut,ht,dt,pt,ft,gt,mt,vt,yt,bt,wt,xt,_t,At,Tt,Et,kt,St,Ct=n(9683);!function(e){e.is=function(e){return"string"==typeof e}}(ie||(ie={})),function(e){e.is=function(e){return"string"==typeof e}}(oe||(oe={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(se||(se={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(ae||(ae={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=ae.MAX_VALUE),t===Number.MAX_VALUE&&(t=ae.MAX_VALUE),{line:e,character:t}},e.is=function(e){let t=e;return Mt.objectLiteral(t)&&Mt.uinteger(t.line)&&Mt.uinteger(t.character)}}(le||(le={})),function(e){e.create=function(e,t,n,r){if(Mt.uinteger(e)&&Mt.uinteger(t)&&Mt.uinteger(n)&&Mt.uinteger(r))return{start:le.create(e,t),end:le.create(n,r)};if(le.is(e)&&le.is(t))return{start:e,end:t};throw new Error(`Range#create called with invalid arguments[${e}, ${t}, ${n}, ${r}]`)},e.is=function(e){let t=e;return Mt.objectLiteral(t)&&le.is(t.start)&&le.is(t.end)}}(ce||(ce={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){let t=e;return Mt.objectLiteral(t)&&ce.is(t.range)&&(Mt.string(t.uri)||Mt.undefined(t.uri))}}(ue||(ue={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){let t=e;return Mt.objectLiteral(t)&&ce.is(t.targetRange)&&Mt.string(t.targetUri)&&ce.is(t.targetSelectionRange)&&(ce.is(t.originSelectionRange)||Mt.undefined(t.originSelectionRange))}}(he||(he={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){const t=e;return Mt.objectLiteral(t)&&Mt.numberRange(t.red,0,1)&&Mt.numberRange(t.green,0,1)&&Mt.numberRange(t.blue,0,1)&&Mt.numberRange(t.alpha,0,1)}}(de||(de={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){const t=e;return Mt.objectLiteral(t)&&ce.is(t.range)&&de.is(t.color)}}(pe||(pe={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){const t=e;return Mt.objectLiteral(t)&&Mt.string(t.label)&&(Mt.undefined(t.textEdit)||Ae.is(t))&&(Mt.undefined(t.additionalTextEdits)||Mt.typedArray(t.additionalTextEdits,Ae.is))}}(fe||(fe={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(ge||(ge={})),function(e){e.create=function(e,t,n,r,i,o){const s={startLine:e,endLine:t};return Mt.defined(n)&&(s.startCharacter=n),Mt.defined(r)&&(s.endCharacter=r),Mt.defined(i)&&(s.kind=i),Mt.defined(o)&&(s.collapsedText=o),s},e.is=function(e){const t=e;return Mt.objectLiteral(t)&&Mt.uinteger(t.startLine)&&Mt.uinteger(t.startLine)&&(Mt.undefined(t.startCharacter)||Mt.uinteger(t.startCharacter))&&(Mt.undefined(t.endCharacter)||Mt.uinteger(t.endCharacter))&&(Mt.undefined(t.kind)||Mt.string(t.kind))}}(me||(me={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){let t=e;return Mt.defined(t)&&ue.is(t.location)&&Mt.string(t.message)}}(ve||(ve={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(ye||(ye={})),function(e){e.Unnecessary=1,e.Deprecated=2}(be||(be={})),function(e){e.is=function(e){const t=e;return Mt.objectLiteral(t)&&Mt.string(t.href)}}(we||(we={})),function(e){e.create=function(e,t,n,r,i,o){let s={range:e,message:t};return Mt.defined(n)&&(s.severity=n),Mt.defined(r)&&(s.code=r),Mt.defined(i)&&(s.source=i),Mt.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t;let n=e;return Mt.defined(n)&&ce.is(n.range)&&Mt.string(n.message)&&(Mt.number(n.severity)||Mt.undefined(n.severity))&&(Mt.integer(n.code)||Mt.string(n.code)||Mt.undefined(n.code))&&(Mt.undefined(n.codeDescription)||Mt.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(Mt.string(n.source)||Mt.undefined(n.source))&&(Mt.undefined(n.relatedInformation)||Mt.typedArray(n.relatedInformation,ve.is))}}(xe||(xe={})),function(e){e.create=function(e,t,...n){let r={title:e,command:t};return Mt.defined(n)&&n.length>0&&(r.arguments=n),r},e.is=function(e){let t=e;return Mt.defined(t)&&Mt.string(t.title)&&Mt.string(t.command)}}(_e||(_e={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){const t=e;return Mt.objectLiteral(t)&&Mt.string(t.newText)&&ce.is(t.range)}}(Ae||(Ae={})),function(e){e.create=function(e,t,n){const r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){const t=e;return Mt.objectLiteral(t)&&Mt.string(t.label)&&(Mt.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(Mt.string(t.description)||void 0===t.description)}}(Te||(Te={})),function(e){e.is=function(e){const t=e;return Mt.string(t)}}(Ee||(Ee={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){const t=e;return Ae.is(t)&&(Te.is(t.annotationId)||Ee.is(t.annotationId))}}(ke||(ke={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){let t=e;return Mt.defined(t)&&Le.is(t.textDocument)&&Array.isArray(t.edits)}}(Se||(Se={})),function(e){e.create=function(e,t,n){let r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){let t=e;return t&&"create"===t.kind&&Mt.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Mt.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Mt.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||Ee.is(t.annotationId))}}(Ce||(Ce={})),function(e){e.create=function(e,t,n,r){let i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},e.is=function(e){let t=e;return t&&"rename"===t.kind&&Mt.string(t.oldUri)&&Mt.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Mt.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Mt.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||Ee.is(t.annotationId))}}(Ne||(Ne={})),function(e){e.create=function(e,t,n){let r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){let t=e;return t&&"delete"===t.kind&&Mt.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Mt.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Mt.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||Ee.is(t.annotationId))}}(Me||(Me={})),function(e){e.is=function(e){let t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every(e=>Mt.string(e.kind)?Ce.is(e)||Ne.is(e)||Me.is(e):Se.is(e)))}}(Oe||(Oe={}));!function(e){e.create=function(e){return{uri:e}},e.is=function(e){let t=e;return Mt.defined(t)&&Mt.string(t.uri)}}(Re||(Re={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){let t=e;return Mt.defined(t)&&Mt.string(t.uri)&&Mt.integer(t.version)}}(Ie||(Ie={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){let t=e;return Mt.defined(t)&&Mt.string(t.uri)&&(null===t.version||Mt.integer(t.version))}}(Le||(Le={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){let t=e;return Mt.defined(t)&&Mt.string(t.uri)&&Mt.string(t.languageId)&&Mt.integer(t.version)&&Mt.string(t.text)}}(Pe||(Pe={})),function(e){e.PlainText="plaintext",e.Markdown="markdown",e.is=function(t){const n=t;return n===e.PlainText||n===e.Markdown}}(De||(De={})),function(e){e.is=function(e){const t=e;return Mt.objectLiteral(e)&&De.is(t.kind)&&Mt.string(t.value)}}(Be||(Be={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(Fe||(Fe={})),function(e){e.PlainText=1,e.Snippet=2}(ze||(ze={})),function(e){e.Deprecated=1}($e||($e={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){const t=e;return t&&Mt.string(t.newText)&&ce.is(t.insert)&&ce.is(t.replace)}}(je||(je={})),function(e){e.asIs=1,e.adjustIndentation=2}(Ue||(Ue={})),function(e){e.is=function(e){const t=e;return t&&(Mt.string(t.detail)||void 0===t.detail)&&(Mt.string(t.description)||void 0===t.description)}}(He||(He={})),function(e){e.create=function(e){return{label:e}}}(Ge||(Ge={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(Ve||(Ve={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){const t=e;return Mt.string(t)||Mt.objectLiteral(t)&&Mt.string(t.language)&&Mt.string(t.value)}}(We||(We={})),function(e){e.is=function(e){let t=e;return!!t&&Mt.objectLiteral(t)&&(Be.is(t.contents)||We.is(t.contents)||Mt.typedArray(t.contents,We.is))&&(void 0===e.range||ce.is(e.range))}}(Ye||(Ye={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(qe||(qe={})),function(e){e.create=function(e,t,...n){let r={label:e};return Mt.defined(t)&&(r.documentation=t),Mt.defined(n)?r.parameters=n:r.parameters=[],r}}(Xe||(Xe={})),function(e){e.Text=1,e.Read=2,e.Write=3}(Ke||(Ke={})),function(e){e.create=function(e,t){let n={range:e};return Mt.number(t)&&(n.kind=t),n}}(Ze||(Ze={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(Qe||(Qe={})),function(e){e.Deprecated=1}(Je||(Je={})),function(e){e.create=function(e,t,n,r,i){let o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(et||(et={})),function(e){e.create=function(e,t,n,r){return void 0!==r?{name:e,kind:t,location:{uri:n,range:r}}:{name:e,kind:t,location:{uri:n}}}}(tt||(tt={})),function(e){e.create=function(e,t,n,r,i,o){let s={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(s.children=o),s},e.is=function(e){let t=e;return t&&Mt.string(t.name)&&Mt.number(t.kind)&&ce.is(t.range)&&ce.is(t.selectionRange)&&(void 0===t.detail||Mt.string(t.detail))&&(void 0===t.deprecated||Mt.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(nt||(nt={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(rt||(rt={})),function(e){e.Invoked=1,e.Automatic=2}(it||(it={})),function(e){e.create=function(e,t,n){let r={diagnostics:e};return null!=t&&(r.only=t),null!=n&&(r.triggerKind=n),r},e.is=function(e){let t=e;return Mt.defined(t)&&Mt.typedArray(t.diagnostics,xe.is)&&(void 0===t.only||Mt.typedArray(t.only,Mt.string))&&(void 0===t.triggerKind||t.triggerKind===it.Invoked||t.triggerKind===it.Automatic)}}(ot||(ot={})),function(e){e.create=function(e,t,n){let r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):_e.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},e.is=function(e){let t=e;return t&&Mt.string(t.title)&&(void 0===t.diagnostics||Mt.typedArray(t.diagnostics,xe.is))&&(void 0===t.kind||Mt.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||_e.is(t.command))&&(void 0===t.isPreferred||Mt.boolean(t.isPreferred))&&(void 0===t.edit||Oe.is(t.edit))}}(st||(st={})),function(e){e.create=function(e,t){let n={range:e};return Mt.defined(t)&&(n.data=t),n},e.is=function(e){let t=e;return Mt.defined(t)&&ce.is(t.range)&&(Mt.undefined(t.command)||_e.is(t.command))}}(at||(at={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){let t=e;return Mt.defined(t)&&Mt.uinteger(t.tabSize)&&Mt.boolean(t.insertSpaces)}}(lt||(lt={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){let t=e;return Mt.defined(t)&&ce.is(t.range)&&(Mt.undefined(t.target)||Mt.string(t.target))}}(ct||(ct={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){let n=t;return Mt.objectLiteral(n)&&ce.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ut||(ut={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(ht||(ht={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(dt||(dt={})),function(e){e.is=function(e){const t=e;return Mt.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(pt||(pt={})),function(e){e.create=function(e,t){return{range:e,text:t}},e.is=function(e){const t=e;return null!=t&&ce.is(t.range)&&Mt.string(t.text)}}(ft||(ft={})),function(e){e.create=function(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}},e.is=function(e){const t=e;return null!=t&&ce.is(t.range)&&Mt.boolean(t.caseSensitiveLookup)&&(Mt.string(t.variableName)||void 0===t.variableName)}}(gt||(gt={})),function(e){e.create=function(e,t){return{range:e,expression:t}},e.is=function(e){const t=e;return null!=t&&ce.is(t.range)&&(Mt.string(t.expression)||void 0===t.expression)}}(mt||(mt={})),function(e){e.create=function(e,t){return{frameId:e,stoppedLocation:t}},e.is=function(e){const t=e;return Mt.defined(t)&&ce.is(e.stoppedLocation)}}(vt||(vt={})),function(e){e.Type=1,e.Parameter=2,e.is=function(e){return 1===e||2===e}}(yt||(yt={})),function(e){e.create=function(e){return{value:e}},e.is=function(e){const t=e;return Mt.objectLiteral(t)&&(void 0===t.tooltip||Mt.string(t.tooltip)||Be.is(t.tooltip))&&(void 0===t.location||ue.is(t.location))&&(void 0===t.command||_e.is(t.command))}}(bt||(bt={})),function(e){e.create=function(e,t,n){const r={position:e,label:t};return void 0!==n&&(r.kind=n),r},e.is=function(e){const t=e;return Mt.objectLiteral(t)&&le.is(t.position)&&(Mt.string(t.label)||Mt.typedArray(t.label,bt.is))&&(void 0===t.kind||yt.is(t.kind))&&void 0===t.textEdits||Mt.typedArray(t.textEdits,Ae.is)&&(void 0===t.tooltip||Mt.string(t.tooltip)||Be.is(t.tooltip))&&(void 0===t.paddingLeft||Mt.boolean(t.paddingLeft))&&(void 0===t.paddingRight||Mt.boolean(t.paddingRight))}}(wt||(wt={})),function(e){e.createSnippet=function(e){return{kind:"snippet",value:e}}}(xt||(xt={})),function(e){e.create=function(e,t,n,r){return{insertText:e,filterText:t,range:n,command:r}}}(_t||(_t={})),function(e){e.create=function(e){return{items:e}}}(At||(At={})),function(e){e.Invoked=0,e.Automatic=1}(Tt||(Tt={})),function(e){e.create=function(e,t){return{range:e,text:t}}}(Et||(Et={})),function(e){e.create=function(e,t){return{triggerKind:e,selectedCompletionInfo:t}}}(kt||(kt={})),function(e){e.is=function(e){const t=e;return Mt.objectLiteral(t)&&oe.is(t.uri)&&Mt.string(t.name)}}(St||(St={}));var Nt,Mt;!function(e){function t(e,n){if(e.length<=1)return e;const r=e.length/2|0,i=e.slice(0,r),o=e.slice(r);t(i,n),t(o,n);let s=0,a=0,l=0;for(;s<i.length&&a<o.length;){let t=n(i[s],o[a]);e[l++]=t<=0?i[s++]:o[a++]}for(;s<i.length;)e[l++]=i[s++];for(;a<o.length;)e[l++]=o[a++];return e}e.create=function(e,t,n,r){return new Ot(e,t,n,r)},e.is=function(e){let t=e;return!!(Mt.defined(t)&&Mt.string(t.uri)&&(Mt.undefined(t.languageId)||Mt.string(t.languageId))&&Mt.uinteger(t.lineCount)&&Mt.func(t.getText)&&Mt.func(t.positionAt)&&Mt.func(t.offsetAt))},e.applyEdits=function(e,n){let r=e.getText(),i=t(n,(e,t)=>{let n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n}),o=r.length;for(let t=i.length-1;t>=0;t--){let n=i[t],s=e.offsetAt(n.range.start),a=e.offsetAt(n.range.end);if(!(a<=o))throw new Error("Overlapping edit");r=r.substring(0,s)+n.newText+r.substring(a,r.length),o=s}return r}}(Nt||(Nt={}));class Ot{constructor(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let e=[],t=this._content,n=!0;for(let r=0;r<t.length;r++){n&&(e.push(r),n=!1);let i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return le.create(0,e);for(;n<r;){let i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}let i=n-1;return le.create(i,e-t[i])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)}get lineCount(){return this.getLineOffsets().length}}!function(e){const t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(Mt||(Mt={}));class Rt{constructor(){this.nodeStack=[]}get current(){var e;return null!==(e=this.nodeStack[this.nodeStack.length-1])&&void 0!==e?e:this.rootNode}buildRootNode(e){return this.rootNode=new Bt(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const t=new Pt;return t.grammarSource=e,t.root=this.rootNode,this.current.content.push(t),this.nodeStack.push(t),t}buildLeafNode(e,t){const n=new Lt(e.startOffset,e.image.length,(0,r.wf)(e),e.tokenType,!t);return n.grammarSource=t,n.root=this.rootNode,this.current.content.push(n),n}removeNode(e){const t=e.container;if(t){const n=t.content.indexOf(e);n>=0&&t.content.splice(n,1)}}addHiddenNodes(e){const t=[];for(const n of e){const e=new Lt(n.startOffset,n.image.length,(0,r.wf)(n),n.tokenType,!0);e.root=this.rootNode,t.push(e)}let n=this.current,i=!1;if(n.content.length>0)n.content.push(...t);else{for(;n.container;){const e=n.container.content.indexOf(n);if(e>0){n.container.content.splice(e,0,...t),i=!0;break}n=n.container}i||this.rootNode.content.unshift(...t)}}construct(e){const t=this.current;"string"==typeof e.$type&&(this.current.astNode=e),e.$cstNode=t;const n=this.nodeStack.pop();0===(null==n?void 0:n.content.length)&&this.removeNode(n)}}class It{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,t;const n="string"==typeof(null===(e=this._astNode)||void 0===e?void 0:e.$type)?this._astNode:null===(t=this.container)||void 0===t?void 0:t.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class Lt extends It{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,t,n,r,i=!1){super(),this._hidden=i,this._offset=e,this._tokenType=r,this._length=t,this._range=n}}class Pt extends It{constructor(){super(...arguments),this.content=new Dt(this)}get children(){return this.content}get offset(){var e,t;return null!==(t=null===(e=this.firstNonHiddenNode)||void 0===e?void 0:e.offset)&&void 0!==t?t:0}get length(){return this.end-this.offset}get end(){var e,t;return null!==(t=null===(e=this.lastNonHiddenNode)||void 0===e?void 0:e.end)&&void 0!==t?t:0}get range(){const e=this.firstNonHiddenNode,t=this.lastNonHiddenNode;if(e&&t){if(void 0===this._rangeCache){const{range:n}=e,{range:r}=t;this._rangeCache={start:n.start,end:r.end.line<n.start.line?n.start:r.end}}return this._rangeCache}return{start:le.create(0,0),end:le.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const t=this.content[e];if(!t.hidden)return t}return this.content[this.content.length-1]}}class Dt extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,Dt.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,t,...n){return this.addParents(n),super.splice(e,t,...n)}addParents(e){for(const t of e)t.container=this.parent}}class Bt extends Pt{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=null!=e?e:""}}const Ft=Symbol("Datatype");function zt(e){return e.$type===Ft}const $t=e=>e.endsWith("​")?e:e+"​";class jt{constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;const t=this.lexer.definition,n="production"===e.LanguageMetaData.mode;this.wrapper=new Yt(t,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:n,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,t){this.wrapper.wrapOr(e,t)}optional(e,t){this.wrapper.wrapOption(e,t)}many(e,t){this.wrapper.wrapMany(e,t)}atLeastOne(e,t){this.wrapper.wrapAtLeastOne(e,t)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class Ut extends jt{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new Rt,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,t){const n=this.computeRuleType(e),r=this.wrapper.DEFINE_RULE($t(e.name),this.startImplementation(n,t).bind(this));return this.allRules.set(e.name,r),e.entry&&(this.mainRule=r),r}computeRuleType(e){if(!e.fragment){if((0,i.Xq)(e))return Ft;{const t=(0,i.PV)(e);return null!=t?t:e.name}}}parse(e,t={}){this.nodeBuilder.buildRootNode(e);const n=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=n.tokens;const r=t.rule?this.allRules.get(t.rule):this.mainRule;if(!r)throw new Error(t.rule?`No rule found with name '${t.rule}'`:"No main rule available.");const i=r.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(n.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:i,lexerErrors:n.errors,lexerReport:n.report,parserErrors:this.wrapper.errors}}startImplementation(e,t){return n=>{const r=!this.isRecording()&&void 0!==e;if(r){const t={$type:e};this.stack.push(t),e===Ft&&(t.value="")}let i;try{i=t(n)}catch(e){i=void 0}return void 0===i&&r&&(i=this.construct()),i}}extractHiddenTokens(e){const t=this.lexerResult.hidden;if(!t.length)return[];const n=e.startOffset;for(let e=0;e<t.length;e++){if(t[e].startOffset>n)return t.splice(0,e)}return t.splice(0,t.length)}consume(e,t,n){const r=this.wrapper.wrapConsume(e,t);if(!this.isRecording()&&this.isValidToken(r)){const e=this.extractHiddenTokens(r);this.nodeBuilder.addHiddenNodes(e);const t=this.nodeBuilder.buildLeafNode(r,n),{assignment:i,isCrossRef:o}=this.getAssignment(n),a=this.current;if(i){const e=(0,s.wb)(n)?r.image:this.converter.convert(r.image,t);this.assign(i.operator,i.feature,e,t,o)}else if(zt(a)){let e=r.image;(0,s.wb)(n)||(e=this.converter.convert(e,t).toString()),a.value+=e}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&"number"==typeof e.endOffset&&!isNaN(e.endOffset)}subrule(e,t,n,r,i){let o;this.isRecording()||n||(o=this.nodeBuilder.buildCompositeNode(r));const s=this.wrapper.wrapSubrule(e,t,i);!this.isRecording()&&o&&o.length>0&&this.performSubruleAssignment(s,r,o)}performSubruleAssignment(e,t,n){const{assignment:r,isCrossRef:i}=this.getAssignment(t);if(r)this.assign(r.operator,r.feature,e,n,i);else if(!r){const t=this.current;if(zt(t))t.value+=e.toString();else if("object"==typeof e&&e){const n=this.assignWithoutOverride(e,t);this.stack.pop(),this.stack.push(n)}}}action(e,t){if(!this.isRecording()){let n=this.current;if(t.feature&&t.operator){n=this.construct(),this.nodeBuilder.removeNode(n.$cstNode);this.nodeBuilder.buildCompositeNode(t).content.push(n.$cstNode);const r={$type:e};this.stack.push(r),this.assign(t.operator,t.feature,n,n.$cstNode,!1)}else n.$type=e}}construct(){if(this.isRecording())return;const e=this.current;return(0,Ct.SD)(e),this.nodeBuilder.construct(e),this.stack.pop(),zt(e)?this.converter.convert(e.value,e.$cstNode):((0,Ct.OP)(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){const t=(0,Ct.XG)(e,s.wh);this.assignmentMap.set(e,{assignment:t,isCrossRef:!!t&&(0,s._c)(t.terminal)})}return this.assignmentMap.get(e)}assign(e,t,n,r,i){const o=this.current;let s;switch(s=i&&"string"==typeof n?this.linker.buildReference(o,t,r,n):n,e){case"=":o[t]=s;break;case"?=":o[t]=!0;break;case"+=":Array.isArray(o[t])||(o[t]=[]),o[t].push(s)}}assignWithoutOverride(e,t){for(const[n,r]of Object.entries(t)){const t=e[n];void 0===t?e[n]=r:Array.isArray(t)&&Array.isArray(r)&&(r.push(...t),e[n]=r)}const n=e.$cstNode;return n&&(n.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}}class Ht{buildMismatchTokenMessage(e){return a.my.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return a.my.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return a.my.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return a.my.buildEarlyExitMessage(e)}}class Gt extends Ht{buildMismatchTokenMessage({expected:e,actual:t}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${t.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class Vt extends jt{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const t=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=t.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,t){const n=this.wrapper.DEFINE_RULE($t(e.name),this.startImplementation(t).bind(this));return this.allRules.set(e.name,n),e.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return t=>{const n=this.keepStackSize();try{e(t)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,t,n){this.wrapper.wrapConsume(e,t),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(e,t,n,r,i){this.before(r),this.wrapper.wrapSubrule(e,t,i),this.after(r)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const t=this.elementStack.lastIndexOf(e);t>=0&&this.elementStack.splice(t)}}get currIdx(){return this.wrapper.currIdx}}const Wt={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new Gt};class Yt extends a.jr{constructor(e,t){const n=t&&"maxLookahead"in t;super(e,Object.assign(Object.assign(Object.assign({},Wt),{lookaheadStrategy:n?new a.T6({maxLookahead:t.maxLookahead}):new H({logging:t.skipValidations?()=>{}:void 0})}),t))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,t){return this.RULE(e,t)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,t){return this.consume(e,t)}wrapSubrule(e,t,n){return this.subrule(e,t,{ARGS:[n]})}wrapOr(e,t){this.or(e,t)}wrapOption(e,t){this.option(e,t)}wrapMany(e,t){this.many(e,t)}wrapAtLeastOne(e,t){this.atLeastOne(e,t)}}var qt=n(1564),Xt=n(1719);function Kt(e,t,n){return function(e,t){const n=(0,i.YV)(t,!1),r=(0,Xt.Td)(t.rules).filter(s.s7).filter(e=>n.has(e));for(const t of r){const n=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});e.parser.rule(t,Zt(n,t.definition))}}({parser:t,tokens:n,ruleNames:new Map},e),t}function Zt(e,t,n=!1){let r;if((0,s.wb)(t))r=function(e,t){const n=e.consume++,r=e.tokens[t.value];if(!r)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(n,r,t)}(e,t);else if((0,s.ve)(t))r=function(e,t){const n=(0,i.Uz)(t);return()=>e.parser.action(n,t)}(e,t);else if((0,s.wh)(t))r=Zt(e,t.terminal);else if((0,s._c)(t))r=en(e,t);else if((0,s.$g)(t))r=function(e,t){const n=t.rule.ref;if((0,s.s7)(n)){const r=e.subrule++,i=n.fragment,o=t.arguments.length>0?function(e,t){const n=t.map(e=>Qt(e.value));return t=>{const r={};for(let i=0;i<n.length;i++){const o=e.parameters[i],s=n[i];r[o.name]=s(t)}return r}}(n,t.arguments):()=>({});return s=>e.parser.subrule(r,nn(e,n),i,t,o(s))}if((0,s.rE)(n)){const r=e.consume++,i=rn(e,n.name);return()=>e.parser.consume(r,i,t)}if(!n)throw new qt.W(t.$cstNode,`Undefined rule: ${t.rule.$refText}`);(0,qt.d)(n)}(e,t);else if((0,s.jp)(t))r=function(e,t){if(1===t.elements.length)return Zt(e,t.elements[0]);{const n=[];for(const r of t.elements){const t={ALT:Zt(e,r,!0)},i=Jt(r);i&&(t.GATE=Qt(i)),n.push(t)}const r=e.or++;return t=>e.parser.alternatives(r,n.map(e=>{const n={ALT:()=>e.ALT(t)},r=e.GATE;return r&&(n.GATE=()=>r(t)),n}))}}(e,t);else if((0,s.cY)(t))r=function(e,t){if(1===t.elements.length)return Zt(e,t.elements[0]);const n=[];for(const r of t.elements){const t={ALT:Zt(e,r,!0)},i=Jt(r);i&&(t.GATE=Qt(i)),n.push(t)}const r=e.or++,i=(e,t)=>`uGroup_${e}_${t.getRuleStack().join("-")}`,o=t=>e.parser.alternatives(r,n.map((n,o)=>{const s={ALT:()=>!0},a=e.parser;s.ALT=()=>{if(n.ALT(t),!a.isRecording()){const e=i(r,a);a.unorderedGroups.get(e)||a.unorderedGroups.set(e,[]);const t=a.unorderedGroups.get(e);void 0===(null==t?void 0:t[o])&&(t[o]=!0)}};const l=n.GATE;return s.GATE=l?()=>l(t):()=>{const e=a.unorderedGroups.get(i(r,a));return!(null==e?void 0:e[o])},s})),s=tn(e,Jt(t),o,"*");return t=>{s(t),e.parser.isRecording()||e.parser.unorderedGroups.delete(i(r,e.parser))}}(e,t);else if((0,s.IZ)(t))r=function(e,t){const n=t.elements.map(t=>Zt(e,t));return e=>n.forEach(t=>t(e))}(e,t);else{if(!(0,s.FO)(t))throw new qt.W(t.$cstNode,`Unexpected element type: ${t.$type}`);{const n=e.consume++;r=()=>e.parser.consume(n,a.LT,t)}}return tn(e,n?void 0:Jt(t),r,t.cardinality)}function Qt(e){if((0,s.RP)(e)){const t=Qt(e.left),n=Qt(e.right);return e=>t(e)||n(e)}if((0,s.Tu)(e)){const t=Qt(e.left),n=Qt(e.right);return e=>t(e)&&n(e)}if((0,s.Ct)(e)){const t=Qt(e.value);return e=>!t(e)}if((0,s.TF)(e)){const t=e.parameter.ref.name;return e=>void 0!==e&&!0===e[t]}if((0,s.Cz)(e)){const t=Boolean(e.true);return()=>t}(0,qt.d)(e)}function Jt(e){if((0,s.IZ)(e))return e.guardCondition}function en(e,t,n=t.terminal){if(n){if((0,s.$g)(n)&&(0,s.s7)(n.rule.ref)){const r=n.rule.ref,i=e.subrule++;return n=>e.parser.subrule(i,nn(e,r),!1,t,n)}if((0,s.$g)(n)&&(0,s.rE)(n.rule.ref)){const r=e.consume++,i=rn(e,n.rule.ref.name);return()=>e.parser.consume(r,i,t)}if((0,s.wb)(n)){const r=e.consume++,i=rn(e,n.value);return()=>e.parser.consume(r,i,t)}throw new Error("Could not build cross reference parser")}{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);const n=(0,i.U5)(t.type.ref),r=null==n?void 0:n.terminal;if(!r)throw new Error("Could not find name assignment for type: "+(0,i.Uz)(t.type.ref));return en(e,t,r)}}function tn(e,t,n,r){const i=t&&Qt(t);if(!r){if(i){const t=e.or++;return r=>e.parser.alternatives(t,[{ALT:()=>n(r),GATE:()=>i(r)},{ALT:(0,a.mT)(),GATE:()=>!i(r)}])}return n}if("*"===r){const t=e.many++;return r=>e.parser.many(t,{DEF:()=>n(r),GATE:i?()=>i(r):void 0})}if("+"===r){const t=e.many++;if(i){const r=e.or++;return o=>e.parser.alternatives(r,[{ALT:()=>e.parser.atLeastOne(t,{DEF:()=>n(o)}),GATE:()=>i(o)},{ALT:(0,a.mT)(),GATE:()=>!i(o)}])}return r=>e.parser.atLeastOne(t,{DEF:()=>n(r)})}if("?"===r){const t=e.optional++;return r=>e.parser.optional(t,{DEF:()=>n(r),GATE:i?()=>i(r):void 0})}(0,qt.d)(r)}function nn(e,t){const n=function(e,t){if((0,s.s7)(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let n=t,r=n.$container,i=t.$type;for(;!(0,s.s7)(r);){if((0,s.IZ)(r)||(0,s.jp)(r)||(0,s.cY)(r)){i=r.elements.indexOf(n).toString()+":"+i}n=r,r=r.$container}return i=r.name+":"+i,e.ruleNames.set(t,i),i}}(e,t),r=e.parser.getRule(n);if(!r)throw new Error(`Rule "${n}" not found."`);return r}function rn(e,t){const n=e.tokens[t];if(!n)throw new Error(`Token "${t}" not found."`);return n}function on(e){const t=function(e){const t=e.Grammar,n=e.parser.Lexer,r=new Ut(e);return Kt(t,r,n.definition)}(e);return t.finalize(),t}var sn=n(1945),an=n(5033),ln=n(9850),cn=n(2479);let un=0,hn=10;const dn=Symbol("OperationCancelled");function pn(e){return e===dn}async function fn(e){if(e===ln.XO.None)return;const t=performance.now();if(t-un>=hn&&(un=t,await new Promise(e=>{"undefined"==typeof setImmediate?setTimeout(e,0):setImmediate(e)}),un=performance.now()),e.isCancellationRequested)throw dn}class gn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=t=>(e(t),this),this.reject=e=>(t(e),this)})}}class mn{constructor(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){for(const t of e)if(mn.isIncremental(t)){const e=xn(t.range),n=this.offsetAt(e.start),r=this.offsetAt(e.end);this._content=this._content.substring(0,n)+t.text+this._content.substring(r,this._content.length);const i=Math.max(e.start.line,0),o=Math.max(e.end.line,0);let s=this._lineOffsets;const a=bn(t.text,!1,n);if(o-i===a.length)for(let e=0,t=a.length;e<t;e++)s[e+i+1]=a[e];else a.length<1e4?s.splice(i+1,o-i,...a):this._lineOffsets=s=s.slice(0,i+1).concat(a,s.slice(o+1));const l=t.text.length-(r-n);if(0!==l)for(let e=i+1+a.length,t=s.length;e<t;e++)s[e]=s[e]+l}else{if(!mn.isFull(t))throw new Error("Unknown change event received");this._content=t.text,this._lineOffsets=void 0}this._version=t}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=bn(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const t=this.getLineOffsets();let n=0,r=t.length;if(0===r)return{line:0,character:e};for(;n<r;){const i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}const i=n-1;return{line:i,character:(e=this.ensureBeforeEOL(e,t[i]))-t[i]}}offsetAt(e){const t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;const n=t[e.line];if(e.character<=0)return n;const r=e.line+1<t.length?t[e.line+1]:this._content.length,i=Math.min(n+e.character,r);return this.ensureBeforeEOL(i,n)}ensureBeforeEOL(e,t){for(;e>t&&wn(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)}static isFull(e){const t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}var vn;function yn(e,t){if(e.length<=1)return e;const n=e.length/2|0,r=e.slice(0,n),i=e.slice(n);yn(r,t),yn(i,t);let o=0,s=0,a=0;for(;o<r.length&&s<i.length;){const n=t(r[o],i[s]);e[a++]=n<=0?r[o++]:i[s++]}for(;o<r.length;)e[a++]=r[o++];for(;s<i.length;)e[a++]=i[s++];return e}function bn(e,t,n=0){const r=t?[n]:[];for(let t=0;t<e.length;t++){const i=e.charCodeAt(t);wn(i)&&(13===i&&t+1<e.length&&10===e.charCodeAt(t+1)&&t++,r.push(n+t+1))}return r}function wn(e){return 13===e||10===e}function xn(e){const t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function _n(e){const t=xn(e.range);return t!==e.range?{newText:e.newText,range:t}:e}!function(e){e.create=function(e,t,n,r){return new mn(e,t,n,r)},e.update=function(e,t,n){if(e instanceof mn)return e.update(t,n),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")},e.applyEdits=function(e,t){const n=e.getText(),r=yn(t.map(_n),(e,t)=>{const n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n});let i=0;const o=[];for(const t of r){const r=e.offsetAt(t.range.start);if(r<i)throw new Error("Overlapping edit");r>i&&o.push(n.substring(i,r)),t.newText.length&&o.push(t.newText),i=e.offsetAt(t.range.end)}return o.push(n.substr(i)),o.join("")}}(vn||(vn={}));var An,Tn=n(7608);!function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"}(An||(An={}));class En{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,t=ln.XO.None){const n=await this.fileSystemProvider.readFile(e);return this.createAsync(e,n,t)}fromTextDocument(e,t,n){return t=null!=t?t:Tn.r.parse(e.uri),ln.XO.is(n)?this.createAsync(t,e,n):this.create(t,e,n)}fromString(e,t,n){return ln.XO.is(n)?this.createAsync(t,e,n):this.create(t,e,n)}fromModel(e,t){return this.create(t,{$model:e})}create(e,t,n){if("string"==typeof t){const r=this.parse(e,t,n);return this.createLangiumDocument(r,e,void 0,t)}if("$model"in t){const n={value:t.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(n,e)}{const r=this.parse(e,t.getText(),n);return this.createLangiumDocument(r,e,t)}}async createAsync(e,t,n){if("string"==typeof t){const r=await this.parseAsync(e,t,n);return this.createLangiumDocument(r,e,void 0,t)}{const r=await this.parseAsync(e,t.getText(),n);return this.createLangiumDocument(r,e,t)}}createLangiumDocument(e,t,n,r){let i;if(n)i={parseResult:e,uri:t,state:An.Parsed,references:[],textDocument:n};else{const n=this.createTextDocumentGetter(t,r);i={parseResult:e,uri:t,state:An.Parsed,references:[],get textDocument(){return n()}}}return e.value.$document=i,i}async update(e,t){var n,r;const i=null===(n=e.parseResult.value.$cstNode)||void 0===n?void 0:n.root.fullText,o=null===(r=this.textDocuments)||void 0===r?void 0:r.get(e.uri.toString()),s=o?o.getText():await this.fileSystemProvider.readFile(e.uri);if(o)Object.defineProperty(e,"textDocument",{value:o});else{const t=this.createTextDocumentGetter(e.uri,s);Object.defineProperty(e,"textDocument",{get:t})}return i!==s&&(e.parseResult=await this.parseAsync(e.uri,s,t),e.parseResult.value.$document=e),e.state=An.Parsed,e}parse(e,t,n){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(t,n)}parseAsync(e,t,n){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(t,n)}createTextDocumentGetter(e,t){const n=this.serviceRegistry;let r;return()=>null!=r?r:r=vn.create(e.toString(),n.getServices(e).LanguageMetaData.languageId,0,null!=t?t:"")}}class kn{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return(0,Xt.Td)(this.documentMap.values())}addDocument(e){const t=e.uri.toString();if(this.documentMap.has(t))throw new Error(`A document with the URI '${t}' is already present.`);this.documentMap.set(t,e)}getDocument(e){const t=e.toString();return this.documentMap.get(t)}async getOrCreateDocument(e,t){let n=this.getDocument(e);return n||(n=await this.langiumDocumentFactory.fromUri(e,t),this.addDocument(n),n)}createDocument(e,t,n){if(n)return this.langiumDocumentFactory.fromString(t,e,n).then(e=>(this.addDocument(e),e));{const n=this.langiumDocumentFactory.fromString(t,e);return this.addDocument(n),n}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const t=e.toString(),n=this.documentMap.get(t);if(n){this.serviceRegistry.getServices(e).references.Linker.unlink(n),n.state=An.Changed,n.precomputedScopes=void 0,n.diagnostics=void 0}return n}deleteDocument(e){const t=e.toString(),n=this.documentMap.get(t);return n&&(n.state=An.Changed,this.documentMap.delete(t)),n}}const Sn=Symbol("ref_resolving");class Cn{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,t=ln.XO.None){for(const n of(0,Ct.jm)(e.parseResult.value))await fn(t),(0,Ct.DM)(n).forEach(t=>this.doLink(t,e))}doLink(e,t){var n;const r=e.reference;if(void 0===r._ref){r._ref=Sn;try{const t=this.getCandidate(e);if((0,cn.Zl)(t))r._ref=t;else if(r._nodeDescription=t,this.langiumDocuments().hasDocument(t.documentUri)){const n=this.loadAstNode(t);r._ref=null!=n?n:this.createLinkingError(e,t)}else r._ref=void 0}catch(t){const i=null!==(n=t.message)&&void 0!==n?n:String(t);r._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${r.$refText}': ${i}`})}t.references.push(r)}}unlink(e){for(const t of e.references)delete t._ref,delete t._nodeDescription;e.references=[]}getCandidate(e){const t=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return null!=t?t:this.createLinkingError(e)}buildReference(e,t,n,r){const i=this,o={$refNode:n,$refText:r,get ref(){var n;if((0,cn.ng)(this._ref))return this._ref;if((0,cn.Nr)(this._nodeDescription)){const n=i.loadAstNode(this._nodeDescription);this._ref=null!=n?n:i.createLinkingError({reference:o,container:e,property:t},this._nodeDescription)}else if(void 0===this._ref){this._ref=Sn;const r=(0,Ct.cQ)(e).$document,s=i.getLinkedNode({reference:o,container:e,property:t});if(s.error&&r&&r.state<An.ComputedScopes)return this._ref=void 0;this._ref=null!==(n=s.node)&&void 0!==n?n:s.error,this._nodeDescription=s.descr,null==r||r.references.push(this)}else if(this._ref===Sn)throw new Error(`Cyclic reference resolution detected: ${i.astNodeLocator.getAstNodePath(e)}/${t} (symbol '${r}')`);return(0,cn.ng)(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return(0,cn.Zl)(this._ref)?this._ref:void 0}};return o}getLinkedNode(e){var t;try{const t=this.getCandidate(e);if((0,cn.Zl)(t))return{error:t};const n=this.loadAstNode(t);return n?{node:n,descr:t}:{descr:t,error:this.createLinkingError(e,t)}}catch(n){const r=null!==(t=n.message)&&void 0!==t?t:String(n);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${r}`})}}}loadAstNode(e){if(e.node)return e.node;const t=this.langiumDocuments().getDocument(e.documentUri);return t?this.astNodeLocator.getAstNode(t.parseResult.value,e.path):void 0}createLinkingError(e,t){const n=(0,Ct.cQ)(e.container).$document;n&&(n.state,An.ComputedScopes);const r=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${r} named '${e.reference.$refText}'.`,targetDescription:t})}}class Nn{getName(e){if(function(e){return"string"==typeof e.name}(e))return e.name}getNameNode(e){return(0,i.qO)(e.$cstNode,"name")}}var Mn;!function(e){e.basename=Tn.A.basename,e.dirname=Tn.A.dirname,e.extname=Tn.A.extname,e.joinPath=Tn.A.joinPath,e.resolvePath=Tn.A.resolvePath,e.equals=function(e,t){return(null==e?void 0:e.toString())===(null==t?void 0:t.toString())},e.relative=function(e,t){const n="string"==typeof e?e:e.path,r="string"==typeof t?t:t.path,i=n.split("/").filter(e=>e.length>0),o=r.split("/").filter(e=>e.length>0);let s=0;for(;s<i.length&&i[s]===o[s];s++);return"../".repeat(i.length-s)+o.slice(s).join("/")},e.normalize=function(e){return Tn.r.parse(e.toString()).toString()}}(Mn||(Mn={}));class On{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const t=(0,i.Rp)(e),n=e.astNode;if(t&&n){const r=n[t.feature];if((0,cn.A_)(r))return r.ref;if(Array.isArray(r))for(const t of r)if((0,cn.A_)(t)&&t.$refNode&&t.$refNode.offset<=e.offset&&t.$refNode.end>=e.end)return t.ref}if(n){const t=this.nameProvider.getNameNode(n);if(t&&(t===e||(0,r.pO)(e,t)))return n}}}findDeclarationNode(e){const t=this.findDeclaration(e);if(null==t?void 0:t.$cstNode){const e=this.nameProvider.getNameNode(t);return null!=e?e:t.$cstNode}}findReferences(e,t){const n=[];if(t.includeDeclaration){const t=this.getReferenceToSelf(e);t&&n.push(t)}let r=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return t.documentUri&&(r=r.filter(e=>Mn.equals(e.sourceUri,t.documentUri))),n.push(...r),(0,Xt.Td)(n)}getReferenceToSelf(e){const t=this.nameProvider.getNameNode(e);if(t){const n=(0,Ct.YE)(e),i=this.nodeLocator.getAstNodePath(e);return{sourceUri:n.uri,sourcePath:i,targetUri:n.uri,targetPath:i,segment:(0,r.SX)(t),local:!0}}}}class Rn{constructor(e){if(this.map=new Map,e)for(const[t,n]of e)this.add(t,n)}get size(){return Xt.iD.sum((0,Xt.Td)(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,t){if(void 0===t)return this.map.delete(e);{const n=this.map.get(e);if(n){const r=n.indexOf(t);if(r>=0)return 1===n.length?this.map.delete(e):n.splice(r,1),!0}return!1}}get(e){var t;return null!==(t=this.map.get(e))&&void 0!==t?t:[]}has(e,t){if(void 0===t)return this.map.has(e);{const n=this.map.get(e);return!!n&&n.indexOf(t)>=0}}add(e,t){return this.map.has(e)?this.map.get(e).push(t):this.map.set(e,[t]),this}addAll(e,t){return this.map.has(e)?this.map.get(e).push(...t):this.map.set(e,Array.from(t)),this}forEach(e){this.map.forEach((t,n)=>t.forEach(t=>e(t,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return(0,Xt.Td)(this.map.entries()).flatMap(([e,t])=>t.map(t=>[e,t]))}keys(){return(0,Xt.Td)(this.map.keys())}values(){return(0,Xt.Td)(this.map.values()).flat()}entriesGroupedByKey(){return(0,Xt.Td)(this.map.entries())}}class In{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[t,n]of e)this.set(t,n)}clear(){this.map.clear(),this.inverse.clear()}set(e,t){return this.map.set(e,t),this.inverse.set(t,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const t=this.map.get(e);return void 0!==t&&(this.map.delete(e),this.inverse.delete(t),!0)}}class Ln{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,t=ln.XO.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,t)}async computeExportsForNode(e,t,n=Ct.VN,r=ln.XO.None){const i=[];this.exportNode(e,i,t);for(const o of n(e))await fn(r),this.exportNode(o,i,t);return i}exportNode(e,t,n){const r=this.nameProvider.getName(e);r&&t.push(this.descriptions.createDescription(e,r,n))}async computeLocalScopes(e,t=ln.XO.None){const n=e.parseResult.value,r=new Rn;for(const i of(0,Ct.Uo)(n))await fn(t),this.processNode(i,e,r);return r}processNode(e,t,n){const r=e.$container;if(r){const i=this.nameProvider.getName(e);i&&n.add(r,this.descriptions.createDescription(e,i,t))}}}class Pn{constructor(e,t,n){var r;this.elements=e,this.outerScope=t,this.caseInsensitive=null!==(r=null==n?void 0:n.caseInsensitive)&&void 0!==r&&r}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){const t=this.caseInsensitive?this.elements.find(t=>t.name.toLowerCase()===e.toLowerCase()):this.elements.find(t=>t.name===e);return t||(this.outerScope?this.outerScope.getElement(e):void 0)}}class Dn{constructor(e,t,n){var r;this.elements=new Map,this.caseInsensitive=null!==(r=null==n?void 0:n.caseInsensitive)&&void 0!==r&&r;for(const t of e){const e=this.caseInsensitive?t.name.toLowerCase():t.name;this.elements.set(e,t)}this.outerScope=t}getElement(e){const t=this.caseInsensitive?e.toLowerCase():e,n=this.elements.get(t);return n||(this.outerScope?this.outerScope.getElement(e):void 0)}getAllElements(){let e=(0,Xt.Td)(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class Bn{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class Fn extends Bn{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,t){this.throwIfDisposed(),this.cache.set(e,t)}get(e,t){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(t){const n=t();return this.cache.set(e,n),n}}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class zn extends Bn{constructor(e){super(),this.cache=new Map,this.converter=null!=e?e:e=>e}has(e,t){return this.throwIfDisposed(),this.cacheForContext(e).has(t)}set(e,t,n){this.throwIfDisposed(),this.cacheForContext(e).set(t,n)}get(e,t,n){this.throwIfDisposed();const r=this.cacheForContext(e);if(r.has(t))return r.get(t);if(n){const e=n();return r.set(t,e),e}}delete(e,t){return this.throwIfDisposed(),this.cacheForContext(e).delete(t)}clear(e){if(this.throwIfDisposed(),e){const t=this.converter(e);this.cache.delete(t)}else this.cache.clear()}cacheForContext(e){const t=this.converter(e);let n=this.cache.get(t);return n||(n=new Map,this.cache.set(t,n)),n}}class $n extends Fn{constructor(e,t){super(),t?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(t,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((e,t)=>{t.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class jn{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new $n(e.shared)}getScope(e){const t=[],n=this.reflection.getReferenceType(e),r=(0,Ct.YE)(e.container).precomputedScopes;if(r){let i=e.container;do{const e=r.get(i);e.length>0&&t.push((0,Xt.Td)(e).filter(e=>this.reflection.isSubtype(e.type,n))),i=i.$container}while(i)}let i=this.getGlobalScope(n,e);for(let e=t.length-1;e>=0;e--)i=this.createScope(t[e],i);return i}createScope(e,t,n){return new Pn((0,Xt.Td)(e),t,n)}createScopeForNodes(e,t,n){const r=(0,Xt.Td)(e).map(e=>{const t=this.nameProvider.getName(e);if(t)return this.descriptions.createDescription(e,t)}).nonNullable();return new Pn(r,t,n)}getGlobalScope(e,t){return this.globalScopeCache.get(e,()=>new Dn(this.indexManager.allElements(e)))}}function Un(e){return"object"==typeof e&&!!e&&("$ref"in e||"$error"in e)}class Hn{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,t){const n=null!=t?t:{},r=null==t?void 0:t.replacer,i=(e,t)=>this.replacer(e,t,n),o=r?(e,t)=>r(e,t,i):i;try{return this.currentDocument=(0,Ct.YE)(e),JSON.stringify(e,o,null==t?void 0:t.space)}finally{this.currentDocument=void 0}}deserialize(e,t){const n=null!=t?t:{},r=JSON.parse(e);return this.linkNode(r,r,n),r}replacer(e,t,{refText:n,sourceText:r,textRegions:i,comments:o,uriConverter:s}){var a,l,c,u;if(!this.ignoreProperties.has(e)){if((0,cn.A_)(t)){const e=t.ref,r=n?t.$refText:void 0;if(e){const n=(0,Ct.YE)(e);let i="";this.currentDocument&&this.currentDocument!==n&&(i=s?s(n.uri,t):n.uri.toString());return{$ref:`${i}#${this.astNodeLocator.getAstNodePath(e)}`,$refText:r}}return{$error:null!==(l=null===(a=t.error)||void 0===a?void 0:a.message)&&void 0!==l?l:"Could not resolve reference",$refText:r}}if((0,cn.ng)(t)){let n;if(i&&(n=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},t)),e&&!t.$document||!(null==n?void 0:n.$textRegion)||(n.$textRegion.documentURI=null===(c=this.currentDocument)||void 0===c?void 0:c.uri.toString())),r&&!e&&(null!=n||(n=Object.assign({},t)),n.$sourceText=null===(u=t.$cstNode)||void 0===u?void 0:u.text),o){null!=n||(n=Object.assign({},t));const e=this.commentProvider.getComment(t);e&&(n.$comment=e.replace(/\r/g,""))}return null!=n?n:t}return t}}addAstNodeRegionWithAssignmentsTo(e){const t=e=>({offset:e.offset,end:e.end,length:e.length,range:e.range});if(e.$cstNode){const n=(e.$textRegion=t(e.$cstNode)).assignments={};return Object.keys(e).filter(e=>!e.startsWith("$")).forEach(r=>{const o=(0,i.Bd)(e.$cstNode,r).map(t);0!==o.length&&(n[r]=o)}),e}}linkNode(e,t,n,r,i,o){for(const[r,i]of Object.entries(e))if(Array.isArray(i))for(let o=0;o<i.length;o++){const s=i[o];Un(s)?i[o]=this.reviveReference(e,r,t,s,n):(0,cn.ng)(s)&&this.linkNode(s,t,n,e,r,o)}else Un(i)?e[r]=this.reviveReference(e,r,t,i,n):(0,cn.ng)(i)&&this.linkNode(i,t,n,e,r);const s=e;s.$container=r,s.$containerProperty=i,s.$containerIndex=o}reviveReference(e,t,n,r,i){let o=r.$refText,s=r.$error;if(r.$ref){const e=this.getRefNode(n,r.$ref,i.uriConverter);if((0,cn.ng)(e))return o||(o=this.nameProvider.getName(e)),{$refText:null!=o?o:"",ref:e};s=e}if(s){const n={$refText:null!=o?o:""};return n.error={container:e,property:t,message:s,reference:n},n}}getRefNode(e,t,n){try{const r=t.indexOf("#");if(0===r){const n=this.astNodeLocator.getAstNode(e,t.substring(1));return n||"Could not resolve path: "+t}if(r<0){const e=n?n(t):Tn.r.parse(t),r=this.langiumDocuments.getDocument(e);return r?r.parseResult.value:"Could not find document for URI: "+t}const i=n?n(t.substring(0,r)):Tn.r.parse(t.substring(0,r)),o=this.langiumDocuments.getDocument(i);if(!o)return"Could not find document for URI: "+t;if(r===t.length-1)return o.parseResult.value;const s=this.astNodeLocator.getAstNode(o.parseResult.value,t.substring(r+1));return s||"Could not resolve URI: "+t}catch(e){return String(e)}}}class Gn{get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=null==e?void 0:e.workspace.TextDocuments}register(e){const t=e.LanguageMetaData;for(const n of t.fileExtensions)this.fileExtensionMap.has(n),this.fileExtensionMap.set(n,e);this.languageIdMap.set(t.languageId,e),1===this.languageIdMap.size?this.singleton=e:this.singleton=void 0}getServices(e){var t,n;if(void 0!==this.singleton)return this.singleton;if(0===this.languageIdMap.size)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const r=null===(n=null===(t=this.textDocuments)||void 0===t?void 0:t.get(e))||void 0===n?void 0:n.languageId;if(void 0!==r){const e=this.languageIdMap.get(r);if(e)return e}const i=Mn.extname(e),o=this.fileExtensionMap.get(i);if(!o)throw r?new Error(`The service registry contains no services for the extension '${i}' for language '${r}'.`):new Error(`The service registry contains no services for the extension '${i}'.`);return o}hasServices(e){try{return this.getServices(e),!0}catch(e){return!1}}get all(){return Array.from(this.languageIdMap.values())}}function Vn(e){return{code:e}}var Wn,Yn;!function(e){e.all=["fast","slow","built-in"]}(Wn||(Wn={}));class qn{constructor(e){this.entries=new Rn,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,t=this,n="fast"){if("built-in"===n)throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[r,i]of Object.entries(e)){const e=i;if(Array.isArray(e))for(const i of e){const e={check:this.wrapValidationException(i,t),category:n};this.addEntry(r,e)}else if("function"==typeof e){const i={check:this.wrapValidationException(e,t),category:n};this.addEntry(r,i)}else(0,qt.d)(e)}}wrapValidationException(e,t){return async(n,r,i)=>{await this.handleException(()=>e.call(t,n,r,i),"An error occurred during validation",r,n)}}async handleException(e,t,n,r){try{await e()}catch(e){if(pn(e))throw e;e instanceof Error&&e.stack;n("error",`${t}: ${e instanceof Error?e.message:String(e)}`,{node:r})}}addEntry(e,t){if("AstNode"!==e)for(const n of this.reflection.getAllSubTypes(e))this.entries.add(n,t);else this.entries.add("AstNode",t)}getChecks(e,t){let n=(0,Xt.Td)(this.entries.get(e)).concat(this.entries.get("AstNode"));return t&&(n=n.filter(e=>t.includes(e.category))),n.map(e=>e.check)}registerBeforeDocument(e,t=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",t))}registerAfterDocument(e,t=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",t))}wrapPreparationException(e,t,n){return async(r,i,o,s)=>{await this.handleException(()=>e.call(n,r,i,o,s),t,i,r)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}class Xn{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,t={},n=ln.XO.None){const r=e.parseResult,i=[];if(await fn(n),!t.categories||t.categories.includes("built-in")){if(this.processLexingErrors(r,i,t),t.stopAfterLexingErrors&&i.some(e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===Yn.LexingError}))return i;if(this.processParsingErrors(r,i,t),t.stopAfterParsingErrors&&i.some(e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===Yn.ParsingError}))return i;if(this.processLinkingErrors(e,i,t),t.stopAfterLinkingErrors&&i.some(e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===Yn.LinkingError}))return i}try{i.push(...await this.validateAst(r.value,t,n))}catch(e){if(pn(e))throw e}return await fn(n),i}processLexingErrors(e,t,n){var r,i,o;const s=[...e.lexerErrors,...null!==(i=null===(r=e.lexerReport)||void 0===r?void 0:r.diagnostics)&&void 0!==i?i:[]];for(const e of s){const n=null!==(o=e.severity)&&void 0!==o?o:"error",r={severity:Zn(n),range:{start:{line:e.line-1,character:e.column-1},end:{line:e.line-1,character:e.column+e.length-1}},message:e.message,data:Qn(n),source:this.getSource()};t.push(r)}}processParsingErrors(e,t,n){for(const n of e.parserErrors){let e;if(isNaN(n.token.startOffset)){if("previousToken"in n){const t=n.previousToken;if(isNaN(t.startOffset)){const t={line:0,character:0};e={start:t,end:t}}else{const n={line:t.endLine-1,character:t.endColumn};e={start:n,end:n}}}}else e=(0,r.wf)(n.token);if(e){const r={severity:Zn("error"),range:e,message:n.message,data:Vn(Yn.ParsingError),source:this.getSource()};t.push(r)}}}processLinkingErrors(e,t,n){for(const n of e.references){const e=n.error;if(e){const n={node:e.container,property:e.property,index:e.index,data:{code:Yn.LinkingError,containerType:e.container.$type,property:e.property,refText:e.reference.$refText}};t.push(this.toDiagnostic("error",e.message,n))}}}async validateAst(e,t,n=ln.XO.None){const r=[],i=(e,t,n)=>{r.push(this.toDiagnostic(e,t,n))};return await this.validateAstBefore(e,t,i,n),await this.validateAstNodes(e,t,i,n),await this.validateAstAfter(e,t,i,n),r}async validateAstBefore(e,t,n,r=ln.XO.None){var i;const o=this.validationRegistry.checksBefore;for(const s of o)await fn(r),await s(e,n,null!==(i=t.categories)&&void 0!==i?i:[],r)}async validateAstNodes(e,t,n,r=ln.XO.None){await Promise.all((0,Ct.jm)(e).map(async e=>{await fn(r);const i=this.validationRegistry.getChecks(e.$type,t.categories);for(const t of i)await t(e,n,r)}))}async validateAstAfter(e,t,n,r=ln.XO.None){var i;const o=this.validationRegistry.checksAfter;for(const s of o)await fn(r),await s(e,n,null!==(i=t.categories)&&void 0!==i?i:[],r)}toDiagnostic(e,t,n){return{message:t,range:Kn(n),severity:Zn(e),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function Kn(e){if(e.range)return e.range;let t;return"string"==typeof e.property?t=(0,i.qO)(e.node.$cstNode,e.property,e.index):"string"==typeof e.keyword&&(t=(0,i.SS)(e.node.$cstNode,e.keyword,e.index)),null!=t||(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function Zn(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}function Qn(e){switch(e){case"error":return Vn(Yn.LexingError);case"warning":return Vn(Yn.LexingWarning);case"info":return Vn(Yn.LexingInfo);case"hint":return Vn(Yn.LexingHint);default:throw new Error("Invalid diagnostic severity: "+e)}}!function(e){e.LexingError="lexing-error",e.LexingWarning="lexing-warning",e.LexingInfo="lexing-info",e.LexingHint="lexing-hint",e.ParsingError="parsing-error",e.LinkingError="linking-error"}(Yn||(Yn={}));class Jn{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,t,n){const i=null!=n?n:(0,Ct.YE)(e);null!=t||(t=this.nameProvider.getName(e));const o=this.astNodeLocator.getAstNodePath(e);if(!t)throw new Error(`Node at path ${o} has no name.`);let s;const a=()=>{var t;return null!=s?s:s=(0,r.SX)(null!==(t=this.nameProvider.getNameNode(e))&&void 0!==t?t:e.$cstNode)};return{node:e,name:t,get nameSegment(){return a()},selectionSegment:(0,r.SX)(e.$cstNode),type:e.$type,documentUri:i.uri,path:o}}}class er{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,t=ln.XO.None){const n=[],r=e.parseResult.value;for(const e of(0,Ct.jm)(r))await fn(t),(0,Ct.DM)(e).filter(e=>!(0,cn.Zl)(e)).forEach(e=>{const t=this.createDescription(e);t&&n.push(t)});return n}createDescription(e){const t=e.reference.$nodeDescription,n=e.reference.$refNode;if(!t||!n)return;const i=(0,Ct.YE)(e.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:t.documentUri,targetPath:t.path,segment:(0,r.SX)(n),local:Mn.equals(t.documentUri,i)}}}class tr{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const t=this.getAstNodePath(e.$container),n=this.getPathSegment(e);return t+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:e,$containerIndex:t}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return void 0!==t?e+this.indexSeparator+t:e}getAstNode(e,t){return t.split(this.segmentSeparator).reduce((e,t)=>{if(!e||0===t.length)return e;const n=t.indexOf(this.indexSeparator);if(n>0){const r=t.substring(0,n),i=parseInt(t.substring(n+1)),o=e[r];return null==o?void 0:o[i]}return e[t]},e)}}var nr,rr=n(2676);class ir{constructor(e){this._ready=new gn,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new rr.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var t,n;this.workspaceConfig=null!==(n=null===(t=e.capabilities.workspace)||void 0===t?void 0:t.configuration)&&void 0!==n&&n}async initialized(e){if(this.workspaceConfig){if(e.register){const t=this.serviceRegistry.all;e.register({section:t.map(e=>this.toSectionName(e.LanguageMetaData.languageId))})}if(e.fetchConfiguration){const t=this.serviceRegistry.all.map(e=>({section:this.toSectionName(e.LanguageMetaData.languageId)})),n=await e.fetchConfiguration(t);t.forEach((e,t)=>{this.updateSectionConfiguration(e.section,n[t])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(t=>{const n=e.settings[t];this.updateSectionConfiguration(t,n),this.onConfigurationSectionUpdateEmitter.fire({section:t,configuration:n})})}updateSectionConfiguration(e,t){this.settings[e]=t}async getConfiguration(e,t){await this.ready;const n=this.toSectionName(e);if(this.settings[n])return this.settings[n][t]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}!function(e){e.create=function(e){return{dispose:async()=>await e()}}}(nr||(nr={}));class or{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new Rn,this.documentPhaseListeners=new Rn,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=An.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,t={},n=ln.XO.None){var r,i;for(const n of e){const e=n.uri.toString();if(n.state===An.Validated){if("boolean"==typeof t.validation&&t.validation)n.state=An.IndexedReferences,n.diagnostics=void 0,this.buildState.delete(e);else if("object"==typeof t.validation){const o=this.buildState.get(e),s=null===(r=null==o?void 0:o.result)||void 0===r?void 0:r.validationChecks;if(s){const r=(null!==(i=t.validation.categories)&&void 0!==i?i:Wn.all).filter(e=>!s.includes(e));r.length>0&&(this.buildState.set(e,{completed:!1,options:{validation:Object.assign(Object.assign({},t.validation),{categories:r})},result:o.result}),n.state=An.IndexedReferences)}}}else this.buildState.delete(e)}this.currentState=An.Changed,await this.emitUpdate(e.map(e=>e.uri),[]),await this.buildDocuments(e,t,n)}async update(e,t,n=ln.XO.None){this.currentState=An.Changed;for(const e of t)this.langiumDocuments.deleteDocument(e),this.buildState.delete(e.toString()),this.indexManager.remove(e);for(const t of e){if(!this.langiumDocuments.invalidateDocument(t)){const e=this.langiumDocumentFactory.fromModel({$type:"INVALID"},t);e.state=An.Changed,this.langiumDocuments.addDocument(e)}this.buildState.delete(t.toString())}const r=(0,Xt.Td)(e).concat(t).map(e=>e.toString()).toSet();this.langiumDocuments.all.filter(e=>!r.has(e.uri.toString())&&this.shouldRelink(e,r)).forEach(e=>{this.serviceRegistry.getServices(e.uri).references.Linker.unlink(e),e.state=Math.min(e.state,An.ComputedScopes),e.diagnostics=void 0}),await this.emitUpdate(e,t),await fn(n);const i=this.sortDocuments(this.langiumDocuments.all.filter(e=>{var t;return e.state<An.Linked||!(null===(t=this.buildState.get(e.uri.toString()))||void 0===t?void 0:t.completed)}).toArray());await this.buildDocuments(i,this.updateBuildOptions,n)}async emitUpdate(e,t){await Promise.all(this.updateListeners.map(n=>n(e,t)))}sortDocuments(e){let t=0,n=e.length-1;for(;t<n;){for(;t<e.length&&this.hasTextDocument(e[t]);)t++;for(;n>=0&&!this.hasTextDocument(e[n]);)n--;t<n&&([e[t],e[n]]=[e[n],e[t]])}return e}hasTextDocument(e){var t;return Boolean(null===(t=this.textDocuments)||void 0===t?void 0:t.get(e.uri))}shouldRelink(e,t){return!!e.references.some(e=>void 0!==e.error)||this.indexManager.isAffected(e,t)}onUpdate(e){return this.updateListeners.push(e),nr.create(()=>{const t=this.updateListeners.indexOf(e);t>=0&&this.updateListeners.splice(t,1)})}async buildDocuments(e,t,n){this.prepareBuild(e,t),await this.runCancelable(e,An.Parsed,n,e=>this.langiumDocumentFactory.update(e,n)),await this.runCancelable(e,An.IndexedContent,n,e=>this.indexManager.updateContent(e,n)),await this.runCancelable(e,An.ComputedScopes,n,async e=>{const t=this.serviceRegistry.getServices(e.uri).references.ScopeComputation;e.precomputedScopes=await t.computeLocalScopes(e,n)}),await this.runCancelable(e,An.Linked,n,e=>this.serviceRegistry.getServices(e.uri).references.Linker.link(e,n)),await this.runCancelable(e,An.IndexedReferences,n,e=>this.indexManager.updateReferences(e,n));const r=e.filter(e=>this.shouldValidate(e));await this.runCancelable(r,An.Validated,n,e=>this.validate(e,n));for(const t of e){const e=this.buildState.get(t.uri.toString());e&&(e.completed=!0)}}prepareBuild(e,t){for(const n of e){const e=n.uri.toString(),r=this.buildState.get(e);r&&!r.completed||this.buildState.set(e,{completed:!1,options:t,result:null==r?void 0:r.result})}}async runCancelable(e,t,n,r){const i=e.filter(e=>e.state<t);for(const e of i)await fn(n),await r(e),e.state=t,await this.notifyDocumentPhase(e,t,n);const o=e.filter(e=>e.state===t);await this.notifyBuildPhase(o,t,n),this.currentState=t}onBuildPhase(e,t){return this.buildPhaseListeners.add(e,t),nr.create(()=>{this.buildPhaseListeners.delete(e,t)})}onDocumentPhase(e,t){return this.documentPhaseListeners.add(e,t),nr.create(()=>{this.documentPhaseListeners.delete(e,t)})}waitUntil(e,t,n){let r;if(t&&"path"in t?r=t:n=t,null!=n||(n=ln.XO.None),r){const t=this.langiumDocuments.getDocument(r);if(t&&t.state>e)return Promise.resolve(r)}return this.currentState>=e?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(dn):new Promise((t,i)=>{const o=this.onBuildPhase(e,()=>{if(o.dispose(),s.dispose(),r){const e=this.langiumDocuments.getDocument(r);t(null==e?void 0:e.uri)}else t(void 0)}),s=n.onCancellationRequested(()=>{o.dispose(),s.dispose(),i(dn)})})}async notifyDocumentPhase(e,t,n){const r=this.documentPhaseListeners.get(t).slice();for(const t of r)try{await t(e,n)}catch(e){if(!pn(e))throw e}}async notifyBuildPhase(e,t,n){if(0===e.length)return;const r=this.buildPhaseListeners.get(t).slice();for(const t of r)await fn(n),await t(e,n)}shouldValidate(e){return Boolean(this.getBuildOptions(e).validation)}async validate(e,t){var n,r;const i=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,o=this.getBuildOptions(e).validation,s="object"==typeof o?o:void 0,a=await i.validateDocument(e,s,t);e.diagnostics?e.diagnostics.push(...a):e.diagnostics=a;const l=this.buildState.get(e.uri.toString());if(l){null!==(n=l.result)&&void 0!==n||(l.result={});const e=null!==(r=null==s?void 0:s.categories)&&void 0!==r?r:Wn.all;l.result.validationChecks?l.result.validationChecks.push(...e):l.result.validationChecks=[...e]}}getBuildOptions(e){var t,n;return null!==(n=null===(t=this.buildState.get(e.uri.toString()))||void 0===t?void 0:t.options)&&void 0!==n?n:{}}}class sr{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new zn,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,t){const n=(0,Ct.YE)(e).uri,r=[];return this.referenceIndex.forEach(e=>{e.forEach(e=>{Mn.equals(e.targetUri,n)&&e.targetPath===t&&r.push(e)})}),(0,Xt.Td)(r)}allElements(e,t){let n=(0,Xt.Td)(this.symbolIndex.keys());return t&&(n=n.filter(e=>!t||t.has(e))),n.map(t=>this.getFileDescriptions(t,e)).flat()}getFileDescriptions(e,t){var n;if(!t)return null!==(n=this.symbolIndex.get(e))&&void 0!==n?n:[];const r=this.symbolByTypeIndex.get(e,t,()=>{var n;return(null!==(n=this.symbolIndex.get(e))&&void 0!==n?n:[]).filter(e=>this.astReflection.isSubtype(e.type,t))});return r}remove(e){const t=e.toString();this.symbolIndex.delete(t),this.symbolByTypeIndex.clear(t),this.referenceIndex.delete(t)}async updateContent(e,t=ln.XO.None){const n=this.serviceRegistry.getServices(e.uri),r=await n.references.ScopeComputation.computeExports(e,t),i=e.uri.toString();this.symbolIndex.set(i,r),this.symbolByTypeIndex.clear(i)}async updateReferences(e,t=ln.XO.None){const n=this.serviceRegistry.getServices(e.uri),r=await n.workspace.ReferenceDescriptionProvider.createDescriptions(e,t);this.referenceIndex.set(e.uri.toString(),r)}isAffected(e,t){const n=this.referenceIndex.get(e.uri.toString());return!!n&&n.some(e=>!e.local&&t.has(e.targetUri.toString()))}}class ar{constructor(e){this.initialBuildOptions={},this._ready=new gn,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var t;this.folders=null!==(t=e.workspaceFolders)&&void 0!==t?t:void 0}initialized(e){return this.mutex.write(e=>{var t;return this.initializeWorkspace(null!==(t=this.folders)&&void 0!==t?t:[],e)})}async initializeWorkspace(e,t=ln.XO.None){const n=await this.performStartup(e);await fn(t),await this.documentBuilder.build(n,this.initialBuildOptions,t)}async performStartup(e){const t=this.serviceRegistry.all.flatMap(e=>e.LanguageMetaData.fileExtensions),n=[],r=e=>{n.push(e),this.langiumDocuments.hasDocument(e.uri)||this.langiumDocuments.addDocument(e)};return await this.loadAdditionalDocuments(e,r),await Promise.all(e.map(e=>[e,this.getRootFolder(e)]).map(async e=>this.traverseFolder(...e,t,r))),this._ready.resolve(),n}loadAdditionalDocuments(e,t){return Promise.resolve()}getRootFolder(e){return Tn.r.parse(e.uri)}async traverseFolder(e,t,n,r){const i=await this.fileSystemProvider.readDirectory(t);await Promise.all(i.map(async t=>{if(this.includeEntry(e,t,n))if(t.isDirectory)await this.traverseFolder(e,t.uri,n,r);else if(t.isFile){const e=await this.langiumDocuments.getOrCreateDocument(t.uri);r(e)}}))}includeEntry(e,t,n){const r=Mn.basename(t.uri);if(r.startsWith("."))return!1;if(t.isDirectory)return"node_modules"!==r&&"out"!==r;if(t.isFile){const e=Mn.extname(t.uri);return n.includes(e)}return!1}}class lr{buildUnexpectedCharactersMessage(e,t,n,r,i){return a.PW.buildUnexpectedCharactersMessage(e,t,n,r,i)}buildUnableToPopLexerModeMessage(e){return a.PW.buildUnableToPopLexerModeMessage(e)}}const cr={mode:"full"};class ur{constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;const t=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(t);const n=dr(t)?Object.values(t):t,r="production"===e.LanguageMetaData.mode;this.chevrotainLexer=new a.JG(n,{positionTracking:"full",skipValidations:r,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,t=cr){var n,r,i;const o=this.chevrotainLexer.tokenize(e);return{tokens:o.tokens,errors:o.errors,hidden:null!==(n=o.groups.hidden)&&void 0!==n?n:[],report:null===(i=(r=this.tokenBuilder).flushLexingReport)||void 0===i?void 0:i.call(r,e)}}toTokenTypeDictionary(e){if(dr(e))return e;const t=hr(e)?Object.values(e.modes).flat():e,n={};return t.forEach(e=>n[e.name]=e),n}}function hr(e){return e&&"modes"in e&&"defaultMode"in e}function dr(e){return!function(e){return Array.isArray(e)&&(0===e.length||"name"in e[0])}(e)&&!hr(e)}function pr(e,t,n){let r,i;"string"==typeof e?(i=t,r=n):(i=e.range.start,r=t),i||(i=le.create(0,0));const o=function(e){var t,n,r;const i=[];let o=e.position.line,s=e.position.character;for(let a=0;a<e.lines.length;a++){const l=0===a,c=a===e.lines.length-1;let u=e.lines[a],h=0;if(l&&e.options.start){const n=null===(t=e.options.start)||void 0===t?void 0:t.exec(u);n&&(h=n.index+n[0].length)}else{const t=null===(n=e.options.line)||void 0===n?void 0:n.exec(u);t&&(h=t.index+t[0].length)}if(c){const t=null===(r=e.options.end)||void 0===r?void 0:r.exec(u);t&&(u=u.substring(0,t.index))}u=u.substring(0,xr(u));if(wr(u,h)>=u.length){if(i.length>0){const e=le.create(o,s);i.push({type:"break",content:"",range:ce.create(e,e)})}}else{gr.lastIndex=h;const e=gr.exec(u);if(e){const t=e[0],n=e[1],r=le.create(o,s+h),a=le.create(o,s+h+t.length);i.push({type:"tag",content:n,range:ce.create(r,a)}),h+=t.length,h=wr(u,h)}if(h<u.length){const e=u.substring(h),t=Array.from(e.matchAll(mr));i.push(...vr(t,e,o,s+h))}}o++,s=0}if(i.length>0&&"break"===i[i.length-1].type)return i.slice(0,-1);return i}({lines:fr(e),position:i,options:Sr(r)});return function(e){var t,n,r,i;const o=le.create(e.position.line,e.position.character);if(0===e.tokens.length)return new Nr([],ce.create(o,o));const s=[];for(;e.index<e.tokens.length;){const t=_r(e,s[s.length-1]);t&&s.push(t)}const a=null!==(n=null===(t=s[0])||void 0===t?void 0:t.range.start)&&void 0!==n?n:o,l=null!==(i=null===(r=s[s.length-1])||void 0===r?void 0:r.range.end)&&void 0!==i?i:o;return new Nr(s,ce.create(a,l))}({index:0,tokens:o,position:i})}function fr(e){let t="";t="string"==typeof e?e:e.text;return t.split(o.TH)}const gr=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,mr=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function vr(e,t,n,r){const i=[];if(0===e.length){const e=le.create(n,r),o=le.create(n,r+t.length);i.push({type:"text",content:t,range:ce.create(e,o)})}else{let o=0;for(const s of e){const e=s.index,a=t.substring(o,e);a.length>0&&i.push({type:"text",content:t.substring(o,e),range:ce.create(le.create(n,o+r),le.create(n,e+r))});let l=a.length+1;const c=s[1];if(i.push({type:"inline-tag",content:c,range:ce.create(le.create(n,o+l+r),le.create(n,o+l+c.length+r))}),l+=c.length,4===s.length){l+=s[2].length;const e=s[3];i.push({type:"text",content:e,range:ce.create(le.create(n,o+l+r),le.create(n,o+l+e.length+r))})}else i.push({type:"text",content:"",range:ce.create(le.create(n,o+l+r),le.create(n,o+l+r))});o=e+s[0].length}const s=t.substring(o);s.length>0&&i.push({type:"text",content:s,range:ce.create(le.create(n,o+r),le.create(n,o+r+s.length))})}return i}const yr=/\S/,br=/\s*$/;function wr(e,t){const n=e.substring(t).match(yr);return n?t+n.index:e.length}function xr(e){const t=e.match(br);if(t&&"number"==typeof t.index)return t.index}function _r(e,t){const n=e.tokens[e.index];return"tag"===n.type?Er(e,!1):"text"===n.type||"inline-tag"===n.type?Ar(e):(function(e,t){if(t){const n=new Rr("",e.range);"inlines"in t?t.inlines.push(n):t.content.inlines.push(n)}}(n,t),void e.index++)}function Ar(e){let t=e.tokens[e.index];const n=t;let r=t;const i=[];for(;t&&"break"!==t.type&&"tag"!==t.type;)i.push(Tr(e)),r=t,t=e.tokens[e.index];return new Or(i,ce.create(n.range.start,r.range.end))}function Tr(e){return"inline-tag"===e.tokens[e.index].type?Er(e,!0):kr(e)}function Er(e,t){const n=e.tokens[e.index++],r=n.content.substring(1),i=e.tokens[e.index];if("text"===(null==i?void 0:i.type)){if(t){const i=kr(e);return new Mr(r,new Or([i],i.range),t,ce.create(n.range.start,i.range.end))}{const i=Ar(e);return new Mr(r,i,t,ce.create(n.range.start,i.range.end))}}{const e=n.range;return new Mr(r,new Or([],e),t,e)}}function kr(e){const t=e.tokens[e.index++];return new Rr(t.content,t.range)}function Sr(e){if(!e)return Sr({start:"/**",end:"*/",line:"*"});const{start:t,end:n,line:r}=e;return{start:Cr(t,!0),end:Cr(n,!1),line:Cr(r,!0)}}function Cr(e,t){if("string"==typeof e||"object"==typeof e){const n="string"==typeof e?(0,o.Nt)(e):e.source;return t?new RegExp(`^\\s*${n}`):new RegExp(`\\s*${n}\\s*$`)}return e}class Nr{constructor(e,t){this.elements=e,this.range=t}getTag(e){return this.getAllTags().find(t=>t.name===e)}getTags(e){return this.getAllTags().filter(t=>t.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const t of this.elements)if(0===e.length)e=t.toString();else{const n=t.toString();e+=Ir(e)+n}return e.trim()}toMarkdown(e){let t="";for(const n of this.elements)if(0===t.length)t=n.toMarkdown(e);else{const r=n.toMarkdown(e);t+=Ir(t)+r}return t.trim()}}class Mr{constructor(e,t,n,r){this.name=e,this.content=t,this.inline=n,this.range=r}toString(){let e=`@${this.name}`;const t=this.content.toString();return 1===this.content.inlines.length?e=`${e} ${t}`:this.content.inlines.length>1&&(e=`${e}\n${t}`),this.inline?`{${e}}`:e}toMarkdown(e){var t,n;return null!==(n=null===(t=null==e?void 0:e.renderTag)||void 0===t?void 0:t.call(e,this))&&void 0!==n?n:this.toMarkdownDefault(e)}toMarkdownDefault(e){const t=this.content.toMarkdown(e);if(this.inline){const n=function(e,t,n){var r,i;if("linkplain"===e||"linkcode"===e||"link"===e){const o=t.indexOf(" ");let s=t;if(o>0){const e=wr(t,o);s=t.substring(e),t=t.substring(0,o)}("linkcode"===e||"link"===e&&"code"===n.link)&&(s=`\`${s}\``);const a=null!==(i=null===(r=n.renderLink)||void 0===r?void 0:r.call(n,t,s))&&void 0!==i?i:function(e,t){try{return Tn.r.parse(e,!0),`[${t}](${e})`}catch(t){return e}}(t,s);return a}return}(this.name,t,null!=e?e:{});if("string"==typeof n)return n}let n="";"italic"===(null==e?void 0:e.tag)||void 0===(null==e?void 0:e.tag)?n="*":"bold"===(null==e?void 0:e.tag)?n="**":"bold-italic"===(null==e?void 0:e.tag)&&(n="***");let r=`${n}@${this.name}${n}`;return 1===this.content.inlines.length?r=`${r} — ${t}`:this.content.inlines.length>1&&(r=`${r}\n${t}`),this.inline?`{${r}}`:r}}class Or{constructor(e,t){this.inlines=e,this.range=t}toString(){let e="";for(let t=0;t<this.inlines.length;t++){const n=this.inlines[t],r=this.inlines[t+1];e+=n.toString(),r&&r.range.start.line>n.range.start.line&&(e+="\n")}return e}toMarkdown(e){let t="";for(let n=0;n<this.inlines.length;n++){const r=this.inlines[n],i=this.inlines[n+1];t+=r.toMarkdown(e),i&&i.range.start.line>r.range.start.line&&(t+="\n")}return t}}class Rr{constructor(e,t){this.text=e,this.range=t}toString(){return this.text}toMarkdown(){return this.text}}function Ir(e){return e.endsWith("\n")?"\n":"\n\n"}class Lr{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const t=this.commentProvider.getComment(e);if(t&&function(e,t){const n=Sr(t),r=fr(e);if(0===r.length)return!1;const i=r[0],o=r[r.length-1],s=n.start,a=n.end;return Boolean(null==s?void 0:s.exec(i))&&Boolean(null==a?void 0:a.exec(o))}(t)){return pr(t).toMarkdown({renderLink:(t,n)=>this.documentationLinkRenderer(e,t,n),renderTag:t=>this.documentationTagRenderer(e,t)})}}documentationLinkRenderer(e,t,n){var r;const i=null!==(r=this.findNameInPrecomputedScopes(e,t))&&void 0!==r?r:this.findNameInGlobalScope(e,t);if(i&&i.nameSegment){const e=i.nameSegment.range.start.line+1,t=i.nameSegment.range.start.character+1;return`[${n}](${i.documentUri.with({fragment:`L${e},${t}`}).toString()})`}}documentationTagRenderer(e,t){}findNameInPrecomputedScopes(e,t){const n=(0,Ct.YE)(e).precomputedScopes;if(!n)return;let r=e;do{const e=n.get(r).find(e=>e.name===t);if(e)return e;r=r.$container}while(r)}findNameInGlobalScope(e,t){return this.indexManager.allElements().find(e=>e.name===t)}}class Pr{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var t;return function(e){return"string"==typeof e.$comment}(e)?e.$comment:null===(t=(0,r.v)(e.$cstNode,this.grammarConfig().multilineCommentRules))||void 0===t?void 0:t.text}}class Dr{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,t){return Promise.resolve(this.syncParser.parse(e))}}class Br{constructor(){this.previousTokenSource=new ln.Qi,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const t=(un=performance.now(),new ln.Qi);return this.previousTokenSource=t,this.enqueue(this.writeQueue,e,t.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,t,n=ln.XO.None){const r=new gn,i={action:t,deferred:r,cancellationToken:n};return e.push(i),this.performNextOperation(),r.promise}async performNextOperation(){if(!this.done)return;const e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else{if(!(this.readQueue.length>0))return;e.push(...this.readQueue.splice(0,this.readQueue.length))}this.done=!1,await Promise.all(e.map(async({action:e,deferred:t,cancellationToken:n})=>{try{const r=await Promise.resolve().then(()=>e(n));t.resolve(r)}catch(e){pn(e)?t.resolve(void 0):t.reject(e)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class Fr{constructor(e){this.grammarElementIdMap=new In,this.tokenTypeIdMap=new In,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(e=>Object.assign(Object.assign({},e),{message:e.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){const t=new Map,n=new Map;for(const n of(0,Ct.jm)(e))t.set(n,{});if(e.$cstNode)for(const t of(0,r.NS)(e.$cstNode))n.set(t,{});return{astNodes:t,cstNodes:n}}dehydrateAstNode(e,t){const n=t.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,void 0!==e.$cstNode&&(n.$cstNode=this.dehydrateCstNode(e.$cstNode,t));for(const[r,i]of Object.entries(e))if(!r.startsWith("$"))if(Array.isArray(i)){const e=[];n[r]=e;for(const n of i)(0,cn.ng)(n)?e.push(this.dehydrateAstNode(n,t)):(0,cn.A_)(n)?e.push(this.dehydrateReference(n,t)):e.push(n)}else(0,cn.ng)(i)?n[r]=this.dehydrateAstNode(i,t):(0,cn.A_)(i)?n[r]=this.dehydrateReference(i,t):void 0!==i&&(n[r]=i);return n}dehydrateReference(e,t){const n={};return n.$refText=e.$refText,e.$refNode&&(n.$refNode=t.cstNodes.get(e.$refNode)),n}dehydrateCstNode(e,t){const n=t.cstNodes.get(e);return(0,cn.br)(e)?n.fullText=e.fullText:n.grammarSource=this.getGrammarElementId(e.grammarSource),n.hidden=e.hidden,n.astNode=t.astNodes.get(e.astNode),(0,cn.mD)(e)?n.content=e.content.map(e=>this.dehydrateCstNode(e,t)):(0,cn.FC)(e)&&(n.tokenType=e.tokenType.name,n.offset=e.offset,n.length=e.length,n.startLine=e.range.start.line,n.startColumn=e.range.start.character,n.endLine=e.range.end.line,n.endColumn=e.range.end.character),n}hydrate(e){const t=e.value,n=this.createHydrationContext(t);return"$cstNode"in t&&this.hydrateCstNode(t.$cstNode,n),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(t,n)}}createHydrationContext(e){const t=new Map,n=new Map;for(const n of(0,Ct.jm)(e))t.set(n,{});let i;if(e.$cstNode)for(const t of(0,r.NS)(e.$cstNode)){let e;"fullText"in t?(e=new Bt(t.fullText),i=e):"content"in t?e=new Pt:"tokenType"in t&&(e=this.hydrateCstLeafNode(t)),e&&(n.set(t,e),e.root=i)}return{astNodes:t,cstNodes:n}}hydrateAstNode(e,t){const n=t.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode&&(n.$cstNode=t.cstNodes.get(e.$cstNode));for(const[r,i]of Object.entries(e))if(!r.startsWith("$"))if(Array.isArray(i)){const e=[];n[r]=e;for(const o of i)(0,cn.ng)(o)?e.push(this.setParent(this.hydrateAstNode(o,t),n)):(0,cn.A_)(o)?e.push(this.hydrateReference(o,n,r,t)):e.push(o)}else(0,cn.ng)(i)?n[r]=this.setParent(this.hydrateAstNode(i,t),n):(0,cn.A_)(i)?n[r]=this.hydrateReference(i,n,r,t):void 0!==i&&(n[r]=i);return n}setParent(e,t){return e.$container=t,e}hydrateReference(e,t,n,r){return this.linker.buildReference(t,n,r.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,t,n=0){const r=t.cstNodes.get(e);if("number"==typeof e.grammarSource&&(r.grammarSource=this.getGrammarElement(e.grammarSource)),r.astNode=t.astNodes.get(e.astNode),(0,cn.mD)(r))for(const i of e.content){const e=this.hydrateCstNode(i,t,n++);r.content.push(e)}return r}hydrateCstLeafNode(e){const t=this.getTokenType(e.tokenType),n=e.offset,r=e.length,i=e.startLine,o=e.startColumn,s=e.endLine,a=e.endColumn,l=e.hidden;return new Lt(n,r,{start:{line:i,character:o},end:{line:s,character:a}},t,l)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap();return this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(const t of(0,Ct.jm)(this.grammar))(0,s.r1)(t)&&this.grammarElementIdMap.set(t,e++)}}function zr(e){return{documentation:{CommentProvider:e=>new Pr(e),DocumentationProvider:e=>new Lr(e)},parser:{AsyncParser:e=>new Dr(e),GrammarConfig:e=>function(e){const t=[],n=e.Grammar;for(const e of n.rules)(0,s.rE)(e)&&(0,i.eb)(e)&&(0,o.lU)((0,i.S)(e))&&t.push(e.name);return{multilineCommentRules:t,nameRegexp:r.El}}(e),LangiumParser:e=>on(e),CompletionParser:e=>function(e){const t=e.Grammar,n=e.parser.Lexer,r=new Vt(e);return Kt(t,r,n.definition),r.finalize(),r}(e),ValueConverter:()=>new an.d,TokenBuilder:()=>new sn.Q,Lexer:e=>new ur(e),ParserErrorMessageProvider:()=>new Gt,LexerErrorMessageProvider:()=>new lr},workspace:{AstNodeLocator:()=>new tr,AstNodeDescriptionProvider:e=>new Jn(e),ReferenceDescriptionProvider:e=>new er(e)},references:{Linker:e=>new Cn(e),NameProvider:()=>new Nn,ScopeProvider:e=>new jn(e),ScopeComputation:e=>new Ln(e),References:e=>new On(e)},serializer:{Hydrator:e=>new Fr(e),JsonSerializer:e=>new Hn(e)},validation:{DocumentValidator:e=>new Xn(e),ValidationRegistry:e=>new qn(e)},shared:()=>e.shared}}function $r(e){return{ServiceRegistry:e=>new Gn(e),workspace:{LangiumDocuments:e=>new kn(e),LangiumDocumentFactory:e=>new En(e),DocumentBuilder:e=>new or(e),IndexManager:e=>new sr(e),WorkspaceManager:e=>new ar(e),FileSystemProvider:t=>e.fileSystemProvider(t),WorkspaceLock:()=>new Br,ConfigurationProvider:e=>new ir(e)}}}},9364:(e,t,n)=>{"use strict";var r;function i(e,t,n,r,i,o,a,l,u){return s([e,t,n,r,i,o,a,l,u].reduce(c,{}))}n.d(t,{WQ:()=>i}),function(e){e.merge=(e,t)=>c(c({},e),t)}(r||(r={}));const o=Symbol("isProxy");function s(e,t){const n=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(r,i)=>i===o||l(r,i,e,t||n),getOwnPropertyDescriptor:(r,i)=>(l(r,i,e,t||n),Object.getOwnPropertyDescriptor(r,i)),has:(t,n)=>n in e,ownKeys:()=>[...Object.getOwnPropertyNames(e)]});return n}const a=Symbol();function l(e,t,n,r){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===a)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return e[t]}if(t in n){const i=n[t];e[t]=a;try{e[t]="function"==typeof i?i(r):s(i,r)}catch(n){throw e[t]=n instanceof Error?n:void 0,n}return e[t]}}function c(e,t){if(t)for(const[n,r]of Object.entries(t))if(void 0!==r){const t=e[n];e[n]=null!==t&&null!==r&&"object"==typeof t&&"object"==typeof r?c(t,r):r}return e}},9418:(e,t,n)=>{"use strict";n.d(t,{A:()=>ae});const{entries:r,setPrototypeOf:i,isFrozen:o,getPrototypeOf:s,getOwnPropertyDescriptor:a}=Object;let{freeze:l,seal:c,create:u}=Object,{apply:h,construct:d}="undefined"!=typeof Reflect&&Reflect;l||(l=function(e){return e}),c||(c=function(e){return e}),h||(h=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.apply(t,r)}),d||(d=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const p=C(Array.prototype.forEach),f=C(Array.prototype.lastIndexOf),g=C(Array.prototype.pop),m=C(Array.prototype.push),v=C(Array.prototype.splice),y=C(String.prototype.toLowerCase),b=C(String.prototype.toString),w=C(String.prototype.match),x=C(String.prototype.replace),_=C(String.prototype.indexOf),A=C(String.prototype.trim),T=C(Object.prototype.hasOwnProperty),E=C(RegExp.prototype.test),k=(S=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d(S,t)});var S;function C(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return h(e,t,r)}}function N(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;i&&i(e,null);let r=t.length;for(;r--;){let i=t[r];if("string"==typeof i){const e=n(i);e!==i&&(o(t)||(t[r]=e),i=e)}e[i]=!0}return e}function M(e){for(let t=0;t<e.length;t++){T(e,t)||(e[t]=null)}return e}function O(e){const t=u(null);for(const[n,i]of r(e)){T(e,n)&&(Array.isArray(i)?t[n]=M(i):i&&"object"==typeof i&&i.constructor===Object?t[n]=O(i):t[n]=i)}return t}function R(e,t){for(;null!==e;){const n=a(e,t);if(n){if(n.get)return C(n.get);if("function"==typeof n.value)return C(n.value)}e=s(e)}return function(){return null}}const I=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),P=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),F=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),z=l(["#text"]),$=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),j=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),U=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),H=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),G=c(/\{\{[\w\W]*|[\w\W]*\}\}/gm),V=c(/<%[\w\W]*|[\w\W]*%>/gm),W=c(/\$\{[\w\W]*/gm),Y=c(/^data-[\-\w.\u00B7-\uFFFF]+$/),q=c(/^aria-[\-\w]+$/),X=c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K=c(/^(?:\w+script|data):/i),Z=c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q=c(/^html$/i),J=c(/^[a-z][.\w]*(-[.\w]+)+$/i);var ee=Object.freeze({__proto__:null,ARIA_ATTR:q,ATTR_WHITESPACE:Z,CUSTOM_ELEMENT:J,DATA_ATTR:Y,DOCTYPE_NAME:Q,ERB_EXPR:V,IS_ALLOWED_URI:X,IS_SCRIPT_OR_DATA:K,MUSTACHE_EXPR:G,TMPLIT_EXPR:W});const te=1,ne=3,re=7,ie=8,oe=9,se=function(){return"undefined"==typeof window?null:window};var ae=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se();const n=t=>e(t);if(n.version="3.2.7",n.removed=[],!t||!t.document||t.document.nodeType!==oe||!t.Element)return n.isSupported=!1,n;let{document:i}=t;const o=i,s=o.currentScript,{DocumentFragment:a,HTMLTemplateElement:c,Node:h,Element:d,NodeFilter:S,NamedNodeMap:C=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:M,DOMParser:G,trustedTypes:V}=t,W=d.prototype,Y=R(W,"cloneNode"),q=R(W,"remove"),K=R(W,"nextSibling"),Z=R(W,"childNodes"),J=R(W,"parentNode");if("function"==typeof c){const e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let ae,le="";const{implementation:ce,createNodeIterator:ue,createDocumentFragment:he,getElementsByTagName:de}=i,{importNode:pe}=o;let fe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof r&&"function"==typeof J&&ce&&void 0!==ce.createHTMLDocument;const{MUSTACHE_EXPR:ge,ERB_EXPR:me,TMPLIT_EXPR:ve,DATA_ATTR:ye,ARIA_ATTR:be,IS_SCRIPT_OR_DATA:we,ATTR_WHITESPACE:xe,CUSTOM_ELEMENT:_e}=ee;let{IS_ALLOWED_URI:Ae}=ee,Te=null;const Ee=N({},[...I,...L,...P,...B,...z]);let ke=null;const Se=N({},[...$,...j,...U,...H]);let Ce=Object.seal(u(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,Me=null,Oe=!0,Re=!0,Ie=!1,Le=!0,Pe=!1,De=!0,Be=!1,Fe=!1,ze=!1,$e=!1,je=!1,Ue=!1,He=!0,Ge=!1,Ve=!0,We=!1,Ye={},qe=null;const Xe=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ke=null;const Ze=N({},["audio","video","img","source","image","track"]);let Qe=null;const Je=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml";let rt=nt,it=!1,ot=null;const st=N({},[et,tt,nt],b);let at=N({},["mi","mo","mn","ms","mtext"]),lt=N({},["annotation-xml"]);const ct=N({},["title","style","font","a","script"]);let ut=null;const ht=["application/xhtml+xml","text/html"];let dt=null,pt=null;const ft=i.createElement("form"),gt=function(e){return e instanceof RegExp||e instanceof Function},mt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!pt||pt!==e){if(e&&"object"==typeof e||(e={}),e=O(e),ut=-1===ht.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,dt="application/xhtml+xml"===ut?b:y,Te=T(e,"ALLOWED_TAGS")?N({},e.ALLOWED_TAGS,dt):Ee,ke=T(e,"ALLOWED_ATTR")?N({},e.ALLOWED_ATTR,dt):Se,ot=T(e,"ALLOWED_NAMESPACES")?N({},e.ALLOWED_NAMESPACES,b):st,Qe=T(e,"ADD_URI_SAFE_ATTR")?N(O(Je),e.ADD_URI_SAFE_ATTR,dt):Je,Ke=T(e,"ADD_DATA_URI_TAGS")?N(O(Ze),e.ADD_DATA_URI_TAGS,dt):Ze,qe=T(e,"FORBID_CONTENTS")?N({},e.FORBID_CONTENTS,dt):Xe,Ne=T(e,"FORBID_TAGS")?N({},e.FORBID_TAGS,dt):O({}),Me=T(e,"FORBID_ATTR")?N({},e.FORBID_ATTR,dt):O({}),Ye=!!T(e,"USE_PROFILES")&&e.USE_PROFILES,Oe=!1!==e.ALLOW_ARIA_ATTR,Re=!1!==e.ALLOW_DATA_ATTR,Ie=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Le=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Pe=e.SAFE_FOR_TEMPLATES||!1,De=!1!==e.SAFE_FOR_XML,Be=e.WHOLE_DOCUMENT||!1,$e=e.RETURN_DOM||!1,je=e.RETURN_DOM_FRAGMENT||!1,Ue=e.RETURN_TRUSTED_TYPE||!1,ze=e.FORCE_BODY||!1,He=!1!==e.SANITIZE_DOM,Ge=e.SANITIZE_NAMED_PROPS||!1,Ve=!1!==e.KEEP_CONTENT,We=e.IN_PLACE||!1,Ae=e.ALLOWED_URI_REGEXP||X,rt=e.NAMESPACE||nt,at=e.MATHML_TEXT_INTEGRATION_POINTS||at,lt=e.HTML_INTEGRATION_POINTS||lt,Ce=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&gt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&gt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ce.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pe&&(Re=!1),je&&($e=!0),Ye&&(Te=N({},z),ke=[],!0===Ye.html&&(N(Te,I),N(ke,$)),!0===Ye.svg&&(N(Te,L),N(ke,j),N(ke,H)),!0===Ye.svgFilters&&(N(Te,P),N(ke,j),N(ke,H)),!0===Ye.mathMl&&(N(Te,B),N(ke,U),N(ke,H))),e.ADD_TAGS&&(Te===Ee&&(Te=O(Te)),N(Te,e.ADD_TAGS,dt)),e.ADD_ATTR&&(ke===Se&&(ke=O(ke)),N(ke,e.ADD_ATTR,dt)),e.ADD_URI_SAFE_ATTR&&N(Qe,e.ADD_URI_SAFE_ATTR,dt),e.FORBID_CONTENTS&&(qe===Xe&&(qe=O(qe)),N(qe,e.FORBID_CONTENTS,dt)),Ve&&(Te["#text"]=!0),Be&&N(Te,["html","head","body"]),Te.table&&(N(Te,["tbody"]),delete Ne.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ae=e.TRUSTED_TYPES_POLICY,le=ae.createHTML("")}else void 0===ae&&(ae=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return null}}(V,s)),null!==ae&&"string"==typeof le&&(le=ae.createHTML(""));l&&l(e),pt=e}},vt=N({},[...L,...P,...D]),yt=N({},[...B,...F]),bt=function(e){m(n.removed,{element:e});try{J(e).removeChild(e)}catch(t){q(e)}},wt=function(e,t){try{m(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){m(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if($e||je)try{bt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},xt=function(e){let t=null,n=null;if(ze)e="<remove></remove>"+e;else{const t=w(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ut&&rt===nt&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=ae?ae.createHTML(e):e;if(rt===nt)try{t=(new G).parseFromString(r,ut)}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(rt,"template",null);try{t.documentElement.innerHTML=it?le:r}catch(e){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),rt===nt?de.call(t,Be?"html":"body")[0]:Be?t.documentElement:o},_t=function(e){return ue.call(e.ownerDocument||e,e,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT|S.SHOW_PROCESSING_INSTRUCTION|S.SHOW_CDATA_SECTION,null)},At=function(e){return e instanceof M&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof C)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Tt=function(e){return"function"==typeof h&&e instanceof h};function Et(e,t,r){p(e,e=>{e.call(n,t,r,pt)})}const kt=function(e){let t=null;if(Et(fe.beforeSanitizeElements,e,null),At(e))return bt(e),!0;const r=dt(e.nodeName);if(Et(fe.uponSanitizeElement,e,{tagName:r,allowedTags:Te}),De&&e.hasChildNodes()&&!Tt(e.firstElementChild)&&E(/<[/\w!]/g,e.innerHTML)&&E(/<[/\w!]/g,e.textContent))return bt(e),!0;if(e.nodeType===re)return bt(e),!0;if(De&&e.nodeType===ie&&E(/<[/\w]/g,e.data))return bt(e),!0;if(!Te[r]||Ne[r]){if(!Ne[r]&&Ct(r)){if(Ce.tagNameCheck instanceof RegExp&&E(Ce.tagNameCheck,r))return!1;if(Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(r))return!1}if(Ve&&!qe[r]){const t=J(e)||e.parentNode,n=Z(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const i=Y(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,K(e))}}}return bt(e),!0}return e instanceof d&&!function(e){let t=J(e);t&&t.tagName||(t={namespaceURI:rt,tagName:"template"});const n=y(e.tagName),r=y(t.tagName);return!!ot[e.namespaceURI]&&(e.namespaceURI===tt?t.namespaceURI===nt?"svg"===n:t.namespaceURI===et?"svg"===n&&("annotation-xml"===r||at[r]):Boolean(vt[n]):e.namespaceURI===et?t.namespaceURI===nt?"math"===n:t.namespaceURI===tt?"math"===n&&lt[r]:Boolean(yt[n]):e.namespaceURI===nt?!(t.namespaceURI===tt&&!lt[r])&&!(t.namespaceURI===et&&!at[r])&&!yt[n]&&(ct[n]||!vt[n]):!("application/xhtml+xml"!==ut||!ot[e.namespaceURI]))}(e)?(bt(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!E(/<\/no(script|embed|frames)/i,e.innerHTML)?(Pe&&e.nodeType===ne&&(t=e.textContent,p([ge,me,ve],e=>{t=x(t,e," ")}),e.textContent!==t&&(m(n.removed,{element:e.cloneNode()}),e.textContent=t)),Et(fe.afterSanitizeElements,e,null),!1):(bt(e),!0)},St=function(e,t,n){if(He&&("id"===t||"name"===t)&&(n in i||n in ft))return!1;if(Re&&!Me[t]&&E(ye,t));else if(Oe&&E(be,t));else if(!ke[t]||Me[t]){if(!(Ct(e)&&(Ce.tagNameCheck instanceof RegExp&&E(Ce.tagNameCheck,e)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(e))&&(Ce.attributeNameCheck instanceof RegExp&&E(Ce.attributeNameCheck,t)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(t,e))||"is"===t&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&E(Ce.tagNameCheck,n)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(n))))return!1}else if(Qe[t]);else if(E(Ae,x(n,xe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==_(n,"data:")||!Ke[e]){if(Ie&&!E(we,x(n,xe,"")));else if(n)return!1}else;return!0},Ct=function(e){return"annotation-xml"!==e&&w(e,_e)},Nt=function(e){Et(fe.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||At(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke,forceKeepAttr:void 0};let i=t.length;for(;i--;){const o=t[i],{name:s,namespaceURI:a,value:l}=o,c=dt(s),u=l;let h="value"===s?u:A(u);if(r.attrName=c,r.attrValue=h,r.keepAttr=!0,r.forceKeepAttr=void 0,Et(fe.uponSanitizeAttribute,e,r),h=r.attrValue,!Ge||"id"!==c&&"name"!==c||(wt(s,e),h="user-content-"+h),De&&E(/((--!?|])>)|<\/(style|title|textarea)/i,h)){wt(s,e);continue}if("attributename"===c&&w(h,"href")){wt(s,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){wt(s,e);continue}if(!Le&&E(/\/>/i,h)){wt(s,e);continue}Pe&&p([ge,me,ve],e=>{h=x(h,e," ")});const d=dt(e.nodeName);if(St(d,c,h)){if(ae&&"object"==typeof V&&"function"==typeof V.getAttributeType)if(a);else switch(V.getAttributeType(d,c)){case"TrustedHTML":h=ae.createHTML(h);break;case"TrustedScriptURL":h=ae.createScriptURL(h)}if(h!==u)try{a?e.setAttributeNS(a,s,h):e.setAttribute(s,h),At(e)?bt(e):g(n.removed)}catch(t){wt(s,e)}}else wt(s,e)}Et(fe.afterSanitizeAttributes,e,null)},Mt=function e(t){let n=null;const r=_t(t);for(Et(fe.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)Et(fe.uponSanitizeShadowNode,n,null),kt(n),Nt(n),n.content instanceof a&&e(n.content);Et(fe.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,i=null,s=null,l=null;if(it=!e,it&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Tt(e)){if("function"!=typeof e.toString)throw k("toString is not a function");if("string"!=typeof(e=e.toString()))throw k("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Fe||mt(t),n.removed=[],"string"==typeof e&&(We=!1),We){if(e.nodeName){const t=dt(e.nodeName);if(!Te[t]||Ne[t])throw k("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof h)r=xt("\x3c!----\x3e"),i=r.ownerDocument.importNode(e,!0),i.nodeType===te&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!$e&&!Pe&&!Be&&-1===e.indexOf("<"))return ae&&Ue?ae.createHTML(e):e;if(r=xt(e),!r)return $e?null:Ue?le:""}r&&ze&&bt(r.firstChild);const c=_t(We?e:r);for(;s=c.nextNode();)kt(s),Nt(s),s.content instanceof a&&Mt(s.content);if(We)return e;if($e){if(je)for(l=he.call(r.ownerDocument);r.firstChild;)l.appendChild(r.firstChild);else l=r;return(ke.shadowroot||ke.shadowrootmode)&&(l=pe.call(o,l,!0)),l}let u=Be?r.outerHTML:r.innerHTML;return Be&&Te["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&E(Q,r.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+u),Pe&&p([ge,me,ve],e=>{u=x(u,e," ")}),ae&&Ue?ae.createHTML(u):u},n.setConfig=function(){mt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Fe=!0},n.clearConfig=function(){pt=null,Fe=!1},n.isValidAttribute=function(e,t,n){pt||mt({});const r=dt(e),i=dt(t);return St(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&m(fe[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=f(fe[e],t);return-1===n?void 0:v(fe[e],n,1)[0]}return g(fe[e])},n.removeHooks=function(e){fe[e]=[]},n.removeAllHooks=function(){fe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}()},9469:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});const r=function(){this.__data__=[],this.size=0};var i=n(6984);const o=function(e,t){for(var n=e.length;n--;)if((0,i.A)(e[n][0],t))return n;return-1};var s=Array.prototype.splice;const a=function(e){var t=this.__data__,n=o(t,e);return!(n<0)&&(n==t.length-1?t.pop():s.call(t,n,1),--this.size,!0)};const l=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]};const c=function(e){return o(this.__data__,e)>-1};const u=function(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function h(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}h.prototype.clear=r,h.prototype.delete=a,h.prototype.get=l,h.prototype.has=c,h.prototype.set=u;const d=h},9590:(e,t)=>{"use strict";let n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},9592:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return void 0===e}},9610:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2383),i=n(3149);const o=function(e){if(!(0,i.A)(e))return!1;var t=(0,r.A)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},9613:(e,t)=>{"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},9622:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=Object.prototype.hasOwnProperty;const i=function(e,t){return null!=e&&r.call(e,t)};var o=n(5054);const s=function(e,t){return null!=e&&(0,o.A)(e,t,i)}},9632:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(2849),i=void 0;try{}catch(e){}function o(e,t,n){if(r.isArray(e)){for(var i=[],o=0,s=e.length;o<s;o++)i.push(t.wrap(e[o],n));return i}return"boolean"==typeof e||"number"==typeof e?e+"":e}function s(e){this.srcFile=e,this.source=[]}i||((i=function(e,t,n,r){this.src="",r&&this.add(r)}).prototype={add:function(e){r.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){r.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),s.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new i(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof i?e:(e=o(e,this,t),new i(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=this,n=[];Object.keys(e).forEach(function(r){var i=o(e[r],t);"undefined"!==i&&n.push([t.quotedString(r),":",i])});var r=this.generateList(n);return r.prepend("{"),r.add("}"),r},generateList:function(e){for(var t=this.empty(),n=0,r=e.length;n<r;n++)n&&t.add(","),t.add(o(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=s,e.exports=t.default},9683:(e,t,n)=>{"use strict";n.d(t,{DM:()=>f,OP:()=>g,SD:()=>s,Uo:()=>h,VN:()=>u,XG:()=>a,YE:()=>l,cQ:()=>c,jm:()=>d});var r=n(2479),i=n(1719),o=n(6373);function s(e){for(const[t,n]of Object.entries(e))t.startsWith("$")||(Array.isArray(n)?n.forEach((n,i)=>{(0,r.ng)(n)&&(n.$container=e,n.$containerProperty=t,n.$containerIndex=i)}):(0,r.ng)(n)&&(n.$container=e,n.$containerProperty=t))}function a(e,t){let n=e;for(;n;){if(t(n))return n;n=n.$container}}function l(e){const t=c(e).$document;if(!t)throw new Error("AST node has no document.");return t}function c(e){for(;e.$container;)e=e.$container;return e}function u(e,t){if(!e)throw new Error("Node must be an AstNode.");const n=null==t?void 0:t.range;return new i.fq(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){const i=t.keys[t.keyIndex];if(!i.startsWith("$")){const o=e[i];if((0,r.ng)(o)){if(t.keyIndex++,p(o,n))return{done:!1,value:o}}else if(Array.isArray(o)){for(;t.arrayIndex<o.length;){const e=o[t.arrayIndex++];if((0,r.ng)(e)&&p(e,n))return{done:!1,value:e}}t.arrayIndex=0}}t.keyIndex++}return i.Rf})}function h(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new i.Vj(e,e=>u(e,t))}function d(e,t){if(!e)throw new Error("Root node must be an AstNode.");return(null==t?void 0:t.range)&&!p(e,t.range)?new i.Vj(e,()=>[]):new i.Vj(e,e=>u(e,t),{includeRoot:!0})}function p(e,t){var n;if(!t)return!0;const r=null===(n=e.$cstNode)||void 0===n?void 0:n.range;return!!r&&(0,o.r4)(r,t)}function f(e){return new i.fq(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){const n=t.keys[t.keyIndex];if(!n.startsWith("$")){const i=e[n];if((0,r.A_)(i))return t.keyIndex++,{done:!1,value:{reference:i,container:e,property:n}};if(Array.isArray(i)){for(;t.arrayIndex<i.length;){const o=t.arrayIndex++,s=i[o];if((0,r.A_)(s))return{done:!1,value:{reference:s,container:e,property:n,index:o}}}t.arrayIndex=0}}t.keyIndex++}return i.Rf})}function g(e,t){const n=e.getTypeMetaData(t.$type),r=t;for(const e of n.properties)void 0!==e.defaultValue&&void 0===r[e.name]&&(r[e.name]=m(e.defaultValue))}function m(e){return Array.isArray(e)?[...e.map(m)]:e}},9703:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2383),i=n(2049),o=n(3098);const s=function(e){return"string"==typeof e||!(0,i.A)(e)&&(0,o.A)(e)&&"[object String]"==(0,r.A)(e)}},9726:(e,t,n)=>{"use strict";t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.extend.apply(void 0,[Object.create(null)].concat(t))};var r=n(2849)},9735:(e,t,n)=>{"use strict";n.d(t,{BC:()=>d,Bq:()=>o,FK:()=>h,HC:()=>s,HT:()=>i,K5:()=>a,b2:()=>u,c1:()=>c,tn:()=>r,wN:()=>l});var r=Math.abs,i=String.fromCharCode;Object.assign;function o(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function a(e,t,n){return e.indexOf(t,n)}function l(e,t){return 0|e.charCodeAt(t)}function c(e,t,n){return e.slice(t,n)}function u(e){return e.length}function h(e){return e.length}function d(e,t){return t.push(e),e}},9759:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},9786:(e,t,n)=>{"use strict";n.d(t,{f:()=>u});var r=n(1272),i=n(9264),o=n(9364),s=n(4298),a=class extends r.mR{static{(0,r.K2)(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},l=class extends r.dg{static{(0,r.K2)(this,"PieValueConverter")}runCustomConverter(e,t,n){if("PIE_SECTION_LABEL"===e.name)return t.replace(/"/g,"").trim()}},c={parser:{TokenBuilder:(0,r.K2)(()=>new a,"TokenBuilder"),ValueConverter:(0,r.K2)(()=>new l,"ValueConverter")}};function u(e=s.D){const t=(0,o.WQ)((0,i.u)(e),r.sr),n=(0,o.WQ)((0,i.t)({shared:t}),r.KX,c);return t.ServiceRegistry.register(n),{shared:t,Pie:n}}(0,r.K2)(u,"createPieServices")},9811:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var r=n(1272),i=n(9264),o=n(9364),s=n(4298),a=class extends r.mR{static{(0,r.K2)(this,"PacketTokenBuilder")}constructor(){super(["packet"])}},l={parser:{TokenBuilder:(0,r.K2)(()=>new a,"TokenBuilder"),ValueConverter:(0,r.K2)(()=>new r.Tm,"ValueConverter")}};function c(e=s.D){const t=(0,o.WQ)((0,i.u)(e),r.sr),n=(0,o.WQ)((0,i.t)({shared:t}),r.AM,l);return t.ServiceRegistry.register(n),{shared:t,Packet:n}}(0,r.K2)(c,"createPacketServices")},9818:(e,t,n)=>{"use strict";n.d(t,{gX:()=>l,kb:()=>o,pD:()=>a,pG:()=>s});var r=n(4826);function i(e){return e.target.depth}function o(e){return e.depth}function s(e,t){return t-1-e.height}function a(e,t){return e.sourceLinks.length?e.depth:t-1}function l(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?(0,r.A)(e.sourceLinks,i)-1:0}},9841:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7132),i=n(7422);const o=function(e,t){return e&&(0,r.A)(e,t,i.A)}},9850:(e,t,n)=>{"use strict";t.Qi=t.XO=void 0;const r=n(9590),i=n(8585),o=n(2676);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(s||(t.XO=s={}));const a=Object.freeze(function(e,t){const n=(0,r.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}});class l{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.Qi=class{get token(){return this._token||(this._token=new l),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof l&&this._token.dispose():this._token=s.None}}},9857:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8562),i=n(1917);const o=(0,r.A)(i.A,"Set")},9922:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9008);const i=function(e){return"function"==typeof e?e:r.A}},9959:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},9999:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(2505),i=n(3149),o=n(7271);const s=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var a=Object.prototype.hasOwnProperty;const l=function(e){if(!(0,i.A)(e))return s(e);var t=(0,o.A)(e),n=[];for(var r in e)("constructor"!=r||!t&&a.call(e,r))&&n.push(r);return n};var c=n(8446);const u=function(e){return(0,c.A)(e)?(0,r.A)(e,!0):l(e)}}}]);