(self.webpackChunkzolarwind=self.webpackChunkzolarwind||[]).push([[855],{27:(t,e,i)=>{"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.parseWithoutProcessing=c,e.parse=function(t,e){var i=c(t,e);return new r.default(e).accept(i)};var o=n(i(201)),r=n(i(915)),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(425)),a=i(849);e.parser=o.default;var h={};function c(t,e){return"Program"===t.type?t:(o.default.yy=h,h.locInfo=function(t){return new h.SourceLocation(e&&e.srcName,t)},o.default.parse(t))}a.extend(h,s)},97:(t,e,i)=>{"use strict";e.__esModule=!0;var n=i(849);e.default=function(t){t.registerHelper("blockHelperMissing",function(e,i){var o=i.inverse,r=i.fn;if(!0===e)return r(this);if(!1===e||null==e)return o(this);if(n.isArray(e))return e.length>0?(i.ids&&(i.ids=[i.name]),t.helpers.each(e,i)):o(this);if(i.data&&i.ids){var s=n.createFrame(i.data);s.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:s}}return r(e,i)})},t.exports=e.default},107:function(t,e,i){!function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r={exports:{}},s=function(t){return t&&t.Math===Math&&t},a=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof n&&n)||function(){return this}()||n||Function("return this")(),h=function(t){try{return!!t()}catch(t){return!0}},c=!h(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),l=c,u=Function.prototype,d=u.apply,p=u.call,f="object"==typeof Reflect&&Reflect.apply||(l?p.bind(d):function(){return p.apply(d,arguments)}),g=c,v=Function.prototype,y=v.call,m=g&&v.bind.bind(y,y),b=g?m:function(t){return function(){return y.apply(t,arguments)}},w=b,_=w({}.toString),x=w("".slice),E=function(t){return x(_(t),8,-1)},k=E,O=b,S=function(t){if("Function"===k(t))return O(t)},C="object"==typeof document&&document.all,P=void 0===C&&void 0!==C,T={all:C,IS_HTMLDDA:P},I=T,D=I.all,M=I.IS_HTMLDDA?function(t){return"function"==typeof t||t===D}:function(t){return"function"==typeof t},A={},N=!h(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),B=c,j=Function.prototype.call,F=B?j.bind(j):function(){return j.apply(j,arguments)},z={},L={}.propertyIsEnumerable,R=Object.getOwnPropertyDescriptor,H=R&&!L.call({1:2},1);z.f=H?function(t){var e=R(this,t);return!!e&&e.enumerable}:L;var W,U,V=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},q=h,$=E,Y=Object,X=b("".split),K=q(function(){return!Y("z").propertyIsEnumerable(0)})?function(t){return"String"===$(t)?X(t,""):Y(t)}:Y,G=function(t){return null==t},Z=G,J=TypeError,Q=function(t){if(Z(t))throw new J("Can't call method on "+t);return t},tt=K,et=Q,it=function(t){return tt(et(t))},nt=M,ot=T,rt=ot.all,st=ot.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:nt(t)||t===rt}:function(t){return"object"==typeof t?null!==t:nt(t)},at={},ht=at,ct=a,lt=M,ut=function(t){return lt(t)?t:void 0},dt=function(t,e){return arguments.length<2?ut(ht[t])||ut(ct[t]):ht[t]&&ht[t][e]||ct[t]&&ct[t][e]},pt=b({}.isPrototypeOf),ft="undefined"!=typeof navigator&&String(navigator.userAgent)||"",gt=a,vt=ft,yt=gt.process,mt=gt.Deno,bt=yt&&yt.versions||mt&&mt.version,wt=bt&&bt.v8;wt&&(U=(W=wt.split("."))[0]>0&&W[0]<4?1:+(W[0]+W[1])),!U&&vt&&(!(W=vt.match(/Edge\/(\d+)/))||W[1]>=74)&&(W=vt.match(/Chrome\/(\d+)/))&&(U=+W[1]);var _t=U,xt=_t,Et=h,kt=a.String,Ot=!!Object.getOwnPropertySymbols&&!Et(function(){var t=Symbol("symbol detection");return!kt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&xt&&xt<41}),St=Ot&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ct=dt,Pt=M,Tt=pt,It=Object,Dt=St?function(t){return"symbol"==typeof t}:function(t){var e=Ct("Symbol");return Pt(e)&&Tt(e.prototype,It(t))},Mt=String,At=function(t){try{return Mt(t)}catch(t){return"Object"}},Nt=M,Bt=At,jt=TypeError,Ft=function(t){if(Nt(t))return t;throw new jt(Bt(t)+" is not a function")},zt=Ft,Lt=G,Rt=function(t,e){var i=t[e];return Lt(i)?void 0:zt(i)},Ht=F,Wt=M,Ut=st,Vt=TypeError,qt=function(t,e){var i,n;if("string"===e&&Wt(i=t.toString)&&!Ut(n=Ht(i,t)))return n;if(Wt(i=t.valueOf)&&!Ut(n=Ht(i,t)))return n;if("string"!==e&&Wt(i=t.toString)&&!Ut(n=Ht(i,t)))return n;throw new Vt("Can't convert object to primitive value")},$t={exports:{}},Yt=!0,Xt=a,Kt=Object.defineProperty,Gt=function(t,e){try{Kt(Xt,t,{value:e,configurable:!0,writable:!0})}catch(i){Xt[t]=e}return e},Zt="__core-js_shared__",Jt=a[Zt]||Gt(Zt,{}),Qt=Jt;($t.exports=function(t,e){return Qt[t]||(Qt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var te=$t.exports,ee=Q,ie=Object,ne=function(t){return ie(ee(t))},oe=ne,re=b({}.hasOwnProperty),se=Object.hasOwn||function(t,e){return re(oe(t),e)},ae=b,he=0,ce=Math.random(),le=ae(1..toString),ue=function(t){return"Symbol("+(void 0===t?"":t)+")_"+le(++he+ce,36)},de=te,pe=se,fe=ue,ge=Ot,ve=St,ye=a.Symbol,me=de("wks"),be=ve?ye.for||ye:ye&&ye.withoutSetter||fe,we=function(t){return pe(me,t)||(me[t]=ge&&pe(ye,t)?ye[t]:be("Symbol."+t)),me[t]},_e=F,xe=st,Ee=Dt,ke=Rt,Oe=qt,Se=TypeError,Ce=we("toPrimitive"),Pe=function(t,e){if(!xe(t)||Ee(t))return t;var i,n=ke(t,Ce);if(n){if(void 0===e&&(e="default"),i=_e(n,t,e),!xe(i)||Ee(i))return i;throw new Se("Can't convert object to primitive value")}return void 0===e&&(e="number"),Oe(t,e)},Te=Dt,Ie=function(t){var e=Pe(t,"string");return Te(e)?e:e+""},De=st,Me=a.document,Ae=De(Me)&&De(Me.createElement),Ne=function(t){return Ae?Me.createElement(t):{}},Be=h,je=Ne,Fe=!N&&!Be(function(){return 7!==Object.defineProperty(je("div"),"a",{get:function(){return 7}}).a}),ze=N,Le=F,Re=z,He=V,We=it,Ue=Ie,Ve=se,qe=Fe,$e=Object.getOwnPropertyDescriptor;A.f=ze?$e:function(t,e){if(t=We(t),e=Ue(e),qe)try{return $e(t,e)}catch(t){}if(Ve(t,e))return He(!Le(Re.f,t,e),t[e])};var Ye=h,Xe=M,Ke=/#|\.prototype\./,Ge=function(t,e){var i=Je[Ze(t)];return i===ti||i!==Qe&&(Xe(e)?Ye(e):!!e)},Ze=Ge.normalize=function(t){return String(t).replace(Ke,".").toLowerCase()},Je=Ge.data={},Qe=Ge.NATIVE="N",ti=Ge.POLYFILL="P",ei=Ge,ii=Ft,ni=c,oi=S(S.bind),ri=function(t,e){return ii(t),void 0===e?t:ni?oi(t,e):function(){return t.apply(e,arguments)}},si={},ai=h,hi=N&&ai(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),ci=st,li=String,ui=TypeError,di=function(t){if(ci(t))return t;throw new ui(li(t)+" is not an object")},pi=N,fi=Fe,gi=hi,vi=di,yi=Ie,mi=TypeError,bi=Object.defineProperty,wi=Object.getOwnPropertyDescriptor,_i="enumerable",xi="configurable",Ei="writable";si.f=pi?gi?function(t,e,i){if(vi(t),e=yi(e),vi(i),"function"==typeof t&&"prototype"===e&&"value"in i&&Ei in i&&!i[Ei]){var n=wi(t,e);n&&n[Ei]&&(t[e]=i.value,i={configurable:xi in i?i[xi]:n[xi],enumerable:_i in i?i[_i]:n[_i],writable:!1})}return bi(t,e,i)}:bi:function(t,e,i){if(vi(t),e=yi(e),vi(i),fi)try{return bi(t,e,i)}catch(t){}if("get"in i||"set"in i)throw new mi("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var ki=si,Oi=V,Si=N?function(t,e,i){return ki.f(t,e,Oi(1,i))}:function(t,e,i){return t[e]=i,t},Ci=a,Pi=f,Ti=S,Ii=M,Di=A.f,Mi=ei,Ai=at,Ni=ri,Bi=Si,ji=se,Fi=function(t){var e=function(i,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(i);case 2:return new t(i,n)}return new t(i,n,o)}return Pi(t,this,arguments)};return e.prototype=t.prototype,e},zi=function(t,e){var i,n,o,r,s,a,h,c,l,u=t.target,d=t.global,p=t.stat,f=t.proto,g=d?Ci:p?Ci[u]:(Ci[u]||{}).prototype,v=d?Ai:Ai[u]||Bi(Ai,u,{})[u],y=v.prototype;for(r in e)n=!(i=Mi(d?r:u+(p?".":"#")+r,t.forced))&&g&&ji(g,r),a=v[r],n&&(h=t.dontCallGetSet?(l=Di(g,r))&&l.value:g[r]),s=n&&h?h:e[r],n&&typeof a==typeof s||(c=t.bind&&n?Ni(s,Ci):t.wrap&&n?Fi(s):f&&Ii(s)?Ti(s):s,(t.sham||s&&s.sham||a&&a.sham)&&Bi(c,"sham",!0),Bi(v,r,c),f&&(ji(Ai,o=u+"Prototype")||Bi(Ai,o,{}),Bi(Ai[o],r,s),t.real&&y&&(i||!y[r])&&Bi(y,r,s)))},Li=zi,Ri=N,Hi=si.f;Li({target:"Object",stat:!0,forced:Object.defineProperty!==Hi,sham:!Ri},{defineProperty:Hi});var Wi=at.Object,Ui=r.exports=function(t,e,i){return Wi.defineProperty(t,e,i)};Wi.defineProperty.sham&&(Ui.sham=!0);var Vi=r.exports,qi=Vi,$i=o(qi),Yi=E,Xi=Array.isArray||function(t){return"Array"===Yi(t)},Ki=Math.ceil,Gi=Math.floor,Zi=Math.trunc||function(t){var e=+t;return(e>0?Gi:Ki)(e)},Ji=function(t){var e=+t;return e!=e||0===e?0:Zi(e)},Qi=Ji,tn=Math.min,en=function(t){return t>0?tn(Qi(t),9007199254740991):0},nn=function(t){return en(t.length)},on=TypeError,rn=9007199254740991,sn=function(t){if(t>rn)throw on("Maximum allowed index exceeded");return t},an=Ie,hn=si,cn=V,ln=function(t,e,i){var n=an(e);n in t?hn.f(t,n,cn(0,i)):t[n]=i},un=we("toStringTag"),dn={};dn[un]="z";var pn="[object z]"===String(dn),fn=pn,gn=M,vn=E,yn=we("toStringTag"),mn=Object,bn="Arguments"===vn(function(){return arguments}()),wn=function(t,e){try{return t[e]}catch(t){}},_n=fn?vn:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=wn(e=mn(t),yn))?i:bn?vn(e):"Object"===(n=vn(e))&&gn(e.callee)?"Arguments":n},xn=M,En=Jt,kn=b(Function.toString);xn(En.inspectSource)||(En.inspectSource=function(t){return kn(t)});var On=En.inspectSource,Sn=b,Cn=h,Pn=M,Tn=_n,In=On,Dn=function(){},Mn=[],An=dt("Reflect","construct"),Nn=/^\s*(?:class|function)\b/,Bn=Sn(Nn.exec),jn=!Nn.test(Dn),Fn=function(t){if(!Pn(t))return!1;try{return An(Dn,Mn,t),!0}catch(t){return!1}},zn=function(t){if(!Pn(t))return!1;switch(Tn(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return jn||!!Bn(Nn,In(t))}catch(t){return!0}};zn.sham=!0;var Ln=!An||Cn(function(){var t;return Fn(Fn.call)||!Fn(Object)||!Fn(function(){t=!0})||t})?zn:Fn,Rn=Xi,Hn=Ln,Wn=st,Un=we("species"),Vn=Array,qn=function(t){var e;return Rn(t)&&(e=t.constructor,(Hn(e)&&(e===Vn||Rn(e.prototype))||Wn(e)&&null===(e=e[Un]))&&(e=void 0)),void 0===e?Vn:e},$n=function(t,e){return new(qn(t))(0===e?0:e)},Yn=h,Xn=_t,Kn=we("species"),Gn=function(t){return Xn>=51||!Yn(function(){var e=[];return(e.constructor={})[Kn]=function(){return{foo:1}},1!==e[t](Boolean).foo})},Zn=zi,Jn=h,Qn=Xi,to=st,eo=ne,io=nn,no=sn,oo=ln,ro=$n,so=Gn,ao=_t,ho=we("isConcatSpreadable"),co=ao>=51||!Jn(function(){var t=[];return t[ho]=!1,t.concat()[0]!==t}),lo=function(t){if(!to(t))return!1;var e=t[ho];return void 0!==e?!!e:Qn(t)},uo=!co||!so("concat");Zn({target:"Array",proto:!0,arity:1,forced:uo},{concat:function(t){var e,i,n,o,r,s=eo(this),a=ro(s,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(lo(r=-1===e?s:arguments[e]))for(o=io(r),no(h+o),i=0;i<o;i++,h++)i in r&&oo(a,h,r[i]);else no(h+1),oo(a,h++,r);return a.length=h,a}});var po=_n,fo=String,go=function(t){if("Symbol"===po(t))throw new TypeError("Cannot convert a Symbol value to a string");return fo(t)},vo={},yo=Ji,mo=Math.max,bo=Math.min,wo=function(t,e){var i=yo(t);return i<0?mo(i+e,0):bo(i,e)},_o=it,xo=wo,Eo=nn,ko=function(t){return function(e,i,n){var o,r=_o(e),s=Eo(r),a=xo(n,s);if(t&&i!=i){for(;s>a;)if((o=r[a++])!=o)return!0}else for(;s>a;a++)if((t||a in r)&&r[a]===i)return t||a||0;return!t&&-1}},Oo={includes:ko(!0),indexOf:ko(!1)},So={},Co=b,Po=se,To=it,Io=Oo.indexOf,Do=So,Mo=Co([].push),Ao=function(t,e){var i,n=To(t),o=0,r=[];for(i in n)!Po(Do,i)&&Po(n,i)&&Mo(r,i);for(;e.length>o;)Po(n,i=e[o++])&&(~Io(r,i)||Mo(r,i));return r},No=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Bo=Ao,jo=No,Fo=Object.keys||function(t){return Bo(t,jo)},zo=N,Lo=hi,Ro=si,Ho=di,Wo=it,Uo=Fo;vo.f=zo&&!Lo?Object.defineProperties:function(t,e){Ho(t);for(var i,n=Wo(e),o=Uo(e),r=o.length,s=0;r>s;)Ro.f(t,i=o[s++],n[i]);return t};var Vo,qo=dt("document","documentElement"),$o=ue,Yo=te("keys"),Xo=function(t){return Yo[t]||(Yo[t]=$o(t))},Ko=di,Go=vo,Zo=No,Jo=So,Qo=qo,tr=Ne,er=">",ir="<",nr="prototype",or="script",rr=Xo("IE_PROTO"),sr=function(){},ar=function(t){return ir+or+er+t+ir+"/"+or+er},hr=function(t){t.write(ar("")),t.close();var e=t.parentWindow.Object;return t=null,e},cr=function(){var t,e=tr("iframe"),i="java"+or+":";return e.style.display="none",Qo.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(ar("document.F=Object")),t.close(),t.F},lr=function(){try{Vo=new ActiveXObject("htmlfile")}catch(t){}lr="undefined"!=typeof document?document.domain&&Vo?hr(Vo):cr():hr(Vo);for(var t=Zo.length;t--;)delete lr[nr][Zo[t]];return lr()};Jo[rr]=!0;var ur=Object.create||function(t,e){var i;return null!==t?(sr[nr]=Ko(t),i=new sr,sr[nr]=null,i[rr]=t):i=lr(),void 0===e?i:Go.f(i,e)},dr={},pr=Ao,fr=No.concat("length","prototype");dr.f=Object.getOwnPropertyNames||function(t){return pr(t,fr)};var gr={},vr=wo,yr=nn,mr=ln,br=Array,wr=Math.max,_r=function(t,e,i){for(var n=yr(t),o=vr(e,n),r=vr(void 0===i?n:i,n),s=br(wr(r-o,0)),a=0;o<r;o++,a++)mr(s,a,t[o]);return s.length=a,s},xr=E,Er=it,kr=dr.f,Or=_r,Sr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Cr=function(t){try{return kr(t)}catch(t){return Or(Sr)}};gr.f=function(t){return Sr&&"Window"===xr(t)?Cr(t):kr(Er(t))};var Pr={};Pr.f=Object.getOwnPropertySymbols;var Tr=Si,Ir=function(t,e,i,n){return n&&n.enumerable?t[e]=i:Tr(t,e,i),t},Dr=si,Mr=function(t,e,i){return Dr.f(t,e,i)},Ar={},Nr=we;Ar.f=Nr;var Br,jr,Fr,zr=at,Lr=se,Rr=Ar,Hr=si.f,Wr=function(t){var e=zr.Symbol||(zr.Symbol={});Lr(e,t)||Hr(e,t,{value:Rr.f(t)})},Ur=F,Vr=dt,qr=we,$r=Ir,Yr=function(){var t=Vr("Symbol"),e=t&&t.prototype,i=e&&e.valueOf,n=qr("toPrimitive");e&&!e[n]&&$r(e,n,function(t){return Ur(i,this)},{arity:1})},Xr=_n,Kr=pn?{}.toString:function(){return"[object "+Xr(this)+"]"},Gr=pn,Zr=si.f,Jr=Si,Qr=se,ts=Kr,es=we("toStringTag"),is=function(t,e,i,n){if(t){var o=i?t:t.prototype;Qr(o,es)||Zr(o,es,{configurable:!0,value:e}),n&&!Gr&&Jr(o,"toString",ts)}},ns=M,os=a.WeakMap,rs=ns(os)&&/native code/.test(String(os)),ss=a,as=st,hs=Si,cs=se,ls=Jt,us=Xo,ds=So,ps="Object already initialized",fs=ss.TypeError,gs=ss.WeakMap,vs=function(t){return Fr(t)?jr(t):Br(t,{})},ys=function(t){return function(e){var i;if(!as(e)||(i=jr(e)).type!==t)throw new fs("Incompatible receiver, "+t+" required");return i}};if(rs||ls.state){var ms=ls.state||(ls.state=new gs);ms.get=ms.get,ms.has=ms.has,ms.set=ms.set,Br=function(t,e){if(ms.has(t))throw new fs(ps);return e.facade=t,ms.set(t,e),e},jr=function(t){return ms.get(t)||{}},Fr=function(t){return ms.has(t)}}else{var bs=us("state");ds[bs]=!0,Br=function(t,e){if(cs(t,bs))throw new fs(ps);return e.facade=t,hs(t,bs,e),e},jr=function(t){return cs(t,bs)?t[bs]:{}},Fr=function(t){return cs(t,bs)}}var ws={set:Br,get:jr,has:Fr,enforce:vs,getterFor:ys},_s=ri,xs=K,Es=ne,ks=nn,Os=$n,Ss=b([].push),Cs=function(t){var e=1===t,i=2===t,n=3===t,o=4===t,r=6===t,s=7===t,a=5===t||r;return function(h,c,l,u){for(var d,p,f=Es(h),g=xs(f),v=_s(c,l),y=ks(g),m=0,b=u||Os,w=e?b(h,y):i||s?b(h,0):void 0;y>m;m++)if((a||m in g)&&(p=v(d=g[m],m,f),t))if(e)w[m]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:Ss(w,d)}else switch(t){case 4:return!1;case 7:Ss(w,d)}return r?-1:n||o?o:w}},Ps={forEach:Cs(0),map:Cs(1),filter:Cs(2),some:Cs(3),every:Cs(4),find:Cs(5),findIndex:Cs(6),filterReject:Cs(7)},Ts=zi,Is=a,Ds=F,Ms=b,As=N,Ns=Ot,Bs=h,js=se,Fs=pt,zs=di,Ls=it,Rs=Ie,Hs=go,Ws=V,Us=ur,Vs=Fo,qs=dr,$s=gr,Ys=Pr,Xs=A,Ks=si,Gs=vo,Zs=z,Js=Ir,Qs=Mr,ta=te,ea=Xo,ia=So,na=ue,oa=we,ra=Ar,sa=Wr,aa=Yr,ha=is,ca=ws,la=Ps.forEach,ua=ea("hidden"),da="Symbol",pa="prototype",fa=ca.set,ga=ca.getterFor(da),va=Object[pa],ya=Is.Symbol,ma=ya&&ya[pa],ba=Is.RangeError,wa=Is.TypeError,_a=Is.QObject,xa=Xs.f,Ea=Ks.f,ka=$s.f,Oa=Zs.f,Sa=Ms([].push),Ca=ta("symbols"),Pa=ta("op-symbols"),Ta=ta("wks"),Ia=!_a||!_a[pa]||!_a[pa].findChild,Da=function(t,e,i){var n=xa(va,e);n&&delete va[e],Ea(t,e,i),n&&t!==va&&Ea(va,e,n)},Ma=As&&Bs(function(){return 7!==Us(Ea({},"a",{get:function(){return Ea(this,"a",{value:7}).a}})).a})?Da:Ea,Aa=function(t,e){var i=Ca[t]=Us(ma);return fa(i,{type:da,tag:t,description:e}),As||(i.description=e),i},Na=function(t,e,i){t===va&&Na(Pa,e,i),zs(t);var n=Rs(e);return zs(i),js(Ca,n)?(i.enumerable?(js(t,ua)&&t[ua][n]&&(t[ua][n]=!1),i=Us(i,{enumerable:Ws(0,!1)})):(js(t,ua)||Ea(t,ua,Ws(1,{})),t[ua][n]=!0),Ma(t,n,i)):Ea(t,n,i)},Ba=function(t,e){zs(t);var i=Ls(e),n=Vs(i).concat(Ra(i));return la(n,function(e){As&&!Ds(Fa,i,e)||Na(t,e,i[e])}),t},ja=function(t,e){return void 0===e?Us(t):Ba(Us(t),e)},Fa=function(t){var e=Rs(t),i=Ds(Oa,this,e);return!(this===va&&js(Ca,e)&&!js(Pa,e))&&(!(i||!js(this,e)||!js(Ca,e)||js(this,ua)&&this[ua][e])||i)},za=function(t,e){var i=Ls(t),n=Rs(e);if(i!==va||!js(Ca,n)||js(Pa,n)){var o=xa(i,n);return!o||!js(Ca,n)||js(i,ua)&&i[ua][n]||(o.enumerable=!0),o}},La=function(t){var e=ka(Ls(t)),i=[];return la(e,function(t){js(Ca,t)||js(ia,t)||Sa(i,t)}),i},Ra=function(t){var e=t===va,i=ka(e?Pa:Ls(t)),n=[];return la(i,function(t){!js(Ca,t)||e&&!js(va,t)||Sa(n,Ca[t])}),n};Ns||(ya=function(){if(Fs(ma,this))throw new wa("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Hs(arguments[0]):void 0,e=na(t),i=function(t){var n=void 0===this?Is:this;n===va&&Ds(i,Pa,t),js(n,ua)&&js(n[ua],e)&&(n[ua][e]=!1);var o=Ws(1,t);try{Ma(n,e,o)}catch(t){if(!(t instanceof ba))throw t;Da(n,e,o)}};return As&&Ia&&Ma(va,e,{configurable:!0,set:i}),Aa(e,t)},Js(ma=ya[pa],"toString",function(){return ga(this).tag}),Js(ya,"withoutSetter",function(t){return Aa(na(t),t)}),Zs.f=Fa,Ks.f=Na,Gs.f=Ba,Xs.f=za,qs.f=$s.f=La,Ys.f=Ra,ra.f=function(t){return Aa(oa(t),t)},As&&Qs(ma,"description",{configurable:!0,get:function(){return ga(this).description}})),Ts({global:!0,constructor:!0,wrap:!0,forced:!Ns,sham:!Ns},{Symbol:ya}),la(Vs(Ta),function(t){sa(t)}),Ts({target:da,stat:!0,forced:!Ns},{useSetter:function(){Ia=!0},useSimple:function(){Ia=!1}}),Ts({target:"Object",stat:!0,forced:!Ns,sham:!As},{create:ja,defineProperty:Na,defineProperties:Ba,getOwnPropertyDescriptor:za}),Ts({target:"Object",stat:!0,forced:!Ns},{getOwnPropertyNames:La}),aa(),ha(ya,da),ia[ua]=!0;var Ha=Ot&&!!Symbol.for&&!!Symbol.keyFor,Wa=zi,Ua=dt,Va=se,qa=go,$a=te,Ya=Ha,Xa=$a("string-to-symbol-registry"),Ka=$a("symbol-to-string-registry");Wa({target:"Symbol",stat:!0,forced:!Ya},{for:function(t){var e=qa(t);if(Va(Xa,e))return Xa[e];var i=Ua("Symbol")(e);return Xa[e]=i,Ka[i]=e,i}});var Ga=zi,Za=se,Ja=Dt,Qa=At,th=Ha,eh=te("symbol-to-string-registry");Ga({target:"Symbol",stat:!0,forced:!th},{keyFor:function(t){if(!Ja(t))throw new TypeError(Qa(t)+" is not a symbol");if(Za(eh,t))return eh[t]}});var ih=b([].slice),nh=Xi,oh=M,rh=E,sh=go,ah=b([].push),hh=zi,ch=dt,lh=f,uh=F,dh=b,ph=h,fh=M,gh=Dt,vh=ih,yh=function(t){if(oh(t))return t;if(nh(t)){for(var e=t.length,i=[],n=0;n<e;n++){var o=t[n];"string"==typeof o?ah(i,o):"number"!=typeof o&&"Number"!==rh(o)&&"String"!==rh(o)||ah(i,sh(o))}var r=i.length,s=!0;return function(t,e){if(s)return s=!1,e;if(nh(this))return e;for(var n=0;n<r;n++)if(i[n]===t)return e}}},mh=Ot,bh=String,wh=ch("JSON","stringify"),_h=dh(/./.exec),xh=dh("".charAt),Eh=dh("".charCodeAt),kh=dh("".replace),Oh=dh(1..toString),Sh=/[\uD800-\uDFFF]/g,Ch=/^[\uD800-\uDBFF]$/,Ph=/^[\uDC00-\uDFFF]$/,Th=!mh||ph(function(){var t=ch("Symbol")("stringify detection");return"[null]"!==wh([t])||"{}"!==wh({a:t})||"{}"!==wh(Object(t))}),Ih=ph(function(){return'"\\udf06\\ud834"'!==wh("\udf06\ud834")||'"\\udead"'!==wh("\udead")}),Dh=function(t,e){var i=vh(arguments),n=yh(e);if(fh(n)||void 0!==t&&!gh(t))return i[1]=function(t,e){if(fh(n)&&(e=uh(n,this,bh(t),e)),!gh(e))return e},lh(wh,null,i)},Mh=function(t,e,i){var n=xh(i,e-1),o=xh(i,e+1);return _h(Ch,t)&&!_h(Ph,o)||_h(Ph,t)&&!_h(Ch,n)?"\\u"+Oh(Eh(t,0),16):t};wh&&hh({target:"JSON",stat:!0,arity:3,forced:Th||Ih},{stringify:function(t,e,i){var n=vh(arguments),o=lh(Th?Dh:wh,null,n);return Ih&&"string"==typeof o?kh(o,Sh,Mh):o}});var Ah=zi,Nh=h,Bh=Pr,jh=ne,Fh=!Ot||Nh(function(){Bh.f(1)});Ah({target:"Object",stat:!0,forced:Fh},{getOwnPropertySymbols:function(t){var e=Bh.f;return e?e(jh(t)):[]}}),Wr("asyncIterator"),Wr("hasInstance"),Wr("isConcatSpreadable"),Wr("iterator"),Wr("match"),Wr("matchAll"),Wr("replace"),Wr("search"),Wr("species"),Wr("split");var zh=Yr;Wr("toPrimitive"),zh();var Lh=dt,Rh=is;Wr("toStringTag"),Rh(Lh("Symbol"),"Symbol"),Wr("unscopables"),is(a.JSON,"JSON",!0);var Hh,Wh,Uh,Vh=at.Symbol,qh={},$h=N,Yh=se,Xh=Function.prototype,Kh=$h&&Object.getOwnPropertyDescriptor,Gh=Yh(Xh,"name"),Zh=Gh&&"something"===function(){}.name,Jh=Gh&&(!$h||$h&&Kh(Xh,"name").configurable),Qh={EXISTS:Gh,PROPER:Zh,CONFIGURABLE:Jh},tc=!h(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),ec=se,ic=M,nc=ne,oc=tc,rc=Xo("IE_PROTO"),sc=Object,ac=sc.prototype,hc=oc?sc.getPrototypeOf:function(t){var e=nc(t);if(ec(e,rc))return e[rc];var i=e.constructor;return ic(i)&&e instanceof i?i.prototype:e instanceof sc?ac:null},cc=h,lc=M,uc=st,dc=ur,pc=hc,fc=Ir,gc=we("iterator"),vc=!1;[].keys&&("next"in(Uh=[].keys())?(Wh=pc(pc(Uh)))!==Object.prototype&&(Hh=Wh):vc=!0),Hh=!uc(Hh)||cc(function(){var t={};return Hh[gc].call(t)!==t})?{}:dc(Hh),lc(Hh[gc])||fc(Hh,gc,function(){return this});var yc={IteratorPrototype:Hh,BUGGY_SAFARI_ITERATORS:vc},mc=yc.IteratorPrototype,bc=ur,wc=V,_c=is,xc=qh,Ec=function(){return this},kc=function(t,e,i,n){var o=e+" Iterator";return t.prototype=bc(mc,{next:wc(+!n,i)}),_c(t,o,!1,!0),xc[o]=Ec,t},Oc=b,Sc=Ft,Cc=M,Pc=String,Tc=TypeError,Ic=function(t,e,i){try{return Oc(Sc(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(t){}},Dc=di,Mc=function(t){if("object"==typeof t||Cc(t))return t;throw new Tc("Can't set "+Pc(t)+" as a prototype")},Ac=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Ic(Object.prototype,"__proto__","set"))(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return Dc(i),Mc(n),e?t(i,n):i.__proto__=n,i}}():void 0),Nc=zi,Bc=F,jc=Qh,Fc=kc,zc=hc,Lc=is,Rc=Ir,Hc=we,Wc=qh,Uc=yc,Vc=jc.PROPER;jc.CONFIGURABLE,Uc.IteratorPrototype;var qc=Uc.BUGGY_SAFARI_ITERATORS,$c=Hc("iterator"),Yc="keys",Xc="values",Kc="entries",Gc=function(){return this},Zc=function(t,e,i,n,o,r,s){Fc(i,e,n);var a,h,c,l=function(t){if(t===o&&g)return g;if(!qc&&t&&t in p)return p[t];switch(t){case Yc:case Xc:case Kc:return function(){return new i(this,t)}}return function(){return new i(this)}},u=e+" Iterator",d=!1,p=t.prototype,f=p[$c]||p["@@iterator"]||o&&p[o],g=!qc&&f||l(o),v="Array"===e&&p.entries||f;if(v&&(a=zc(v.call(new t)))!==Object.prototype&&a.next&&(Lc(a,u,!0,!0),Wc[u]=Gc),Vc&&o===Xc&&f&&f.name!==Xc&&(d=!0,g=function(){return Bc(f,this)}),o)if(h={values:l(Xc),keys:r?g:l(Yc),entries:l(Kc)},s)for(c in h)(qc||d||!(c in p))&&Rc(p,c,h[c]);else Nc({target:e,proto:!0,forced:qc||d},h);return s&&p[$c]!==g&&Rc(p,$c,g,{name:o}),Wc[e]=g,h},Jc=function(t,e){return{value:t,done:e}},Qc=it,tl=qh,el=ws;si.f;var il=Zc,nl=Jc,ol="Array Iterator",rl=el.set,sl=el.getterFor(ol);il(Array,"Array",function(t,e){rl(this,{type:ol,target:Qc(t),index:0,kind:e})},function(){var t=sl(this),e=t.target,i=t.index++;if(!e||i>=e.length)return t.target=void 0,nl(void 0,!0);switch(t.kind){case"keys":return nl(i,!1);case"values":return nl(e[i],!1)}return nl([i,e[i]],!1)},"values"),tl.Arguments=tl.Array;var al={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},hl=a,cl=_n,ll=Si,ul=qh,dl=we("toStringTag");for(var pl in al){var fl=hl[pl],gl=fl&&fl.prototype;gl&&cl(gl)!==dl&&ll(gl,dl,pl),ul[pl]=ul.Array}var vl=Vh,yl=we,ml=si.f,bl=yl("metadata"),wl=Function.prototype;void 0===wl[bl]&&ml(wl,bl,{value:null}),Wr("asyncDispose"),Wr("dispose"),Wr("metadata");var _l=vl,xl=b,El=dt("Symbol"),kl=El.keyFor,Ol=xl(El.prototype.valueOf),Sl=El.isRegisteredSymbol||function(t){try{return void 0!==kl(Ol(t))}catch(t){return!1}};zi({target:"Symbol",stat:!0},{isRegisteredSymbol:Sl});for(var Cl=te,Pl=dt,Tl=b,Il=Dt,Dl=we,Ml=Pl("Symbol"),Al=Ml.isWellKnownSymbol,Nl=Pl("Object","getOwnPropertyNames"),Bl=Tl(Ml.prototype.valueOf),jl=Cl("wks"),Fl=0,zl=Nl(Ml),Ll=zl.length;Fl<Ll;Fl++)try{var Rl=zl[Fl];Il(Ml[Rl])&&Dl(Rl)}catch(t){}var Hl=function(t){if(Al&&Al(t))return!0;try{for(var e=Bl(t),i=0,n=Nl(jl),o=n.length;i<o;i++)if(jl[n[i]]==e)return!0}catch(t){}return!1};zi({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Hl}),Wr("matcher"),Wr("observable"),zi({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Sl}),zi({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Hl}),Wr("metadataKey"),Wr("patternMatch"),Wr("replaceAll");var Wl=_l,Ul=o(Wl),Vl=b,ql=Ji,$l=go,Yl=Q,Xl=Vl("".charAt),Kl=Vl("".charCodeAt),Gl=Vl("".slice),Zl=function(t){return function(e,i){var n,o,r=$l(Yl(e)),s=ql(i),a=r.length;return s<0||s>=a?t?"":void 0:(n=Kl(r,s))<55296||n>56319||s+1===a||(o=Kl(r,s+1))<56320||o>57343?t?Xl(r,s):n:t?Gl(r,s,s+2):o-56320+(n-55296<<10)+65536}},Jl=(Zl(!1),Zl(!0)),Ql=go,tu=ws,eu=Zc,iu=Jc,nu="String Iterator",ou=tu.set,ru=tu.getterFor(nu);eu(String,"String",function(t){ou(this,{type:nu,string:Ql(t),index:0})},function(){var t,e=ru(this),i=e.string,n=e.index;return n>=i.length?iu(void 0,!0):(t=Jl(i,n),e.index+=t.length,iu(t,!1))});var su=Ar.f("iterator"),au=su,hu=o(au);function cu(t){return cu="function"==typeof Ul&&"symbol"==typeof hu?function(t){return typeof t}:function(t){return t&&"function"==typeof Ul&&t.constructor===Ul&&t!==Ul.prototype?"symbol":typeof t},cu(t)}var lu=o(Ar.f("toPrimitive"));function uu(t,e){if("object"!==cu(t)||null===t)return t;var i=t[lu];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==cu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function du(t){var e=uu(t,"string");return"symbol"===cu(e)?e:String(e)}function pu(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),$i(t,du(n.key),n)}}function fu(t,e,i){return e&&pu(t.prototype,e),i&&pu(t,i),$i(t,"prototype",{writable:!1}),t}function gu(t,e,i){return(e=du(e))in t?$i(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var vu=b,yu=Ft,mu=st,bu=se,wu=ih,_u=c,xu=Function,Eu=vu([].concat),ku=vu([].join),Ou={},Su=function(t,e,i){if(!bu(Ou,e)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";Ou[e]=xu("C,a","return new C("+ku(n,",")+")")}return Ou[e](t,i)},Cu=_u?xu.bind:function(t){var e=yu(this),i=e.prototype,n=wu(arguments,1),o=function(){var i=Eu(n,wu(arguments));return this instanceof o?Su(e,i.length,i):e.apply(t,i)};return mu(i)&&(o.prototype=i),o},Pu=Cu;zi({target:"Function",proto:!0,forced:Function.bind!==Pu},{bind:Pu});var Tu=a,Iu=at,Du=function(t,e){var i=Iu[t+"Prototype"],n=i&&i[e];if(n)return n;var o=Tu[t],r=o&&o.prototype;return r&&r[e]},Mu=Du("Function","bind"),Au=pt,Nu=Mu,Bu=Function.prototype,ju=function(t){var e=t.bind;return t===Bu||Au(Bu,t)&&e===Bu.bind?Nu:e},Fu=o(ju),zu=Ft,Lu=ne,Ru=K,Hu=nn,Wu=TypeError,Uu=function(t){return function(e,i,n,o){zu(i);var r=Lu(e),s=Ru(r),a=Hu(r),h=t?a-1:0,c=t?-1:1;if(n<2)for(;;){if(h in s){o=s[h],h+=c;break}if(h+=c,t?h<0:a<=h)throw new Wu("Reduce of empty array with no initial value")}for(;t?h>=0:a>h;h+=c)h in s&&(o=i(o,s[h],h,r));return o}},Vu={left:Uu(!1),right:Uu(!0)},qu=h,$u=function(t,e){var i=[][t];return!!i&&qu(function(){i.call(null,e||function(){return 1},1)})},Yu="process"===E(a.process),Xu=zi,Ku=Vu.left,Gu=$u,Zu=_t,Ju=!Yu&&Zu>79&&Zu<83||!Gu("reduce");Xu({target:"Array",proto:!0,forced:Ju},{reduce:function(t){var e=arguments.length;return Ku(this,t,e,e>1?arguments[1]:void 0)}});var Qu=Du("Array","reduce"),td=pt,ed=Qu,id=Array.prototype,nd=o(function(t){var e=t.reduce;return t===id||td(id,t)&&e===id.reduce?ed:e}),od=zi,rd=Ps.filter,sd=Gn("filter");od({target:"Array",proto:!0,forced:!sd},{filter:function(t){return rd(this,t,arguments.length>1?arguments[1]:void 0)}});var ad=Du("Array","filter"),hd=pt,cd=ad,ld=Array.prototype,ud=o(function(t){var e=t.filter;return t===ld||hd(ld,t)&&e===ld.filter?cd:e}),dd=zi,pd=Ps.map,fd=Gn("map");dd({target:"Array",proto:!0,forced:!fd},{map:function(t){return pd(this,t,arguments.length>1?arguments[1]:void 0)}});var gd=Du("Array","map"),vd=pt,yd=gd,md=Array.prototype,bd=o(function(t){var e=t.map;return t===md||vd(md,t)&&e===md.map?yd:e}),wd=Xi,_d=nn,xd=sn,Ed=ri,kd=function(t,e,i,n,o,r,s,a){for(var h,c,l=o,u=0,d=!!s&&Ed(s,a);u<n;)u in i&&(h=d?d(i[u],u,e):i[u],r>0&&wd(h)?(c=_d(h),l=kd(t,e,h,c,l,r-1)-1):(xd(l+1),t[l]=h),l++),u++;return l},Od=kd,Sd=Ft,Cd=ne,Pd=nn,Td=$n;zi({target:"Array",proto:!0},{flatMap:function(t){var e,i=Cd(this),n=Pd(i);return Sd(t),(e=Td(i,0)).length=Od(e,i,i,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var Id=Du("Array","flatMap"),Dd=pt,Md=Id,Ad=Array.prototype,Nd=o(function(t){var e=t.flatMap;return t===Ad||Dd(Ad,t)&&e===Ad.flatMap?Md:e});function Bd(t){return new Fd(t)}var jd=function(){function t(i,n,o){var r,s,a;e(this,t),gu(this,"_listeners",{add:Fu(r=this._add).call(r,this),remove:Fu(s=this._remove).call(s,this),update:Fu(a=this._update).call(a,this)}),this._source=i,this._transformers=n,this._target=o}return fu(t,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(t){var e;return nd(e=this._transformers).call(e,function(t,e){return e(t)},t)}},{key:"_add",value:function(t,e){null!=e&&this._target.add(this._transformItems(this._source.get(e.items)))}},{key:"_update",value:function(t,e){null!=e&&this._target.update(this._transformItems(this._source.get(e.items)))}},{key:"_remove",value:function(t,e){null!=e&&this._target.remove(this._transformItems(e.oldData))}}]),t}(),Fd=function(){function t(i){e(this,t),gu(this,"_transformers",[]),this._source=i}return fu(t,[{key:"filter",value:function(t){return this._transformers.push(function(e){return ud(e).call(e,t)}),this}},{key:"map",value:function(t){return this._transformers.push(function(e){return bd(e).call(e,t)}),this}},{key:"flatMap",value:function(t){return this._transformers.push(function(e){return Nd(e).call(e,t)}),this}},{key:"to",value:function(t){return new jd(this._source,this._transformers,t)}}]),t}(),zd=F,Ld=di,Rd=Rt,Hd=function(t,e,i){var n,o;Ld(t);try{if(!(n=Rd(t,"return"))){if("throw"===e)throw i;return i}n=zd(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw i;if(o)throw n;return Ld(n),i},Wd=di,Ud=Hd,Vd=function(t,e,i,n){try{return n?e(Wd(i)[0],i[1]):e(i)}catch(e){Ud(t,"throw",e)}},qd=qh,$d=we("iterator"),Yd=Array.prototype,Xd=function(t){return void 0!==t&&(qd.Array===t||Yd[$d]===t)},Kd=_n,Gd=Rt,Zd=G,Jd=qh,Qd=we("iterator"),tp=function(t){if(!Zd(t))return Gd(t,Qd)||Gd(t,"@@iterator")||Jd[Kd(t)]},ep=F,ip=Ft,np=di,op=At,rp=tp,sp=TypeError,ap=function(t,e){var i=arguments.length<2?rp(t):e;if(ip(i))return np(ep(i,t));throw new sp(op(t)+" is not iterable")},hp=ri,cp=F,lp=ne,up=Vd,dp=Xd,pp=Ln,fp=nn,gp=ln,vp=ap,yp=tp,mp=Array,bp=function(t){var e=lp(t),i=pp(this),n=arguments.length,o=n>1?arguments[1]:void 0,r=void 0!==o;r&&(o=hp(o,n>2?arguments[2]:void 0));var s,a,h,c,l,u,d=yp(e),p=0;if(!d||this===mp&&dp(d))for(s=fp(e),a=i?new this(s):mp(s);s>p;p++)u=r?o(e[p],p):e[p],gp(a,p,u);else for(l=(c=vp(e,d)).next,a=i?new this:[];!(h=cp(l,c)).done;p++)u=r?up(c,o,[h.value,p],!0):h.value,gp(a,p,u);return a.length=p,a},wp=we("iterator"),_p=!1;try{var xp=0,Ep={next:function(){return{done:!!xp++}},return:function(){_p=!0}};Ep[wp]=function(){return this},Array.from(Ep,function(){throw 2})}catch(t){}var kp=function(t,e){try{if(!e&&!_p)return!1}catch(t){return!1}var i=!1;try{var n={};n[wp]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(t){}return i},Op=zi,Sp=bp,Cp=!kp(function(t){Array.from(t)});Op({target:"Array",stat:!0,forced:Cp},{from:Sp});var Pp=at.Array.from,Tp=o(Pp),Ip=tp,Dp=o(Ip),Mp=o(Ip);zi({target:"Array",stat:!0},{isArray:Xi});var Ap=at.Array.isArray,Np=o(Ap);function Bp(t){if(Np(t))return t}var jp=N,Fp=Xi,zp=TypeError,Lp=Object.getOwnPropertyDescriptor,Rp=jp&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(Fp(t)&&!Lp(t,"length").writable)throw new zp("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Hp=zi,Wp=ne,Up=nn,Vp=Rp,qp=sn,$p=h(function(){return 4294967297!==[].push.call({length:4294967296},1)}),Yp=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},Xp=$p||!Yp();Hp({target:"Array",proto:!0,arity:1,forced:Xp},{push:function(t){var e=Wp(this),i=Up(e),n=arguments.length;qp(i+n);for(var o=0;o<n;o++)e[i]=arguments[o],i++;return Vp(e,i),i}});var Kp=Du("Array","push"),Gp=pt,Zp=Kp,Jp=Array.prototype,Qp=function(t){var e=t.push;return t===Jp||Gp(Jp,t)&&e===Jp.push?Zp:e},tf=o(Qp);function ef(t,e){var i=null==t?null:void 0!==Ul&&Dp(t)||t["@@iterator"];if(null!=i){var n,o,r,s,a=[],h=!0,c=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;h=!1}else for(;!(h=(n=r.call(i)).done)&&(tf(a).call(a,n.value),a.length!==e);h=!0);}catch(t){c=!0,o=t}finally{try{if(!h&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}var nf=zi,of=Xi,rf=Ln,sf=st,af=wo,hf=nn,cf=it,lf=ln,uf=we,df=ih,pf=Gn("slice"),ff=uf("species"),gf=Array,vf=Math.max;nf({target:"Array",proto:!0,forced:!pf},{slice:function(t,e){var i,n,o,r=cf(this),s=hf(r),a=af(t,s),h=af(void 0===e?s:e,s);if(of(r)&&(i=r.constructor,(rf(i)&&(i===gf||of(i.prototype))||sf(i)&&null===(i=i[ff]))&&(i=void 0),i===gf||void 0===i))return df(r,a,h);for(n=new(void 0===i?gf:i)(vf(h-a,0)),o=0;a<h;a++,o++)a in r&&lf(n,o,r[a]);return n.length=o,n}});var yf=Du("Array","slice"),mf=pt,bf=yf,wf=Array.prototype,_f=function(t){var e=t.slice;return t===wf||mf(wf,t)&&e===wf.slice?bf:e},xf=_f,Ef=o(xf),kf=o(Pp);function Of(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Sf(t,e){var i;if(t){if("string"==typeof t)return Of(t,e);var n=Ef(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?kf(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Of(t,e):void 0}}function Cf(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pf(t,e){return Bp(t)||ef(t,e)||Sf(t,e)||Cf()}function Tf(t){if(Np(t))return Of(t)}function If(t){if(void 0!==Ul&&null!=Dp(t)||null!=t["@@iterator"])return kf(t)}function Df(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Mf(t){return Tf(t)||If(t)||Sf(t)||Df()}var Af=o(vl),Nf=Du("Array","concat"),Bf=pt,jf=Nf,Ff=Array.prototype,zf=o(function(t){var e=t.concat;return t===Ff||Bf(Ff,t)&&e===Ff.concat?jf:e}),Lf=o(_f),Rf=dt,Hf=dr,Wf=Pr,Uf=di,Vf=b([].concat),qf=Rf("Reflect","ownKeys")||function(t){var e=Hf.f(Uf(t)),i=Wf.f;return i?Vf(e,i(t)):e};zi({target:"Reflect",stat:!0},{ownKeys:qf});var $f=o(at.Reflect.ownKeys),Yf=o(Ap),Xf=zi,Kf=ne,Gf=Fo,Zf=h(function(){Gf(1)});Xf({target:"Object",stat:!0,forced:Zf},{keys:function(t){return Gf(Kf(t))}});var Jf=o(at.Object.keys),Qf=Ps.forEach,tg=$u("forEach")?[].forEach:function(t){return Qf(this,t,arguments.length>1?arguments[1]:void 0)};zi({target:"Array",proto:!0,forced:[].forEach!==tg},{forEach:tg});var eg=Du("Array","forEach"),ig=_n,ng=se,og=pt,rg=eg,sg=Array.prototype,ag={DOMTokenList:!0,NodeList:!0},hg=function(t){var e=t.forEach;return t===sg||og(sg,t)&&e===sg.forEach||ng(ag,ig(t))?rg:e},cg=o(hg),lg=zi,ug=Xi,dg=b([].reverse),pg=[1,2];lg({target:"Array",proto:!0,forced:String(pg)===String(pg.reverse())},{reverse:function(){return ug(this)&&(this.length=this.length),dg(this)}});var fg=Du("Array","reverse"),gg=pt,vg=fg,yg=Array.prototype,mg=function(t){var e=t.reverse;return t===yg||gg(yg,t)&&e===yg.reverse?vg:e},bg=o(mg),wg=At,_g=TypeError,xg=function(t,e){if(!delete t[e])throw new _g("Cannot delete property "+wg(e)+" of "+wg(t))},Eg=zi,kg=ne,Og=wo,Sg=Ji,Cg=nn,Pg=Rp,Tg=sn,Ig=$n,Dg=ln,Mg=xg,Ag=Gn("splice"),Ng=Math.max,Bg=Math.min;Eg({target:"Array",proto:!0,forced:!Ag},{splice:function(t,e){var i,n,o,r,s,a,h=kg(this),c=Cg(h),l=Og(t,c),u=arguments.length;for(0===u?i=n=0:1===u?(i=0,n=c-l):(i=u-2,n=Bg(Ng(Sg(e),0),c-l)),Tg(c+i-n),o=Ig(h,n),r=0;r<n;r++)(s=l+r)in h&&Dg(o,r,h[s]);if(o.length=n,i<n){for(r=l;r<c-n;r++)a=r+i,(s=r+n)in h?h[a]=h[s]:Mg(h,a);for(r=c;r>c-n+i;r--)Mg(h,r-1)}else if(i>n)for(r=c-n;r>l;r--)a=r+i-1,(s=r+n-1)in h?h[a]=h[s]:Mg(h,a);for(r=0;r<i;r++)h[r+l]=arguments[r+2];return Pg(h,c-n+i),o}});var jg=Du("Array","splice"),Fg=pt,zg=jg,Lg=Array.prototype,Rg=o(function(t){var e=t.splice;return t===Lg||Fg(Lg,t)&&e===Lg.splice?zg:e}),Hg=N,Wg=b,Ug=F,Vg=h,qg=Fo,$g=Pr,Yg=z,Xg=ne,Kg=K,Gg=Object.assign,Zg=Object.defineProperty,Jg=Wg([].concat),Qg=!Gg||Vg(function(){if(Hg&&1!==Gg({b:1},Gg(Zg({},"a",{enumerable:!0,get:function(){Zg(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!==Gg({},t)[i]||qg(Gg({},e)).join("")!==n})?function(t,e){for(var i=Xg(t),n=arguments.length,o=1,r=$g.f,s=Yg.f;n>o;)for(var a,h=Kg(arguments[o++]),c=r?Jg(qg(h),r(h)):qg(h),l=c.length,u=0;l>u;)a=c[u++],Hg&&!Ug(s,h,a)||(i[a]=h[a]);return i}:Gg,tv=Qg;zi({target:"Object",stat:!0,arity:2,forced:Object.assign!==tv},{assign:tv});var ev=o(at.Object.assign),iv=zi,nv=ne,ov=hc,rv=tc,sv=h(function(){ov(1)});iv({target:"Object",stat:!0,forced:sv,sham:!rv},{getPrototypeOf:function(t){return ov(nv(t))}});var av=at.Object.getPrototypeOf;zi({target:"Object",stat:!0,sham:!N},{create:ur});var hv=at.Object,cv=function(t,e){return hv.create(t,e)},lv=o(cv),uv=at,dv=f;uv.JSON||(uv.JSON={stringify:JSON.stringify});var pv=function(t,e,i){return dv(uv.JSON.stringify,null,arguments)},fv=o(pv),gv="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,vv=TypeError,yv=function(t,e){if(t<e)throw new vv("Not enough arguments");return t},mv=a,bv=f,wv=M,_v=gv,xv=ft,Ev=ih,kv=yv,Ov=mv.Function,Sv=/MSIE .\./.test(xv)||_v&&function(){var t=mv.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),Cv=function(t,e){var i=e?2:1;return Sv?function(n,o){var r=kv(arguments.length,1)>i,s=wv(n)?n:Ov(n),a=r?Ev(arguments,i):[],h=r?function(){bv(s,this,a)}:s;return e?t(h,o):t(h)}:t},Pv=zi,Tv=a,Iv=Cv(Tv.setInterval,!0);Pv({global:!0,bind:!0,forced:Tv.setInterval!==Iv},{setInterval:Iv});var Dv=zi,Mv=a,Av=Cv(Mv.setTimeout,!0);Dv({global:!0,bind:!0,forced:Mv.setTimeout!==Av},{setTimeout:Av});var Nv=o(at.setTimeout),Bv={exports:{}};!function(t){function e(t){if(t)return i(t);this._callbacks=new Map}function i(t){return Object.assign(t,e.prototype),t._callbacks=new Map,t}e.prototype.on=function(t,e){const i=this._callbacks.get(t)??[];return i.push(e),this._callbacks.set(t,i),this},e.prototype.once=function(t,e){const i=(...n)=>{this.off(t,i),e.apply(this,n)};return i.fn=e,this.on(t,i),this},e.prototype.off=function(t,e){if(void 0===t&&void 0===e)return this._callbacks.clear(),this;if(void 0===e)return this._callbacks.delete(t),this;const i=this._callbacks.get(t);if(i){for(const[t,n]of i.entries())if(n===e||n.fn===e){i.splice(t,1);break}0===i.length?this._callbacks.delete(t):this._callbacks.set(t,i)}return this},e.prototype.emit=function(t,...e){const i=this._callbacks.get(t);if(i){const t=[...i];for(const i of t)i.apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks.get(t)??[]},e.prototype.listenerCount=function(t){if(t)return this.listeners(t).length;let e=0;for(const t of this._callbacks.values())e+=t.length;return e},e.prototype.hasListeners=function(t){return this.listenerCount(t)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Bv);var jv,Fv=o(Bv.exports);function zv(){return zv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},zv.apply(this,arguments)}function Lv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Rv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}jv="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var Hv,Wv=jv,Uv=["","webkit","Moz","MS","ms","o"],Vv="undefined"==typeof document?{style:{}}:document.createElement("div"),qv="function",$v=Math.round,Yv=Math.abs,Xv=Date.now;function Kv(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),r=0;r<Uv.length;){if((n=(i=Uv[r])?i+o:e)in t)return n;r++}}Hv="undefined"==typeof window?{}:window;var Gv=Kv(Vv.style,"touchAction"),Zv=void 0!==Gv;function Jv(){if(!Zv)return!1;var t={},e=Hv.CSS&&Hv.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){return t[i]=!e||Hv.CSS.supports("touch-action",i)}),t}var Qv="compute",ty="auto",ey="manipulation",iy="none",ny="pan-x",oy="pan-y",ry=Jv(),sy=/mobile|tablet|ip(ad|hone|od)|android/i,ay="ontouchstart"in Hv,hy=void 0!==Kv(Hv,"PointerEvent"),cy=ay&&sy.test(navigator.userAgent),ly="touch",uy="pen",dy="mouse",py="kinect",fy=25,gy=1,vy=2,yy=4,my=8,by=1,wy=2,_y=4,xy=8,Ey=16,ky=wy|_y,Oy=xy|Ey,Sy=ky|Oy,Cy=["x","y"],Py=["clientX","clientY"];function Ty(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function Iy(t,e){return typeof t===qv?t.apply(e&&e[0]||void 0,e):t}function Dy(t,e){return t.indexOf(e)>-1}function My(t){if(Dy(t,iy))return iy;var e=Dy(t,ny),i=Dy(t,oy);return e&&i?iy:e||i?e?ny:oy:Dy(t,ey)?ey:ty}var Ay=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Qv&&(t=this.compute()),Zv&&this.manager.element.style&&ry[t]&&(this.manager.element.style[Gv]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Ty(this.manager.recognizers,function(e){Iy(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),My(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,o=Dy(n,iy)&&!ry[iy],r=Dy(n,oy)&&!ry[oy],s=Dy(n,ny)&&!ry[ny];if(o){var a=1===t.pointers.length,h=t.distance<2,c=t.deltaTime<250;if(a&&h&&c)return}if(!s||!r)return o||r&&i&ky||s&&i&Oy?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Ny(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function By(t){var e=t.length;if(1===e)return{x:$v(t[0].clientX),y:$v(t[0].clientY)};for(var i=0,n=0,o=0;o<e;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:$v(i/e),y:$v(n/e)}}function jy(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:$v(t.pointers[i].clientX),clientY:$v(t.pointers[i].clientY)},i++;return{timeStamp:Xv(),pointers:e,center:By(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Fy(t,e,i){i||(i=Cy);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function zy(t,e,i){i||(i=Cy);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function Ly(t,e){return t===e?by:Yv(t)>=Yv(e)?t<0?wy:_y:e<0?xy:Ey}function Ry(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==gy&&r.eventType!==yy||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}function Hy(t,e,i){return{x:e/t||0,y:i/t||0}}function Wy(t,e){return Fy(e[0],e[1],Py)/Fy(t[0],t[1],Py)}function Uy(t,e){return zy(e[1],e[0],Py)+zy(t[1],t[0],Py)}function Vy(t,e){var i,n,o,r,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==my&&(a>fy||void 0===s.velocity)){var h=e.deltaX-s.deltaX,c=e.deltaY-s.deltaY,l=Hy(a,h,c);n=l.x,o=l.y,i=Yv(l.x)>Yv(l.y)?l.x:l.y,r=Ly(h,c),t.lastInterval=e}else i=s.velocity,n=s.velocityX,o=s.velocityY,r=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=r}function qy(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=jy(e)),o>1&&!i.firstMultiple?i.firstMultiple=jy(e):1===o&&(i.firstMultiple=!1);var r=i.firstInput,s=i.firstMultiple,a=s?s.center:r.center,h=e.center=By(n);e.timeStamp=Xv(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=zy(a,h),e.distance=Fy(a,h),Ry(i,e),e.offsetDirection=Ly(e.deltaX,e.deltaY);var c=Hy(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Yv(c.x)>Yv(c.y)?c.x:c.y,e.scale=s?Wy(s.pointers,n):1,e.rotation=s?Uy(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,Vy(i,e);var l,u=t.element,d=e.srcEvent;Ny(l=d.composedPath?d.composedPath()[0]:d.path?d.path[0]:d.target,u)&&(u=l),e.target=u}function $y(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,r=e&gy&&n-o===0,s=e&(yy|my)&&n-o===0;i.isFirst=!!r,i.isFinal=!!s,r&&(t.session={}),i.eventType=e,qy(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Yy(t){return t.trim().split(/\s+/g)}function Xy(t,e,i){Ty(Yy(e),function(e){t.addEventListener(e,i,!1)})}function Ky(t,e,i){Ty(Yy(e),function(e){t.removeEventListener(e,i,!1)})}function Gy(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Zy=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Iy(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Xy(this.element,this.evEl,this.domHandler),this.evTarget&&Xy(this.target,this.evTarget,this.domHandler),this.evWin&&Xy(Gy(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Ky(this.element,this.evEl,this.domHandler),this.evTarget&&Ky(this.target,this.evTarget,this.domHandler),this.evWin&&Ky(Gy(this.element),this.evWin,this.domHandler)},t}();function Jy(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var Qy={pointerdown:gy,pointermove:vy,pointerup:yy,pointercancel:my,pointerout:my},tm={2:ly,3:uy,4:dy,5:py},em="pointerdown",im="pointermove pointerup pointercancel";Hv.MSPointerEvent&&!Hv.PointerEvent&&(em="MSPointerDown",im="MSPointerMove MSPointerUp MSPointerCancel");var nm=function(t){function e(){var i,n=e.prototype;return n.evEl=em,n.evWin=im,(i=t.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return Lv(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=Qy[n],r=tm[t.pointerType]||t.pointerType,s=r===ly,a=Jy(e,t.pointerId,"pointerId");o&gy&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(yy|my)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))},e}(Zy);function om(t){return Array.prototype.slice.call(t,0)}function rm(t,e,i){for(var n=[],o=[],r=0;r<t.length;){var s=e?t[r][e]:t[r];Jy(o,s)<0&&n.push(t[r]),o[r]=s,r++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}var sm={touchstart:gy,touchmove:vy,touchend:yy,touchcancel:my},am="touchstart touchmove touchend touchcancel",hm=function(t){function e(){var i;return e.prototype.evTarget=am,(i=t.apply(this,arguments)||this).targetIds={},i}return Lv(e,t),e.prototype.handler=function(t){var e=sm[t.type],i=cm.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:ly,srcEvent:t})},e}(Zy);function cm(t,e){var i,n,o=om(t.touches),r=this.targetIds;if(e&(gy|vy)&&1===o.length)return r[o[0].identifier]=!0,[o,o];var s=om(t.changedTouches),a=[],h=this.target;if(n=o.filter(function(t){return Ny(t.target,h)}),e===gy)for(i=0;i<n.length;)r[n[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),e&(yy|my)&&delete r[s[i].identifier],i++;return a.length?[rm(n.concat(a),"identifier",!0),a]:void 0}var lm={mousedown:gy,mousemove:vy,mouseup:yy},um="mousedown",dm="mousemove mouseup",pm=function(t){function e(){var i,n=e.prototype;return n.evEl=um,n.evWin=dm,(i=t.apply(this,arguments)||this).pressed=!1,i}return Lv(e,t),e.prototype.handler=function(t){var e=lm[t.type];e&gy&&0===t.button&&(this.pressed=!0),e&vy&&1!==t.which&&(e=yy),this.pressed&&(e&yy&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:dy,srcEvent:t}))},e}(Zy),fm=2500,gm=25;function vm(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i);var o=function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)};setTimeout(o,fm)}}function ym(t,e){t&gy?(this.primaryTouch=e.changedPointers[0].identifier,vm.call(this,e)):t&(yy|my)&&vm.call(this,e)}function mm(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],r=Math.abs(e-o.x),s=Math.abs(i-o.y);if(r<=gm&&s<=gm)return!0}return!1}var bm=function(){return function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).handler=function(t,e,i){var o=i.pointerType===ly,r=i.pointerType===dy;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(o)ym.call(Rv(Rv(n)),e,i);else if(r&&mm.call(Rv(Rv(n)),i))return;n.callback(t,e,i)}},n.touch=new hm(n.manager,n.handler),n.mouse=new pm(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return Lv(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Zy)}();function wm(t){var e=t.options.inputClass;return new(e||(hy?nm:cy?hm:ay?bm:pm))(t,$y)}function _m(t,e,i){return!!Array.isArray(t)&&(Ty(t,i[e],i),!0)}var xm=1,Em=2,km=4,Om=8,Sm=Om,Cm=16,Pm=32,Tm=1;function Im(){return Tm++}function Dm(t,e){var i=e.manager;return i?i.get(t):t}function Mm(t){return t&Cm?"cancel":t&Om?"end":t&km?"move":t&Em?"start":""}var Am=function(){function t(t){void 0===t&&(t={}),this.options=zv({enable:!0},t),this.id=Im(),this.manager=null,this.state=xm,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Wv(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(_m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Dm(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return _m(t,"dropRecognizeWith",this)||(t=Dm(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(_m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===Jy(e,t=Dm(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(_m(t,"dropRequireFailure",this))return this;t=Dm(t,this);var e=Jy(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<Om&&n(e.options.event+Mm(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=Om&&n(e.options.event+Mm(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Pm},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(Pm|xm)))return!1;t++}return!0},e.recognize=function(t){var e=Wv({},t);if(!Iy(this.options.enable,[this,e]))return this.reset(),void(this.state=Pm);this.state&(Sm|Cm|Pm)&&(this.state=xm),this.state=this.process(e),this.state&(Em|km|Om|Cm)&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Nm=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,zv({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}Lv(e,t);var i=e.prototype;return i.getTouchAction=function(){return[ey]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,r=t.deltaTime<i.time;if(this.reset(),t.eventType&gy&&0===this.count)return this.failTimeout();if(o&&r&&n){if(t.eventType!==yy)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||Fy(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){e.state=Sm,e.tryEmit()},i.interval),Em):Sm}return Pm},i.failTimeout=function(){var t=this;return this._timer=setTimeout(function(){t.state=Pm},this.options.interval),Pm},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){this.state===Sm&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Am),Bm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,zv({pointers:1},e))||this}Lv(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=e&(Em|km),o=this.attrTest(t);return n&&(i&my||!o)?e|Cm:n||o?i&yy?e|Om:e&Em?e|km:Em:Pm},e}(Am);function jm(t){return t===Ey?"down":t===xy?"up":t===wy?"left":t===_y?"right":""}var Fm=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,zv({event:"pan",threshold:10,pointers:1,direction:Sy},e))||this).pX=null,i.pY=null,i}Lv(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return t&ky&&e.push(oy),t&Oy&&e.push(ny),e},i.directionTest=function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&ky?(o=0===r?by:r<0?wy:_y,i=r!==this.pX,n=Math.abs(t.deltaX)):(o=0===s?by:s<0?xy:Ey,i=s!==this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},i.attrTest=function(t){return Bm.prototype.attrTest.call(this,t)&&(this.state&Em||!(this.state&Em)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=jm(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(Bm),zm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,zv({event:"swipe",threshold:10,velocity:.3,direction:ky|Oy,pointers:1},e))||this}Lv(e,t);var i=e.prototype;return i.getTouchAction=function(){return Fm.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,n=this.options.direction;return n&(ky|Oy)?i=e.overallVelocity:n&ky?i=e.overallVelocityX:n&Oy&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Yv(i)>this.options.velocity&&e.eventType&yy},i.emit=function(t){var e=jm(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(Bm),Lm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,zv({event:"pinch",threshold:0,pointers:2},e))||this}Lv(e,t);var i=e.prototype;return i.getTouchAction=function(){return[iy]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Em)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(Bm),Rm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,zv({event:"rotate",threshold:0,pointers:2},e))||this}Lv(e,t);var i=e.prototype;return i.getTouchAction=function(){return[iy]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Em)},e}(Bm),Hm=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,zv({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}Lv(e,t);var i=e.prototype;return i.getTouchAction=function(){return[ty]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,r=t.deltaTime>i.time;if(this._input=t,!o||!n||t.eventType&(yy|my)&&!r)this.reset();else if(t.eventType&gy)this.reset(),this._timer=setTimeout(function(){e.state=Sm,e.tryEmit()},i.time);else if(t.eventType&yy)return Sm;return Pm},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){this.state===Sm&&(t&&t.eventType&yy?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Xv(),this.manager.emit(this.options.event,this._input)))},e}(Am),Wm={domEvents:!1,touchAction:Qv,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Um=[[Rm,{enable:!1}],[Lm,{enable:!1},["rotate"]],[zm,{direction:ky}],[Fm,{direction:ky},["swipe"]],[Nm],[Nm,{event:"doubletap",taps:2},["tap"]],[Hm]],Vm=1,qm=2;function $m(t,e){var i,n=t.element;n.style&&(Ty(t.options.cssProps,function(o,r){i=Kv(n.style,r),e?(t.oldCssProps[i]=n.style[i],n.style[i]=o):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}function Ym(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var Xm=function(){function t(t,e){var i=this;this.options=Wv({},Wm,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=wm(this),this.touchAction=new Ay(this,this.options.touchAction),$m(this,!0),Ty(this.options.recognizers,function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return Wv(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?qm:Vm},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&Sm)&&(e.curRecognizer=null,o=null);for(var r=0;r<n.length;)i=n[r],e.stopped===qm||o&&i!==o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(Em|km|Om)&&(e.curRecognizer=i,o=i),r++}},e.get=function(t){if(t instanceof Am)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(_m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(_m(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,n=Jy(i,e);-1!==n&&(i.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return Ty(Yy(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return Ty(Yy(t),function(t){e?i[t]&&i[t].splice(Jy(i[t],e),1):delete i[t]}),this},e.emit=function(t,e){this.options.domEvents&&Ym(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},e.destroy=function(){this.element&&$m(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Km={touchstart:gy,touchmove:vy,touchend:yy,touchcancel:my},Gm="touchstart",Zm="touchstart touchmove touchend touchcancel",Jm=function(t){function e(){var i,n=e.prototype;return n.evTarget=Gm,n.evWin=Zm,(i=t.apply(this,arguments)||this).started=!1,i}return Lv(e,t),e.prototype.handler=function(t){var e=Km[t.type];if(e===gy&&(this.started=!0),this.started){var i=Qm.call(this,t,e);e&(yy|my)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:ly,srcEvent:t})}},e}(Zy);function Qm(t,e){var i=om(t.touches),n=om(t.changedTouches);return e&(yy|my)&&(i=rm(i.concat(n),"identifier",!0)),[i,n]}function tb(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,i),t.apply(this,arguments)}}var eb=tb(function(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&void 0===t[n[o]])&&(t[n[o]]=e[n[o]]),o++;return t},"extend","Use `assign`."),ib=tb(function(t,e){return eb(t,e,!0)},"merge","Use `assign`.");function nb(t,e,i){var n,o=e.prototype;(n=t.prototype=Object.create(o)).constructor=t,n._super=o,i&&Wv(n,i)}function ob(t,e){return function(){return t.apply(e,arguments)}}var rb=function(){var t=function(t,e){return void 0===e&&(e={}),new Xm(t,zv({recognizers:Um.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=Sy,t.DIRECTION_DOWN=Ey,t.DIRECTION_LEFT=wy,t.DIRECTION_RIGHT=_y,t.DIRECTION_UP=xy,t.DIRECTION_HORIZONTAL=ky,t.DIRECTION_VERTICAL=Oy,t.DIRECTION_NONE=by,t.DIRECTION_DOWN=Ey,t.INPUT_START=gy,t.INPUT_MOVE=vy,t.INPUT_END=yy,t.INPUT_CANCEL=my,t.STATE_POSSIBLE=xm,t.STATE_BEGAN=Em,t.STATE_CHANGED=km,t.STATE_ENDED=Om,t.STATE_RECOGNIZED=Sm,t.STATE_CANCELLED=Cm,t.STATE_FAILED=Pm,t.Manager=Xm,t.Input=Zy,t.TouchAction=Ay,t.TouchInput=hm,t.MouseInput=pm,t.PointerEventInput=nm,t.TouchMouseInput=bm,t.SingleTouchInput=Jm,t.Recognizer=Am,t.AttrRecognizer=Bm,t.Tap=Nm,t.Pan=Fm,t.Swipe=zm,t.Pinch=Lm,t.Rotate=Rm,t.Press=Hm,t.on=Xy,t.off=Ky,t.each=Ty,t.merge=ib,t.extend=eb,t.bindFn=ob,t.assign=Wv,t.inherit=nb,t.bindFn=ob,t.prefixed=Kv,t.toArray=om,t.inArray=Jy,t.uniqueArray=rm,t.splitStr=Yy,t.boolOrFn=Iy,t.hasParent=Ny,t.addEventListeners=Xy,t.removeEventListeners=Ky,t.defaults=Wv({},Wm,{preset:Um}),t}();function sb(t,e){var i=void 0!==Af&&Mp(t)||t["@@iterator"];if(!i){if(Yf(t)||(i=ab(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function ab(t,e){var i;if(t){if("string"==typeof t)return hb(t,e);var n=Lf(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Tp(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hb(t,e):void 0}}function hb(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var cb=Af("DELETE");function lb(t){for(var e,i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return ub.apply(void 0,zf(e=[{},t]).call(e,n))}function ub(){var t=db.apply(void 0,arguments);return fb(t),t}function db(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length<2)return e[0];var n;if(e.length>2)return db.apply(void 0,zf(n=[ub(e[0],e[1])]).call(n,Mf(Lf(e).call(e,2))));var o=e[0],r=e[1];if(o instanceof Date&&r instanceof Date)return o.setTime(r.getTime()),o;var s,a=sb($f(r));try{for(a.s();!(s=a.n()).done;){var h=s.value;Object.prototype.propertyIsEnumerable.call(r,h)&&(r[h]===cb?delete o[h]:null===o[h]||null===r[h]||"object"!=typeof o[h]||"object"!=typeof r[h]||Yf(o[h])||Yf(r[h])?o[h]=pb(r[h]):o[h]=db(o[h],r[h]))}}catch(t){a.e(t)}finally{a.f()}return o}function pb(t){return Yf(t)?bd(t).call(t,function(t){return pb(t)}):"object"==typeof t&&null!==t?t instanceof Date?new Date(t.getTime()):db({},t):t}function fb(t){for(var e=0,i=Jf(t);e<i.length;e++){var n=i[e];t[n]===cb?delete t[n]:"object"==typeof t[n]&&null!==t[n]&&fb(t[n])}}function gb(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}var vb="undefined"!=typeof window?window.Hammer||rb:function(){return gb()};function yb(t){var e,i=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){i._dom.overlay.parentNode.removeChild(i._dom.overlay)});var n=vb(this._dom.overlay);n.on("tap",Fu(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){n.destroy()});var o=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];cg(o).call(o,function(t){n.on(t,function(t){t.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(e){mb(e.target,t)||i.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",i._onClick)})),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&i.deactivate()}}function mb(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}Fv(yb.prototype),yb.current=null,yb.prototype.destroy=function(){var t,e;this.deactivate();var i,n=sb(bg(t=Rg(e=this._cleanupQueue).call(e,0)).call(t));try{for(n.s();!(i=n.n()).done;)(0,i.value)()}catch(t){n.e(t)}finally{n.f()}},yb.prototype.activate=function(){yb.current&&yb.current.deactivate(),yb.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},yb.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},yb.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var bb=Ln,wb=At,_b=TypeError,xb=function(t){if(bb(t))return t;throw new _b(wb(t)+" is not a constructor")},Eb=zi,kb=f,Ob=Cu,Sb=xb,Cb=di,Pb=st,Tb=ur,Ib=h,Db=dt("Reflect","construct"),Mb=Object.prototype,Ab=[].push,Nb=Ib(function(){function t(){}return!(Db(function(){},[],t)instanceof t)}),Bb=!Ib(function(){Db(function(){})}),jb=Nb||Bb;Eb({target:"Reflect",stat:!0,forced:jb,sham:jb},{construct:function(t,e){Sb(t),Cb(e);var i=arguments.length<3?t:Sb(arguments[2]);if(Bb&&!Nb)return Db(t,e,i);if(t===i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return kb(Ab,n,e),new(kb(Ob,t,n))}var o=i.prototype,r=Tb(Pb(o)?o:Mb),s=kb(t,r,e);return Pb(s)?s:r}});var Fb=o(at.Reflect.construct),zb=o(at.Object.getOwnPropertySymbols),Lb={exports:{}},Rb=zi,Hb=h,Wb=it,Ub=A.f,Vb=N,qb=!Vb||Hb(function(){Ub(1)});Rb({target:"Object",stat:!0,forced:qb,sham:!Vb},{getOwnPropertyDescriptor:function(t,e){return Ub(Wb(t),e)}});var $b=at.Object,Yb=Lb.exports=function(t,e){return $b.getOwnPropertyDescriptor(t,e)};$b.getOwnPropertyDescriptor.sham&&(Yb.sham=!0);var Xb=o(Lb.exports),Kb=qf,Gb=it,Zb=A,Jb=ln;zi({target:"Object",stat:!0,sham:!N},{getOwnPropertyDescriptors:function(t){for(var e,i,n=Gb(t),o=Zb.f,r=Kb(n),s={},a=0;r.length>a;)void 0!==(i=o(n,e=r[a++]))&&Jb(s,e,i);return s}});var Qb=o(at.Object.getOwnPropertyDescriptors),tw={exports:{}},ew=zi,iw=N,nw=vo.f;ew({target:"Object",stat:!0,forced:Object.defineProperties!==nw,sham:!iw},{defineProperties:nw});var ow=at.Object,rw=tw.exports=function(t,e){return ow.defineProperties(t,e)};ow.defineProperties.sham&&(rw.sham=!0);var sw=o(tw.exports),aw=o(Vi);function hw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var cw=cv,lw=o(cw);zi({target:"Object",stat:!0},{setPrototypeOf:Ac});var uw=at.Object.setPrototypeOf,dw=o(uw),pw=o(ju);function fw(t,e){var i;return fw=dw?pw(i=dw).call(i):function(t,e){return t.__proto__=e,t},fw(t,e)}function gw(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=lw(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),$i(t,"prototype",{writable:!1}),e&&fw(t,e)}function vw(t,e){if(e&&("object"===cu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hw(t)}var yw=av,mw=o(yw);function bw(t){var e;return bw=dw?pw(e=mw).call(e):function(t){return t.__proto__||mw(t)},bw(t)}var ww={exports:{}},_w={exports:{}};!function(t){var e=Wl,i=au;function n(o){return t.exports=n="function"==typeof e&&"symbol"==typeof i?function(t){return typeof t}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(_w);var xw=_w.exports,Ew=hg,kw=se,Ow=qf,Sw=A,Cw=si,Pw=function(t,e,i){for(var n=Ow(e),o=Cw.f,r=Sw.f,s=0;s<n.length;s++){var a=n[s];kw(t,a)||i&&kw(i,a)||o(t,a,r(e,a))}},Tw=st,Iw=Si,Dw=function(t,e){Tw(e)&&"cause"in e&&Iw(t,"cause",e.cause)},Mw=Error,Aw=b("".replace),Nw=String(new Mw("zxcasd").stack),Bw=/\n\s*at [^:]*:[^\n]*/,jw=Bw.test(Nw),Fw=function(t,e){if(jw&&"string"==typeof t&&!Mw.prepareStackTrace)for(;e--;)t=Aw(t,Bw,"");return t},zw=V,Lw=!h(function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",zw(1,7)),7!==t.stack)}),Rw=Si,Hw=Fw,Ww=Lw,Uw=Error.captureStackTrace,Vw=function(t,e,i,n){Ww&&(Uw?Uw(t,e):Rw(t,"stack",Hw(i,n)))},qw=ri,$w=F,Yw=di,Xw=At,Kw=Xd,Gw=nn,Zw=pt,Jw=ap,Qw=tp,t_=Hd,e_=TypeError,i_=function(t,e){this.stopped=t,this.result=e},n_=i_.prototype,o_=function(t,e,i){var n,o,r,s,a,h,c,l=i&&i.that,u=!(!i||!i.AS_ENTRIES),d=!(!i||!i.IS_RECORD),p=!(!i||!i.IS_ITERATOR),f=!(!i||!i.INTERRUPTED),g=qw(e,l),v=function(t){return n&&t_(n,"normal",t),new i_(!0,t)},y=function(t){return u?(Yw(t),f?g(t[0],t[1],v):g(t[0],t[1])):f?g(t,v):g(t)};if(d)n=t.iterator;else if(p)n=t;else{if(!(o=Qw(t)))throw new e_(Xw(t)+" is not iterable");if(Kw(o)){for(r=0,s=Gw(t);s>r;r++)if((a=y(t[r]))&&Zw(n_,a))return a;return new i_(!1)}n=Jw(t,o)}for(h=d?t.next:n.next;!(c=$w(h,n)).done;){try{a=y(c.value)}catch(t){t_(n,"throw",t)}if("object"==typeof a&&a&&Zw(n_,a))return a}return new i_(!1)},r_=go,s_=function(t,e){return void 0===t?arguments.length<2?"":e:r_(t)},a_=zi,h_=pt,c_=hc,l_=Ac,u_=Pw,d_=ur,p_=Si,f_=V,g_=Dw,v_=Vw,y_=o_,m_=s_,b_=we("toStringTag"),w_=Error,__=[].push,x_=function(t,e){var i,n=h_(E_,this);l_?i=l_(new w_,n?c_(this):E_):(i=n?this:d_(E_),p_(i,b_,"Error")),void 0!==e&&p_(i,"message",m_(e)),v_(i,x_,i.stack,1),arguments.length>2&&g_(i,arguments[2]);var o=[];return y_(t,__,{that:o}),p_(i,"errors",o),i};l_?l_(x_,w_):u_(x_,w_,{name:!0});var E_=x_.prototype=d_(w_.prototype,{constructor:f_(1,x_),message:f_(1,""),name:f_(1,"AggregateError")});a_({global:!0,constructor:!0,arity:2},{AggregateError:x_});var k_,O_,S_,C_,P_=dt,T_=Mr,I_=N,D_=we("species"),M_=function(t){var e=P_(t);I_&&e&&!e[D_]&&T_(e,D_,{configurable:!0,get:function(){return this}})},A_=pt,N_=TypeError,B_=function(t,e){if(A_(e,t))return t;throw new N_("Incorrect invocation")},j_=di,F_=xb,z_=G,L_=we("species"),R_=function(t,e){var i,n=j_(t).constructor;return void 0===n||z_(i=j_(n)[L_])?e:F_(i)},H_=/(?:ipad|iphone|ipod).*applewebkit/i.test(ft),W_=a,U_=f,V_=ri,q_=M,$_=se,Y_=h,X_=qo,K_=ih,G_=Ne,Z_=yv,J_=H_,Q_=Yu,tx=W_.setImmediate,ex=W_.clearImmediate,ix=W_.process,nx=W_.Dispatch,ox=W_.Function,rx=W_.MessageChannel,sx=W_.String,ax=0,hx={},cx="onreadystatechange";Y_(function(){k_=W_.location});var lx=function(t){if($_(hx,t)){var e=hx[t];delete hx[t],e()}},ux=function(t){return function(){lx(t)}},dx=function(t){lx(t.data)},px=function(t){W_.postMessage(sx(t),k_.protocol+"//"+k_.host)};tx&&ex||(tx=function(t){Z_(arguments.length,1);var e=q_(t)?t:ox(t),i=K_(arguments,1);return hx[++ax]=function(){U_(e,void 0,i)},O_(ax),ax},ex=function(t){delete hx[t]},Q_?O_=function(t){ix.nextTick(ux(t))}:nx&&nx.now?O_=function(t){nx.now(ux(t))}:rx&&!J_?(C_=(S_=new rx).port2,S_.port1.onmessage=dx,O_=V_(C_.postMessage,C_)):W_.addEventListener&&q_(W_.postMessage)&&!W_.importScripts&&k_&&"file:"!==k_.protocol&&!Y_(px)?(O_=px,W_.addEventListener("message",dx,!1)):O_=cx in G_("script")?function(t){X_.appendChild(G_("script"))[cx]=function(){X_.removeChild(this),lx(t)}}:function(t){setTimeout(ux(t),0)});var fx={set:tx,clear:ex},gx=function(){this.head=null,this.tail=null};gx.prototype={add:function(t){var e={item:t,next:null},i=this.tail;i?i.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var vx,yx,mx,bx,wx,_x=gx,xx=/ipad|iphone|ipod/i.test(ft)&&"undefined"!=typeof Pebble,Ex=/web0s(?!.*chrome)/i.test(ft),kx=a,Ox=ri,Sx=A.f,Cx=fx.set,Px=_x,Tx=H_,Ix=xx,Dx=Ex,Mx=Yu,Ax=kx.MutationObserver||kx.WebKitMutationObserver,Nx=kx.document,Bx=kx.process,jx=kx.Promise,Fx=Sx(kx,"queueMicrotask"),zx=Fx&&Fx.value;if(!zx){var Lx=new Px,Rx=function(){var t,e;for(Mx&&(t=Bx.domain)&&t.exit();e=Lx.get();)try{e()}catch(t){throw Lx.head&&vx(),t}t&&t.enter()};Tx||Mx||Dx||!Ax||!Nx?!Ix&&jx&&jx.resolve?((bx=jx.resolve(void 0)).constructor=jx,wx=Ox(bx.then,bx),vx=function(){wx(Rx)}):Mx?vx=function(){Bx.nextTick(Rx)}:(Cx=Ox(Cx,kx),vx=function(){Cx(Rx)}):(yx=!0,mx=Nx.createTextNode(""),new Ax(Rx).observe(mx,{characterData:!0}),vx=function(){mx.data=yx=!yx}),zx=function(t){Lx.head||vx(),Lx.add(t)}}var Hx=zx,Wx=function(t,e){},Ux=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Vx=a.Promise,qx="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,$x=Yu,Yx=!qx&&!$x&&"object"==typeof window&&"object"==typeof document,Xx=a,Kx=Vx,Gx=M,Zx=ei,Jx=On,Qx=we,tE=Yx,eE=qx,iE=_t,nE=Kx&&Kx.prototype,oE=Qx("species"),rE=!1,sE=Gx(Xx.PromiseRejectionEvent),aE={CONSTRUCTOR:Zx("Promise",function(){var t=Jx(Kx),e=t!==String(Kx);if(!e&&66===iE)return!0;if(!nE.catch||!nE.finally)return!0;if(!iE||iE<51||!/native code/.test(t)){var i=new Kx(function(t){t(1)}),n=function(t){t(function(){},function(){})};if((i.constructor={})[oE]=n,!(rE=i.then(function(){})instanceof n))return!0}return!e&&(tE||eE)&&!sE}),REJECTION_EVENT:sE,SUBCLASSING:rE},hE={},cE=Ft,lE=TypeError,uE=function(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw new lE("Bad Promise constructor");e=t,i=n}),this.resolve=cE(e),this.reject=cE(i)};hE.f=function(t){return new uE(t)};var dE=zi,pE=Yu,fE=a,gE=F,vE=Ir,yE=is,mE=M_,bE=Ft,wE=M,_E=st,xE=B_,EE=R_,kE=fx.set,OE=Hx,SE=Wx,CE=Ux,PE=_x,TE=ws,IE=Vx,DE=aE,ME=hE,AE="Promise",NE=DE.CONSTRUCTOR,BE=DE.REJECTION_EVENT;DE.SUBCLASSING;var jE,FE,zE,LE=TE.getterFor(AE),RE=TE.set,HE=IE&&IE.prototype,WE=IE,UE=HE,VE=fE.TypeError,qE=fE.document,$E=fE.process,YE=ME.f,XE=YE,KE=!!(qE&&qE.createEvent&&fE.dispatchEvent),GE="unhandledrejection",ZE="rejectionhandled",JE=0,QE=1,tk=2,ek=1,ik=2,nk=function(t){var e;return!(!_E(t)||!wE(e=t.then))&&e},ok=function(t,e){var i,n,o,r=e.value,s=e.state===QE,a=s?t.ok:t.fail,h=t.resolve,c=t.reject,l=t.domain;try{a?(s||(e.rejection===ik&&ck(e),e.rejection=ek),!0===a?i=r:(l&&l.enter(),i=a(r),l&&(l.exit(),o=!0)),i===t.promise?c(new VE("Promise-chain cycle")):(n=nk(i))?gE(n,i,h,c):h(i)):c(r)}catch(t){l&&!o&&l.exit(),c(t)}},rk=function(t,e){t.notified||(t.notified=!0,OE(function(){for(var i,n=t.reactions;i=n.get();)ok(i,t);t.notified=!1,e&&!t.rejection&&ak(t)}))},sk=function(t,e,i){var n,o;KE?((n=qE.createEvent("Event")).promise=e,n.reason=i,n.initEvent(t,!1,!0),fE.dispatchEvent(n)):n={promise:e,reason:i},!BE&&(o=fE["on"+t])?o(n):t===GE&&SE("Unhandled promise rejection",i)},ak=function(t){gE(kE,fE,function(){var e,i=t.facade,n=t.value;if(hk(t)&&(e=CE(function(){pE?$E.emit("unhandledRejection",n,i):sk(GE,i,n)}),t.rejection=pE||hk(t)?ik:ek,e.error))throw e.value})},hk=function(t){return t.rejection!==ek&&!t.parent},ck=function(t){gE(kE,fE,function(){var e=t.facade;pE?$E.emit("rejectionHandled",e):sk(ZE,e,t.value)})},lk=function(t,e,i){return function(n){t(e,n,i)}},uk=function(t,e,i){t.done||(t.done=!0,i&&(t=i),t.value=e,t.state=tk,rk(t,!0))},dk=function(t,e,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===e)throw new VE("Promise can't be resolved itself");var n=nk(e);n?OE(function(){var i={done:!1};try{gE(n,e,lk(dk,i,t),lk(uk,i,t))}catch(e){uk(i,e,t)}}):(t.value=e,t.state=QE,rk(t,!1))}catch(e){uk({done:!1},e,t)}}};NE&&(UE=(WE=function(t){xE(this,UE),bE(t),gE(jE,this);var e=LE(this);try{t(lk(dk,e),lk(uk,e))}catch(t){uk(e,t)}}).prototype,(jE=function(t){RE(this,{type:AE,done:!1,notified:!1,parent:!1,reactions:new PE,rejection:!1,state:JE,value:void 0})}).prototype=vE(UE,"then",function(t,e){var i=LE(this),n=YE(EE(this,WE));return i.parent=!0,n.ok=!wE(t)||t,n.fail=wE(e)&&e,n.domain=pE?$E.domain:void 0,i.state===JE?i.reactions.add(n):OE(function(){ok(n,i)}),n.promise}),FE=function(){var t=new jE,e=LE(t);this.promise=t,this.resolve=lk(dk,e),this.reject=lk(uk,e)},ME.f=YE=function(t){return t===WE||t===zE?new FE(t):XE(t)}),dE({global:!0,constructor:!0,wrap:!0,forced:NE},{Promise:WE}),yE(WE,AE,!1,!0),mE(AE);var pk=Vx,fk=kp,gk=aE.CONSTRUCTOR||!fk(function(t){pk.all(t).then(void 0,function(){})}),vk=F,yk=Ft,mk=hE,bk=Ux,wk=o_;zi({target:"Promise",stat:!0,forced:gk},{all:function(t){var e=this,i=mk.f(e),n=i.resolve,o=i.reject,r=bk(function(){var i=yk(e.resolve),r=[],s=0,a=1;wk(t,function(t){var h=s++,c=!1;a++,vk(i,e,t).then(function(t){c||(c=!0,r[h]=t,--a||n(r))},o)}),--a||n(r)});return r.error&&o(r.value),i.promise}});var _k=zi,xk=aE.CONSTRUCTOR,Ek=Vx;Ek&&Ek.prototype,_k({target:"Promise",proto:!0,forced:xk,real:!0},{catch:function(t){return this.then(void 0,t)}});var kk=F,Ok=Ft,Sk=hE,Ck=Ux,Pk=o_;zi({target:"Promise",stat:!0,forced:gk},{race:function(t){var e=this,i=Sk.f(e),n=i.reject,o=Ck(function(){var o=Ok(e.resolve);Pk(t,function(t){kk(o,e,t).then(i.resolve,n)})});return o.error&&n(o.value),i.promise}});var Tk=zi,Ik=F,Dk=hE,Mk=aE.CONSTRUCTOR;Tk({target:"Promise",stat:!0,forced:Mk},{reject:function(t){var e=Dk.f(this);return Ik(e.reject,void 0,t),e.promise}});var Ak=di,Nk=st,Bk=hE,jk=function(t,e){if(Ak(t),Nk(e)&&e.constructor===t)return e;var i=Bk.f(t);return(0,i.resolve)(e),i.promise},Fk=zi,zk=dt,Lk=Yt,Rk=Vx,Hk=aE.CONSTRUCTOR,Wk=jk,Uk=zk("Promise"),Vk=!Hk;Fk({target:"Promise",stat:!0,forced:Lk},{resolve:function(t){return Wk(Vk&&this===Uk?Rk:this,t)}});var qk=F,$k=Ft,Yk=hE,Xk=Ux,Kk=o_;zi({target:"Promise",stat:!0,forced:gk},{allSettled:function(t){var e=this,i=Yk.f(e),n=i.resolve,o=i.reject,r=Xk(function(){var i=$k(e.resolve),o=[],r=0,s=1;Kk(t,function(t){var a=r++,h=!1;s++,qk(i,e,t).then(function(t){h||(h=!0,o[a]={status:"fulfilled",value:t},--s||n(o))},function(t){h||(h=!0,o[a]={status:"rejected",reason:t},--s||n(o))})}),--s||n(o)});return r.error&&o(r.value),i.promise}});var Gk=F,Zk=Ft,Jk=dt,Qk=hE,tO=Ux,eO=o_,iO="No one promise resolved";zi({target:"Promise",stat:!0,forced:gk},{any:function(t){var e=this,i=Jk("AggregateError"),n=Qk.f(e),o=n.resolve,r=n.reject,s=tO(function(){var n=Zk(e.resolve),s=[],a=0,h=1,c=!1;eO(t,function(t){var l=a++,u=!1;h++,Gk(n,e,t).then(function(t){u||c||(c=!0,o(t))},function(t){u||c||(u=!0,s[l]=t,--h||r(new i(s,iO)))})}),--h||r(new i(s,iO))});return s.error&&r(s.value),n.promise}});var nO=zi,oO=Vx,rO=h,sO=dt,aO=M,hO=R_,cO=jk,lO=oO&&oO.prototype,uO=!!oO&&rO(function(){lO.finally.call({then:function(){}},function(){})});nO({target:"Promise",proto:!0,real:!0,forced:uO},{finally:function(t){var e=hO(this,sO("Promise")),i=aO(t);return this.then(i?function(i){return cO(e,t()).then(function(){return i})}:t,i?function(i){return cO(e,t()).then(function(){throw i})}:t)}});var dO=at.Promise,pO=hE;zi({target:"Promise",stat:!0},{withResolvers:function(){var t=pO.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var fO=dO,gO=hE,vO=Ux;zi({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=gO.f(this),i=vO(t);return(i.error?e.reject:e.resolve)(i.value),e.promise}});var yO=fO,mO=mg;!function(t){var e=xw.default,i=qi,n=Wl,o=cw,r=yw,s=Ew,a=Qp,h=uw,c=yO,l=mO,u=xf;function d(){t.exports=d=function(){return f},t.exports.__esModule=!0,t.exports.default=t.exports;var p,f={},g=Object.prototype,v=g.hasOwnProperty,y=i||function(t,e,i){t[e]=i.value},m="function"==typeof n?n:{},b=m.iterator||"@@iterator",w=m.asyncIterator||"@@asyncIterator",_=m.toStringTag||"@@toStringTag";function x(t,e,n){return i(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{x({},"")}catch(p){x=function(t,e,i){return t[e]=i}}function E(t,e,i,n){var r=e&&e.prototype instanceof I?e:I,s=o(r.prototype),a=new W(n||[]);return y(s,"_invoke",{value:z(t,i,a)}),s}function k(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}f.wrap=E;var O="suspendedStart",S="suspendedYield",C="executing",P="completed",T={};function I(){}function D(){}function M(){}var A={};x(A,b,function(){return this});var N=r&&r(r(U([])));N&&N!==g&&v.call(N,b)&&(A=N);var B=M.prototype=I.prototype=o(A);function j(t){var e;s(e=["next","throw","return"]).call(e,function(e){x(t,e,function(t){return this._invoke(e,t)})})}function F(t,i){function n(o,r,s,a){var h=k(t[o],t,r);if("throw"!==h.type){var c=h.arg,l=c.value;return l&&"object"==e(l)&&v.call(l,"__await")?i.resolve(l.__await).then(function(t){n("next",t,s,a)},function(t){n("throw",t,s,a)}):i.resolve(l).then(function(t){c.value=t,s(c)},function(t){return n("throw",t,s,a)})}a(h.arg)}var o;y(this,"_invoke",{value:function(t,e){function r(){return new i(function(i,o){n(t,e,i,o)})}return o=o?o.then(r,r):r()}})}function z(t,e,i){var n=O;return function(o,r){if(n===C)throw new Error("Generator is already running");if(n===P){if("throw"===o)throw r;return{value:p,done:!0}}for(i.method=o,i.arg=r;;){var s=i.delegate;if(s){var a=L(s,i);if(a){if(a===T)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===O)throw n=P,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=C;var h=k(t,e,i);if("normal"===h.type){if(n=i.done?P:S,h.arg===T)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(n=P,i.method="throw",i.arg=h.arg)}}}function L(t,e){var i=e.method,n=t.iterator[i];if(n===p)return e.delegate=null,"throw"===i&&t.iterator.return&&(e.method="return",e.arg=p,L(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),T;var o=k(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,T;var r=o.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=p),e.delegate=null,T):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,T)}function R(t){var e,i={tryLoc:t[0]};1 in t&&(i.catchLoc=t[1]),2 in t&&(i.finallyLoc=t[2],i.afterLoc=t[3]),a(e=this.tryEntries).call(e,i)}function H(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function W(t){this.tryEntries=[{tryLoc:"root"}],s(t).call(t,R,this),this.reset(!0)}function U(t){if(t||""===t){var i=t[b];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(v.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=p,e.done=!0,e};return o.next=o}}throw new TypeError(e(t)+" is not iterable")}return D.prototype=M,y(B,"constructor",{value:M,configurable:!0}),y(M,"constructor",{value:D,configurable:!0}),D.displayName=x(M,_,"GeneratorFunction"),f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===D||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return h?h(t,M):(t.__proto__=M,x(t,_,"GeneratorFunction")),t.prototype=o(B),t},f.awrap=function(t){return{__await:t}},j(F.prototype),x(F.prototype,w,function(){return this}),f.AsyncIterator=F,f.async=function(t,e,i,n,o){void 0===o&&(o=c);var r=new F(E(t,e,i,n),o);return f.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},j(B),x(B,_,"Generator"),x(B,b,function(){return this}),x(B,"toString",function(){return"[object Generator]"}),f.keys=function(t){var e=Object(t),i=[];for(var n in e)a(i).call(i,n);return l(i).call(i),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},f.values=U,W.prototype={constructor:W,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,s(e=this.tryEntries).call(e,H),!t)for(var i in this)"t"===i.charAt(0)&&v.call(this,i)&&!isNaN(+u(i).call(i,1))&&(this[i]=p)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return r.type="throw",r.arg=t,e.next=i,n&&(e.method="next",e.arg=p),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],r=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=v.call(o,"catchLoc"),a=v.call(o,"finallyLoc");if(s&&a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=t,r.arg=e,o?(this.method="next",this.next=o.finallyLoc,T):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),T},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),H(i),T}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var o=n.arg;H(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:U(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=p),T}},f}t.exports=d,t.exports.__esModule=!0,t.exports.default=t.exports}(ww);var bO=(0,ww.exports)(),wO=bO;try{regeneratorRuntime=bO}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=bO:Function("r","regeneratorRuntime = r")(bO)}var _O=o(wO),xO={exports:{}},EO=h(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),kO=h,OO=st,SO=E,CO=EO,PO=Object.isExtensible,TO=kO(function(){PO(1)})||CO?function(t){return!!OO(t)&&(!CO||"ArrayBuffer"!==SO(t))&&(!PO||PO(t))}:PO,IO=!h(function(){return Object.isExtensible(Object.preventExtensions({}))}),DO=zi,MO=b,AO=So,NO=st,BO=se,jO=si.f,FO=dr,zO=gr,LO=TO,RO=IO,HO=!1,WO=ue("meta"),UO=0,VO=function(t){jO(t,WO,{value:{objectID:"O"+UO++,weakData:{}}})},qO=function(t,e){if(!NO(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!BO(t,WO)){if(!LO(t))return"F";if(!e)return"E";VO(t)}return t[WO].objectID},$O=function(t,e){if(!BO(t,WO)){if(!LO(t))return!0;if(!e)return!1;VO(t)}return t[WO].weakData},YO=function(t){return RO&&HO&&LO(t)&&!BO(t,WO)&&VO(t),t},XO=function(){KO.enable=function(){},HO=!0;var t=FO.f,e=MO([].splice),i={};i[WO]=1,t(i).length&&(FO.f=function(i){for(var n=t(i),o=0,r=n.length;o<r;o++)if(n[o]===WO){e(n,o,1);break}return n},DO({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:zO.f}))},KO=xO.exports={enable:XO,fastKey:qO,getWeakData:$O,onFreeze:YO};AO[WO]=!0;var GO=xO.exports,ZO=zi,JO=a,QO=GO,tS=h,eS=Si,iS=o_,nS=B_,oS=M,rS=st,sS=G,aS=is,hS=si.f,cS=Ps.forEach,lS=N,uS=ws,dS=uS.set,pS=uS.getterFor,fS=function(t,e,i){var n,o=-1!==t.indexOf("Map"),r=-1!==t.indexOf("Weak"),s=o?"set":"add",a=JO[t],h=a&&a.prototype,c={};if(lS&&oS(a)&&(r||h.forEach&&!tS(function(){(new a).entries().next()}))){var l=(n=e(function(e,i){dS(nS(e,l),{type:t,collection:new a}),sS(i)||iS(i,e[s],{that:e,AS_ENTRIES:o})})).prototype,u=pS(t);cS(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(t){var e="add"===t||"set"===t;!(t in h)||r&&"clear"===t||eS(l,t,function(i,n){var o=u(this).collection;if(!e&&r&&!rS(i))return"get"===t&&void 0;var s=o[t](0===i?0:i,n);return e?this:s})}),r||hS(l,"size",{configurable:!0,get:function(){return u(this).collection.size}})}else n=i.getConstructor(e,t,o,s),QO.enable();return aS(n,t,!1,!0),c[t]=n,ZO({global:!0,forced:!0},c),r||i.setStrong(n,t,o),n},gS=Ir,vS=ur,yS=Mr,mS=function(t,e,i){for(var n in e)i&&i.unsafe&&t[n]?t[n]=e[n]:gS(t,n,e[n],i);return t},bS=ri,wS=B_,_S=G,xS=o_,ES=Zc,kS=Jc,OS=M_,SS=N,CS=GO.fastKey,PS=ws,TS=PS.set,IS=PS.getterFor,DS={getConstructor:function(t,e,i,n){var o=t(function(t,o){wS(t,r),TS(t,{type:e,index:vS(null),first:void 0,last:void 0,size:0}),SS||(t.size=0),_S(o)||xS(o,t[n],{that:t,AS_ENTRIES:i})}),r=o.prototype,s=IS(e),a=function(t,e,i){var n,o,r=s(t),a=h(t,e);return a?a.value=i:(r.last=a={index:o=CS(e,!0),key:e,value:i,previous:n=r.last,next:void 0,removed:!1},r.first||(r.first=a),n&&(n.next=a),SS?r.size++:t.size++,"F"!==o&&(r.index[o]=a)),t},h=function(t,e){var i,n=s(t),o=CS(e);if("F"!==o)return n.index[o];for(i=n.first;i;i=i.next)if(i.key===e)return i};return mS(r,{clear:function(){for(var t=this,e=s(t),i=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete i[n.index],n=n.next;e.first=e.last=void 0,SS?e.size=0:t.size=0},delete:function(t){var e=this,i=s(e),n=h(e,t);if(n){var o=n.next,r=n.previous;delete i.index[n.index],n.removed=!0,r&&(r.next=o),o&&(o.previous=r),i.first===n&&(i.first=o),i.last===n&&(i.last=r),SS?i.size--:e.size--}return!!n},forEach:function(t){for(var e,i=s(this),n=bS(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!h(this,t)}}),mS(r,i?{get:function(t){var e=h(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),SS&&yS(r,"size",{configurable:!0,get:function(){return s(this).size}}),o},setStrong:function(t,e,i){var n=e+" Iterator",o=IS(e),r=IS(n);ES(t,e,function(t,e){TS(this,{type:n,target:t,state:o(t),kind:e,last:void 0})},function(){for(var t=r(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?kS("keys"===e?i.key:"values"===e?i.value:[i.key,i.value],!1):(t.target=void 0,kS(void 0,!0))},i?"entries":"values",!i,!0),OS(e)}};fS("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},DS);var MS=o(at.Map),AS=zi,NS=Ps.some,BS=$u("some");AS({target:"Array",proto:!0,forced:!BS},{some:function(t){return NS(this,t,arguments.length>1?arguments[1]:void 0)}});var jS=Du("Array","some"),FS=pt,zS=jS,LS=Array.prototype,RS=o(function(t){var e=t.some;return t===LS||FS(LS,t)&&e===LS.some?zS:e}),HS=Du("Array","keys"),WS=_n,US=se,VS=pt,qS=HS,$S=Array.prototype,YS={DOMTokenList:!0,NodeList:!0},XS=o(function(t){var e=t.keys;return t===$S||VS($S,t)&&e===$S.keys||US(YS,WS(t))?qS:e}),KS=_r,GS=Math.floor,ZS=function(t,e){var i=t.length,n=GS(i/2);return i<8?JS(t,e):QS(t,ZS(KS(t,0,n),e),ZS(KS(t,n),e),e)},JS=function(t,e){for(var i,n,o=t.length,r=1;r<o;){for(n=r,i=t[r];n&&e(t[n-1],i)>0;)t[n]=t[--n];n!==r++&&(t[n]=i)}return t},QS=function(t,e,i,n){for(var o=e.length,r=i.length,s=0,a=0;s<o||a<r;)t[s+a]=s<o&&a<r?n(e[s],i[a])<=0?e[s++]:i[a++]:s<o?e[s++]:i[a++];return t},tC=ZS,eC=ft.match(/firefox\/(\d+)/i),iC=!!eC&&+eC[1],nC=/MSIE|Trident/.test(ft),oC=ft.match(/AppleWebKit\/(\d+)\./),rC=!!oC&&+oC[1],sC=zi,aC=b,hC=Ft,cC=ne,lC=nn,uC=xg,dC=go,pC=h,fC=tC,gC=$u,vC=iC,yC=nC,mC=_t,bC=rC,wC=[],_C=aC(wC.sort),xC=aC(wC.push),EC=pC(function(){wC.sort(void 0)}),kC=pC(function(){wC.sort(null)}),OC=gC("sort"),SC=!pC(function(){if(mC)return mC<70;if(!(vC&&vC>3)){if(yC)return!0;if(bC)return bC<603;var t,e,i,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)wC.push({k:e+n,v:i})}for(wC.sort(function(t,e){return e.v-t.v}),n=0;n<wC.length;n++)e=wC[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}),CC=function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:dC(e)>dC(i)?1:-1}};sC({target:"Array",proto:!0,forced:EC||!kC||!OC||!SC},{sort:function(t){void 0!==t&&hC(t);var e=cC(this);if(SC)return void 0===t?_C(e):_C(e,t);var i,n,o=[],r=lC(e);for(n=0;n<r;n++)n in e&&xC(o,e[n]);for(fC(o,CC(t)),i=lC(o),n=0;n<i;)e[n]=o[n++];for(;n<r;)uC(e,n++);return e}});var PC=Du("Array","sort"),TC=pt,IC=PC,DC=Array.prototype,MC=o(function(t){var e=t.sort;return t===DC||TC(DC,t)&&e===DC.sort?IC:e}),AC=Du("Array","values"),NC=_n,BC=se,jC=pt,FC=AC,zC=Array.prototype,LC={DOMTokenList:!0,NodeList:!0},RC=o(function(t){var e=t.values;return t===zC||jC(zC,t)&&e===zC.values||BC(LC,NC(t))?FC:e}),HC=o(su),WC=Du("Array","entries"),UC=_n,VC=se,qC=pt,$C=WC,YC=Array.prototype,XC={DOMTokenList:!0,NodeList:!0},KC=o(function(t){var e=t.entries;return t===YC||qC(YC,t)&&e===YC.entries||VC(XC,UC(t))?$C:e});let GC;const ZC=new Uint8Array(16);function JC(){if(!GC&&(GC="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!GC))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return GC(ZC)}const QC=[];for(let t=0;t<256;++t)QC.push((t+256).toString(16).slice(1));function tP(t,e=0){return QC[t[e+0]]+QC[t[e+1]]+QC[t[e+2]]+QC[t[e+3]]+"-"+QC[t[e+4]]+QC[t[e+5]]+"-"+QC[t[e+6]]+QC[t[e+7]]+"-"+QC[t[e+8]]+QC[t[e+9]]+"-"+QC[t[e+10]]+QC[t[e+11]]+QC[t[e+12]]+QC[t[e+13]]+QC[t[e+14]]+QC[t[e+15]]}var eP={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function iP(t,e,i){if(eP.randomUUID&&!e&&!t)return eP.randomUUID();const n=(t=t||{}).random||(t.rng||JC)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){i=i||0;for(let t=0;t<16;++t)e[i+t]=n[t];return e}return tP(n)}function nP(t){return"string"==typeof t||"number"==typeof t}var oP=function(){function t(i){e(this,t),gu(this,"_queue",[]),gu(this,"_timeout",null),gu(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(i)}return fu(t,[{key:"setOptions",value:function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}}},{key:"replace",value:function(t,e){var i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];i.queue({args:e,fn:n,context:this})}}},{key:"queue",value:function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=Nv(function(){t.flush()},this.delay))}},{key:"flush",value:function(){var t,e;cg(t=Rg(e=this._queue).call(e,0)).call(t,function(t){t.fn.apply(t.context||t.fn,t.args||[])})}}],[{key:"extend",value:function(e,i){var n=new t(i);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){n.flush()};var o=[{name:"flush",original:void 0}];if(i&&i.replace)for(var r=0;r<i.replace.length;r++){var s=i.replace[r];o.push({name:s,original:e[s]}),n.replace(e,s)}return n._extended={object:e,methods:o},n}}]),t}(),rP=function(){function t(){e(this,t),gu(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),gu(this,"subscribe",t.prototype.on),gu(this,"unsubscribe",t.prototype.off)}return fu(t,[{key:"_trigger",value:function(t,e,i){var n,o;if("*"===t)throw new Error("Cannot trigger event *");cg(n=zf(o=[]).call(o,Mf(this._subscribers[t]),Mf(this._subscribers["*"]))).call(n,function(n){n(t,e,null!=i?i:null)})}},{key:"on",value:function(t,e){"function"==typeof e&&this._subscribers[t].push(e)}},{key:"off",value:function(t,e){var i;this._subscribers[t]=ud(i=this._subscribers[t]).call(i,function(t){return t!==e})}}]),t}();fS("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},DS);var sP=o(at.Set),aP=o(ap);function hP(t,e){var i=void 0!==Af&&Mp(t)||t["@@iterator"];if(!i){if(Yf(t)||(i=cP(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function cP(t,e){var i;if(t){if("string"==typeof t)return lP(t,e);var n=Lf(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Tp(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lP(t,e):void 0}}function lP(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var uP=function(t){function i(t){e(this,i),this._pairs=t}return fu(i,[{key:t,value:_O.mark(function t(){var e,i,n,o,r;return _O.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=hP(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=Pf(i.value,2),o=n[0],r=n[1],t.next=7,[o,r];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[1,11,14,17]])})},{key:"entries",value:_O.mark(function t(){var e,i,n,o,r;return _O.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=hP(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=Pf(i.value,2),o=n[0],r=n[1],t.next=7,[o,r];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[1,11,14,17]])})},{key:"keys",value:_O.mark(function t(){var e,i,n,o;return _O.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=hP(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=Pf(i.value,1),o=n[0],t.next=7,o;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[1,11,14,17]])})},{key:"values",value:_O.mark(function t(){var e,i,n,o;return _O.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=hP(this._pairs),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=9;break}return n=Pf(i.value,2),o=n[1],t.next=7,o;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var t;return bd(t=Mf(this._pairs)).call(t,function(t){return t[0]})}},{key:"toItemArray",value:function(){var t;return bd(t=Mf(this._pairs)).call(t,function(t){return t[1]})}},{key:"toEntryArray",value:function(){return Mf(this._pairs)}},{key:"toObjectMap",value:function(){var t,e=lv(null),i=hP(this._pairs);try{for(i.s();!(t=i.n()).done;){var n=Pf(t.value,2),o=n[0],r=n[1];e[o]=r}}catch(t){i.e(t)}finally{i.f()}return e}},{key:"toMap",value:function(){return new MS(this._pairs)}},{key:"toIdSet",value:function(){return new sP(this.toIdArray())}},{key:"toItemSet",value:function(){return new sP(this.toItemArray())}},{key:"cache",value:function(){return new i(Mf(this._pairs))}},{key:"distinct",value:function(t){var e,i=new sP,n=hP(this._pairs);try{for(n.s();!(e=n.n()).done;){var o=Pf(e.value,2),r=o[0],s=o[1];i.add(t(s,r))}}catch(t){n.e(t)}finally{n.f()}return i}},{key:"filter",value:function(t){var e=this._pairs;return new i({[HC]:()=>_O.mark(function i(){var n,o,r,s,a;return _O.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=hP(e),i.prev=1,n.s();case 3:if((o=n.n()).done){i.next=10;break}if(r=Pf(o.value,2),s=r[0],a=r[1],!t(a,s)){i.next=8;break}return i.next=8,[s,a];case 8:i.next=3;break;case 10:i.next=15;break;case 12:i.prev=12,i.t0=i.catch(1),n.e(i.t0);case 15:return i.prev=15,n.f(),i.finish(15);case 18:case"end":return i.stop()}},i,null,[[1,12,15,18]])})()})}},{key:"forEach",value:function(t){var e,i=hP(this._pairs);try{for(i.s();!(e=i.n()).done;){var n=Pf(e.value,2),o=n[0];t(n[1],o)}}catch(t){i.e(t)}finally{i.f()}}},{key:"map",value:function(t){var e=this._pairs;return new i({[HC]:()=>_O.mark(function i(){var n,o,r,s,a;return _O.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=hP(e),i.prev=1,n.s();case 3:if((o=n.n()).done){i.next=9;break}return r=Pf(o.value,2),s=r[0],a=r[1],i.next=7,[s,t(a,s)];case 7:i.next=3;break;case 9:i.next=14;break;case 11:i.prev=11,i.t0=i.catch(1),n.e(i.t0);case 14:return i.prev=14,n.f(),i.finish(14);case 17:case"end":return i.stop()}},i,null,[[1,11,14,17]])})()})}},{key:"max",value:function(t){var e=aP(this._pairs),i=e.next();if(i.done)return null;for(var n=i.value[1],o=t(i.value[1],i.value[0]);!(i=e.next()).done;){var r=Pf(i.value,2),s=r[0],a=r[1],h=t(a,s);h>o&&(o=h,n=a)}return n}},{key:"min",value:function(t){var e=aP(this._pairs),i=e.next();if(i.done)return null;for(var n=i.value[1],o=t(i.value[1],i.value[0]);!(i=e.next()).done;){var r=Pf(i.value,2),s=r[0],a=r[1],h=t(a,s);h<o&&(o=h,n=a)}return n}},{key:"reduce",value:function(t,e){var i,n=hP(this._pairs);try{for(n.s();!(i=n.n()).done;){var o=Pf(i.value,2),r=o[0];e=t(e,o[1],r)}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"sort",value:function(t){var e=this;return new i({[HC]:function(){var i;return aP(MC(i=Mf(e._pairs)).call(i,function(e,i){var n=Pf(e,2),o=n[0],r=n[1],s=Pf(i,2),a=s[0],h=s[1];return t(r,h,o,a)}))}})}}]),i}(HC);function dP(t,e){var i=Jf(t);if(zb){var n=zb(t);e&&(n=ud(n).call(n,function(e){return Xb(t,e).enumerable})),i.push.apply(i,n)}return i}function pP(t){for(var e=1;e<arguments.length;e++){var i,n,o=null!=arguments[e]?arguments[e]:{};e%2?cg(i=dP(Object(o),!0)).call(i,function(e){gu(t,e,o[e])}):Qb?sw(t,Qb(o)):cg(n=dP(Object(o))).call(n,function(e){aw(t,e,Xb(o,e))})}return t}function fP(t,e){var i=void 0!==Af&&Mp(t)||t["@@iterator"];if(!i){if(Yf(t)||(i=gP(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function gP(t,e){var i;if(t){if("string"==typeof t)return vP(t,e);var n=Lf(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Tp(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vP(t,e):void 0}}function vP(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function yP(t){var e=mP();return function(){var i,n=bw(t);if(e){var o=bw(this).constructor;i=Fb(n,arguments,o)}else i=n.apply(this,arguments);return vw(this,i)}}function mP(){if("undefined"==typeof Reflect||!Fb)return!1;if(Fb.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fb(Boolean,[],function(){})),!0}catch(t){return!1}}function bP(t,e){return null==t[e]&&(t[e]=iP()),t}var wP=function(t){gw(n,t);var i=yP(n);function n(t,o){var r;return e(this,n),gu(hw(r=i.call(this)),"_queue",null),t&&!Yf(t)&&(o=t,t=[]),r._options=o||{},r._data=new MS,r.length=0,r._idProp=r._options.fieldId||"id",t&&t.length&&r.add(t),r.setOptions(o),r}return fu(n,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=oP.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"==typeof t.queue&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var i,n=this,o=[];if(Yf(t)){var r=bd(t).call(t,function(t){return t[n._idProp]});if(RS(r).call(r,function(t){return n._data.has(t)}))throw new Error("A duplicate id was found in the parameter array.");for(var s=0,a=t.length;s<a;s++)i=this._addItem(t[s]),o.push(i)}else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");i=this._addItem(t),o.push(i)}return o.length&&this._trigger("add",{items:o},e),o}},{key:"update",value:function(t,e){var i=this,n=[],o=[],r=[],s=[],a=this._idProp,h=function(t){var e=t[a];if(null!=e&&i._data.has(e)){var h=t,c=ev({},i._data.get(e)),l=i._updateItem(h);o.push(l),s.push(h),r.push(c)}else{var u=i._addItem(t);n.push(u)}};if(Yf(t))for(var c=0,l=t.length;c<l;c++)t[c]&&"object"==typeof t[c]&&h(t[c]);else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");h(t)}if(n.length&&this._trigger("add",{items:n},e),o.length){var u={items:o,oldData:r,data:s};this._trigger("update",u,e)}return zf(n).call(n,o)}},{key:"updateOnly",value:function(t,e){var i,n=this;Yf(t)||(t=[t]);var o=bd(i=bd(t).call(t,function(t){var e=n._data.get(t[n._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}})).call(i,function(t){var e=t.oldData,i=t.update,o=e[n._idProp],r=lb(e,i);return n._data.set(o,r),{id:o,oldData:e,updatedData:r}});if(o.length){var r={items:bd(o).call(o,function(t){return t.id}),oldData:bd(o).call(o,function(t){return t.oldData}),data:bd(o).call(o,function(t){return t.updatedData})};return this._trigger("update",r,e),r.items}return[]}},{key:"get",value:function(t,e){var i=void 0,n=void 0,o=void 0;nP(t)?(i=t,o=e):Yf(t)?(n=t,o=e):o=t;var r,s=o&&"Object"===o.returnType?"Object":"Array",a=o&&ud(o),h=[],c=void 0,l=void 0,u=void 0;if(null!=i)(c=this._data.get(i))&&a&&!a(c)&&(c=void 0);else if(null!=n)for(var d=0,p=n.length;d<p;d++)null==(c=this._data.get(n[d]))||a&&!a(c)||h.push(c);else for(var f,g=0,v=(l=Mf(XS(f=this._data).call(f))).length;g<v;g++)u=l[g],null==(c=this._data.get(u))||a&&!a(c)||h.push(c);if(o&&o.order&&null==i&&this._sort(h,o.order),o&&o.fields){var y=o.fields;if(null!=i&&null!=c)c=this._filterFields(c,y);else for(var m=0,b=h.length;m<b;m++)h[m]=this._filterFields(h[m],y)}if("Object"==s){for(var w={},_=0,x=h.length;_<x;_++){var E=h[_];w[E[this._idProp]]=E}return w}return null!=i?null!==(r=c)&&void 0!==r?r:null:h}},{key:"getIds",value:function(t){var e=this._data,i=t&&ud(t),n=t&&t.order,o=Mf(XS(e).call(e)),r=[];if(i)if(n){for(var s=[],a=0,h=o.length;a<h;a++){var c=o[a],l=this._data.get(c);null!=l&&i(l)&&s.push(l)}this._sort(s,n);for(var u=0,d=s.length;u<d;u++)r.push(s[u][this._idProp])}else for(var p=0,f=o.length;p<f;p++){var g=o[p],v=this._data.get(g);null!=v&&i(v)&&r.push(v[this._idProp])}else if(n){for(var y=[],m=0,b=o.length;m<b;m++){var w=o[m];y.push(e.get(w))}this._sort(y,n);for(var _=0,x=y.length;_<x;_++)r.push(y[_][this._idProp])}else for(var E=0,k=o.length;E<k;E++){var O=o[E],S=e.get(O);null!=S&&r.push(S[this._idProp])}return r}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var i=e&&ud(e),n=this._data,o=Mf(XS(n).call(n));if(e&&e.order)for(var r=this.get(e),s=0,a=r.length;s<a;s++){var h=r[s];t(h,h[this._idProp])}else for(var c=0,l=o.length;c<l;c++){var u=o[c],d=this._data.get(u);null==d||i&&!i(d)||t(d,u)}}},{key:"map",value:function(t,e){for(var i=e&&ud(e),n=[],o=this._data,r=Mf(XS(o).call(o)),s=0,a=r.length;s<a;s++){var h=r[s],c=this._data.get(h);null==c||i&&!i(c)||n.push(t(c,h))}return e&&e.order&&this._sort(n,e.order),n}},{key:"_filterFields",value:function(t,e){var i;return t?nd(i=Yf(e)?e:Jf(e)).call(i,function(e,i){return e[i]=t[i],e},{}):t}},{key:"_sort",value:function(t,e){if("string"==typeof e){var i=e;MC(t).call(t,function(t,e){var n=t[i],o=e[i];return n>o?1:n<o?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");MC(t).call(t,e)}}},{key:"remove",value:function(t,e){for(var i=[],n=[],o=Yf(t)?t:[t],r=0,s=o.length;r<s;r++){var a=this._remove(o[r]);if(a){var h=a[this._idProp];null!=h&&(i.push(h),n.push(a))}}return i.length&&this._trigger("remove",{items:i,oldData:n},e),i}},{key:"_remove",value:function(t){var e;if(nP(t)?e=t:t&&"object"==typeof t&&(e=t[this._idProp]),null!=e&&this._data.has(e)){var i=this._data.get(e)||null;return this._data.delete(e),--this.length,i}return null}},{key:"clear",value:function(t){for(var e,i=Mf(XS(e=this._data).call(e)),n=[],o=0,r=i.length;o<r;o++)n.push(this._data.get(i[o]));return this._data.clear(),this.length=0,this._trigger("remove",{items:i,oldData:n},t),i}},{key:"max",value:function(t){var e,i,n=null,o=null,r=fP(RC(e=this._data).call(e));try{for(r.s();!(i=r.n()).done;){var s=i.value,a=s[t];"number"==typeof a&&(null==o||a>o)&&(n=s,o=a)}}catch(t){r.e(t)}finally{r.f()}return n||null}},{key:"min",value:function(t){var e,i,n=null,o=null,r=fP(RC(e=this._data).call(e));try{for(r.s();!(i=r.n()).done;){var s=i.value,a=s[t];"number"==typeof a&&(null==o||a<o)&&(n=s,o=a)}}catch(t){r.e(t)}finally{r.f()}return n||null}},{key:"distinct",value:function(t){for(var e=this._data,i=Mf(XS(e).call(e)),n=[],o=0,r=0,s=i.length;r<s;r++){for(var a=i[r],h=e.get(a)[t],c=!1,l=0;l<o;l++)if(n[l]==h){c=!0;break}c||void 0===h||(n[o]=h,o++)}return n}},{key:"_addItem",value:function(t){var e=bP(t,this._idProp),i=e[this._idProp];if(this._data.has(i))throw new Error("Cannot add item: item with id "+i+" already exists");return this._data.set(i,e),++this.length,i}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+fv(t)+")");var i=this._data.get(e);if(!i)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,pP(pP({},i),t)),e}},{key:"stream",value:function(t){if(t){var e=this._data;return new uP({[HC]:()=>_O.mark(function i(){var n,o,r,s;return _O.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=fP(t),i.prev=1,n.s();case 3:if((o=n.n()).done){i.next=11;break}if(r=o.value,null==(s=e.get(r))){i.next=9;break}return i.next=9,[r,s];case 9:i.next=3;break;case 11:i.next=16;break;case 13:i.prev=13,i.t0=i.catch(1),n.e(i.t0);case 16:return i.prev=16,n.f(),i.finish(16);case 19:case"end":return i.stop()}},i,null,[[1,13,16,19]])})()})}var i;return new uP({[HC]:Fu(i=KC(this._data)).call(i,this._data)})}}]),n}(rP);function _P(t,e){var i=void 0!==Af&&Mp(t)||t["@@iterator"];if(!i){if(Yf(t)||(i=xP(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function xP(t,e){var i;if(t){if("string"==typeof t)return EP(t,e);var n=Lf(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Tp(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EP(t,e):void 0}}function EP(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function kP(t){var e=OP();return function(){var i,n=bw(t);if(e){var o=bw(this).constructor;i=Fb(n,arguments,o)}else i=n.apply(this,arguments);return vw(this,i)}}function OP(){if("undefined"==typeof Reflect||!Fb)return!1;if(Fb.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fb(Boolean,[],function(){})),!0}catch(t){return!1}}var SP=function(t){gw(n,t);var i=kP(n);function n(t,o){var r,s;return e(this,n),gu(hw(s=i.call(this)),"length",0),gu(hw(s),"_ids",new sP),s._options=o||{},s._listener=Fu(r=s._onEvent).call(r,hw(s)),s.setData(t),s}return fu(n,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(t){if(this._data){this._data.off&&this._data.off("*",this._listener);var e=this._data.getIds({filter:ud(this._options)}),i=this._data.get(e);this._ids.clear(),this.length=0,this._trigger("remove",{items:e,oldData:i})}if(null!=t){this._data=t;for(var n=this._data.getIds({filter:ud(this._options)}),o=0,r=n.length;o<r;o++){var s=n[o];this._ids.add(s)}this.length=n.length,this._trigger("add",{items:n})}else this._data=new wP;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var t=this._data.getIds({filter:ud(this._options)}),e=Mf(this._ids),i={},n=[],o=[],r=[],s=0,a=t.length;s<a;s++){var h=t[s];i[h]=!0,this._ids.has(h)||(n.push(h),this._ids.add(h))}for(var c=0,l=e.length;c<l;c++){var u=e[c],d=this._data.get(u);null==d||i[u]||(o.push(u),r.push(d),this._ids.delete(u))}this.length+=n.length-o.length,n.length&&this._trigger("add",{items:n}),o.length&&this._trigger("remove",{items:o,oldData:r})}},{key:"get",value:function(t,e){if(null==this._data)return null;var i,n=null;nP(t)||Yf(t)?(n=t,i=e):i=t;var o=ev({},this._options,i),r=ud(this._options),s=i&&ud(i);return r&&s&&(o.filter=function(t){return r(t)&&s(t)}),null==n?this._data.get(o):this._data.get(n,o)}},{key:"getIds",value:function(t){if(this._data.length){var e,i=ud(this._options),n=null!=t?ud(t):null;return e=n?i?function(t){return i(t)&&n(t)}:n:i,this._data.getIds({filter:e,order:t&&t.order})}return[]}},{key:"forEach",value:function(t,e){if(this._data){var i,n,o=ud(this._options),r=e&&ud(e);n=r?o?function(t){return o(t)&&r(t)}:r:o,cg(i=this._data).call(i,t,{filter:n,order:e&&e.order})}}},{key:"map",value:function(t,e){if(this._data){var i,n,o=ud(this._options),r=e&&ud(e);return n=r?o?function(t){return o(t)&&r(t)}:r:o,bd(i=this._data).call(i,t,{filter:n,order:e&&e.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(t){var e;return this._data.stream(t||{[HC]:Fu(e=XS(this._ids)).call(e,this._ids)})}},{key:"dispose",value:function(){var t;null!==(t=this._data)&&void 0!==t&&t.off&&this._data.off("*",this._listener);var e,i="This data view has already been disposed of.",o={get:function(){throw new Error(i)},set:function(){throw new Error(i)},configurable:!1},r=_P($f(n.prototype));try{for(r.s();!(e=r.n()).done;){var s=e.value;aw(this,s,o)}}catch(t){r.e(t)}finally{r.f()}}},{key:"_onEvent",value:function(t,e,i){if(e&&e.items&&this._data){var n=e.items,o=[],r=[],s=[],a=[],h=[],c=[];switch(t){case"add":for(var l=0,u=n.length;l<u;l++){var d=n[l];this.get(d)&&(this._ids.add(d),o.push(d))}break;case"update":for(var p=0,f=n.length;p<f;p++){var g=n[p];this.get(g)?this._ids.has(g)?(r.push(g),h.push(e.data[p]),a.push(e.oldData[p])):(this._ids.add(g),o.push(g)):this._ids.has(g)&&(this._ids.delete(g),s.push(g),c.push(e.oldData[p]))}break;case"remove":for(var v=0,y=n.length;v<y;v++){var m=n[v];this._ids.has(m)&&(this._ids.delete(m),s.push(m),c.push(e.oldData[v]))}}this.length+=o.length-s.length,o.length&&this._trigger("add",{items:o},i),r.length&&this._trigger("update",{items:r,oldData:a,data:h},i),s.length&&this._trigger("remove",{items:s,oldData:c},i)}}}]),n}(rP);function CP(t,e){return"object"==typeof e&&null!==e&&t===e.idProp&&"function"==typeof e.add&&"function"==typeof e.clear&&"function"==typeof e.distinct&&"function"==typeof cg(e)&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof bd(e)&&"function"==typeof e.max&&"function"==typeof e.min&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.remove&&"function"==typeof e.setOptions&&"function"==typeof e.stream&&"function"==typeof e.update&&"function"==typeof e.updateOnly}function PP(t,e){return"object"==typeof e&&null!==e&&t===e.idProp&&"function"==typeof cg(e)&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof bd(e)&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.stream&&CP(t,e.getDataSet())}t.DELETE=cb,t.DataSet=wP,t.DataStream=uP,t.DataView=SP,t.Queue=oP,t.createNewDataPipeFrom=Bd,t.isDataSetLike=CP,t.isDataViewLike=PP}(e)},127:(t,e,i)=>{"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.Compiler=h,e.precompile=function(t,e,i){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0);e.compat&&(e.useDepths=!0);var n=i.parse(t,e),r=(new i.Compiler).compile(n,e);return(new i.JavaScriptCompiler).compile(r,e)},e.compile=function(t,e,i){void 0===e&&(e={});if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in(e=r.extend({},e))||(e.data=!0);e.compat&&(e.useDepths=!0);var n=void 0;function s(){var n=i.parse(t,e),o=(new i.Compiler).compile(n,e),r=(new i.JavaScriptCompiler).compile(o,e,void 0,!0);return i.template(r)}function a(t,e){return n||(n=s()),n.call(this,t,e)}return a._setup=function(t){return n||(n=s()),n._setup(t)},a._child=function(t,e,i,o){return n||(n=s()),n._child(t,e,i,o)},a};var o=n(i(769)),r=i(849),s=n(i(919)),a=[].slice;function h(){}function c(t,e){if(t===e)return!0;if(r.isArray(t)&&r.isArray(e)&&t.length===e.length){for(var i=0;i<t.length;i++)if(!c(t[i],e[i]))return!1;return!0}}function l(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}h.prototype={compiler:h,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;i<e;i++){var n=this.opcodes[i],o=t.opcodes[i];if(n.opcode!==o.opcode||!c(n.args,o.args))return!1}e=this.children.length;for(i=0;i<e;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[],e.knownHelpers=r.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},e.knownHelpers),this.accept(t)},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),i=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[i]=e,this.useDepths=this.useDepths||e.useDepths,i},accept:function(t){if(!this[t.type])throw new o.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,i=e.length,n=0;n<i;n++)this.accept(e[n]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){l(t);var e=t.program,i=t.inverse;e=e&&this.compileProgram(e),i=i&&this.compileProgram(i);var n=this.classifySexpr(t);"helper"===n?this.helperSexpr(t,e,i):"simple"===n?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,i),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),i=this.setupFullMustacheParams(t,e,void 0),n=t.path;this.useDecorators=!0,this.opcode("registerDecorator",i.length,n.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var i=t.params;if(i.length>1)throw new o.default("Unsupported number of partial arguments: "+i.length,t);i.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):i.push({type:"PathExpression",parts:[],depth:0}));var n=t.name.original,r="SubExpression"===t.name.type;r&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var s=t.indent||"";this.options.preventIndent&&s&&(this.opcode("appendContent",s),s=""),this.opcode("invokePartial",r,n,s),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){l(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,i){var n=t.path,o=n.parts[0],r=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),n.strict=!0,this.accept(n),this.opcode("invokeAmbiguous",o,r)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){var n=this.setupFullMustacheParams(t,e,i),r=t.path,a=r.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",n.length,a);else{if(this.options.knownHelpersOnly)throw new o.default("You specified knownHelpersOnly, but used the unknown helper "+a,t);r.strict=!0,r.falsy=!0,this.accept(r),this.opcode("invokeHelper",n.length,r.original,s.default.helpers.simpleId(r))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],i=s.default.helpers.scopedId(t),n=!t.depth&&!i&&this.blockParamIndex(e);n?this.opcode("lookupBlockParam",n,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,i):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,i=0,n=e.length;for(this.opcode("pushHash");i<n;i++)this.pushParam(e[i].value);for(;i--;)this.opcode("assignToHash",e[i].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:a.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=s.default.helpers.simpleId(t.path),i=e&&!!this.blockParamIndex(t.path.parts[0]),n=!i&&s.default.helpers.helperExpression(t),o=!i&&(n||e);if(o&&!n){var r=t.path.parts[0],a=this.options;a.knownHelpers[r]?n=!0:a.knownHelpersOnly&&(o=!1)}return n?"helper":o?"ambiguous":"simple"},pushParams:function(t){for(var e=0,i=t.length;e<i;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var i=void 0;if(!t.parts||s.default.helpers.scopedId(t)||t.depth||(i=this.blockParamIndex(t.parts[0])),i){var n=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,n)}else(e=t.original||e).replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,i,n){var o=t.params;return this.pushParams(o),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.accept(t.hash):this.opcode("emptyHash",n),o},blockParamIndex:function(t){for(var e=0,i=this.options.blockParams.length;e<i;e++){var n=this.options.blockParams[e],o=n&&r.indexOf(n,t);if(n&&o>=0)return[e,o]}}}},148:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__);var e=globalThis.Handlebars;t.noConflict=function(){return globalThis.Handlebars===t&&(globalThis.Handlebars=e),t}},t.exports=e.default},201:(t,e)=>{"use strict";e.__esModule=!0;var i=function(){var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,i,n,o,r,s){var a=r.length-1;switch(o){case 1:return r[a-1];case 2:this.$=n.prepareProgram(r[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=r[a];break;case 9:this.$={type:"CommentStatement",value:n.stripComment(r[a]),strip:n.stripFlags(r[a],r[a]),loc:n.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:r[a],value:r[a],loc:n.locInfo(this._$)};break;case 11:this.$=n.prepareRawBlock(r[a-2],r[a-1],r[a],this._$);break;case 12:this.$={path:r[a-3],params:r[a-2],hash:r[a-1]};break;case 13:this.$=n.prepareBlock(r[a-3],r[a-2],r[a-1],r[a],!1,this._$);break;case 14:this.$=n.prepareBlock(r[a-3],r[a-2],r[a-1],r[a],!0,this._$);break;case 15:this.$={open:r[a-5],path:r[a-4],params:r[a-3],hash:r[a-2],blockParams:r[a-1],strip:n.stripFlags(r[a-5],r[a])};break;case 16:case 17:this.$={path:r[a-4],params:r[a-3],hash:r[a-2],blockParams:r[a-1],strip:n.stripFlags(r[a-5],r[a])};break;case 18:this.$={strip:n.stripFlags(r[a-1],r[a-1]),program:r[a]};break;case 19:var h=n.prepareBlock(r[a-2],r[a-1],r[a],r[a],!1,this._$),c=n.prepareProgram([h],r[a-1].loc);c.chained=!0,this.$={strip:r[a-2].strip,program:c,chain:!0};break;case 21:this.$={path:r[a-1],strip:n.stripFlags(r[a-2],r[a])};break;case 22:case 23:this.$=n.prepareMustache(r[a-3],r[a-2],r[a-1],r[a-4],n.stripFlags(r[a-4],r[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:r[a-3],params:r[a-2],hash:r[a-1],indent:"",strip:n.stripFlags(r[a-4],r[a]),loc:n.locInfo(this._$)};break;case 25:this.$=n.preparePartialBlock(r[a-2],r[a-1],r[a],this._$);break;case 26:this.$={path:r[a-3],params:r[a-2],hash:r[a-1],strip:n.stripFlags(r[a-4],r[a])};break;case 29:this.$={type:"SubExpression",path:r[a-3],params:r[a-2],hash:r[a-1],loc:n.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:r[a],loc:n.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:n.id(r[a-2]),value:r[a],loc:n.locInfo(this._$)};break;case 32:this.$=n.id(r[a-1]);break;case 35:this.$={type:"StringLiteral",value:r[a],original:r[a],loc:n.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(r[a]),original:Number(r[a]),loc:n.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===r[a],original:"true"===r[a],loc:n.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:n.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:n.locInfo(this._$)};break;case 42:this.$=n.preparePath(!0,r[a],this._$);break;case 43:this.$=n.preparePath(!1,r[a],this._$);break;case 44:r[a-2].push({part:n.id(r[a]),original:r[a],separator:r[a-1]}),this.$=r[a-2];break;case 45:this.$=[{part:n.id(r[a]),original:r[a]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:r[a-1].push(r[a]);break;case 98:case 100:this.$=[r[a]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,i=[0],n=[null],o=[],r=this.table,s="",a=0,h=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;o.push(l);var u=this.lexer.options&&this.lexer.options.ranges;function d(){var t;return"number"!=typeof(t=e.lexer.lex()||1)&&(t=e.symbols_[t]||t),t}"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,g,v,y,m,b,w,_,x={};;){if(g=i[i.length-1],this.defaultActions[g]?v=this.defaultActions[g]:(null==p&&(p=d()),v=r[g]&&r[g][p]),void 0===v||!v.length||!v[0]){var E="";if(!c){for(m in _=[],r[g])this.terminals_[m]&&m>2&&_.push("'"+this.terminals_[m]+"'");E=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(E,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:l,expected:_})}}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(v[0]){case 1:i.push(p),n.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(v[1]),p=null,f?(p=f,f=null):(h=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,l=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[v[1]][1],x.$=n[n.length-b],x._$={first_line:o[o.length-(b||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(b||1)].first_column,last_column:o[o.length-1].last_column},u&&(x._$.range=[o[o.length-(b||1)].range[0],o[o.length-1].range[1]]),void 0!==(y=this.performAction.call(x,s,h,a,this.yy,v[1],n,o)))return y;b&&(i=i.slice(0,-1*b*2),n=n.slice(0,-1*b),o=o.slice(0,-1*b)),i.push(this.productions_[v[1]][0]),n.push(x.$),o.push(x._$),w=r[i[i.length-2]][i[i.length-1]],i.push(w);break;case 3:return!0}}return!0}},e=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,i,n,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),s=0;s<r.length&&(!(i=this._input.match(this.rules[r[s]]))||e&&!(i[0].length>e[0].length)||(e=i,n=s,this.options.flex));s++);return e?((o=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,r[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,e,i,n){function o(t,i){return e.yytext=e.yytext.substring(t,e.yyleng-i+t)}switch(i){case 0:if("\\\\"===e.yytext.slice(-2)?(o(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(o(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(o(5,9),"END_RAW_BLOCK");case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=o(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=o(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return t}();function i(){this.yy={}}return t.lexer=e,i.prototype=t,t.Parser=i,new i}();e.default=i,t.exports=e.default},261:(t,e,i)=>{"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}e.__esModule=!0;var r=o(i(871)),s=n(i(613)),a=n(i(769)),h=o(i(849)),c=o(i(624)),l=n(i(148));function u(){var t=new r.HandlebarsEnvironment;return h.extend(t,r),t.SafeString=s.default,t.Exception=a.default,t.Utils=h,t.escapeExpression=h.escapeExpression,t.VM=c,t.template=function(e){return c.template(e,t)},t}var d=u();d.create=u,l.default(d),d.default=d,e.default=d,t.exports=e.default},277:(t,e,i)=>{"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){o.default(t),r.default(t),s.default(t),a.default(t),h.default(t),c.default(t),l.default(t)},e.moveHelperToHooks=function(t,e,i){t.helpers[e]&&(t.hooks[e]=t.helpers[e],i||delete t.helpers[e])};var o=n(i(97)),r=n(i(785)),s=n(i(353)),a=n(i(355)),h=n(i(300)),c=n(i(466)),l=n(i(908))},300:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var o=1;null!=i.hash.level?o=i.hash.level:i.data&&null!=i.data.level&&(o=i.data.level),e[0]=o,t.log.apply(t,e)})},t.exports=e.default},350:(t,e,i)=>{"use strict";e.__esModule=!0;var n,o=i(769),r=(n=o)&&n.__esModule?n:{default:n};function s(){this.parents=[]}function a(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function h(t){a.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function c(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}s.prototype={constructor:s,mutating:!1,acceptKey:function(t,e){var i=this.accept(t[e]);if(this.mutating){if(i&&!s.prototype[i.type])throw new r.default('Unexpected node type "'+i.type+'" found when accepting '+e+" on "+t.type);t[e]=i}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new r.default(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,i=t.length;e<i;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,i--)},accept:function(t){if(t){if(!this[t.type])throw new r.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:a,Decorator:a,BlockStatement:h,DecoratorBlock:h,PartialStatement:c,PartialBlockStatement:function(t){c.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:a,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e.default=s,t.exports=e.default},353:(t,e,i)=>{"use strict";e.__esModule=!0;var n,o=i(769),r=(n=o)&&n.__esModule?n:{default:n};e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},355:(t,e,i)=>{"use strict";e.__esModule=!0;var n,o=i(849),r=i(769),s=(n=r)&&n.__esModule?n:{default:n};e.default=function(t){t.registerHelper("if",function(t,e){if(2!=arguments.length)throw new s.default("#if requires exactly one argument");return o.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){if(2!=arguments.length)throw new s.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},t.exports=e.default},425:(t,e,i)=>{"use strict";e.__esModule=!0,e.SourceLocation=function(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}},e.id=function(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t},e.stripFlags=function(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}},e.stripComment=function(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},e.preparePath=function(t,e,i){i=this.locInfo(i);for(var n=t?"@":"",o=[],s=0,a=0,h=e.length;a<h;a++){var c=e[a].part,l=e[a].original!==c;if(n+=(e[a].separator||"")+c,l||".."!==c&&"."!==c&&"this"!==c)o.push(c);else{if(o.length>0)throw new r.default("Invalid path: "+n,{loc:i});".."===c&&s++}}return{type:"PathExpression",data:t,depth:s,parts:o,original:n,loc:i}},e.prepareMustache=function(t,e,i,n,o,r){var s=n.charAt(3)||n.charAt(2),a="{"!==s&&"&"!==s;return{type:/\*/.test(n)?"Decorator":"MustacheStatement",path:t,params:e,hash:i,escaped:a,strip:o,loc:this.locInfo(r)}},e.prepareRawBlock=function(t,e,i,n){s(t,i),n=this.locInfo(n);var o={type:"Program",body:e,strip:{},loc:n};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:n}},e.prepareBlock=function(t,e,i,n,o,a){n&&n.path&&s(t,n);var h=/\*/.test(t.open);e.blockParams=t.blockParams;var c=void 0,l=void 0;if(i){if(h)throw new r.default("Unexpected inverse block on decorator",i);i.chain&&(i.program.body[0].closeStrip=n.strip),l=i.strip,c=i.program}o&&(o=c,c=e,e=o);return{type:h?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:c,openStrip:t.strip,inverseStrip:l,closeStrip:n&&n.strip,loc:this.locInfo(a)}},e.prepareProgram=function(t,e){if(!e&&t.length){var i=t[0].loc,n=t[t.length-1].loc;i&&n&&(e={source:i.source,start:{line:i.start.line,column:i.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:t,strip:{},loc:e}},e.preparePartialBlock=function(t,e,i,n){return s(t,i),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:i&&i.strip,loc:this.locInfo(n)}};var n,o=i(769),r=(n=o)&&n.__esModule?n:{default:n};function s(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var i={loc:t.path.loc};throw new r.default(t.path.original+" doesn't match "+e,i)}}},430:(t,e,i)=>{"use strict";e.__esModule=!0;var n=i(849);e.default=function(t){t.registerDecorator("inline",function(t,e,i,o){var r=t;return e.partials||(e.partials={},r=function(o,r){var s=i.partials;i.partials=n.extend({},s,e.partials);var a=t(o,r);return i.partials=s,a}),e.partials[o.args[0]]=o.fn,r})},t.exports=e.default},466:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e,i){return t?i.lookupProperty(t,e):t})},t.exports=e.default},543:function(t,e,i){var n;t=i.nmd(t),function(){var o,r="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",h=16,c=32,l=64,u=128,d=256,p=1/0,f=9007199254740991,g=NaN,v=4294967295,y=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",h],["flip",512],["partial",c],["partialRight",l],["rearg",d]],m="[object Arguments]",b="[object Array]",w="[object Boolean]",_="[object Date]",x="[object Error]",E="[object Function]",k="[object GeneratorFunction]",O="[object Map]",S="[object Number]",C="[object Object]",P="[object Promise]",T="[object RegExp]",I="[object Set]",D="[object String]",M="[object Symbol]",A="[object WeakMap]",N="[object ArrayBuffer]",B="[object DataView]",j="[object Float32Array]",F="[object Float64Array]",z="[object Int8Array]",L="[object Int16Array]",R="[object Int32Array]",H="[object Uint8Array]",W="[object Uint8ClampedArray]",U="[object Uint16Array]",V="[object Uint32Array]",q=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,G=RegExp(X.source),Z=RegExp(K.source),J=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,it=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(ot.source),st=/^\s+/,at=/\s/,ht=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,vt=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,mt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,wt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,Et=/['\n\r\u2028\u2029\\]/g,kt="\\ud800-\\udfff",Ot="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",St="\\u2700-\\u27bf",Ct="a-z\\xdf-\\xf6\\xf8-\\xff",Pt="A-Z\\xc0-\\xd6\\xd8-\\xde",Tt="\\ufe0e\\ufe0f",It="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dt="['â]",Mt="["+kt+"]",At="["+It+"]",Nt="["+Ot+"]",Bt="\\d+",jt="["+St+"]",Ft="["+Ct+"]",zt="[^"+kt+It+Bt+St+Ct+Pt+"]",Lt="\\ud83c[\\udffb-\\udfff]",Rt="[^"+kt+"]",Ht="(?:\\ud83c[\\udde6-\\uddff]){2}",Wt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ut="["+Pt+"]",Vt="\\u200d",qt="(?:"+Ft+"|"+zt+")",$t="(?:"+Ut+"|"+zt+")",Yt="(?:['â](?:d|ll|m|re|s|t|ve))?",Xt="(?:['â](?:D|LL|M|RE|S|T|VE))?",Kt="(?:"+Nt+"|"+Lt+")"+"?",Gt="["+Tt+"]?",Zt=Gt+Kt+("(?:"+Vt+"(?:"+[Rt,Ht,Wt].join("|")+")"+Gt+Kt+")*"),Jt="(?:"+[jt,Ht,Wt].join("|")+")"+Zt,Qt="(?:"+[Rt+Nt+"?",Nt,Ht,Wt,Mt].join("|")+")",te=RegExp(Dt,"g"),ee=RegExp(Nt,"g"),ie=RegExp(Lt+"(?="+Lt+")|"+Qt+Zt,"g"),ne=RegExp([Ut+"?"+Ft+"+"+Yt+"(?="+[At,Ut,"$"].join("|")+")",$t+"+"+Xt+"(?="+[At,Ut+qt,"$"].join("|")+")",Ut+"?"+qt+"+"+Yt,Ut+"+"+Xt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bt,Jt].join("|"),"g"),oe=RegExp("["+Vt+kt+Ot+Tt+"]"),re=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,he={};he[j]=he[F]=he[z]=he[L]=he[R]=he[H]=he[W]=he[U]=he[V]=!0,he[m]=he[b]=he[N]=he[w]=he[B]=he[_]=he[x]=he[E]=he[O]=he[S]=he[C]=he[T]=he[I]=he[D]=he[A]=!1;var ce={};ce[m]=ce[b]=ce[N]=ce[B]=ce[w]=ce[_]=ce[j]=ce[F]=ce[z]=ce[L]=ce[R]=ce[O]=ce[S]=ce[C]=ce[T]=ce[I]=ce[D]=ce[M]=ce[H]=ce[W]=ce[U]=ce[V]=!0,ce[x]=ce[E]=ce[A]=!1;var le={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ue=parseFloat,de=parseInt,pe="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,fe="object"==typeof self&&self&&self.Object===Object&&self,ge=pe||fe||Function("return this")(),ve=e&&!e.nodeType&&e,ye=ve&&t&&!t.nodeType&&t,me=ye&&ye.exports===ve,be=me&&pe.process,we=function(){try{var t=ye&&ye.require&&ye.require("util").types;return t||be&&be.binding&&be.binding("util")}catch(t){}}(),_e=we&&we.isArrayBuffer,xe=we&&we.isDate,Ee=we&&we.isMap,ke=we&&we.isRegExp,Oe=we&&we.isSet,Se=we&&we.isTypedArray;function Ce(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function Pe(t,e,i,n){for(var o=-1,r=null==t?0:t.length;++o<r;){var s=t[o];e(n,s,i(s),t)}return n}function Te(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}function Ie(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function De(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function Me(t,e){for(var i=-1,n=null==t?0:t.length,o=0,r=[];++i<n;){var s=t[i];e(s,i,t)&&(r[o++]=s)}return r}function Ae(t,e){return!!(null==t?0:t.length)&&Ue(t,e,0)>-1}function Ne(t,e,i){for(var n=-1,o=null==t?0:t.length;++n<o;)if(i(e,t[n]))return!0;return!1}function Be(t,e){for(var i=-1,n=null==t?0:t.length,o=Array(n);++i<n;)o[i]=e(t[i],i,t);return o}function je(t,e){for(var i=-1,n=e.length,o=t.length;++i<n;)t[o+i]=e[i];return t}function Fe(t,e,i,n){var o=-1,r=null==t?0:t.length;for(n&&r&&(i=t[++o]);++o<r;)i=e(i,t[o],o,t);return i}function ze(t,e,i,n){var o=null==t?0:t.length;for(n&&o&&(i=t[--o]);o--;)i=e(i,t[o],o,t);return i}function Le(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}var Re=Ye("length");function He(t,e,i){var n;return i(t,function(t,i,o){if(e(t,i,o))return n=i,!1}),n}function We(t,e,i,n){for(var o=t.length,r=i+(n?1:-1);n?r--:++r<o;)if(e(t[r],r,t))return r;return-1}function Ue(t,e,i){return e==e?function(t,e,i){var n=i-1,o=t.length;for(;++n<o;)if(t[n]===e)return n;return-1}(t,e,i):We(t,qe,i)}function Ve(t,e,i,n){for(var o=i-1,r=t.length;++o<r;)if(n(t[o],e))return o;return-1}function qe(t){return t!=t}function $e(t,e){var i=null==t?0:t.length;return i?Ge(t,e)/i:g}function Ye(t){return function(e){return null==e?o:e[t]}}function Xe(t){return function(e){return null==t?o:t[e]}}function Ke(t,e,i,n,o){return o(t,function(t,o,r){i=n?(n=!1,t):e(i,t,o,r)}),i}function Ge(t,e){for(var i,n=-1,r=t.length;++n<r;){var s=e(t[n]);s!==o&&(i=i===o?s:i+s)}return i}function Ze(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function Je(t){return t?t.slice(0,gi(t)+1).replace(st,""):t}function Qe(t){return function(e){return t(e)}}function ti(t,e){return Be(e,function(e){return t[e]})}function ei(t,e){return t.has(e)}function ii(t,e){for(var i=-1,n=t.length;++i<n&&Ue(e,t[i],0)>-1;);return i}function ni(t,e){for(var i=t.length;i--&&Ue(e,t[i],0)>-1;);return i}var oi=Xe({Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã:"C",Ã§:"c",Ã:"D",Ã°:"d",Ã:"E",Ã:"E",Ã:"E",Ã:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",Ã:"I",Ã:"I",Ã:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã:"N",Ã±:"n",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã:"U",Ã:"U",Ã:"U",Ã:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã:"Ae",Ã¦:"ae",Ã:"Th",Ã¾:"th",Ã:"ss",Ä:"A",Ä:"A",Ä:"A",Ä:"a",Ä:"a",Ä:"a",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"D",Ä:"D",Ä:"d",Ä:"d",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"G",Ä:"G",Ä :"G",Ä¢:"G",Ä:"g",Ä:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å:"l",Å:"l",Å:"N",Å:"N",Å:"N",Å:"N",Å:"n",Å:"n",Å:"n",Å:"n",Å:"O",Å:"O",Å:"O",Å:"o",Å:"o",Å:"o",Å:"R",Å:"R",Å:"R",Å:"r",Å:"r",Å:"r",Å:"S",Å:"S",Å:"S",Å :"S",Å:"s",Å:"s",Å:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å:"Oe",Å:"oe",Å:"'n",Å¿:"s"}),ri=Xe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function si(t){return"\\"+le[t]}function ai(t){return oe.test(t)}function hi(t){var e=-1,i=Array(t.size);return t.forEach(function(t,n){i[++e]=[n,t]}),i}function ci(t,e){return function(i){return t(e(i))}}function li(t,e){for(var i=-1,n=t.length,o=0,r=[];++i<n;){var s=t[i];s!==e&&s!==a||(t[i]=a,r[o++]=i)}return r}function ui(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}function di(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=[t,t]}),i}function pi(t){return ai(t)?function(t){var e=ie.lastIndex=0;for(;ie.test(t);)++e;return e}(t):Re(t)}function fi(t){return ai(t)?function(t){return t.match(ie)||[]}(t):function(t){return t.split("")}(t)}function gi(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var vi=Xe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yi=function t(e){var i,n=(e=null==e?ge:yi.defaults(ge.Object(),e,yi.pick(ge,se))).Array,at=e.Date,kt=e.Error,Ot=e.Function,St=e.Math,Ct=e.Object,Pt=e.RegExp,Tt=e.String,It=e.TypeError,Dt=n.prototype,Mt=Ot.prototype,At=Ct.prototype,Nt=e["__core-js_shared__"],Bt=Mt.toString,jt=At.hasOwnProperty,Ft=0,zt=(i=/[^.]+$/.exec(Nt&&Nt.keys&&Nt.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",Lt=At.toString,Rt=Bt.call(Ct),Ht=ge._,Wt=Pt("^"+Bt.call(jt).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=me?e.Buffer:o,Vt=e.Symbol,qt=e.Uint8Array,$t=Ut?Ut.allocUnsafe:o,Yt=ci(Ct.getPrototypeOf,Ct),Xt=Ct.create,Kt=At.propertyIsEnumerable,Gt=Dt.splice,Zt=Vt?Vt.isConcatSpreadable:o,Jt=Vt?Vt.iterator:o,Qt=Vt?Vt.toStringTag:o,ie=function(){try{var t=pr(Ct,"defineProperty");return t({},"",{}),t}catch(t){}}(),oe=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,le=at&&at.now!==ge.Date.now&&at.now,pe=e.setTimeout!==ge.setTimeout&&e.setTimeout,fe=St.ceil,ve=St.floor,ye=Ct.getOwnPropertySymbols,be=Ut?Ut.isBuffer:o,we=e.isFinite,Re=Dt.join,Xe=ci(Ct.keys,Ct),mi=St.max,bi=St.min,wi=at.now,_i=e.parseInt,xi=St.random,Ei=Dt.reverse,ki=pr(e,"DataView"),Oi=pr(e,"Map"),Si=pr(e,"Promise"),Ci=pr(e,"Set"),Pi=pr(e,"WeakMap"),Ti=pr(Ct,"create"),Ii=Pi&&new Pi,Di={},Mi=Lr(ki),Ai=Lr(Oi),Ni=Lr(Si),Bi=Lr(Ci),ji=Lr(Pi),Fi=Vt?Vt.prototype:o,zi=Fi?Fi.valueOf:o,Li=Fi?Fi.toString:o;function Ri(t){if(ia(t)&&!qs(t)&&!(t instanceof Vi)){if(t instanceof Ui)return t;if(jt.call(t,"__wrapped__"))return Rr(t)}return new Ui(t)}var Hi=function(){function t(){}return function(e){if(!ea(e))return{};if(Xt)return Xt(e);t.prototype=e;var i=new t;return t.prototype=o,i}}();function Wi(){}function Ui(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function Vi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function qi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function $i(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Yi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Xi(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new Yi;++e<i;)this.add(t[e])}function Ki(t){var e=this.__data__=new $i(t);this.size=e.size}function Gi(t,e){var i=qs(t),n=!i&&Vs(t),o=!i&&!n&&Ks(t),r=!i&&!n&&!o&&la(t),s=i||n||o||r,a=s?Ze(t.length,Tt):[],h=a.length;for(var c in t)!e&&!jt.call(t,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wr(c,h))||a.push(c);return a}function Zi(t){var e=t.length;return e?t[Kn(0,e-1)]:o}function Ji(t,e){return jr(Do(t),hn(e,0,t.length))}function Qi(t){return jr(Do(t))}function tn(t,e,i){(i!==o&&!Hs(t[e],i)||i===o&&!(e in t))&&sn(t,e,i)}function en(t,e,i){var n=t[e];jt.call(t,e)&&Hs(n,i)&&(i!==o||e in t)||sn(t,e,i)}function nn(t,e){for(var i=t.length;i--;)if(Hs(t[i][0],e))return i;return-1}function on(t,e,i,n){return pn(t,function(t,o,r){e(n,t,i(t),r)}),n}function rn(t,e){return t&&Mo(e,Ma(e),t)}function sn(t,e,i){"__proto__"==e&&ie?ie(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function an(t,e){for(var i=-1,r=e.length,s=n(r),a=null==t;++i<r;)s[i]=a?o:Ca(t,e[i]);return s}function hn(t,e,i){return t==t&&(i!==o&&(t=t<=i?t:i),e!==o&&(t=t>=e?t:e)),t}function cn(t,e,i,n,r,s){var a,h=1&e,c=2&e,l=4&e;if(i&&(a=r?i(t,n,r,s):i(t)),a!==o)return a;if(!ea(t))return t;var u=qs(t);if(u){if(a=function(t){var e=t.length,i=new t.constructor(e);e&&"string"==typeof t[0]&&jt.call(t,"index")&&(i.index=t.index,i.input=t.input);return i}(t),!h)return Do(t,a)}else{var d=vr(t),p=d==E||d==k;if(Ks(t))return Oo(t,h);if(d==C||d==m||p&&!r){if(a=c||p?{}:mr(t),!h)return c?function(t,e){return Mo(t,gr(t),e)}(t,function(t,e){return t&&Mo(e,Aa(e),t)}(a,t)):function(t,e){return Mo(t,fr(t),e)}(t,rn(a,t))}else{if(!ce[d])return r?t:{};a=function(t,e,i){var n=t.constructor;switch(e){case N:return So(t);case w:case _:return new n(+t);case B:return function(t,e){var i=e?So(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case j:case F:case z:case L:case R:case H:case W:case U:case V:return Co(t,i);case O:return new n;case S:case D:return new n(t);case T:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case I:return new n;case M:return o=t,zi?Ct(zi.call(o)):{}}var o}(t,d,h)}}s||(s=new Ki);var f=s.get(t);if(f)return f;s.set(t,a),aa(t)?t.forEach(function(n){a.add(cn(n,e,i,n,t,s))}):na(t)&&t.forEach(function(n,o){a.set(o,cn(n,e,i,o,t,s))});var g=u?o:(l?c?sr:rr:c?Aa:Ma)(t);return Te(g||t,function(n,o){g&&(n=t[o=n]),en(a,o,cn(n,e,i,o,t,s))}),a}function ln(t,e,i){var n=i.length;if(null==t)return!n;for(t=Ct(t);n--;){var r=i[n],s=e[r],a=t[r];if(a===o&&!(r in t)||!s(a))return!1}return!0}function un(t,e,i){if("function"!=typeof t)throw new It(r);return Mr(function(){t.apply(o,i)},e)}function dn(t,e,i,n){var o=-1,r=Ae,s=!0,a=t.length,h=[],c=e.length;if(!a)return h;i&&(e=Be(e,Qe(i))),n?(r=Ne,s=!1):e.length>=200&&(r=ei,s=!1,e=new Xi(e));t:for(;++o<a;){var l=t[o],u=null==i?l:i(l);if(l=n||0!==l?l:0,s&&u==u){for(var d=c;d--;)if(e[d]===u)continue t;h.push(l)}else r(e,u,n)||h.push(l)}return h}Ri.templateSettings={escape:J,evaluate:Q,interpolate:tt,variable:"",imports:{_:Ri}},Ri.prototype=Wi.prototype,Ri.prototype.constructor=Ri,Ui.prototype=Hi(Wi.prototype),Ui.prototype.constructor=Ui,Vi.prototype=Hi(Wi.prototype),Vi.prototype.constructor=Vi,qi.prototype.clear=function(){this.__data__=Ti?Ti(null):{},this.size=0},qi.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qi.prototype.get=function(t){var e=this.__data__;if(Ti){var i=e[t];return i===s?o:i}return jt.call(e,t)?e[t]:o},qi.prototype.has=function(t){var e=this.__data__;return Ti?e[t]!==o:jt.call(e,t)},qi.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Ti&&e===o?s:e,this},$i.prototype.clear=function(){this.__data__=[],this.size=0},$i.prototype.delete=function(t){var e=this.__data__,i=nn(e,t);return!(i<0)&&(i==e.length-1?e.pop():Gt.call(e,i,1),--this.size,!0)},$i.prototype.get=function(t){var e=this.__data__,i=nn(e,t);return i<0?o:e[i][1]},$i.prototype.has=function(t){return nn(this.__data__,t)>-1},$i.prototype.set=function(t,e){var i=this.__data__,n=nn(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this},Yi.prototype.clear=function(){this.size=0,this.__data__={hash:new qi,map:new(Oi||$i),string:new qi}},Yi.prototype.delete=function(t){var e=ur(this,t).delete(t);return this.size-=e?1:0,e},Yi.prototype.get=function(t){return ur(this,t).get(t)},Yi.prototype.has=function(t){return ur(this,t).has(t)},Yi.prototype.set=function(t,e){var i=ur(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this},Xi.prototype.add=Xi.prototype.push=function(t){return this.__data__.set(t,s),this},Xi.prototype.has=function(t){return this.__data__.has(t)},Ki.prototype.clear=function(){this.__data__=new $i,this.size=0},Ki.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Ki.prototype.get=function(t){return this.__data__.get(t)},Ki.prototype.has=function(t){return this.__data__.has(t)},Ki.prototype.set=function(t,e){var i=this.__data__;if(i instanceof $i){var n=i.__data__;if(!Oi||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Yi(n)}return i.set(t,e),this.size=i.size,this};var pn=Bo(_n),fn=Bo(xn,!0);function gn(t,e){var i=!0;return pn(t,function(t,n,o){return i=!!e(t,n,o)}),i}function vn(t,e,i){for(var n=-1,r=t.length;++n<r;){var s=t[n],a=e(s);if(null!=a&&(h===o?a==a&&!ca(a):i(a,h)))var h=a,c=s}return c}function yn(t,e){var i=[];return pn(t,function(t,n,o){e(t,n,o)&&i.push(t)}),i}function mn(t,e,i,n,o){var r=-1,s=t.length;for(i||(i=br),o||(o=[]);++r<s;){var a=t[r];e>0&&i(a)?e>1?mn(a,e-1,i,n,o):je(o,a):n||(o[o.length]=a)}return o}var bn=jo(),wn=jo(!0);function _n(t,e){return t&&bn(t,e,Ma)}function xn(t,e){return t&&wn(t,e,Ma)}function En(t,e){return Me(e,function(e){return Js(t[e])})}function kn(t,e){for(var i=0,n=(e=_o(e,t)).length;null!=t&&i<n;)t=t[zr(e[i++])];return i&&i==n?t:o}function On(t,e,i){var n=e(t);return qs(t)?n:je(n,i(t))}function Sn(t){return null==t?t===o?"[object Undefined]":"[object Null]":Qt&&Qt in Ct(t)?function(t){var e=jt.call(t,Qt),i=t[Qt];try{t[Qt]=o;var n=!0}catch(t){}var r=Lt.call(t);n&&(e?t[Qt]=i:delete t[Qt]);return r}(t):function(t){return Lt.call(t)}(t)}function Cn(t,e){return t>e}function Pn(t,e){return null!=t&&jt.call(t,e)}function Tn(t,e){return null!=t&&e in Ct(t)}function In(t,e,i){for(var r=i?Ne:Ae,s=t[0].length,a=t.length,h=a,c=n(a),l=1/0,u=[];h--;){var d=t[h];h&&e&&(d=Be(d,Qe(e))),l=bi(d.length,l),c[h]=!i&&(e||s>=120&&d.length>=120)?new Xi(h&&d):o}d=t[0];var p=-1,f=c[0];t:for(;++p<s&&u.length<l;){var g=d[p],v=e?e(g):g;if(g=i||0!==g?g:0,!(f?ei(f,v):r(u,v,i))){for(h=a;--h;){var y=c[h];if(!(y?ei(y,v):r(t[h],v,i)))continue t}f&&f.push(v),u.push(g)}}return u}function Dn(t,e,i){var n=null==(t=Tr(t,e=_o(e,t)))?t:t[zr(Zr(e))];return null==n?o:Ce(n,t,i)}function Mn(t){return ia(t)&&Sn(t)==m}function An(t,e,i,n,r){return t===e||(null==t||null==e||!ia(t)&&!ia(e)?t!=t&&e!=e:function(t,e,i,n,r,s){var a=qs(t),h=qs(e),c=a?b:vr(t),l=h?b:vr(e),u=(c=c==m?C:c)==C,d=(l=l==m?C:l)==C,p=c==l;if(p&&Ks(t)){if(!Ks(e))return!1;a=!0,u=!1}if(p&&!u)return s||(s=new Ki),a||la(t)?nr(t,e,i,n,r,s):function(t,e,i,n,o,r,s){switch(i){case B:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case N:return!(t.byteLength!=e.byteLength||!r(new qt(t),new qt(e)));case w:case _:case S:return Hs(+t,+e);case x:return t.name==e.name&&t.message==e.message;case T:case D:return t==e+"";case O:var a=hi;case I:var h=1&n;if(a||(a=ui),t.size!=e.size&&!h)return!1;var c=s.get(t);if(c)return c==e;n|=2,s.set(t,e);var l=nr(a(t),a(e),n,o,r,s);return s.delete(t),l;case M:if(zi)return zi.call(t)==zi.call(e)}return!1}(t,e,c,i,n,r,s);if(!(1&i)){var f=u&&jt.call(t,"__wrapped__"),g=d&&jt.call(e,"__wrapped__");if(f||g){var v=f?t.value():t,y=g?e.value():e;return s||(s=new Ki),r(v,y,i,n,s)}}if(!p)return!1;return s||(s=new Ki),function(t,e,i,n,r,s){var a=1&i,h=rr(t),c=h.length,l=rr(e),u=l.length;if(c!=u&&!a)return!1;var d=c;for(;d--;){var p=h[d];if(!(a?p in e:jt.call(e,p)))return!1}var f=s.get(t),g=s.get(e);if(f&&g)return f==e&&g==t;var v=!0;s.set(t,e),s.set(e,t);var y=a;for(;++d<c;){var m=t[p=h[d]],b=e[p];if(n)var w=a?n(b,m,p,e,t,s):n(m,b,p,t,e,s);if(!(w===o?m===b||r(m,b,i,n,s):w)){v=!1;break}y||(y="constructor"==p)}if(v&&!y){var _=t.constructor,x=e.constructor;_==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x||(v=!1)}return s.delete(t),s.delete(e),v}(t,e,i,n,r,s)}(t,e,i,n,An,r))}function Nn(t,e,i,n){var r=i.length,s=r,a=!n;if(null==t)return!s;for(t=Ct(t);r--;){var h=i[r];if(a&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++r<s;){var c=(h=i[r])[0],l=t[c],u=h[1];if(a&&h[2]){if(l===o&&!(c in t))return!1}else{var d=new Ki;if(n)var p=n(l,u,c,t,e,d);if(!(p===o?An(u,l,3,n,d):p))return!1}}return!0}function Bn(t){return!(!ea(t)||(e=t,zt&&zt in e))&&(Js(t)?Wt:mt).test(Lr(t));var e}function jn(t){return"function"==typeof t?t:null==t?oh:"object"==typeof t?qs(t)?Wn(t[0],t[1]):Hn(t):ph(t)}function Fn(t){if(!Or(t))return Xe(t);var e=[];for(var i in Ct(t))jt.call(t,i)&&"constructor"!=i&&e.push(i);return e}function zn(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var i in Ct(t))e.push(i);return e}(t);var e=Or(t),i=[];for(var n in t)("constructor"!=n||!e&&jt.call(t,n))&&i.push(n);return i}function Ln(t,e){return t<e}function Rn(t,e){var i=-1,o=Ys(t)?n(t.length):[];return pn(t,function(t,n,r){o[++i]=e(t,n,r)}),o}function Hn(t){var e=dr(t);return 1==e.length&&e[0][2]?Cr(e[0][0],e[0][1]):function(i){return i===t||Nn(i,t,e)}}function Wn(t,e){return xr(t)&&Sr(e)?Cr(zr(t),e):function(i){var n=Ca(i,t);return n===o&&n===e?Pa(i,t):An(e,n,3)}}function Un(t,e,i,n,r){t!==e&&bn(e,function(s,a){if(r||(r=new Ki),ea(s))!function(t,e,i,n,r,s,a){var h=Ir(t,i),c=Ir(e,i),l=a.get(c);if(l)return void tn(t,i,l);var u=s?s(h,c,i+"",t,e,a):o,d=u===o;if(d){var p=qs(c),f=!p&&Ks(c),g=!p&&!f&&la(c);u=c,p||f||g?qs(h)?u=h:Xs(h)?u=Do(h):f?(d=!1,u=Oo(c,!0)):g?(d=!1,u=Co(c,!0)):u=[]:ra(c)||Vs(c)?(u=h,Vs(h)?u=ma(h):ea(h)&&!Js(h)||(u=mr(c))):d=!1}d&&(a.set(c,u),r(u,c,n,s,a),a.delete(c));tn(t,i,u)}(t,e,a,i,Un,n,r);else{var h=n?n(Ir(t,a),s,a+"",t,e,r):o;h===o&&(h=s),tn(t,a,h)}},Aa)}function Vn(t,e){var i=t.length;if(i)return wr(e+=e<0?i:0,i)?t[e]:o}function qn(t,e,i){e=e.length?Be(e,function(t){return qs(t)?function(e){return kn(e,1===t.length?t[0]:t)}:t}):[oh];var n=-1;e=Be(e,Qe(lr()));var o=Rn(t,function(t,i,o){var r=Be(e,function(e){return e(t)});return{criteria:r,index:++n,value:t}});return function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}(o,function(t,e){return function(t,e,i){var n=-1,o=t.criteria,r=e.criteria,s=o.length,a=i.length;for(;++n<s;){var h=Po(o[n],r[n]);if(h)return n>=a?h:h*("desc"==i[n]?-1:1)}return t.index-e.index}(t,e,i)})}function $n(t,e,i){for(var n=-1,o=e.length,r={};++n<o;){var s=e[n],a=kn(t,s);i(a,s)&&to(r,_o(s,t),a)}return r}function Yn(t,e,i,n){var o=n?Ve:Ue,r=-1,s=e.length,a=t;for(t===e&&(e=Do(e)),i&&(a=Be(t,Qe(i)));++r<s;)for(var h=0,c=e[r],l=i?i(c):c;(h=o(a,l,h,n))>-1;)a!==t&&Gt.call(a,h,1),Gt.call(t,h,1);return t}function Xn(t,e){for(var i=t?e.length:0,n=i-1;i--;){var o=e[i];if(i==n||o!==r){var r=o;wr(o)?Gt.call(t,o,1):po(t,o)}}return t}function Kn(t,e){return t+ve(xi()*(e-t+1))}function Gn(t,e){var i="";if(!t||e<1||e>f)return i;do{e%2&&(i+=t),(e=ve(e/2))&&(t+=t)}while(e);return i}function Zn(t,e){return Ar(Pr(t,e,oh),t+"")}function Jn(t){return Zi(Ha(t))}function Qn(t,e){var i=Ha(t);return jr(i,hn(e,0,i.length))}function to(t,e,i,n){if(!ea(t))return t;for(var r=-1,s=(e=_o(e,t)).length,a=s-1,h=t;null!=h&&++r<s;){var c=zr(e[r]),l=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(r!=a){var u=h[c];(l=n?n(u,c,h):o)===o&&(l=ea(u)?u:wr(e[r+1])?[]:{})}en(h,c,l),h=h[c]}return t}var eo=Ii?function(t,e){return Ii.set(t,e),t}:oh,io=ie?function(t,e){return ie(t,"toString",{configurable:!0,enumerable:!1,value:eh(e),writable:!0})}:oh;function no(t){return jr(Ha(t))}function oo(t,e,i){var o=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(i=i>r?r:i)<0&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var s=n(r);++o<r;)s[o]=t[o+e];return s}function ro(t,e){var i;return pn(t,function(t,n,o){return!(i=e(t,n,o))}),!!i}function so(t,e,i){var n=0,o=null==t?n:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;n<o;){var r=n+o>>>1,s=t[r];null!==s&&!ca(s)&&(i?s<=e:s<e)?n=r+1:o=r}return o}return ao(t,e,oh,i)}function ao(t,e,i,n){var r=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=i(e))!=e,h=null===e,c=ca(e),l=e===o;r<s;){var u=ve((r+s)/2),d=i(t[u]),p=d!==o,f=null===d,g=d==d,v=ca(d);if(a)var y=n||g;else y=l?g&&(n||p):h?g&&p&&(n||!f):c?g&&p&&!f&&(n||!v):!f&&!v&&(n?d<=e:d<e);y?r=u+1:s=u}return bi(s,4294967294)}function ho(t,e){for(var i=-1,n=t.length,o=0,r=[];++i<n;){var s=t[i],a=e?e(s):s;if(!i||!Hs(a,h)){var h=a;r[o++]=0===s?0:s}}return r}function co(t){return"number"==typeof t?t:ca(t)?g:+t}function lo(t){if("string"==typeof t)return t;if(qs(t))return Be(t,lo)+"";if(ca(t))return Li?Li.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function uo(t,e,i){var n=-1,o=Ae,r=t.length,s=!0,a=[],h=a;if(i)s=!1,o=Ne;else if(r>=200){var c=e?null:Zo(t);if(c)return ui(c);s=!1,o=ei,h=new Xi}else h=e?[]:a;t:for(;++n<r;){var l=t[n],u=e?e(l):l;if(l=i||0!==l?l:0,s&&u==u){for(var d=h.length;d--;)if(h[d]===u)continue t;e&&h.push(u),a.push(l)}else o(h,u,i)||(h!==a&&h.push(u),a.push(l))}return a}function po(t,e){return null==(t=Tr(t,e=_o(e,t)))||delete t[zr(Zr(e))]}function fo(t,e,i,n){return to(t,e,i(kn(t,e)),n)}function go(t,e,i,n){for(var o=t.length,r=n?o:-1;(n?r--:++r<o)&&e(t[r],r,t););return i?oo(t,n?0:r,n?r+1:o):oo(t,n?r+1:0,n?o:r)}function vo(t,e){var i=t;return i instanceof Vi&&(i=i.value()),Fe(e,function(t,e){return e.func.apply(e.thisArg,je([t],e.args))},i)}function yo(t,e,i){var o=t.length;if(o<2)return o?uo(t[0]):[];for(var r=-1,s=n(o);++r<o;)for(var a=t[r],h=-1;++h<o;)h!=r&&(s[r]=dn(s[r]||a,t[h],e,i));return uo(mn(s,1),e,i)}function mo(t,e,i){for(var n=-1,r=t.length,s=e.length,a={};++n<r;){var h=n<s?e[n]:o;i(a,t[n],h)}return a}function bo(t){return Xs(t)?t:[]}function wo(t){return"function"==typeof t?t:oh}function _o(t,e){return qs(t)?t:xr(t,e)?[t]:Fr(ba(t))}var xo=Zn;function Eo(t,e,i){var n=t.length;return i=i===o?n:i,!e&&i>=n?t:oo(t,e,i)}var ko=oe||function(t){return ge.clearTimeout(t)};function Oo(t,e){if(e)return t.slice();var i=t.length,n=$t?$t(i):new t.constructor(i);return t.copy(n),n}function So(t){var e=new t.constructor(t.byteLength);return new qt(e).set(new qt(t)),e}function Co(t,e){var i=e?So(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function Po(t,e){if(t!==e){var i=t!==o,n=null===t,r=t==t,s=ca(t),a=e!==o,h=null===e,c=e==e,l=ca(e);if(!h&&!l&&!s&&t>e||s&&a&&c&&!h&&!l||n&&a&&c||!i&&c||!r)return 1;if(!n&&!s&&!l&&t<e||l&&i&&r&&!n&&!s||h&&i&&r||!a&&r||!c)return-1}return 0}function To(t,e,i,o){for(var r=-1,s=t.length,a=i.length,h=-1,c=e.length,l=mi(s-a,0),u=n(c+l),d=!o;++h<c;)u[h]=e[h];for(;++r<a;)(d||r<s)&&(u[i[r]]=t[r]);for(;l--;)u[h++]=t[r++];return u}function Io(t,e,i,o){for(var r=-1,s=t.length,a=-1,h=i.length,c=-1,l=e.length,u=mi(s-h,0),d=n(u+l),p=!o;++r<u;)d[r]=t[r];for(var f=r;++c<l;)d[f+c]=e[c];for(;++a<h;)(p||r<s)&&(d[f+i[a]]=t[r++]);return d}function Do(t,e){var i=-1,o=t.length;for(e||(e=n(o));++i<o;)e[i]=t[i];return e}function Mo(t,e,i,n){var r=!i;i||(i={});for(var s=-1,a=e.length;++s<a;){var h=e[s],c=n?n(i[h],t[h],h,i,t):o;c===o&&(c=t[h]),r?sn(i,h,c):en(i,h,c)}return i}function Ao(t,e){return function(i,n){var o=qs(i)?Pe:on,r=e?e():{};return o(i,t,lr(n,2),r)}}function No(t){return Zn(function(e,i){var n=-1,r=i.length,s=r>1?i[r-1]:o,a=r>2?i[2]:o;for(s=t.length>3&&"function"==typeof s?(r--,s):o,a&&_r(i[0],i[1],a)&&(s=r<3?o:s,r=1),e=Ct(e);++n<r;){var h=i[n];h&&t(e,h,n,s)}return e})}function Bo(t,e){return function(i,n){if(null==i)return i;if(!Ys(i))return t(i,n);for(var o=i.length,r=e?o:-1,s=Ct(i);(e?r--:++r<o)&&!1!==n(s[r],r,s););return i}}function jo(t){return function(e,i,n){for(var o=-1,r=Ct(e),s=n(e),a=s.length;a--;){var h=s[t?a:++o];if(!1===i(r[h],h,r))break}return e}}function Fo(t){return function(e){var i=ai(e=ba(e))?fi(e):o,n=i?i[0]:e.charAt(0),r=i?Eo(i,1).join(""):e.slice(1);return n[t]()+r}}function zo(t){return function(e){return Fe(Ja(Va(e).replace(te,"")),t,"")}}function Lo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Hi(t.prototype),n=t.apply(i,e);return ea(n)?n:i}}function Ro(t){return function(e,i,n){var r=Ct(e);if(!Ys(e)){var s=lr(i,3);e=Ma(e),i=function(t){return s(r[t],t,r)}}var a=t(e,i,n);return a>-1?r[s?e[a]:a]:o}}function Ho(t){return or(function(e){var i=e.length,n=i,s=Ui.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new It(r);if(s&&!h&&"wrapper"==hr(a))var h=new Ui([],!0)}for(n=h?n:i;++n<i;){var c=hr(a=e[n]),l="wrapper"==c?ar(a):o;h=l&&Er(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?h[hr(l[0])].apply(h,l[3]):1==a.length&&Er(a)?h[c]():h.thru(a)}return function(){var t=arguments,n=t[0];if(h&&1==t.length&&qs(n))return h.plant(n).value();for(var o=0,r=i?e[o].apply(this,t):n;++o<i;)r=e[o].call(this,r);return r}})}function Wo(t,e,i,r,s,a,h,c,l,d){var p=e&u,f=1&e,g=2&e,v=24&e,y=512&e,m=g?o:Lo(t);return function u(){for(var b=arguments.length,w=n(b),_=b;_--;)w[_]=arguments[_];if(v)var x=cr(u),E=function(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&++n;return n}(w,x);if(r&&(w=To(w,r,s,v)),a&&(w=Io(w,a,h,v)),b-=E,v&&b<d){var k=li(w,x);return Ko(t,e,Wo,u.placeholder,i,w,k,c,l,d-b)}var O=f?i:this,S=g?O[t]:t;return b=w.length,c?w=function(t,e){var i=t.length,n=bi(e.length,i),r=Do(t);for(;n--;){var s=e[n];t[n]=wr(s,i)?r[s]:o}return t}(w,c):y&&b>1&&w.reverse(),p&&l<b&&(w.length=l),this&&this!==ge&&this instanceof u&&(S=m||Lo(S)),S.apply(O,w)}}function Uo(t,e){return function(i,n){return function(t,e,i,n){return _n(t,function(t,o,r){e(n,i(t),o,r)}),n}(i,t,e(n),{})}}function Vo(t,e){return function(i,n){var r;if(i===o&&n===o)return e;if(i!==o&&(r=i),n!==o){if(r===o)return n;"string"==typeof i||"string"==typeof n?(i=lo(i),n=lo(n)):(i=co(i),n=co(n)),r=t(i,n)}return r}}function qo(t){return or(function(e){return e=Be(e,Qe(lr())),Zn(function(i){var n=this;return t(e,function(t){return Ce(t,n,i)})})})}function $o(t,e){var i=(e=e===o?" ":lo(e)).length;if(i<2)return i?Gn(e,t):e;var n=Gn(e,fe(t/pi(e)));return ai(e)?Eo(fi(n),0,t).join(""):n.slice(0,t)}function Yo(t){return function(e,i,r){return r&&"number"!=typeof r&&_r(e,i,r)&&(i=r=o),e=fa(e),i===o?(i=e,e=0):i=fa(i),function(t,e,i,o){for(var r=-1,s=mi(fe((e-t)/(i||1)),0),a=n(s);s--;)a[o?s:++r]=t,t+=i;return a}(e,i,r=r===o?e<i?1:-1:fa(r),t)}}function Xo(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=ya(e),i=ya(i)),t(e,i)}}function Ko(t,e,i,n,r,s,a,h,u,d){var p=8&e;e|=p?c:l,4&(e&=~(p?l:c))||(e&=-4);var f=[t,e,r,p?s:o,p?a:o,p?o:s,p?o:a,h,u,d],g=i.apply(o,f);return Er(t)&&Dr(g,f),g.placeholder=n,Nr(g,t,e)}function Go(t){var e=St[t];return function(t,i){if(t=ya(t),(i=null==i?0:bi(ga(i),292))&&we(t)){var n=(ba(t)+"e").split("e");return+((n=(ba(e(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return e(t)}}var Zo=Ci&&1/ui(new Ci([,-0]))[1]==p?function(t){return new Ci(t)}:ch;function Jo(t){return function(e){var i=vr(e);return i==O?hi(e):i==I?di(e):function(t,e){return Be(e,function(e){return[e,t[e]]})}(e,t(e))}}function Qo(t,e,i,s,p,f,g,v){var y=2&e;if(!y&&"function"!=typeof t)throw new It(r);var m=s?s.length:0;if(m||(e&=-97,s=p=o),g=g===o?g:mi(ga(g),0),v=v===o?v:ga(v),m-=p?p.length:0,e&l){var b=s,w=p;s=p=o}var _=y?o:ar(t),x=[t,e,i,s,p,b,w,f,g,v];if(_&&function(t,e){var i=t[1],n=e[1],o=i|n,r=o<131,s=n==u&&8==i||n==u&&i==d&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==i;if(!r&&!s)return t;1&n&&(t[2]=e[2],o|=1&i?0:4);var h=e[3];if(h){var c=t[3];t[3]=c?To(c,h,e[4]):h,t[4]=c?li(t[3],a):e[4]}(h=e[5])&&(c=t[5],t[5]=c?Io(c,h,e[6]):h,t[6]=c?li(t[5],a):e[6]);(h=e[7])&&(t[7]=h);n&u&&(t[8]=null==t[8]?e[8]:bi(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=o}(x,_),t=x[0],e=x[1],i=x[2],s=x[3],p=x[4],!(v=x[9]=x[9]===o?y?0:t.length:mi(x[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||e==h?function(t,e,i){var r=Lo(t);return function s(){for(var a=arguments.length,h=n(a),c=a,l=cr(s);c--;)h[c]=arguments[c];var u=a<3&&h[0]!==l&&h[a-1]!==l?[]:li(h,l);return(a-=u.length)<i?Ko(t,e,Wo,s.placeholder,o,h,u,o,o,i-a):Ce(this&&this!==ge&&this instanceof s?r:t,this,h)}}(t,e,v):e!=c&&33!=e||p.length?Wo.apply(o,x):function(t,e,i,o){var r=1&e,s=Lo(t);return function e(){for(var a=-1,h=arguments.length,c=-1,l=o.length,u=n(l+h),d=this&&this!==ge&&this instanceof e?s:t;++c<l;)u[c]=o[c];for(;h--;)u[c++]=arguments[++a];return Ce(d,r?i:this,u)}}(t,e,i,s);else var E=function(t,e,i){var n=1&e,o=Lo(t);return function e(){return(this&&this!==ge&&this instanceof e?o:t).apply(n?i:this,arguments)}}(t,e,i);return Nr((_?eo:Dr)(E,x),t,e)}function tr(t,e,i,n){return t===o||Hs(t,At[i])&&!jt.call(n,i)?e:t}function er(t,e,i,n,r,s){return ea(t)&&ea(e)&&(s.set(e,t),Un(t,e,o,er,s),s.delete(e)),t}function ir(t){return ra(t)?o:t}function nr(t,e,i,n,r,s){var a=1&i,h=t.length,c=e.length;if(h!=c&&!(a&&c>h))return!1;var l=s.get(t),u=s.get(e);if(l&&u)return l==e&&u==t;var d=-1,p=!0,f=2&i?new Xi:o;for(s.set(t,e),s.set(e,t);++d<h;){var g=t[d],v=e[d];if(n)var y=a?n(v,g,d,e,t,s):n(g,v,d,t,e,s);if(y!==o){if(y)continue;p=!1;break}if(f){if(!Le(e,function(t,e){if(!ei(f,e)&&(g===t||r(g,t,i,n,s)))return f.push(e)})){p=!1;break}}else if(g!==v&&!r(g,v,i,n,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function or(t){return Ar(Pr(t,o,$r),t+"")}function rr(t){return On(t,Ma,fr)}function sr(t){return On(t,Aa,gr)}var ar=Ii?function(t){return Ii.get(t)}:ch;function hr(t){for(var e=t.name+"",i=Di[e],n=jt.call(Di,e)?i.length:0;n--;){var o=i[n],r=o.func;if(null==r||r==t)return o.name}return e}function cr(t){return(jt.call(Ri,"placeholder")?Ri:t).placeholder}function lr(){var t=Ri.iteratee||rh;return t=t===rh?jn:t,arguments.length?t(arguments[0],arguments[1]):t}function ur(t,e){var i,n,o=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof e?"string":"hash"]:o.map}function dr(t){for(var e=Ma(t),i=e.length;i--;){var n=e[i],o=t[n];e[i]=[n,o,Sr(o)]}return e}function pr(t,e){var i=function(t,e){return null==t?o:t[e]}(t,e);return Bn(i)?i:o}var fr=ye?function(t){return null==t?[]:(t=Ct(t),Me(ye(t),function(e){return Kt.call(t,e)}))}:vh,gr=ye?function(t){for(var e=[];t;)je(e,fr(t)),t=Yt(t);return e}:vh,vr=Sn;function yr(t,e,i){for(var n=-1,o=(e=_o(e,t)).length,r=!1;++n<o;){var s=zr(e[n]);if(!(r=null!=t&&i(t,s)))break;t=t[s]}return r||++n!=o?r:!!(o=null==t?0:t.length)&&ta(o)&&wr(s,o)&&(qs(t)||Vs(t))}function mr(t){return"function"!=typeof t.constructor||Or(t)?{}:Hi(Yt(t))}function br(t){return qs(t)||Vs(t)||!!(Zt&&t&&t[Zt])}function wr(t,e){var i=typeof t;return!!(e=null==e?f:e)&&("number"==i||"symbol"!=i&&wt.test(t))&&t>-1&&t%1==0&&t<e}function _r(t,e,i){if(!ea(i))return!1;var n=typeof e;return!!("number"==n?Ys(i)&&wr(e,i.length):"string"==n&&e in i)&&Hs(i[e],t)}function xr(t,e){if(qs(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!ca(t))||(it.test(t)||!et.test(t)||null!=e&&t in Ct(e))}function Er(t){var e=hr(t),i=Ri[e];if("function"!=typeof i||!(e in Vi.prototype))return!1;if(t===i)return!0;var n=ar(i);return!!n&&t===n[0]}(ki&&vr(new ki(new ArrayBuffer(1)))!=B||Oi&&vr(new Oi)!=O||Si&&vr(Si.resolve())!=P||Ci&&vr(new Ci)!=I||Pi&&vr(new Pi)!=A)&&(vr=function(t){var e=Sn(t),i=e==C?t.constructor:o,n=i?Lr(i):"";if(n)switch(n){case Mi:return B;case Ai:return O;case Ni:return P;case Bi:return I;case ji:return A}return e});var kr=Nt?Js:yh;function Or(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||At)}function Sr(t){return t==t&&!ea(t)}function Cr(t,e){return function(i){return null!=i&&(i[t]===e&&(e!==o||t in Ct(i)))}}function Pr(t,e,i){return e=mi(e===o?t.length-1:e,0),function(){for(var o=arguments,r=-1,s=mi(o.length-e,0),a=n(s);++r<s;)a[r]=o[e+r];r=-1;for(var h=n(e+1);++r<e;)h[r]=o[r];return h[e]=i(a),Ce(t,this,h)}}function Tr(t,e){return e.length<2?t:kn(t,oo(e,0,-1))}function Ir(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Dr=Br(eo),Mr=pe||function(t,e){return ge.setTimeout(t,e)},Ar=Br(io);function Nr(t,e,i){var n=e+"";return Ar(t,function(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(ht,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Te(y,function(i){var n="_."+i[0];e&i[1]&&!Ae(t,n)&&t.push(n)}),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(lt):[]}(n),i)))}function Br(t){var e=0,i=0;return function(){var n=wi(),r=16-(n-i);if(i=n,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(o,arguments)}}function jr(t,e){var i=-1,n=t.length,r=n-1;for(e=e===o?n:e;++i<e;){var s=Kn(i,r),a=t[s];t[s]=t[i],t[i]=a}return t.length=e,t}var Fr=function(t){var e=Bs(t,function(t){return 500===i.size&&i.clear(),t}),i=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nt,function(t,i,n,o){e.push(n?o.replace(pt,"$1"):i||t)}),e});function zr(t){if("string"==typeof t||ca(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Lr(t){if(null!=t){try{return Bt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Rr(t){if(t instanceof Vi)return t.clone();var e=new Ui(t.__wrapped__,t.__chain__);return e.__actions__=Do(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Hr=Zn(function(t,e){return Xs(t)?dn(t,mn(e,1,Xs,!0)):[]}),Wr=Zn(function(t,e){var i=Zr(e);return Xs(i)&&(i=o),Xs(t)?dn(t,mn(e,1,Xs,!0),lr(i,2)):[]}),Ur=Zn(function(t,e){var i=Zr(e);return Xs(i)&&(i=o),Xs(t)?dn(t,mn(e,1,Xs,!0),o,i):[]});function Vr(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=null==i?0:ga(i);return o<0&&(o=mi(n+o,0)),We(t,lr(e,3),o)}function qr(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=n-1;return i!==o&&(r=ga(i),r=i<0?mi(n+r,0):bi(r,n-1)),We(t,lr(e,3),r,!0)}function $r(t){return(null==t?0:t.length)?mn(t,1):[]}function Yr(t){return t&&t.length?t[0]:o}var Xr=Zn(function(t){var e=Be(t,bo);return e.length&&e[0]===t[0]?In(e):[]}),Kr=Zn(function(t){var e=Zr(t),i=Be(t,bo);return e===Zr(i)?e=o:i.pop(),i.length&&i[0]===t[0]?In(i,lr(e,2)):[]}),Gr=Zn(function(t){var e=Zr(t),i=Be(t,bo);return(e="function"==typeof e?e:o)&&i.pop(),i.length&&i[0]===t[0]?In(i,o,e):[]});function Zr(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Jr=Zn(Qr);function Qr(t,e){return t&&t.length&&e&&e.length?Yn(t,e):t}var ts=or(function(t,e){var i=null==t?0:t.length,n=an(t,e);return Xn(t,Be(e,function(t){return wr(t,i)?+t:t}).sort(Po)),n});function es(t){return null==t?t:Ei.call(t)}var is=Zn(function(t){return uo(mn(t,1,Xs,!0))}),ns=Zn(function(t){var e=Zr(t);return Xs(e)&&(e=o),uo(mn(t,1,Xs,!0),lr(e,2))}),os=Zn(function(t){var e=Zr(t);return e="function"==typeof e?e:o,uo(mn(t,1,Xs,!0),o,e)});function rs(t){if(!t||!t.length)return[];var e=0;return t=Me(t,function(t){if(Xs(t))return e=mi(t.length,e),!0}),Ze(e,function(e){return Be(t,Ye(e))})}function ss(t,e){if(!t||!t.length)return[];var i=rs(t);return null==e?i:Be(i,function(t){return Ce(e,o,t)})}var as=Zn(function(t,e){return Xs(t)?dn(t,e):[]}),hs=Zn(function(t){return yo(Me(t,Xs))}),cs=Zn(function(t){var e=Zr(t);return Xs(e)&&(e=o),yo(Me(t,Xs),lr(e,2))}),ls=Zn(function(t){var e=Zr(t);return e="function"==typeof e?e:o,yo(Me(t,Xs),o,e)}),us=Zn(rs);var ds=Zn(function(t){var e=t.length,i=e>1?t[e-1]:o;return i="function"==typeof i?(t.pop(),i):o,ss(t,i)});function ps(t){var e=Ri(t);return e.__chain__=!0,e}function fs(t,e){return e(t)}var gs=or(function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,r=function(e){return an(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Vi&&wr(i)?((n=n.slice(i,+i+(e?1:0))).__actions__.push({func:fs,args:[r],thisArg:o}),new Ui(n,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(r)});var vs=Ao(function(t,e,i){jt.call(t,i)?++t[i]:sn(t,i,1)});var ys=Ro(Vr),ms=Ro(qr);function bs(t,e){return(qs(t)?Te:pn)(t,lr(e,3))}function ws(t,e){return(qs(t)?Ie:fn)(t,lr(e,3))}var _s=Ao(function(t,e,i){jt.call(t,i)?t[i].push(e):sn(t,i,[e])});var xs=Zn(function(t,e,i){var o=-1,r="function"==typeof e,s=Ys(t)?n(t.length):[];return pn(t,function(t){s[++o]=r?Ce(e,t,i):Dn(t,e,i)}),s}),Es=Ao(function(t,e,i){sn(t,i,e)});function ks(t,e){return(qs(t)?Be:Rn)(t,lr(e,3))}var Os=Ao(function(t,e,i){t[i?0:1].push(e)},function(){return[[],[]]});var Ss=Zn(function(t,e){if(null==t)return[];var i=e.length;return i>1&&_r(t,e[0],e[1])?e=[]:i>2&&_r(e[0],e[1],e[2])&&(e=[e[0]]),qn(t,mn(e,1),[])}),Cs=le||function(){return ge.Date.now()};function Ps(t,e,i){return e=i?o:e,e=t&&null==e?t.length:e,Qo(t,u,o,o,o,o,e)}function Ts(t,e){var i;if("function"!=typeof e)throw new It(r);return t=ga(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=o),i}}var Is=Zn(function(t,e,i){var n=1;if(i.length){var o=li(i,cr(Is));n|=c}return Qo(t,n,e,i,o)}),Ds=Zn(function(t,e,i){var n=3;if(i.length){var o=li(i,cr(Ds));n|=c}return Qo(e,n,t,i,o)});function Ms(t,e,i){var n,s,a,h,c,l,u=0,d=!1,p=!1,f=!0;if("function"!=typeof t)throw new It(r);function g(e){var i=n,r=s;return n=s=o,u=e,h=t.apply(r,i)}function v(t){var i=t-l;return l===o||i>=e||i<0||p&&t-u>=a}function y(){var t=Cs();if(v(t))return m(t);c=Mr(y,function(t){var i=e-(t-l);return p?bi(i,a-(t-u)):i}(t))}function m(t){return c=o,f&&n?g(t):(n=s=o,h)}function b(){var t=Cs(),i=v(t);if(n=arguments,s=this,l=t,i){if(c===o)return function(t){return u=t,c=Mr(y,e),d?g(t):h}(l);if(p)return ko(c),c=Mr(y,e),g(l)}return c===o&&(c=Mr(y,e)),h}return e=ya(e)||0,ea(i)&&(d=!!i.leading,a=(p="maxWait"in i)?mi(ya(i.maxWait)||0,e):a,f="trailing"in i?!!i.trailing:f),b.cancel=function(){c!==o&&ko(c),u=0,n=l=s=c=o},b.flush=function(){return c===o?h:m(Cs())},b}var As=Zn(function(t,e){return un(t,1,e)}),Ns=Zn(function(t,e,i){return un(t,ya(e)||0,i)});function Bs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new It(r);var i=function(){var n=arguments,o=e?e.apply(this,n):n[0],r=i.cache;if(r.has(o))return r.get(o);var s=t.apply(this,n);return i.cache=r.set(o,s)||r,s};return i.cache=new(Bs.Cache||Yi),i}function js(t){if("function"!=typeof t)throw new It(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Bs.Cache=Yi;var Fs=xo(function(t,e){var i=(e=1==e.length&&qs(e[0])?Be(e[0],Qe(lr())):Be(mn(e,1),Qe(lr()))).length;return Zn(function(n){for(var o=-1,r=bi(n.length,i);++o<r;)n[o]=e[o].call(this,n[o]);return Ce(t,this,n)})}),zs=Zn(function(t,e){var i=li(e,cr(zs));return Qo(t,c,o,e,i)}),Ls=Zn(function(t,e){var i=li(e,cr(Ls));return Qo(t,l,o,e,i)}),Rs=or(function(t,e){return Qo(t,d,o,o,o,e)});function Hs(t,e){return t===e||t!=t&&e!=e}var Ws=Xo(Cn),Us=Xo(function(t,e){return t>=e}),Vs=Mn(function(){return arguments}())?Mn:function(t){return ia(t)&&jt.call(t,"callee")&&!Kt.call(t,"callee")},qs=n.isArray,$s=_e?Qe(_e):function(t){return ia(t)&&Sn(t)==N};function Ys(t){return null!=t&&ta(t.length)&&!Js(t)}function Xs(t){return ia(t)&&Ys(t)}var Ks=be||yh,Gs=xe?Qe(xe):function(t){return ia(t)&&Sn(t)==_};function Zs(t){if(!ia(t))return!1;var e=Sn(t);return e==x||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ra(t)}function Js(t){if(!ea(t))return!1;var e=Sn(t);return e==E||e==k||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qs(t){return"number"==typeof t&&t==ga(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ia(t){return null!=t&&"object"==typeof t}var na=Ee?Qe(Ee):function(t){return ia(t)&&vr(t)==O};function oa(t){return"number"==typeof t||ia(t)&&Sn(t)==S}function ra(t){if(!ia(t)||Sn(t)!=C)return!1;var e=Yt(t);if(null===e)return!0;var i=jt.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&Bt.call(i)==Rt}var sa=ke?Qe(ke):function(t){return ia(t)&&Sn(t)==T};var aa=Oe?Qe(Oe):function(t){return ia(t)&&vr(t)==I};function ha(t){return"string"==typeof t||!qs(t)&&ia(t)&&Sn(t)==D}function ca(t){return"symbol"==typeof t||ia(t)&&Sn(t)==M}var la=Se?Qe(Se):function(t){return ia(t)&&ta(t.length)&&!!he[Sn(t)]};var ua=Xo(Ln),da=Xo(function(t,e){return t<=e});function pa(t){if(!t)return[];if(Ys(t))return ha(t)?fi(t):Do(t);if(Jt&&t[Jt])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[Jt]());var e=vr(t);return(e==O?hi:e==I?ui:Ha)(t)}function fa(t){return t?(t=ya(t))===p||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ga(t){var e=fa(t),i=e%1;return e==e?i?e-i:e:0}function va(t){return t?hn(ga(t),0,v):0}function ya(t){if("number"==typeof t)return t;if(ca(t))return g;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var i=yt.test(t);return i||bt.test(t)?de(t.slice(2),i?2:8):vt.test(t)?g:+t}function ma(t){return Mo(t,Aa(t))}function ba(t){return null==t?"":lo(t)}var wa=No(function(t,e){if(Or(e)||Ys(e))Mo(e,Ma(e),t);else for(var i in e)jt.call(e,i)&&en(t,i,e[i])}),_a=No(function(t,e){Mo(e,Aa(e),t)}),xa=No(function(t,e,i,n){Mo(e,Aa(e),t,n)}),Ea=No(function(t,e,i,n){Mo(e,Ma(e),t,n)}),ka=or(an);var Oa=Zn(function(t,e){t=Ct(t);var i=-1,n=e.length,r=n>2?e[2]:o;for(r&&_r(e[0],e[1],r)&&(n=1);++i<n;)for(var s=e[i],a=Aa(s),h=-1,c=a.length;++h<c;){var l=a[h],u=t[l];(u===o||Hs(u,At[l])&&!jt.call(t,l))&&(t[l]=s[l])}return t}),Sa=Zn(function(t){return t.push(o,er),Ce(Ba,o,t)});function Ca(t,e,i){var n=null==t?o:kn(t,e);return n===o?i:n}function Pa(t,e){return null!=t&&yr(t,e,Tn)}var Ta=Uo(function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),t[e]=i},eh(oh)),Ia=Uo(function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),jt.call(t,e)?t[e].push(i):t[e]=[i]},lr),Da=Zn(Dn);function Ma(t){return Ys(t)?Gi(t):Fn(t)}function Aa(t){return Ys(t)?Gi(t,!0):zn(t)}var Na=No(function(t,e,i){Un(t,e,i)}),Ba=No(function(t,e,i,n){Un(t,e,i,n)}),ja=or(function(t,e){var i={};if(null==t)return i;var n=!1;e=Be(e,function(e){return e=_o(e,t),n||(n=e.length>1),e}),Mo(t,sr(t),i),n&&(i=cn(i,7,ir));for(var o=e.length;o--;)po(i,e[o]);return i});var Fa=or(function(t,e){return null==t?{}:function(t,e){return $n(t,e,function(e,i){return Pa(t,i)})}(t,e)});function za(t,e){if(null==t)return{};var i=Be(sr(t),function(t){return[t]});return e=lr(e),$n(t,i,function(t,i){return e(t,i[0])})}var La=Jo(Ma),Ra=Jo(Aa);function Ha(t){return null==t?[]:ti(t,Ma(t))}var Wa=zo(function(t,e,i){return e=e.toLowerCase(),t+(i?Ua(e):e)});function Ua(t){return Za(ba(t).toLowerCase())}function Va(t){return(t=ba(t))&&t.replace(_t,oi).replace(ee,"")}var qa=zo(function(t,e,i){return t+(i?"-":"")+e.toLowerCase()}),$a=zo(function(t,e,i){return t+(i?" ":"")+e.toLowerCase()}),Ya=Fo("toLowerCase");var Xa=zo(function(t,e,i){return t+(i?"_":"")+e.toLowerCase()});var Ka=zo(function(t,e,i){return t+(i?" ":"")+Za(e)});var Ga=zo(function(t,e,i){return t+(i?" ":"")+e.toUpperCase()}),Za=Fo("toUpperCase");function Ja(t,e,i){return t=ba(t),(e=i?o:e)===o?function(t){return re.test(t)}(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.match(ut)||[]}(t):t.match(e)||[]}var Qa=Zn(function(t,e){try{return Ce(t,o,e)}catch(t){return Zs(t)?t:new kt(t)}}),th=or(function(t,e){return Te(e,function(e){e=zr(e),sn(t,e,Is(t[e],t))}),t});function eh(t){return function(){return t}}var ih=Ho(),nh=Ho(!0);function oh(t){return t}function rh(t){return jn("function"==typeof t?t:cn(t,1))}var sh=Zn(function(t,e){return function(i){return Dn(i,t,e)}}),ah=Zn(function(t,e){return function(i){return Dn(t,i,e)}});function hh(t,e,i){var n=Ma(e),o=En(e,n);null!=i||ea(e)&&(o.length||!n.length)||(i=e,e=t,t=this,o=En(e,Ma(e)));var r=!(ea(i)&&"chain"in i&&!i.chain),s=Js(t);return Te(o,function(i){var n=e[i];t[i]=n,s&&(t.prototype[i]=function(){var e=this.__chain__;if(r||e){var i=t(this.__wrapped__);return(i.__actions__=Do(this.__actions__)).push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,je([this.value()],arguments))})}),t}function ch(){}var lh=qo(Be),uh=qo(De),dh=qo(Le);function ph(t){return xr(t)?Ye(zr(t)):function(t){return function(e){return kn(e,t)}}(t)}var fh=Yo(),gh=Yo(!0);function vh(){return[]}function yh(){return!1}var mh=Vo(function(t,e){return t+e},0),bh=Go("ceil"),wh=Vo(function(t,e){return t/e},1),_h=Go("floor");var xh,Eh=Vo(function(t,e){return t*e},1),kh=Go("round"),Oh=Vo(function(t,e){return t-e},0);return Ri.after=function(t,e){if("function"!=typeof e)throw new It(r);return t=ga(t),function(){if(--t<1)return e.apply(this,arguments)}},Ri.ary=Ps,Ri.assign=wa,Ri.assignIn=_a,Ri.assignInWith=xa,Ri.assignWith=Ea,Ri.at=ka,Ri.before=Ts,Ri.bind=Is,Ri.bindAll=th,Ri.bindKey=Ds,Ri.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return qs(t)?t:[t]},Ri.chain=ps,Ri.chunk=function(t,e,i){e=(i?_r(t,e,i):e===o)?1:mi(ga(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var s=0,a=0,h=n(fe(r/e));s<r;)h[a++]=oo(t,s,s+=e);return h},Ri.compact=function(t){for(var e=-1,i=null==t?0:t.length,n=0,o=[];++e<i;){var r=t[e];r&&(o[n++]=r)}return o},Ri.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),i=arguments[0],o=t;o--;)e[o-1]=arguments[o];return je(qs(i)?Do(i):[i],mn(e,1))},Ri.cond=function(t){var e=null==t?0:t.length,i=lr();return t=e?Be(t,function(t){if("function"!=typeof t[1])throw new It(r);return[i(t[0]),t[1]]}):[],Zn(function(i){for(var n=-1;++n<e;){var o=t[n];if(Ce(o[0],this,i))return Ce(o[1],this,i)}})},Ri.conforms=function(t){return function(t){var e=Ma(t);return function(i){return ln(i,t,e)}}(cn(t,1))},Ri.constant=eh,Ri.countBy=vs,Ri.create=function(t,e){var i=Hi(t);return null==e?i:rn(i,e)},Ri.curry=function t(e,i,n){var r=Qo(e,8,o,o,o,o,o,i=n?o:i);return r.placeholder=t.placeholder,r},Ri.curryRight=function t(e,i,n){var r=Qo(e,h,o,o,o,o,o,i=n?o:i);return r.placeholder=t.placeholder,r},Ri.debounce=Ms,Ri.defaults=Oa,Ri.defaultsDeep=Sa,Ri.defer=As,Ri.delay=Ns,Ri.difference=Hr,Ri.differenceBy=Wr,Ri.differenceWith=Ur,Ri.drop=function(t,e,i){var n=null==t?0:t.length;return n?oo(t,(e=i||e===o?1:ga(e))<0?0:e,n):[]},Ri.dropRight=function(t,e,i){var n=null==t?0:t.length;return n?oo(t,0,(e=n-(e=i||e===o?1:ga(e)))<0?0:e):[]},Ri.dropRightWhile=function(t,e){return t&&t.length?go(t,lr(e,3),!0,!0):[]},Ri.dropWhile=function(t,e){return t&&t.length?go(t,lr(e,3),!0):[]},Ri.fill=function(t,e,i,n){var r=null==t?0:t.length;return r?(i&&"number"!=typeof i&&_r(t,e,i)&&(i=0,n=r),function(t,e,i,n){var r=t.length;for((i=ga(i))<0&&(i=-i>r?0:r+i),(n=n===o||n>r?r:ga(n))<0&&(n+=r),n=i>n?0:va(n);i<n;)t[i++]=e;return t}(t,e,i,n)):[]},Ri.filter=function(t,e){return(qs(t)?Me:yn)(t,lr(e,3))},Ri.flatMap=function(t,e){return mn(ks(t,e),1)},Ri.flatMapDeep=function(t,e){return mn(ks(t,e),p)},Ri.flatMapDepth=function(t,e,i){return i=i===o?1:ga(i),mn(ks(t,e),i)},Ri.flatten=$r,Ri.flattenDeep=function(t){return(null==t?0:t.length)?mn(t,p):[]},Ri.flattenDepth=function(t,e){return(null==t?0:t.length)?mn(t,e=e===o?1:ga(e)):[]},Ri.flip=function(t){return Qo(t,512)},Ri.flow=ih,Ri.flowRight=nh,Ri.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,n={};++e<i;){var o=t[e];n[o[0]]=o[1]}return n},Ri.functions=function(t){return null==t?[]:En(t,Ma(t))},Ri.functionsIn=function(t){return null==t?[]:En(t,Aa(t))},Ri.groupBy=_s,Ri.initial=function(t){return(null==t?0:t.length)?oo(t,0,-1):[]},Ri.intersection=Xr,Ri.intersectionBy=Kr,Ri.intersectionWith=Gr,Ri.invert=Ta,Ri.invertBy=Ia,Ri.invokeMap=xs,Ri.iteratee=rh,Ri.keyBy=Es,Ri.keys=Ma,Ri.keysIn=Aa,Ri.map=ks,Ri.mapKeys=function(t,e){var i={};return e=lr(e,3),_n(t,function(t,n,o){sn(i,e(t,n,o),t)}),i},Ri.mapValues=function(t,e){var i={};return e=lr(e,3),_n(t,function(t,n,o){sn(i,n,e(t,n,o))}),i},Ri.matches=function(t){return Hn(cn(t,1))},Ri.matchesProperty=function(t,e){return Wn(t,cn(e,1))},Ri.memoize=Bs,Ri.merge=Na,Ri.mergeWith=Ba,Ri.method=sh,Ri.methodOf=ah,Ri.mixin=hh,Ri.negate=js,Ri.nthArg=function(t){return t=ga(t),Zn(function(e){return Vn(e,t)})},Ri.omit=ja,Ri.omitBy=function(t,e){return za(t,js(lr(e)))},Ri.once=function(t){return Ts(2,t)},Ri.orderBy=function(t,e,i,n){return null==t?[]:(qs(e)||(e=null==e?[]:[e]),qs(i=n?o:i)||(i=null==i?[]:[i]),qn(t,e,i))},Ri.over=lh,Ri.overArgs=Fs,Ri.overEvery=uh,Ri.overSome=dh,Ri.partial=zs,Ri.partialRight=Ls,Ri.partition=Os,Ri.pick=Fa,Ri.pickBy=za,Ri.property=ph,Ri.propertyOf=function(t){return function(e){return null==t?o:kn(t,e)}},Ri.pull=Jr,Ri.pullAll=Qr,Ri.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?Yn(t,e,lr(i,2)):t},Ri.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?Yn(t,e,o,i):t},Ri.pullAt=ts,Ri.range=fh,Ri.rangeRight=gh,Ri.rearg=Rs,Ri.reject=function(t,e){return(qs(t)?Me:yn)(t,js(lr(e,3)))},Ri.remove=function(t,e){var i=[];if(!t||!t.length)return i;var n=-1,o=[],r=t.length;for(e=lr(e,3);++n<r;){var s=t[n];e(s,n,t)&&(i.push(s),o.push(n))}return Xn(t,o),i},Ri.rest=function(t,e){if("function"!=typeof t)throw new It(r);return Zn(t,e=e===o?e:ga(e))},Ri.reverse=es,Ri.sampleSize=function(t,e,i){return e=(i?_r(t,e,i):e===o)?1:ga(e),(qs(t)?Ji:Qn)(t,e)},Ri.set=function(t,e,i){return null==t?t:to(t,e,i)},Ri.setWith=function(t,e,i,n){return n="function"==typeof n?n:o,null==t?t:to(t,e,i,n)},Ri.shuffle=function(t){return(qs(t)?Qi:no)(t)},Ri.slice=function(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&_r(t,e,i)?(e=0,i=n):(e=null==e?0:ga(e),i=i===o?n:ga(i)),oo(t,e,i)):[]},Ri.sortBy=Ss,Ri.sortedUniq=function(t){return t&&t.length?ho(t):[]},Ri.sortedUniqBy=function(t,e){return t&&t.length?ho(t,lr(e,2)):[]},Ri.split=function(t,e,i){return i&&"number"!=typeof i&&_r(t,e,i)&&(e=i=o),(i=i===o?v:i>>>0)?(t=ba(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=lo(e))&&ai(t)?Eo(fi(t),0,i):t.split(e,i):[]},Ri.spread=function(t,e){if("function"!=typeof t)throw new It(r);return e=null==e?0:mi(ga(e),0),Zn(function(i){var n=i[e],o=Eo(i,0,e);return n&&je(o,n),Ce(t,this,o)})},Ri.tail=function(t){var e=null==t?0:t.length;return e?oo(t,1,e):[]},Ri.take=function(t,e,i){return t&&t.length?oo(t,0,(e=i||e===o?1:ga(e))<0?0:e):[]},Ri.takeRight=function(t,e,i){var n=null==t?0:t.length;return n?oo(t,(e=n-(e=i||e===o?1:ga(e)))<0?0:e,n):[]},Ri.takeRightWhile=function(t,e){return t&&t.length?go(t,lr(e,3),!1,!0):[]},Ri.takeWhile=function(t,e){return t&&t.length?go(t,lr(e,3)):[]},Ri.tap=function(t,e){return e(t),t},Ri.throttle=function(t,e,i){var n=!0,o=!0;if("function"!=typeof t)throw new It(r);return ea(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),Ms(t,e,{leading:n,maxWait:e,trailing:o})},Ri.thru=fs,Ri.toArray=pa,Ri.toPairs=La,Ri.toPairsIn=Ra,Ri.toPath=function(t){return qs(t)?Be(t,zr):ca(t)?[t]:Do(Fr(ba(t)))},Ri.toPlainObject=ma,Ri.transform=function(t,e,i){var n=qs(t),o=n||Ks(t)||la(t);if(e=lr(e,4),null==i){var r=t&&t.constructor;i=o?n?new r:[]:ea(t)&&Js(r)?Hi(Yt(t)):{}}return(o?Te:_n)(t,function(t,n,o){return e(i,t,n,o)}),i},Ri.unary=function(t){return Ps(t,1)},Ri.union=is,Ri.unionBy=ns,Ri.unionWith=os,Ri.uniq=function(t){return t&&t.length?uo(t):[]},Ri.uniqBy=function(t,e){return t&&t.length?uo(t,lr(e,2)):[]},Ri.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?uo(t,o,e):[]},Ri.unset=function(t,e){return null==t||po(t,e)},Ri.unzip=rs,Ri.unzipWith=ss,Ri.update=function(t,e,i){return null==t?t:fo(t,e,wo(i))},Ri.updateWith=function(t,e,i,n){return n="function"==typeof n?n:o,null==t?t:fo(t,e,wo(i),n)},Ri.values=Ha,Ri.valuesIn=function(t){return null==t?[]:ti(t,Aa(t))},Ri.without=as,Ri.words=Ja,Ri.wrap=function(t,e){return zs(wo(e),t)},Ri.xor=hs,Ri.xorBy=cs,Ri.xorWith=ls,Ri.zip=us,Ri.zipObject=function(t,e){return mo(t||[],e||[],en)},Ri.zipObjectDeep=function(t,e){return mo(t||[],e||[],to)},Ri.zipWith=ds,Ri.entries=La,Ri.entriesIn=Ra,Ri.extend=_a,Ri.extendWith=xa,hh(Ri,Ri),Ri.add=mh,Ri.attempt=Qa,Ri.camelCase=Wa,Ri.capitalize=Ua,Ri.ceil=bh,Ri.clamp=function(t,e,i){return i===o&&(i=e,e=o),i!==o&&(i=(i=ya(i))==i?i:0),e!==o&&(e=(e=ya(e))==e?e:0),hn(ya(t),e,i)},Ri.clone=function(t){return cn(t,4)},Ri.cloneDeep=function(t){return cn(t,5)},Ri.cloneDeepWith=function(t,e){return cn(t,5,e="function"==typeof e?e:o)},Ri.cloneWith=function(t,e){return cn(t,4,e="function"==typeof e?e:o)},Ri.conformsTo=function(t,e){return null==e||ln(t,e,Ma(e))},Ri.deburr=Va,Ri.defaultTo=function(t,e){return null==t||t!=t?e:t},Ri.divide=wh,Ri.endsWith=function(t,e,i){t=ba(t),e=lo(e);var n=t.length,r=i=i===o?n:hn(ga(i),0,n);return(i-=e.length)>=0&&t.slice(i,r)==e},Ri.eq=Hs,Ri.escape=function(t){return(t=ba(t))&&Z.test(t)?t.replace(K,ri):t},Ri.escapeRegExp=function(t){return(t=ba(t))&&rt.test(t)?t.replace(ot,"\\$&"):t},Ri.every=function(t,e,i){var n=qs(t)?De:gn;return i&&_r(t,e,i)&&(e=o),n(t,lr(e,3))},Ri.find=ys,Ri.findIndex=Vr,Ri.findKey=function(t,e){return He(t,lr(e,3),_n)},Ri.findLast=ms,Ri.findLastIndex=qr,Ri.findLastKey=function(t,e){return He(t,lr(e,3),xn)},Ri.floor=_h,Ri.forEach=bs,Ri.forEachRight=ws,Ri.forIn=function(t,e){return null==t?t:bn(t,lr(e,3),Aa)},Ri.forInRight=function(t,e){return null==t?t:wn(t,lr(e,3),Aa)},Ri.forOwn=function(t,e){return t&&_n(t,lr(e,3))},Ri.forOwnRight=function(t,e){return t&&xn(t,lr(e,3))},Ri.get=Ca,Ri.gt=Ws,Ri.gte=Us,Ri.has=function(t,e){return null!=t&&yr(t,e,Pn)},Ri.hasIn=Pa,Ri.head=Yr,Ri.identity=oh,Ri.includes=function(t,e,i,n){t=Ys(t)?t:Ha(t),i=i&&!n?ga(i):0;var o=t.length;return i<0&&(i=mi(o+i,0)),ha(t)?i<=o&&t.indexOf(e,i)>-1:!!o&&Ue(t,e,i)>-1},Ri.indexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=null==i?0:ga(i);return o<0&&(o=mi(n+o,0)),Ue(t,e,o)},Ri.inRange=function(t,e,i){return e=fa(e),i===o?(i=e,e=0):i=fa(i),function(t,e,i){return t>=bi(e,i)&&t<mi(e,i)}(t=ya(t),e,i)},Ri.invoke=Da,Ri.isArguments=Vs,Ri.isArray=qs,Ri.isArrayBuffer=$s,Ri.isArrayLike=Ys,Ri.isArrayLikeObject=Xs,Ri.isBoolean=function(t){return!0===t||!1===t||ia(t)&&Sn(t)==w},Ri.isBuffer=Ks,Ri.isDate=Gs,Ri.isElement=function(t){return ia(t)&&1===t.nodeType&&!ra(t)},Ri.isEmpty=function(t){if(null==t)return!0;if(Ys(t)&&(qs(t)||"string"==typeof t||"function"==typeof t.splice||Ks(t)||la(t)||Vs(t)))return!t.length;var e=vr(t);if(e==O||e==I)return!t.size;if(Or(t))return!Fn(t).length;for(var i in t)if(jt.call(t,i))return!1;return!0},Ri.isEqual=function(t,e){return An(t,e)},Ri.isEqualWith=function(t,e,i){var n=(i="function"==typeof i?i:o)?i(t,e):o;return n===o?An(t,e,o,i):!!n},Ri.isError=Zs,Ri.isFinite=function(t){return"number"==typeof t&&we(t)},Ri.isFunction=Js,Ri.isInteger=Qs,Ri.isLength=ta,Ri.isMap=na,Ri.isMatch=function(t,e){return t===e||Nn(t,e,dr(e))},Ri.isMatchWith=function(t,e,i){return i="function"==typeof i?i:o,Nn(t,e,dr(e),i)},Ri.isNaN=function(t){return oa(t)&&t!=+t},Ri.isNative=function(t){if(kr(t))throw new kt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Bn(t)},Ri.isNil=function(t){return null==t},Ri.isNull=function(t){return null===t},Ri.isNumber=oa,Ri.isObject=ea,Ri.isObjectLike=ia,Ri.isPlainObject=ra,Ri.isRegExp=sa,Ri.isSafeInteger=function(t){return Qs(t)&&t>=-9007199254740991&&t<=f},Ri.isSet=aa,Ri.isString=ha,Ri.isSymbol=ca,Ri.isTypedArray=la,Ri.isUndefined=function(t){return t===o},Ri.isWeakMap=function(t){return ia(t)&&vr(t)==A},Ri.isWeakSet=function(t){return ia(t)&&"[object WeakSet]"==Sn(t)},Ri.join=function(t,e){return null==t?"":Re.call(t,e)},Ri.kebabCase=qa,Ri.last=Zr,Ri.lastIndexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=n;return i!==o&&(r=(r=ga(i))<0?mi(n+r,0):bi(r,n-1)),e==e?function(t,e,i){for(var n=i+1;n--;)if(t[n]===e)return n;return n}(t,e,r):We(t,qe,r,!0)},Ri.lowerCase=$a,Ri.lowerFirst=Ya,Ri.lt=ua,Ri.lte=da,Ri.max=function(t){return t&&t.length?vn(t,oh,Cn):o},Ri.maxBy=function(t,e){return t&&t.length?vn(t,lr(e,2),Cn):o},Ri.mean=function(t){return $e(t,oh)},Ri.meanBy=function(t,e){return $e(t,lr(e,2))},Ri.min=function(t){return t&&t.length?vn(t,oh,Ln):o},Ri.minBy=function(t,e){return t&&t.length?vn(t,lr(e,2),Ln):o},Ri.stubArray=vh,Ri.stubFalse=yh,Ri.stubObject=function(){return{}},Ri.stubString=function(){return""},Ri.stubTrue=function(){return!0},Ri.multiply=Eh,Ri.nth=function(t,e){return t&&t.length?Vn(t,ga(e)):o},Ri.noConflict=function(){return ge._===this&&(ge._=Ht),this},Ri.noop=ch,Ri.now=Cs,Ri.pad=function(t,e,i){t=ba(t);var n=(e=ga(e))?pi(t):0;if(!e||n>=e)return t;var o=(e-n)/2;return $o(ve(o),i)+t+$o(fe(o),i)},Ri.padEnd=function(t,e,i){t=ba(t);var n=(e=ga(e))?pi(t):0;return e&&n<e?t+$o(e-n,i):t},Ri.padStart=function(t,e,i){t=ba(t);var n=(e=ga(e))?pi(t):0;return e&&n<e?$o(e-n,i)+t:t},Ri.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),_i(ba(t).replace(st,""),e||0)},Ri.random=function(t,e,i){if(i&&"boolean"!=typeof i&&_r(t,e,i)&&(e=i=o),i===o&&("boolean"==typeof e?(i=e,e=o):"boolean"==typeof t&&(i=t,t=o)),t===o&&e===o?(t=0,e=1):(t=fa(t),e===o?(e=t,t=0):e=fa(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var r=xi();return bi(t+r*(e-t+ue("1e-"+((r+"").length-1))),e)}return Kn(t,e)},Ri.reduce=function(t,e,i){var n=qs(t)?Fe:Ke,o=arguments.length<3;return n(t,lr(e,4),i,o,pn)},Ri.reduceRight=function(t,e,i){var n=qs(t)?ze:Ke,o=arguments.length<3;return n(t,lr(e,4),i,o,fn)},Ri.repeat=function(t,e,i){return e=(i?_r(t,e,i):e===o)?1:ga(e),Gn(ba(t),e)},Ri.replace=function(){var t=arguments,e=ba(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Ri.result=function(t,e,i){var n=-1,r=(e=_o(e,t)).length;for(r||(r=1,t=o);++n<r;){var s=null==t?o:t[zr(e[n])];s===o&&(n=r,s=i),t=Js(s)?s.call(t):s}return t},Ri.round=kh,Ri.runInContext=t,Ri.sample=function(t){return(qs(t)?Zi:Jn)(t)},Ri.size=function(t){if(null==t)return 0;if(Ys(t))return ha(t)?pi(t):t.length;var e=vr(t);return e==O||e==I?t.size:Fn(t).length},Ri.snakeCase=Xa,Ri.some=function(t,e,i){var n=qs(t)?Le:ro;return i&&_r(t,e,i)&&(e=o),n(t,lr(e,3))},Ri.sortedIndex=function(t,e){return so(t,e)},Ri.sortedIndexBy=function(t,e,i){return ao(t,e,lr(i,2))},Ri.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var n=so(t,e);if(n<i&&Hs(t[n],e))return n}return-1},Ri.sortedLastIndex=function(t,e){return so(t,e,!0)},Ri.sortedLastIndexBy=function(t,e,i){return ao(t,e,lr(i,2),!0)},Ri.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var i=so(t,e,!0)-1;if(Hs(t[i],e))return i}return-1},Ri.startCase=Ka,Ri.startsWith=function(t,e,i){return t=ba(t),i=null==i?0:hn(ga(i),0,t.length),e=lo(e),t.slice(i,i+e.length)==e},Ri.subtract=Oh,Ri.sum=function(t){return t&&t.length?Ge(t,oh):0},Ri.sumBy=function(t,e){return t&&t.length?Ge(t,lr(e,2)):0},Ri.template=function(t,e,i){var n=Ri.templateSettings;i&&_r(t,e,i)&&(e=o),t=ba(t),e=xa({},e,n,tr);var r,s,a=xa({},e.imports,n.imports,tr),h=Ma(a),c=ti(a,h),l=0,u=e.interpolate||xt,d="__p += '",p=Pt((e.escape||xt).source+"|"+u.source+"|"+(u===tt?ft:xt).source+"|"+(e.evaluate||xt).source+"|$","g"),f="//# sourceURL="+(jt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(p,function(e,i,n,o,a,h){return n||(n=o),d+=t.slice(l,h).replace(Et,si),i&&(r=!0,d+="' +\n__e("+i+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=h+e.length,e}),d+="';\n";var g=jt.call(e,"variable")&&e.variable;if(g){if(dt.test(g))throw new kt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(q,""):d).replace($,"$1").replace(Y,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Qa(function(){return Ot(h,f+"return "+d).apply(o,c)});if(v.source=d,Zs(v))throw v;return v},Ri.times=function(t,e){if((t=ga(t))<1||t>f)return[];var i=v,n=bi(t,v);e=lr(e),t-=v;for(var o=Ze(n,e);++i<t;)e(i);return o},Ri.toFinite=fa,Ri.toInteger=ga,Ri.toLength=va,Ri.toLower=function(t){return ba(t).toLowerCase()},Ri.toNumber=ya,Ri.toSafeInteger=function(t){return t?hn(ga(t),-9007199254740991,f):0===t?t:0},Ri.toString=ba,Ri.toUpper=function(t){return ba(t).toUpperCase()},Ri.trim=function(t,e,i){if((t=ba(t))&&(i||e===o))return Je(t);if(!t||!(e=lo(e)))return t;var n=fi(t),r=fi(e);return Eo(n,ii(n,r),ni(n,r)+1).join("")},Ri.trimEnd=function(t,e,i){if((t=ba(t))&&(i||e===o))return t.slice(0,gi(t)+1);if(!t||!(e=lo(e)))return t;var n=fi(t);return Eo(n,0,ni(n,fi(e))+1).join("")},Ri.trimStart=function(t,e,i){if((t=ba(t))&&(i||e===o))return t.replace(st,"");if(!t||!(e=lo(e)))return t;var n=fi(t);return Eo(n,ii(n,fi(e))).join("")},Ri.truncate=function(t,e){var i=30,n="...";if(ea(e)){var r="separator"in e?e.separator:r;i="length"in e?ga(e.length):i,n="omission"in e?lo(e.omission):n}var s=(t=ba(t)).length;if(ai(t)){var a=fi(t);s=a.length}if(i>=s)return t;var h=i-pi(n);if(h<1)return n;var c=a?Eo(a,0,h).join(""):t.slice(0,h);if(r===o)return c+n;if(a&&(h+=c.length-h),sa(r)){if(t.slice(h).search(r)){var l,u=c;for(r.global||(r=Pt(r.source,ba(gt.exec(r))+"g")),r.lastIndex=0;l=r.exec(u);)var d=l.index;c=c.slice(0,d===o?h:d)}}else if(t.indexOf(lo(r),h)!=h){var p=c.lastIndexOf(r);p>-1&&(c=c.slice(0,p))}return c+n},Ri.unescape=function(t){return(t=ba(t))&&G.test(t)?t.replace(X,vi):t},Ri.uniqueId=function(t){var e=++Ft;return ba(t)+e},Ri.upperCase=Ga,Ri.upperFirst=Za,Ri.each=bs,Ri.eachRight=ws,Ri.first=Yr,hh(Ri,(xh={},_n(Ri,function(t,e){jt.call(Ri.prototype,e)||(xh[e]=t)}),xh),{chain:!1}),Ri.VERSION="4.17.21",Te(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Ri[t].placeholder=Ri}),Te(["drop","take"],function(t,e){Vi.prototype[t]=function(i){i=i===o?1:mi(ga(i),0);var n=this.__filtered__&&!e?new Vi(this):this.clone();return n.__filtered__?n.__takeCount__=bi(i,n.__takeCount__):n.__views__.push({size:bi(i,v),type:t+(n.__dir__<0?"Right":"")}),n},Vi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Te(["filter","map","takeWhile"],function(t,e){var i=e+1,n=1==i||3==i;Vi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:lr(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}}),Te(["head","last"],function(t,e){var i="take"+(e?"Right":"");Vi.prototype[t]=function(){return this[i](1).value()[0]}}),Te(["initial","tail"],function(t,e){var i="drop"+(e?"":"Right");Vi.prototype[t]=function(){return this.__filtered__?new Vi(this):this[i](1)}}),Vi.prototype.compact=function(){return this.filter(oh)},Vi.prototype.find=function(t){return this.filter(t).head()},Vi.prototype.findLast=function(t){return this.reverse().find(t)},Vi.prototype.invokeMap=Zn(function(t,e){return"function"==typeof t?new Vi(this):this.map(function(i){return Dn(i,t,e)})}),Vi.prototype.reject=function(t){return this.filter(js(lr(t)))},Vi.prototype.slice=function(t,e){t=ga(t);var i=this;return i.__filtered__&&(t>0||e<0)?new Vi(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==o&&(i=(e=ga(e))<0?i.dropRight(-e):i.take(e-t)),i)},Vi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Vi.prototype.toArray=function(){return this.take(v)},_n(Vi.prototype,function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),r=Ri[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);r&&(Ri.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,h=e instanceof Vi,c=a[0],l=h||qs(e),u=function(t){var e=r.apply(Ri,je([t],a));return n&&d?e[0]:e};l&&i&&"function"==typeof c&&1!=c.length&&(h=l=!1);var d=this.__chain__,p=!!this.__actions__.length,f=s&&!d,g=h&&!p;if(!s&&l){e=g?e:new Vi(this);var v=t.apply(e,a);return v.__actions__.push({func:fs,args:[u],thisArg:o}),new Ui(v,d)}return f&&g?t.apply(this,a):(v=this.thru(u),f?n?v.value()[0]:v.value():v)})}),Te(["pop","push","shift","sort","splice","unshift"],function(t){var e=Dt[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Ri.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var o=this.value();return e.apply(qs(o)?o:[],t)}return this[i](function(i){return e.apply(qs(i)?i:[],t)})}}),_n(Vi.prototype,function(t,e){var i=Ri[e];if(i){var n=i.name+"";jt.call(Di,n)||(Di[n]=[]),Di[n].push({name:e,func:i})}}),Di[Wo(o,2).name]=[{name:"wrapper",func:o}],Vi.prototype.clone=function(){var t=new Vi(this.__wrapped__);return t.__actions__=Do(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Do(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Do(this.__views__),t},Vi.prototype.reverse=function(){if(this.__filtered__){var t=new Vi(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Vi.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=qs(t),n=e<0,o=i?t.length:0,r=function(t,e,i){var n=-1,o=i.length;for(;++n<o;){var r=i[n],s=r.size;switch(r.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=bi(e,t+s);break;case"takeRight":t=mi(t,e-s)}}return{start:t,end:e}}(0,o,this.__views__),s=r.start,a=r.end,h=a-s,c=n?a:s-1,l=this.__iteratees__,u=l.length,d=0,p=bi(h,this.__takeCount__);if(!i||!n&&o==h&&p==h)return vo(t,this.__actions__);var f=[];t:for(;h--&&d<p;){for(var g=-1,v=t[c+=e];++g<u;){var y=l[g],m=y.iteratee,b=y.type,w=m(v);if(2==b)v=w;else if(!w){if(1==b)continue t;break t}}f[d++]=v}return f},Ri.prototype.at=gs,Ri.prototype.chain=function(){return ps(this)},Ri.prototype.commit=function(){return new Ui(this.value(),this.__chain__)},Ri.prototype.next=function(){this.__values__===o&&(this.__values__=pa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},Ri.prototype.plant=function(t){for(var e,i=this;i instanceof Wi;){var n=Rr(i);n.__index__=0,n.__values__=o,e?r.__wrapped__=n:e=n;var r=n;i=i.__wrapped__}return r.__wrapped__=t,e},Ri.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Vi){var e=t;return this.__actions__.length&&(e=new Vi(this)),(e=e.reverse()).__actions__.push({func:fs,args:[es],thisArg:o}),new Ui(e,this.__chain__)}return this.thru(es)},Ri.prototype.toJSON=Ri.prototype.valueOf=Ri.prototype.value=function(){return vo(this.__wrapped__,this.__actions__)},Ri.prototype.first=Ri.prototype.head,Jt&&(Ri.prototype[Jt]=function(){return this}),Ri}();ge._=yi,(n=function(){return yi}.call(e,i,e,t))===o||(t.exports=n)}.call(this)},566:(t,e,i)=>{"use strict";e.__esModule=!0;var n=i(849),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r]}}};e.default=o,t.exports=e.default},613:(t,e)=>{"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e.default=i,t.exports=e.default},614:(t,e)=>{"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){if("function"!=typeof t)return t;return function(){return arguments[arguments.length-1]=e(arguments[arguments.length-1]),t.apply(this,arguments)}}},624:(t,e,i)=>{"use strict";e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,i=a.COMPILER_REVISION;if(e>=a.LAST_COMPATIBLE_COMPILER_REVISION&&e<=a.COMPILER_REVISION)return;if(e<a.LAST_COMPATIBLE_COMPILER_REVISION){var n=a.REVISION_CHANGES[i],o=a.REVISION_CHANGES[e];throw new s.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new s.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")},e.template=function(t,e){if(!e)throw new s.default("No environment passed to template");if(!t||!t.main)throw new s.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var i=t.compiler&&7===t.compiler[0];var n={strict:function(t,e,i){if(!t||!(e in t))throw new s.default('"'+e+'" not defined in '+t,{loc:i});return n.lookupProperty(t,e)},lookupProperty:function(t,e){var i=t[e];return null==i||Object.prototype.hasOwnProperty.call(t,e)||l.resultIsAllowed(i,n.protoAccessControl,e)?i:void 0},lookup:function(t,e){for(var i=t.length,o=0;o<i;o++){if(null!=(t[o]&&n.lookupProperty(t[o],e)))return t[o][e]}},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:o.escapeExpression,invokePartial:function(i,n,r){r.hash&&(n=o.extend({},n,r.hash),r.ids&&(r.ids[0]=!0)),i=e.VM.resolvePartial.call(this,i,n,r);var a=o.extend({},r,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),h=e.VM.invokePartial.call(this,i,n,a);if(null==h&&e.compile&&(r.partials[r.name]=e.compile(i,t.compilerOptions,e),h=r.partials[r.name](n,a)),null!=h){if(r.indent){for(var c=h.split("\n"),l=0,u=c.length;l<u&&(c[l]||l+1!==u);l++)c[l]=r.indent+c[l];h=c.join("\n")}return h}throw new s.default("The partial "+r.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var i=t[e];return i.decorator=t[e+"_d"],i},programs:[],program:function(t,e,i,n,o){var r=this.programs[t],s=this.fn(t);return e||o||n||i?r=u(this,t,s,e,i,n,o):r||(r=this.programs[t]=u(this,t,s)),r},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=o.extend({},e,t)),i},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function r(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=i.data;r._setup(i),!i.partial&&t.useData&&(o=function(t,e){e&&"root"in e||((e=e?a.createFrame(e):{}).root=t);return e}(e,o));var s=void 0,h=t.useBlockParams?[]:void 0;function c(e){return""+t.main(n,e,n.helpers,n.partials,o,h,s)}return t.useDepths&&(s=i.depths?e!=i.depths[0]?[e].concat(i.depths):i.depths:[e]),(c=p(t.main,c,n,i.depths||[],o,h))(e,i)}return r.isTop=!0,r._setup=function(r){if(r.partial)n.protoAccessControl=r.protoAccessControl,n.helpers=r.helpers,n.partials=r.partials,n.decorators=r.decorators,n.hooks=r.hooks;else{var s=o.extend({},e.helpers,r.helpers);!function(t,e){Object.keys(t).forEach(function(i){var n=t[i];t[i]=function(t,e){var i=e.lookupProperty;return c.wrapHelper(t,function(t){return o.extend({lookupProperty:i},t)})}(n,e)})}(s,n),n.helpers=s,t.usePartial&&(n.partials=n.mergeIfNeeded(r.partials,e.partials)),(t.usePartial||t.useDecorators)&&(n.decorators=o.extend({},e.decorators,r.decorators)),n.hooks={},n.protoAccessControl=l.createProtoAccessControl(r);var a=r.allowCallsToHelperMissing||i;h.moveHelperToHooks(n,"helperMissing",a),h.moveHelperToHooks(n,"blockHelperMissing",a)}},r._child=function(e,i,o,r){if(t.useBlockParams&&!o)throw new s.default("must pass block params");if(t.useDepths&&!r)throw new s.default("must pass parent depths");return u(n,e,t[e],i,0,o,r)},r},e.wrapProgram=u,e.resolvePartial=function(t,e,i){t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name];return t},e.invokePartial=function(t,e,i){var n=i.data&&i.data["partial-block"];i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var r=void 0;i.fn&&i.fn!==d&&function(){i.data=a.createFrame(i.data);var t=i.fn;r=i.data["partial-block"]=function(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return i.data=a.createFrame(i.data),i.data["partial-block"]=n,t(e,i)},t.partials&&(i.partials=o.extend({},i.partials,t.partials))}();void 0===t&&r&&(t=r);if(void 0===t)throw new s.default("The partial "+i.name+" could not be found");if(t instanceof Function)return t(e,i)},e.noop=d;var n,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(849)),r=i(769),s=(n=r)&&n.__esModule?n:{default:n},a=i(871),h=i(277),c=i(614),l=i(865);function u(t,e,i,n,o,r,s){function a(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return!s||e==s[0]||e===t.nullContext&&null===s[0]||(a=[e].concat(s)),i(t,e,t.helpers,t.partials,o.data||n,r&&[o.blockParams].concat(r),a)}return(a=p(i,a,t,s,n,r)).program=e,a.depth=s?s.length:0,a.blockParams=o||0,a}function d(){return""}function p(t,e,i,n,r,s){if(t.decorator){var a={};e=t.decorator(e,a,i,n&&n[0],r,s,n),o.extend(e,a)}return e}},632:(t,e,i)=>{"use strict";e.__esModule=!0;var n=i(849),o=void 0;try{}catch(t){}function r(t,e,i){if(n.isArray(t)){for(var o=[],r=0,s=t.length;r<s;r++)o.push(e.wrap(t[r],i));return o}return"boolean"==typeof t||"number"==typeof t?t+"":t}function s(t){this.srcFile=t,this.source=[]}o||((o=function(t,e,i,n){this.src="",n&&this.add(n)}).prototype={add:function(t){n.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){n.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),s.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,i=this.source.length;e<i;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new o(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof o?t:(t=r(t,this,e),new o(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,i){return i=this.generateList(i),this.wrap([t,e?"."+e+"(":"(",i,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=this,i=[];Object.keys(t).forEach(function(n){var o=r(t[n],e);"undefined"!==o&&i.push([e.quotedString(n),":",o])});var n=this.generateList(i);return n.prepend("{"),n.add("}"),n},generateList:function(t){for(var e=this.empty(),i=0,n=t.length;i<n;i++)i&&e.add(","),e.add(r(t[i],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e.default=s,t.exports=e.default},639:(t,e,i)=>{"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(i(261)),r=n(i(919)),s=i(27),a=i(127),h=n(i(727)),c=n(i(350)),l=n(i(148)),u=o.default.create;function d(){var t=u();return t.compile=function(e,i){return a.compile(e,i,t)},t.precompile=function(e,i){return a.precompile(e,i,t)},t.AST=r.default,t.Compiler=a.Compiler,t.JavaScriptCompiler=h.default,t.Parser=s.parser,t.parse=s.parse,t.parseWithoutProcessing=s.parseWithoutProcessing,t}var p=d();p.create=d,l.default(p),p.Visitor=c.default,p.default=p,e.default=p,t.exports=e.default},726:(t,e,i)=>{"use strict";e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.extend.apply(void 0,[Object.create(null)].concat(e))};var n=i(849)},727:(t,e,i)=>{"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=i(871),r=n(i(769)),s=i(849),a=n(i(632));function h(t){this.value=t}function c(){}c.prototype={nameLookup:function(t,e){return this.internalNameLookup(t,e)},depthedLookup:function(t){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(t),")"]},compilerInfo:function(){var t=o.COMPILER_REVISION;return[t,o.REVISION_CHANGES[t]]},appendToBuffer:function(t,e,i){return s.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:i?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(t,e){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",t,",",JSON.stringify(e),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(t,e,i,n){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!n,this.name=this.environment.name,this.isChild=!!i,this.context=i||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var o=t.opcodes,s=void 0,a=void 0,h=void 0,c=void 0;for(h=0,c=o.length;h<c;h++)s=o[h],this.source.currentLocation=s.loc,a=a||s.loc,this[s.opcode].apply(this,s.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new r.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),n?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var l=this.createFunctionContext(n);if(this.isChild)return l;var u={compiler:this.compilerInfo(),main:l};this.decorators&&(u.main_d=this.decorators,u.useDecorators=!0);var d=this.context,p=d.programs,f=d.decorators;for(h=0,c=p.length;h<c;h++)p[h]&&(u[h]=p[h],f[h]&&(u[h+"_d"]=f[h],u.useDecorators=!0));return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.useBlockParams&&(u.useBlockParams=!0),this.options.compat&&(u.compat=!0),n?u.compilerOptions=this.options:(u.compiler=JSON.stringify(u.compiler),this.source.currentLocation={start:{line:1,column:0}},u=this.objectLiteral(u),e.srcName?(u=u.toStringWithSourceMap({file:e.destName})).map=u.map&&u.map.toString():u=u.toString()),u},preamble:function(){this.lastContext=0,this.source=new a.default(this.options.srcName),this.decorators=new a.default(this.options.srcName)},createFunctionContext:function(t){var e=this,i="",n=this.stackVars.concat(this.registers.list);n.length>0&&(i+=", "+n.join(", "));var o=0;Object.keys(this.aliases).forEach(function(t){var n=e.aliases[t];n.children&&n.referenceCount>1&&(i+=", alias"+ ++o+"="+t,n.children[0]="alias"+o)}),this.lookupPropertyFunctionIsUsed&&(i+=", "+this.lookupPropertyFunctionVarDeclaration());var r=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&r.push("blockParams"),this.useDepths&&r.push("depths");var s=this.mergeSource(i);return t?(r.push(s),Function.apply(this,r)):this.source.wrap(["function(",r.join(","),") {\n  ",s,"}"])},mergeSource:function(t){var e=this.environment.isSimple,i=!this.forceBuffer,n=void 0,o=void 0,r=void 0,s=void 0;return this.source.each(function(t){t.appendToBuffer?(r?t.prepend("  + "):r=t,s=t):(r&&(o?r.prepend("buffer += "):n=!0,s.add(";"),r=s=void 0),o=!0,e||(i=!1))}),i?r?(r.prepend("return "),s.add(";")):o||this.source.push('return "";'):(t+=", buffer = "+(n?"":this.initializeBuffer()),r?(r.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(n?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(t){var e=this.aliasable("container.hooks.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(t,0,i);var n=this.popStack();i.splice(1,0,n),this.push(this.source.functionCall(e,"call",i))},ambiguousBlockValue:function(){var t=this.aliasable("container.hooks.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var i=this.topStack();e.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,i,n){var o=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[o++])),this.resolvePath("context",t,o,e,i)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,i){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,i)},resolvePath:function(t,e,i,n,o){var r=this;if(this.options.strict||this.options.assumeObjects)this.push(function(t,e,i,n,o){var r=e.popStack(),s=i.length;t&&s--;for(;n<s;n++)r=e.nameLookup(r,i[n],o);return t?[e.aliasable("container.strict"),"(",r,", ",e.quotedString(i[n]),", ",JSON.stringify(e.source.currentLocation)," )"]:r}(this.options.strict&&o,this,e,i,t));else for(var s=e.length;i<s;i++)this.replaceStack(function(o){var s=r.nameLookup(o,e[i],t);return n?[" && ",s]:[" != null ? ",s," : ",o]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var i=this.nameLookup("decorators",e,"decorator"),n=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",n])," || fn;"])},invokeHelper:function(t,e,i){var n=this.popStack(),o=this.setupHelper(t,e),r=[];i&&r.push(o.name),r.push(n),this.options.strict||r.push(this.aliasable("container.hooks.helperMissing"));var s=["(",this.itemsSeparatedBy(r,"||"),")"],a=this.source.functionCall(s,"call",o.callParams);this.push(a)},itemsSeparatedBy:function(t,e){var i=[];i.push(t[0]);for(var n=1;n<t.length;n++)i.push(e,t[n]);return i},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var i=this.popStack();this.emptyHash();var n=this.setupHelper(0,t,e),o=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",i,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",o,n.paramsInit?["),(",n.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",n.callParams)," : helper))"])},invokePartial:function(t,e,i){var n=[],o=this.setupParams(e,1,n);t&&(e=this.popStack(),delete o.name),i&&(o.indent=JSON.stringify(i)),o.helpers="helpers",o.partials="partials",o.decorators="container.decorators",t?n.unshift(e):n.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(o.depths="depths"),o=this.objectLiteral(o),n.push(o),this.push(this.source.functionCall("container.invokePartial","",n))},assignToHash:function(t){var e=this.popStack(),i=void 0,n=void 0,o=void 0;this.trackIds&&(o=this.popStack()),this.stringParams&&(n=this.popStack(),i=this.popStack());var r=this.hash;i&&(r.contexts[t]=i),n&&(r.types[t]=n),o&&(r.ids[t]=o),r.values[t]=e},pushId:function(t,e,i){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:c,compileChildren:function(t,e){for(var i=t.children,n=void 0,o=void 0,r=0,s=i.length;r<s;r++){n=i[r],o=new this.compiler;var a=this.matchExistingProgram(n);if(null==a){this.context.programs.push("");var h=this.context.programs.length;n.index=h,n.name="program"+h,this.context.programs[h]=o.compile(n,e,this.context,!this.precompile),this.context.decorators[h]=o.decorators,this.context.environments[h]=n,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams,n.useDepths=this.useDepths,n.useBlockParams=this.useBlockParams}else n.index=a.index,n.name="program"+a.index,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;e<i;e++){var n=this.context.environments[e];if(n&&n.equals(t))return n}},programExpression:function(t){var e=this.environment.children[t],i=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths"),"container.program("+i.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof h||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new h(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],i=void 0,n=void 0,o=void 0;if(!this.isInline())throw new r.default("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof h)e=["(",i=[s.value]],o=!0;else{n=!0;var a=this.incrStack();e=["((",this.push(a)," = ",s,")"],i=this.topStack()}var c=t.call(this,i);o||this.popStack(),n&&this.stackSlot--,this.push(e.concat(c,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,i=t.length;e<i;e++){var n=t[e];if(n instanceof h)this.compileStack.push(n);else{var o=this.incrStack();this.pushSource([o," = ",n,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof h)return i.value;if(!e){if(!this.stackSlot)throw new r.default("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof h?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):((e=this.aliases[t]=this.source.wrap(t)).aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,i){var n=[];return{params:n,paramsInit:this.setupHelperArgs(e,t,n,i),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(n)}},setupParams:function(t,e,i){var n={},o=[],r=[],s=[],a=!i,h=void 0;a&&(i=[]),n.name=this.quotedString(t),n.hash=this.popStack(),this.trackIds&&(n.hashIds=this.popStack()),this.stringParams&&(n.hashTypes=this.popStack(),n.hashContexts=this.popStack());var c=this.popStack(),l=this.popStack();(l||c)&&(n.fn=l||"container.noop",n.inverse=c||"container.noop");for(var u=e;u--;)h=this.popStack(),i[u]=h,this.trackIds&&(s[u]=this.popStack()),this.stringParams&&(r[u]=this.popStack(),o[u]=this.popStack());return a&&(n.args=this.source.generateArray(i)),this.trackIds&&(n.ids=this.source.generateArray(s)),this.stringParams&&(n.types=this.source.generateArray(r),n.contexts=this.source.generateArray(o)),this.options.data&&(n.data="data"),this.useBlockParams&&(n.blockParams="blockParams"),n},setupHelperArgs:function(t,e,i,n){var o=this.setupParams(t,e,i);return o.loc=JSON.stringify(this.source.currentLocation),o=this.objectLiteral(o),n?(this.useRegister("options"),i.push("options"),["options=",o]):i?(i.push(o),""):o}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=c.RESERVED_WORDS={},i=0,n=t.length;i<n;i++)e[t[i]]=!0}(),c.isValidJavaScriptVariableName=function(t){return!c.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e.default=c,t.exports=e.default},769:(t,e)=>{"use strict";e.__esModule=!0;var i=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function n(t,e){var o=e&&e.loc,r=void 0,s=void 0,a=void 0,h=void 0;o&&(r=o.start.line,s=o.end.line,a=o.start.column,h=o.end.column,t+=" - "+r+":"+a);for(var c=Error.prototype.constructor.call(this,t),l=0;l<i.length;l++)this[i[l]]=c[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{o&&(this.lineNumber=r,this.endLineNumber=s,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:h,enumerable:!0})):(this.column=a,this.endColumn=h))}catch(t){}}n.prototype=new Error,e.default=n,t.exports=e.default},785:(t,e,i)=>{"use strict";e.__esModule=!0;var n,o=i(849),r=i(769),s=(n=r)&&n.__esModule?n:{default:n};e.default=function(t){t.registerHelper("each",function(t,e){if(!e)throw new s.default("Must pass iterator to #each");var i,n=e.fn,r=e.inverse,a=0,h="",c=void 0,l=void 0;function u(e,i,r){c&&(c.key=e,c.index=i,c.first=0===i,c.last=!!r,l&&(c.contextPath=l+e)),h+=n(t[e],{data:c,blockParams:o.blockParams([t[e],e],[l+e,null])})}if(e.data&&e.ids&&(l=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),o.isFunction(t)&&(t=t.call(this)),e.data&&(c=o.createFrame(e.data)),t&&"object"==typeof t)if(o.isArray(t))for(var d=t.length;a<d;a++)a in t&&u(a,a,a===t.length-1);else if("function"==typeof Symbol&&t[Symbol.iterator]){for(var p=[],f=t[Symbol.iterator](),g=f.next();!g.done;g=f.next())p.push(g.value);for(d=(t=p).length;a<d;a++)u(a,a,a===t.length-1)}else i=void 0,Object.keys(t).forEach(function(t){void 0!==i&&u(i,a-1),i=t,a++}),void 0!==i&&u(i,a-1,!0);return 0===a&&(h=r(this)),h})},t.exports=e.default},848:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});var n=i(993),o=i(543);class r{constructor(t){this.graphContext=this.decorateDotAttrs(t)}getGraphContext(){return this.graphContext}updateLabel(t){t.edges.forEach(e=>{t.nodes.forEach(t=>{e.from===t.id&&(e.fromLabel=t.label),e.to===t.id&&(e.toLabel=t.label,e.label&&(e.toLabel=e.label))})})}decorateDotAttrs(t){let e="",i=new Array(0),r="",s=!1,a={label:null,nodes:null,edges:null};t.split(/\n/).forEach(t=>{switch(!0){case/subgraph/.test(t):s=!0,r="";let h=t.split(/\s+/);h=h.filter(function(t){return""!==t}),a.label=h[1].replace(/[\""]/g,"");break;case/}/.test(t):if(/{/.test(t)){let e=t.replace(/[\\\"]/g,"");e=e.replace(/(label=)/g,'$1"'),e=e.replace(/(})/g,'$1"'),r+=e}else if(s){s=!1;const t="digraph "+a.label+" {"+r+"}",e=n.parseDOTNetwork(t);a.nodes=e.nodes,a.edges=e.edges,this.updateLabel(a);const h=o.cloneDeep(a);i.push(h)}else e+=t;break;default:s?r+=t:e+=t}});let h=n.parseDOTNetwork(e);this.updateLabel(h);return{name:"test",direction:"TB",subgraphs:i,nodes:h.nodes,edges:h.edges}}}},849:(t,e)=>{"use strict";e.__esModule=!0,e.extend=s,e.indexOf=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!o.test(t))return t;return t.replace(n,r)},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=s({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},n=/[&<>"'`=]/g,o=/[&<>"'`=]/;function r(t){return i[t]}function s(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}var a=Object.prototype.toString;e.toString=a;var h=function(t){return"function"==typeof t};h(/x/)&&(e.isFunction=h=function(t){return"function"==typeof t&&"[object Function]"===a.call(t)}),e.isFunction=h;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===a.call(t)};e.isArray=c},865:(t,e,i)=>{"use strict";e.__esModule=!0,e.createProtoAccessControl=function(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var i=Object.create(null);return i.__proto__=!1,{properties:{whitelist:o.createNewLookupObject(i,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:o.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,i){return h("function"==typeof t?e.methods:e.properties,i)},e.resetLoggedProperties=function(){Object.keys(a).forEach(function(t){delete a[t]})};var n,o=i(726),r=i(566),s=(n=r)&&n.__esModule?n:{default:n},a=Object.create(null);function h(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==a[t]&&(a[t]=!0,s.default.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}},871:(t,e,i)=>{"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=u;var o=i(849),r=n(i(769)),s=i(277),a=i(940),h=n(i(566)),c=i(865);e.VERSION="4.7.8";e.COMPILER_REVISION=8;e.LAST_COMPATIBLE_COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var l="[object Object]";function u(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},s.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}u.prototype={constructor:u,logger:h.default,log:h.default.log,registerHelper:function(t,e){if(o.toString.call(t)===l){if(e)throw new r.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===l)o.extend(this.partials,t);else{if(void 0===e)throw new r.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===l){if(e)throw new r.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var d=h.default.log;e.log=d,e.createFrame=o.createFrame,e.logger=h.default},908:(t,e,i)=>{"use strict";e.__esModule=!0;var n,o=i(849),r=i(769),s=(n=r)&&n.__esModule?n:{default:n};e.default=function(t){t.registerHelper("with",function(t,e){if(2!=arguments.length)throw new s.default("#with requires exactly one argument");o.isFunction(t)&&(t=t.call(this));var i=e.fn;if(o.isEmpty(t))return e.inverse(this);var n=e.data;return e.data&&e.ids&&((n=o.createFrame(e.data)).contextPath=o.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:n,blockParams:o.blockParams([t],[n&&n.contextPath])})})},t.exports=e.default},915:(t,e,i)=>{"use strict";e.__esModule=!0;var n,o=i(350),r=(n=o)&&n.__esModule?n:{default:n};function s(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function a(t,e,i){void 0===e&&(e=t.length);var n=t[e-1],o=t[e-2];return n?"ContentStatement"===n.type?(o||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original):void 0:i}function h(t,e,i){void 0===e&&(e=-1);var n=t[e+1],o=t[e+2];return n?"ContentStatement"===n.type?(o||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original):void 0:i}function c(t,e,i){var n=t[null==e?0:e+1];if(n&&"ContentStatement"===n.type&&(i||!n.rightStripped)){var o=n.value;n.value=n.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),n.rightStripped=n.value!==o}}function l(t,e,i){var n=t[null==e?t.length-1:e-1];if(n&&"ContentStatement"===n.type&&(i||!n.leftStripped)){var o=n.value;return n.value=n.value.replace(i?/\s+$/:/[ \t]+$/,""),n.leftStripped=n.value!==o,n.leftStripped}}s.prototype=new r.default,s.prototype.Program=function(t){var e=!this.options.ignoreStandalone,i=!this.isRootSeen;this.isRootSeen=!0;for(var n=t.body,o=0,r=n.length;o<r;o++){var s=n[o],u=this.accept(s);if(u){var d=a(n,o,i),p=h(n,o,i),f=u.openStandalone&&d,g=u.closeStandalone&&p,v=u.inlineStandalone&&d&&p;u.close&&c(n,o,!0),u.open&&l(n,o,!0),e&&v&&(c(n,o),l(n,o)&&"PartialStatement"===s.type&&(s.indent=/([ \t]+$)/.exec(n[o-1].original)[1])),e&&f&&(c((s.program||s.inverse).body),l(n,o)),e&&g&&(c(n,o),l((s.inverse||s.program).body))}}return t},s.prototype.BlockStatement=s.prototype.DecoratorBlock=s.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,i=t.program&&t.inverse,n=i,o=i;if(i&&i.chained)for(n=i.body[0].program;o.chained;)o=o.body[o.body.length-1].program;var r={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:h(e.body),closeStandalone:a((n||e).body)};if(t.openStrip.close&&c(e.body,null,!0),i){var s=t.inverseStrip;s.open&&l(e.body,null,!0),s.close&&c(n.body,null,!0),t.closeStrip.open&&l(o.body,null,!0),!this.options.ignoreStandalone&&a(e.body)&&h(n.body)&&(l(e.body),c(n.body))}else t.closeStrip.open&&l(e.body,null,!0);return r},s.prototype.Decorator=s.prototype.MustacheStatement=function(t){return t.strip},s.prototype.PartialStatement=s.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e.default=s,t.exports=e.default},919:(t,e)=>{"use strict";e.__esModule=!0;var i={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!i.helpers.scopedId(t)&&!t.depth}}};e.default=i,t.exports=e.default},940:(t,e,i)=>{"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){r.default(t)};var n,o=i(430),r=(n=o)&&n.__esModule?n:{default:n}},993:function(t,e,i){!function(t,e){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r=function(t){return t&&t.Math===Math&&t},s=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n&&n)||function(){return this}()||n||Function("return this")(),a=function(t){try{return!!t()}catch(t){return!0}},h=!a(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),c=h,l=Function.prototype,u=l.apply,d=l.call,p="object"==typeof Reflect&&Reflect.apply||(c?d.bind(u):function(){return d.apply(u,arguments)}),f=h,g=Function.prototype,v=g.call,y=f&&g.bind.bind(v,v),m=f?y:function(t){return function(){return v.apply(t,arguments)}},b=m,w=b({}.toString),_=b("".slice),x=function(t){return _(w(t),8,-1)},E=x,k=m,O=function(t){if("Function"===E(t))return k(t)},S="object"==typeof document&&document.all,C={all:S,IS_HTMLDDA:void 0===S&&void 0!==S},P=C.all,T=C.IS_HTMLDDA?function(t){return"function"==typeof t||t===P}:function(t){return"function"==typeof t},I={},D=!a(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),M=h,A=Function.prototype.call,N=M?A.bind(A):function(){return A.apply(A,arguments)},B={},j={}.propertyIsEnumerable,F=Object.getOwnPropertyDescriptor,z=F&&!j.call({1:2},1);B.f=z?function(t){var e=F(this,t);return!!e&&e.enumerable}:j;var L,R,H=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},W=a,U=x,V=Object,q=m("".split),$=W(function(){return!V("z").propertyIsEnumerable(0)})?function(t){return"String"===U(t)?q(t,""):V(t)}:V,Y=function(t){return null==t},X=Y,K=TypeError,G=function(t){if(X(t))throw new K("Can't call method on "+t);return t},Z=$,J=G,Q=function(t){return Z(J(t))},tt=T,et=C.all,it=C.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:tt(t)||t===et}:function(t){return"object"==typeof t?null!==t:tt(t)},nt={},ot=nt,rt=s,st=T,at=function(t){return st(t)?t:void 0},ht=function(t,e){return arguments.length<2?at(ot[t])||at(rt[t]):ot[t]&&ot[t][e]||rt[t]&&rt[t][e]},ct=m({}.isPrototypeOf),lt="undefined"!=typeof navigator&&String(navigator.userAgent)||"",ut=s,dt=lt,pt=ut.process,ft=ut.Deno,gt=pt&&pt.versions||ft&&ft.version,vt=gt&&gt.v8;vt&&(R=(L=vt.split("."))[0]>0&&L[0]<4?1:+(L[0]+L[1])),!R&&dt&&(!(L=dt.match(/Edge\/(\d+)/))||L[1]>=74)&&(L=dt.match(/Chrome\/(\d+)/))&&(R=+L[1]);var yt=R,mt=yt,bt=a,wt=s.String,_t=!!Object.getOwnPropertySymbols&&!bt(function(){var t=Symbol("symbol detection");return!wt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&mt&&mt<41}),xt=_t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Et=ht,kt=T,Ot=ct,St=Object,Ct=xt?function(t){return"symbol"==typeof t}:function(t){var e=Et("Symbol");return kt(e)&&Ot(e.prototype,St(t))},Pt=String,Tt=function(t){try{return Pt(t)}catch(t){return"Object"}},It=T,Dt=Tt,Mt=TypeError,At=function(t){if(It(t))return t;throw new Mt(Dt(t)+" is not a function")},Nt=At,Bt=Y,jt=function(t,e){var i=t[e];return Bt(i)?void 0:Nt(i)},Ft=N,zt=T,Lt=it,Rt=TypeError,Ht={exports:{}},Wt=s,Ut=Object.defineProperty,Vt=function(t,e){try{Ut(Wt,t,{value:e,configurable:!0,writable:!0})}catch(i){Wt[t]=e}return e},qt="__core-js_shared__",$t=s[qt]||Vt(qt,{}),Yt=$t;(Ht.exports=function(t,e){return Yt[t]||(Yt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Xt=Ht.exports,Kt=G,Gt=Object,Zt=function(t){return Gt(Kt(t))},Jt=Zt,Qt=m({}.hasOwnProperty),te=Object.hasOwn||function(t,e){return Qt(Jt(t),e)},ee=m,ie=0,ne=Math.random(),oe=ee(1..toString),re=function(t){return"Symbol("+(void 0===t?"":t)+")_"+oe(++ie+ne,36)},se=Xt,ae=te,he=re,ce=_t,le=xt,ue=s.Symbol,de=se("wks"),pe=le?ue.for||ue:ue&&ue.withoutSetter||he,fe=function(t){return ae(de,t)||(de[t]=ce&&ae(ue,t)?ue[t]:pe("Symbol."+t)),de[t]},ge=N,ve=it,ye=Ct,me=jt,be=function(t,e){var i,n;if("string"===e&&zt(i=t.toString)&&!Lt(n=Ft(i,t)))return n;if(zt(i=t.valueOf)&&!Lt(n=Ft(i,t)))return n;if("string"!==e&&zt(i=t.toString)&&!Lt(n=Ft(i,t)))return n;throw new Rt("Can't convert object to primitive value")},we=TypeError,_e=fe("toPrimitive"),xe=function(t,e){if(!ve(t)||ye(t))return t;var i,n=me(t,_e);if(n){if(void 0===e&&(e="default"),i=ge(n,t,e),!ve(i)||ye(i))return i;throw new we("Can't convert object to primitive value")}return void 0===e&&(e="number"),be(t,e)},Ee=Ct,ke=function(t){var e=xe(t,"string");return Ee(e)?e:e+""},Oe=it,Se=s.document,Ce=Oe(Se)&&Oe(Se.createElement),Pe=function(t){return Ce?Se.createElement(t):{}},Te=Pe,Ie=!D&&!a(function(){return 7!==Object.defineProperty(Te("div"),"a",{get:function(){return 7}}).a}),De=D,Me=N,Ae=B,Ne=H,Be=Q,je=ke,Fe=te,ze=Ie,Le=Object.getOwnPropertyDescriptor;I.f=De?Le:function(t,e){if(t=Be(t),e=je(e),ze)try{return Le(t,e)}catch(t){}if(Fe(t,e))return Ne(!Me(Ae.f,t,e),t[e])};var Re=a,He=T,We=/#|\.prototype\./,Ue=function(t,e){var i=qe[Ve(t)];return i===Ye||i!==$e&&(He(e)?Re(e):!!e)},Ve=Ue.normalize=function(t){return String(t).replace(We,".").toLowerCase()},qe=Ue.data={},$e=Ue.NATIVE="N",Ye=Ue.POLYFILL="P",Xe=Ue,Ke=At,Ge=h,Ze=O(O.bind),Je=function(t,e){return Ke(t),void 0===e?t:Ge?Ze(t,e):function(){return t.apply(e,arguments)}},Qe={},ti=D&&a(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),ei=it,ii=String,ni=TypeError,oi=function(t){if(ei(t))return t;throw new ni(ii(t)+" is not an object")},ri=D,si=Ie,ai=ti,hi=oi,ci=ke,li=TypeError,ui=Object.defineProperty,di=Object.getOwnPropertyDescriptor,pi="enumerable",fi="configurable",gi="writable";Qe.f=ri?ai?function(t,e,i){if(hi(t),e=ci(e),hi(i),"function"==typeof t&&"prototype"===e&&"value"in i&&gi in i&&!i[gi]){var n=di(t,e);n&&n[gi]&&(t[e]=i.value,i={configurable:fi in i?i[fi]:n[fi],enumerable:pi in i?i[pi]:n[pi],writable:!1})}return ui(t,e,i)}:ui:function(t,e,i){if(hi(t),e=ci(e),hi(i),si)try{return ui(t,e,i)}catch(t){}if("get"in i||"set"in i)throw new li("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var vi=Qe,yi=H,mi=D?function(t,e,i){return vi.f(t,e,yi(1,i))}:function(t,e,i){return t[e]=i,t},bi=s,wi=p,_i=O,xi=T,Ei=I.f,ki=Xe,Oi=nt,Si=Je,Ci=mi,Pi=te,Ti=function(t){var e=function(i,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(i);case 2:return new t(i,n)}return new t(i,n,o)}return wi(t,this,arguments)};return e.prototype=t.prototype,e},Ii=function(t,e){var i,n,o,r,s,a,h,c,l,u=t.target,d=t.global,p=t.stat,f=t.proto,g=d?bi:p?bi[u]:(bi[u]||{}).prototype,v=d?Oi:Oi[u]||Ci(Oi,u,{})[u],y=v.prototype;for(r in e)n=!(i=ki(d?r:u+(p?".":"#")+r,t.forced))&&g&&Pi(g,r),a=v[r],n&&(h=t.dontCallGetSet?(l=Ei(g,r))&&l.value:g[r]),s=n&&h?h:e[r],n&&typeof a==typeof s||(c=t.bind&&n?Si(s,bi):t.wrap&&n?Ti(s):f&&xi(s)?_i(s):s,(t.sham||s&&s.sham||a&&a.sham)&&Ci(c,"sham",!0),Ci(v,r,c),f&&(Pi(Oi,o=u+"Prototype")||Ci(Oi,o,{}),Ci(Oi[o],r,s),t.real&&y&&(i||!y[r])&&Ci(y,r,s)))},Di=Math.ceil,Mi=Math.floor,Ai=Math.trunc||function(t){var e=+t;return(e>0?Mi:Di)(e)},Ni=function(t){var e=+t;return e!=e||0===e?0:Ai(e)},Bi=Ni,ji=Math.max,Fi=Math.min,zi=function(t,e){var i=Bi(t);return i<0?ji(i+e,0):Fi(i,e)},Li=Ni,Ri=Math.min,Hi=function(t){return t>0?Ri(Li(t),9007199254740991):0},Wi=function(t){return Hi(t.length)},Ui=Q,Vi=zi,qi=Wi,$i=function(t){return function(e,i,n){var o,r=Ui(e),s=qi(r),a=Vi(n,s);if(t&&i!=i){for(;s>a;)if((o=r[a++])!=o)return!0}else for(;s>a;a++)if((t||a in r)&&r[a]===i)return t||a||0;return!t&&-1}},Yi={includes:$i(!0),indexOf:$i(!1)},Xi={},Ki=te,Gi=Q,Zi=Yi.indexOf,Ji=Xi,Qi=m([].push),tn=function(t,e){var i,n=Gi(t),o=0,r=[];for(i in n)!Ki(Ji,i)&&Ki(n,i)&&Qi(r,i);for(;e.length>o;)Ki(n,i=e[o++])&&(~Zi(r,i)||Qi(r,i));return r},en=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],nn=tn,on=en,rn=Object.keys||function(t){return nn(t,on)},sn={};sn.f=Object.getOwnPropertySymbols;var an=D,hn=m,cn=N,ln=a,un=rn,dn=sn,pn=B,fn=Zt,gn=$,vn=Object.assign,yn=Object.defineProperty,mn=hn([].concat),bn=!vn||ln(function(){if(an&&1!==vn({b:1},vn(yn({},"a",{enumerable:!0,get:function(){yn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!==vn({},t)[i]||un(vn({},e)).join("")!==n})?function(t,e){for(var i=fn(t),n=arguments.length,o=1,r=dn.f,s=pn.f;n>o;)for(var a,h=gn(arguments[o++]),c=r?mn(un(h),r(h)):un(h),l=c.length,u=0;l>u;)a=c[u++],an&&!cn(s,h,a)||(i[a]=h[a]);return i}:vn,wn=bn;Ii({target:"Object",stat:!0,arity:2,forced:Object.assign!==wn},{assign:wn});var _n=o(nt.Object.assign),xn=m([].slice),En=m,kn=At,On=it,Sn=te,Cn=xn,Pn=h,Tn=Function,In=En([].concat),Dn=En([].join),Mn={},An=Pn?Tn.bind:function(t){var e=kn(this),i=e.prototype,n=Cn(arguments,1),o=function(){var i=In(n,Cn(arguments));return this instanceof o?function(t,e,i){if(!Sn(Mn,e)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";Mn[e]=Tn("C,a","return new C("+Dn(n,",")+")")}return Mn[e](t,i)}(e,i.length,i):e.apply(t,i)};return On(i)&&(o.prototype=i),o},Nn=An;Ii({target:"Function",proto:!0,forced:Function.bind!==Nn},{bind:Nn});var Bn=nt,jn=function(t){return Bn[t+"Prototype"]},Fn=jn("Function").bind,zn=ct,Ln=Fn,Rn=Function.prototype,Hn=function(t){var e=t.bind;return t===Rn||zn(Rn,t)&&e===Rn.bind?Ln:e},Wn=o(Hn);function Un(t,e,i,n){t.beginPath(),t.arc(e,i,n,0,2*Math.PI,!1),t.closePath()}function Vn(t,e,i,n,o,r){const s=Math.PI/180;n-2*r<0&&(r=n/2),o-2*r<0&&(r=o/2),t.beginPath(),t.moveTo(e+r,i),t.lineTo(e+n-r,i),t.arc(e+n-r,i+r,r,270*s,360*s,!1),t.lineTo(e+n,i+o-r),t.arc(e+n-r,i+o-r,r,0,90*s,!1),t.lineTo(e+r,i+o),t.arc(e+r,i+o-r,r,90*s,180*s,!1),t.lineTo(e,i+r),t.arc(e+r,i+r,r,180*s,270*s,!1),t.closePath()}function qn(t,e,i,n,o){const r=.5522848,s=n/2*r,a=o/2*r,h=e+n,c=i+o,l=e+n/2,u=i+o/2;t.beginPath(),t.moveTo(e,u),t.bezierCurveTo(e,u-a,l-s,i,l,i),t.bezierCurveTo(l+s,i,h,u-a,h,u),t.bezierCurveTo(h,u+a,l+s,c,l,c),t.bezierCurveTo(l-s,c,e,u+a,e,u),t.closePath()}function $n(t,e,i,n,o){const r=o*(1/3),s=.5522848,a=n/2*s,h=r/2*s,c=e+n,l=i+r,u=e+n/2,d=i+r/2,p=i+(o-r/2),f=i+o;t.beginPath(),t.moveTo(c,d),t.bezierCurveTo(c,d+h,u+a,l,u,l),t.bezierCurveTo(u-a,l,e,d+h,e,d),t.bezierCurveTo(e,d-h,u-a,i,u,i),t.bezierCurveTo(u+a,i,c,d-h,c,d),t.lineTo(c,p),t.bezierCurveTo(c,p+h,u+a,f,u,f),t.bezierCurveTo(u-a,f,e,p+h,e,p),t.lineTo(e,d)}function Yn(t,e,i,n,o,r){t.beginPath(),t.moveTo(e,i);const s=r.length,a=n-e,h=o-i,c=h/a;let l=Math.sqrt(a*a+h*h),u=0,d=!0,p=0,f=+r[0];for(;l>=.1;)f=+r[u++%s],f>l&&(f=l),p=Math.sqrt(f*f/(1+c*c)),p=a<0?-p:p,e+=p,i+=c*p,!0===d?t.lineTo(e,i):t.moveTo(e,i),l-=f,d=!d}const Xn={circle:Un,dashedLine:Yn,database:$n,diamond:function(t,e,i,n){t.beginPath(),t.lineTo(e,i+n),t.lineTo(e+n,i),t.lineTo(e,i-n),t.lineTo(e-n,i),t.closePath()},ellipse:qn,ellipse_vis:qn,hexagon:function(t,e,i,n){t.beginPath();const o=2*Math.PI/6;t.moveTo(e+n,i);for(let r=1;r<6;r++)t.lineTo(e+n*Math.cos(o*r),i+n*Math.sin(o*r));t.closePath()},roundRect:Vn,square:function(t,e,i,n){t.beginPath(),t.rect(e-n,i-n,2*n,2*n),t.closePath()},star:function(t,e,i,n){t.beginPath(),i+=.1*(n*=.82);for(let o=0;o<10;o++){const r=o%2==0?1.3*n:.5*n;t.lineTo(e+r*Math.sin(2*o*Math.PI/10),i-r*Math.cos(2*o*Math.PI/10))}t.closePath()},triangle:function(t,e,i,n){t.beginPath(),i+=.275*(n*=1.15);const o=2*n,r=o/2,s=Math.sqrt(3)/6*o,a=Math.sqrt(o*o-r*r);t.moveTo(e,i-(a-s)),t.lineTo(e+r,i+s),t.lineTo(e-r,i+s),t.lineTo(e,i-(a-s)),t.closePath()},triangleDown:function(t,e,i,n){t.beginPath(),i-=.275*(n*=1.15);const o=2*n,r=o/2,s=Math.sqrt(3)/6*o,a=Math.sqrt(o*o-r*r);t.moveTo(e,i+(a-s)),t.lineTo(e+r,i-s),t.lineTo(e-r,i-s),t.lineTo(e,i+(a-s)),t.closePath()}};var Kn={exports:{}};!function(t){function e(t){if(t)return function(t){for(var i in e.prototype)t[i]=e.prototype[i];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<n.length;o++)if((i=n[o])===e||i.fn===e){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i){n=0;for(var o=(i=i.slice(0)).length;n<o;++n)i[n].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(Kn);var Gn=o(Kn.exports),Zn=x,Jn=Array.isArray||function(t){return"Array"===Zn(t)},Qn=TypeError,to=function(t){if(t>9007199254740991)throw Qn("Maximum allowed index exceeded");return t},eo=ke,io=Qe,no=H,oo=function(t,e,i){var n=eo(e);n in t?io.f(t,n,no(0,i)):t[n]=i},ro={};ro[fe("toStringTag")]="z";var so="[object z]"===String(ro),ao=so,ho=T,co=x,lo=fe("toStringTag"),uo=Object,po="Arguments"===co(function(){return arguments}()),fo=ao?co:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=uo(t),lo))?i:po?co(e):"Object"===(n=co(e))&&ho(e.callee)?"Arguments":n},go=T,vo=$t,yo=m(Function.toString);go(vo.inspectSource)||(vo.inspectSource=function(t){return yo(t)});var mo=vo.inspectSource,bo=m,wo=a,_o=T,xo=fo,Eo=mo,ko=function(){},Oo=[],So=ht("Reflect","construct"),Co=/^\s*(?:class|function)\b/,Po=bo(Co.exec),To=!Co.test(ko),Io=function(t){if(!_o(t))return!1;try{return So(ko,Oo,t),!0}catch(t){return!1}},Do=function(t){if(!_o(t))return!1;switch(xo(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return To||!!Po(Co,Eo(t))}catch(t){return!0}};Do.sham=!0;var Mo=!So||wo(function(){var t;return Io(Io.call)||!Io(Object)||!Io(function(){t=!0})||t})?Do:Io,Ao=Jn,No=Mo,Bo=it,jo=fe("species"),Fo=Array,zo=function(t){var e;return Ao(t)&&(e=t.constructor,(No(e)&&(e===Fo||Ao(e.prototype))||Bo(e)&&null===(e=e[jo]))&&(e=void 0)),void 0===e?Fo:e},Lo=function(t,e){return new(zo(t))(0===e?0:e)},Ro=a,Ho=yt,Wo=fe("species"),Uo=function(t){return Ho>=51||!Ro(function(){var e=[];return(e.constructor={})[Wo]=function(){return{foo:1}},1!==e[t](Boolean).foo})},Vo=Ii,qo=a,$o=Jn,Yo=it,Xo=Zt,Ko=Wi,Go=to,Zo=oo,Jo=Lo,Qo=Uo,tr=yt,er=fe("isConcatSpreadable"),ir=tr>=51||!qo(function(){var t=[];return t[er]=!1,t.concat()[0]!==t}),nr=function(t){if(!Yo(t))return!1;var e=t[er];return void 0!==e?!!e:$o(t)};Vo({target:"Array",proto:!0,arity:1,forced:!ir||!Qo("concat")},{concat:function(t){var e,i,n,o,r,s=Xo(this),a=Jo(s,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(nr(r=-1===e?s:arguments[e]))for(o=Ko(r),Go(h+o),i=0;i<o;i++,h++)i in r&&Zo(a,h,r[i]);else Go(h+1),Zo(a,h++,r);return a.length=h,a}});var or=fo,rr=String,sr=function(t){if("Symbol"===or(t))throw new TypeError("Cannot convert a Symbol value to a string");return rr(t)},ar={},hr=D,cr=ti,lr=Qe,ur=oi,dr=Q,pr=rn;ar.f=hr&&!cr?Object.defineProperties:function(t,e){ur(t);for(var i,n=dr(e),o=pr(e),r=o.length,s=0;r>s;)lr.f(t,i=o[s++],n[i]);return t};var fr,gr=ht("document","documentElement"),vr=re,yr=Xt("keys"),mr=function(t){return yr[t]||(yr[t]=vr(t))},br=oi,wr=ar,_r=en,xr=Xi,Er=gr,kr=Pe,Or="prototype",Sr="script",Cr=mr("IE_PROTO"),Pr=function(){},Tr=function(t){return"<"+Sr+">"+t+"</"+Sr+">"},Ir=function(t){t.write(Tr("")),t.close();var e=t.parentWindow.Object;return t=null,e},Dr=function(){try{fr=new ActiveXObject("htmlfile")}catch(t){}var t,e,i;Dr="undefined"!=typeof document?document.domain&&fr?Ir(fr):(e=kr("iframe"),i="java"+Sr+":",e.style.display="none",Er.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(Tr("document.F=Object")),t.close(),t.F):Ir(fr);for(var n=_r.length;n--;)delete Dr[Or][_r[n]];return Dr()};xr[Cr]=!0;var Mr=Object.create||function(t,e){var i;return null!==t?(Pr[Or]=br(t),i=new Pr,Pr[Or]=null,i[Cr]=t):i=Dr(),void 0===e?i:wr.f(i,e)},Ar={},Nr=tn,Br=en.concat("length","prototype");Ar.f=Object.getOwnPropertyNames||function(t){return Nr(t,Br)};var jr={},Fr=zi,zr=Wi,Lr=oo,Rr=Array,Hr=Math.max,Wr=function(t,e,i){for(var n=zr(t),o=Fr(e,n),r=Fr(void 0===i?n:i,n),s=Rr(Hr(r-o,0)),a=0;o<r;o++,a++)Lr(s,a,t[o]);return s.length=a,s},Ur=x,Vr=Q,qr=Ar.f,$r=Wr,Yr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];jr.f=function(t){return Yr&&"Window"===Ur(t)?function(t){try{return qr(t)}catch(t){return $r(Yr)}}(t):qr(Vr(t))};var Xr=mi,Kr=function(t,e,i,n){return n&&n.enumerable?t[e]=i:Xr(t,e,i),t},Gr=Qe,Zr=function(t,e,i){return Gr.f(t,e,i)},Jr={},Qr=fe;Jr.f=Qr;var ts,es,is,ns=nt,os=te,rs=Jr,ss=Qe.f,as=function(t){var e=ns.Symbol||(ns.Symbol={});os(e,t)||ss(e,t,{value:rs.f(t)})},hs=N,cs=ht,ls=fe,us=Kr,ds=function(){var t=cs("Symbol"),e=t&&t.prototype,i=e&&e.valueOf,n=ls("toPrimitive");e&&!e[n]&&us(e,n,function(t){return hs(i,this)},{arity:1})},ps=fo,fs=so?{}.toString:function(){return"[object "+ps(this)+"]"},gs=so,vs=Qe.f,ys=mi,ms=te,bs=fs,ws=fe("toStringTag"),_s=function(t,e,i,n){if(t){var o=i?t:t.prototype;ms(o,ws)||vs(o,ws,{configurable:!0,value:e}),n&&!gs&&ys(o,"toString",bs)}},xs=T,Es=s.WeakMap,ks=xs(Es)&&/native code/.test(String(Es)),Os=ks,Ss=s,Cs=it,Ps=mi,Ts=te,Is=$t,Ds=mr,Ms=Xi,As="Object already initialized",Ns=Ss.TypeError,Bs=Ss.WeakMap;if(Os||Is.state){var js=Is.state||(Is.state=new Bs);js.get=js.get,js.has=js.has,js.set=js.set,ts=function(t,e){if(js.has(t))throw new Ns(As);return e.facade=t,js.set(t,e),e},es=function(t){return js.get(t)||{}},is=function(t){return js.has(t)}}else{var Fs=Ds("state");Ms[Fs]=!0,ts=function(t,e){if(Ts(t,Fs))throw new Ns(As);return e.facade=t,Ps(t,Fs,e),e},es=function(t){return Ts(t,Fs)?t[Fs]:{}},is=function(t){return Ts(t,Fs)}}var zs={set:ts,get:es,has:is,enforce:function(t){return is(t)?es(t):ts(t,{})},getterFor:function(t){return function(e){var i;if(!Cs(e)||(i=es(e)).type!==t)throw new Ns("Incompatible receiver, "+t+" required");return i}}},Ls=Je,Rs=$,Hs=Zt,Ws=Wi,Us=Lo,Vs=m([].push),qs=function(t){var e=1===t,i=2===t,n=3===t,o=4===t,r=6===t,s=7===t,a=5===t||r;return function(h,c,l,u){for(var d,p,f=Hs(h),g=Rs(f),v=Ls(c,l),y=Ws(g),m=0,b=u||Us,w=e?b(h,y):i||s?b(h,0):void 0;y>m;m++)if((a||m in g)&&(p=v(d=g[m],m,f),t))if(e)w[m]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:Vs(w,d)}else switch(t){case 4:return!1;case 7:Vs(w,d)}return r?-1:n||o?o:w}},$s={forEach:qs(0),map:qs(1),filter:qs(2),some:qs(3),every:qs(4),find:qs(5),findIndex:qs(6),filterReject:qs(7)},Ys=Ii,Xs=s,Ks=N,Gs=m,Zs=D,Js=_t,Qs=a,ta=te,ea=ct,ia=oi,na=Q,oa=ke,ra=sr,sa=H,aa=Mr,ha=rn,ca=Ar,la=jr,ua=sn,da=I,pa=Qe,fa=ar,ga=B,va=Kr,ya=Zr,ma=Xt,ba=Xi,wa=re,_a=fe,xa=Jr,Ea=as,ka=ds,Oa=_s,Sa=zs,Ca=$s.forEach,Pa=mr("hidden"),Ta="Symbol",Ia="prototype",Da=Sa.set,Ma=Sa.getterFor(Ta),Aa=Object[Ia],Na=Xs.Symbol,Ba=Na&&Na[Ia],ja=Xs.RangeError,Fa=Xs.TypeError,za=Xs.QObject,La=da.f,Ra=pa.f,Ha=la.f,Wa=ga.f,Ua=Gs([].push),Va=ma("symbols"),qa=ma("op-symbols"),$a=ma("wks"),Ya=!za||!za[Ia]||!za[Ia].findChild,Xa=function(t,e,i){var n=La(Aa,e);n&&delete Aa[e],Ra(t,e,i),n&&t!==Aa&&Ra(Aa,e,n)},Ka=Zs&&Qs(function(){return 7!==aa(Ra({},"a",{get:function(){return Ra(this,"a",{value:7}).a}})).a})?Xa:Ra,Ga=function(t,e){var i=Va[t]=aa(Ba);return Da(i,{type:Ta,tag:t,description:e}),Zs||(i.description=e),i},Za=function(t,e,i){t===Aa&&Za(qa,e,i),ia(t);var n=oa(e);return ia(i),ta(Va,n)?(i.enumerable?(ta(t,Pa)&&t[Pa][n]&&(t[Pa][n]=!1),i=aa(i,{enumerable:sa(0,!1)})):(ta(t,Pa)||Ra(t,Pa,sa(1,{})),t[Pa][n]=!0),Ka(t,n,i)):Ra(t,n,i)},Ja=function(t,e){ia(t);var i=na(e),n=ha(i).concat(ih(i));return Ca(n,function(e){Zs&&!Ks(Qa,i,e)||Za(t,e,i[e])}),t},Qa=function(t){var e=oa(t),i=Ks(Wa,this,e);return!(this===Aa&&ta(Va,e)&&!ta(qa,e))&&(!(i||!ta(this,e)||!ta(Va,e)||ta(this,Pa)&&this[Pa][e])||i)},th=function(t,e){var i=na(t),n=oa(e);if(i!==Aa||!ta(Va,n)||ta(qa,n)){var o=La(i,n);return!o||!ta(Va,n)||ta(i,Pa)&&i[Pa][n]||(o.enumerable=!0),o}},eh=function(t){var e=Ha(na(t)),i=[];return Ca(e,function(t){ta(Va,t)||ta(ba,t)||Ua(i,t)}),i},ih=function(t){var e=t===Aa,i=Ha(e?qa:na(t)),n=[];return Ca(i,function(t){!ta(Va,t)||e&&!ta(Aa,t)||Ua(n,Va[t])}),n};Js||(Na=function(){if(ea(Ba,this))throw new Fa("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?ra(arguments[0]):void 0,e=wa(t),i=function(t){this===Aa&&Ks(i,qa,t),ta(this,Pa)&&ta(this[Pa],e)&&(this[Pa][e]=!1);var n=sa(1,t);try{Ka(this,e,n)}catch(t){if(!(t instanceof ja))throw t;Xa(this,e,n)}};return Zs&&Ya&&Ka(Aa,e,{configurable:!0,set:i}),Ga(e,t)},va(Ba=Na[Ia],"toString",function(){return Ma(this).tag}),va(Na,"withoutSetter",function(t){return Ga(wa(t),t)}),ga.f=Qa,pa.f=Za,fa.f=Ja,da.f=th,ca.f=la.f=eh,ua.f=ih,xa.f=function(t){return Ga(_a(t),t)},Zs&&ya(Ba,"description",{configurable:!0,get:function(){return Ma(this).description}})),Ys({global:!0,constructor:!0,wrap:!0,forced:!Js,sham:!Js},{Symbol:Na}),Ca(ha($a),function(t){Ea(t)}),Ys({target:Ta,stat:!0,forced:!Js},{useSetter:function(){Ya=!0},useSimple:function(){Ya=!1}}),Ys({target:"Object",stat:!0,forced:!Js,sham:!Zs},{create:function(t,e){return void 0===e?aa(t):Ja(aa(t),e)},defineProperty:Za,defineProperties:Ja,getOwnPropertyDescriptor:th}),Ys({target:"Object",stat:!0,forced:!Js},{getOwnPropertyNames:eh}),ka(),Oa(Na,Ta),ba[Pa]=!0;var nh=_t&&!!Symbol.for&&!!Symbol.keyFor,oh=Ii,rh=ht,sh=te,ah=sr,hh=Xt,ch=nh,lh=hh("string-to-symbol-registry"),uh=hh("symbol-to-string-registry");oh({target:"Symbol",stat:!0,forced:!ch},{for:function(t){var e=ah(t);if(sh(lh,e))return lh[e];var i=rh("Symbol")(e);return lh[e]=i,uh[i]=e,i}});var dh=Ii,ph=te,fh=Ct,gh=Tt,vh=nh,yh=Xt("symbol-to-string-registry");dh({target:"Symbol",stat:!0,forced:!vh},{keyFor:function(t){if(!fh(t))throw new TypeError(gh(t)+" is not a symbol");if(ph(yh,t))return yh[t]}});var mh=Jn,bh=T,wh=x,_h=sr,xh=m([].push),Eh=Ii,kh=ht,Oh=p,Sh=N,Ch=m,Ph=a,Th=T,Ih=Ct,Dh=xn,Mh=function(t){if(bh(t))return t;if(mh(t)){for(var e=t.length,i=[],n=0;n<e;n++){var o=t[n];"string"==typeof o?xh(i,o):"number"!=typeof o&&"Number"!==wh(o)&&"String"!==wh(o)||xh(i,_h(o))}var r=i.length,s=!0;return function(t,e){if(s)return s=!1,e;if(mh(this))return e;for(var n=0;n<r;n++)if(i[n]===t)return e}}},Ah=_t,Nh=String,Bh=kh("JSON","stringify"),jh=Ch(/./.exec),Fh=Ch("".charAt),zh=Ch("".charCodeAt),Lh=Ch("".replace),Rh=Ch(1..toString),Hh=/[\uD800-\uDFFF]/g,Wh=/^[\uD800-\uDBFF]$/,Uh=/^[\uDC00-\uDFFF]$/,Vh=!Ah||Ph(function(){var t=kh("Symbol")("stringify detection");return"[null]"!==Bh([t])||"{}"!==Bh({a:t})||"{}"!==Bh(Object(t))}),qh=Ph(function(){return'"\\udf06\\ud834"'!==Bh("\udf06\ud834")||'"\\udead"'!==Bh("\udead")}),$h=function(t,e){var i=Dh(arguments),n=Mh(e);if(Th(n)||void 0!==t&&!Ih(t))return i[1]=function(t,e){if(Th(n)&&(e=Sh(n,this,Nh(t),e)),!Ih(e))return e},Oh(Bh,null,i)},Yh=function(t,e,i){var n=Fh(i,e-1),o=Fh(i,e+1);return jh(Wh,t)&&!jh(Uh,o)||jh(Uh,t)&&!jh(Wh,n)?"\\u"+Rh(zh(t,0),16):t};Bh&&Eh({target:"JSON",stat:!0,arity:3,forced:Vh||qh},{stringify:function(t,e,i){var n=Dh(arguments),o=Oh(Vh?$h:Bh,null,n);return qh&&"string"==typeof o?Lh(o,Hh,Yh):o}});var Xh=sn,Kh=Zt;Ii({target:"Object",stat:!0,forced:!_t||a(function(){Xh.f(1)})},{getOwnPropertySymbols:function(t){var e=Xh.f;return e?e(Kh(t)):[]}}),as("asyncIterator"),as("hasInstance"),as("isConcatSpreadable"),as("iterator"),as("match"),as("matchAll"),as("replace"),as("search"),as("species"),as("split");var Gh=ds;as("toPrimitive"),Gh();var Zh=ht,Jh=_s;as("toStringTag"),Jh(Zh("Symbol"),"Symbol"),as("unscopables"),_s(s.JSON,"JSON",!0);var Qh,tc,ec,ic=nt.Symbol,nc={},oc=D,rc=te,sc=Function.prototype,ac=oc&&Object.getOwnPropertyDescriptor,hc=rc(sc,"name"),cc={EXISTS:hc,PROPER:hc&&"something"===function(){}.name,CONFIGURABLE:hc&&(!oc||oc&&ac(sc,"name").configurable)},lc=!a(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),uc=te,dc=T,pc=Zt,fc=lc,gc=mr("IE_PROTO"),vc=Object,yc=vc.prototype,mc=fc?vc.getPrototypeOf:function(t){var e=pc(t);if(uc(e,gc))return e[gc];var i=e.constructor;return dc(i)&&e instanceof i?i.prototype:e instanceof vc?yc:null},bc=a,wc=T,_c=it,xc=Mr,Ec=mc,kc=Kr,Oc=fe("iterator"),Sc=!1;[].keys&&("next"in(ec=[].keys())?(tc=Ec(Ec(ec)))!==Object.prototype&&(Qh=tc):Sc=!0);var Cc=!_c(Qh)||bc(function(){var t={};return Qh[Oc].call(t)!==t});wc((Qh=Cc?{}:xc(Qh))[Oc])||kc(Qh,Oc,function(){return this});var Pc={IteratorPrototype:Qh,BUGGY_SAFARI_ITERATORS:Sc},Tc=Pc.IteratorPrototype,Ic=Mr,Dc=H,Mc=_s,Ac=nc,Nc=function(){return this},Bc=Ii,jc=N,Fc=function(t,e,i,n){var o=e+" Iterator";return t.prototype=Ic(Tc,{next:Dc(+!n,i)}),Mc(t,o,!1,!0),Ac[o]=Nc,t},zc=mc,Lc=_s,Rc=Kr,Hc=nc,Wc=Pc,Uc=cc.PROPER,Vc=Wc.BUGGY_SAFARI_ITERATORS,qc=fe("iterator"),$c="keys",Yc="values",Xc="entries",Kc=function(){return this},Gc=function(t,e,i,n,o,r,s){Fc(i,e,n);var a,h,c,l=function(t){if(t===o&&g)return g;if(!Vc&&t&&t in p)return p[t];switch(t){case $c:case Yc:case Xc:return function(){return new i(this,t)}}return function(){return new i(this)}},u=e+" Iterator",d=!1,p=t.prototype,f=p[qc]||p["@@iterator"]||o&&p[o],g=!Vc&&f||l(o),v="Array"===e&&p.entries||f;if(v&&(a=zc(v.call(new t)))!==Object.prototype&&a.next&&(Lc(a,u,!0,!0),Hc[u]=Kc),Uc&&o===Yc&&f&&f.name!==Yc&&(d=!0,g=function(){return jc(f,this)}),o)if(h={values:l(Yc),keys:r?g:l($c),entries:l(Xc)},s)for(c in h)(Vc||d||!(c in p))&&Rc(p,c,h[c]);else Bc({target:e,proto:!0,forced:Vc||d},h);return s&&p[qc]!==g&&Rc(p,qc,g,{name:o}),Hc[e]=g,h},Zc=function(t,e){return{value:t,done:e}},Jc=Q,Qc=nc,tl=zs;Qe.f;var el=Gc,il=Zc,nl="Array Iterator",ol=tl.set,rl=tl.getterFor(nl);el(Array,"Array",function(t,e){ol(this,{type:nl,target:Jc(t),index:0,kind:e})},function(){var t=rl(this),e=t.target,i=t.kind,n=t.index++;if(!e||n>=e.length)return t.target=void 0,il(void 0,!0);switch(i){case"keys":return il(n,!1);case"values":return il(e[n],!1)}return il([n,e[n]],!1)},"values"),Qc.Arguments=Qc.Array;var sl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},al=s,hl=fo,cl=mi,ll=nc,ul=fe("toStringTag");for(var dl in sl){var pl=al[dl],fl=pl&&pl.prototype;fl&&hl(fl)!==ul&&cl(fl,ul,dl),ll[dl]=ll.Array}var gl=ic,vl=o(gl),yl=Ii,ml=Jn,bl=Mo,wl=it,_l=zi,xl=Wi,El=Q,kl=oo,Ol=fe,Sl=xn,Cl=Uo("slice"),Pl=Ol("species"),Tl=Array,Il=Math.max;yl({target:"Array",proto:!0,forced:!Cl},{slice:function(t,e){var i,n,o,r=El(this),s=xl(r),a=_l(t,s),h=_l(void 0===e?s:e,s);if(ml(r)&&(i=r.constructor,(bl(i)&&(i===Tl||ml(i.prototype))||wl(i)&&null===(i=i[Pl]))&&(i=void 0),i===Tl||void 0===i))return Sl(r,a,h);for(n=new(void 0===i?Tl:i)(Il(h-a,0)),o=0;a<h;a++,o++)a in r&&kl(n,o,r[a]);return n.length=o,n}});var Dl=jn("Array").slice,Ml=ct,Al=Dl,Nl=Array.prototype,Bl=function(t){var e=t.slice;return t===Nl||Ml(Nl,t)&&e===Nl.slice?Al:e},jl=o(Bl),Fl=ht,zl=Ar,Ll=sn,Rl=oi,Hl=m([].concat),Wl=Fl("Reflect","ownKeys")||function(t){var e=zl.f(Rl(t)),i=Ll.f;return i?Hl(e,i(t)):e};Ii({target:"Array",stat:!0},{isArray:Jn});var Ul=o(nt.Array.isArray),Vl=$s.map;Ii({target:"Array",proto:!0,forced:!Uo("map")},{map:function(t){return Vl(this,t,arguments.length>1?arguments[1]:void 0)}});var ql=jn("Array").map,$l=ct,Yl=ql,Xl=Array.prototype,Kl=function(t){var e=t.map;return t===Xl||$l(Xl,t)&&e===Xl.map?Yl:e},Gl=o(Kl),Zl=Zt,Jl=rn;Ii({target:"Object",stat:!0,forced:a(function(){Jl(1)})},{keys:function(t){return Jl(Zl(t))}});var Ql=o(nt.Object.keys),tu=Ii,eu=Date,iu=m(eu.prototype.getTime);tu({target:"Date",stat:!0},{now:function(){return iu(new eu)}});var nu=o(nt.Date.now),ou=a,ru=function(t,e){var i=[][t];return!!i&&ou(function(){i.call(null,e||function(){return 1},1)})},su=$s.forEach,au=ru("forEach")?[].forEach:function(t){return su(this,t,arguments.length>1?arguments[1]:void 0)};Ii({target:"Array",proto:!0,forced:[].forEach!==au},{forEach:au});var hu=jn("Array").forEach,cu=fo,lu=te,uu=ct,du=hu,pu=Array.prototype,fu={DOMTokenList:!0,NodeList:!0},gu=function(t){var e=t.forEach;return t===pu||uu(pu,t)&&e===pu.forEach||lu(fu,cu(t))?du:e},vu=o(gu),yu=Ii,mu=Jn,bu=m([].reverse),wu=[1,2];yu({target:"Array",proto:!0,forced:String(wu)===String(wu.reverse())},{reverse:function(){return mu(this)&&(this.length=this.length),bu(this)}});var _u=jn("Array").reverse,xu=ct,Eu=_u,ku=Array.prototype,Ou=function(t){var e=t.reverse;return t===ku||xu(ku,t)&&e===ku.reverse?Eu:e},Su=o(Ou),Cu=D,Pu=Jn,Tu=TypeError,Iu=Object.getOwnPropertyDescriptor,Du=Cu&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),Mu=Tt,Au=TypeError,Nu=function(t,e){if(!delete t[e])throw new Au("Cannot delete property "+Mu(e)+" of "+Mu(t))},Bu=Ii,ju=Zt,Fu=zi,zu=Ni,Lu=Wi,Ru=Du?function(t,e){if(Pu(t)&&!Iu(t,"length").writable)throw new Tu("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Hu=to,Wu=Lo,Uu=oo,Vu=Nu,qu=Uo("splice"),$u=Math.max,Yu=Math.min;Bu({target:"Array",proto:!0,forced:!qu},{splice:function(t,e){var i,n,o,r,s,a,h=ju(this),c=Lu(h),l=Fu(t,c),u=arguments.length;for(0===u?i=n=0:1===u?(i=0,n=c-l):(i=u-2,n=Yu($u(zu(e),0),c-l)),Hu(c+i-n),o=Wu(h,n),r=0;r<n;r++)(s=l+r)in h&&Uu(o,r,h[s]);if(o.length=n,i<n){for(r=l;r<c-n;r++)a=r+i,(s=r+n)in h?h[a]=h[s]:Vu(h,a);for(r=c;r>c-n+i;r--)Vu(h,r-1)}else if(i>n)for(r=c-n;r>l;r--)a=r+i-1,(s=r+n-1)in h?h[a]=h[s]:Vu(h,a);for(r=0;r<i;r++)h[r+l]=arguments[r+2];return Ru(h,c-n+i),o}});var Xu=jn("Array").splice,Ku=ct,Gu=Xu,Zu=Array.prototype,Ju=function(t){var e=t.splice;return t===Zu||Ku(Zu,t)&&e===Zu.splice?Gu:e},Qu=o(Ju),td=Yi.includes;Ii({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(t){return td(this,t,arguments.length>1?arguments[1]:void 0)}});var ed=jn("Array").includes,id=it,nd=x,od=fe("match"),rd=function(t){var e;return id(t)&&(void 0!==(e=t[od])?!!e:"RegExp"===nd(t))},sd=TypeError,ad=fe("match"),hd=Ii,cd=function(t){if(rd(t))throw new sd("The method doesn't accept regular expressions");return t},ld=G,ud=sr,dd=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[ad]=!1,"/./"[t](e)}catch(t){}}return!1},pd=m("".indexOf);hd({target:"String",proto:!0,forced:!dd("includes")},{includes:function(t){return!!~pd(ud(ld(this)),ud(cd(t)),arguments.length>1?arguments[1]:void 0)}});var fd=jn("String").includes,gd=ct,vd=ed,yd=fd,md=Array.prototype,bd=String.prototype,wd=function(t){var e=t.includes;return t===md||gd(md,t)&&e===md.includes?vd:"string"==typeof t||t===bd||gd(bd,t)&&e===bd.includes?yd:e},_d=o(wd),xd=Zt,Ed=mc,kd=lc;Ii({target:"Object",stat:!0,forced:a(function(){Ed(1)}),sham:!kd},{getPrototypeOf:function(t){return Ed(xd(t))}});var Od=o(nt.Object.getPrototypeOf),Sd=jn("Array").concat,Cd=ct,Pd=Sd,Td=Array.prototype,Id=function(t){var e=t.concat;return t===Td||Cd(Td,t)&&e===Td.concat?Pd:e},Dd=(o(Id),$s.filter);Ii({target:"Array",proto:!0,forced:!Uo("filter")},{filter:function(t){return Dd(this,t,arguments.length>1?arguments[1]:void 0)}});var Md=jn("Array").filter,Ad=ct,Nd=Md,Bd=Array.prototype,jd=function(t){var e=t.filter;return t===Bd||Ad(Bd,t)&&e===Bd.filter?Nd:e},Fd=o(jd),zd=D,Ld=a,Rd=m,Hd=mc,Wd=rn,Ud=Q,Vd=Rd(B.f),qd=Rd([].push),$d=zd&&Ld(function(){var t=Object.create(null);return t[2]=2,!Vd(t,2)}),Yd=function(t){return function(e){for(var i,n=Ud(e),o=Wd(n),r=$d&&null===Hd(n),s=o.length,a=0,h=[];s>a;)i=o[a++],zd&&!(r?i in n:Vd(n,i))||qd(h,t?[i,n[i]]:n[i]);return h}},Xd=(Yd(!0),Yd(!1));Ii({target:"Object",stat:!0},{values:function(t){return Xd(t)}});var Kd=o(nt.Object.values),Gd="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",Zd=G,Jd=sr,Qd=Gd,tp=m("".replace),ep=RegExp("^["+Qd+"]+"),ip=RegExp("(^|[^"+Qd+"])["+Qd+"]+$"),np=function(t){return function(e){var i=Jd(Zd(e));return 1&t&&(i=tp(i,ep,"")),2&t&&(i=tp(i,ip,"$1")),i}},op={start:np(1),end:np(2),trim:np(3)},rp=s,sp=a,ap=m,hp=sr,cp=op.trim,lp=Gd,up=rp.parseInt,dp=rp.Symbol,pp=dp&&dp.iterator,fp=/^[+-]?0x/i,gp=ap(fp.exec),vp=8!==up(lp+"08")||22!==up(lp+"0x16")||pp&&!sp(function(){up(Object(pp))})?function(t,e){var i=cp(hp(t));return up(i,e>>>0||(gp(fp,i)?16:10))}:up;Ii({global:!0,forced:parseInt!==vp},{parseInt:vp});var yp=o(nt.parseInt),mp=Ii,bp=Yi.indexOf,wp=ru,_p=O([].indexOf),xp=!!_p&&1/_p([1],1,-0)<0;mp({target:"Array",proto:!0,forced:xp||!wp("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return xp?_p(this,t,e)||0:bp(this,t,e)}});var Ep=jn("Array").indexOf,kp=ct,Op=Ep,Sp=Array.prototype,Cp=function(t){var e=t.indexOf;return t===Sp||kp(Sp,t)&&e===Sp.indexOf?Op:e},Pp=o(Cp);Ii({target:"Object",stat:!0,sham:!D},{create:Mr});var Tp=nt.Object,Ip=o(function(t,e){return Tp.create(t,e)}),Dp=nt,Mp=p;Dp.JSON||(Dp.JSON={stringify:JSON.stringify});var Ap=function(t,e,i){return Mp(Dp.JSON.stringify,null,arguments)},Np=o(Ap),Bp="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,jp=TypeError,Fp=s,zp=p,Lp=T,Rp=Bp,Hp=lt,Wp=xn,Up=function(t,e){if(t<e)throw new jp("Not enough arguments");return t},Vp=Fp.Function,qp=/MSIE .\./.test(Hp)||Rp&&function(){var t=Fp.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),$p=function(t,e){var i=e?2:1;return qp?function(n,o){var r=Up(arguments.length,1)>i,s=Lp(n)?n:Vp(n),a=r?Wp(arguments,i):[],h=r?function(){zp(s,this,a)}:s;return e?t(h,o):t(h)}:t},Yp=Ii,Xp=s,Kp=$p(Xp.setInterval,!0);Yp({global:!0,bind:!0,forced:Xp.setInterval!==Kp},{setInterval:Kp});var Gp=Ii,Zp=s,Jp=$p(Zp.setTimeout,!0);Gp({global:!0,bind:!0,forced:Zp.setTimeout!==Jp},{setTimeout:Jp});var Qp=o(nt.setTimeout),tf=Zt,ef=zi,nf=Wi,of=function(t){for(var e=tf(this),i=nf(e),n=arguments.length,o=ef(n>1?arguments[1]:void 0,i),r=n>2?arguments[2]:void 0,s=void 0===r?i:ef(r,i);s>o;)e[o++]=t;return e};Ii({target:"Array",proto:!0},{fill:of});var rf,sf=jn("Array").fill,af=ct,hf=sf,cf=Array.prototype,lf=function(t){var e=t.fill;return t===cf||af(cf,t)&&e===cf.fill?hf:e},uf=o(lf);function df(){return df=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},df.apply(this,arguments)}function pf(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function ff(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}rf="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var gf,vf=rf,yf=["","webkit","Moz","MS","ms","o"],mf="undefined"==typeof document?{style:{}}:document.createElement("div"),bf=Math.round,wf=Math.abs,_f=Date.now;function xf(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),r=0;r<yf.length;){if((n=(i=yf[r])?i+o:e)in t)return n;r++}}gf="undefined"==typeof window?{}:window;var Ef=xf(mf.style,"touchAction"),kf=void 0!==Ef,Of="compute",Sf="auto",Cf="manipulation",Pf="none",Tf="pan-x",If="pan-y",Df=function(){if(!kf)return!1;var t={},e=gf.CSS&&gf.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){return t[i]=!e||gf.CSS.supports("touch-action",i)}),t}(),Mf="ontouchstart"in gf,Af=void 0!==xf(gf,"PointerEvent"),Nf=Mf&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Bf="touch",jf="mouse",Ff=25,zf=1,Lf=4,Rf=8,Hf=1,Wf=2,Uf=4,Vf=8,qf=16,$f=Wf|Uf,Yf=Vf|qf,Xf=$f|Yf,Kf=["x","y"],Gf=["clientX","clientY"];function Zf(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function Jf(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function Qf(t,e){return t.indexOf(e)>-1}var tg=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Of&&(t=this.compute()),kf&&this.manager.element.style&&Df[t]&&(this.manager.element.style[Ef]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Zf(this.manager.recognizers,function(e){Jf(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(Qf(t,Pf))return Pf;var e=Qf(t,Tf),i=Qf(t,If);return e&&i?Pf:e||i?e?Tf:If:Qf(t,Cf)?Cf:Sf}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,o=Qf(n,Pf)&&!Df[Pf],r=Qf(n,If)&&!Df[If],s=Qf(n,Tf)&&!Df[Tf];if(o){var a=1===t.pointers.length,h=t.distance<2,c=t.deltaTime<250;if(a&&h&&c)return}if(!s||!r)return o||r&&i&$f||s&&i&Yf?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function eg(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function ig(t){var e=t.length;if(1===e)return{x:bf(t[0].clientX),y:bf(t[0].clientY)};for(var i=0,n=0,o=0;o<e;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:bf(i/e),y:bf(n/e)}}function ng(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:bf(t.pointers[i].clientX),clientY:bf(t.pointers[i].clientY)},i++;return{timeStamp:_f(),pointers:e,center:ig(e),deltaX:t.deltaX,deltaY:t.deltaY}}function og(t,e,i){i||(i=Kf);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function rg(t,e,i){i||(i=Kf);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function sg(t,e){return t===e?Hf:wf(t)>=wf(e)?t<0?Wf:Uf:e<0?Vf:qf}function ag(t,e,i){return{x:e/t||0,y:i/t||0}}function hg(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=ng(e)),o>1&&!i.firstMultiple?i.firstMultiple=ng(e):1===o&&(i.firstMultiple=!1);var r=i.firstInput,s=i.firstMultiple,a=s?s.center:r.center,h=e.center=ig(n);e.timeStamp=_f(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=rg(a,h),e.distance=og(a,h),function(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==zf&&r.eventType!==Lf||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}(i,e),e.offsetDirection=sg(e.deltaX,e.deltaY);var c,l,u=ag(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=wf(u.x)>wf(u.y)?u.x:u.y,e.scale=s?(c=s.pointers,og((l=n)[0],l[1],Gf)/og(c[0],c[1],Gf)):1,e.rotation=s?function(t,e){return rg(e[1],e[0],Gf)+rg(t[1],t[0],Gf)}(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,o,r,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==Rf&&(a>Ff||void 0===s.velocity)){var h=e.deltaX-s.deltaX,c=e.deltaY-s.deltaY,l=ag(a,h,c);n=l.x,o=l.y,i=wf(l.x)>wf(l.y)?l.x:l.y,r=sg(h,c),t.lastInterval=e}else i=s.velocity,n=s.velocityX,o=s.velocityY,r=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=r}(i,e);var d,p=t.element,f=e.srcEvent;eg(d=f.composedPath?f.composedPath()[0]:f.path?f.path[0]:f.target,p)&&(p=d),e.target=p}function cg(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,r=e&zf&&n-o==0,s=e&(Lf|Rf)&&n-o==0;i.isFirst=!!r,i.isFinal=!!s,r&&(t.session={}),i.eventType=e,hg(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function lg(t){return t.trim().split(/\s+/g)}function ug(t,e,i){Zf(lg(e),function(e){t.addEventListener(e,i,!1)})}function dg(t,e,i){Zf(lg(e),function(e){t.removeEventListener(e,i,!1)})}function pg(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var fg=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Jf(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ug(this.element,this.evEl,this.domHandler),this.evTarget&&ug(this.target,this.evTarget,this.domHandler),this.evWin&&ug(pg(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&dg(this.element,this.evEl,this.domHandler),this.evTarget&&dg(this.target,this.evTarget,this.domHandler),this.evWin&&dg(pg(this.element),this.evWin,this.domHandler)},t}();function gg(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var vg={pointerdown:zf,pointermove:2,pointerup:Lf,pointercancel:Rf,pointerout:Rf},yg={2:Bf,3:"pen",4:jf,5:"kinect"},mg="pointerdown",bg="pointermove pointerup pointercancel";gf.MSPointerEvent&&!gf.PointerEvent&&(mg="MSPointerDown",bg="MSPointerMove MSPointerUp MSPointerCancel");var wg=function(t){function e(){var i,n=e.prototype;return n.evEl=mg,n.evWin=bg,(i=t.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return pf(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=vg[n],r=yg[t.pointerType]||t.pointerType,s=r===Bf,a=gg(e,t.pointerId,"pointerId");o&zf&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(Lf|Rf)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))},e}(fg);function _g(t){return Array.prototype.slice.call(t,0)}function xg(t,e,i){for(var n=[],o=[],r=0;r<t.length;){var s=e?t[r][e]:t[r];gg(o,s)<0&&n.push(t[r]),o[r]=s,r++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}var Eg={touchstart:zf,touchmove:2,touchend:Lf,touchcancel:Rf},kg=function(t){function e(){var i;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).targetIds={},i}return pf(e,t),e.prototype.handler=function(t){var e=Eg[t.type],i=Og.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Bf,srcEvent:t})},e}(fg);function Og(t,e){var i,n,o=_g(t.touches),r=this.targetIds;if(e&(2|zf)&&1===o.length)return r[o[0].identifier]=!0,[o,o];var s=_g(t.changedTouches),a=[],h=this.target;if(n=o.filter(function(t){return eg(t.target,h)}),e===zf)for(i=0;i<n.length;)r[n[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),e&(Lf|Rf)&&delete r[s[i].identifier],i++;return a.length?[xg(n.concat(a),"identifier",!0),a]:void 0}var Sg={mousedown:zf,mousemove:2,mouseup:Lf},Cg=function(t){function e(){var i,n=e.prototype;return n.evEl="mousedown",n.evWin="mousemove mouseup",(i=t.apply(this,arguments)||this).pressed=!1,i}return pf(e,t),e.prototype.handler=function(t){var e=Sg[t.type];e&zf&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=Lf),this.pressed&&(e&Lf&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:jf,srcEvent:t}))},e}(fg),Pg=2500;function Tg(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i),setTimeout(function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)},Pg)}}function Ig(t,e){t&zf?(this.primaryTouch=e.changedPointers[0].identifier,Tg.call(this,e)):t&(Lf|Rf)&&Tg.call(this,e)}function Dg(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],r=Math.abs(e-o.x),s=Math.abs(i-o.y);if(r<=25&&s<=25)return!0}return!1}var Mg=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).handler=function(t,e,i){var o=i.pointerType===Bf,r=i.pointerType===jf;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(o)Ig.call(ff(ff(n)),e,i);else if(r&&Dg.call(ff(ff(n)),i))return;n.callback(t,e,i)}},n.touch=new kg(n.manager,n.handler),n.mouse=new Cg(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return pf(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(fg);function Ag(t,e,i){return!!Array.isArray(t)&&(Zf(t,i[e],i),!0)}var Ng=32,Bg=1;function jg(t,e){var i=e.manager;return i?i.get(t):t}function Fg(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var zg=function(){function t(t){void 0===t&&(t={}),this.options=df({enable:!0},t),this.id=Bg++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return vf(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(Ag(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=jg(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return Ag(t,"dropRecognizeWith",this)||(t=jg(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(Ag(t,"requireFailure",this))return this;var e=this.requireFail;return-1===gg(e,t=jg(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(Ag(t,"dropRequireFailure",this))return this;t=jg(t,this);var e=gg(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<8&&n(e.options.event+Fg(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=8&&n(e.options.event+Fg(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Ng},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=vf({},t);if(!Jf(this.options.enable,[this,e]))return this.reset(),void(this.state=Ng);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Lg=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,df({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}pf(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Cf]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,r=t.deltaTime<i.time;if(this.reset(),t.eventType&zf&&0===this.count)return this.failTimeout();if(o&&r&&n){if(t.eventType!==Lf)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||og(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.interval),2):8}return Ng},i.failTimeout=function(){var t=this;return this._timer=setTimeout(function(){t.state=Ng},this.options.interval),Ng},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(zg),Rg=function(t){function e(e){return void 0===e&&(e={}),t.call(this,df({pointers:1},e))||this}pf(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=6&e,o=this.attrTest(t);return n&&(i&Rf||!o)?16|e:n||o?i&Lf?8|e:2&e?4|e:2:Ng},e}(zg);function Hg(t){return t===qf?"down":t===Vf?"up":t===Wf?"left":t===Uf?"right":""}var Wg=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,df({event:"pan",threshold:10,pointers:1,direction:Xf},e))||this).pX=null,i.pY=null,i}pf(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return t&$f&&e.push(If),t&Yf&&e.push(Tf),e},i.directionTest=function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&$f?(o=0===r?Hf:r<0?Wf:Uf,i=r!==this.pX,n=Math.abs(t.deltaX)):(o=0===s?Hf:s<0?Vf:qf,i=s!==this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},i.attrTest=function(t){return Rg.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=Hg(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(Rg),Ug=function(t){function e(e){return void 0===e&&(e={}),t.call(this,df({event:"swipe",threshold:10,velocity:.3,direction:$f|Yf,pointers:1},e))||this}pf(e,t);var i=e.prototype;return i.getTouchAction=function(){return Wg.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,n=this.options.direction;return n&($f|Yf)?i=e.overallVelocity:n&$f?i=e.overallVelocityX:n&Yf&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&wf(i)>this.options.velocity&&e.eventType&Lf},i.emit=function(t){var e=Hg(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(Rg),Vg=function(t){function e(e){return void 0===e&&(e={}),t.call(this,df({event:"pinch",threshold:0,pointers:2},e))||this}pf(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Pf]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(Rg),qg=function(t){function e(e){return void 0===e&&(e={}),t.call(this,df({event:"rotate",threshold:0,pointers:2},e))||this}pf(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Pf]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(Rg),$g=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,df({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}pf(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Sf]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,r=t.deltaTime>i.time;if(this._input=t,!o||!n||t.eventType&(Lf|Rf)&&!r)this.reset();else if(t.eventType&zf)this.reset(),this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.time);else if(t.eventType&Lf)return 8;return Ng},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&t.eventType&Lf?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=_f(),this.manager.emit(this.options.event,this._input)))},e}(zg),Yg={domEvents:!1,touchAction:Of,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Xg=[[qg,{enable:!1}],[Vg,{enable:!1},["rotate"]],[Ug,{direction:$f}],[Wg,{direction:$f},["swipe"]],[Lg],[Lg,{event:"doubletap",taps:2},["tap"]],[$g]];function Kg(t,e){var i,n=t.element;n.style&&(Zf(t.options.cssProps,function(o,r){i=xf(n.style,r),e?(t.oldCssProps[i]=n.style[i],n.style[i]=o):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}var Gg=function(){function t(t,e){var i,n=this;this.options=vf({},Yg,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(Af?wg:Nf?kg:Mf?Mg:Cg))(i,cg),this.touchAction=new tg(this,this.options.touchAction),Kg(this,!0),Zf(this.options.recognizers,function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return vf(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,o=e.curRecognizer;(!o||o&&8&o.state)&&(e.curRecognizer=null,o=null);for(var r=0;r<n.length;)i=n[r],2===e.stopped||o&&i!==o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&14&i.state&&(e.curRecognizer=i,o=i),r++}},e.get=function(t){if(t instanceof zg)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(Ag(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(Ag(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,n=gg(i,e);-1!==n&&(i.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return Zf(lg(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return Zf(lg(t),function(t){e?i[t]&&i[t].splice(gg(i[t],e),1):delete i[t]}),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},e.destroy=function(){this.element&&Kg(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Zg={touchstart:zf,touchmove:2,touchend:Lf,touchcancel:Rf},Jg=function(t){function e(){var i,n=e.prototype;return n.evTarget="touchstart",n.evWin="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).started=!1,i}return pf(e,t),e.prototype.handler=function(t){var e=Zg[t.type];if(e===zf&&(this.started=!0),this.started){var i=Qg.call(this,t,e);e&(Lf|Rf)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Bf,srcEvent:t})}},e}(fg);function Qg(t,e){var i=_g(t.touches),n=_g(t.changedTouches);return e&(Lf|Rf)&&(i=xg(i.concat(n),"identifier",!0)),[i,n]}function tv(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,i),t.apply(this,arguments)}}var ev=tv(function(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&void 0===t[n[o]])&&(t[n[o]]=e[n[o]]),o++;return t},"extend","Use `assign`."),iv=tv(function(t,e){return ev(t,e,!0)},"merge","Use `assign`.");function nv(t,e,i){var n,o=e.prototype;(n=t.prototype=Object.create(o)).constructor=t,n._super=o,i&&vf(n,i)}function ov(t,e){return function(){return t.apply(e,arguments)}}var rv=function(){var t=function(t,e){return void 0===e&&(e={}),new Gg(t,df({recognizers:Xg.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=Xf,t.DIRECTION_DOWN=qf,t.DIRECTION_LEFT=Wf,t.DIRECTION_RIGHT=Uf,t.DIRECTION_UP=Vf,t.DIRECTION_HORIZONTAL=$f,t.DIRECTION_VERTICAL=Yf,t.DIRECTION_NONE=Hf,t.DIRECTION_DOWN=qf,t.INPUT_START=zf,t.INPUT_MOVE=2,t.INPUT_END=Lf,t.INPUT_CANCEL=Rf,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=Ng,t.Manager=Gg,t.Input=fg,t.TouchAction=tg,t.TouchInput=kg,t.MouseInput=Cg,t.PointerEventInput=wg,t.TouchMouseInput=Mg,t.SingleTouchInput=Jg,t.Recognizer=zg,t.AttrRecognizer=Rg,t.Tap=Lg,t.Pan=Wg,t.Swipe=Ug,t.Pinch=Vg,t.Rotate=qg,t.Press=$g,t.on=ug,t.off=dg,t.each=Zf,t.merge=iv,t.extend=ev,t.bindFn=ov,t.assign=vf,t.inherit=nv,t.bindFn=ov,t.prefixed=xf,t.toArray=_g,t.inArray=gg,t.uniqueArray=xg,t.splitStr=lg,t.boolOrFn=Jf,t.hasParent=eg,t.addEventListeners=ug,t.removeEventListeners=dg,t.defaults=vf({},Yg,{preset:Xg}),t}();rv.defaults;var sv=rv;function av(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){let[e,i,n]=function(){const t=function(){let t=4022871197;return function(e){const i=e.toString();for(let e=0;e<i.length;e++){t+=i.charCodeAt(e);let n=.02519603282416938*t;t=n>>>0,n-=t,n*=t,t=n>>>0,n-=t,t+=4294967296*n}return 2.3283064365386963e-10*(t>>>0)}}();let e=t(" "),i=t(" "),n=t(" ");for(let o=0;o<arguments.length;o++)e-=t(o<0||arguments.length<=o?void 0:arguments[o]),e<0&&(e+=1),i-=t(o<0||arguments.length<=o?void 0:arguments[o]),i<0&&(i+=1),n-=t(o<0||arguments.length<=o?void 0:arguments[o]),n<0&&(n+=1);return[e,i,n]}(t),o=1;const r=()=>{const t=2091639*e+2.3283064365386963e-10*o;return e=i,i=n,n=t-(o=0|t)};return r.uint32=()=>4294967296*r(),r.fract53=()=>r()+11102230246251565e-32*(2097152*r()|0),r.algorithm="Alea",r.seed=t,r.version="0.9",r}(e.length?e:[nu()])}vl("DELETE");const hv="undefined"!=typeof window?window.Hammer||sv:function(){return function(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}()};function cv(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const i=hv(this._dom.overlay);i.on("tap",Wn(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{i.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];vu(n).call(n,t=>{i.on(t,t=>{t.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=e=>{(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=t=>{("key"in t?"Escape"===t.key:27===t.keyCode)&&this.deactivate()}}Gn(cv.prototype),cv.current=null,cv.prototype.destroy=function(){this.deactivate();for(const i of Su(t=Qu(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;i()}},cv.prototype.activate=function(){cv.current&&cv.current.deactivate(),cv.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},cv.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},cv.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};const lv=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,uv=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,dv=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,pv=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function fv(t){if(t)for(;!0===t.hasChildNodes();){const e=t.firstChild;e&&(fv(e),t.removeChild(e))}}function gv(t){return t instanceof String||"string"==typeof t}function vv(t){return"object"==typeof t&&null!==t}function yv(t,e,i,n){let o=!1;!0===n&&(o=null===e[i]&&void 0!==t[i]),o?delete t[i]:t[i]=e[i]}function mv(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(const n in t)if(void 0!==e[n])if(null===e[n]||"object"!=typeof e[n])yv(t,e,n,i);else{const o=t[n],r=e[n];vv(o)&&vv(r)&&mv(o,r,i)}}function bv(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Ul(i))throw new TypeError("Arrays are not supported by deepExtend");for(let o=0;o<t.length;o++){const r=t[o];if(Object.prototype.hasOwnProperty.call(i,r))if(i[r]&&i[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?_v(e[r],i[r],!1,n):yv(e,i,r,n);else{if(Ul(i[r]))throw new TypeError("Arrays are not supported by deepExtend");yv(e,i,r,n)}}return e}function wv(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Ul(i))throw new TypeError("Arrays are not supported by deepExtend");for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&!_d(t).call(t,o))if(i[o]&&i[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?_v(e[o],i[o]):yv(e,i,o,n);else if(Ul(i[o])){e[o]=[];for(let t=0;t<i[o].length;t++)e[o].push(i[o][t])}else yv(e,i,o,n);return e}function _v(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===i)if("object"==typeof e[r]&&null!==e[r]&&Od(e[r])===Object.prototype)void 0===t[r]?t[r]=_v({},e[r],i):"object"==typeof t[r]&&null!==t[r]&&Od(t[r])===Object.prototype?_v(t[r],e[r],i):yv(t,e,r,n);else if(Ul(e[r])){var o;t[r]=jl(o=e[r]).call(o)}else yv(t,e,r,n);return t}function xv(t,e){return[...t,e]}function Ev(t){return t.getBoundingClientRect().top}function kv(t,e){if(Ul(t)){const i=t.length;for(let n=0;n<i;n++)e(t[n],n,t)}else for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(t[i],i,t)}function Ov(t){let e;switch(t.length){case 3:case 4:return e=uv.exec(t),e?{r:yp(e[1]+e[1],16),g:yp(e[2]+e[2],16),b:yp(e[3]+e[3],16)}:null;case 6:case 7:return e=lv.exec(t),e?{r:yp(e[1],16),g:yp(e[2],16),b:yp(e[3],16)}:null;default:return null}}function Sv(t,e){if(_d(t).call(t,"rgba"))return t;if(_d(t).call(t,"rgb")){const i=t.substr(Pp(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"}{const i=Ov(t);return null==i?t:"rgba("+i.r+","+i.g+","+i.b+","+e+")"}}function Cv(t,e,i){var n;return"#"+jl(n=((1<<24)+(t<<16)+(e<<8)+i).toString(16)).call(n,1)}function Pv(t,e){if(gv(t)){let e=t;if(Av(e)){var i;const t=Gl(i=e.substr(4).substr(0,e.length-5).split(",")).call(i,function(t){return yp(t)});e=Cv(t[0],t[1],t[2])}if(!0===Mv(e)){const t=function(t){const e=Ov(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return Tv(e.r,e.g,e.b)}(e),i={h:t.h,s:.8*t.s,v:Math.min(1,1.02*t.v)},n={h:t.h,s:Math.min(1,1.25*t.s),v:.8*t.v},o=Dv(n.h,n.s,n.v),r=Dv(i.h,i.s,i.v);return{background:e,border:o,highlight:{background:r,border:o},hover:{background:r,border:o}}}return{background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}return e?{background:t.background||e.background,border:t.border||e.border,highlight:gv(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:gv(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:gv(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:gv(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function Tv(t,e,i){t/=255,e/=255,i/=255;const n=Math.min(t,Math.min(e,i)),o=Math.max(t,Math.max(e,i));return n===o?{h:0,s:0,v:n}:{h:60*((t===n?3:i===n?1:5)-(t===n?e-i:i===n?t-e:i-t)/(o-n))/360,s:(o-n)/o,v:o}}function Iv(t,e,i){let n,o,r;const s=Math.floor(6*t),a=6*t-s,h=i*(1-e),c=i*(1-a*e),l=i*(1-(1-a)*e);switch(s%6){case 0:n=i,o=l,r=h;break;case 1:n=c,o=i,r=h;break;case 2:n=h,o=i,r=l;break;case 3:n=h,o=c,r=i;break;case 4:n=l,o=h,r=i;break;case 5:n=i,o=h,r=c}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*r)}}function Dv(t,e,i){const n=Iv(t,e,i);return Cv(n.r,n.g,n.b)}function Mv(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function Av(t){return dv.test(t)}function Nv(t){if(null===t||"object"!=typeof t)return null;if(t instanceof Element)return t;const e=Ip(t);for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&"object"==typeof t[i]&&(e[i]=Nv(t[i]));return e}function Bv(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=function(t){return null!=t},r=function(t){return null!==t&&"object"==typeof t};if(!r(t))throw new Error("Parameter mergeTarget must be an object");if(!r(e))throw new Error("Parameter options must be an object");if(!o(i))throw new Error("Parameter option must have a value");if(!r(n))throw new Error("Parameter globalOptions must be an object");const s=e[i],a=r(n)&&!function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(n)?n[i]:void 0,h=a?a.enabled:void 0;if(void 0===s)return;if("boolean"==typeof s)return r(t[i])||(t[i]={}),void(t[i].enabled=s);if(null===s&&!r(t[i])){if(!o(a))return;t[i]=Ip(a)}if(!r(s))return;let c=!0;void 0!==s.enabled?c=s.enabled:void 0!==h&&(c=a.enabled),function(t,e,i){r(t[i])||(t[i]={});const n=e[i],o=t[i];for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(o[t]=n[t])}(t,e,i),t[i].enabled=c}const jv={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:(4-2*t)*t-1,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t};function Fv(t,e){let i;Ul(e)||(e=[e]);for(const n of t)if(n){i=n[e[0]];for(let t=1;t<e.length;t++)i&&(i=i[e[t]]);if(void 0!==i)break}return i}const zv={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let Lv=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}setCloseCallback(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}_isColorString(t){if("string"==typeof t)return zv[t]}setColor(t){let e,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"===t)return;const n=this._isColorString(t);if(void 0!==n&&(t=n),!0===gv(t)){if(!0===Av(t)){const i=t.substr(4).substr(0,t.length-5).split(",");e={r:i[0],g:i[1],b:i[2],a:1}}else if(!0===function(t){return pv.test(t)}(t)){const i=t.substr(5).substr(0,t.length-6).split(",");e={r:i[0],g:i[1],b:i[2],a:i[3]}}else if(!0===Mv(t)){const i=Ov(t);e={r:i.r,g:i.g,b:i.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){const i=void 0!==t.a?t.a:"1.0";e={r:t.r,g:t.g,b:t.b,a:i}}if(void 0===e)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Np(t));this._setColor(e,i)}show(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=_n({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",Qp(()=>{void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=_n({},t)),this.color=t;const e=Tv(t.r,t.g,t.b),i=2*Math.PI,n=this.r*e.s,o=this.centerCoordinates.x+n*Math.sin(i*e.h),r=this.centerCoordinates.y+n*Math.cos(i*e.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=r-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}_setOpacity(t){this.color.a=t/100,this._updatePicker(this.color)}_setBrightness(t){const e=Tv(this.color.r,this.color.g,this.color.b);e.v=t/100;const i=Iv(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color;const e=Tv(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),uf(i).call(i),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var t,e,i,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Wn(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Wn(e=this._apply).call(e,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Wn(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Wn(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new hv(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",t=>{t.isFirst&&this._moveSelector(t)}),this.hammer.on("tap",t=>{this._moveSelector(t)}),this.hammer.on("panstart",t=>{this._moveSelector(t)}),this.hammer.on("panmove",t=>{this._moveSelector(t)}),this.hammer.on("panend",t=>{this._moveSelector(t)})}_generateHueCircle(){if(!1===this.generated){const t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;let n,o,r,s;t.clearRect(0,0,e,i),this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;const a=2*Math.PI/360,h=1/360,c=1/this.r;let l;for(r=0;r<360;r++)for(s=0;s<this.r;s++)n=this.centerCoordinates.x+s*Math.sin(a*r),o=this.centerCoordinates.y+s*Math.cos(a*r),l=Iv(r*h,s*c,1),t.fillStyle="rgb("+l.r+","+l.g+","+l.b+")",t.fillRect(n-.5,o-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}_moveSelector(t){const e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,n=t.center.y-e.top,o=.5*this.colorPickerDiv.clientHeight,r=.5*this.colorPickerDiv.clientWidth,s=i-r,a=n-o,h=Math.atan2(s,a),c=.98*Math.min(Math.sqrt(s*s+a*a),r),l=Math.cos(h)*c+o,u=Math.sin(h)*c+r;this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=u-.5*this.colorPickerSelector.clientWidth+"px";let d=h/(2*Math.PI);d=d<0?d+1:d;const p=c/this.r,f=Tv(this.color.r,this.color.g,this.color.b);f.h=d,f.s=p;const g=Iv(f.h,f.s,f.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function Rv(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length<1)throw new TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);{const t=document.createElement(e[0]);return t.appendChild(Rv(...jl(e).call(e,1))),t}}let Hv,Wv=!1;const Uv=cv,Vv=class{constructor(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>!1;this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},_n(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Lv(n),this.wrapper=void 0}setOptions(t){if(void 0!==t){this.popupHistory={},this._removePopup();let e=!0;if("string"==typeof t)this.options.filter=t;else if(Ul(t))this.options.filter=t.join();else if("object"==typeof t){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==Fd(t)&&(this.options.filter=Fd(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===Fd(this.options)&&(e=!1),this.options.enabled=e}this._clean()}setModuleOptions(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const t=Fd(this.options);let e=0,i=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,i=!1,"function"==typeof t?(i=t(n,[]),i=i||this._handleObject(this.configureOptions[n],[n],!0)):!0!==t&&-1===Pp(t).call(t,n)||(i=!0),!1!==i&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),e++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}_clean(){for(let t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(t){let e=this.moduleOptions;for(let i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}_makeItem(t){if(!0===this.allowCreation){const o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return vu(i).call(i,t=>{o.appendChild(t)}),this.domElements.push(o),this.domElements.length}return 0}_makeHeader(t){const e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}_makeLabel(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===i){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(Rv("i","b",t))}else n.innerText=t+":";return n}_makeDropdown(t,e,i){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let o=0;void 0!==e&&-1!==Pp(t).call(t,e)&&(o=Pp(t).call(t,e));for(let e=0;e<t.length;e++){const i=document.createElement("option");i.value=t[e],e===o&&(i.selected="selected"),i.innerText=t[e],n.appendChild(i)}const r=this;n.onchange=function(){r._update(this.value,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}_makeRange(t,e,i){const n=t[0],o=t[1],r=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=o,a.max=r}catch(t){}a.step=s;let h="",c=0;if(void 0!==e){const t=1.2;e<0&&e*t<o?(a.min=Math.ceil(e*t),c=a.min,h="range increased"):e/t<o&&(a.min=Math.ceil(e/t),c=a.min,h="range increased"),e*t>r&&1!==r&&(a.max=Math.ceil(e*t),c=a.max,h="range increased"),a.value=e}else a.value=n;const l=document.createElement("input");l.className="vis-configuration vis-config-rangeinput",l.value=a.value;const u=this;a.onchange=function(){l.value=this.value,u._update(Number(this.value),i)},a.oninput=function(){l.value=this.value};const d=this._makeLabel(i[i.length-1],i),p=this._makeItem(i,d,a,l);""!==h&&this.popupHistory[p]!==c&&(this.popupHistory[p]=c,this._setupPopup(h,p))}_makeButton(){if(!0===this.options.showButton){const t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=()=>{this._printOptions()},t.onmouseover=()=>{t.className="vis-configuration vis-config-button hover"},t.onmouseout=()=>{t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}_setupPopup(t,e){if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){const i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=t,i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}_removePopup(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(void 0!==this.popupDiv.html){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Qp(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Qp(()=>{this._removePopup()},1800)}}_makeCheckbox(t,e,i){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"==typeof t?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));const o=this;n.onchange=function(){o._update(this.checked,i)};const r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}_makeTextInput(t,e,i){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});const o=this;n.onchange=function(){o._update(this.value,i)};const r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}_makeColorField(t,e,i){const n=t[1],o=document.createElement("div");"none"!==(e=void 0===e?n:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?n:e,o.onclick=()=>{this._showColorPicker(e,o,i)};const r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,o)}_showColorPicker(t,e,i){e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(t=>{const n="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=n,this._update(n,i)}),this.colorPicker.setCloseCallback(()=>{e.onclick=()=>{this._showColorPicker(t,e,i)}})}_handleObject(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1;const o=Fd(this.options);let r=!1;for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){n=!0;const a=t[s],h=xv(e,s);if("function"==typeof o&&(n=o(s,e),!1===n&&!Ul(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,h,!0),this.allowCreation=!1===i)),!1!==n){r=!0;const t=this._getValue(h);if(Ul(a))this._handleArray(a,t,h);else if("string"==typeof a)this._makeTextInput(a,t,h);else if("boolean"==typeof a)this._makeCheckbox(a,t,h);else if(a instanceof Object&&!this.hideOption(e,s,this.moduleOptions))if(void 0!==a.enabled){const t=xv(h,"enabled"),e=this._getValue(t);if(!0===e){const t=this._makeLabel(s,h,!0);this._makeItem(h,t),r=this._handleObject(a,h)||r}else this._makeCheckbox(a,e,h)}else{const t=this._makeLabel(s,h,!0);this._makeItem(h,t),r=this._handleObject(a,h)||r}}}return r}_handleArray(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}_update(t,e){const i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i;t="false"!==(t="true"===t||t)&&t;for(let i=0;i<e.length;i++)"global"!==e[i]&&(void 0===n[e[i]]&&(n[e[i]]={}),i!==e.length-1?n=n[e[i]]:n[e[i]]=t);return i}_printOptions(){const t=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Rv("pre","const options = "+Np(t,null,2)))}getOptions(){const t={};for(let e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}},qv=hv,$v=class{constructor(t,e){this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(t,e){this.x=yp(t),this.y=yp(e)}setText(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}show(t){if(void 0===t&&(t=!0),!0===t){const t=this.frame.clientHeight,e=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth;let o=0,r=0;if("flip"==this.overflowMethod){let i=!1,s=!0;this.y-t<this.padding&&(s=!1),this.x+e>n-this.padding&&(i=!0),o=i?this.x-e:this.x,r=s?this.y-t:this.y}else r=this.y-t,r+t+this.padding>i&&(r=i-t-this.padding),r<this.padding&&(r=this.padding),o=this.x,o+e+this.padding>n&&(o=n-e-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=r+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Yv=class t{static validate(e,i,n){Wv=!1,Hv=i;let o=i;return void 0!==n&&(o=i[n]),t.parse(e,o,[]),Wv}static parse(e,i,n){for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.check(o,e,i,n)}static check(e,i,n,o){if(void 0===n[e]&&void 0===n.__any__)return void t.getSuggestion(e,n,o);let r=e,s=!0;void 0===n[e]&&void 0!==n.__any__&&(r="__any__",s="object"===t.getType(i[e]));let a=n[r];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,n,r,a,o)}static checkFields(e,i,n,o,r,s){const a=function(t){},h=t.getType(i[e]),c=r[h];void 0!==c?"array"===t.getType(c)&&-1===Pp(c).call(c,i[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(c)+' not "'+i[e]+'". '),Wv=!0):"object"===h&&"__any__"!==o&&(s=xv(s,e),t.parse(i[e],n[o],s)):void 0===r.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print(Ql(r))+". Received ["+h+'] "'+i[e]+'"'),Wv=!0)}static getType(t){const e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Ul(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}static getSuggestion(e,i,n){const o=t.findInOptions(e,i,n,!1),r=t.findInOptions(e,Hv,[],!0);let s;s=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':r.distance<=4&&o.distance>r.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(r.path,r.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print(Ql(i))+t.printLocation(n,e),Wv=!0}static findInOptions(e,i,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=1e9,s="",a=[];const h=e.toLowerCase();let c;for(const d in i){let p;if(void 0!==i[d].__type__&&!0===o){const o=t.findInOptions(e,i[d],xv(n,d));r>o.distance&&(s=o.closestMatch,a=o.path,r=o.distance,c=o.indexMatch)}else{var l;-1!==Pp(l=d.toLowerCase()).call(l,h)&&(c=d),p=t.levenshteinDistance(e,d),r>p&&(s=d,a=jl(u=n).call(u),r=p)}}var u;return{closestMatch:s,path:a,distance:r,indexMatch:c}}static printLocation(t,e){let i="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n";for(let e=0;e<t.length;e++){for(let t=0;t<e+1;t++)i+="  ";i+=t[e]+": {\n"}for(let e=0;e<t.length+1;e++)i+="  ";i+=e+"\n";for(let e=0;e<t.length+1;e++){for(let n=0;n<t.length-e;n++)i+="  ";i+="}\n"}return i+"\n\n"}static print(t){return Np(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;const i=[];let n,o;for(n=0;n<=e.length;n++)i[n]=[n];for(o=0;o<=t.length;o++)i[0][o]=o;for(n=1;n<=e.length;n++)for(o=1;o<=t.length;o++)e.charAt(n-1)==t.charAt(o-1)?i[n][o]=i[n-1][o-1]:i[n][o]=Math.min(i[n-1][o-1]+1,Math.min(i[n][o-1]+1,i[n-1][o]+1));return i[e.length][t.length]}};function Xv(t){return Qv=t,function(){var t={};if(ty=0,ey=Qv.charAt(0),dy(),"strict"===iy&&(t.strict=!0,dy()),"graph"!==iy&&"digraph"!==iy||(t.type=iy,dy()),ny===Zv.IDENTIFIER&&(t.id=iy,dy()),"{"!=iy)throw my("Angle bracket { expected");if(dy(),py(t),"}"!=iy)throw my("Angle bracket } expected");if(dy(),""!==iy)throw my("End of file expected");return dy(),delete t.node,delete t.edge,delete t.graph,t}()}var Kv={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Gv=Ip(Kv);Gv.color="color.color",Gv.style="dashes";var Zv={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Jv={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Qv="",ty=0,ey="",iy="",ny=Zv.NULL;function oy(){ty++,ey=Qv.charAt(ty)}function ry(){return Qv.charAt(ty+1)}function sy(t){var e=t.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function ay(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function hy(t,e,i){for(var n=e.split("."),o=t;n.length;){var r=n.shift();n.length?(o[r]||(o[r]={}),o=o[r]):o[r]=i}}function cy(t,e){for(var i,n,o=null,r=[t],s=t;s.parent;)r.push(s.parent),s=s.parent;if(s.nodes)for(i=0,n=s.nodes.length;i<n;i++)if(e.id===s.nodes[i].id){o=s.nodes[i];break}for(o||(o={id:e.id},t.node&&(o.attr=ay(o.attr,t.node))),i=r.length-1;i>=0;i--){var a,h=r[i];h.nodes||(h.nodes=[]),-1===Pp(a=h.nodes).call(a,o)&&h.nodes.push(o)}e.attr&&(o.attr=ay(o.attr,e.attr))}function ly(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=ay({},t.edge);e.attr=ay(i,e.attr)}}function uy(t,e,i,n,o){var r={from:e,to:i,type:n};return t.edge&&(r.attr=ay({},t.edge)),r.attr=ay(r.attr||{},o),null!=o&&o.hasOwnProperty("arrows")&&null!=o.arrows&&(r.arrows={to:{enabled:!0,type:o.arrows.type}},o.arrows=null),r}function dy(){for(ny=Zv.NULL,iy="";" "===ey||"\t"===ey||"\n"===ey||"\r"===ey;)oy();do{var t=!1;if("#"===ey){for(var e=ty-1;" "===Qv.charAt(e)||"\t"===Qv.charAt(e);)e--;if("\n"===Qv.charAt(e)||""===Qv.charAt(e)){for(;""!=ey&&"\n"!=ey;)oy();t=!0}}if("/"===ey&&"/"===ry()){for(;""!=ey&&"\n"!=ey;)oy();t=!0}if("/"===ey&&"*"===ry()){for(;""!=ey;){if("*"===ey&&"/"===ry()){oy(),oy();break}oy()}t=!0}for(;" "===ey||"\t"===ey||"\n"===ey||"\r"===ey;)oy()}while(t);if(""!==ey){var i=ey+ry();if(Jv[i])return ny=Zv.DELIMITER,iy=i,oy(),void oy();if(Jv[ey])return ny=Zv.DELIMITER,iy=ey,void oy();if(sy(ey)||"-"===ey){for(iy+=ey,oy();sy(ey);)iy+=ey,oy();return"false"===iy?iy=!1:"true"===iy?iy=!0:isNaN(Number(iy))||(iy=Number(iy)),void(ny=Zv.IDENTIFIER)}if('"'===ey){for(oy();""!=ey&&('"'!=ey||'"'===ey&&'"'===ry());)'"'===ey?(iy+=ey,oy()):"\\"===ey&&"n"===ry()?(iy+="\n",oy()):iy+=ey,oy();if('"'!=ey)throw my('End of string " expected');return oy(),void(ny=Zv.IDENTIFIER)}for(ny=Zv.UNKNOWN;""!=ey;)iy+=ey,oy();throw new SyntaxError('Syntax error in part "'+by(iy,30)+'"')}ny=Zv.DELIMITER}function py(t){for(;""!==iy&&"}"!=iy;)fy(t),";"===iy&&dy()}function fy(t){var e=gy(t);if(e)vy(t,e);else{var i=function(t){return"node"===iy?(dy(),t.node=yy(),"node"):"edge"===iy?(dy(),t.edge=yy(),"edge"):"graph"===iy?(dy(),t.graph=yy(),"graph"):null}(t);if(!i){if(ny!=Zv.IDENTIFIER)throw my("Identifier expected");var n=iy;if(dy(),"="===iy){if(dy(),ny!=Zv.IDENTIFIER)throw my("Identifier expected");t[n]=iy,dy()}else!function(t,e){var i={id:e},n=yy();n&&(i.attr=n),cy(t,i),vy(t,e)}(t,n)}}}function gy(t){var e=null;if("subgraph"===iy&&((e={}).type="subgraph",dy(),ny===Zv.IDENTIFIER&&(e.id=iy,dy())),"{"===iy){if(dy(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,py(e),"}"!=iy)throw my("Angle bracket } expected");dy(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function vy(t,e){for(;"->"===iy||"--"===iy;){var i,n=iy;dy();var o=gy(t);if(o)i=o;else{if(ny!=Zv.IDENTIFIER)throw my("Identifier or subgraph expected");cy(t,{id:i=iy}),dy()}ly(t,uy(t,e,i,n,yy())),e=i}}function yy(){for(var t,e,i=null,n={dashed:!0,solid:!1,dotted:[1,5]},o={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},r=new Array,s=new Array;"["===iy;){for(dy(),i={};""!==iy&&"]"!=iy;){if(ny!=Zv.IDENTIFIER)throw my("Attribute name expected");var a=iy;if(dy(),"="!=iy)throw my("Equal sign = expected");if(dy(),ny!=Zv.IDENTIFIER)throw my("Attribute value expected");var h=iy;"style"===a&&(h=n[h]),"arrowhead"===a&&(a="arrows",h={to:{enabled:!0,type:o[h]}}),"arrowtail"===a&&(a="arrows",h={from:{enabled:!0,type:o[h]}}),r.push({attr:i,name:a,value:h}),s.push(a),dy(),","==iy&&dy()}if("]"!=iy)throw my("Bracket ] expected");dy()}if(_d(s).call(s,"dir")){var c={arrows:{}};for(t=0;t<r.length;t++)if("arrows"===r[t].name)if(null!=r[t].value.to)c.arrows.to=t;else{if(null==r[t].value.from)throw my("Invalid value of arrows");c.arrows.from=t}else"dir"===r[t].name&&(c.dir=t);var l,u,d=r[c.dir].value;if(!_d(s).call(s,"arrows"))if("both"===d)r.push({attr:r[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=r.length-1,r.push({attr:r[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=r.length-1;else if("forward"===d)r.push({attr:r[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=r.length-1;else if("back"===d)r.push({attr:r[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=r.length-1;else{if("none"!==d)throw my('Invalid dir type "'+d+'"');r.push({attr:r[c.dir].attr,name:"arrows",value:""}),c.arrows.to=r.length-1}if("both"===d)c.arrows.to&&c.arrows.from?(u=r[c.arrows.to].value.to.type,l=r[c.arrows.from].value.from.type,r[c.arrows.to]={attr:r[c.arrows.to].attr,name:r[c.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}},Qu(r).call(r,c.arrows.from,1)):c.arrows.to?(u=r[c.arrows.to].value.to.type,l="arrow",r[c.arrows.to]={attr:r[c.arrows.to].attr,name:r[c.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}}):c.arrows.from&&(u="arrow",l=r[c.arrows.from].value.from.type,r[c.arrows.from]={attr:r[c.arrows.from].attr,name:r[c.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}});else if("back"===d)c.arrows.to&&c.arrows.from?(u="",l=r[c.arrows.from].value.from.type,r[c.arrows.from]={attr:r[c.arrows.from].attr,name:r[c.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}}):c.arrows.to?(u="",l="arrow",c.arrows.from=c.arrows.to,r[c.arrows.from]={attr:r[c.arrows.from].attr,name:r[c.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}}):c.arrows.from&&(u="",l=r[c.arrows.from].value.from.type,r[c.arrows.to]={attr:r[c.arrows.from].attr,name:r[c.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}}),r[c.arrows.from]={attr:r[c.arrows.from].attr,name:r[c.arrows.from].name,value:{from:{enabled:!0,type:r[c.arrows.from].value.from.type}}};else if("none"===d){var p;r[p=c.arrows.to?c.arrows.to:c.arrows.from]={attr:r[p].attr,name:r[p].name,value:""}}else{if("forward"!==d)throw my('Invalid dir type "'+d+'"');c.arrows.to&&c.arrows.from||c.arrows.to?(u=r[c.arrows.to].value.to.type,l="",r[c.arrows.to]={attr:r[c.arrows.to].attr,name:r[c.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}}):c.arrows.from&&(u="arrow",l="",c.arrows.to=c.arrows.from,r[c.arrows.to]={attr:r[c.arrows.to].attr,name:r[c.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}}),r[c.arrows.to]={attr:r[c.arrows.to].attr,name:r[c.arrows.to].name,value:{to:{enabled:!0,type:r[c.arrows.to].value.to.type}}}}Qu(r).call(r,c.dir,1)}if(_d(s).call(s,"penwidth")){var f=[];for(e=r.length,t=0;t<e;t++)"width"!==r[t].name&&("penwidth"===r[t].name&&(r[t].name="width"),f.push(r[t]));r=f}for(e=r.length,t=0;t<e;t++)hy(r[t].attr,r[t].name,r[t].value);return i}function my(t){return new SyntaxError(t+', got "'+by(iy,30)+'" (char '+ty+")")}function by(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function wy(t,e,i){for(var n=e.split("."),o=n.pop(),r=t,s=0;s<n.length;s++){var a=n[s];a in r||(r[a]={}),r=r[a]}return r[o]=i,t}function _y(t,e){var i={};for(var n in t)if(t.hasOwnProperty(n)){var o=e[n];Ul(o)?vu(o).call(o,function(e){wy(i,e,t[n])}):wy(i,"string"==typeof o?o:n,t[n])}return i}function xy(t){var e,i=Xv(t),n={nodes:[],edges:[],options:{}};if(i.nodes&&vu(e=i.nodes).call(e,function(t){var e={id:t.id,label:String(t.label||t.id)};ay(e,_y(t.attr,Kv)),e.image&&(e.shape="image"),n.nodes.push(e)}),i.edges){var o,r=function(t){var e={from:t.from,to:t.to};return ay(e,_y(t.attr,Gv)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};vu(o=i.edges).call(o,function(t){var e,i,o,s,a,h,c;e=t.from instanceof Object?t.from.nodes:{id:t.from},i=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&vu(o=t.from.edges).call(o,function(t){var e=r(t);n.edges.push(e)}),a=i,h=function(e,i){var o=uy(n,e.id,i.id,t.type,t.attr),s=r(o);n.edges.push(s)},Ul(s=e)?vu(s).call(s,function(t){Ul(a)?vu(a).call(a,function(e){h(t,e)}):h(t,a)}):Ul(a)?vu(a).call(a,function(t){h(s,t)}):h(s,a),t.to instanceof Object&&t.to.edges&&vu(c=t.to.edges).call(c,function(t){var e=r(t);n.edges.push(e)})})}return i.attr&&(n.options=i.attr),n}var Ey=Object.freeze({__proto__:null,DOTToGraph:xy,parseDOT:Xv});function ky(t,e){var i;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(n.nodes.fixed=e.fixed),null!=e.parseColor&&(n.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(n.edges.inheritColor=e.inheritColor));const o=t.edges,r=Gl(o).call(o,t=>{const e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===n.edges.inheritColor&&(e.color=t.color),e});return{nodes:Gl(i=t.nodes).call(i,t=>{const e={id:t.id,fixed:n.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(!0===n.nodes.parseColor?e.color=t.color:e.color={background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e}),edges:r}}var Oy=Object.freeze({__proto__:null,parseGephi:ky}),Sy=Object.freeze({__proto__:null,cn:{addDescription:"åå»ç©ºç½å¤æ¾ç½®æ°èç¹ã",addEdge:"æ·»å è¿æ¥çº¿",addNode:"æ·»å èç¹",back:"è¿å",close:"éé",createEdgeError:"æ æ³å°è¿æ¥çº¿è¿æ¥å°ç¾¤éã",del:"å é¤éå®",deleteClusterError:"æ æ³å é¤ç¾¤éã",edgeDescription:"åå»æä¸ªèç¹å¹¶å°è¯¥è¿æ¥çº¿æå¨å°å¦ä¸ä¸ªèç¹ä»¥è¿æ¥å®ä»¬ã",edit:"ç¼è¾",editClusterError:"æ æ³ç¼è¾ç¾¤éã",editEdge:"ç¼è¾è¿æ¥çº¿",editEdgeDescription:"åå»æ§å¶èç¹å¹¶å°å®ä»¬æå°èç¹ä¸è¿æ¥ã",editNode:"ç¼è¾èç¹"},cs:{addDescription:"KluknutÃ­m do prÃ¡zdnÃ©ho prostoru mÅ¯Å¾ete pÅidat novÃ½ vrchol.",addEdge:"PÅidat hranu",addNode:"PÅidat vrchol",back:"ZpÄt",close:"ZavÅÃ­t",createEdgeError:"Nelze pÅipojit hranu ke shluku.",del:"Smazat vÃ½bÄr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"PÅetaÅ¾enÃ­m z jednoho vrcholu do druhÃ©ho mÅ¯Å¾ete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"PÅetaÅ¾enÃ­m kontrolnÃ­ho vrcholu hrany ji mÅ¯Å¾ete pÅipojit k jinÃ©mu vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufÃ¼gen",addNode:"Knoten hinzufÃ¼gen",back:"ZurÃ¼ck",close:"SchlieÃen",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",del:"LÃ¶sche Auswahl",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster kÃ¶nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",addEdge:"AÃ±adir arista",addNode:"AÃ±adir nodo",back:"AtrÃ¡s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecciÃ³n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un nÅud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nÅud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crÃ©er un lien vers un cluster.",del:"Effacer la sÃ©lection",deleteClusterError:"Les clusters ne peuvent pas Ãªtre effacÃ©s.",edgeDescription:"Cliquez sur un nÅud et glissez le lien vers un autre nÅud pour les connecter.",edit:"Ãditer",editClusterError:"Les clusters ne peuvent pas Ãªtre Ã©ditÃ©s.",editEdge:"Ãditer le lien",editEdgeDescription:"Cliquez sur les points de contrÃ´le et glissez-les pour connecter un nÅud.",editNode:"Ãditer le nÅud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",addEdge:"Adicionar aresta",addNode:"Adicionar nÃ³",back:"Voltar",close:"Fechar",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",edit:"Editar",editClusterError:"Clusters nÃ£o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",editNode:"Editar nÃ³"},ru:{addDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑÐ¾, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÑÐ·ÐµÐ».",addEdge:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ±ÑÐ¾",addNode:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ·ÐµÐ»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÑÐ²Ð°ÑÑ",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÐµÐ±ÑÐ° Ð² ÐºÐ»Ð°ÑÑÐµÑ.",del:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ",deleteClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð±ÑÑÑ ÑÐ´Ð°Ð»ÐµÐ½Ñ",edgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÑÐ·ÐµÐ» Ð¸ Ð¿ÑÐ¾ÑÑÐ½Ð¸ÑÐµ ÑÐµÐ±ÑÐ¾ Ðº Ð´ÑÑÐ³Ð¾Ð¼Ñ ÑÐ·Ð»Ñ, ÑÑÐ¾Ð±Ñ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð¸Ñ.",edit:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",editClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ.",editEdge:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐµÐ±ÑÐ¾",editEdgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½ÑÐµ ÑÐ¾ÑÐºÐ¸ Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð¸Ñ Ð² ÑÐ·ÐµÐ», ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð½ÐµÐ¼Ñ.",editNode:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ·ÐµÐ»"},uk:{addDescription:"KÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ»ÑÐ½Ðµ Ð¼ÑÑÑÐµ, ÑÐ¾Ð± Ð´Ð¾Ð´Ð°ÑÐ¸ Ð½Ð¾Ð²Ð¸Ð¹ Ð²ÑÐ·Ð¾Ð».",addEdge:"ÐÐ¾Ð´Ð°ÑÐ¸ ÐºÑÐ°Ð¹",addNode:"ÐÐ¾Ð´Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÐ¸ÑÐ¸",createEdgeError:"ÐÐµ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ Ð¾Ð±'ÑÐ´Ð½Ð°ÑÐ¸ ÐºÑÐ°Ñ Ð² Ð³ÑÑÐ¿Ñ.",del:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ",deleteClusterError:"ÐÑÑÐ¿Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÑÑÑ Ð±ÑÑÐ¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ñ.",edgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ·Ð¾Ð» Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÐºÑÐ°Ð¹ Ð´Ð¾ ÑÐ½ÑÐ¾Ð³Ð¾ Ð²ÑÐ·Ð»Ð°, ÑÐ¾Ð± ÑÑ Ð·'ÑÐ´Ð½Ð°ÑÐ¸.",edit:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸",editClusterError:"ÐÑÑÐ¿Ð¸ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°Ð³ÑÐ²Ð°Ð½Ð½Ñ.",editEdge:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ ÐºÑÐ°Ð¹",editEdgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½Ñ ÑÐ¾ÑÐºÐ¸ Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÑÑ Ñ Ð²ÑÐ·Ð¾Ð», ÑÐ¾Ð± Ð¿ÑÐ´ÐºÐ»ÑÑÐ¸ÑÐ¸ÑÑ Ð´Ð¾ Ð½ÑÐ¾Ð³Ð¾.",editNode:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»"}});class Cy{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const t=this.image.width,e=this.image.height;this.width=t,this.height=e;const i=Math.floor(e/2),n=Math.floor(e/4),o=Math.floor(e/8),r=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),h=Math.floor(t/8),c=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,s,i],[s,0,a,n],[s,n,h,o],[5*h,n,c,r]],this._fillMipMap()}initialized(){return void 0!==this.coordinates}_fillMipMap(){const t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(let e=1;e<this.NUM_ITERATIONS;e++){const i=this.coordinates[e-1],n=this.coordinates[e];t.drawImage(this.canvas,i[0],i[1],i[2],i[3],n[0],n[1],n[2],n[3])}}drawImageAtPosition(t,e,i,n,o,r){if(this.initialized())if(e>2){e*=.5;let s=0;for(;e>2&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);const a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,n,o,r)}else t.drawImage(this.image,i,n,o,r)}}class Py{constructor(t){this.images={},this.imageBroken={},this.callback=t}_tryloadBrokenUrl(t,e,i){void 0!==t&&void 0!==i&&void 0!==e&&(i.image.onerror=()=>{},i.image.src=e)}_redrawWithImage(t){this.callback&&this.callback(t)}load(t,e){const i=this.images[t];if(i)return i;const n=new Cy;return this.images[t]=n,n.image.onload=()=>{this._fixImageCoordinates(n.image),n.init(),this._redrawWithImage(n)},n.image.onerror=()=>{this._tryloadBrokenUrl(t,e,n)},n.image.src=t,n}_fixImageCoordinates(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}var Ty={exports:{}},Iy=a(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),Dy=a,My=it,Ay=x,Ny=Iy,By=Object.isExtensible,jy=Dy(function(){By(1)})||Ny?function(t){return!!My(t)&&(!Ny||"ArrayBuffer"!==Ay(t))&&(!By||By(t))}:By,Fy=!a(function(){return Object.isExtensible(Object.preventExtensions({}))}),zy=Ii,Ly=m,Ry=Xi,Hy=it,Wy=te,Uy=Qe.f,Vy=Ar,qy=jr,$y=jy,Yy=Fy,Xy=!1,Ky=re("meta"),Gy=0,Zy=function(t){Uy(t,Ky,{value:{objectID:"O"+Gy++,weakData:{}}})},Jy=Ty.exports={enable:function(){Jy.enable=function(){},Xy=!0;var t=Vy.f,e=Ly([].splice),i={};i[Ky]=1,t(i).length&&(Vy.f=function(i){for(var n=t(i),o=0,r=n.length;o<r;o++)if(n[o]===Ky){e(n,o,1);break}return n},zy({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:qy.f}))},fastKey:function(t,e){if(!Hy(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Wy(t,Ky)){if(!$y(t))return"F";if(!e)return"E";Zy(t)}return t[Ky].objectID},getWeakData:function(t,e){if(!Wy(t,Ky)){if(!$y(t))return!0;if(!e)return!1;Zy(t)}return t[Ky].weakData},onFreeze:function(t){return Yy&&Xy&&$y(t)&&!Wy(t,Ky)&&Zy(t),t}};Ry[Ky]=!0;var Qy=Ty.exports,tm=nc,em=fe("iterator"),im=Array.prototype,nm=fo,om=jt,rm=Y,sm=nc,am=fe("iterator"),hm=function(t){if(!rm(t))return om(t,am)||om(t,"@@iterator")||sm[nm(t)]},cm=N,lm=At,um=oi,dm=Tt,pm=hm,fm=TypeError,gm=N,vm=oi,ym=jt,mm=Je,bm=N,wm=oi,_m=Tt,xm=function(t){return void 0!==t&&(tm.Array===t||im[em]===t)},Em=Wi,km=ct,Om=function(t,e){var i=arguments.length<2?pm(t):e;if(lm(i))return um(cm(i,t));throw new fm(dm(t)+" is not iterable")},Sm=hm,Cm=function(t,e,i){var n,o;vm(t);try{if(!(n=ym(t,"return"))){if("throw"===e)throw i;return i}n=gm(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw i;if(o)throw n;return vm(n),i},Pm=TypeError,Tm=function(t,e){this.stopped=t,this.result=e},Im=Tm.prototype,Dm=function(t,e,i){var n,o,r,s,a,h,c,l=i&&i.that,u=!(!i||!i.AS_ENTRIES),d=!(!i||!i.IS_RECORD),p=!(!i||!i.IS_ITERATOR),f=!(!i||!i.INTERRUPTED),g=mm(e,l),v=function(t){return n&&Cm(n,"normal",t),new Tm(!0,t)},y=function(t){return u?(wm(t),f?g(t[0],t[1],v):g(t[0],t[1])):f?g(t,v):g(t)};if(d)n=t.iterator;else if(p)n=t;else{if(!(o=Sm(t)))throw new Pm(_m(t)+" is not iterable");if(xm(o)){for(r=0,s=Em(t);s>r;r++)if((a=y(t[r]))&&km(Im,a))return a;return new Tm(!1)}n=Om(t,o)}for(h=d?t.next:n.next;!(c=bm(h,n)).done;){try{a=y(c.value)}catch(t){Cm(n,"throw",t)}if("object"==typeof a&&a&&km(Im,a))return a}return new Tm(!1)},Mm=ct,Am=TypeError,Nm=function(t,e){if(Mm(e,t))return t;throw new Am("Incorrect invocation")},Bm=Ii,jm=s,Fm=Qy,zm=a,Lm=mi,Rm=Dm,Hm=Nm,Wm=T,Um=it,Vm=Y,qm=_s,$m=Qe.f,Ym=$s.forEach,Xm=D,Km=zs.set,Gm=zs.getterFor,Zm=function(t,e,i){var n,o=-1!==t.indexOf("Map"),r=-1!==t.indexOf("Weak"),s=o?"set":"add",a=jm[t],h=a&&a.prototype,c={};if(Xm&&Wm(a)&&(r||h.forEach&&!zm(function(){(new a).entries().next()}))){var l=(n=e(function(e,i){Km(Hm(e,l),{type:t,collection:new a}),Vm(i)||Rm(i,e[s],{that:e,AS_ENTRIES:o})})).prototype,u=Gm(t);Ym(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(t){var e="add"===t||"set"===t;!(t in h)||r&&"clear"===t||Lm(l,t,function(i,n){var o=u(this).collection;if(!e&&r&&!Um(i))return"get"===t&&void 0;var s=o[t](0===i?0:i,n);return e?this:s})}),r||$m(l,"size",{configurable:!0,get:function(){return u(this).collection.size}})}else n=i.getConstructor(e,t,o,s),Fm.enable();return qm(n,t,!1,!0),c[t]=n,Bm({global:!0,forced:!0},c),r||i.setStrong(n,t,o),n},Jm=Kr,Qm=function(t,e,i){for(var n in e)i&&i.unsafe&&t[n]?t[n]=e[n]:Jm(t,n,e[n],i);return t},tb=ht,eb=Zr,ib=D,nb=fe("species"),ob=Mr,rb=Zr,sb=Qm,ab=Je,hb=Nm,cb=Y,lb=Dm,ub=Gc,db=Zc,pb=function(t){var e=tb(t);ib&&e&&!e[nb]&&eb(e,nb,{configurable:!0,get:function(){return this}})},fb=D,gb=Qy.fastKey,vb=zs.set,yb=zs.getterFor,mb={getConstructor:function(t,e,i,n){var o=t(function(t,o){hb(t,r),vb(t,{type:e,index:ob(null),first:void 0,last:void 0,size:0}),fb||(t.size=0),cb(o)||lb(o,t[n],{that:t,AS_ENTRIES:i})}),r=o.prototype,s=yb(e),a=function(t,e,i){var n,o,r=s(t),a=h(t,e);return a?a.value=i:(r.last=a={index:o=gb(e,!0),key:e,value:i,previous:n=r.last,next:void 0,removed:!1},r.first||(r.first=a),n&&(n.next=a),fb?r.size++:t.size++,"F"!==o&&(r.index[o]=a)),t},h=function(t,e){var i,n=s(t),o=gb(e);if("F"!==o)return n.index[o];for(i=n.first;i;i=i.next)if(i.key===e)return i};return sb(r,{clear:function(){for(var t=s(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,fb?t.size=0:this.size=0},delete:function(t){var e=this,i=s(e),n=h(e,t);if(n){var o=n.next,r=n.previous;delete i.index[n.index],n.removed=!0,r&&(r.next=o),o&&(o.previous=r),i.first===n&&(i.first=o),i.last===n&&(i.last=r),fb?i.size--:e.size--}return!!n},forEach:function(t){for(var e,i=s(this),n=ab(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!h(this,t)}}),sb(r,i?{get:function(t){var e=h(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),fb&&rb(r,"size",{configurable:!0,get:function(){return s(this).size}}),o},setStrong:function(t,e,i){var n=e+" Iterator",o=yb(e),r=yb(n);ub(t,e,function(t,e){vb(this,{type:n,target:t,state:o(t),kind:e,last:void 0})},function(){for(var t=r(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?db("keys"===e?i.key:"values"===e?i.value:[i.key,i.value],!1):(t.target=void 0,db(void 0,!0))},i?"entries":"values",!i,!0),pb(e)}};Zm("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},mb);var bb=m,wb=Ni,_b=sr,xb=G,Eb=bb("".charAt),kb=bb("".charCodeAt),Ob=bb("".slice),Sb=function(t){return function(e,i){var n,o,r=_b(xb(e)),s=wb(i),a=r.length;return s<0||s>=a?t?"":void 0:(n=kb(r,s))<55296||n>56319||s+1===a||(o=kb(r,s+1))<56320||o>57343?t?Eb(r,s):n:t?Ob(r,s,s+2):o-56320+(n-55296<<10)+65536}},Cb=(Sb(!1),Sb(!0)),Pb=sr,Tb=zs,Ib=Gc,Db=Zc,Mb="String Iterator",Ab=Tb.set,Nb=Tb.getterFor(Mb);Ib(String,"String",function(t){Ab(this,{type:Mb,string:Pb(t),index:0})},function(){var t,e=Nb(this),i=e.string,n=e.index;return n>=i.length?Db(void 0,!0):(t=Cb(i,n),e.index+=t.length,Db(t,!1))});var Bb=o(nt.Map);class jb{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},_n(this.options,this.defaultOptions)}setOptions(t){const e=["useDefaultGroups"];if(void 0!==t)for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&-1===Pp(e).call(e,i)){const e=t[i];this.add(i,e)}}clear(){this._groups=new Bb,this._groupNames=[]}get(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._groups.get(t);if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){const e=this._groupIndex%this._groupNames.length;++this._groupIndex,i={},i.color=this._groups.get(this._groupNames[e]),this._groups.set(t,i)}else{const e=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,i={},i.color=this._defaultGroups[e],this._groups.set(t,i)}return i}add(t,e){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,e),e}}Ii({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Fb=o(nt.Number.isNaN),zb=s.isFinite,Lb=Number.isFinite||function(t){return"number"==typeof t&&zb(t)};Ii({target:"Number",stat:!0},{isFinite:Lb});var Rb=o(nt.Number.isFinite),Hb=$s.some;Ii({target:"Array",proto:!0,forced:!ru("some")},{some:function(t){return Hb(this,t,arguments.length>1?arguments[1]:void 0)}});var Wb=jn("Array").some,Ub=ct,Vb=Wb,qb=Array.prototype,$b=function(t){var e=t.some;return t===qb||Ub(qb,t)&&e===qb.some?Vb:e},Yb=o($b),Xb={exports:{}},Kb=Ii,Gb=D,Zb=Qe.f;Kb({target:"Object",stat:!0,forced:Object.defineProperty!==Zb,sham:!Gb},{defineProperty:Zb});var Jb=nt.Object,Qb=Xb.exports=function(t,e,i){return Jb.defineProperty(t,e,i)};Jb.defineProperty.sham&&(Qb.sham=!0);var tw=Xb.exports,ew=o(tw),iw=fe,nw=Qe.f,ow=iw("metadata"),rw=Function.prototype;void 0===rw[ow]&&nw(rw,ow,{value:null}),as("asyncDispose"),as("dispose"),as("metadata");var sw=gl,aw=m,hw=ht("Symbol"),cw=hw.keyFor,lw=aw(hw.prototype.valueOf),uw=hw.isRegisteredSymbol||function(t){try{return void 0!==cw(lw(t))}catch(t){return!1}};Ii({target:"Symbol",stat:!0},{isRegisteredSymbol:uw});for(var dw=Xt,pw=ht,fw=m,gw=Ct,vw=fe,yw=pw("Symbol"),mw=yw.isWellKnownSymbol,bw=pw("Object","getOwnPropertyNames"),ww=fw(yw.prototype.valueOf),_w=dw("wks"),xw=0,Ew=bw(yw),kw=Ew.length;xw<kw;xw++)try{var Ow=Ew[xw];gw(yw[Ow])&&vw(Ow)}catch(t){}var Sw=function(t){if(mw&&mw(t))return!0;try{for(var e=ww(t),i=0,n=bw(_w),o=n.length;i<o;i++)if(_w[n[i]]==e)return!0}catch(t){}return!1};Ii({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Sw}),as("matcher"),as("observable"),Ii({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:uw}),Ii({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Sw}),as("metadataKey"),as("patternMatch"),as("replaceAll");var Cw=o(sw),Pw=o(Jr.f("iterator"));function Tw(t){return Tw="function"==typeof Cw&&"symbol"==typeof Pw?function(t){return typeof t}:function(t){return t&&"function"==typeof Cw&&t.constructor===Cw&&t!==Cw.prototype?"symbol":typeof t},Tw(t)}var Iw=o(Jr.f("toPrimitive"));function Dw(t){var e=function(t,e){if("object"!==Tw(t)||null===t)return t;var i=t[Iw];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==Tw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Tw(e)?e:String(e)}function Mw(t,e,i){return(e=Dw(e))in t?ew(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Aw=s,Nw=a,Bw=sr,jw=op.trim,Fw=Gd,zw=m("".charAt),Lw=Aw.parseFloat,Rw=Aw.Symbol,Hw=Rw&&Rw.iterator,Ww=1/Lw(Fw+"-0")!=-1/0||Hw&&!Nw(function(){Lw(Object(Hw))})?function(t){var e=jw(Bw(t)),i=Lw(e);return 0===i&&"-"===zw(e,0)?-0:i}:Lw;Ii({global:!0,forced:parseFloat!==Ww},{parseFloat:Ww});var Uw=o(nt.parseFloat),Vw=Ii,qw=a,$w=jr.f;Vw({target:"Object",stat:!0,forced:qw(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:$w});var Yw=nt.Object,Xw=function(t){return Yw.getOwnPropertyNames(t)},Kw=o(Xw),Gw=o(nt.Object.getOwnPropertySymbols),Zw={exports:{}},Jw=Ii,Qw=a,t_=Q,e_=I.f,i_=D;Jw({target:"Object",stat:!0,forced:!i_||Qw(function(){e_(1)}),sham:!i_},{getOwnPropertyDescriptor:function(t,e){return e_(t_(t),e)}});var n_=nt.Object,o_=Zw.exports=function(t,e){return n_.getOwnPropertyDescriptor(t,e)};n_.getOwnPropertyDescriptor.sham&&(o_.sham=!0);var r_=o(Zw.exports),s_=Wl,a_=Q,h_=I,c_=oo;Ii({target:"Object",stat:!0,sham:!D},{getOwnPropertyDescriptors:function(t){for(var e,i,n=a_(t),o=h_.f,r=s_(n),s={},a=0;r.length>a;)void 0!==(i=o(n,e=r[a++]))&&c_(s,e,i);return s}});var l_=o(nt.Object.getOwnPropertyDescriptors),u_={exports:{}},d_=Ii,p_=D,f_=ar.f;d_({target:"Object",stat:!0,forced:Object.defineProperties!==f_,sham:!p_},{defineProperties:f_});var g_=nt.Object,v_=u_.exports=function(t,e){return g_.defineProperties(t,e)};g_.defineProperties.sham&&(v_.sham=!0);var y_=o(u_.exports),m_=o(tw);function b_(t,e){const i=["node","edge","label"];let n=!0;const o=Fv(e,"chosen");if("boolean"==typeof o)n=o;else if("object"==typeof o){if(-1===Pp(i).call(i,t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");const o=Fv(e,["chosen",t]);"boolean"!=typeof o&&"function"!=typeof o||(n=o)}return n}function w_(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){const t={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){const n=-i.angle;e={x:Math.cos(n)*t.x-Math.sin(n)*t.y,y:Math.sin(n)*t.x+Math.cos(n)*t.y}}else e=t}const n=t.x+t.width,o=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&o>e.y}function __(t){return"string"==typeof t&&""!==t}function x_(t,e,i,n){let o=n.x,r=n.y;if("function"==typeof n.distanceToBorder){const i=n.distanceToBorder(t,e),s=Math.sin(e)*i,a=Math.cos(e)*i;a===i?(o+=i,r=n.y):s===i?(o=n.x,r-=i):(o+=a,r-=s)}else n.shape.width>n.shape.height?(o=n.x+.5*n.shape.width,r=n.y-i):(o=n.x+i,r=n.y-.5*n.shape.height);return{x:o,y:r}}var E_=jn("Array").values,k_=fo,O_=te,S_=ct,C_=E_,P_=Array.prototype,T_={DOMTokenList:!0,NodeList:!0},I_=function(t){var e=t.values;return t===P_||S_(P_,t)&&e===P_.values||O_(T_,k_(t))?C_:e},D_=o(I_);class M_{constructor(t){this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});let n=e;void 0!==e&&""!==e||(n=" ");const o=this.measureText(n,i),r=_n({},D_(o));r.text=e,r.width=o.width,r.mod=i,void 0!==e&&""!==e||(r.width=0),this.lines[t].blocks.push(r),this.lines[t].width+=r.width}curWidth(){const t=this.lines[this.current];return void 0===t?0:t.width}append(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}newLine(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}determineLineHeights(){for(let t=0;t<this.lines.length;t++){const e=this.lines[t];let i=0;if(void 0!==e.blocks)for(let t=0;t<e.blocks.length;t++){const n=e.blocks[t];i<n.height&&(i=n.height)}e.height=i}}determineLabelSize(){let t=0,e=0;for(let i=0;i<this.lines.length;i++){const n=this.lines[i];n.width>t&&(t=n.width),e+=n.height}this.width=t,this.height=e}removeEmptyBlocks(){const t=[];for(let e=0;e<this.lines.length;e++){const i=this.lines[e];if(0===i.blocks.length)continue;if(e===this.lines.length-1&&0===i.width)continue;const n={};let o;_n(n,i),n.blocks=[];const r=[];for(let t=0;t<i.blocks.length;t++){const e=i.blocks[t];0!==e.width?r.push(e):void 0===o&&(o=e)}0===r.length&&void 0!==o&&r.push(o),n.blocks=r,t.push(n)}return t}finalize(){this.determineLineHeights(),this.determineLabelSize();const t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}const A_={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class N_{constructor(t){this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return 0===this.modStack.length?"normal":this.modStack[0]}modName(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}parseWS(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}setTag(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}unsetTag(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}parseStartTag(t,e){return!(this.mono||this[t]||!this.match(e)||(this.setTag(t),0))}match(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const[i,n]=this.prepareRegExp(t),o=i.test(this.text.substr(this.position,n));return o&&e&&(this.position+=n-1),o}parseEndTag(t,e,i){let n=this.mod()===t;return n="mono"===t?n&&this.mono:n&&!this.mono,!(!n||!this.match(e)||(void 0!==i?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(t):this.unsetTag(t),0))}replace(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}prepareRegExp(t){let e,i;if(t instanceof RegExp)i=t,e=1;else{const n=A_[t];i=void 0!==n?n:new RegExp(t),e=t.length}return[i,e]}}class B_{constructor(t,e,i,n){this.ctx=t,this.parent=e,this.selected=i,this.hover=n,this.lines=new M_((e,o)=>{if(void 0===e)return 0;const r=this.parent.getFormattingValues(t,i,n,o);let s=0;return""!==e&&(s=this.ctx.measureText(e).width),{width:s,values:r}})}process(t){if(!__(t))return this.lines.finalize();const e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");const i=String(t).split("\n"),n=i.length;if(e.multi)for(let t=0;t<n;t++){const n=this.splitBlocks(i[t],e.multi);if(void 0!==n)if(0!==n.length){if(e.maxWdt>0)for(let t=0;t<n.length;t++){const e=n[t].mod,i=n[t].text;this.splitStringIntoLines(i,e,!0)}else for(let t=0;t<n.length;t++){const e=n[t].mod,i=n[t].text;this.lines.append(i,e)}this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(let t=0;t<n;t++)this.splitStringIntoLines(i[t]);else for(let t=0;t<n;t++)this.lines.newLine(i[t]);return this.lines.finalize()}decodeMarkupSystem(t){let e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}splitHtmlBlocks(t){const e=new N_(t),i=t=>!!/&/.test(t)&&(e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&")||e.add("&"),!0);for(;e.position<e.text.length;){const t=e.text.charAt(e.position);e.parseWS(t)||/</.test(t)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||i(t)||e.add(t),e.position++}return e.emitBlock(),e.blocks}splitMarkdownBlocks(t){const e=new N_(t);let i=!0;const n=t=>!!/\\/.test(t)&&(e.position<this.text.length+1&&(e.position++,t=this.text.charAt(e.position),/ \t/.test(t)?e.spacing=!0:(e.add(t),i=!1)),!0);for(;e.position<e.text.length;){const t=e.text.charAt(e.position);e.parseWS(t)||n(t)||(i||e.spacing)&&(e.parseStartTag("bold","*")||e.parseStartTag("ital","_")||e.parseStartTag("mono","`"))||e.parseEndTag("bold","*","afterBold")||e.parseEndTag("ital","_","afterItal")||e.parseEndTag("mono","`","afterMono")||(e.add(t),i=!1),e.position++}return e.emitBlock(),e.blocks}splitBlocks(t,e){const i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}overMaxWidth(t){const e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}getLongestFit(t){let e="",i=0;for(;i<t.length;){const n=e+(""===e?"":" ")+t[i];if(this.overMaxWidth(n))break;e=n,i++}return i}getLongestFitWord(t){let e=0;for(;e<t.length&&!this.overMaxWidth(jl(t).call(t,0,e));)e++;return e}splitStringIntoLines(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e);let n=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");for(;n.length>0;){let t=this.getLongestFit(n);if(0===t){const t=n[0],i=this.getLongestFitWord(t);this.lines.newLine(jl(t).call(t,0,i),e),n[0]=jl(t).call(t,i)}else{let o=t;" "===n[t-1]?t--:" "===n[o]&&o++;const r=jl(n).call(n,0,t).join("");t==n.length&&i?this.lines.append(r,e):this.lines.newLine(r,e),n=jl(n).call(n,o)}}}}const j_=["bold","ital","boldital","mono"];class F_{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}setOptions(t){if(this.elementOptions=t,this.initFontOptions(t.font),__(t.label)?this.labelDirty=!0:t.label=void 0,void 0!==t.font&&null!==t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"==typeof t.font){const e=t.font.size;void 0!==e&&(this.baseSize=e)}}initFontOptions(t){kv(j_,t=>{this.fontOptions[t]={}}),F_.parseFontString(this.fontOptions,t)?this.fontOptions.vadjust=0:kv(t,(t,e)=>{null!=t&&"object"!=typeof t&&(this.fontOptions[e]=t)})}static parseFontString(t,e){if(!e||"string"!=typeof e)return!1;const i=e.split(" ");return t.size=+i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}constrain(t){const e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=Fv(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"==typeof i){const i=Fv(t,["widthConstraint","maximum"]);"number"==typeof i&&(e.maxWdt=Number(i));const n=Fv(t,["widthConstraint","minimum"]);"number"==typeof n&&(e.minWdt=Number(n))}const n=Fv(t,"heightConstraint");if("number"==typeof n)e.minHgt=Number(n);else if("object"==typeof n){const i=Fv(t,["heightConstraint","minimum"]);"number"==typeof i&&(e.minHgt=Number(i));const n=Fv(t,["heightConstraint","valign"]);"string"==typeof n&&("top"!==n&&"bottom"!==n||(e.valign=n))}return e}update(t,e){this.setOptions(t,!0),this.propagateFonts(e),_v(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=b_("label",e)}adjustSizes(t){const e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);const i=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}addFontOptionsToPile(t,e){for(let i=0;i<e.length;++i)this.addFontToPile(t,e[i])}addFontToPile(t,e){if(void 0===e)return;if(void 0===e.font||null===e.font)return;const i=e.font;t.push(i)}getBasicOptions(t){const e={};for(let i=0;i<t.length;++i){let n=t[i];const o={};F_.parseFontString(o,n)&&(n=o),kv(n,(t,i)=>{void 0!==t&&(Object.prototype.hasOwnProperty.call(e,i)||(-1!==Pp(j_).call(j_,i)?e[i]={}:e[i]=t))})}return e}getFontOption(t,e,i){let n;for(let o=0;o<t.length;++o){const r=t[o];if(Object.prototype.hasOwnProperty.call(r,e)){if(n=r[e],null==n)continue;const t={};if(F_.parseFontString(t,n)&&(n=t),Object.prototype.hasOwnProperty.call(n,i))return n[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}getFontOptions(t,e){const i={},n=["color","size","face","mod","vadjust"];for(let o=0;o<n.length;++o){const r=n[o];i[r]=this.getFontOption(t,e,r)}return i}propagateFonts(t){const e=[];this.addFontOptionsToPile(e,t),this.fontOptions=this.getBasicOptions(e);for(let t=0;t<j_.length;++t){const i=j_[t],n=this.fontOptions[i];kv(this.getFontOptions(e,i),(t,e)=>{n[e]=t}),n.size=Number(n.size),n.vadjust=Number(n.vadjust)}}draw(t,e,i,n,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0===this.elementOptions.label)return;let s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,n,o,e,i,r),this._drawBackground(t),this._drawText(t,e,this.size.yLine,r,s))}_drawBackground(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;const e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}_drawText(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",o=arguments.length>4?arguments[4]:void 0;[e,i]=this._setAlignment(t,e,i,n),t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(let n=0;n<this.lineCount;n++){const r=this.lines[n];if(r&&r.blocks){let n=0;this.isEdgeLabel||"center"===this.fontOptions.align?n+=(this.size.width-r.width)/2:"right"===this.fontOptions.align&&(n+=this.size.width-r.width);for(let s=0;s<r.blocks.length;s++){const a=r.blocks[s];t.font=a.font;const[h,c]=this._getColor(a.color,o,a.strokeColor);a.strokeWidth>0&&(t.lineWidth=a.strokeWidth,t.strokeStyle=c,t.lineJoin="round"),t.fillStyle=h,a.strokeWidth>0&&t.strokeText(a.text,e+n,i+a.vadjust),t.fillText(a.text,e+n,i+a.vadjust),n+=a.width}i+=r.height}}}_setAlignment(t,e,i,n){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){e=0,i=0;const n=2;"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=2*n):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=2*n):t.textBaseline="middle"}else t.textBaseline=n;return[e,i]}_getColor(t,e,i){let n=t||"#000000",o=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){const t=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));n=Sv(n,t),o=Sv(o,t)}return[n,o]}getTextSize(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){const i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,e=.5*-this.size.height;break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}calculateLabelSize(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=n-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===r&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(t,e,i,n){const o=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},r={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?r.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(r,this.elementOptions.id,e,i));let s="";return void 0!==r.mod&&""!==r.mod&&(s+=r.mod+" "),s+=r.size+"px "+r.face,t.font=s.replace(/"/g,""),r.font=t.font,r.height=r.size,r}differentState(t,e){return t!==this.selectedState||e!==this.hoverState}_processLabelText(t,e,i,n){return new B_(t,this,e,i).process(n)}_processLabel(t,e,i){if(!1===this.labelDirty&&!this.differentState(e,i))return;const n=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}visible(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class z_{constructor(t,e,i){this.body=e,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(t){this.options=t}_setMargins(t){this.margin={},this.options.margin&&("object"==typeof this.options.margin?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}_distanceToBorder(t,e){const i=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}enableShadow(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}disableShadow(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}enableBorderDashes(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){let i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}disableBorderDashes(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}needsRefresh(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}initContextForDraw(t,e){const i=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,i),t.strokeStyle=e.borderColor,t.fillStyle=e.color}performStroke(t,e){const i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}performFill(t,e){t.save(),t.fillStyle=e.color,this.enableShadow(t,e),uf(t).call(t),this.disableShadow(t,e),t.restore(),this.performStroke(t,e)}_addBoundingBoxMargin(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}_updateBoundingBox(t,e,i,n,o){void 0!==i&&this.resize(i,n,o),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(t,e,i,n,o){this._updateBoundingBox(t,e,i,n,o)}getDimensionsFromLabel(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);let n=this.textSize.width,o=this.textSize.height;return 0===n&&(n=14,o=14),{width:n,height:o}}}let L_=class extends z_{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){const n=this.getDimensionsFromLabel(t,e,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),Vn(t,this.left,this.top,this.width,this.height,r.borderRadius),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}updateBoundingBox(t,e,i,n,o){this._updateBoundingBox(t,e,i,n,o);const r=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(r)}distanceToBorder(t,e){t&&this.resize(t);const i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}};class R_ extends z_{constructor(t,e,i){super(t,e,i),this.labelOffset=0,this.selected=!1}setOptions(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}setImages(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}switchImages(t){const e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){const t=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=t}}_getImagePadding(){const t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const e=this.options.imagePadding;"object"==typeof e?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}_resizeImage(){let t,e;if(!1===this.options.shapeProperties.useImageSize){let i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*n}else{const i=this._getImagePadding();t=this.imageObj.width+i.left+i.right,e=this.imageObj.height+i.top+i.bottom}this.width=t,this.height=e,this.radius=.5*this.width}_drawRawCircle(t,e,i,n){this.initContextForDraw(t,n),Un(t,e,i,n.size),this.performFill(t,n)}_drawImageAtPosition(t,e){if(0!=this.imageObj.width){t.globalAlpha=void 0!==e.opacity?e.opacity:1,this.enableShadow(t,e);let i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale);const n=this._getImagePadding(),o=this.left+n.left,r=this.top+n.top,s=this.width-n.left-n.right,a=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(t,i,o,r,s,a),this.disableShadow(t,e)}}_drawImageLabel(t,e,i,n,o){let r=0;if(void 0!==this.height){r=.5*this.height;const e=this.labelModule.getTextSize(t,n,o);e.lineCount>=1&&(r+=e.height/2)}const s=i+r;this.options.label&&(this.labelOffset=r),this.labelModule.draw(t,e,s,n,o,"hanging")}}let H_=class extends R_{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){const n=this.getDimensionsFromLabel(t,e,i),o=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}draw(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,r),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,n,o)}updateBoundingBox(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}distanceToBorder(t){return t&&this.resize(t),.5*this.width}};class W_ extends R_{constructor(t,e,i,n,o){super(t,e,i),this.setImages(n,o)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){const t=2*this.options.size;return this.width=t,this.height=t,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}draw(t,e,i,n,o,r){this.switchImages(n),this.resize();let s=e,a=i;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),this._drawRawCircle(t,s,a,r),t.save(),t.clip(),this._drawImageAtPosition(t,r),t.restore(),this._drawImageLabel(t,s,a,n,o),this.updateBoundingBox(e,i)}updateBoundingBox(t,e){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=e,this.boundingBox.left=t,this.boundingBox.right=t+2*this.options.size,this.boundingBox.bottom=e+2*this.options.size):(this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(t){return t&&this.resize(t),.5*this.width}}class U_ extends z_{constructor(t,e,i){super(t,e,i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){var o,r;this.labelModule.getTextSize(t,e,i);const s=2*n.size;this.width=null!==(o=this.customSizeWidth)&&void 0!==o?o:s,this.height=null!==(r=this.customSizeHeight)&&void 0!==r?r:s,this.radius=.5*this.width}}_drawShape(t,e,i,n,o,r,s,a){var h;return this.resize(t,r,s,a),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(t,a),(h=e,Object.prototype.hasOwnProperty.call(Xn,h)?Xn[h]:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];CanvasRenderingContext2D.prototype[h].call(t,i)})(t,n,o,a.size),this.performFill(t,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(r?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,n,o)),{drawExternalLabel:()=>{if(void 0!==this.options.label){this.labelModule.calculateLabelSize(t,r,s,n,o,"hanging");const e=o+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(t,n,e,r,s,"hanging")}this.updateBoundingBox(n,o)}}}updateBoundingBox(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function V_(t,e){var i=Ql(t);if(Gw){var n=Gw(t);e&&(n=Fd(n).call(n,function(e){return r_(t,e).enumerable})),i.push.apply(i,n)}return i}function q_(t){for(var e=1;e<arguments.length;e++){var i,n,o=null!=arguments[e]?arguments[e]:{};e%2?vu(i=V_(Object(o),!0)).call(i,function(e){Mw(t,e,o[e])}):l_?y_(t,l_(o)):vu(n=V_(Object(o))).call(n,function(e){m_(t,e,r_(o,e))})}return t}class $_ extends U_{constructor(t,e,i,n){super(t,e,i,n),this.ctxRenderer=n}draw(t,e,i,n,o,r){this.resize(t,n,o,r),this.left=e-this.width/2,this.top=i-this.height/2,t.save();const s=this.ctxRenderer({ctx:t,id:this.options.id,x:e,y:i,state:{selected:n,hover:o},style:q_({},r),label:this.options.label});if(null!=s.drawNode&&s.drawNode(),t.restore(),s.drawExternalLabel){const e=s.drawExternalLabel;s.drawExternalLabel=()=>{t.save(),e(),t.restore()}}return s.nodeDimensions&&(this.customSizeWidth=s.nodeDimensions.width,this.customSizeHeight=s.nodeDimensions.height),s}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class Y_ extends z_{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){if(this.needsRefresh(e,i)){const n=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=n,this.height=n,this.radius=this.width/2}}draw(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),$n(t,e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}let X_=class extends U_{constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,r){return this._drawShape(t,"diamond",4,e,i,n,o,r)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}};class K_ extends U_{constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,r){return this._drawShape(t,"circle",2,e,i,n,o,r)}distanceToBorder(t){return t&&this.resize(t),this.options.size}}class G_ extends z_{constructor(t,e,i){super(t,e,i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){const n=this.getDimensionsFromLabel(t,e,i);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}draw(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,r),qn(t,this.left,this.top,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,e,i,n,o)}distanceToBorder(t,e){t&&this.resize(t);const i=.5*this.width,n=.5*this.height,o=Math.sin(e)*i,r=Math.cos(e)*n;return i*n/Math.sqrt(o*o+r*r)}}class Z_ extends z_{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(t,e,i,n,o,r){return this.resize(t,n,o),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,n,o,r),{drawExternalLabel:()=>{if(void 0!==this.options.label){const e=5;this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+e,n)}this.updateBoundingBox(e,i)}}}updateBoundingBox(t,e){if(this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){const t=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+t)}}_icon(t,e,i,n,o,r){const s=Number(this.options.icon.size);void 0!==this.options.icon.code&&(t.font=[null!=this.options.icon.weight?this.options.icon.weight:n?"bold":"",(null!=this.options.icon.weight&&n?5:0)+s+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,r),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,r))}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}let J_=class extends R_{constructor(t,e,i,n,o){super(t,e,i),this.setImages(n,o)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){const t=2*this.options.size;return this.width=t,void(this.height=t)}this.needsRefresh(e,i)&&this._resizeImage()}draw(t,e,i,n,o,r){t.save(),this.switchImages(n),this.resize();let s=e,a=i;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){const e=this.options.borderWidth,i=this.options.borderWidthSelected||2*this.options.borderWidth,s=(n?i:e)/this.body.view.scale;t.lineWidth=Math.min(this.width,s),t.beginPath();let a=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,h=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background;void 0!==r.opacity&&(a=Sv(a,r.opacity),h=Sv(h,r.opacity)),t.strokeStyle=a,t.fillStyle=h,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),uf(t).call(t),this.performStroke(t,r),t.closePath()}this._drawImageAtPosition(t,r),this._drawImageLabel(t,s,a,n,o),this.updateBoundingBox(e,i),t.restore()}updateBoundingBox(t,e){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=e):(this.left=t-this.width/2,this.top=e-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(t,e){return this._distanceToBorder(t,e)}};class Q_ extends U_{constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,r){return this._drawShape(t,"square",2,e,i,n,o,r)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class tx extends U_{constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,r){return this._drawShape(t,"hexagon",4,e,i,n,o,r)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class ex extends U_{constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,r){return this._drawShape(t,"star",4,e,i,n,o,r)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class ix extends z_{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o),this.disableShadow(t,r),this.updateBoundingBox(e,i,t,n,o)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}let nx=class extends U_{constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,r){return this._drawShape(t,"triangle",3,e,i,n,o,r)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}};class ox extends U_{constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,r){return this._drawShape(t,"triangleDown",3,e,i,n,o,r)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}function rx(t,e){var i=Ql(t);if(Gw){var n=Gw(t);e&&(n=Fd(n).call(n,function(e){return r_(t,e).enumerable})),i.push.apply(i,n)}return i}function sx(t){for(var e=1;e<arguments.length;e++){var i,n,o=null!=arguments[e]?arguments[e]:{};e%2?vu(i=rx(Object(o),!0)).call(i,function(e){Mw(t,e,o[e])}):l_?y_(t,l_(o)):vu(n=rx(Object(o))).call(n,function(e){m_(t,e,r_(o,e))})}return t}class ax{constructor(t,e,i,n,o,r){this.options=Nv(o),this.globalOptions=o,this.defaultOptions=r,this.body=e,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new F_(this.body,this.options,!1),this.setOptions(t)}attachEdge(t){var e;-1===Pp(e=this.edges).call(e,t)&&this.edges.push(t)}detachEdge(t){var e;const i=Pp(e=this.edges).call(e,t);var n;-1!=i&&Qu(n=this.edges).call(n,i,1)}setOptions(t){const e=this.options.shape;if(!t)return;if(void 0!==t.color&&(this._localColor=t.color),void 0!==t.id&&(this.id=t.id),void 0===this.id)throw new Error("Node must have an id");ax.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=yp(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=yp(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=Uw(t.value)),ax.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist);const i=[t,this.options,this.defaultOptions];return this.chooser=b_("node",i),this._load_images(),this.updateLabelModule(t),void 0!==t.opacity&&ax.checkOpacity(t.opacity)&&(this.options.opacity=t.opacity),this.updateShape(e),void 0!==t.hidden||void 0!==t.physics}_load_images(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(t){return 0<=t&&t<=1}static checkCoordinateOrigin(t){return void 0===t||"center"===t||"top-left"===t}static updateGroupOptions(t,e,i){var n;if(void 0===i)return;const o=t.group;if(void 0!==e&&void 0!==e.group&&o!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"!=typeof o&&("string"!=typeof o||""==o))return;const r=i.get(o);void 0!==r.opacity&&void 0===e.opacity&&(ax.checkOpacity(r.opacity)||(r.opacity=void 0));const s=Fd(n=Kw(e)).call(n,t=>null!=e[t]);s.push("font"),wv(s,t,r),t.color=Pv(t.color)}static parseOptions(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(wv(["color","fixed","shadow"],t,e,i),ax.checkMass(e),void 0!==t.opacity&&(ax.checkOpacity(t.opacity)||(t.opacity=void 0)),void 0!==e.opacity&&(ax.checkOpacity(e.opacity)||(e.opacity=void 0)),e.shapeProperties&&ax.checkCoordinateOrigin(e.shapeProperties.coordinateOrigin),Bv(t,e,"shadow",n),void 0!==e.color&&null!==e.color){const i=Pv(e.color);mv(t.color,i)}else!0===i&&null===e.color&&(t.color=Nv(n.color));void 0!==e.fixed&&null!==e.fixed&&("boolean"==typeof e.fixed?(t.fixed.x=e.fixed,t.fixed.y=e.fixed):(void 0!==e.fixed.x&&"boolean"==typeof e.fixed.x&&(t.fixed.x=e.fixed.x),void 0!==e.fixed.y&&"boolean"==typeof e.fixed.y&&(t.fixed.y=e.fixed.y))),!0===i&&null===e.font&&(t.font=Nv(n.font)),ax.updateGroupOptions(t,e,o),void 0!==e.scaling&&Bv(t.scaling,e.scaling,"label",n.scaling)}getFormattingValues(){const t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){const e=this.options.opacity;t.borderColor=Sv(t.borderColor,e),t.color=Sv(t.color,e),t.shadowColor=Sv(t.shadowColor,e)}return t}updateLabelModule(t){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),ax.updateGroupOptions(this.options,sx(sx({},t),{},{color:t&&t.color||this._localColor||void 0}),this.grouplist);const e=this.grouplist.get(this.options.group,!1),i=[t,this.options,e,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new L_(this.options,this.body,this.labelModule);break;case"circle":this.shape=new H_(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new W_(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new $_(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Y_(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new X_(this.options,this.body,this.labelModule);break;case"dot":this.shape=new K_(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new G_(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Z_(this.options,this.body,this.labelModule);break;case"image":this.shape=new J_(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Q_(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new tx(this.options,this.body,this.labelModule);break;case"star":this.shape=new ex(this.options,this.body,this.labelModule);break;case"text":this.shape=new ix(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new nx(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new ox(this.options,this.body,this.labelModule)}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(t,e){return this.shape.distanceToBorder(t,e)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(t,e,i){if(void 0!==this.options.value){const n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){const t=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*t}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(t){const e=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)||{}}updateBoundingBox(t){this.shape.updateBoundingBox(this.x,this.y,t)}resize(t){const e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}getItemsOnPoint(t){const e=[];return this.labelModule.visible()&&w_(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),w_(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}isOverlappingWith(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}isBoundingBoxOverlappingWith(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}static checkMass(t,e){if(void 0!==t.mass&&t.mass<=0){let i="";void 0!==e&&(i=" in node id: "+e),t.mass=1}}}class hx{constructor(t,e,i,n){var o;if(this.body=t,this.images=e,this.groups=i,this.layoutEngine=n,this.body.functions.createNode=Wn(o=this.create).call(o,this),this.nodesListeners={add:(t,e)=>{this.add(e.items)},update:(t,e)=>{this.update(e.items,e.data,e.oldData)},remove:(t,e)=>{this.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;{const i=1/(e-t);return Math.max(0,(n-t)*i)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Nv(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t,e;this.body.emitter.on("refreshNodes",Wn(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Wn(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",()=>{kv(this.nodesListeners,(t,e)=>{this.body.data.nodes&&this.body.data.nodes.off(e,t)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(t){if(void 0!==t){if(ax.parseOptions(this.options,t),void 0!==t.opacity&&(Fb(t.opacity)||!Rb(t.opacity)||t.opacity<0||t.opacity>1||(this.options.opacity=t.opacity)),void 0!==t.shape)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(void 0!==t.font||void 0!==t.widthConstraint||void 0!==t.heightConstraint)for(const t of Ql(this.body.nodes))this.body.nodes[t].updateLabelModule(),this.body.nodes[t].needsRefresh();if(void 0!==t.size)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}setData(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.body.data.nodes;if(e.isDataViewLike("id",t))this.body.data.nodes=t;else if(Ul(t))this.body.data.nodes=new e.DataSet,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new e.DataSet}if(n&&kv(this.nodesListeners,function(t,e){n.off(e,t)}),this.body.nodes={},this.body.data.nodes){const t=this;kv(this.nodesListeners,function(e,i){t.body.data.nodes.on(i,e)});const e=this.body.data.nodes.getIds();this.add(e,!0)}!1===i&&this.body.emitter.emit("_dataChanged")}add(t){let e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];for(let i=0;i<t.length;i++){e=t[i];const o=this.body.data.nodes.get(e),r=this.create(o);n.push(r),this.body.nodes[e]=r}this.layoutEngine.positionInitially(n),!1===i&&this.body.emitter.emit("_dataChanged")}update(t,e,i){const n=this.body.nodes;let o=!1;for(let i=0;i<t.length;i++){const r=t[i];let s=n[r];const a=e[i];void 0!==s?s.setOptions(a)&&(o=!0):(o=!0,s=this.create(a),n[r]=s)}o||void 0===i||(o=Yb(e).call(e,function(t,e){const n=i[e];return n&&n.level!==t.level})),!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(t){const e=this.body.nodes;for(let i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}create(t){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ax)(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];kv(this.body.nodes,(e,i)=>{const n=this.body.data.nodes.get(i);void 0!==n&&(!0===t&&e.setOptions({x:null,y:null}),e.setOptions({fixed:!1}),e.setOptions(n))})}getPositions(t){const e={};if(void 0!==t){if(!0===Ul(t)){for(let i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){const n=this.body.nodes[t[i]];e[t[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[t]){const i=this.body.nodes[t];e[t]={x:Math.round(i.x),y:Math.round(i.y)}}}else for(let t=0;t<this.body.nodeIndices.length;t++){const i=this.body.nodes[this.body.nodeIndices[t]];e[this.body.nodeIndices[t]]={x:Math.round(i.x),y:Math.round(i.y)}}return e}getPosition(t){if(null==t)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[t])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(t));return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)}}storePositions(){const t=[],e=this.body.data.nodes.getDataSet();for(const i of e.get()){const e=i.id,n=this.body.nodes[e],o=Math.round(n.x),r=Math.round(n.y);i.x===o&&i.y===r||t.push({id:e,x:o,y:r})}e.update(t)}getBoundingBox(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}getConnectedNodes(t,e){const i=[];if(void 0!==this.body.nodes[t]){const n=this.body.nodes[t],o={};for(let t=0;t<n.edges.length;t++){const r=n.edges[t];"to"!==e&&r.toId==n.id?void 0===o[r.fromId]&&(i.push(r.fromId),o[r.fromId]=!0):"from"!==e&&r.fromId==n.id&&void 0===o[r.toId]&&(i.push(r.toId),o[r.toId]=!0)}}return i}getConnectedEdges(t){const e=[];if(void 0!==this.body.nodes[t]){const i=this.body.nodes[t];for(let t=0;t<i.edges.length;t++)e.push(i.edges[t].id)}return e}moveNode(t,e,i){void 0!==this.body.nodes[t]&&(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),Qp(()=>{this.body.emitter.emit("startSimulation")},0))}}var cx=Ii,lx=Math.hypot,ux=Math.abs,dx=Math.sqrt;cx({target:"Math",stat:!0,arity:2,forced:!!lx&&lx(1/0,NaN)!==1/0},{hypot:function(t,e){for(var i,n,o=0,r=0,s=arguments.length,a=0;r<s;)a<(i=ux(arguments[r++]))?(o=o*(n=a/i)*n+1,a=i):o+=i>0?(n=i/a)*n:i;return a===1/0?1/0:a*dx(o)}});var px=o(nt.Math.hypot);class fx{static transform(t,e){Ul(t)||(t=[t]);const i=e.point.x,n=e.point.y,o=e.angle,r=e.length;for(let e=0;e<t.length;++e){const s=t[e],a=s.x*Math.cos(o)-s.y*Math.sin(o),h=s.x*Math.sin(o)+s.y*Math.cos(o);s.x=i+r*a,s.y=n+r*h}}static drawPath(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(let i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}let gx,vx=class extends fx{static draw(t,e){if(e.image){t.save(),t.translate(e.point.x,e.point.y),t.rotate(Math.PI/2+e.angle);const i=null!=e.imageWidth?e.imageWidth:e.image.width,n=null!=e.imageHeight?e.imageHeight:e.image.height;e.image.drawImageAtPosition(t,1,-i/2,0,i,n),t.restore()}return!1}};class yx extends fx{static draw(t,e){const i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return fx.transform(i,e),fx.drawPath(t,i),!0}}class mx{static draw(t,e){const i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return fx.transform(i,e),fx.drawPath(t,i),!0}}class bx{static draw(t,e){const i={x:-.4,y:0};fx.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,o=e.angle-n/2,r=e.angle+n/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,o,r,!1),t.stroke(),!0}}class wx{static draw(t,e){const i={x:-.3,y:0};fx.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,o=e.angle+n/2,r=e.angle+3*n/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,o,r,!1),t.stroke(),!0}}class _x{static draw(t,e){const i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return fx.transform(i,e),fx.drawPath(t,i),!0}}class xx{static draw(t,e){const i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return fx.transform(i,e),fx.drawPath(t,i),!0}}class Ex{static draw(t,e){const i={x:-.4,y:0};return fx.transform(i,e),Un(t,i.x,i.y,.4*e.length),!0}}class kx{static draw(t,e){const i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return fx.transform(i,e),fx.drawPath(t,i),!0}}class Ox{static draw(t,e){const i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return fx.transform(i,e),fx.drawPath(t,i),!0}}class Sx{static draw(t,e){const i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return fx.transform(i,e),fx.drawPath(t,i),!0}}class Cx{static draw(t,e){const i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return fx.transform(i,e),fx.drawPath(t,i),!0}}class Px{static draw(t,e){let i;switch(e.type&&(i=e.type.toLowerCase()),i){case"image":return vx.draw(t,e);case"circle":return Ex.draw(t,e);case"box":return Ox.draw(t,e);case"crow":return mx.draw(t,e);case"curve":return bx.draw(t,e);case"diamond":return Sx.draw(t,e);case"inv_curve":return wx.draw(t,e);case"triangle":return _x.draw(t,e);case"inv_triangle":return xx.draw(t,e);case"bar":return kx.draw(t,e);case"vee":return Cx.draw(t,e);default:return yx.draw(t,e)}}}function Tx(t,e){var i=Ql(t);if(Gw){var n=Gw(t);e&&(n=Fd(n).call(n,function(e){return r_(t,e).enumerable})),i.push.apply(i,n)}return i}function Ix(t){for(var e=1;e<arguments.length;e++){var i,n,o=null!=arguments[e]?arguments[e]:{};e%2?vu(i=Tx(Object(o),!0)).call(i,function(e){Mw(t,e,o[e])}):l_?y_(t,l_(o)):vu(n=Tx(Object(o))).call(n,function(e){m_(t,e,r_(o,e))})}return t}class Dx{constructor(t,e,i){this._body=e,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(t,e,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,o):this._drawLine(t,e,o)}_drawLine(t,e,i,n,o){if(this.from!=this.to)this._line(t,e,i,n,o);else{const[i,n,o]=this._getCircleData(t);this._circle(t,e,i,n,o)}}_drawDashedLine(t,e,i,n,o){t.lineCap="round";const r=Ul(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(r),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{const[i,n,o]=this._getCircleData(t);this._circle(t,e,i,n,o)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)Yn(t,this.from.x,this.from.y,this.to.x,this.to.y,r);else{const[i,n,o]=this._getCircleData(t);this._circle(t,e,i,n,o)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}findBorderPosition(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}findBorderPositions(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};{var e;const[i,n]=jl(e=this._getCircleData(t)).call(e,0,2);return{from:this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:.6,high:.8,direction:1})}}}_getCircleData(t){const e=this.options.selfReference.size;void 0!==t&&void 0===this.from.shape.width&&this.from.shape.resize(t);const i=x_(t,this.options.selfReference.angle,e,this.from);return[i.x,i.y,e]}_pointOnCircle(t,e,i,n){const o=2*n*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}_findBorderPositionCircle(t,e,i){const n=i.x,o=i.y;let r=i.low,s=i.high;const a=i.direction,h=this.options.selfReference.size;let c,l=.5*(r+s),u=0;!0===this.options.arrowStrikethrough&&(-1===a?u=this.options.endPointOffset.from:1===a&&(u=this.options.endPointOffset.to));let d=0;do{l=.5*(r+s),c=this._pointOnCircle(n,o,h,l);const i=Math.atan2(t.y-c.y,t.x-c.x),p=t.distanceToBorder(e,i)+u-Math.sqrt(Math.pow(c.x-t.x,2)+Math.pow(c.y-t.y,2));if(Math.abs(p)<.05)break;p>0?a>0?r=l:s=l:a>0?s=l:r=l,++d}while(r<=s&&d<10);return Ix(Ix({},c),{},{t:l})}getLineWidth(t,e){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){const i=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let n=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(n=Sv(this.from.options.color.border,e.opacity),o=Sv(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?o=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(n=this.from.options.color.border),i.addColorStop(0,n),i.addColorStop(1,o),i}return"to"===e.inheritsColor?Sv(this.to.options.color.border,e.opacity):Sv(this.from.options.color.border,e.opacity)}return Sv(e.color,e.opacity)}_circle(t,e,i,n,o){this.enableShadow(t,e);let r=0,s=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){const e=this.options.selfReference.angle,o=this.options.selfReference.angle+Math.PI,a=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:e,high:o,direction:-1}),h=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:e,high:o,direction:1});r=Math.atan2(a.y-n,a.x-i),s=Math.atan2(h.y-n,h.x-i)}t.beginPath(),t.arc(i,n,o,r,s,!1),t.stroke(),this.disableShadow(t,e)}getDistanceToEdge(t,e,i,n,o,r){if(this.from!=this.to)return this._getDistanceToEdge(t,e,i,n,o,r);{const[t,e,i]=this._getCircleData(void 0),n=t-o,s=e-r;return Math.abs(Math.sqrt(n*n+s*s)-i)}}_getDistanceToLine(t,e,i,n,o,r){const s=i-t,a=n-e;let h=((o-t)*s+(r-e)*a)/(s*s+a*a);h>1?h=1:h<0&&(h=0);const c=t+h*s-o,l=e+h*a-r;return Math.sqrt(c*c+l*l)}getArrowData(t,e,i,n,o,r){let s,a,h,c,l,u,d;const p=r.width;"from"===e?(h=this.from,c=this.to,l=r.fromArrowScale<0,u=Math.abs(r.fromArrowScale),d=r.fromArrowType):"to"===e?(h=this.to,c=this.from,l=r.toArrowScale<0,u=Math.abs(r.toArrowScale),d=r.toArrowType):(h=this.to,c=this.from,l=r.middleArrowScale<0,u=Math.abs(r.middleArrowScale),d=r.middleArrowType);const f=15*u+3*p;if(h!=c){const n=f/px(h.x-c.x,h.y-c.y);if("middle"!==e)if(!0===this.options.smooth.enabled){const o=this._findBorderPosition(h,t,{via:i}),r=this.getPoint(o.t+n*("from"===e?1:-1),i);s=Math.atan2(o.y-r.y,o.x-r.x),a=o}else s=Math.atan2(h.y-c.y,h.x-c.x),a=this._findBorderPosition(h,t);else{const t=(l?-n:n)/2,e=this.getPoint(.5+t,i),o=this.getPoint(.5-t,i);s=Math.atan2(e.y-o.y,e.x-o.x),a=this.getPoint(.5,i)}}else{const[i,n,o]=this._getCircleData(t);if("from"===e){const e=this.options.selfReference.angle,o=this.options.selfReference.angle+Math.PI,r=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:e,high:o,direction:-1});s=-2*r.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=r}else if("to"===e){const e=this.options.selfReference.angle,o=this.options.selfReference.angle+Math.PI,r=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:e,high:o,direction:1});s=-2*r.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=r}else{const t=this.options.selfReference.angle/(2*Math.PI);a=this._pointOnCircle(i,n,o,t),s=-2*t*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:a,core:{x:a.x-.9*f*Math.cos(s),y:a.y-.9*f*Math.sin(s)},angle:s,length:f,type:d}}drawArrowHead(t,e,i,n,o){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,Px.draw(t,o)&&(this.enableShadow(t,e),uf(t).call(t),this.disableShadow(t,e))}enableShadow(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}disableShadow(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}drawBackground(t,e){if(!1!==e.background){const i={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=i.strokeStyle,t.lineWidth=i.lineWidth,t.dashes=i.dashes,this.setStrokeDashed(t,e.dashes)}}setStrokeDashed(t,e){if(!1!==e){if(void 0!==t.setLineDash){const i=Ul(e)?e:[5,5];t.setLineDash(i)}}else void 0!==t.setLineDash&&t.setLineDash([])}}function Mx(t,e){var i=Ql(t);if(Gw){var n=Gw(t);e&&(n=Fd(n).call(n,function(e){return r_(t,e).enumerable})),i.push.apply(i,n)}return i}function Ax(t){for(var e=1;e<arguments.length;e++){var i,n,o=null!=arguments[e]?arguments[e]:{};e%2?vu(i=Mx(Object(o),!0)).call(i,function(e){Mw(t,e,o[e])}):l_?y_(t,l_(o)):vu(n=Mx(Object(o))).call(n,function(e){m_(t,e,r_(o,e))})}return t}class Nx extends Dx{constructor(t,e,i){super(t,e,i)}_findBorderPositionBezier(t,e){let i,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),r=!1,s=1,a=0,h=this.to,c=this.options.endPointOffset?this.options.endPointOffset.to:0;t.id===this.from.id&&(h=this.from,r=!0,c=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(c=0);let l=0;do{n=.5*(a+s),i=this.getPoint(n,o);const t=Math.atan2(h.y-i.y,h.x-i.x),u=h.distanceToBorder(e,t)+c-Math.sqrt(Math.pow(i.x-h.x,2)+Math.pow(i.y-h.y,2));if(Math.abs(u)<.2)break;u<0?!1===r?a=n:s=n:!1===r?s=n:a=n,++l}while(a<=s&&l<10);return Ax(Ax({},i),{},{t:n})}_getDistanceToBezierEdge(t,e,i,n,o,r,s){let a,h,c,l,u,d=1e9,p=t,f=e;for(h=1;h<10;h++)c=.1*h,l=Math.pow(1-c,2)*t+2*c*(1-c)*s.x+Math.pow(c,2)*i,u=Math.pow(1-c,2)*e+2*c*(1-c)*s.y+Math.pow(c,2)*n,h>0&&(a=this._getDistanceToLine(p,f,l,u,o,r),d=a<d?a:d),p=l,f=u;return d}_bezierCurve(t,e,i,n){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=i&&null!=i.x?null!=n&&null!=n.x?t.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}getViaNode(){return this._getViaCoordinates()}}class Bx extends Nx{constructor(t,e,i){super(t,e,i),this.via=this.via,this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(t){super.setOptions(t);let e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}setupSupportNode(){if(void 0===this.via){const t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}_line(t,e,i){this._bezierCurve(t,e,i)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){const[e,i,n]=this._getCircleData(),o=2*Math.PI*(1-t);return{x:e+n*Math.sin(o),y:i+n-n*(1-Math.cos(o))}}return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}_findBorderPosition(t,e){return this._findBorderPositionBezier(t,e,this.via)}_getDistanceToEdge(t,e,i,n,o,r){return this._getDistanceToBezierEdge(t,e,i,n,o,r,this.via)}}class jx extends Nx{constructor(t,e,i){super(t,e,i)}_line(t,e,i){this._bezierCurve(t,e,i)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const t=this.options.smooth.roundness,e=this.options.smooth.type;let i=Math.abs(this.from.x-this.to.x),n=Math.abs(this.from.y-this.to.y);if("discrete"===e||"diagonalCross"===e){let o,r;o=r=i<=n?t*n:t*i,this.from.x>this.to.x&&(o=-o),this.from.y>=this.to.y&&(r=-r);let s=this.from.x+o,a=this.from.y+r;return"discrete"===e&&(i<=n?s=i<t*n?this.from.x:s:a=n<t*i?this.from.y:a),{x:s,y:a}}if("straightCross"===e){let e=(1-t)*i,o=(1-t)*n;return i<=n?(e=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(e=-e),o=0),{x:this.to.x+e,y:this.to.y+o}}if("horizontal"===e){let e=(1-t)*i;return this.from.x<this.to.x&&(e=-e),{x:this.to.x+e,y:this.from.y}}if("vertical"===e){let e=(1-t)*n;return this.from.y<this.to.y&&(e=-e),{x:this.from.x,y:this.to.y+e}}if("curvedCW"===e){i=this.to.x-this.from.x,n=this.from.y-this.to.y;const e=Math.sqrt(i*i+n*n),o=Math.PI,r=(Math.atan2(n,i)+(.5*t+.5)*o)%(2*o);return{x:this.from.x+(.5*t+.5)*e*Math.sin(r),y:this.from.y+(.5*t+.5)*e*Math.cos(r)}}if("curvedCCW"===e){i=this.to.x-this.from.x,n=this.from.y-this.to.y;const e=Math.sqrt(i*i+n*n),o=Math.PI,r=(Math.atan2(n,i)+(.5*-t+.5)*o)%(2*o);return{x:this.from.x+(.5*t+.5)*e*Math.sin(r),y:this.from.y+(.5*t+.5)*e*Math.cos(r)}}{let e,o;e=o=i<=n?t*n:t*i,this.from.x>this.to.x&&(e=-e),this.from.y>=this.to.y&&(o=-o);let r=this.from.x+e,s=this.from.y+o;return i<=n?r=this.from.x<=this.to.x?this.to.x<r?this.to.x:r:this.to.x>r?this.to.x:r:s=this.from.y>=this.to.y?this.to.y>s?this.to.y:s:this.to.y<s?this.to.y:s,{x:r,y:s}}}_findBorderPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}_getDistanceToEdge(t,e,i,n,o,r){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,n,o,r,s)}getPoint(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates();const i=t;return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y}}}class Fx extends Nx{constructor(t,e,i){super(t,e,i)}_getDistanceToBezierEdge2(t,e,i,n,o,r,s,a){let h=1e9,c=t,l=e;const u=[0,0,0,0];for(let d=1;d<10;d++){const p=.1*d;u[0]=Math.pow(1-p,3),u[1]=3*p*Math.pow(1-p,2),u[2]=3*Math.pow(p,2)*(1-p),u[3]=Math.pow(p,3);const f=u[0]*t+u[1]*s.x+u[2]*a.x+u[3]*i,g=u[0]*e+u[1]*s.y+u[2]*a.y+u[3]*n;if(d>0){const t=this._getDistanceToLine(c,l,f,g,o,r);h=t<h?t:h}c=f,l=g}return h}}class zx extends Fx{constructor(t,e,i){super(t,e,i)}_line(t,e,i){const n=i[0],o=i[1];this._bezierCurve(t,e,n,o)}_getViaCoordinates(){const t=this.from.x-this.to.x,e=this.from.y-this.to.y;let i,n,o,r;const s=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(n=this.from.y,r=this.to.y,i=this.from.x-s*t,o=this.to.x+s*t):(n=this.from.y-s*e,r=this.to.y+s*e,i=this.from.x,o=this.to.x),[{x:i,y:n},{x:o,y:r}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(t,e){return this._findBorderPositionBezier(t,e)}_getDistanceToEdge(t,e,i,n,o,r){let[s,a]=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(t,e,i,n,o,r,s,a)}getPoint(t){let[e,i]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates();const n=t,o=[Math.pow(1-n,3),3*n*Math.pow(1-n,2),3*Math.pow(n,2)*(1-n),Math.pow(n,3)];return{x:o[0]*this.fromPoint.x+o[1]*e.x+o[2]*i.x+o[3]*this.toPoint.x,y:o[0]*this.fromPoint.y+o[1]*e.y+o[2]*i.y+o[3]*this.toPoint.y}}}class Lx extends Dx{constructor(t,e,i){super(t,e,i)}_line(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}getViaNode(){}getPoint(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}_findBorderPosition(t,e){let i=this.to,n=this.from;t.id===this.from.id&&(i=this.from,n=this.to);const o=Math.atan2(i.y-n.y,i.x-n.x),r=i.x-n.x,s=i.y-n.y,a=Math.sqrt(r*r+s*s),h=(a-t.distanceToBorder(e,o))/a;return{x:(1-h)*n.x+h*i.x,y:(1-h)*n.y+h*i.y,t:0}}_getDistanceToEdge(t,e,i,n,o,r){return this._getDistanceToLine(t,e,i,n,o,r)}}class Rx{constructor(t,e,i,n,o){if(void 0===e)throw new Error("No body provided");this.options=Nv(n),this.globalOptions=n,this.defaultOptions=o,this.body=e,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new F_(this.body,this.options,!0),this.setOptions(t)}setOptions(t){if(!t)return;let e=void 0!==t.physics&&this.options.physics!==t.physics||void 0!==t.hidden&&(this.options.hidden||!1)!==(t.hidden||!1)||void 0!==t.from&&this.options.from!==t.from||void 0!==t.to&&this.options.to!==t.to;Rx.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=Uw(t.value));const i=[t,this.options,this.defaultOptions];return this.chooser=b_("edge",i),this.updateLabelModule(t),e=this.updateEdgeType()||e,this._setInteractionWidths(),this.connect(),e}static parseOptions(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(bv(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],t,e,i),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.from&&(Rb(e.endPointOffset.from)?t.endPointOffset.from=e.endPointOffset.from:t.endPointOffset.from=void 0!==n.endPointOffset.from?n.endPointOffset.from:0),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.to&&(Rb(e.endPointOffset.to)?t.endPointOffset.to=e.endPointOffset.to:t.endPointOffset.to=void 0!==n.endPointOffset.to?n.endPointOffset.to:0),__(e.label)?t.label=e.label:__(t.label)||(t.label=void 0),Bv(t,e,"smooth",n),Bv(t,e,"shadow",n),Bv(t,e,"background",n),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=Ip(n.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),Bv(t.scaling,e.scaling,"label",n.scaling)):!0===i&&null===e.scaling&&(t.scaling=Ip(n.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){const i=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=Pp(i).call(i,"to"),t.arrows.middle.enabled=-1!=Pp(i).call(i,"middle"),t.arrows.from.enabled=-1!=Pp(i).call(i,"from")}else{if("object"!=typeof e.arrows)throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Np(e.arrows));Bv(t.arrows,e.arrows,"to",n.arrows),Bv(t.arrows,e.arrows,"middle",n.arrows),Bv(t.arrows,e.arrows,"from",n.arrows)}else!0===i&&null===e.arrows&&(t.arrows=Ip(n.arrows));if(void 0!==e.color&&null!==e.color){const r=gv(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,s=t.color;if(o)_v(s,n.color,!1,i);else for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&delete s[t];if(gv(s))s.color=s,s.highlight=s,s.hover=s,s.inherit=!1,void 0===r.opacity&&(s.opacity=1);else{let t=!1;void 0!==r.color&&(s.color=r.color,t=!0),void 0!==r.highlight&&(s.highlight=r.highlight,t=!0),void 0!==r.hover&&(s.hover=r.hover,t=!0),void 0!==r.inherit&&(s.inherit=r.inherit),void 0!==r.opacity&&(s.opacity=Math.min(1,Math.max(0,r.opacity))),!0===t?s.inherit=!1:void 0===s.inherit&&(s.inherit="from")}}else!0===i&&null===e.color&&(t.color=Nv(n.color));!0===i&&null===e.font&&(t.font=Nv(n.font)),Object.prototype.hasOwnProperty.call(e,"selfReferenceSize")&&(t.selfReference.size=e.selfReferenceSize)}getFormattingValues(){const t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,i=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,n=this.options.color.inherit,o={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){const t=this.options.selectionWidth;"function"==typeof t?o.width=t(o.width):"number"==typeof t&&(o.width+=t),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){const t=this.options.hoverWidth;"function"==typeof t?o.width=t(o.width):"number"==typeof t&&(o.width+=t),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}updateLabelModule(t){const e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const t=this.options.smooth;let e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof Bx&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof zx&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof jx&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof Lx&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new Bx(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new zx(this.options,this.body,this.labelModule):this.edgeType=new jx(this.options,this.body,this.labelModule):this.edgeType=new Lx(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(t,e,i){if(void 0!==this.options.value){const n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){const t=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*t}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(t){const e=this.getFormattingValues();if(e.hidden)return;const i=this.edgeType.getViaNode();this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawLabel(t,i)}drawArrows(t){const e=this.getFormattingValues();if(e.hidden)return;const i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(n.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core),e.fromArrowSrc&&(n.from.image=this.imagelist.load(e.fromArrowSrc)),e.fromArrowImageWidth&&(n.from.imageWidth=e.fromArrowImageWidth),e.fromArrowImageHeight&&(n.from.imageHeight=e.fromArrowImageHeight)),e.toArrow&&(n.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core),e.toArrowSrc&&(n.to.image=this.imagelist.load(e.toArrowSrc)),e.toArrowImageWidth&&(n.to.imageWidth=e.toArrowImageWidth),e.toArrowImageHeight&&(n.to.imageHeight=e.toArrowImageHeight)),e.middleArrow&&(n.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e),e.middleArrowSrc&&(n.middle.image=this.imagelist.load(e.middleArrowSrc)),e.middleArrowImageWidth&&(n.middle.imageWidth=e.middleArrowImageWidth),e.middleArrowImageHeight&&(n.middle.imageHeight=e.middleArrowImageHeight)),e.fromArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.from),e.middleArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.middle),e.toArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.to)}drawLabel(t,e){if(void 0!==this.options.label){const i=this.from,n=this.to;let o;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=n.id){this.labelModule.pointToSelf=!1,o=this.edgeType.getPoint(.5,e),t.save();const i=this._getRotation(t);0!=i.angle&&(t.translate(i.x,i.y),t.rotate(i.angle)),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;const e=x_(t,this.options.selfReference.angle,this.options.selfReference.size,i);o=this._pointOnCircle(e.x,e.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover)}}}getItemsOnPoint(t){const e=[];if(this.labelModule.visible()){const i=this._getRotation();w_(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}const i={left:t.x,top:t.y};return this.isOverlappingWith(i)&&e.push({edgeId:this.id}),e}isOverlappingWith(t){if(this.connected){const e=10,i=this.from.x,n=this.from.y,o=this.to.x,r=this.to.y,s=t.left,a=t.top;return this.edgeType.getDistanceToEdge(i,n,o,r,s,a)<e}return!1}_getRotation(t){const e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);const n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return n;if("horizontal"===this.options.font.align)return n;const o=this.from.y-this.to.y,r=this.from.x-this.to.x;let s=Math.atan2(o,r);return(s<-1&&r<0||s>0&&r<0)&&(s+=Math.PI),n.angle=s,n}_pointOnCircle(t,e,i,n){return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}class Hx{constructor(t,e,i){var n;this.body=t,this.images=e,this.groups=i,this.body.functions.createEdge=Wn(n=this.create).call(n,this),this.edgesListeners={add:(t,e)=>{this.add(e.items)},update:(t,e)=>{this.update(e.items)},remove:(t,e)=>{this.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;{const i=1/(e-t);return Math.max(0,(n-t)*i)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},_v(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t,e,i=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");let n=!1;for(const e in i.body.edges)if(Object.prototype.hasOwnProperty.call(i.body.edges,e)){const o=i.body.edges[e],r=i.body.data.edges.get(e);if(null!=r){const e=r.smooth;void 0!==e&&!0===e.enabled&&"dynamic"===e.type&&(void 0===t?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:t}}),n=!0)}}!0===e&&!0===n&&i.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",Wn(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Wn(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",()=>{kv(this.edgesListeners,(t,e)=>{this.body.data.edges&&this.body.data.edges.off(e,t)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(t){if(void 0!==t){Rx.parseOptions(this.options,t,!0,this.defaultOptions,!0);let e=!1;if(void 0!==t.smooth)for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&(e=this.body.edges[t].updateEdgeType()||e);if(void 0!==t.font)for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&this.body.edges[t].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}setData(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.body.data.edges;if(e.isDataViewLike("id",t))this.body.data.edges=t;else if(Ul(t))this.body.data.edges=new e.DataSet,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new e.DataSet}if(n&&kv(this.edgesListeners,(t,e)=>{n.off(e,t)}),this.body.edges={},this.body.data.edges){kv(this.edgesListeners,(t,e)=>{this.body.data.edges.on(e,t)});const t=this.body.data.edges.getIds();this.add(t,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}add(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.body.edges,n=this.body.data.edges;for(let e=0;e<t.length;e++){const o=t[e],r=i[o];r&&r.disconnect();const s=n.get(o,{showInternalIds:!0});i[o]=this.create(s)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}update(t){const e=this.body.edges,i=this.body.data.edges;let n=!1;for(let o=0;o<t.length;o++){const r=t[o],s=i.get(r),a=e[r];void 0!==a?(a.disconnect(),n=a.setOptions(s)||n,a.connect()):(this.body.edges[r]=this.create(s),n=!0)}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0===t.length)return;const i=this.body.edges;kv(t,t=>{const e=i[t];void 0!==e&&e.remove()}),e&&this.body.emitter.emit("_dataChanged")}refresh(){kv(this.body.edges,(t,e)=>{const i=this.body.data.edges.get(e);void 0!==i&&t.setOptions(i)})}create(t){return new Rx(t,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let t;const e=this.body.nodes,i=this.body.edges;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t].edges=[]);for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)){const e=i[t];e.from=null,e.to=null,e.connect()}}getConnectedNodes(t){const e=[];if(void 0!==this.body.edges[t]){const i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const t=[];kv(this.body.edges,(e,i)=>{const n=this.body.nodes[e.toId],o=this.body.nodes[e.fromId];void 0!==n&&!0===n.isCluster||void 0!==o&&!0===o.isCluster||void 0!==n&&void 0!==o||t.push(i)}),this.remove(t,!1)}_addMissingEdges(){const t=this.body.data.edges;if(null==t)return;const e=this.body.edges,i=[];vu(t).call(t,(t,n)=>{void 0===e[n]&&i.push(n)}),this.add(i,!0)}}class Wx{constructor(t,e,i){this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(i),this._rng=av("BARNES HUT SOLVER")}setOptions(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){let t;const e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,o=this._formBarnesHutTree(e,i);this.barnesHutTree=o;for(let r=0;r<n;r++)t=e[i[r]],t.options.mass>0&&this._getForceContributions(o.root,t)}}_getForceContributions(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}_getForceContribution(t,e){if(t.childrenCount>0){const i=t.centerOfMass.x-e.x,n=t.centerOfMass.y-e.y,o=Math.sqrt(i*i+n*n);o*t.calcSize>this.thetaInversed?this._calculateForces(o,i,n,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(o,i,n,e,t)}}_calculateForces(t,e,i,n,o){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));const r=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(t,3),s=e*r,a=i*r;this.physicsBody.forces[n.id].x+=s,this.physicsBody.forces[n.id].y+=a}_formBarnesHutTree(t,e){let i;const n=e.length;let o=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y;for(let i=1;i<n;i++){const n=t[e[i]],h=n.x,c=n.y;n.options.mass>0&&(h<o&&(o=h),h>s&&(s=h),c<r&&(r=c),c>a&&(a=c))}const h=Math.abs(s-o)-Math.abs(a-r);h>0?(r-=.5*h,a+=.5*h):(o+=.5*h,s-=.5*h);const c=Math.max(1e-5,Math.abs(s-o)),l=.5*c,u=.5*(o+s),d=.5*(r+a),p={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:u-l,maxX:u+l,minY:d-l,maxY:d+l},size:c,calcSize:1/c,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(p.root);for(let o=0;o<n;o++)i=t[e[o]],i.options.mass>0&&this._placeInTree(p.root,i);return p}_updateBranchMass(t,e){const i=t.centerOfMass,n=t.mass+e.options.mass,o=1/n;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=o,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=o,t.mass=n;const r=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<r?r:t.maxWidth}_placeInTree(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);const n=t.children.NW.range;let o;o=n.maxX>e.x?n.maxY>e.y?"NW":"SW":n.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,o)}_placeInRegion(t,e,i){const n=t.children[i];switch(n.childrenCount){case 0:n.children.data=e,n.childrenCount=1,this._updateBranchMass(n,e);break;case 1:n.children.data.x===e.x&&n.children.data.y===e.y?(e.x+=this._rng(),e.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,e));break;case 4:this._placeInTree(n,e)}}_splitBranch(t){let e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}_insertRegion(t,e){let i,n,o,r;const s=.5*t.size;switch(e){case"NW":i=t.range.minX,n=t.range.minX+s,o=t.range.minY,r=t.range.minY+s;break;case"NE":i=t.range.minX+s,n=t.range.maxX,o=t.range.minY,r=t.range.minY+s;break;case"SW":i=t.range.minX,n=t.range.minX+s,o=t.range.minY+s,r=t.range.maxY;break;case"SE":i=t.range.minX+s,n=t.range.maxX,o=t.range.minY+s,r=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:o,maxY:r},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}_debug(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}_drawBranch(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}class Ux{constructor(t,e,i){this._rng=av("REPULSION SOLVER"),this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,n,o,r,s,a;const h=this.body.nodes,c=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,u=this.options.nodeDistance,d=-2/3/u;for(let p=0;p<c.length-1;p++){s=h[c[p]];for(let f=p+1;f<c.length;f++)a=h[c[f]],t=a.x-s.x,e=a.y-s.y,i=Math.sqrt(t*t+e*e),0===i&&(i=.1*this._rng(),t=i),i<2*u&&(r=i<.5*u?1:d*i+1.3333333333333333,r/=i,n=t*r,o=e*r,l[s.id].x-=n,l[s.id].y-=o,l[a.id].x+=n,l[a.id].y+=o)}}}class Vx{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,n=this.options.nodeDistance;for(let o=0;o<e.length-1;o++){const r=t[e[o]];for(let s=o+1;s<e.length;s++){const o=t[e[s]];if(r.level===o.level){const t=n+this.overlapAvoidanceFactor*((r.shape.radius||0)/2+(o.shape.radius||0)/2),e=o.x-r.x,s=o.y-r.y,a=Math.sqrt(e*e+s*s),h=.05;let c;c=a<t?-Math.pow(h*a,2)+Math.pow(h*t,2):0,0!==a&&(c/=a);const l=e*c,u=s*c;i[r.id].x-=l,i[r.id].y-=u,i[o.id].x+=l,i[o.id].y+=u}}}}}class qx{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e;const i=this.physicsBody.physicsEdgeIndices,n=this.body.edges;let o,r,s;for(let a=0;a<i.length;a++)e=n[i[a]],!0===e.connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,o=e.to,r=e.edgeType.via,s=e.from,this._calculateSpringForce(o,r,.5*t),this._calculateSpringForce(r,s,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}_calculateSpringForce(t,e,i){const n=t.x-e.x,o=t.y-e.y,r=Math.max(Math.sqrt(n*n+o*o),.01),s=this.options.springConstant*(i-r)/r,a=n*s,h=o*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=h),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=h)}}class $x{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,n,o,r,s,a;const h=this.body.edges,c=.5,l=this.physicsBody.physicsEdgeIndices,u=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces;for(let t=0;t<u.length;t++){const e=u[t];d[e].springFx=0,d[e].springFy=0}for(let u=0;u<l.length;u++)e=h[l[u]],!0===e.connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,n=e.from.y-e.to.y,a=Math.sqrt(i*i+n*n),a=0===a?.01:a,s=this.options.springConstant*(t-a)/a,o=i*s,r=n*s,e.to.level!=e.from.level?(void 0!==d[e.toId]&&(d[e.toId].springFx-=o,d[e.toId].springFy-=r),void 0!==d[e.fromId]&&(d[e.fromId].springFx+=o,d[e.fromId].springFy+=r)):(void 0!==d[e.toId]&&(d[e.toId].x-=c*o,d[e.toId].y-=c*r),void 0!==d[e.fromId]&&(d[e.fromId].x+=c*o,d[e.fromId].y+=c*r)));let p,f;s=1;for(let t=0;t<u.length;t++){const e=u[t];p=Math.min(s,Math.max(-s,d[e].springFx)),f=Math.min(s,Math.max(-s,d[e].springFy)),d[e].x+=p,d[e].y+=f}let g=0,v=0;for(let t=0;t<u.length;t++){const e=u[t];g+=d[e].x,v+=d[e].y}const y=g/u.length,m=v/u.length;for(let t=0;t<u.length;t++){const e=u[t];d[e].x-=y,d[e].y-=m}}}class Yx{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,n;const o=this.body.nodes,r=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces;for(let a=0;a<r.length;a++)n=o[r[a]],t=-n.x,e=-n.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,s,n)}_calculateForces(t,e,i,n,o){const r=0===t?0:this.options.centralGravity/t;n[o.id].x=e*r,n[o.id].y=i*r}}class Xx extends Wx{constructor(t,e,i){super(t,e,i),this._rng=av("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(t,e,i,n,o){0===t&&(e=t=.1*this._rng()),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));const r=n.edges.length+1,s=this.options.gravitationalConstant*o.mass*n.options.mass*r/Math.pow(t,2),a=e*s,h=i*s;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=h}}class Kx extends Yx{constructor(t,e,i){super(t,e,i)}_calculateForces(t,e,i,n,o){if(t>0){const t=o.edges.length+1,r=this.options.centralGravity*t*o.options.mass;n[o.id].x=e*r,n[o.id].y=i*r}}}class Gx{constructor(t){this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},_n(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),!0===this.ready&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{!0===this.ready&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(t){if(void 0!==t)if(!1===t)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===t)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,wv(["stabilization"],this.options,t),Bv(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());const e=this.options.wind;e&&(("number"!=typeof e.x||Fb(e.x))&&(e.x=0),("number"!=typeof e.y||Fb(e.y))&&(e.y=0)),this.timestep=this.options.timestep}this.init()}init(){let t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new Xx(this.body,this.physicsBody,t),this.edgesSolver=new qx(this.body,this.physicsBody,t),this.gravitySolver=new Kx(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new Ux(this.body,this.physicsBody,t),this.edgesSolver=new qx(this.body,this.physicsBody,t),this.gravitySolver=new Yx(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new Vx(this.body,this.physicsBody,t),this.edgesSolver=new $x(this.body,this.physicsBody,t),this.gravitySolver=new Yx(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new Wx(this.body,this.physicsBody,t),this.edgesSolver=new qx(this.body,this.physicsBody,t),this.gravitySolver=new Yx(this.body,this.physicsBody,t)),this.modelOptions=t}initPhysics(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){var t;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=Wn(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}stopSimulation(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const t=nu();this.physicsTick(),(nu()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}_emitStabilized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&Qp(()=>{this.body.emitter.emit("stabilized",{iterations:t}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const t=this.body.nodes,e=this.body.edges;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&!0===t[e].options.physics&&this.physicsBody.physicsNodeIndices.push(t[e].id);for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&!0===e[t].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[t].id);for(let t=0;t<this.physicsBody.physicsNodeIndices.length;t++){const e=this.physicsBody.physicsNodeIndices[t];this.physicsBody.forces[e]={x:0,y:0},void 0===this.physicsBody.velocities[e]&&(this.physicsBody.velocities[e]={x:0,y:0})}for(const e in this.physicsBody.velocities)void 0===t[e]&&delete this.physicsBody.velocities[e]}revert(){const t=Ql(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(let n=0;n<t.length;n++){const o=t[n];void 0!==e[o]?!0===e[o].options.physics&&(this.referenceState[o]={positions:{x:e[o].x,y:e[o].y}},i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,e[o].x=this.previousStates[o].x,e[o].y=this.previousStates[o].y):delete this.previousStates[o]}}_evaluateStepQuality(){let t,e,i;const n=this.body.nodes,o=this.referenceState;for(const r in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,r)&&void 0!==n[r]&&(t=n[r].x-o[r].positions.x,e=n[r].y-o[r].positions.y,i=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),i>.3))return!1;return!0}moveNodes(){const t=this.physicsBody.physicsNodeIndices;let e=0,i=0;for(let n=0;n<t.length;n++){const o=t[n],r=this._performStep(o);e=Math.max(e,r),i+=r}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}calculateComponentVelocity(t,e,i){t+=(e-this.modelOptions.damping*t)/i*this.timestep;const n=this.options.maxVelocity||1e9;return Math.abs(t)>n&&(t=t>0?n:-n),t}_performStep(t){const e=this.body.nodes[t],i=this.physicsBody.forces[t];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);const n=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:n.x,vy:n.y},!1===e.options.fixed.x?(n.x=this.calculateComponentVelocity(n.x,i.x,e.options.mass),e.x+=n.x*this.timestep):(i.x=0,n.x=0),!1===e.options.fixed.y?(n.y=this.calculateComponentVelocity(n.y,i.y,e.options.mass),e.y+=n.y*this.timestep):(i.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}_freezeNodes(){const t=this.body.nodes;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].x&&t[e].y){const i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}_restoreFrozenNodes(){const t=this.body.nodes;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}stabilize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof t&&(t=this.options.stabilization.iterations),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,Qp(()=>this._stabilizationBatch(),0)):this.ready=!0}_startStabilizing(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const t=()=>!1===this.stabilized&&this.stabilizationIterations<this.targetIterations,e=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&e();let i=0;for(;t()&&i<this.options.stabilization.updateInterval;)this.physicsTick(),i++;var n;e(),t()?Qp(Wn(n=this._stabilizationBatch).call(n,this),0):this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(t){for(let e=0;e<this.physicsBody.physicsNodeIndices.length;e++){const i=this.physicsBody.physicsNodeIndices[e],n=this.body.nodes[i],o=this.physicsBody.forces[i],r=20,s=.03,a=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),h=Math.min(Math.max(5,a),15),c=3*h,l=Dv((180-180*Math.min(1,Math.max(0,s*a)))/360,1,1),u={x:n.x+r*o.x,y:n.y+r*o.y};t.lineWidth=h,t.strokeStyle=l,t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(u.x,u.y),t.stroke();const d=Math.atan2(o.y,o.x);t.fillStyle=l,Px.draw(t,{type:"arrow",point:u,angle:d,length:c}),uf(t).call(t)}}}const Zx=new Uint8Array(16);function Jx(){if(!gx&&(gx="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!gx))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gx(Zx)}const Qx=[];for(let t=0;t<256;++t)Qx.push((t+256).toString(16).slice(1));var tE={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function eE(t,e,i){if(tE.randomUUID&&!e&&!t)return tE.randomUUID();const n=(t=t||{}).random||(t.rng||Jx)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){i=i||0;for(let t=0;t<16;++t)e[i+t]=n[t];return e}return function(t,e=0){return Qx[t[e+0]]+Qx[t[e+1]]+Qx[t[e+2]]+Qx[t[e+3]]+"-"+Qx[t[e+4]]+Qx[t[e+5]]+"-"+Qx[t[e+6]]+Qx[t[e+7]]+"-"+Qx[t[e+8]]+Qx[t[e+9]]+"-"+Qx[t[e+10]]+Qx[t[e+11]]+Qx[t[e+12]]+Qx[t[e+13]]+Qx[t[e+14]]+Qx[t[e+15]]}(n)}class iE{constructor(){}static getRange(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,o=-1e9,r=1e9,s=-1e9;if(i.length>0)for(let a=0;a<i.length;a++)e=t[i[a]],r>e.shape.boundingBox.left&&(r=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),n>e.shape.boundingBox.top&&(n=e.shape.boundingBox.top),o<e.shape.boundingBox.bottom&&(o=e.shape.boundingBox.bottom);return 1e9===r&&-1e9===s&&1e9===n&&-1e9===o&&(n=0,o=0,r=0,s=0),{minX:r,maxX:s,minY:n,maxY:o}}static getRangeCore(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,o=-1e9,r=1e9,s=-1e9;if(i.length>0)for(let a=0;a<i.length;a++)e=t[i[a]],r>e.x&&(r=e.x),s<e.x&&(s=e.x),n>e.y&&(n=e.y),o<e.y&&(o=e.y);return 1e9===r&&-1e9===s&&1e9===n&&-1e9===o&&(n=0,o=0,r=0,s=0),{minX:r,maxX:s,minY:n,maxY:o}}static findCenter(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}static cloneOptions(t,e){const i={};return void 0===e||"node"===e?(_v(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):_v(i,t.options,!0),i}}class nE extends ax{constructor(t,e,i,n,o,r){super(t,e,i,n,o,r),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(t){const e=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!e.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],kv(e.edges,t=>{delete this.containedEdges[t.id]}),kv(e.containedNodes,(t,e)=>{this.containedNodes[e]=t}),e.containedNodes={},kv(e.containedEdges,(t,e)=>{this.containedEdges[e]=t}),e.containedEdges={},kv(e.edges,t=>{kv(this.edges,e=>{var i,n;const o=Pp(i=e.clusteringEdgeReplacingIds).call(i,t.id);-1!==o&&(kv(t.clusteringEdgeReplacingIds,t=>{e.clusteringEdgeReplacingIds.push(t),this.body.edges[t].edgeReplacedById=e.id}),Qu(n=e.clusteringEdgeReplacingIds).call(n,o,1))})}),e.edges=[]}}class oE{constructor(t){this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},_n(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(t,e){void 0===t?t=this._getHubSize():"object"==typeof t&&(e=this._checkOptions(t),t=this._getHubSize());const i=[];for(let e=0;e<this.body.nodeIndices.length;e++){const n=this.body.nodes[this.body.nodeIndices[e]];n.edges.length>=t&&i.push(n.id)}for(let t=0;t<i.length;t++)this.clusterByConnection(i[t],e,!0);this.body.emitter.emit("_dataChanged")}cluster(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);const i={},n={};kv(this.body.nodes,(e,o)=>{e.options&&!0===t.joinCondition(e.options)&&(i[o]=e,kv(e.edges,t=>{void 0===this.clusteredEdges[t.id]&&(n[t.id]=t)}))}),this._cluster(i,n,t,e)}clusterByEdgeCount(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);const n=[],o={};let r,s,a;for(let i=0;i<this.body.nodeIndices.length;i++){const h={},c={},l=this.body.nodeIndices[i],u=this.body.nodes[l];if(void 0===o[l]){a=0,s=[];for(let t=0;t<u.edges.length;t++)r=u.edges[t],void 0===this.clusteredEdges[r.id]&&(r.toId!==r.fromId&&a++,s.push(r));if(a===t){const t=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;const i=iE.cloneOptions(t);return e.joinCondition(i)};let i=!0;for(let e=0;e<s.length;e++){r=s[e];const n=this._getConnectedId(r,l);if(!t(u)){i=!1;break}c[r.id]=r,h[l]=u,h[n]=this.body.nodes[n],o[l]=!0}if(Ql(h).length>0&&Ql(c).length>0&&!0===i){const t=function(){for(let t=0;t<n.length;++t)for(const e in h)if(void 0!==n[t].nodes[e])return n[t]}();if(void 0!==t){for(const e in h)void 0===t.nodes[e]&&(t.nodes[e]=h[e]);for(const e in c)void 0===t.edges[e]&&(t.edges[e]=c[e])}else n.push({nodes:h,edges:c})}}}}for(let t=0;t<n.length;t++)this._cluster(n[t].nodes,n[t].edges,e,!1);!0===i&&this.body.emitter.emit("_dataChanged")}clusterOutliers(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}clusterBridges(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}clusterByConnection(t,e){var i;let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");const o=this.body.nodes[t];void 0===(e=this._checkOptions(e,o)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=o.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=o.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=o.options.fixed.x,e.clusterNodeProperties.fixed.y=o.options.fixed.y);const r={},s={},a=o.id,h=iE.cloneOptions(o);r[a]=o;for(let t=0;t<o.edges.length;t++){const i=o.edges[t];if(void 0===this.clusteredEdges[i.id]){const t=this._getConnectedId(i,a);if(void 0===this.clusteredNodes[t])if(t!==a)if(void 0===e.joinCondition)s[i.id]=i,r[t]=this.body.nodes[t];else{const n=iE.cloneOptions(this.body.nodes[t]);!0===e.joinCondition(h,n)&&(s[i.id]=i,r[t]=this.body.nodes[t])}else s[i.id]=i}}const c=Gl(i=Ql(r)).call(i,function(t){return r[t].id});for(const t in r){if(!Object.prototype.hasOwnProperty.call(r,t))continue;const e=r[t];for(let t=0;t<e.edges.length;t++){const i=e.edges[t];Pp(c).call(c,this._getConnectedId(i,e.id))>-1&&(s[i.id]=i)}}this._cluster(r,s,e,n)}_createClusterEdges(t,e,i,n){let o,r,s,a,h,c;const l=Ql(t),u=[];for(let n=0;n<l.length;n++){r=l[n],s=t[r];for(let n=0;n<s.edges.length;n++)o=s.edges[n],void 0===this.clusteredEdges[o.id]&&(o.toId==o.fromId?e[o.id]=o:o.toId==r?(a=i.id,h=o.fromId,c=h):(a=o.toId,h=i.id,c=a),void 0===t[c]&&u.push({edge:o,fromId:h,toId:a}))}const d=[],p=function(t){for(let e=0;e<d.length;e++){const i=d[e],n=t.fromId===i.fromId&&t.toId===i.toId,o=t.fromId===i.toId&&t.toId===i.fromId;if(n||o)return i}return null};for(let t=0;t<u.length;t++){const e=u[t],i=e.edge;let o=p(e);null===o?(o=this._createClusteredEdge(e.fromId,e.toId,i,n),d.push(o)):o.clusteringEdgeReplacingIds.push(i.id),this.body.edges[i.id].edgeReplacedById=o.id,this._backupEdgeOptions(i),i.setOptions({physics:!1})}}_checkOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}_cluster(t,e,i){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=[];for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.clusteredNodes[e]&&o.push(e);for(let e=0;e<o.length;++e)delete t[o[e]];if(0==Ql(t).length)return;if(1==Ql(t).length&&1!=i.clusterNodeProperties.allowSingleNodeCluster)return;let r=_v({},i.clusterNodeProperties);if(void 0!==i.processProperties){const n=[];for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const i=iE.cloneOptions(t[e]);n.push(i)}const o=[];for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"clusterEdge:"!==t.substr(0,12)){const i=iE.cloneOptions(e[t],"edge");o.push(i)}if(r=i.processProperties(r,n,o),!r)throw new Error("The processProperties function does not return properties!")}void 0===r.id&&(r.id="cluster:"+eE());const s=r.id;let a;void 0===r.label&&(r.label="cluster"),void 0===r.x&&(a=this._getClusterPosition(t),r.x=a.x),void 0===r.y&&(void 0===a&&(a=this._getClusterPosition(t)),r.y=a.y),r.id=s;const h=this.body.functions.createNode(r,nE);h.containedNodes=t,h.containedEdges=e,h.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[r.id]=h,this._clusterEdges(t,e,r,i.clusterEdgeProperties),r.id=void 0,!0===n&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}_restoreEdge(t){const e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}isCluster(t){return void 0!==this.body.nodes[t]&&!0===this.body.nodes[t].isCluster}_getClusterPosition(t){const e=Ql(t);let i,n=t[e[0]].x,o=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].y;for(let a=1;a<e.length;a++)i=t[e[a]],n=i.x<n?i.x:n,o=i.x>o?i.x:o,r=i.y<r?i.y:r,s=i.y>s?i.y:s;return{x:.5*(n+o),y:.5*(r+s)}}openCluster(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");const n=this.body.nodes[t];if(void 0===n)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");const o=this.findNode(t),r=Pp(o).call(o,t)-1;if(r>=0){const e=o[r];return this.body.nodes[e]._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}const s=n.containedNodes,a=n.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){const t={},i={x:n.x,y:n.y};for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e)){const i=this.body.nodes[e];t[e]={x:i.x,y:i.y}}const o=e.releaseFunction(i,t);for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)){const e=this.body.nodes[t];void 0!==o[t]&&(e.x=void 0===o[t].x?n.x:o[t].x,e.y=void 0===o[t].y?n.y:o[t].y)}}else kv(s,function(t){!1===t.options.fixed.x&&(t.x=n.x),!1===t.options.fixed.y&&(t.y=n.y)});for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)){const e=this.body.nodes[t];e.vx=n.vx,e.vy=n.vy,e.setOptions({physics:!0}),delete this.clusteredNodes[t]}const h=[];for(let t=0;t<n.edges.length;t++)h.push(n.edges[t]);for(let e=0;e<h.length;e++){const i=h[e],n=this._getConnectedId(i,t),o=this.clusteredNodes[n];for(let t=0;t<i.clusteringEdgeReplacingIds.length;t++){const e=i.clusteringEdgeReplacingIds[t],r=this.body.edges[e];if(void 0!==r)if(void 0!==o){const t=this.body.nodes[o.clusterId];t.containedEdges[r.id]=r,delete a[r.id];let e=r.fromId,i=r.toId;r.toId==n?i=o.clusterId:e=o.clusterId,this._createClusteredEdge(e,i,r,t.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(r)}i.remove()}for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&this._restoreEdge(a[t]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(t){const e=[];if(!0===this.isCluster(t)){const i=this.body.nodes[t].containedNodes;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e.push(this.body.nodes[t].id)}return e}findNode(t){const e=[];let i,n=0;for(;void 0!==this.clusteredNodes[t]&&n<100;){if(i=this.body.nodes[t],void 0===i)return[];e.push(i.id),t=this.clusteredNodes[t].clusterId,n++}return i=this.body.nodes[t],void 0===i?[]:(e.push(i.id),Su(e).call(e),e)}updateClusteredNode(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}updateEdge(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");const i=this.getClusteredEdges(t);for(let t=0;t<i.length;t++)this.body.edges[i[t]].setOptions(e);this.body.emitter.emit("_dataChanged")}getClusteredEdges(t){const e=[];let i=0;for(;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return Su(e).call(e),e}getBaseEdge(t){return this.getBaseEdges(t)[0]}getBaseEdges(t){const e=[t],i=[],n=[];let o=0;for(;e.length>0&&o<100;){const t=e.pop();if(void 0===t)continue;const r=this.body.edges[t];if(void 0===r)continue;o++;const s=r.clusteringEdgeReplacingIds;if(void 0===s)n.push(t);else for(let t=0;t<s.length;++t){const n=s[t];-1===Pp(e).call(e,s)&&-1===Pp(i).call(i,s)&&e.push(n)}i.push(t)}return n}_getConnectedId(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}_getHubSize(){let t=0,e=0,i=0,n=0;for(let o=0;o<this.body.nodeIndices.length;o++){const r=this.body.nodes[this.body.nodeIndices[o]];r.edges.length>n&&(n=r.edges.length),t+=r.edges.length,e+=Math.pow(r.edges.length,2),i+=1}t/=i,e/=i;const o=e-Math.pow(t,2),r=Math.sqrt(o);let s=Math.floor(t+2*r);return s>n&&(s=n),s}_createClusteredEdge(t,e,i,n,o){const r=iE.cloneOptions(i,"edge");_v(r,n),r.from=t,r.to=e,r.id="clusterEdge:"+eE(),void 0!==o&&_v(r,o);const s=this.body.functions.createEdge(r);return s.clusteringEdgeReplacingIds=[i.id],s.connect(),this.body.edges[s.id]=s,s}_clusterEdges(t,e,i,n){if(e instanceof Rx){const t=e,i={};i[t.id]=t,e=i}if(t instanceof ax){const e=t,i={};i[e.id]=e,t=i}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");void 0===n&&(n=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,n);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&void 0!==this.body.edges[t]){const e=this.body.edges[t];this._backupEdgeOptions(e),e.setOptions({physics:!1})}for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this.clusteredNodes[e]={clusterId:i.id,node:this.body.nodes[e]},this.body.nodes[e].setOptions({physics:!1}))}_getClusterNodeForNode(t){if(void 0===t)return;const e=this.clusteredNodes[t];if(void 0===e)return;const i=e.clusterId;return void 0!==i?this.body.nodes[i]:void 0}_filter(t,e){const i=[];return kv(t,t=>{e(t)&&i.push(t)}),i}_updateState(){let t;const e=[],i={},n=t=>{kv(this.body.nodes,e=>{!0===e.isCluster&&t(e)})};for(t in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,t)&&void 0===this.body.nodes[t]&&e.push(t);n(function(t){for(let i=0;i<e.length;i++)delete t.containedNodes[e[i]]});for(let t=0;t<e.length;t++)delete this.clusteredNodes[e[t]];kv(this.clusteredEdges,t=>{const e=this.body.edges[t];void 0!==e&&e.endPointsValid()||(i[t]=t)}),n(function(t){kv(t.containedEdges,(t,e)=>{t.endPointsValid()||i[e]||(i[e]=e)})}),kv(this.body.edges,(t,e)=>{let n=!0;const o=t.clusteringEdgeReplacingIds;if(void 0!==o){let t=0;kv(o,e=>{const i=this.body.edges[e];void 0!==i&&i.endPointsValid()&&(t+=1)}),n=t>0}t.endPointsValid()&&n||(i[e]=e)}),n(t=>{kv(i,e=>{delete t.containedEdges[e],kv(t.edges,(n,o)=>{n.id!==e?n.clusteringEdgeReplacingIds=this._filter(n.clusteringEdgeReplacingIds,function(t){return!i[t]}):t.edges[o]=null}),t.edges=this._filter(t.edges,function(t){return null!==t})})}),kv(i,t=>{delete this.clusteredEdges[t]}),kv(i,t=>{delete this.body.edges[t]}),kv(Ql(this.body.edges),t=>{const e=this.body.edges[t],i=this._isClusteredNode(e.fromId)||this._isClusteredNode(e.toId);if(i!==this._isClusteredEdge(e.id))if(i){const t=this._getClusterNodeForNode(e.fromId);void 0!==t&&this._clusterEdges(this.body.nodes[e.fromId],e,t);const i=this._getClusterNodeForNode(e.toId);void 0!==i&&this._clusterEdges(this.body.nodes[e.toId],e,i)}else delete this._clusterEdges[t],this._restoreEdge(e)});let o=!1,r=!0;for(;r;){const t=[];n(function(e){const i=Ql(e.containedNodes).length,n=!0===e.options.allowSingleNodeCluster;(n&&i<1||!n&&i<2)&&t.push(e.id)});for(let e=0;e<t.length;++e)this.openCluster(t[e],{},!1);r=t.length>0,o=o||r}o&&this._updateState()}_isClusteredNode(t){return void 0!==this.clusteredNodes[t]}_isClusteredEdge(t){return void 0!==this.clusteredEdges[t]}}class rE{constructor(t,e){this.body=t,this.canvas=e,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},_n(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Qp(()=>{var t;this.zooming=!1,Wn(t=this._requestRedraw).call(t,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{!1===this.renderingActive&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",Wn(t=this._requestRedraw).call(t,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(t){void 0!==t&&bv(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}_startRendering(){var t;!0===this.renderingActive&&void 0===this.requestAnimationFrameRequestId&&(this.requestAnimationFrameRequestId=window.requestAnimationFrame(Wn(t=this._renderStep).call(t,this),this.simulationInterval))}_renderStep(){!0===this.renderingActive&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const e={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();const i=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,n,o),0===this.canvas.frame.clientWidth)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(i),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){const{drawExternalLabels:n}=this._drawNodes(i,t);e.drawExternalLabels=n}!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(i),null!=e.drawExternalLabels&&e.drawExternalLabels(),!1===t&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),!0===t&&i.clearRect(0,0,n,o)}}_resizeNodes(){this.canvas.setTransform();const t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);const e=this.body.nodes;let i;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i=e[n],i.resize(t),i.updateBoundingBox(t,i.selected));t.restore()}_drawNodes(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.body.nodes,n=this.body.nodeIndices;let o;const r=[],s=[],a=this.canvas.DOMtoCanvas({x:-20,y:-20}),h=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),c={top:a.y,left:a.x,bottom:h.y,right:h.x},l=[];for(let a=0;a<n.length;a++)if(o=i[n[a]],o.hover)s.push(n[a]);else if(o.isSelected())r.push(n[a]);else if(!0===e){const e=o.draw(t);null!=e.drawExternalLabel&&l.push(e.drawExternalLabel)}else if(!0===o.isBoundingBoxOverlappingWith(c)){const e=o.draw(t);null!=e.drawExternalLabel&&l.push(e.drawExternalLabel)}else o.updateBoundingBox(t,o.selected);let u;const d=r.length,p=s.length;for(u=0;u<d;u++){o=i[r[u]];const e=o.draw(t);null!=e.drawExternalLabel&&l.push(e.drawExternalLabel)}for(u=0;u<p;u++){o=i[s[u]];const e=o.draw(t);null!=e.drawExternalLabel&&l.push(e.drawExternalLabel)}return{drawExternalLabels:()=>{for(const t of l)t()}}}_drawEdges(t){const e=this.body.edges,i=this.body.edgeIndices;for(let n=0;n<i.length;n++){const o=e[i[n]];!0===o.connected&&o.draw(t)}}_drawArrows(t){const e=this.body.edges,i=this.body.edgeIndices;for(let n=0;n<i.length;n++){const o=e[i[n]];!0===o.connected&&o.drawArrows(t)}}_drawSelectionBox(t){if(this.body.selectionBox.show){t.beginPath();const e=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}var sE=o(nt.setInterval);function aE(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)}function hE(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)}class cE{constructor(t){this.body=t,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},_n(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t;this.body.emitter.once("resize",t=>{0!==t.width&&(this.body.view.translation.x=.5*t.width),0!==t.height&&(this.body.view.translation.y=.5*t.height)}),this.body.emitter.on("setSize",Wn(t=this.setSize).call(t,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(t){if(void 0!==t&&bv(["width","height","autoResize"],this.options,t),this._cleanUp(),!0===this.options.autoResize){var e;if(window.ResizeObserver){const t=new ResizeObserver(()=>{!0===this.setSize()&&this.body.emitter.emit("_requestRedraw")}),{frame:e}=this;t.observe(e),this._cleanupCallbacks.push(()=>{t.unobserve(e)})}else{const t=sE(()=>{!0===this.setSize()&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(t)})}const t=Wn(e=this._onResize).call(e,this);window.addEventListener("resize",t),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",t)})}}_cleanUp(){var t,e,i;vu(t=Su(e=Qu(i=this._cleanupCallbacks).call(i,0)).call(e)).call(t,t=>{try{t()}catch(t){}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}_setCameraState(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;const n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}_prepareValue(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==Pp(t).call(t,"%")||-1!==Pp(t).call(t,"px"))return t;if(-1===Pp(t).call(t,"%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new qv(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:qv.DIRECTION_ALL}),aE(this.hammer,t=>{this.body.eventListeners.onTouch(t)}),this.hammer.on("tap",t=>{this.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",t=>{this.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",t=>{this.body.eventListeners.onHold(t)}),this.hammer.on("panstart",t=>{this.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",t=>{this.body.eventListeners.onDrag(t)}),this.hammer.on("panend",t=>{this.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",t=>{this.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("wheel",t=>{this.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",t=>{this.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",t=>{this.body.eventListeners.onContext(t)}),this.hammerFrame=new qv(this.frame),hE(this.hammerFrame,t=>{this.body.eventListeners.onRelease(t)})}setSize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);let i=!1;const n=this.frame.canvas.width,o=this.frame.canvas.height,r=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(r),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{const t=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),e=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===t&&this.frame.canvas.height===e||this._getCameraState(r),this.frame.canvas.width!==t&&(this.frame.canvas.width=t,i=!0),this.frame.canvas.height!==e&&(this.frame.canvas.height=e,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");let e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(t){return(t-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(t){return t*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(t){return(t-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(t){return t*this.body.view.scale+this.body.view.translation.y}canvasToDOM(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}DOMtoCanvas(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}class lE{constructor(t,e){var i,n;this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Wn(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",Wn(n=this.releaseNode).call(n,this))}setOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}fit(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=function(t,e){const i=_n({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=t?t:{});if(!Ul(i.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===i.nodes.length&&(i.nodes=e),!("number"==typeof i.minZoomLevel&&i.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof i.maxZoomLevel&&i.minZoomLevel<=i.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return i}(t,this.body.nodeIndices);const i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;let o,r;if(0===i||0===n)r=1,o=iE.getRange(this.body.nodes,t.nodes);else if(!0===e){let e=0;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&!0===this.body.nodes[t].predefinedPosition&&(e+=1);if(e>.5*this.body.nodeIndices.length)return void this.fit(t,!1);o=iE.getRange(this.body.nodes,t.nodes),r=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,r*=Math.min(i/600,n/600)}else{this.body.emitter.emit("_resizeNodes"),o=iE.getRange(this.body.nodes,t.nodes);const e=i/(1.1*Math.abs(o.maxX-o.minX)),s=n/(1.1*Math.abs(o.maxY-o.minY));r=e<=s?e:s}r>t.maxZoomLevel?r=t.maxZoomLevel:r<t.minZoomLevel&&(r=t.minZoomLevel);const s={position:iE.findCenter(o),scale:r,animation:t.animation};this.moveTo(s)}focus(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){const i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}}moveTo(t){if(void 0!==t){if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!Rb(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!Rb(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!Rb(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!Rb(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}animateView(t){if(void 0===t)return;this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;const e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=e.x-t.position.x,n=e.y-t.position.y;var o,r;this.targetTranslation={x:this.sourceTranslation.x+i*this.targetScale+t.offset.x,y:this.sourceTranslation.y+n*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=Wn(o=this._lockedRedraw).call(o,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=Wn(r=this._transitionRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}_lockedRedraw(){const t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=i.x-t,o=i.y-e,r=this.body.view.translation,s={x:r.x+n*this.body.view.scale+this.lockedOnNodeOffset.x,y:r.y+o*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;const e=jv[this.animationEasingFunction](this.easingTime);var i;this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=Wn(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function uE(t){var e,i=t&&t.preventDefault||!1,n=t&&t.container||window,o={},r={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){c(t,"keydown")},h=function(t){c(t,"keyup")},c=function(t,e){if(void 0!==r[e][t.keyCode]){for(var n=r[e][t.keyCode],o=0;o<n.length;o++)(void 0===n[o].shift||1==n[o].shift&&1==t.shiftKey||0==n[o].shift&&0==t.shiftKey)&&n[o].fn(t);1==i&&t.preventDefault()}};return o.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===r[i][s[t].code]&&(r[i][s[t].code]=[]),r[i][s[t].code].push({fn:e,shift:s[t].shift})},o.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),s)s.hasOwnProperty(i)&&o.bind(i,t,e)},o.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},o.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],o=r[i][s[t].code];if(void 0!==o)for(var a=0;a<o.length;a++)o[a].fn==e&&o[a].shift==s[t].shift||n.push(r[i][s[t].code][a]);r[i][s[t].code]=n}else r[i][s[t].code]=[]},o.reset=function(){r={keydown:{},keyup:{}}},o.destroy=function(){r={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",h,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",h,!0),o}class dE{constructor(t,e){this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{void 0!==this.keycharm&&this.keycharm.destroy()}),this.options={}}setOptions(t){void 0!==t&&(this.options=t,this.create())}create(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(0!=this.navigationHammers.length){for(let t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],e=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let o=0;o<t.length;o++){this.navigationDOM[t[o]]=document.createElement("div"),this.navigationDOM[t[o]].className="vis-button vis-"+t[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[o]]);const r=new qv(this.navigationDOM[t[o]]);var i,n;"_fit"===e[o]?aE(r,Wn(i=this._fit).call(i,this)):aE(r,Wn(n=this.bindToRedraw).call(n,this,e[o])),this.navigationHammers.push(r)}const o=new qv(this.canvas.frame);hE(o,()=>{this._stopMovement()}),this.navigationHammers.push(o),this.iconsCreated=!0}bindToRedraw(t){var e;void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=Wn(e=this[t]).call(e,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}unbindFromRedraw(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}_fit(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}_stopMovement(){for(const t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,r=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:o,y:r},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,r=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:o,y:r},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){var t,e,i,n,o,r,s,a,h,c,l,u,d,p,f,g,v,y,m,b,w,_,x,E;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=uE({container:window,preventDefault:!0}):this.keycharm=uE({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(Wn(t=this.keycharm).call(t,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),Wn(e=this.keycharm).call(e,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),Wn(i=this.keycharm).call(i,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),Wn(n=this.keycharm).call(n,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),Wn(o=this.keycharm).call(o,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Wn(r=this.keycharm).call(r,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Wn(s=this.keycharm).call(s,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Wn(a=this.keycharm).call(a,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Wn(h=this.keycharm).call(h,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Wn(c=this.keycharm).call(c,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Wn(l=this.keycharm).call(l,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Wn(u=this.keycharm).call(u,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Wn(d=this.keycharm).call(d,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),Wn(p=this.keycharm).call(p,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),Wn(f=this.keycharm).call(f,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),Wn(g=this.keycharm).call(g,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),Wn(v=this.keycharm).call(v,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Wn(y=this.keycharm).call(y,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Wn(m=this.keycharm).call(m,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Wn(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Wn(w=this.keycharm).call(w,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Wn(_=this.keycharm).call(_,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Wn(x=this.keycharm).call(x,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Wn(E=this.keycharm).call(E,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")))}}class pE{constructor(t,e,i){var n,o,r,s,a,h,c,l,u,d,p,f,g;this.body=t,this.canvas=e,this.selectionHandler=i,this.navigationHandler=new dE(t,e),this.body.eventListeners.onTap=Wn(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=Wn(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=Wn(r=this.onDoubleTap).call(r,this),this.body.eventListeners.onHold=Wn(s=this.onHold).call(s,this),this.body.eventListeners.onDragStart=Wn(a=this.onDragStart).call(a,this),this.body.eventListeners.onDrag=Wn(h=this.onDrag).call(h,this),this.body.eventListeners.onDragEnd=Wn(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=Wn(l=this.onMouseWheel).call(l,this),this.body.eventListeners.onPinch=Wn(u=this.onPinch).call(u,this),this.body.eventListeners.onMouseMove=Wn(d=this.onMouseMove).call(d,this),this.body.eventListeners.onRelease=Wn(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=Wn(f=this.onContext).call(f,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Wn(g=this.getPointer).call(g,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},_n(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(t){void 0!==t&&(wv(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),Bv(this.options,t,"keyboard"),t.tooltip&&(_n(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=Pv(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(t){return{x:t.x-(e=this.canvas.frame.canvas,e.getBoundingClientRect().left),y:t.y-Ev(this.canvas.frame.canvas)};var e}onTouch(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}onTap(t){const e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e)}onDoubleTap(t){const e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,e)}onHold(t){const e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e),this.selectionHandler.generateClickEvent("hold",t,e)}onRelease(t){if((new Date).valueOf()-this.touchTime>10){const e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}onContext(t){const e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,e)}checkSelectionChanges(t){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}_determineDifference(t,e){const i=function(t,e){const i=[];for(let n=0;n<t.length;n++){const o=t[n];-1===Pp(e).call(e,o)&&i.push(o)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}onDragStart(t){if(this.drag.dragging)return;void 0===this.drag.pointer&&this.onTouch(t);const e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=_n({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;const e=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(e.x),y:this.canvas._YconvertDOMtoCanvas(e.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(e.x),y:this.canvas._YconvertDOMtoCanvas(e.y)}}else if(void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&this.selectionHandler.setSelection({nodes:[e.id]}),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer);for(const t of this.selectionHandler.getSelectedNodes()){const e={id:t.id,node:t,x:t.x,y:t.y,xFixed:t.options.fixed.x,yFixed:t.options.fixed.y};t.options.fixed.x=!0,t.options.fixed.y=!0,this.drag.selection.push(e)}}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}onDrag(t){if(!0===this.drag.pinched)return;this.body.emitter.emit("unlockNode");const e=this.getPointer(t.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",t,e);const n=e.x-this.drag.pointer.x,o=e.y-this.drag.pointer.y;vu(i).call(i,t=>{const e=t.node;!1===t.xFixed&&(e.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(t.x)+n)),!1===t.yFixed&&(e.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(t.y)+o))}),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,e,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(e.x),y:this.canvas._YconvertDOMtoCanvas(e.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,e,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);const i=e.x-this.drag.pointer.x,n=e.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+n},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(t){if(this.drag.dragging=!1,this.body.selectionBox.show){var e;this.body.selectionBox.show=!1;const i=this.body.selectionBox.position,n={minX:Math.min(i.start.x,i.end.x),minY:Math.min(i.start.y,i.end.y),maxX:Math.max(i.start.x,i.end.x),maxY:Math.max(i.start.y,i.end.y)},o=Fd(e=this.body.nodeIndices).call(e,t=>{const e=this.body.nodes[t];return e.x>=n.minX&&e.x<=n.maxX&&e.y>=n.minY&&e.y<=n.maxY});vu(o).call(o,t=>this.selectionHandler.selectObject(this.body.nodes[t]));const r=this.getPointer(t.center);this.selectionHandler.commitAndEmit(r,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const e=this.drag.selection;e&&e.length?(vu(e).call(e,function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(t){const e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);const i=this.pinch.scale*t.scale;this.zoom(i,e)}zoom(t,e){if(!0===this.options.zoomView){const i=this.body.view.scale;let n;t<1e-5&&(t=1e-5),t>10&&(t=10),void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));const o=this.body.view.translation,r=t/i,s=(1-r)*e.x+o.x*r,a=(1-r)*e.y+o.y*r;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},null!=n){const t=this.canvas.canvasToDOM(n);this.drag.pointer.x=t.x,this.drag.pointer.y=t.y}this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}onMouseWheel(t){if(!0===this.options.zoomView){if(0!==t.deltaY){let e=this.body.view.scale;e*=1+(t.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);const i=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(e,i)}t.preventDefault()}}onMouseMove(t){const e=this.getPointer({x:t.clientX,y:t.clientY});let i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(e),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(e.x+3,e.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Qp(()=>this._checkShowPopup(e),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,e)}_checkShowPopup(t){const e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),n={left:e,top:i,right:e,bottom:i},o=void 0===this.popupObj?void 0:this.popupObj.id;let r=!1,s="node";if(void 0===this.popupObj){const t=this.body.nodeIndices,e=this.body.nodes;let i;const o=[];for(let s=0;s<t.length;s++)i=e[t[s]],!0===i.isOverlappingWith(n)&&(r=!0,void 0!==i.getTitle()&&o.push(t[s]));o.length>0&&(this.popupObj=e[o[o.length-1]],r=!0)}if(void 0===this.popupObj&&!1===r){const t=this.body.edgeIndices,e=this.body.edges;let i;const o=[];for(let r=0;r<t.length;r++)i=e[t[r]],!0===i.isOverlappingWith(n)&&!0===i.connected&&void 0!==i.getTitle()&&o.push(t[r]);o.length>0&&(this.popupObj=e[o[o.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new $v(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(t){const e=this.selectionHandler._pointerToPositionObject(t);let i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e),!0===i)){const e=this.selectionHandler.getNodeAt(t);i=void 0!==e&&e.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}Zm("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},mb);var fE=o(nt.Set),gE=m,vE=Qm,yE=Qy.getWeakData,mE=Nm,bE=oi,wE=Y,_E=it,xE=Dm,EE=te,kE=zs.set,OE=zs.getterFor,SE=$s.find,CE=$s.findIndex,PE=gE([].splice),TE=0,IE=function(t){return t.frozen||(t.frozen=new DE)},DE=function(){this.entries=[]},ME=function(t,e){return SE(t.entries,function(t){return t[0]===e})};DE.prototype={get:function(t){var e=ME(this,t);if(e)return e[1]},has:function(t){return!!ME(this,t)},set:function(t,e){var i=ME(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(t){var e=CE(this.entries,function(e){return e[0]===t});return~e&&PE(this.entries,e,1),!!~e}};var AE,NE={getConstructor:function(t,e,i,n){var o=t(function(t,o){mE(t,r),kE(t,{type:e,id:TE++,frozen:void 0}),wE(o)||xE(o,t[n],{that:t,AS_ENTRIES:i})}),r=o.prototype,s=OE(e),a=function(t,e,i){var n=s(t),o=yE(bE(e),!0);return!0===o?IE(n).set(e,i):o[n.id]=i,t};return vE(r,{delete:function(t){var e=s(this);if(!_E(t))return!1;var i=yE(t);return!0===i?IE(e).delete(t):i&&EE(i,e.id)&&delete i[e.id]},has:function(t){var e=s(this);if(!_E(t))return!1;var i=yE(t);return!0===i?IE(e).has(t):i&&EE(i,e.id)}}),vE(r,i?{get:function(t){var e=s(this);if(_E(t)){var i=yE(t);return!0===i?IE(e).get(t):i?i[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),o}},BE=Fy,jE=s,FE=m,zE=Qm,LE=Qy,RE=Zm,HE=NE,WE=it,UE=zs.enforce,VE=a,qE=ks,$E=Object,YE=Array.isArray,XE=$E.isExtensible,KE=$E.isFrozen,GE=$E.isSealed,ZE=$E.freeze,JE=$E.seal,QE={},tk={},ek=!jE.ActiveXObject&&"ActiveXObject"in jE,ik=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},nk=RE("WeakMap",ik,HE),ok=nk.prototype,rk=FE(ok.set);if(qE)if(ek){AE=HE.getConstructor(ik,"WeakMap",!0),LE.enable();var sk=FE(ok.delete),ak=FE(ok.has),hk=FE(ok.get);zE(ok,{delete:function(t){if(WE(t)&&!XE(t)){var e=UE(this);return e.frozen||(e.frozen=new AE),sk(this,t)||e.frozen.delete(t)}return sk(this,t)},has:function(t){if(WE(t)&&!XE(t)){var e=UE(this);return e.frozen||(e.frozen=new AE),ak(this,t)||e.frozen.has(t)}return ak(this,t)},get:function(t){if(WE(t)&&!XE(t)){var e=UE(this);return e.frozen||(e.frozen=new AE),ak(this,t)?hk(this,t):e.frozen.get(t)}return hk(this,t)},set:function(t,e){if(WE(t)&&!XE(t)){var i=UE(this);i.frozen||(i.frozen=new AE),ak(this,t)?rk(this,t,e):i.frozen.set(t,e)}else rk(this,t,e);return this}})}else BE&&VE(function(){var t=ZE([]);return rk(new nk,t,1),!KE(t)})&&zE(ok,{set:function(t,e){var i;return YE(t)&&(KE(t)?i=QE:GE(t)&&(i=tk)),rk(this,t,e),i===QE&&ZE(t),i===tk&&JE(t),this}});var ck,lk,uk,dk,pk,fk=o(nt.WeakMap);function gk(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)}function vk(t,e,i,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(t,i):o?o.value=i:e.set(t,i),i}function yk(t,e){const i=new fE;for(const n of e)t.has(n)||i.add(n);return i}"function"==typeof SuppressedError&&SuppressedError;class mk{constructor(){ck.set(this,new fE),lk.set(this,new fE)}get size(){return gk(this,lk,"f").size}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const t of e)gk(this,lk,"f").add(t)}delete(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const t of e)gk(this,lk,"f").delete(t)}clear(){gk(this,lk,"f").clear()}getSelection(){return[...gk(this,lk,"f")]}getChanges(){return{added:[...yk(gk(this,ck,"f"),gk(this,lk,"f"))],deleted:[...yk(gk(this,lk,"f"),gk(this,ck,"f"))],previous:[...new fE(gk(this,ck,"f"))],current:[...new fE(gk(this,lk,"f"))]}}commit(){const t=this.getChanges();vk(this,ck,gk(this,lk,"f"),"f"),vk(this,lk,new fE(gk(this,ck,"f")),"f");for(const e of t.added)e.select();for(const e of t.deleted)e.unselect();return t}}ck=new fk,lk=new fk;class bk{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};uk.set(this,new mk),dk.set(this,new mk),pk.set(this,void 0),vk(this,pk,t,"f")}get sizeNodes(){return gk(this,uk,"f").size}get sizeEdges(){return gk(this,dk,"f").size}getNodes(){return gk(this,uk,"f").getSelection()}getEdges(){return gk(this,dk,"f").getSelection()}addNodes(){gk(this,uk,"f").add(...arguments)}addEdges(){gk(this,dk,"f").add(...arguments)}deleteNodes(t){gk(this,uk,"f").delete(t)}deleteEdges(t){gk(this,dk,"f").delete(t)}clear(){gk(this,uk,"f").clear(),gk(this,dk,"f").clear()}commit(){const t={nodes:gk(this,uk,"f").commit(),edges:gk(this,dk,"f").commit()};for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return gk(this,pk,"f").call(this,t,...i),t}}uk=new fk,dk=new fk,pk=new fk;class wk{constructor(t,e){this.body=t,this.canvas=e,this._selectionAccumulator=new bk,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},_n(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(t){void 0!==t&&bv(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}selectOnPoint(t){let e=!1;if(!0===this.options.selectable){const i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}selectAdditionalOnPoint(t){let e=!1;if(!0===this.options.selectable){const i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}_initBaseEvent(t,e){const i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}generateClickEvent(t,e,i,n){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=this._initBaseEvent(e,i);if(!0===o)r.nodes=[],r.edges=[];else{const t=this.getSelection();r.nodes=t.nodes,r.edges=t.edges}void 0!==n&&(r.previousSelection=n),"click"==t&&(r.items=this.getClickedItems(i)),void 0!==e.controlEdge&&(r.controlEdge=e.controlEdge),this.body.emitter.emit(t,r)}selectObject(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof ax?(!0===e&&this._selectionAccumulator.addEdges(...t.edges),this._selectionAccumulator.addNodes(t)):this._selectionAccumulator.addEdges(t),!0)}deselectObject(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}_getAllNodesOverlappingWith(t){const e=[],i=this.body.nodes;for(let n=0;n<this.body.nodeIndices.length;n++){const o=this.body.nodeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}return e}_pointerToPositionObject(t){const e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}getNodeAt(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this._pointerToPositionObject(t),n=this._getAllNodesOverlappingWith(i);return n.length>0?!0===e?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}_getEdgesOverlappingWith(t,e){const i=this.body.edges;for(let n=0;n<this.body.edgeIndices.length;n++){const o=this.body.edgeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}}_getAllEdgesOverlappingWith(t){const e=[];return this._getEdgesOverlappingWith(t,e),e}getEdgeAt(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.canvas.DOMtoCanvas(t);let n=10,o=null;const r=this.body.edges;for(let t=0;t<this.body.edgeIndices.length;t++){const e=this.body.edgeIndices[t],s=r[e];if(s.connected){const t=s.from.x,r=s.from.y,a=s.to.x,h=s.to.y,c=s.edgeType.getDistanceToEdge(t,r,a,h,i.x,i.y);c<n&&(o=e,n=c)}}return null!==o?!0===e?this.body.edges[o]:o:void 0}_addToHover(t){t instanceof ax?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}_removeFromSelection(t){t instanceof ax?(this._selectionAccumulator.deleteNodes(t),this._selectionAccumulator.deleteEdges(...t.edges)):this._selectionAccumulator.deleteEdges(t)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(t){for(let e=0;e<t.edges.length;e++){const i=t.edges[e];i.hover=!0,this._addToHover(i)}}emitBlurEvent(t,e,i){const n=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof ax?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}emitHoverEvent(t,e,i){const n=this._initBaseEvent(t,e);let o=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof ax?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),o}hoverObject(t,e){let i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));let n=!1;for(const o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(void 0===i||i instanceof ax&&i.id!=o||i instanceof Rx)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],n=!0);for(const o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(!0===n?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===i||i instanceof Rx&&i.id!=o||i instanceof ax&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],n=!0));if(void 0!==i){const o=Ql(this.hoverObj.edges).length,r=Ql(this.hoverObj.nodes).length;(n||i instanceof Rx&&0===o&&0===r||i instanceof ax&&0===o&&0===r)&&(n=this.emitHoverEvent(t,e,i)),i instanceof ax&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===n&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(t,e){let i=!1;const n=this._selectionAccumulator.commit(),o={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",e,t,o),i=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",e,t,o),i=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",e,t),i=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",e,t),i=!0),!0===i&&this.generateClickEvent("select",e,t)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var t;return Gl(t=this._selectionAccumulator.getNodes()).call(t,t=>t.id)}getSelectedEdgeIds(){var t;return Gl(t=this._selectionAccumulator.getEdges()).call(t,t=>t.id)}setSelection(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(const i of t.nodes){const t=this.body.nodes[i];if(!t)throw new RangeError('Node with id "'+i+'" not found');this.selectObject(t,e.highlightEdges)}if(t.edges)for(const e of t.edges){const t=this.body.edges[e];if(!t)throw new RangeError('Edge with id "'+e+'" not found');this.selectObject(t)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}selectEdges(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}updateSelection(){for(const t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(const t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}getClickedItems(t){const e=this.canvas.DOMtoCanvas(t),i=[],n=this.body.nodeIndices,o=this.body.nodes;for(let t=n.length-1;t>=0;t--){const r=o[n[t]].getItemsOnPoint(e);i.push.apply(i,r)}const r=this.body.edgeIndices,s=this.body.edges;for(let t=r.length-1;t>=0;t--){const n=s[r[t]].getItemsOnPoint(e);i.push.apply(i,n)}return i}}var _k=Wr,xk=Math.floor,Ek=function(t,e){var i=t.length,n=xk(i/2);return i<8?kk(t,e):Ok(t,Ek(_k(t,0,n),e),Ek(_k(t,n),e),e)},kk=function(t,e){for(var i,n,o=t.length,r=1;r<o;){for(n=r,i=t[r];n&&e(t[n-1],i)>0;)t[n]=t[--n];n!==r++&&(t[n]=i)}return t},Ok=function(t,e,i,n){for(var o=e.length,r=i.length,s=0,a=0;s<o||a<r;)t[s+a]=s<o&&a<r?n(e[s],i[a])<=0?e[s++]:i[a++]:s<o?e[s++]:i[a++];return t},Sk=Ek,Ck=lt.match(/firefox\/(\d+)/i),Pk=!!Ck&&+Ck[1],Tk=/MSIE|Trident/.test(lt),Ik=lt.match(/AppleWebKit\/(\d+)\./),Dk=!!Ik&&+Ik[1],Mk=Ii,Ak=m,Nk=At,Bk=Zt,jk=Wi,Fk=Nu,zk=sr,Lk=a,Rk=Sk,Hk=ru,Wk=Pk,Uk=Tk,Vk=yt,qk=Dk,$k=[],Yk=Ak($k.sort),Xk=Ak($k.push),Kk=Lk(function(){$k.sort(void 0)}),Gk=Lk(function(){$k.sort(null)}),Zk=Hk("sort"),Jk=!Lk(function(){if(Vk)return Vk<70;if(!(Wk&&Wk>3)){if(Uk)return!0;if(qk)return qk<603;var t,e,i,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)$k.push({k:e+n,v:i})}for($k.sort(function(t,e){return e.v-t.v}),n=0;n<$k.length;n++)e=$k[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}});Mk({target:"Array",proto:!0,forced:Kk||!Gk||!Zk||!Jk},{sort:function(t){void 0!==t&&Nk(t);var e=Bk(this);if(Jk)return void 0===t?Yk(e):Yk(e,t);var i,n,o=[],r=jk(e);for(n=0;n<r;n++)n in e&&Xk(o,e[n]);for(Rk(o,function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:zk(e)>zk(i)?1:-1}}(t)),i=jk(o),n=0;n<i;)e[n]=o[n++];for(;n<r;)Fk(e,n++);return e}});var Qk=jn("Array").sort,tO=ct,eO=Qk,iO=Array.prototype,nO=function(t){var e=t.sort;return t===iO||tO(iO,t)&&e===iO.sort?eO:e},oO=o(nO),rO=At,sO=Zt,aO=$,hO=Wi,cO=TypeError,lO=function(t){return function(e,i,n,o){rO(i);var r=sO(e),s=aO(r),a=hO(r),h=t?a-1:0,c=t?-1:1;if(n<2)for(;;){if(h in s){o=s[h],h+=c;break}if(h+=c,t?h<0:a<=h)throw new cO("Reduce of empty array with no initial value")}for(;t?h>=0:a>h;h+=c)h in s&&(o=i(o,s[h],h,r));return o}},uO={left:lO(!1),right:lO(!0)},dO="process"===x(s.process),pO=uO.left;Ii({target:"Array",proto:!0,forced:!dO&&yt>79&&yt<83||!ru("reduce")},{reduce:function(t){var e=arguments.length;return pO(this,t,e,e>1?arguments[1]:void 0)}});var fO=jn("Array").reduce,gO=ct,vO=fO,yO=Array.prototype,mO=function(t){var e=t.reduce;return t===yO||gO(yO,t)&&e===yO.reduce?vO:e},bO=o(mO);class wO{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(t){return this.fake_use(t),this.abstract()}setPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}getTreeSize(t){return this.fake_use(t),this.abstract()}sort(t){this.fake_use(t),this.abstract()}fix(t,e){this.fake_use(t,e),this.abstract()}shift(t,e){this.fake_use(t,e),this.abstract()}}class _O extends wO{constructor(t){super(),this.layout=t}curveType(){return"horizontal"}getPosition(t){return t.x}setPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}getTreeSize(t){const e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}sort(t){oO(t).call(t,function(t,e){return t.x-e.x})}fix(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}shift(t,e){this.layout.body.nodes[t].x+=e}}class xO extends wO{constructor(t){super(),this.layout=t}curveType(){return"vertical"}getPosition(t){return t.y}setPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}getTreeSize(t){const e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}sort(t){oO(t).call(t,function(t,e){return t.y-e.y})}fix(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}shift(t,e){this.layout.body.nodes[t].y+=e}}var EO=$s.every;Ii({target:"Array",proto:!0,forced:!ru("every")},{every:function(t){return EO(this,t,arguments.length>1?arguments[1]:void 0)}});var kO=jn("Array").every,OO=ct,SO=kO,CO=Array.prototype,PO=function(t){var e=t.every;return t===CO||OO(CO,t)&&e===CO.every?SO:e},TO=o(PO);function IO(t,e){const i=new fE;return vu(t).call(t,t=>{var e;vu(e=t.edges).call(e,t=>{t.connected&&i.add(t)})}),vu(i).call(i,t=>{const i=t.from.id,n=t.to.id;null==e[i]&&(e[i]=0),(null==e[n]||e[i]>=e[n])&&(e[n]=e[i]+1)}),e}function DO(t,e,i,n){var o;const r=Ip(null),s=bO(o=[...D_(n).call(n)]).call(o,(t,e)=>t+1+e.edges.length,0),a=i+"Id",h="to"===i?1:-1;for(const[o,u]of n){if(!n.has(o)||!t(u))continue;r[o]=0;const d=[u];let p,f=0;for(;p=d.pop();){var c,l;if(!n.has(o))continue;const t=r[p.id]+h;if(vu(c=Fd(l=p.edges).call(l,t=>t.connected&&t.to!==t.from&&t[i]!==p&&n.has(t.toId)&&n.has(t.fromId))).call(c,n=>{const o=n[a],s=r[o];(null==s||e(t,s))&&(r[o]=t,d.push(n[i]))}),f>s)return IO(n,r);++f}}return r}class MO{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}checkIfTree(){for(const t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}ensureLevel(t){void 0===this.levels[t]&&(this.levels[t]=0)}getMaxLevel(t){const e={},i=t=>{if(void 0!==e[t])return e[t];let n=this.levels[t];if(this.childrenReference[t]){const e=this.childrenReference[t];if(e.length>0)for(let t=0;t<e.length;t++)n=Math.max(n,i(e[t]))}return e[t]=n,n};return i(t)}levelDownstream(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}setMinLevelToZero(){var t;const e=new Bb;let i=0;const n=oO(t=[...new fE(Kd(this.levels))]).call(t,(t,e)=>t-e);for(const t of n)e.set(t,i++);for(const t in this.levels)Object.prototype.hasOwnProperty.call(this.levels,t)&&(this.levels[t]=e.get(this.levels[t]))}getTreeSize(t,e){let i=1e9,n=-1e9,o=1e9,r=-1e9;for(const s in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,s)&&this.trees[s]===e){const e=t[s];i=Math.min(e.x,i),n=Math.max(e.x,n),o=Math.min(e.y,o),r=Math.max(e.y,r)}return{min_x:i,max_x:n,min_y:o,max_y:r}}hasSameParent(t,e){const i=this.parentReference[t.id],n=this.parentReference[e.id];if(void 0===i||void 0===n)return!1;for(let t=0;t<i.length;t++)for(let e=0;e<n.length;e++)if(i[t]==n[e])return!0;return!1}inSameSubNetwork(t,e){return this.trees[t.id]===this.trees[e.id]}getLevels(){return Ql(this.distributionOrdering)}addToOrdering(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);let i=!1;const n=this.distributionOrdering[e];for(const e in n)if(n[e]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}class AO{constructor(t){this.body=t,this._resetRNG(Math.random()+":"+nu()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},_n(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(!0!==this.options.hierarchical.enabled)return;const t=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",t,!1)})}setOptions(t,e){if(void 0!==t){const i=this.options.hierarchical,n=i.enabled;if(bv(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),Bv(this.options,t,"hierarchical"),void 0!==t.randomSeed&&this._resetRNG(t.randomSeed),!0===i.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===n)return this.body.emitter.emit("refresh"),_v(e,this.optionsBackup)}return e}_resetRNG(t){this.initialRandomSeed=t,this._rng=av(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(t){if(!0===this.options.hierarchical.enabled){const e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"==typeof t.physics?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});let i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{const e=t.edges.smooth;void 0!==e.type&&"dynamic"!==e.type&&(i=e.type),this.optionsBackup.edges={smooth:{enabled:void 0===e.enabled||e.enabled,type:void 0===e.type?"dynamic":e.type,roundness:void 0===e.roundness?.5:e.roundness,forceDirection:void 0!==e.forceDirection&&e.forceDirection}},t.edges.smooth={enabled:void 0===e.enabled||e.enabled,type:i,roundness:void 0===e.roundness?.5:e.roundness,forceDirection:void 0!==e.forceDirection&&e.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}positionInitially(t){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);const e=t.length+50;for(let i=0;i<t.length;i++){const n=t[i],o=2*Math.PI*this._rng();void 0===n.x&&(n.x=e*Math.cos(o)),void 0===n.y&&(n.y=e*Math.sin(o))}}}layoutNetwork(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){const t=this.body.nodeIndices;let e=0;for(let i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1);if(e<.5*t.length){const e=10;let i=0;const n=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>n){const r=t.length;for(;t.length>n&&i<=e;){i+=1;const e=t.length;if(i%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),e==t.length&&i%3!=0)return this._declusterAll(),void this.body.emitter.emit("_layoutFailed")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*r)})}this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();const r=70;for(let e=0;e<t.length;e++){const i=this.body.nodes[t[e]];!1===i.predefinedPosition&&(i.x+=(.5-this._rng())*r,i.y+=(.5-this._rng())*r)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const t=iE.getRangeCore(this.body.nodes,this.body.nodeIndices),e=iE.findCenter(t);for(let t=0;t<this.body.nodeIndices.length;t++){const i=this.body.nodes[this.body.nodeIndices[t]];i.x-=e.x,i.y-=e.y}}_declusterAll(){let t=!0;for(;!0===t;){t=!1;for(let e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){let t,e,i=!1,n=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new MO,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&(t=this.body.nodes[e],void 0!==t.options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):n=!0);if(!0===n&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(!0===n){const t=this.options.hierarchical.sortMethod;"hubsize"===t?this._determineLevelsByHubsize():"directed"===t?this._determineLevelsDirected():"custom"===t&&this._determineLevelsCustomCallback()}for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.hierarchical.ensureLevel(t);const t=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(t),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var t=this;let e=!1;const i={},n=(t,e)=>{const i=this.hierarchical.trees;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&i[n]===t&&this.direction.shift(n,e)},o=()=>{const t=[];for(let e=0;e<this.hierarchical.numTrees();e++)t.push(this.direction.getTreeSize(e));return t},r=(t,e)=>{if(!e[t.id]&&(e[t.id]=!0,this.hierarchical.childrenReference[t.id])){const i=this.hierarchical.childrenReference[t.id];if(i.length>0)for(let t=0;t<i.length;t++)r(this.body.nodes[i[t]],e)}},s=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,n=1e9,o=1e9,r=1e9,s=-1e9;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const h=t.body.nodes[a],c=t.hierarchical.levels[h.id],l=t.direction.getPosition(h),[u,d]=t._getSpaceAroundNode(h,e);n=Math.min(u,n),o=Math.min(d,o),c<=i&&(r=Math.min(l,r),s=Math.max(l,s))}return[r,s,n,o]},a=(t,e)=>{const i=this.hierarchical.getMaxLevel(t.id),n=this.hierarchical.getMaxLevel(e.id);return Math.min(i,n)},h=(t,e,i)=>{const n=this.hierarchical;for(let o=0;o<e.length;o++){const r=e[o],s=n.distributionOrdering[r];if(s.length>1)for(let e=0;e<s.length-1;e++){const o=s[e],r=s[e+1];n.hasSameParent(o,r)&&n.inSameSubNetwork(o,r)&&t(o,r,i)}}},c=function(i,n){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const h=t.direction.getPosition(i),c=t.direction.getPosition(n),l=Math.abs(c-h),u=t.options.hierarchical.nodeSpacing;if(l>u){const h={},c={};r(i,h),r(n,c);const l=a(i,n),d=s(h,l),p=s(c,l),f=d[1],g=p[0],v=p[2];if(Math.abs(f-g)>u){let i=f-g+u;i<-v+u&&(i=-v+u),i<0&&(t._shiftBlock(n.id,i),e=!0,!0===o&&t._centerParent(n))}}},l=(t,n)=>{const o=n.id,a=n.edges,h=this.hierarchical.levels[n.id],c=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,l={},u=[];for(let t=0;t<a.length;t++){const e=a[t];if(e.toId!=e.fromId){const i=e.toId==o?e.from:e.to;l[a[t].id]=i,this.hierarchical.levels[i.id]<h&&u.push(e)}}const d=(t,e)=>{let i=0;for(let n=0;n<e.length;n++)if(void 0!==l[e[n].id]){const o=this.direction.getPosition(l[e[n].id])-t;i+=o/Math.sqrt(o*o+c)}return i},p=(t,e)=>{let i=0;for(let n=0;n<e.length;n++)if(void 0!==l[e[n].id]){const o=this.direction.getPosition(l[e[n].id])-t;i-=c*Math.pow(o*o+c,-1.5)}return i},f=(t,e)=>{let i=this.direction.getPosition(n);const o={};for(let n=0;n<t;n++){const t=d(i,e),r=p(i,e),s=40;if(i-=Math.max(-s,Math.min(s,Math.round(t/r))),void 0!==o[i])break;o[i]=n}return i};let g=f(t,u);(t=>{const o=this.direction.getPosition(n);if(void 0===i[n.id]){const t={};r(n,t),i[n.id]=t}const a=s(i[n.id]),h=a[2],c=a[3],l=t-o;let u=0;l>0?u=Math.min(l,c-this.options.hierarchical.nodeSpacing):l<0&&(u=-Math.min(-l,h-this.options.hierarchical.nodeSpacing)),0!=u&&(this._shiftBlock(n.id,u),e=!0)})(g),g=f(t,a),(t=>{const i=this.direction.getPosition(n),[o,r]=this._getSpaceAroundNode(n),s=t-i;let a=i;s>0?a=Math.min(i+(r-this.options.hierarchical.nodeSpacing),t):s<0&&(a=Math.max(i-(o-this.options.hierarchical.nodeSpacing),t)),a!==i&&(this.direction.setPosition(n,a),e=!0)})(g)},u=t=>{let i=this.hierarchical.getLevels();i=Su(i).call(i);for(let n=0;n<t;n++){e=!1;for(let t=0;t<i.length;t++){const e=i[t],n=this.hierarchical.distributionOrdering[e];for(let t=0;t<n.length;t++)l(1e3,n[t])}if(!0!==e)break}},d=t=>{let i=this.hierarchical.getLevels();i=Su(i).call(i);for(let n=0;n<t&&(e=!1,h(c,i,!0),!0===e);n++);},p=()=>{for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this._centerParent(this.body.nodes[t])},f=()=>{let t=this.hierarchical.getLevels();t=Su(t).call(t);for(let e=0;e<t.length;e++){const i=t[e],n=this.hierarchical.distributionOrdering[i];for(let t=0;t<n.length;t++)this._centerParent(n[t])}};!0===this.options.hierarchical.blockShifting&&(d(5),p()),!0===this.options.hierarchical.edgeMinimization&&u(20),!0===this.options.hierarchical.parentCentralization&&f(),(()=>{const t=o();let e=0;for(let i=0;i<t.length-1;i++)e+=t[i].max-t[i+1].min+this.options.hierarchical.treeSpacing,n(i+1,e)})()}_getSpaceAroundNode(t,e){let i=!0;void 0===e&&(i=!1);const n=this.hierarchical.levels[t.id];if(void 0!==n){const o=this.hierarchical.distributionIndex[t.id],r=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[n];let a=1e9,h=1e9;if(0!==o){const t=s[o-1];(!0===i&&void 0===e[t.id]||!1===i)&&(a=r-this.direction.getPosition(t))}if(o!=s.length-1){const t=s[o+1];if(!0===i&&void 0===e[t.id]||!1===i){const e=this.direction.getPosition(t);h=Math.min(h,e-r)}}return[a,h]}return[0,0]}_centerParent(t){if(this.hierarchical.parentReference[t.id]){const e=this.hierarchical.parentReference[t.id];for(let t=0;t<e.length;t++){const i=e[t],n=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(void 0!==o){const t=this._getCenterPosition(o),e=this.direction.getPosition(n),[i,r]=this._getSpaceAroundNode(n),s=e-t;(s<0&&Math.abs(s)<r-this.options.hierarchical.nodeSpacing||s>0&&Math.abs(s)<i-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(n,t)}}}}_placeNodesByHierarchy(t){this.positionedNodes={};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var e;let n=Ql(t[i]);n=this._indexArrayToNodes(n),oO(e=this.direction).call(e,n);let o=0;for(let t=0;t<n.length;t++){const e=n[t];if(void 0===this.positionedNodes[e.id]){const r=this.options.hierarchical.nodeSpacing;let s=r*o;o>0&&(s=this.direction.getPosition(n[t-1])+r),this.direction.setPosition(e,s,i),this._validatePositionAndContinue(e,i,s),o++}}}}_placeBranchNodes(t,e){var i;const n=this.hierarchical.childrenReference[t];if(void 0===n)return;const o=[];for(let t=0;t<n.length;t++)o.push(this.body.nodes[n[t]]);oO(i=this.direction).call(i,o);for(let i=0;i<o.length;i++){const n=o[i],r=this.hierarchical.levels[n.id];if(!(r>e&&void 0===this.positionedNodes[n.id]))return;{const e=this.options.hierarchical.nodeSpacing;let s;s=0===i?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(o[i-1])+e,this.direction.setPosition(n,s,r),this._validatePositionAndContinue(n,r,s)}}const r=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[t],r,e)}_validatePositionAndContinue(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){const n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-n<this.options.hierarchical.nodeSpacing){const o=n+this.options.hierarchical.nodeSpacing-i,r=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(r.withChild,o)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}_indexArrayToNodes(t){const e=[];for(let i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}_getDistribution(){const t={};let e,i;for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){i=this.body.nodes[e];const n=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(i,n),void 0===t[n]&&(t[n]={}),t[n][e]=i}return t}_getActiveEdges(t){const e=[];return kv(t.edges,t=>{var i;-1!==Pp(i=this.body.edgeIndices).call(i,t.id)&&e.push(t)}),e}_getHubSizes(){const t={};kv(this.body.nodeIndices,e=>{const i=this.body.nodes[e],n=this._getActiveEdges(i).length;t[n]=!0});const e=[];return kv(t,t=>{e.push(Number(t))}),oO(e).call(e,function(t,e){return e-t}),e}_determineLevelsByHubsize(){const t=(t,e)=>{this.hierarchical.levelDownstream(t,e)},e=this._getHubSizes();for(let i=0;i<e.length;++i){const n=e[i];if(0===n)break;kv(this.body.nodeIndices,e=>{const i=this.body.nodes[e];n===this._getActiveEdges(i).length&&this._crawlNetwork(t,e)})}}_determineLevelsCustomCallback(){this._crawlNetwork((t,e,i)=>{let n=this.hierarchical.levels[t.id];void 0===n&&(n=this.hierarchical.levels[t.id]=1e5);const o=(iE.cloneOptions(t,"node"),iE.cloneOptions(e,"node"),void iE.cloneOptions(i,"edge"));this.hierarchical.levels[e.id]=n+o}),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var t;const e=bO(t=this.body.nodeIndices).call(t,(t,e)=>(t.set(e,this.body.nodes[e]),t),new Bb);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=function(t){return DO(e=>{var i,n;return TO(i=Fd(n=e.edges).call(n,e=>t.has(e.toId))).call(i,t=>t.from===e)},(t,e)=>e<t,"to",t)}(e):this.hierarchical.levels=function(t){return DO(e=>{var i,n;return TO(i=Fd(n=e.edges).call(n,e=>t.has(e.toId))).call(i,t=>t.to===e)},(t,e)=>e>t,"from",t)}(e),this.hierarchical.setMinLevelToZero()}_generateMap(){this._crawlNetwork((t,e)=>{this.hierarchical.levels[e.id]>this.hierarchical.levels[t.id]&&this.hierarchical.addRelation(t.id,e.id)}),this.hierarchical.checkIfTree()}_crawlNetwork(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1?arguments[1]:void 0;const i={},n=(e,o)=>{if(void 0===i[e.id]){let r;this.hierarchical.setTreeIndex(e,o),i[e.id]=!0;const s=this._getActiveEdges(e);for(let i=0;i<s.length;i++){const a=s[i];!0===a.connected&&(r=a.toId==e.id?a.from:a.to,e.id!=r.id&&(t(e,r,a),n(r,o)))}}};if(void 0===e){let t=0;for(let e=0;e<this.body.nodeIndices.length;e++){const o=this.body.nodeIndices[e];if(void 0===i[o]){const e=this.body.nodes[o];n(e,t),t+=1}}}else{const t=this.body.nodes[e];if(void 0===t)return;n(t)}}_shiftBlock(t,e){const i={},n=t=>{if(i[t])return;i[t]=!0,this.direction.shift(t,e);const o=this.hierarchical.childrenReference[t];if(void 0!==o)for(let t=0;t<o.length;t++)n(o[t])};n(t)}_findCommonParent(t,e){const i={},n=(t,e)=>{const i=this.hierarchical.parentReference[e];if(void 0!==i)for(let e=0;e<i.length;e++){const o=i[e];t[o]=!0,n(t,o)}},o=(t,e)=>{const i=this.hierarchical.parentReference[e];if(void 0!==i)for(let n=0;n<i.length;n++){const r=i[n];if(void 0!==t[r])return{foundParent:r,withChild:e};const s=o(t,r);if(null!==s.foundParent)return s}return{foundParent:null,withChild:e}};return n(i,t),o(i,e)}setDirectionStrategy(){const t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new _O(this):new xO(this)}_getCenterPosition(t){let e=1e9,i=-1e9;for(let n=0;n<t.length;n++){let o;if(void 0!==t[n].id)o=t[n];else{const e=t[n];o=this.body.nodes[e]}const r=this.direction.getPosition(o);e=Math.min(e,r),i=Math.max(i,r)}return.5*(e+i)}}class NO{constructor(t,e,i,n){var o,r;this.body=t,this.canvas=e,this.selectionHandler=i,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},_n(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",Wn(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",Wn(r=this._restore).call(r,this))}_restore(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}setOptions(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,_v(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}toggleEditMode(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var t,e;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const i=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),o=i+n,r=this.options.locales[this.options.locale];let s=!1;!1!==this.options.addNode&&(this._createAddNodeButton(r),s=!0),!1!==this.options.addEdge&&(!0===s?this._createSeperator(1):s=!0,this._createAddEdgeButton(r)),1===i&&"function"==typeof this.options.editNode?(!0===s?this._createSeperator(2):s=!0,this._createEditNodeButton(r)):1===n&&0===i&&!1!==this.options.editEdge&&(!0===s?this._createSeperator(3):s=!0,this._createEditEdgeButton(r)),0!==o&&(i>0&&!1!==this.options.deleteNode||0===i&&!1!==this.options.deleteEdge)&&(!0===s&&this._createSeperator(4),this._createDeleteButton(r)),this._bindElementEvents(this.closeDiv,Wn(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",Wn(e=this.showManipulatorToolbar).call(e,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var t;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e;const t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Wn(e=this.toggleEditMode).call(e,this))}this._temporaryBindEvent("click",Wn(t=this._performAddNode).call(t,this))}editNode(){!0!==this.editMode&&this.enableEditMode(),this._clean();const t=this.selectionHandler.getSelectedNodes()[0];if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){const e=_v({},t.options,!1);if(e.x=t.x,e.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(e,t=>{null!=t&&"editNode"===this.inMode&&this.body.data.nodes.getDataSet().update(t),this.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}addEdgeMode(){var t,e,i,n,o;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var r;const t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Wn(r=this.toggleEditMode).call(r,this))}this._temporaryBindUI("onTouch",Wn(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",Wn(e=this._finishConnect).call(e,this)),this._temporaryBindUI("onDrag",Wn(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",Wn(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",Wn(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!=typeof this.options.editEdge||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t;const e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Wn(t=this.toggleEditMode).call(t,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var e,i,n,o;const t=this.body.edges[this.edgeBeingEditedId],r=this._getNewTargetNode(t.from.x,t.from.y),s=this._getNewTargetNode(t.to.x,t.to.y);this.temporaryIds.nodes.push(r.id),this.temporaryIds.nodes.push(s.id),this.body.nodes[r.id]=r,this.body.nodeIndices.push(r.id),this.body.nodes[s.id]=s,this.body.nodeIndices.push(s.id),this._temporaryBindUI("onTouch",Wn(e=this._controlNodeTouch).call(e,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",Wn(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",Wn(n=this._controlNodeDrag).call(n,this)),this._temporaryBindUI("onDragEnd",Wn(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",e=>{const i=t.edgeType.findBorderPositions(e);!1===r.selected&&(r.x=i.from.x,r.y=i.from.y),!1===s.selected&&(s.x=i.to.x,s.y=i.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{const t=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(t.from.id,t.to.id)}}deleteSelected(){!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";const t=this.selectionHandler.getSelectedNodeIds(),e=this.selectionHandler.getSelectedEdgeIds();let i;if(t.length>0){for(let e=0;e<t.length;e++)if(!0===this.body.nodes[t[e]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(i=this.options.deleteNode)}else e.length>0&&"function"==typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"==typeof i){const n={nodes:t,edges:e};if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(n,t=>{null!=t&&"delete"===this.inMode?(this.body.data.edges.getDataSet().remove(t.edges),this.body.data.nodes.getDataSet().remove(t.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(e),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){var t,e;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(t=null===(e=this.options.locales[this.options.locale])||void 0===e?void 0:e.close)&&void 0!==t?t:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}_getNewTargetNode(t,e){const i=_v({},this.options.controlNodeStyle);i.id="targetNode"+eE(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;const n=this.body.functions.createNode(i);return n.shape.boundingBox={left:t,right:t,top:e,bottom:e},n}_createEditButton(){var t;this._clean(),this.manipulationDOM={},fv(this.editModeDiv);const e=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,Wn(t=this.toggleEditMode).call(t,this))}_clean(){this.inMode=!1,!0===this.guiEnabled&&(fv(this.editModeDiv),fv(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const e of Qu(t=this._domEventListenerCleanupQueue).call(t,0)){var t;e()}}_removeManipulationDOM(){this._clean(),fv(this.manipulationDiv),fv(this.editModeDiv),fv(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}_createAddNodeButton(t){var e;const i=this._createButton("addNode","vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Wn(e=this.addNodeMode).call(e,this))}_createAddEdgeButton(t){var e;const i=this._createButton("addEdge","vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Wn(e=this.addEdgeMode).call(e,this))}_createEditNodeButton(t){var e;const i=this._createButton("editNode","vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Wn(e=this.editNode).call(e,this))}_createEditEdgeButton(t){var e;const i=this._createButton("editEdge","vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Wn(e=this.editEdgeMode).call(e,this))}_createDeleteButton(t){var e;let i;i=this.options.rtl?"vis-delete-rtl":"vis-delete";const n=this._createButton("delete",i,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Wn(e=this.deleteSelected).call(e,this))}_createBackButton(t){var e;const i=this._createButton("back","vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Wn(e=this.showManipulatorToolbar).call(e,this))}_createButton(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=n,this.manipulationDOM[t+"Label"].innerText=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}_createDescription(t){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}_temporaryBindUI(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+Np(Ql(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}_unbindTemporaryUIs(){for(const t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let t=0;t<this.temporaryEventFunctions.length;t++){const e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}_bindElementEvents(t,e){const i=new qv(t,{});aE(i,e),this._domEventListenerCleanupQueue.push(()=>{i.destroy()});const n=t=>{let{keyCode:i,key:n}=t;"Enter"!==n&&" "!==n&&13!==i&&32!==i||e()};t.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(()=>{t.removeEventListener("keyup",n,!1)})}_cleanupTemporaryNodesAndEdges(){for(let i=0;i<this.temporaryIds.edges.length;i++){var t;this.body.edges[this.temporaryIds.edges[i]].disconnect(),delete this.body.edges[this.temporaryIds.edges[i]];const n=Pp(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[i]);var e;-1!==n&&Qu(e=this.body.edgeIndices).call(e,n,1)}for(let t=0;t<this.temporaryIds.nodes.length;t++){var i;delete this.body.nodes[this.temporaryIds.nodes[t]];const e=Pp(i=this.body.nodeIndices).call(i,this.temporaryIds.nodes[t]);var n;-1!==e&&Qu(n=this.body.nodeIndices).call(n,e,1)}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=_n({},this.body.view.translation)}_controlNodeDragStart(){const t=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(t),i=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const r=i.isOverlappingWith(e),s=n.isOverlappingWith(e);!0===r?(this.selectedControlNode=i,o.edgeType.from=i):!0===s&&(this.selectedControlNode=n,o.edgeType.to=n),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(t){this.body.emitter.emit("disablePhysics");const e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(t){const e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=this.body.edges[this.edgeBeingEditedId];if(void 0===this.selectedControlNode)return;this.selectionHandler.unselectAll();const o=this.selectionHandler._getAllNodesOverlappingWith(i);let r;for(let t=o.length-1;t>=0;t--)if(o[t]!==this.selectedControlNode.id){r=this.body.nodes[o[t]];break}if(void 0!==r&&void 0!==this.selectedControlNode)if(!0===r.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const t=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===t.id?this._performEditEdge(r.id,n.to.id):this._performEditEdge(n.from.id,r.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=_n({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const t=this._getNewTargetNode(i.x,i.y);this.body.nodes[t.id]=t,this.body.nodeIndices.push(t.id);const e=this.body.functions.createEdge({id:"connectionEdge"+eE(),from:i.id,to:t.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[e.id]=e,this.body.edgeIndices.push(e.id),this.temporaryIds.nodes.push(t.id),this.temporaryIds.edges.push(e.id)}this.touchTime=(new Date).valueOf()}}_dragControlNode(t){const e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e);let n;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const o=this.selectionHandler._getAllNodesOverlappingWith(i);let r;for(let t=o.length-1;t>=0;t--){var s;if(-1===Pp(s=this.temporaryIds.nodes).call(s,o[t])){r=this.body.nodes[o[t]];break}}if(t.controlEdge={from:n,to:r?r.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){const t=this.body.nodes[this.temporaryIds.nodes[0]];t.x=this.canvas._XconvertDOMtoCanvas(e.x),t.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}_finishConnect(t){const e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e);let n;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const o=this.selectionHandler._getAllNodesOverlappingWith(i);let r;for(let t=o.length-1;t>=0;t--){var s;if(-1===Pp(s=this.temporaryIds.nodes).call(s,o[t])){r=this.body.nodes[o[t]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==r&&(!0===r.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[r.id]&&this._performAddEdge(n,r.id)),t.controlEdge={from:n,to:r?r.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}_dragStartEdge(t){const e=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",t,e,void 0,!0)}_performAddNode(t){const e={id:eE(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(e,t=>{null!=t&&"addNode"===this.inMode&&this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(e),this.showManipulatorToolbar()}_performAddEdge(t,e){const i={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,t=>{null!=t&&"addEdge"===this.inMode&&(this.body.data.edges.getDataSet().add(t),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(t,e){const i={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let n=this.options.editEdge;if("object"==typeof n&&(n=n.editWithoutDrag),"function"==typeof n){if(2!==n.length)throw new Error("The function for edit does not support two arguments (data, callback)");n(i,t=>{null==t||"editEdge"!==this.inMode?(this.body.edges[i.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(t),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const BO="string",jO="boolean",FO="number",zO="array",LO="object",RO=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],HO={borderWidth:{number:FO},borderWidthSelected:{number:FO,undefined:"undefined"},brokenImage:{string:BO,undefined:"undefined"},chosen:{label:{boolean:jO,function:"function"},node:{boolean:jO,function:"function"},__type__:{object:LO,boolean:jO}},color:{border:{string:BO},background:{string:BO},highlight:{border:{string:BO},background:{string:BO},__type__:{object:LO,string:BO}},hover:{border:{string:BO},background:{string:BO},__type__:{object:LO,string:BO}},__type__:{object:LO,string:BO}},opacity:{number:FO,undefined:"undefined"},fixed:{x:{boolean:jO},y:{boolean:jO},__type__:{object:LO,boolean:jO}},font:{align:{string:BO},color:{string:BO},size:{number:FO},face:{string:BO},background:{string:BO},strokeWidth:{number:FO},strokeColor:{string:BO},vadjust:{number:FO},multi:{boolean:jO,string:BO},bold:{color:{string:BO},size:{number:FO},face:{string:BO},mod:{string:BO},vadjust:{number:FO},__type__:{object:LO,string:BO}},boldital:{color:{string:BO},size:{number:FO},face:{string:BO},mod:{string:BO},vadjust:{number:FO},__type__:{object:LO,string:BO}},ital:{color:{string:BO},size:{number:FO},face:{string:BO},mod:{string:BO},vadjust:{number:FO},__type__:{object:LO,string:BO}},mono:{color:{string:BO},size:{number:FO},face:{string:BO},mod:{string:BO},vadjust:{number:FO},__type__:{object:LO,string:BO}},__type__:{object:LO,string:BO}},group:{string:BO,number:FO,undefined:"undefined"},heightConstraint:{minimum:{number:FO},valign:{string:BO},__type__:{object:LO,boolean:jO,number:FO}},hidden:{boolean:jO},icon:{face:{string:BO},code:{string:BO},size:{number:FO},color:{string:BO},weight:{string:BO,number:FO},__type__:{object:LO}},id:{string:BO,number:FO},image:{selected:{string:BO,undefined:"undefined"},unselected:{string:BO,undefined:"undefined"},__type__:{object:LO,string:BO}},imagePadding:{top:{number:FO},right:{number:FO},bottom:{number:FO},left:{number:FO},__type__:{object:LO,number:FO}},label:{string:BO,undefined:"undefined"},labelHighlightBold:{boolean:jO},level:{number:FO,undefined:"undefined"},margin:{top:{number:FO},right:{number:FO},bottom:{number:FO},left:{number:FO},__type__:{object:LO,number:FO}},mass:{number:FO},physics:{boolean:jO},scaling:{min:{number:FO},max:{number:FO},label:{enabled:{boolean:jO},min:{number:FO},max:{number:FO},maxVisible:{number:FO},drawThreshold:{number:FO},__type__:{object:LO,boolean:jO}},customScalingFunction:{function:"function"},__type__:{object:LO}},shadow:{enabled:{boolean:jO},color:{string:BO},size:{number:FO},x:{number:FO},y:{number:FO},__type__:{object:LO,boolean:jO}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:jO,array:zO},borderRadius:{number:FO},interpolation:{boolean:jO},useImageSize:{boolean:jO},useBorderWithImage:{boolean:jO},coordinateOrigin:{string:["center","top-left"]},__type__:{object:LO}},size:{number:FO},title:{string:BO,dom:"dom",undefined:"undefined"},value:{number:FO,undefined:"undefined"},widthConstraint:{minimum:{number:FO},maximum:{number:FO},__type__:{object:LO,boolean:jO,number:FO}},x:{number:FO},y:{number:FO},__type__:{object:LO}},WO={configure:{enabled:{boolean:jO},filter:{boolean:jO,string:BO,array:zO,function:"function"},container:{dom:"dom"},showButton:{boolean:jO},__type__:{object:LO,boolean:jO,string:BO,array:zO,function:"function"}},edges:{arrows:{to:{enabled:{boolean:jO},scaleFactor:{number:FO},type:{string:RO},imageHeight:{number:FO},imageWidth:{number:FO},src:{string:BO},__type__:{object:LO,boolean:jO}},middle:{enabled:{boolean:jO},scaleFactor:{number:FO},type:{string:RO},imageWidth:{number:FO},imageHeight:{number:FO},src:{string:BO},__type__:{object:LO,boolean:jO}},from:{enabled:{boolean:jO},scaleFactor:{number:FO},type:{string:RO},imageWidth:{number:FO},imageHeight:{number:FO},src:{string:BO},__type__:{object:LO,boolean:jO}},__type__:{string:["from","to","middle"],object:LO}},endPointOffset:{from:{number:FO},to:{number:FO},__type__:{object:LO,number:FO}},arrowStrikethrough:{boolean:jO},background:{enabled:{boolean:jO},color:{string:BO},size:{number:FO},dashes:{boolean:jO,array:zO},__type__:{object:LO,boolean:jO}},chosen:{label:{boolean:jO,function:"function"},edge:{boolean:jO,function:"function"},__type__:{object:LO,boolean:jO}},color:{color:{string:BO},highlight:{string:BO},hover:{string:BO},inherit:{string:["from","to","both"],boolean:jO},opacity:{number:FO},__type__:{object:LO,string:BO}},dashes:{boolean:jO,array:zO},font:{color:{string:BO},size:{number:FO},face:{string:BO},background:{string:BO},strokeWidth:{number:FO},strokeColor:{string:BO},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:FO},multi:{boolean:jO,string:BO},bold:{color:{string:BO},size:{number:FO},face:{string:BO},mod:{string:BO},vadjust:{number:FO},__type__:{object:LO,string:BO}},boldital:{color:{string:BO},size:{number:FO},face:{string:BO},mod:{string:BO},vadjust:{number:FO},__type__:{object:LO,string:BO}},ital:{color:{string:BO},size:{number:FO},face:{string:BO},mod:{string:BO},vadjust:{number:FO},__type__:{object:LO,string:BO}},mono:{color:{string:BO},size:{number:FO},face:{string:BO},mod:{string:BO},vadjust:{number:FO},__type__:{object:LO,string:BO}},__type__:{object:LO,string:BO}},hidden:{boolean:jO},hoverWidth:{function:"function",number:FO},label:{string:BO,undefined:"undefined"},labelHighlightBold:{boolean:jO},length:{number:FO,undefined:"undefined"},physics:{boolean:jO},scaling:{min:{number:FO},max:{number:FO},label:{enabled:{boolean:jO},min:{number:FO},max:{number:FO},maxVisible:{number:FO},drawThreshold:{number:FO},__type__:{object:LO,boolean:jO}},customScalingFunction:{function:"function"},__type__:{object:LO}},selectionWidth:{function:"function",number:FO},selfReferenceSize:{number:FO},selfReference:{size:{number:FO},angle:{number:FO},renderBehindTheNode:{boolean:jO},__type__:{object:LO}},shadow:{enabled:{boolean:jO},color:{string:BO},size:{number:FO},x:{number:FO},y:{number:FO},__type__:{object:LO,boolean:jO}},smooth:{enabled:{boolean:jO},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:FO},forceDirection:{string:["horizontal","vertical","none"],boolean:jO},__type__:{object:LO,boolean:jO}},title:{string:BO,undefined:"undefined"},width:{number:FO},widthConstraint:{maximum:{number:FO},__type__:{object:LO,boolean:jO,number:FO}},value:{number:FO,undefined:"undefined"},__type__:{object:LO}},groups:{useDefaultGroups:{boolean:jO},__any__:HO,__type__:{object:LO}},interaction:{dragNodes:{boolean:jO},dragView:{boolean:jO},hideEdgesOnDrag:{boolean:jO},hideEdgesOnZoom:{boolean:jO},hideNodesOnDrag:{boolean:jO},hover:{boolean:jO},keyboard:{enabled:{boolean:jO},speed:{x:{number:FO},y:{number:FO},zoom:{number:FO},__type__:{object:LO}},bindToWindow:{boolean:jO},autoFocus:{boolean:jO},__type__:{object:LO,boolean:jO}},multiselect:{boolean:jO},navigationButtons:{boolean:jO},selectable:{boolean:jO},selectConnectedEdges:{boolean:jO},hoverConnectedEdges:{boolean:jO},tooltipDelay:{number:FO},zoomView:{boolean:jO},zoomSpeed:{number:FO},__type__:{object:LO}},layout:{randomSeed:{undefined:"undefined",number:FO,string:BO},improvedLayout:{boolean:jO},clusterThreshold:{number:FO},hierarchical:{enabled:{boolean:jO},levelSeparation:{number:FO},nodeSpacing:{number:FO},treeSpacing:{number:FO},blockShifting:{boolean:jO},edgeMinimization:{boolean:jO},parentCentralization:{boolean:jO},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:LO,boolean:jO}},__type__:{object:LO}},manipulation:{enabled:{boolean:jO},initiallyActive:{boolean:jO},addNode:{boolean:jO,function:"function"},addEdge:{boolean:jO,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:LO,boolean:jO,function:"function"}},deleteNode:{boolean:jO,function:"function"},deleteEdge:{boolean:jO,function:"function"},controlNodeStyle:HO,__type__:{object:LO,boolean:jO}},nodes:HO,physics:{enabled:{boolean:jO},barnesHut:{theta:{number:FO},gravitationalConstant:{number:FO},centralGravity:{number:FO},springLength:{number:FO},springConstant:{number:FO},damping:{number:FO},avoidOverlap:{number:FO},__type__:{object:LO}},forceAtlas2Based:{theta:{number:FO},gravitationalConstant:{number:FO},centralGravity:{number:FO},springLength:{number:FO},springConstant:{number:FO},damping:{number:FO},avoidOverlap:{number:FO},__type__:{object:LO}},repulsion:{centralGravity:{number:FO},springLength:{number:FO},springConstant:{number:FO},nodeDistance:{number:FO},damping:{number:FO},__type__:{object:LO}},hierarchicalRepulsion:{centralGravity:{number:FO},springLength:{number:FO},springConstant:{number:FO},nodeDistance:{number:FO},damping:{number:FO},avoidOverlap:{number:FO},__type__:{object:LO}},maxVelocity:{number:FO},minVelocity:{number:FO},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:jO},iterations:{number:FO},updateInterval:{number:FO},onlyDynamicEdges:{boolean:jO},fit:{boolean:jO},__type__:{object:LO,boolean:jO}},timestep:{number:FO},adaptiveTimestep:{boolean:jO},wind:{x:{number:FO},y:{number:FO},__type__:{object:LO}},__type__:{object:LO,boolean:jO}},autoResize:{boolean:jO},clickToUse:{boolean:jO},locale:{string:BO},locales:{__any__:{any:"any"},__type__:{object:LO}},height:{string:BO},width:{string:BO},__type__:{object:LO}},UO={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},VO=(t,e,i)=>{var n;return!(!_d(t).call(t,"physics")||!_d(n=UO.physics.solver).call(n,e)||i.physics.solver===e||"wind"===e)};var qO=Object.freeze({__proto__:null,allOptions:WO,configuratorHideOption:VO,configureOptions:UO});class $O{constructor(){}getDistances(t,e,i){const n={},o=t.edges;for(let t=0;t<e.length;t++){const i={};n[e[t]]=i;for(let n=0;n<e.length;n++)i[e[n]]=t==n?0:1e9}for(let t=0;t<i.length;t++){const e=o[i[t]];!0===e.connected&&void 0!==n[e.fromId]&&void 0!==n[e.toId]&&(n[e.fromId][e.toId]=1,n[e.toId][e.fromId]=1)}const r=e.length;for(let t=0;t<r;t++){const i=e[t],o=n[i];for(let t=0;t<r-1;t++){const s=e[t],a=n[s];for(let h=t+1;h<r;h++){const t=e[h],r=n[t],c=Math.min(a[t],a[i]+o[t]);a[t]=c,r[s]=c}}}return n}}class YO{constructor(t,e,i){this.body=t,this.springLength=e,this.springConstant=i,this.distanceSolver=new $O}setOptions(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}solve(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();let o=0;const r=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3));let s=1e9,a=0,h=0,c=0,l=0,u=0;for(;s>.01&&o<r;)for(o+=1,[a,s,h,c]=this._getHighestEnergyNode(i),l=s,u=0;l>1&&u<5;)u+=1,this._moveNode(a,h,c),[l,h,c]=this._getEnergy(a)}_getHighestEnergyNode(t){const e=this.body.nodeIndices,i=this.body.nodes;let n=0,o=e[0],r=0,s=0;for(let a=0;a<e.length;a++){const h=e[a];if(!0!==i[h].predefinedPosition||!0===i[h].isCluster&&!0===t||!0!==i[h].options.fixed.x||!0!==i[h].options.fixed.y){const[t,e,i]=this._getEnergy(h);n<t&&(n=t,o=h,r=e,s=i)}}return[o,n,r,s]}_getEnergy(t){const[e,i]=this.E_sums[t];return[Math.sqrt(e**2+i**2),e,i]}_moveNode(t,e,i){const n=this.body.nodeIndices,o=this.body.nodes;let r=0,s=0,a=0;const h=o[t].x,c=o[t].y,l=this.K_matrix[t],u=this.L_matrix[t];for(let e=0;e<n.length;e++){const i=n[e];if(i!==t){const t=o[i].x,e=o[i].y,n=l[i],d=u[i],p=1/((h-t)**2+(c-e)**2)**1.5;r+=n*(1-d*(c-e)**2*p),s+=n*(d*(h-t)*(c-e)*p),a+=n*(1-d*(h-t)**2*p)}}const d=(e/r+i/s)/(s/r-a/s),p=-(s*d+e)/r;o[t].x+=p,o[t].y+=d,this._updateE_matrix(t)}_createL_matrix(t){const e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(let n=0;n<e.length;n++){this.L_matrix[e[n]]={};for(let o=0;o<e.length;o++)this.L_matrix[e[n]][e[o]]=i*t[e[n]][e[o]]}}_createK_matrix(t){const e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(let n=0;n<e.length;n++){this.K_matrix[e[n]]={};for(let o=0;o<e.length;o++)this.K_matrix[e[n]][e[o]]=i*t[e[n]][e[o]]**-2}}_createE_matrix(){const t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(let e=0;e<t.length;e++)this.E_matrix[t[e]]=[];for(let i=0;i<t.length;i++){const n=t[i],o=e[n].x,r=e[n].y;let s=0,a=0;for(let h=i;h<t.length;h++){const c=t[h];if(c!==n){const t=e[c].x,l=e[c].y,u=1/Math.sqrt((o-t)**2+(r-l)**2);this.E_matrix[n][h]=[this.K_matrix[n][c]*(o-t-this.L_matrix[n][c]*(o-t)*u),this.K_matrix[n][c]*(r-l-this.L_matrix[n][c]*(r-l)*u)],this.E_matrix[c][i]=this.E_matrix[n][h],s+=this.E_matrix[n][h][0],a+=this.E_matrix[n][h][1]}}this.E_sums[n]=[s,a]}}_updateE_matrix(t){const e=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[t],o=this.K_matrix[t],r=this.L_matrix[t],s=i[t].x,a=i[t].y;let h=0,c=0;for(let l=0;l<e.length;l++){const u=e[l];if(u!==t){const t=n[l],e=t[0],d=t[1],p=i[u].x,f=i[u].y,g=1/Math.sqrt((s-p)**2+(a-f)**2),v=o[u]*(s-p-r[u]*(s-p)*g),y=o[u]*(a-f-r[u]*(a-f)*g);n[l]=[v,y],h+=v,c+=y;const m=this.E_sums[u];m[0]+=v-e,m[1]+=y-d}}this.E_sums[t]=[h,c]}}function XO(t,e,i){var n,o,r,s;if(!(this instanceof XO))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Sy,clickToUse:!1},_n(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Wn(n=this.on).call(n,this),off:Wn(o=this.off).call(o,this),emit:Wn(r=this.emit).call(r,this),once:Wn(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Py(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new jb,this.canvas=new cE(this.body),this.selectionHandler=new wk(this.body,this.canvas),this.interactionHandler=new pE(this.body,this.canvas,this.selectionHandler),this.view=new lE(this.body,this.canvas),this.renderer=new rE(this.body,this.canvas),this.physics=new Gx(this.body),this.layoutEngine=new AO(this.body),this.clustering=new oE(this.body),this.manipulation=new NO(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new hx(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Hx(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new YO(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}Gn(XO.prototype),XO.prototype.setOptions=function(t){if(null===t&&(t=void 0),void 0!==t){if(Yv.validate(t,WO),bv(["locale","locales","clickToUse"],this.options,t),void 0!==t.locale&&(t.locale=function(t,e){try{const[i,n]=e.split(/[-_ /]/,2),o=null!=i?i.toLowerCase():null,r=null!=n?n.toUpperCase():null;if(o&&r){const e=o+"-"+r;if(Object.prototype.hasOwnProperty.call(t,e))return e}if(o){const e=o;if(Object.prototype.hasOwnProperty.call(t,e))return e}return"en"}catch(t){return"en"}}(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new Vv(this,this.body.container,UO,this.canvas.pixelRatio,VO)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){const t={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};_v(t.nodes,this.nodesHandler.options),_v(t.edges,this.edgesHandler.options),_v(t.layout,this.layoutEngine.options),_v(t.interaction,this.selectionHandler.options),_v(t.interaction,this.renderer.options),_v(t.interaction,this.interactionHandler.options),_v(t.manipulation,this.manipulation.options),_v(t.physics,this.physics.options),_v(t.global,this.canvas.options),_v(t.global,this.options),this.configurator.setModuleOptions(t)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new Uv(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},XO.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this.clustering._isClusteredNode(e)||!1!==t[e].options.hidden||this.body.nodeIndices.push(t[e].id));for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const n=e[i],o=t[n.fromId],r=t[n.toId],s=void 0!==o&&void 0!==r;!this.clustering._isClusteredEdge(i)&&!1===n.options.hidden&&s&&!1===o.options.hidden&&!1===r.options.hidden&&this.body.edgeIndices.push(n.id)}},XO.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})},XO.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){const e=xy(t.dot);this.setData(e)}else if(t&&t.gephi){const e=ky(t.gephi);this.setData(e)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},XO.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];fv(this.body.container)},XO.prototype._updateValueRange=function(t){let e,i,n,o=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e].getValue();void 0!==r&&(i=void 0===i?r:Math.min(r,i),n=void 0===n?r:Math.max(r,n),o+=r)}if(void 0!==i&&void 0!==n)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(i,n,o)},XO.prototype.isActive=function(){return!this.activator||this.activator.active},XO.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},XO.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},XO.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},XO.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},XO.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},XO.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},XO.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},XO.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},XO.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},XO.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},XO.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},XO.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},XO.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},XO.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},XO.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},XO.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},XO.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},XO.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},XO.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},XO.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},XO.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},XO.prototype.editNodeMode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},XO.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},XO.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},XO.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},XO.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},XO.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},XO.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},XO.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},XO.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},XO.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},XO.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},XO.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},XO.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},XO.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},XO.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},XO.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},XO.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},XO.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},XO.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},XO.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},XO.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},XO.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},XO.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},XO.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},XO.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},XO.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},XO.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},XO.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},XO.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},XO.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},XO.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};const KO=xy;t.Network=XO,t.NetworkImages=Py,t.networkDOTParser=Ey,t.networkGephiParser=Oy,t.networkOptions=qO,t.parseDOTNetwork=KO,t.parseGephiNetwork=ky}(e,i(107))}}]);