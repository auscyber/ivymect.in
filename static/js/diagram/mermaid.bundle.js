"use strict";(self.webpackChunkzolarwind=self.webpackChunkzolarwind||[]).push([["diagram/mermaid"],{"./node_modules/mermaid/dist/chunks/mermaid.core/architectureDiagram-VXUJARFQ.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-EXTU4WIE.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-EXTU4WIE.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_4BX2VUAB_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-4BX2VUAB.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-4BX2VUAB.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var _mermaid_js_parser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mermaid-js/parser */ "./node_modules/@mermaid-js/parser/dist/mermaid-parser.core.mjs");\n/* harmony import */ var cytoscape__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cytoscape */ "./node_modules/cytoscape/dist/cytoscape.esm.mjs");\n/* harmony import */ var cytoscape_fcose__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cytoscape-fcose */ "./node_modules/cytoscape-fcose/cytoscape-fcose.js");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n\n\n\n\n\n\n\n// src/diagrams/architecture/architectureParser.ts\n\n\n// src/diagrams/architecture/architectureTypes.ts\nvar ArchitectureDirectionName = {\n  L: "left",\n  R: "right",\n  T: "top",\n  B: "bottom"\n};\nvar ArchitectureDirectionArrow = {\n  L: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((scale) => `${scale},${scale / 2} 0,${scale} 0,0`, "L"),\n  R: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((scale) => `0,${scale / 2} ${scale},0 ${scale},${scale}`, "R"),\n  T: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((scale) => `0,0 ${scale},0 ${scale / 2},${scale}`, "T"),\n  B: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((scale) => `${scale / 2},0 ${scale},${scale} 0,${scale}`, "B")\n};\nvar ArchitectureDirectionArrowShift = {\n  L: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((orig, arrowSize) => orig - arrowSize + 2, "L"),\n  R: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((orig, _arrowSize) => orig - 2, "R"),\n  T: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((orig, arrowSize) => orig - arrowSize + 2, "T"),\n  B: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((orig, _arrowSize) => orig - 2, "B")\n};\nvar getOppositeArchitectureDirection = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(x) {\n  if (isArchitectureDirectionX(x)) {\n    return x === "L" ? "R" : "L";\n  } else {\n    return x === "T" ? "B" : "T";\n  }\n}, "getOppositeArchitectureDirection");\nvar isArchitectureDirection = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(x) {\n  const temp = x;\n  return temp === "L" || temp === "R" || temp === "T" || temp === "B";\n}, "isArchitectureDirection");\nvar isArchitectureDirectionX = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(x) {\n  const temp = x;\n  return temp === "L" || temp === "R";\n}, "isArchitectureDirectionX");\nvar isArchitectureDirectionY = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(x) {\n  const temp = x;\n  return temp === "T" || temp === "B";\n}, "isArchitectureDirectionY");\nvar isArchitectureDirectionXY = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(a, b) {\n  const aX_bY = isArchitectureDirectionX(a) && isArchitectureDirectionY(b);\n  const aY_bX = isArchitectureDirectionY(a) && isArchitectureDirectionX(b);\n  return aX_bY || aY_bX;\n}, "isArchitectureDirectionXY");\nvar isArchitecturePairXY = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(pair) {\n  const lhs = pair[0];\n  const rhs = pair[1];\n  const aX_bY = isArchitectureDirectionX(lhs) && isArchitectureDirectionY(rhs);\n  const aY_bX = isArchitectureDirectionY(lhs) && isArchitectureDirectionX(rhs);\n  return aX_bY || aY_bX;\n}, "isArchitecturePairXY");\nvar isValidArchitectureDirectionPair = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(x) {\n  return x !== "LL" && x !== "RR" && x !== "TT" && x !== "BB";\n}, "isValidArchitectureDirectionPair");\nvar getArchitectureDirectionPair = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(sourceDir, targetDir) {\n  const pair = `${sourceDir}${targetDir}`;\n  return isValidArchitectureDirectionPair(pair) ? pair : void 0;\n}, "getArchitectureDirectionPair");\nvar shiftPositionByArchitectureDirectionPair = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function([x, y], pair) {\n  const lhs = pair[0];\n  const rhs = pair[1];\n  if (isArchitectureDirectionX(lhs)) {\n    if (isArchitectureDirectionY(rhs)) {\n      return [x + (lhs === "L" ? -1 : 1), y + (rhs === "T" ? 1 : -1)];\n    } else {\n      return [x + (lhs === "L" ? -1 : 1), y];\n    }\n  } else {\n    if (isArchitectureDirectionX(rhs)) {\n      return [x + (rhs === "L" ? 1 : -1), y + (lhs === "T" ? 1 : -1)];\n    } else {\n      return [x, y + (lhs === "T" ? 1 : -1)];\n    }\n  }\n}, "shiftPositionByArchitectureDirectionPair");\nvar getArchitectureDirectionXYFactors = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(pair) {\n  if (pair === "LT" || pair === "TL") {\n    return [1, 1];\n  } else if (pair === "BL" || pair === "LB") {\n    return [1, -1];\n  } else if (pair === "BR" || pair === "RB") {\n    return [-1, -1];\n  } else {\n    return [-1, 1];\n  }\n}, "getArchitectureDirectionXYFactors");\nvar getArchitectureDirectionAlignment = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(a, b) {\n  if (isArchitectureDirectionXY(a, b)) {\n    return "bend";\n  } else if (isArchitectureDirectionX(a)) {\n    return "horizontal";\n  }\n  return "vertical";\n}, "getArchitectureDirectionAlignment");\nvar isArchitectureService = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(x) {\n  const temp = x;\n  return temp.type === "service";\n}, "isArchitectureService");\nvar isArchitectureJunction = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(x) {\n  const temp = x;\n  return temp.type === "junction";\n}, "isArchitectureJunction");\nvar edgeData = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((edge) => {\n  return edge.data();\n}, "edgeData");\nvar nodeData = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((node) => {\n  return node.data();\n}, "nodeData");\n\n// src/diagrams/architecture/architectureDb.ts\nvar DEFAULT_ARCHITECTURE_CONFIG = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.defaultConfig_default.architecture;\nvar ArchitectureDB = class {\n  constructor() {\n    this.nodes = {};\n    this.groups = {};\n    this.edges = [];\n    this.registeredIds = {};\n    this.elements = {};\n    this.setAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.setAccTitle;\n    this.getAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getAccTitle;\n    this.setDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.setDiagramTitle;\n    this.getDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getDiagramTitle;\n    this.getAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getAccDescription;\n    this.setAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.setAccDescription;\n    this.clear();\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(this, "ArchitectureDB");\n  }\n  clear() {\n    this.nodes = {};\n    this.groups = {};\n    this.edges = [];\n    this.registeredIds = {};\n    this.dataStructures = void 0;\n    this.elements = {};\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.clear)();\n  }\n  addService({\n    id,\n    icon,\n    in: parent,\n    title,\n    iconText\n  }) {\n    if (this.registeredIds[id] !== void 0) {\n      throw new Error(\n        `The service id [${id}] is already in use by another ${this.registeredIds[id]}`\n      );\n    }\n    if (parent !== void 0) {\n      if (id === parent) {\n        throw new Error(`The service [${id}] cannot be placed within itself`);\n      }\n      if (this.registeredIds[parent] === void 0) {\n        throw new Error(\n          `The service [${id}]\'s parent does not exist. Please make sure the parent is created before this service`\n        );\n      }\n      if (this.registeredIds[parent] === "node") {\n        throw new Error(`The service [${id}]\'s parent is not a group`);\n      }\n    }\n    this.registeredIds[id] = "node";\n    this.nodes[id] = {\n      id,\n      type: "service",\n      icon,\n      iconText,\n      title,\n      edges: [],\n      in: parent\n    };\n  }\n  getServices() {\n    return Object.values(this.nodes).filter(isArchitectureService);\n  }\n  addJunction({ id, in: parent }) {\n    this.registeredIds[id] = "node";\n    this.nodes[id] = {\n      id,\n      type: "junction",\n      edges: [],\n      in: parent\n    };\n  }\n  getJunctions() {\n    return Object.values(this.nodes).filter(isArchitectureJunction);\n  }\n  getNodes() {\n    return Object.values(this.nodes);\n  }\n  getNode(id) {\n    return this.nodes[id] ?? null;\n  }\n  addGroup({ id, icon, in: parent, title }) {\n    if (this.registeredIds?.[id] !== void 0) {\n      throw new Error(\n        `The group id [${id}] is already in use by another ${this.registeredIds[id]}`\n      );\n    }\n    if (parent !== void 0) {\n      if (id === parent) {\n        throw new Error(`The group [${id}] cannot be placed within itself`);\n      }\n      if (this.registeredIds?.[parent] === void 0) {\n        throw new Error(\n          `The group [${id}]\'s parent does not exist. Please make sure the parent is created before this group`\n        );\n      }\n      if (this.registeredIds?.[parent] === "node") {\n        throw new Error(`The group [${id}]\'s parent is not a group`);\n      }\n    }\n    this.registeredIds[id] = "group";\n    this.groups[id] = {\n      id,\n      icon,\n      title,\n      in: parent\n    };\n  }\n  getGroups() {\n    return Object.values(this.groups);\n  }\n  addEdge({\n    lhsId,\n    rhsId,\n    lhsDir,\n    rhsDir,\n    lhsInto,\n    rhsInto,\n    lhsGroup,\n    rhsGroup,\n    title\n  }) {\n    if (!isArchitectureDirection(lhsDir)) {\n      throw new Error(\n        `Invalid direction given for left hand side of edge ${lhsId}--${rhsId}. Expected (L,R,T,B) got ${String(lhsDir)}`\n      );\n    }\n    if (!isArchitectureDirection(rhsDir)) {\n      throw new Error(\n        `Invalid direction given for right hand side of edge ${lhsId}--${rhsId}. Expected (L,R,T,B) got ${String(rhsDir)}`\n      );\n    }\n    if (this.nodes[lhsId] === void 0 && this.groups[lhsId] === void 0) {\n      throw new Error(\n        `The left-hand id [${lhsId}] does not yet exist. Please create the service/group before declaring an edge to it.`\n      );\n    }\n    if (this.nodes[rhsId] === void 0 && this.groups[rhsId] === void 0) {\n      throw new Error(\n        `The right-hand id [${rhsId}] does not yet exist. Please create the service/group before declaring an edge to it.`\n      );\n    }\n    const lhsGroupId = this.nodes[lhsId].in;\n    const rhsGroupId = this.nodes[rhsId].in;\n    if (lhsGroup && lhsGroupId && rhsGroupId && lhsGroupId == rhsGroupId) {\n      throw new Error(\n        `The left-hand id [${lhsId}] is modified to traverse the group boundary, but the edge does not pass through two groups.`\n      );\n    }\n    if (rhsGroup && lhsGroupId && rhsGroupId && lhsGroupId == rhsGroupId) {\n      throw new Error(\n        `The right-hand id [${rhsId}] is modified to traverse the group boundary, but the edge does not pass through two groups.`\n      );\n    }\n    const edge = {\n      lhsId,\n      lhsDir,\n      lhsInto,\n      lhsGroup,\n      rhsId,\n      rhsDir,\n      rhsInto,\n      rhsGroup,\n      title\n    };\n    this.edges.push(edge);\n    if (this.nodes[lhsId] && this.nodes[rhsId]) {\n      this.nodes[lhsId].edges.push(this.edges[this.edges.length - 1]);\n      this.nodes[rhsId].edges.push(this.edges[this.edges.length - 1]);\n    }\n  }\n  getEdges() {\n    return this.edges;\n  }\n  /**\n   * Returns the current diagram\'s adjacency list, spatial map, & group alignments.\n   * If they have not been created, run the algorithms to generate them.\n   * @returns\n   */\n  getDataStructures() {\n    if (this.dataStructures === void 0) {\n      const groupAlignments = {};\n      const adjList = Object.entries(this.nodes).reduce((prevOuter, [id, service]) => {\n        prevOuter[id] = service.edges.reduce((prevInner, edge) => {\n          const lhsGroupId = this.getNode(edge.lhsId)?.in;\n          const rhsGroupId = this.getNode(edge.rhsId)?.in;\n          if (lhsGroupId && rhsGroupId && lhsGroupId !== rhsGroupId) {\n            const alignment = getArchitectureDirectionAlignment(edge.lhsDir, edge.rhsDir);\n            if (alignment !== "bend") {\n              groupAlignments[lhsGroupId] ??= {};\n              groupAlignments[lhsGroupId][rhsGroupId] = alignment;\n              groupAlignments[rhsGroupId] ??= {};\n              groupAlignments[rhsGroupId][lhsGroupId] = alignment;\n            }\n          }\n          if (edge.lhsId === id) {\n            const pair = getArchitectureDirectionPair(edge.lhsDir, edge.rhsDir);\n            if (pair) {\n              prevInner[pair] = edge.rhsId;\n            }\n          } else {\n            const pair = getArchitectureDirectionPair(edge.rhsDir, edge.lhsDir);\n            if (pair) {\n              prevInner[pair] = edge.lhsId;\n            }\n          }\n          return prevInner;\n        }, {});\n        return prevOuter;\n      }, {});\n      const firstId = Object.keys(adjList)[0];\n      const visited = { [firstId]: 1 };\n      const notVisited = Object.keys(adjList).reduce(\n        (prev, id) => id === firstId ? prev : { ...prev, [id]: 1 },\n        {}\n      );\n      const BFS = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((startingId) => {\n        const spatialMap = { [startingId]: [0, 0] };\n        const queue = [startingId];\n        while (queue.length > 0) {\n          const id = queue.shift();\n          if (id) {\n            visited[id] = 1;\n            delete notVisited[id];\n            const adj = adjList[id];\n            const [posX, posY] = spatialMap[id];\n            Object.entries(adj).forEach(([dir, rhsId]) => {\n              if (!visited[rhsId]) {\n                spatialMap[rhsId] = shiftPositionByArchitectureDirectionPair(\n                  [posX, posY],\n                  dir\n                );\n                queue.push(rhsId);\n              }\n            });\n          }\n        }\n        return spatialMap;\n      }, "BFS");\n      const spatialMaps = [BFS(firstId)];\n      while (Object.keys(notVisited).length > 0) {\n        spatialMaps.push(BFS(Object.keys(notVisited)[0]));\n      }\n      this.dataStructures = {\n        adjList,\n        spatialMaps,\n        groupAlignments\n      };\n    }\n    return this.dataStructures;\n  }\n  setElementForId(id, element) {\n    this.elements[id] = element;\n  }\n  getElementById(id) {\n    return this.elements[id];\n  }\n  getConfig() {\n    return (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.cleanAndMerge)({\n      ...DEFAULT_ARCHITECTURE_CONFIG,\n      ...(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig)().architecture\n    });\n  }\n  getConfigField(field) {\n    return this.getConfig()[field];\n  }\n};\n\n// src/diagrams/architecture/architectureParser.ts\nvar populateDb = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((ast, db) => {\n  (0,_chunk_4BX2VUAB_mjs__WEBPACK_IMPORTED_MODULE_2__.populateCommonDb)(ast, db);\n  ast.groups.map((group) => db.addGroup(group));\n  ast.services.map((service) => db.addService({ ...service, type: "service" }));\n  ast.junctions.map((service) => db.addJunction({ ...service, type: "junction" }));\n  ast.edges.map((edge) => db.addEdge(edge));\n}, "populateDb");\nvar parser = {\n  parser: {\n    // @ts-expect-error - ArchitectureDB is not assignable to DiagramDB\n    yy: void 0\n  },\n  parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async (input) => {\n    const ast = await (0,_mermaid_js_parser__WEBPACK_IMPORTED_MODULE_6__.parse)("architecture", input);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.debug(ast);\n    const db = parser.parser?.yy;\n    if (!(db instanceof ArchitectureDB)) {\n      throw new Error(\n        "parser.parser?.yy was not a ArchitectureDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues."\n      );\n    }\n    populateDb(ast, db);\n  }, "parse")\n};\n\n// src/diagrams/architecture/architectureStyles.ts\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((options) => `\n  .edge {\n    stroke-width: ${options.archEdgeWidth};\n    stroke: ${options.archEdgeColor};\n    fill: none;\n  }\n\n  .arrow {\n    fill: ${options.archEdgeArrowColor};\n  }\n\n  .node-bkg {\n    fill: none;\n    stroke: ${options.archGroupBorderColor};\n    stroke-width: ${options.archGroupBorderWidth};\n    stroke-dasharray: 8;\n  }\n  .node-icon-text {\n    display: flex; \n    align-items: center;\n  }\n  \n  .node-icon-text > div {\n    color: #fff;\n    margin: 1px;\n    height: fit-content;\n    text-align: center;\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n  }\n`, "getStyles");\nvar architectureStyles_default = getStyles;\n\n// src/diagrams/architecture/architectureRenderer.ts\n\n\n\n\n// src/diagrams/architecture/architectureIcons.ts\nvar wrapIcon = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((icon) => {\n  return `<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${icon}</g>`;\n}, "wrapIcon");\nvar architectureIcons = {\n  prefix: "mermaid-architecture",\n  height: 80,\n  width: 80,\n  icons: {\n    database: {\n      body: wrapIcon(\n        \'<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>\'\n      )\n    },\n    server: {\n      body: wrapIcon(\n        \'<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>\'\n      )\n    },\n    disk: {\n      body: wrapIcon(\n        \'<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>\'\n      )\n    },\n    internet: {\n      body: wrapIcon(\n        \'<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>\'\n      )\n    },\n    cloud: {\n      body: wrapIcon(\n        \'<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>\'\n      )\n    },\n    unknown: _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_1__.unknownIcon,\n    blank: {\n      body: wrapIcon("")\n    }\n  }\n};\n\n// src/diagrams/architecture/svgDraw.ts\nvar drawEdges = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async function(edgesEl, cy, db) {\n  const padding = db.getConfigField("padding");\n  const iconSize = db.getConfigField("iconSize");\n  const halfIconSize = iconSize / 2;\n  const arrowSize = iconSize / 6;\n  const halfArrowSize = arrowSize / 2;\n  await Promise.all(\n    cy.edges().map(async (edge) => {\n      const {\n        source,\n        sourceDir,\n        sourceArrow,\n        sourceGroup,\n        target,\n        targetDir,\n        targetArrow,\n        targetGroup,\n        label\n      } = edgeData(edge);\n      let { x: startX, y: startY } = edge[0].sourceEndpoint();\n      const { x: midX, y: midY } = edge[0].midpoint();\n      let { x: endX, y: endY } = edge[0].targetEndpoint();\n      const groupEdgeShift = padding + 4;\n      if (sourceGroup) {\n        if (isArchitectureDirectionX(sourceDir)) {\n          startX += sourceDir === "L" ? -groupEdgeShift : groupEdgeShift;\n        } else {\n          startY += sourceDir === "T" ? -groupEdgeShift : groupEdgeShift + 18;\n        }\n      }\n      if (targetGroup) {\n        if (isArchitectureDirectionX(targetDir)) {\n          endX += targetDir === "L" ? -groupEdgeShift : groupEdgeShift;\n        } else {\n          endY += targetDir === "T" ? -groupEdgeShift : groupEdgeShift + 18;\n        }\n      }\n      if (!sourceGroup && db.getNode(source)?.type === "junction") {\n        if (isArchitectureDirectionX(sourceDir)) {\n          startX += sourceDir === "L" ? halfIconSize : -halfIconSize;\n        } else {\n          startY += sourceDir === "T" ? halfIconSize : -halfIconSize;\n        }\n      }\n      if (!targetGroup && db.getNode(target)?.type === "junction") {\n        if (isArchitectureDirectionX(targetDir)) {\n          endX += targetDir === "L" ? halfIconSize : -halfIconSize;\n        } else {\n          endY += targetDir === "T" ? halfIconSize : -halfIconSize;\n        }\n      }\n      if (edge[0]._private.rscratch) {\n        const g = edgesEl.insert("g");\n        g.insert("path").attr("d", `M ${startX},${startY} L ${midX},${midY} L${endX},${endY} `).attr("class", "edge").attr("id", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.getEdgeId)(source, target, { prefix: "L" }));\n        if (sourceArrow) {\n          const xShift = isArchitectureDirectionX(sourceDir) ? ArchitectureDirectionArrowShift[sourceDir](startX, arrowSize) : startX - halfArrowSize;\n          const yShift = isArchitectureDirectionY(sourceDir) ? ArchitectureDirectionArrowShift[sourceDir](startY, arrowSize) : startY - halfArrowSize;\n          g.insert("polygon").attr("points", ArchitectureDirectionArrow[sourceDir](arrowSize)).attr("transform", `translate(${xShift},${yShift})`).attr("class", "arrow");\n        }\n        if (targetArrow) {\n          const xShift = isArchitectureDirectionX(targetDir) ? ArchitectureDirectionArrowShift[targetDir](endX, arrowSize) : endX - halfArrowSize;\n          const yShift = isArchitectureDirectionY(targetDir) ? ArchitectureDirectionArrowShift[targetDir](endY, arrowSize) : endY - halfArrowSize;\n          g.insert("polygon").attr("points", ArchitectureDirectionArrow[targetDir](arrowSize)).attr("transform", `translate(${xShift},${yShift})`).attr("class", "arrow");\n        }\n        if (label) {\n          const axis = !isArchitectureDirectionXY(sourceDir, targetDir) ? isArchitectureDirectionX(sourceDir) ? "X" : "Y" : "XY";\n          let width = 0;\n          if (axis === "X") {\n            width = Math.abs(startX - endX);\n          } else if (axis === "Y") {\n            width = Math.abs(startY - endY) / 1.5;\n          } else {\n            width = Math.abs(startX - endX) / 2;\n          }\n          const textElem = g.append("g");\n          await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_1__.createText)(\n            textElem,\n            label,\n            {\n              useHtmlLabels: false,\n              width,\n              classes: "architecture-service-label"\n            },\n            (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()\n          );\n          textElem.attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "middle").attr("text-anchor", "middle");\n          if (axis === "X") {\n            textElem.attr("transform", "translate(" + midX + ", " + midY + ")");\n          } else if (axis === "Y") {\n            textElem.attr("transform", "translate(" + midX + ", " + midY + ") rotate(-90)");\n          } else if (axis === "XY") {\n            const pair = getArchitectureDirectionPair(sourceDir, targetDir);\n            if (pair && isArchitecturePairXY(pair)) {\n              const bboxOrig = textElem.node().getBoundingClientRect();\n              const [x, y] = getArchitectureDirectionXYFactors(pair);\n              textElem.attr("dominant-baseline", "auto").attr("transform", `rotate(${-1 * x * y * 45})`);\n              const bboxNew = textElem.node().getBoundingClientRect();\n              textElem.attr(\n                "transform",\n                `\n                translate(${midX}, ${midY - bboxOrig.height / 2})\n                translate(${x * bboxNew.width / 2}, ${y * bboxNew.height / 2})\n                rotate(${-1 * x * y * 45}, 0, ${bboxOrig.height / 2})\n              `\n              );\n            }\n          }\n        }\n      }\n    })\n  );\n}, "drawEdges");\nvar drawGroups = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async function(groupsEl, cy, db) {\n  const padding = db.getConfigField("padding");\n  const groupIconSize = padding * 0.75;\n  const fontSize = db.getConfigField("fontSize");\n  const iconSize = db.getConfigField("iconSize");\n  const halfIconSize = iconSize / 2;\n  await Promise.all(\n    cy.nodes().map(async (node) => {\n      const data = nodeData(node);\n      if (data.type === "group") {\n        const { h, w, x1, y1 } = node.boundingBox();\n        const groupsNode = groupsEl.append("rect");\n        groupsNode.attr("id", `group-${data.id}`).attr("x", x1 + halfIconSize).attr("y", y1 + halfIconSize).attr("width", w).attr("height", h).attr("class", "node-bkg");\n        const groupLabelContainer = groupsEl.append("g");\n        let shiftedX1 = x1;\n        let shiftedY1 = y1;\n        if (data.icon) {\n          const bkgElem = groupLabelContainer.append("g");\n          bkgElem.html(\n            `<g>${await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_1__.getIconSVG)(data.icon, { height: groupIconSize, width: groupIconSize, fallbackPrefix: architectureIcons.prefix })}</g>`\n          );\n          bkgElem.attr(\n            "transform",\n            "translate(" + (shiftedX1 + halfIconSize + 1) + ", " + (shiftedY1 + halfIconSize + 1) + ")"\n          );\n          shiftedX1 += groupIconSize;\n          shiftedY1 += fontSize / 2 - 1 - 2;\n        }\n        if (data.label) {\n          const textElem = groupLabelContainer.append("g");\n          await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_1__.createText)(\n            textElem,\n            data.label,\n            {\n              useHtmlLabels: false,\n              width: w,\n              classes: "architecture-service-label"\n            },\n            (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()\n          );\n          textElem.attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "start").attr("text-anchor", "start");\n          textElem.attr(\n            "transform",\n            "translate(" + (shiftedX1 + halfIconSize + 4) + ", " + (shiftedY1 + halfIconSize + 2) + ")"\n          );\n        }\n        db.setElementForId(data.id, groupsNode);\n      }\n    })\n  );\n}, "drawGroups");\nvar drawServices = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async function(db, elem, services) {\n  const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)();\n  for (const service of services) {\n    const serviceElem = elem.append("g");\n    const iconSize = db.getConfigField("iconSize");\n    if (service.title) {\n      const textElem = serviceElem.append("g");\n      await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_1__.createText)(\n        textElem,\n        service.title,\n        {\n          useHtmlLabels: false,\n          width: iconSize * 1.5,\n          classes: "architecture-service-label"\n        },\n        config\n      );\n      textElem.attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "middle").attr("text-anchor", "middle");\n      textElem.attr("transform", "translate(" + iconSize / 2 + ", " + iconSize + ")");\n    }\n    const bkgElem = serviceElem.append("g");\n    if (service.icon) {\n      bkgElem.html(\n        `<g>${await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_1__.getIconSVG)(service.icon, { height: iconSize, width: iconSize, fallbackPrefix: architectureIcons.prefix })}</g>`\n      );\n    } else if (service.iconText) {\n      bkgElem.html(\n        `<g>${await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_1__.getIconSVG)("blank", { height: iconSize, width: iconSize, fallbackPrefix: architectureIcons.prefix })}</g>`\n      );\n      const textElemContainer = bkgElem.append("g");\n      const fo = textElemContainer.append("foreignObject").attr("width", iconSize).attr("height", iconSize);\n      const divElem = fo.append("div").attr("class", "node-icon-text").attr("style", `height: ${iconSize}px;`).append("div").html((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.sanitizeText)(service.iconText, config));\n      const fontSize = parseInt(\n        window.getComputedStyle(divElem.node(), null).getPropertyValue("font-size").replace(/\\D/g, "")\n      ) ?? 16;\n      divElem.attr("style", `-webkit-line-clamp: ${Math.floor((iconSize - 2) / fontSize)};`);\n    } else {\n      bkgElem.append("path").attr("class", "node-bkg").attr("id", "node-" + service.id).attr(\n        "d",\n        `M0 ${iconSize} v${-iconSize} q0,-5 5,-5 h${iconSize} q5,0 5,5 v${iconSize} H0 Z`\n      );\n    }\n    serviceElem.attr("id", `service-${service.id}`).attr("class", "architecture-service");\n    const { width, height } = serviceElem.node().getBBox();\n    service.width = width;\n    service.height = height;\n    db.setElementForId(service.id, serviceElem);\n  }\n  return 0;\n}, "drawServices");\nvar drawJunctions = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(db, elem, junctions) {\n  junctions.forEach((junction) => {\n    const junctionElem = elem.append("g");\n    const iconSize = db.getConfigField("iconSize");\n    const bkgElem = junctionElem.append("g");\n    bkgElem.append("rect").attr("id", "node-" + junction.id).attr("fill-opacity", "0").attr("width", iconSize).attr("height", iconSize);\n    junctionElem.attr("class", "architecture-junction");\n    const { width, height } = junctionElem._groups[0][0].getBBox();\n    junctionElem.width = width;\n    junctionElem.height = height;\n    db.setElementForId(junction.id, junctionElem);\n  });\n}, "drawJunctions");\n\n// src/diagrams/architecture/architectureRenderer.ts\n(0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_1__.registerIconPacks)([\n  {\n    name: architectureIcons.prefix,\n    icons: architectureIcons\n  }\n]);\ncytoscape__WEBPACK_IMPORTED_MODULE_7__["default"].use(cytoscape_fcose__WEBPACK_IMPORTED_MODULE_8__);\nfunction addServices(services, cy, db) {\n  services.forEach((service) => {\n    cy.add({\n      group: "nodes",\n      data: {\n        type: "service",\n        id: service.id,\n        icon: service.icon,\n        label: service.title,\n        parent: service.in,\n        width: db.getConfigField("iconSize"),\n        height: db.getConfigField("iconSize")\n      },\n      classes: "node-service"\n    });\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(addServices, "addServices");\nfunction addJunctions(junctions, cy, db) {\n  junctions.forEach((junction) => {\n    cy.add({\n      group: "nodes",\n      data: {\n        type: "junction",\n        id: junction.id,\n        parent: junction.in,\n        width: db.getConfigField("iconSize"),\n        height: db.getConfigField("iconSize")\n      },\n      classes: "node-junction"\n    });\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(addJunctions, "addJunctions");\nfunction positionNodes(db, cy) {\n  cy.nodes().map((node) => {\n    const data = nodeData(node);\n    if (data.type === "group") {\n      return;\n    }\n    data.x = node.position().x;\n    data.y = node.position().y;\n    const nodeElem = db.getElementById(data.id);\n    nodeElem.attr("transform", "translate(" + (data.x || 0) + "," + (data.y || 0) + ")");\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(positionNodes, "positionNodes");\nfunction addGroups(groups, cy) {\n  groups.forEach((group) => {\n    cy.add({\n      group: "nodes",\n      data: {\n        type: "group",\n        id: group.id,\n        icon: group.icon,\n        label: group.title,\n        parent: group.in\n      },\n      classes: "node-group"\n    });\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(addGroups, "addGroups");\nfunction addEdges(edges, cy) {\n  edges.forEach((parsedEdge) => {\n    const { lhsId, rhsId, lhsInto, lhsGroup, rhsInto, lhsDir, rhsDir, rhsGroup, title } = parsedEdge;\n    const edgeType = isArchitectureDirectionXY(parsedEdge.lhsDir, parsedEdge.rhsDir) ? "segments" : "straight";\n    const edge = {\n      id: `${lhsId}-${rhsId}`,\n      label: title,\n      source: lhsId,\n      sourceDir: lhsDir,\n      sourceArrow: lhsInto,\n      sourceGroup: lhsGroup,\n      sourceEndpoint: lhsDir === "L" ? "0 50%" : lhsDir === "R" ? "100% 50%" : lhsDir === "T" ? "50% 0" : "50% 100%",\n      target: rhsId,\n      targetDir: rhsDir,\n      targetArrow: rhsInto,\n      targetGroup: rhsGroup,\n      targetEndpoint: rhsDir === "L" ? "0 50%" : rhsDir === "R" ? "100% 50%" : rhsDir === "T" ? "50% 0" : "50% 100%"\n    };\n    cy.add({\n      group: "edges",\n      data: edge,\n      classes: edgeType\n    });\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(addEdges, "addEdges");\nfunction getAlignments(db, spatialMaps, groupAlignments) {\n  const flattenAlignments = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((alignmentObj, alignmentDir) => {\n    return Object.entries(alignmentObj).reduce(\n      (prev, [dir, alignments2]) => {\n        let cnt = 0;\n        const arr = Object.entries(alignments2);\n        if (arr.length === 1) {\n          prev[dir] = arr[0][1];\n          return prev;\n        }\n        for (let i = 0; i < arr.length - 1; i++) {\n          for (let j = i + 1; j < arr.length; j++) {\n            const [aGroupId, aNodeIds] = arr[i];\n            const [bGroupId, bNodeIds] = arr[j];\n            const alignment = groupAlignments[aGroupId]?.[bGroupId];\n            if (alignment === alignmentDir) {\n              prev[dir] ??= [];\n              prev[dir] = [...prev[dir], ...aNodeIds, ...bNodeIds];\n            } else if (aGroupId === "default" || bGroupId === "default") {\n              prev[dir] ??= [];\n              prev[dir] = [...prev[dir], ...aNodeIds, ...bNodeIds];\n            } else {\n              const keyA = `${dir}-${cnt++}`;\n              prev[keyA] = aNodeIds;\n              const keyB = `${dir}-${cnt++}`;\n              prev[keyB] = bNodeIds;\n            }\n          }\n        }\n        return prev;\n      },\n      {}\n    );\n  }, "flattenAlignments");\n  const alignments = spatialMaps.map((spatialMap) => {\n    const horizontalAlignments = {};\n    const verticalAlignments = {};\n    Object.entries(spatialMap).forEach(([id, [x, y]]) => {\n      const nodeGroup = db.getNode(id)?.in ?? "default";\n      horizontalAlignments[y] ??= {};\n      horizontalAlignments[y][nodeGroup] ??= [];\n      horizontalAlignments[y][nodeGroup].push(id);\n      verticalAlignments[x] ??= {};\n      verticalAlignments[x][nodeGroup] ??= [];\n      verticalAlignments[x][nodeGroup].push(id);\n    });\n    return {\n      horiz: Object.values(flattenAlignments(horizontalAlignments, "horizontal")).filter(\n        (arr) => arr.length > 1\n      ),\n      vert: Object.values(flattenAlignments(verticalAlignments, "vertical")).filter(\n        (arr) => arr.length > 1\n      )\n    };\n  });\n  const [horizontal, vertical] = alignments.reduce(\n    ([prevHoriz, prevVert], { horiz, vert }) => {\n      return [\n        [...prevHoriz, ...horiz],\n        [...prevVert, ...vert]\n      ];\n    },\n    [[], []]\n  );\n  return {\n    horizontal,\n    vertical\n  };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(getAlignments, "getAlignments");\nfunction getRelativeConstraints(spatialMaps, db) {\n  const relativeConstraints = [];\n  const posToStr = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((pos) => `${pos[0]},${pos[1]}`, "posToStr");\n  const strToPos = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((pos) => pos.split(",").map((p) => parseInt(p)), "strToPos");\n  spatialMaps.forEach((spatialMap) => {\n    const invSpatialMap = Object.fromEntries(\n      Object.entries(spatialMap).map(([id, pos]) => [posToStr(pos), id])\n    );\n    const queue = [posToStr([0, 0])];\n    const visited = {};\n    const directions = {\n      L: [-1, 0],\n      R: [1, 0],\n      T: [0, 1],\n      B: [0, -1]\n    };\n    while (queue.length > 0) {\n      const curr = queue.shift();\n      if (curr) {\n        visited[curr] = 1;\n        const currId = invSpatialMap[curr];\n        if (currId) {\n          const currPos = strToPos(curr);\n          Object.entries(directions).forEach(([dir, shift]) => {\n            const newPos = posToStr([currPos[0] + shift[0], currPos[1] + shift[1]]);\n            const newId = invSpatialMap[newPos];\n            if (newId && !visited[newPos]) {\n              queue.push(newPos);\n              relativeConstraints.push({\n                [ArchitectureDirectionName[dir]]: newId,\n                [ArchitectureDirectionName[getOppositeArchitectureDirection(dir)]]: currId,\n                gap: 1.5 * db.getConfigField("iconSize")\n              });\n            }\n          });\n        }\n      }\n    }\n  });\n  return relativeConstraints;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(getRelativeConstraints, "getRelativeConstraints");\nfunction layoutArchitecture(services, junctions, groups, edges, db, { spatialMaps, groupAlignments }) {\n  return new Promise((resolve) => {\n    const renderEl = (0,d3__WEBPACK_IMPORTED_MODULE_9__.select)("body").append("div").attr("id", "cy").attr("style", "display:none");\n    const cy = (0,cytoscape__WEBPACK_IMPORTED_MODULE_7__["default"])({\n      container: document.getElementById("cy"),\n      style: [\n        {\n          selector: "edge",\n          style: {\n            "curve-style": "straight",\n            label: "data(label)",\n            "source-endpoint": "data(sourceEndpoint)",\n            "target-endpoint": "data(targetEndpoint)"\n          }\n        },\n        {\n          selector: "edge.segments",\n          style: {\n            "curve-style": "segments",\n            "segment-weights": "0",\n            "segment-distances": [0.5],\n            // @ts-ignore Incorrect library types\n            "edge-distances": "endpoints",\n            "source-endpoint": "data(sourceEndpoint)",\n            "target-endpoint": "data(targetEndpoint)"\n          }\n        },\n        {\n          selector: "node",\n          style: {\n            // @ts-ignore Incorrect library types\n            "compound-sizing-wrt-labels": "include"\n          }\n        },\n        {\n          selector: "node[label]",\n          style: {\n            "text-valign": "bottom",\n            "text-halign": "center",\n            "font-size": `${db.getConfigField("fontSize")}px`\n          }\n        },\n        {\n          selector: ".node-service",\n          style: {\n            label: "data(label)",\n            width: "data(width)",\n            height: "data(height)"\n          }\n        },\n        {\n          selector: ".node-junction",\n          style: {\n            width: "data(width)",\n            height: "data(height)"\n          }\n        },\n        {\n          selector: ".node-group",\n          style: {\n            // @ts-ignore Incorrect library types\n            padding: `${db.getConfigField("padding")}px`\n          }\n        }\n      ],\n      layout: {\n        name: "grid",\n        boundingBox: {\n          x1: 0,\n          x2: 100,\n          y1: 0,\n          y2: 100\n        }\n      }\n    });\n    renderEl.remove();\n    addGroups(groups, cy);\n    addServices(services, cy, db);\n    addJunctions(junctions, cy, db);\n    addEdges(edges, cy);\n    const alignmentConstraint = getAlignments(db, spatialMaps, groupAlignments);\n    const relativePlacementConstraint = getRelativeConstraints(spatialMaps, db);\n    const layout = cy.layout({\n      name: "fcose",\n      quality: "proof",\n      styleEnabled: false,\n      animate: false,\n      nodeDimensionsIncludeLabels: false,\n      // Adjust the edge parameters if it passes through the border of a group\n      // Hacky fix for: https://github.com/iVis-at-Bilkent/cytoscape.js-fcose/issues/67\n      idealEdgeLength(edge) {\n        const [nodeA, nodeB] = edge.connectedNodes();\n        const { parent: parentA } = nodeData(nodeA);\n        const { parent: parentB } = nodeData(nodeB);\n        const elasticity = parentA === parentB ? 1.5 * db.getConfigField("iconSize") : 0.5 * db.getConfigField("iconSize");\n        return elasticity;\n      },\n      edgeElasticity(edge) {\n        const [nodeA, nodeB] = edge.connectedNodes();\n        const { parent: parentA } = nodeData(nodeA);\n        const { parent: parentB } = nodeData(nodeB);\n        const elasticity = parentA === parentB ? 0.45 : 1e-3;\n        return elasticity;\n      },\n      alignmentConstraint,\n      relativePlacementConstraint\n    });\n    layout.one("layoutstop", () => {\n      function getSegmentWeights(source, target, pointX, pointY) {\n        let W, D;\n        const { x: sX, y: sY } = source;\n        const { x: tX, y: tY } = target;\n        D = (pointY - sY + (sX - pointX) * (sY - tY) / (sX - tX)) / Math.sqrt(1 + Math.pow((sY - tY) / (sX - tX), 2));\n        W = Math.sqrt(Math.pow(pointY - sY, 2) + Math.pow(pointX - sX, 2) - Math.pow(D, 2));\n        const distAB = Math.sqrt(Math.pow(tX - sX, 2) + Math.pow(tY - sY, 2));\n        W = W / distAB;\n        let delta1 = (tX - sX) * (pointY - sY) - (tY - sY) * (pointX - sX);\n        switch (true) {\n          case delta1 >= 0:\n            delta1 = 1;\n            break;\n          case delta1 < 0:\n            delta1 = -1;\n            break;\n        }\n        let delta2 = (tX - sX) * (pointX - sX) + (tY - sY) * (pointY - sY);\n        switch (true) {\n          case delta2 >= 0:\n            delta2 = 1;\n            break;\n          case delta2 < 0:\n            delta2 = -1;\n            break;\n        }\n        D = Math.abs(D) * delta1;\n        W = W * delta2;\n        return {\n          distances: D,\n          weights: W\n        };\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(getSegmentWeights, "getSegmentWeights");\n      cy.startBatch();\n      for (const edge of Object.values(cy.edges())) {\n        if (edge.data?.()) {\n          const { x: sX, y: sY } = edge.source().position();\n          const { x: tX, y: tY } = edge.target().position();\n          if (sX !== tX && sY !== tY) {\n            const sEP = edge.sourceEndpoint();\n            const tEP = edge.targetEndpoint();\n            const { sourceDir } = edgeData(edge);\n            const [pointX, pointY] = isArchitectureDirectionY(sourceDir) ? [sEP.x, tEP.y] : [tEP.x, sEP.y];\n            const { weights, distances } = getSegmentWeights(sEP, tEP, pointX, pointY);\n            edge.style("segment-distances", distances);\n            edge.style("segment-weights", weights);\n          }\n        }\n      }\n      cy.endBatch();\n      layout.run();\n    });\n    layout.run();\n    cy.ready((e) => {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Ready", e);\n      resolve(cy);\n    });\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(layoutArchitecture, "layoutArchitecture");\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async (text, id, _version, diagObj) => {\n  const db = diagObj.db;\n  const services = db.getServices();\n  const junctions = db.getJunctions();\n  const groups = db.getGroups();\n  const edges = db.getEdges();\n  const ds = db.getDataStructures();\n  const svg = (0,_chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__.selectSvgElement)(id);\n  const edgesElem = svg.append("g");\n  edgesElem.attr("class", "architecture-edges");\n  const servicesElem = svg.append("g");\n  servicesElem.attr("class", "architecture-services");\n  const groupElem = svg.append("g");\n  groupElem.attr("class", "architecture-groups");\n  await drawServices(db, servicesElem, services);\n  drawJunctions(db, servicesElem, junctions);\n  const cy = await layoutArchitecture(services, junctions, groups, edges, db, ds);\n  await drawEdges(edgesElem, cy, db);\n  await drawGroups(groupElem, cy, db);\n  positionNodes(db, cy);\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.setupGraphViewbox)(void 0, svg, db.getConfigField("padding"), db.getConfigField("useMaxWidth"));\n}, "draw");\nvar renderer = { draw };\n\n// src/diagrams/architecture/architectureDiagram.ts\nvar diagram = {\n  parser,\n  get db() {\n    return new ArchitectureDB();\n  },\n  renderer,\n  styles: architectureStyles_default\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/architectureDiagram-VXUJARFQ.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/blockDiagram-VD42YOAC.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_FMBD7UC4_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-FMBD7UC4.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-FMBD7UC4.mjs");\n/* harmony import */ var _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-HN2XXSSU.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HN2XXSSU.mjs");\n/* harmony import */ var _chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-CVBHYZKI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var lodash_es_clone_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash-es/clone.js */ "./node_modules/lodash-es/clone.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/rgba.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/channel.js");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n/* harmony import */ var dagre_d3_es_src_graphlib_index_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! dagre-d3-es/src/graphlib/index.js */ "./node_modules/dagre-d3-es/src/graphlib/index.js");\n\n\n\n\n\n\n\n\n// src/diagrams/block/parser/block.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [1, 15], $V1 = [1, 7], $V2 = [1, 13], $V3 = [1, 14], $V4 = [1, 19], $V5 = [1, 16], $V6 = [1, 17], $V7 = [1, 18], $V8 = [8, 30], $V9 = [8, 10, 21, 28, 29, 30, 31, 39, 43, 46], $Va = [1, 23], $Vb = [1, 24], $Vc = [8, 10, 15, 16, 21, 28, 29, 30, 31, 39, 43, 46], $Vd = [8, 10, 15, 16, 21, 27, 28, 29, 30, 31, 39, 43, 46], $Ve = [1, 49];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "spaceLines": 3, "SPACELINE": 4, "NL": 5, "separator": 6, "SPACE": 7, "EOF": 8, "start": 9, "BLOCK_DIAGRAM_KEY": 10, "document": 11, "stop": 12, "statement": 13, "link": 14, "LINK": 15, "START_LINK": 16, "LINK_LABEL": 17, "STR": 18, "nodeStatement": 19, "columnsStatement": 20, "SPACE_BLOCK": 21, "blockStatement": 22, "classDefStatement": 23, "cssClassStatement": 24, "styleStatement": 25, "node": 26, "SIZE": 27, "COLUMNS": 28, "id-block": 29, "end": 30, "NODE_ID": 31, "nodeShapeNLabel": 32, "dirList": 33, "DIR": 34, "NODE_DSTART": 35, "NODE_DEND": 36, "BLOCK_ARROW_START": 37, "BLOCK_ARROW_END": 38, "classDef": 39, "CLASSDEF_ID": 40, "CLASSDEF_STYLEOPTS": 41, "DEFAULT": 42, "class": 43, "CLASSENTITY_IDS": 44, "STYLECLASS": 45, "style": 46, "STYLE_ENTITY_IDS": 47, "STYLE_DEFINITION_DATA": 48, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 4: "SPACELINE", 5: "NL", 7: "SPACE", 8: "EOF", 10: "BLOCK_DIAGRAM_KEY", 15: "LINK", 16: "START_LINK", 17: "LINK_LABEL", 18: "STR", 21: "SPACE_BLOCK", 27: "SIZE", 28: "COLUMNS", 29: "id-block", 30: "end", 31: "NODE_ID", 34: "DIR", 35: "NODE_DSTART", 36: "NODE_DEND", 37: "BLOCK_ARROW_START", 38: "BLOCK_ARROW_END", 39: "classDef", 40: "CLASSDEF_ID", 41: "CLASSDEF_STYLEOPTS", 42: "DEFAULT", 43: "class", 44: "CLASSENTITY_IDS", 45: "STYLECLASS", 46: "style", 47: "STYLE_ENTITY_IDS", 48: "STYLE_DEFINITION_DATA" },\n    productions_: [0, [3, 1], [3, 2], [3, 2], [6, 1], [6, 1], [6, 1], [9, 3], [12, 1], [12, 1], [12, 2], [12, 2], [11, 1], [11, 2], [14, 1], [14, 4], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [19, 3], [19, 2], [19, 1], [20, 1], [22, 4], [22, 3], [26, 1], [26, 2], [33, 1], [33, 2], [32, 3], [32, 4], [23, 3], [23, 3], [24, 3], [25, 3]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 4:\n          yy.getLogger().debug("Rule: separator (NL) ");\n          break;\n        case 5:\n          yy.getLogger().debug("Rule: separator (Space) ");\n          break;\n        case 6:\n          yy.getLogger().debug("Rule: separator (EOF) ");\n          break;\n        case 7:\n          yy.getLogger().debug("Rule: hierarchy: ", $$[$0 - 1]);\n          yy.setHierarchy($$[$0 - 1]);\n          break;\n        case 8:\n          yy.getLogger().debug("Stop NL ");\n          break;\n        case 9:\n          yy.getLogger().debug("Stop EOF ");\n          break;\n        case 10:\n          yy.getLogger().debug("Stop NL2 ");\n          break;\n        case 11:\n          yy.getLogger().debug("Stop EOF2 ");\n          break;\n        case 12:\n          yy.getLogger().debug("Rule: statement: ", $$[$0]);\n          typeof $$[$0].length === "number" ? this.$ = $$[$0] : this.$ = [$$[$0]];\n          break;\n        case 13:\n          yy.getLogger().debug("Rule: statement #2: ", $$[$0 - 1]);\n          this.$ = [$$[$0 - 1]].concat($$[$0]);\n          break;\n        case 14:\n          yy.getLogger().debug("Rule: link: ", $$[$0], yytext);\n          this.$ = { edgeTypeStr: $$[$0], label: "" };\n          break;\n        case 15:\n          yy.getLogger().debug("Rule: LABEL link: ", $$[$0 - 3], $$[$0 - 1], $$[$0]);\n          this.$ = { edgeTypeStr: $$[$0], label: $$[$0 - 1] };\n          break;\n        case 18:\n          const num = parseInt($$[$0]);\n          const spaceId = yy.generateId();\n          this.$ = { id: spaceId, type: "space", label: "", width: num, children: [] };\n          break;\n        case 23:\n          yy.getLogger().debug("Rule: (nodeStatement link node) ", $$[$0 - 2], $$[$0 - 1], $$[$0], " typestr: ", $$[$0 - 1].edgeTypeStr);\n          const edgeData = yy.edgeStrToEdgeData($$[$0 - 1].edgeTypeStr);\n          this.$ = [\n            { id: $$[$0 - 2].id, label: $$[$0 - 2].label, type: $$[$0 - 2].type, directions: $$[$0 - 2].directions },\n            { id: $$[$0 - 2].id + "-" + $$[$0].id, start: $$[$0 - 2].id, end: $$[$0].id, label: $$[$0 - 1].label, type: "edge", directions: $$[$0].directions, arrowTypeEnd: edgeData, arrowTypeStart: "arrow_open" },\n            { id: $$[$0].id, label: $$[$0].label, type: yy.typeStr2Type($$[$0].typeStr), directions: $$[$0].directions }\n          ];\n          break;\n        case 24:\n          yy.getLogger().debug("Rule: nodeStatement (abc88 node size) ", $$[$0 - 1], $$[$0]);\n          this.$ = { id: $$[$0 - 1].id, label: $$[$0 - 1].label, type: yy.typeStr2Type($$[$0 - 1].typeStr), directions: $$[$0 - 1].directions, widthInColumns: parseInt($$[$0], 10) };\n          break;\n        case 25:\n          yy.getLogger().debug("Rule: nodeStatement (node) ", $$[$0]);\n          this.$ = { id: $$[$0].id, label: $$[$0].label, type: yy.typeStr2Type($$[$0].typeStr), directions: $$[$0].directions, widthInColumns: 1 };\n          break;\n        case 26:\n          yy.getLogger().debug("APA123", this ? this : "na");\n          yy.getLogger().debug("COLUMNS: ", $$[$0]);\n          this.$ = { type: "column-setting", columns: $$[$0] === "auto" ? -1 : parseInt($$[$0]) };\n          break;\n        case 27:\n          yy.getLogger().debug("Rule: id-block statement : ", $$[$0 - 2], $$[$0 - 1]);\n          const id2 = yy.generateId();\n          this.$ = { ...$$[$0 - 2], type: "composite", children: $$[$0 - 1] };\n          break;\n        case 28:\n          yy.getLogger().debug("Rule: blockStatement : ", $$[$0 - 2], $$[$0 - 1], $$[$0]);\n          const id = yy.generateId();\n          this.$ = { id, type: "composite", label: "", children: $$[$0 - 1] };\n          break;\n        case 29:\n          yy.getLogger().debug("Rule: node (NODE_ID separator): ", $$[$0]);\n          this.$ = { id: $$[$0] };\n          break;\n        case 30:\n          yy.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ", $$[$0 - 1], $$[$0]);\n          this.$ = { id: $$[$0 - 1], label: $$[$0].label, typeStr: $$[$0].typeStr, directions: $$[$0].directions };\n          break;\n        case 31:\n          yy.getLogger().debug("Rule: dirList: ", $$[$0]);\n          this.$ = [$$[$0]];\n          break;\n        case 32:\n          yy.getLogger().debug("Rule: dirList: ", $$[$0 - 1], $$[$0]);\n          this.$ = [$$[$0 - 1]].concat($$[$0]);\n          break;\n        case 33:\n          yy.getLogger().debug("Rule: nodeShapeNLabel: ", $$[$0 - 2], $$[$0 - 1], $$[$0]);\n          this.$ = { typeStr: $$[$0 - 2] + $$[$0], label: $$[$0 - 1] };\n          break;\n        case 34:\n          yy.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ", $$[$0 - 3], $$[$0 - 2], " #3:", $$[$0 - 1], $$[$0]);\n          this.$ = { typeStr: $$[$0 - 3] + $$[$0], label: $$[$0 - 2], directions: $$[$0 - 1] };\n          break;\n        case 35:\n        case 36:\n          this.$ = { type: "classDef", id: $$[$0 - 1].trim(), css: $$[$0].trim() };\n          break;\n        case 37:\n          this.$ = { type: "applyClass", id: $$[$0 - 1].trim(), styleClass: $$[$0].trim() };\n          break;\n        case 38:\n          this.$ = { type: "applyStyles", id: $$[$0 - 1].trim(), stylesStr: $$[$0].trim() };\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 9: 1, 10: [1, 2] }, { 1: [3] }, { 10: $V0, 11: 3, 13: 4, 19: 5, 20: 6, 21: $V1, 22: 8, 23: 9, 24: 10, 25: 11, 26: 12, 28: $V2, 29: $V3, 31: $V4, 39: $V5, 43: $V6, 46: $V7 }, { 8: [1, 20] }, o($V8, [2, 12], { 13: 4, 19: 5, 20: 6, 22: 8, 23: 9, 24: 10, 25: 11, 26: 12, 11: 21, 10: $V0, 21: $V1, 28: $V2, 29: $V3, 31: $V4, 39: $V5, 43: $V6, 46: $V7 }), o($V9, [2, 16], { 14: 22, 15: $Va, 16: $Vb }), o($V9, [2, 17]), o($V9, [2, 18]), o($V9, [2, 19]), o($V9, [2, 20]), o($V9, [2, 21]), o($V9, [2, 22]), o($Vc, [2, 25], { 27: [1, 25] }), o($V9, [2, 26]), { 19: 26, 26: 12, 31: $V4 }, { 10: $V0, 11: 27, 13: 4, 19: 5, 20: 6, 21: $V1, 22: 8, 23: 9, 24: 10, 25: 11, 26: 12, 28: $V2, 29: $V3, 31: $V4, 39: $V5, 43: $V6, 46: $V7 }, { 40: [1, 28], 42: [1, 29] }, { 44: [1, 30] }, { 47: [1, 31] }, o($Vd, [2, 29], { 32: 32, 35: [1, 33], 37: [1, 34] }), { 1: [2, 7] }, o($V8, [2, 13]), { 26: 35, 31: $V4 }, { 31: [2, 14] }, { 17: [1, 36] }, o($Vc, [2, 24]), { 10: $V0, 11: 37, 13: 4, 14: 22, 15: $Va, 16: $Vb, 19: 5, 20: 6, 21: $V1, 22: 8, 23: 9, 24: 10, 25: 11, 26: 12, 28: $V2, 29: $V3, 31: $V4, 39: $V5, 43: $V6, 46: $V7 }, { 30: [1, 38] }, { 41: [1, 39] }, { 41: [1, 40] }, { 45: [1, 41] }, { 48: [1, 42] }, o($Vd, [2, 30]), { 18: [1, 43] }, { 18: [1, 44] }, o($Vc, [2, 23]), { 18: [1, 45] }, { 30: [1, 46] }, o($V9, [2, 28]), o($V9, [2, 35]), o($V9, [2, 36]), o($V9, [2, 37]), o($V9, [2, 38]), { 36: [1, 47] }, { 33: 48, 34: $Ve }, { 15: [1, 50] }, o($V9, [2, 27]), o($Vd, [2, 33]), { 38: [1, 51] }, { 33: 52, 34: $Ve, 38: [2, 31] }, { 31: [2, 15] }, o($Vd, [2, 34]), { 38: [2, 32] }],\n    defaultActions: { 20: [2, 7], 23: [2, 14], 50: [2, 15], 52: [2, 32] },\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: {},\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            yy.getLogger().debug("Found block-beta");\n            return 10;\n            // removed by dead control flow\n\n          case 1:\n            yy.getLogger().debug("Found id-block");\n            return 29;\n            // removed by dead control flow\n\n          case 2:\n            yy.getLogger().debug("Found block");\n            return 10;\n            // removed by dead control flow\n\n          case 3:\n            yy.getLogger().debug(".", yy_.yytext);\n            break;\n          case 4:\n            yy.getLogger().debug("_", yy_.yytext);\n            break;\n          case 5:\n            return 5;\n            // removed by dead control flow\n\n          case 6:\n            yy_.yytext = -1;\n            return 28;\n            // removed by dead control flow\n\n          case 7:\n            yy_.yytext = yy_.yytext.replace(/columns\\s+/, "");\n            yy.getLogger().debug("COLUMNS (LEX)", yy_.yytext);\n            return 28;\n            // removed by dead control flow\n\n          case 8:\n            this.pushState("md_string");\n            break;\n          case 9:\n            return "MD_STR";\n            // removed by dead control flow\n\n          case 10:\n            this.popState();\n            break;\n          case 11:\n            this.pushState("string");\n            break;\n          case 12:\n            yy.getLogger().debug("LEX: POPPING STR:", yy_.yytext);\n            this.popState();\n            break;\n          case 13:\n            yy.getLogger().debug("LEX: STR end:", yy_.yytext);\n            return "STR";\n            // removed by dead control flow\n\n          case 14:\n            yy_.yytext = yy_.yytext.replace(/space\\:/, "");\n            yy.getLogger().debug("SPACE NUM (LEX)", yy_.yytext);\n            return 21;\n            // removed by dead control flow\n\n          case 15:\n            yy_.yytext = "1";\n            yy.getLogger().debug("COLUMNS (LEX)", yy_.yytext);\n            return 21;\n            // removed by dead control flow\n\n          case 16:\n            return 42;\n            // removed by dead control flow\n\n          case 17:\n            return "LINKSTYLE";\n            // removed by dead control flow\n\n          case 18:\n            return "INTERPOLATE";\n            // removed by dead control flow\n\n          case 19:\n            this.pushState("CLASSDEF");\n            return 39;\n            // removed by dead control flow\n\n          case 20:\n            this.popState();\n            this.pushState("CLASSDEFID");\n            return "DEFAULT_CLASSDEF_ID";\n            // removed by dead control flow\n\n          case 21:\n            this.popState();\n            this.pushState("CLASSDEFID");\n            return 40;\n            // removed by dead control flow\n\n          case 22:\n            this.popState();\n            return 41;\n            // removed by dead control flow\n\n          case 23:\n            this.pushState("CLASS");\n            return 43;\n            // removed by dead control flow\n\n          case 24:\n            this.popState();\n            this.pushState("CLASS_STYLE");\n            return 44;\n            // removed by dead control flow\n\n          case 25:\n            this.popState();\n            return 45;\n            // removed by dead control flow\n\n          case 26:\n            this.pushState("STYLE_STMNT");\n            return 46;\n            // removed by dead control flow\n\n          case 27:\n            this.popState();\n            this.pushState("STYLE_DEFINITION");\n            return 47;\n            // removed by dead control flow\n\n          case 28:\n            this.popState();\n            return 48;\n            // removed by dead control flow\n\n          case 29:\n            this.pushState("acc_title");\n            return "acc_title";\n            // removed by dead control flow\n\n          case 30:\n            this.popState();\n            return "acc_title_value";\n            // removed by dead control flow\n\n          case 31:\n            this.pushState("acc_descr");\n            return "acc_descr";\n            // removed by dead control flow\n\n          case 32:\n            this.popState();\n            return "acc_descr_value";\n            // removed by dead control flow\n\n          case 33:\n            this.pushState("acc_descr_multiline");\n            break;\n          case 34:\n            this.popState();\n            break;\n          case 35:\n            return "acc_descr_multiline_value";\n            // removed by dead control flow\n\n          case 36:\n            return 30;\n            // removed by dead control flow\n\n          case 37:\n            this.popState();\n            yy.getLogger().debug("Lex: ((");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 38:\n            this.popState();\n            yy.getLogger().debug("Lex: ((");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 39:\n            this.popState();\n            yy.getLogger().debug("Lex: ))");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 40:\n            this.popState();\n            yy.getLogger().debug("Lex: ((");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 41:\n            this.popState();\n            yy.getLogger().debug("Lex: ((");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 42:\n            this.popState();\n            yy.getLogger().debug("Lex: (-");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 43:\n            this.popState();\n            yy.getLogger().debug("Lex: -)");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 44:\n            this.popState();\n            yy.getLogger().debug("Lex: ((");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 45:\n            this.popState();\n            yy.getLogger().debug("Lex: ]]");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 46:\n            this.popState();\n            yy.getLogger().debug("Lex: (");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 47:\n            this.popState();\n            yy.getLogger().debug("Lex: ])");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 48:\n            this.popState();\n            yy.getLogger().debug("Lex: /]");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 49:\n            this.popState();\n            yy.getLogger().debug("Lex: /]");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 50:\n            this.popState();\n            yy.getLogger().debug("Lex: )]");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 51:\n            this.popState();\n            yy.getLogger().debug("Lex: )");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 52:\n            this.popState();\n            yy.getLogger().debug("Lex: ]>");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 53:\n            this.popState();\n            yy.getLogger().debug("Lex: ]");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 54:\n            yy.getLogger().debug("Lexa: -)");\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 55:\n            yy.getLogger().debug("Lexa: (-");\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 56:\n            yy.getLogger().debug("Lexa: ))");\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 57:\n            yy.getLogger().debug("Lexa: )");\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 58:\n            yy.getLogger().debug("Lex: (((");\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 59:\n            yy.getLogger().debug("Lexa: )");\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 60:\n            yy.getLogger().debug("Lexa: )");\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 61:\n            yy.getLogger().debug("Lexa: )");\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 62:\n            yy.getLogger().debug("Lexc: >");\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 63:\n            yy.getLogger().debug("Lexa: ([");\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 64:\n            yy.getLogger().debug("Lexa: )");\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 65:\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 66:\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 67:\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 68:\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 69:\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 70:\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 71:\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 72:\n            yy.getLogger().debug("Lexa: [");\n            this.pushState("NODE");\n            return 35;\n            // removed by dead control flow\n\n          case 73:\n            this.pushState("BLOCK_ARROW");\n            yy.getLogger().debug("LEX ARR START");\n            return 37;\n            // removed by dead control flow\n\n          case 74:\n            yy.getLogger().debug("Lex: NODE_ID", yy_.yytext);\n            return 31;\n            // removed by dead control flow\n\n          case 75:\n            yy.getLogger().debug("Lex: EOF", yy_.yytext);\n            return 8;\n            // removed by dead control flow\n\n          case 76:\n            this.pushState("md_string");\n            break;\n          case 77:\n            this.pushState("md_string");\n            break;\n          case 78:\n            return "NODE_DESCR";\n            // removed by dead control flow\n\n          case 79:\n            this.popState();\n            break;\n          case 80:\n            yy.getLogger().debug("Lex: Starting string");\n            this.pushState("string");\n            break;\n          case 81:\n            yy.getLogger().debug("LEX ARR: Starting string");\n            this.pushState("string");\n            break;\n          case 82:\n            yy.getLogger().debug("LEX: NODE_DESCR:", yy_.yytext);\n            return "NODE_DESCR";\n            // removed by dead control flow\n\n          case 83:\n            yy.getLogger().debug("LEX POPPING");\n            this.popState();\n            break;\n          case 84:\n            yy.getLogger().debug("Lex: =>BAE");\n            this.pushState("ARROW_DIR");\n            break;\n          case 85:\n            yy_.yytext = yy_.yytext.replace(/^,\\s*/, "");\n            yy.getLogger().debug("Lex (right): dir:", yy_.yytext);\n            return "DIR";\n            // removed by dead control flow\n\n          case 86:\n            yy_.yytext = yy_.yytext.replace(/^,\\s*/, "");\n            yy.getLogger().debug("Lex (left):", yy_.yytext);\n            return "DIR";\n            // removed by dead control flow\n\n          case 87:\n            yy_.yytext = yy_.yytext.replace(/^,\\s*/, "");\n            yy.getLogger().debug("Lex (x):", yy_.yytext);\n            return "DIR";\n            // removed by dead control flow\n\n          case 88:\n            yy_.yytext = yy_.yytext.replace(/^,\\s*/, "");\n            yy.getLogger().debug("Lex (y):", yy_.yytext);\n            return "DIR";\n            // removed by dead control flow\n\n          case 89:\n            yy_.yytext = yy_.yytext.replace(/^,\\s*/, "");\n            yy.getLogger().debug("Lex (up):", yy_.yytext);\n            return "DIR";\n            // removed by dead control flow\n\n          case 90:\n            yy_.yytext = yy_.yytext.replace(/^,\\s*/, "");\n            yy.getLogger().debug("Lex (down):", yy_.yytext);\n            return "DIR";\n            // removed by dead control flow\n\n          case 91:\n            yy_.yytext = "]>";\n            yy.getLogger().debug("Lex (ARROW_DIR end):", yy_.yytext);\n            this.popState();\n            this.popState();\n            return "BLOCK_ARROW_END";\n            // removed by dead control flow\n\n          case 92:\n            yy.getLogger().debug("Lex: LINK", "#" + yy_.yytext + "#");\n            return 15;\n            // removed by dead control flow\n\n          case 93:\n            yy.getLogger().debug("Lex: LINK", yy_.yytext);\n            return 15;\n            // removed by dead control flow\n\n          case 94:\n            yy.getLogger().debug("Lex: LINK", yy_.yytext);\n            return 15;\n            // removed by dead control flow\n\n          case 95:\n            yy.getLogger().debug("Lex: LINK", yy_.yytext);\n            return 15;\n            // removed by dead control flow\n\n          case 96:\n            yy.getLogger().debug("Lex: START_LINK", yy_.yytext);\n            this.pushState("LLABEL");\n            return 16;\n            // removed by dead control flow\n\n          case 97:\n            yy.getLogger().debug("Lex: START_LINK", yy_.yytext);\n            this.pushState("LLABEL");\n            return 16;\n            // removed by dead control flow\n\n          case 98:\n            yy.getLogger().debug("Lex: START_LINK", yy_.yytext);\n            this.pushState("LLABEL");\n            return 16;\n            // removed by dead control flow\n\n          case 99:\n            this.pushState("md_string");\n            break;\n          case 100:\n            yy.getLogger().debug("Lex: Starting string");\n            this.pushState("string");\n            return "LINK_LABEL";\n            // removed by dead control flow\n\n          case 101:\n            this.popState();\n            yy.getLogger().debug("Lex: LINK", "#" + yy_.yytext + "#");\n            return 15;\n            // removed by dead control flow\n\n          case 102:\n            this.popState();\n            yy.getLogger().debug("Lex: LINK", yy_.yytext);\n            return 15;\n            // removed by dead control flow\n\n          case 103:\n            this.popState();\n            yy.getLogger().debug("Lex: LINK", yy_.yytext);\n            return 15;\n            // removed by dead control flow\n\n          case 104:\n            yy.getLogger().debug("Lex: COLON", yy_.yytext);\n            yy_.yytext = yy_.yytext.slice(1);\n            return 27;\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:block-beta\\b)/, /^(?:block:)/, /^(?:block\\b)/, /^(?:[\\s]+)/, /^(?:[\\n]+)/, /^(?:((\\u000D\\u000A)|(\\u000A)))/, /^(?:columns\\s+auto\\b)/, /^(?:columns\\s+[\\d]+)/, /^(?:["][`])/, /^(?:[^`"]+)/, /^(?:[`]["])/, /^(?:["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:space[:]\\d+)/, /^(?:space\\b)/, /^(?:default\\b)/, /^(?:linkStyle\\b)/, /^(?:interpolate\\b)/, /^(?:classDef\\s+)/, /^(?:DEFAULT\\s+)/, /^(?:\\w+\\s+)/, /^(?:[^\\n]*)/, /^(?:class\\s+)/, /^(?:(\\w+)+((,\\s*\\w+)*))/, /^(?:[^\\n]*)/, /^(?:style\\s+)/, /^(?:(\\w+)+((,\\s*\\w+)*))/, /^(?:[^\\n]*)/, /^(?:accTitle\\s*:\\s*)/, /^(?:(?!\\n||)*[^\\n]*)/, /^(?:accDescr\\s*:\\s*)/, /^(?:(?!\\n||)*[^\\n]*)/, /^(?:accDescr\\s*\\{\\s*)/, /^(?:[\\}])/, /^(?:[^\\}]*)/, /^(?:end\\b\\s*)/, /^(?:\\(\\(\\()/, /^(?:\\)\\)\\))/, /^(?:[\\)]\\))/, /^(?:\\}\\})/, /^(?:\\})/, /^(?:\\(-)/, /^(?:-\\))/, /^(?:\\(\\()/, /^(?:\\]\\])/, /^(?:\\()/, /^(?:\\]\\))/, /^(?:\\\\\\])/, /^(?:\\/\\])/, /^(?:\\)\\])/, /^(?:[\\)])/, /^(?:\\]>)/, /^(?:[\\]])/, /^(?:-\\))/, /^(?:\\(-)/, /^(?:\\)\\))/, /^(?:\\))/, /^(?:\\(\\(\\()/, /^(?:\\(\\()/, /^(?:\\{\\{)/, /^(?:\\{)/, /^(?:>)/, /^(?:\\(\\[)/, /^(?:\\()/, /^(?:\\[\\[)/, /^(?:\\[\\|)/, /^(?:\\[\\()/, /^(?:\\)\\)\\))/, /^(?:\\[\\\\)/, /^(?:\\[\\/)/, /^(?:\\[\\\\)/, /^(?:\\[)/, /^(?:<\\[)/, /^(?:[^\\(\\[\\n\\-\\)\\{\\}\\s\\<\\>:]+)/, /^(?:$)/, /^(?:["][`])/, /^(?:["][`])/, /^(?:[^`"]+)/, /^(?:[`]["])/, /^(?:["])/, /^(?:["])/, /^(?:[^"]+)/, /^(?:["])/, /^(?:\\]>\\s*\\()/, /^(?:,?\\s*right\\s*)/, /^(?:,?\\s*left\\s*)/, /^(?:,?\\s*x\\s*)/, /^(?:,?\\s*y\\s*)/, /^(?:,?\\s*up\\s*)/, /^(?:,?\\s*down\\s*)/, /^(?:\\)\\s*)/, /^(?:\\s*[xo<]?--+[-xo>]\\s*)/, /^(?:\\s*[xo<]?==+[=xo>]\\s*)/, /^(?:\\s*[xo<]?-?\\.+-[xo>]?\\s*)/, /^(?:\\s*~~[\\~]+\\s*)/, /^(?:\\s*[xo<]?--\\s*)/, /^(?:\\s*[xo<]?==\\s*)/, /^(?:\\s*[xo<]?-\\.\\s*)/, /^(?:["][`])/, /^(?:["])/, /^(?:\\s*[xo<]?--+[-xo>]\\s*)/, /^(?:\\s*[xo<]?==+[=xo>]\\s*)/, /^(?:\\s*[xo<]?-?\\.+-[xo>]?\\s*)/, /^(?::\\d+)/],\n      conditions: { "STYLE_DEFINITION": { "rules": [28], "inclusive": false }, "STYLE_STMNT": { "rules": [27], "inclusive": false }, "CLASSDEFID": { "rules": [22], "inclusive": false }, "CLASSDEF": { "rules": [20, 21], "inclusive": false }, "CLASS_STYLE": { "rules": [25], "inclusive": false }, "CLASS": { "rules": [24], "inclusive": false }, "LLABEL": { "rules": [99, 100, 101, 102, 103], "inclusive": false }, "ARROW_DIR": { "rules": [85, 86, 87, 88, 89, 90, 91], "inclusive": false }, "BLOCK_ARROW": { "rules": [76, 81, 84], "inclusive": false }, "NODE": { "rules": [37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 77, 80], "inclusive": false }, "md_string": { "rules": [9, 10, 78, 79], "inclusive": false }, "space": { "rules": [], "inclusive": false }, "string": { "rules": [12, 13, 82, 83], "inclusive": false }, "acc_descr_multiline": { "rules": [34, 35], "inclusive": false }, "acc_descr": { "rules": [32], "inclusive": false }, "acc_title": { "rules": [30], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 3, 4, 5, 6, 7, 8, 11, 14, 15, 16, 17, 18, 19, 23, 26, 29, 31, 33, 36, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 92, 93, 94, 95, 96, 97, 98, 104], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar block_default = parser;\n\n// src/diagrams/block/blockDB.ts\n\nvar blockDatabase = /* @__PURE__ */ new Map();\nvar edgeList = [];\nvar edgeCount = /* @__PURE__ */ new Map();\nvar COLOR_KEYWORD = "color";\nvar FILL_KEYWORD = "fill";\nvar BG_FILL = "bgFill";\nvar STYLECLASS_SEP = ",";\nvar config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)();\nvar classes = /* @__PURE__ */ new Map();\nvar sanitizeText2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((txt) => _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.common_default.sanitizeText(txt, config), "sanitizeText");\nvar addStyleClass = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(id, styleAttributes = "") {\n  let foundClass = classes.get(id);\n  if (!foundClass) {\n    foundClass = { id, styles: [], textStyles: [] };\n    classes.set(id, foundClass);\n  }\n  if (styleAttributes !== void 0 && styleAttributes !== null) {\n    styleAttributes.split(STYLECLASS_SEP).forEach((attrib) => {\n      const fixedAttrib = attrib.replace(/([^;]*);/, "$1").trim();\n      if (RegExp(COLOR_KEYWORD).exec(attrib)) {\n        const newStyle1 = fixedAttrib.replace(FILL_KEYWORD, BG_FILL);\n        const newStyle2 = newStyle1.replace(COLOR_KEYWORD, FILL_KEYWORD);\n        foundClass.textStyles.push(newStyle2);\n      }\n      foundClass.styles.push(fixedAttrib);\n    });\n  }\n}, "addStyleClass");\nvar addStyle2Node = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(id, styles = "") {\n  const foundBlock = blockDatabase.get(id);\n  if (styles !== void 0 && styles !== null) {\n    foundBlock.styles = styles.split(STYLECLASS_SEP);\n  }\n}, "addStyle2Node");\nvar setCssClass = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(itemIds, cssClassName) {\n  itemIds.split(",").forEach(function(id) {\n    let foundBlock = blockDatabase.get(id);\n    if (foundBlock === void 0) {\n      const trimmedId = id.trim();\n      foundBlock = { id: trimmedId, type: "na", children: [] };\n      blockDatabase.set(trimmedId, foundBlock);\n    }\n    if (!foundBlock.classes) {\n      foundBlock.classes = [];\n    }\n    foundBlock.classes.push(cssClassName);\n  });\n}, "setCssClass");\nvar populateBlockDatabase = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((_blockList, parent) => {\n  const blockList = _blockList.flat();\n  const children = [];\n  const columnSettingBlock = blockList.find((b) => b?.type === "column-setting");\n  const column = columnSettingBlock?.columns ?? -1;\n  for (const block of blockList) {\n    if (typeof column === "number" && column > 0 && block.type !== "column-setting" && typeof block.widthInColumns === "number" && block.widthInColumns > column) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.warn(\n        `Block ${block.id} width ${block.widthInColumns} exceeds configured column width ${column}`\n      );\n    }\n    if (block.label) {\n      block.label = sanitizeText2(block.label);\n    }\n    if (block.type === "classDef") {\n      addStyleClass(block.id, block.css);\n      continue;\n    }\n    if (block.type === "applyClass") {\n      setCssClass(block.id, block?.styleClass ?? "");\n      continue;\n    }\n    if (block.type === "applyStyles") {\n      if (block?.stylesStr) {\n        addStyle2Node(block.id, block?.stylesStr);\n      }\n      continue;\n    }\n    if (block.type === "column-setting") {\n      parent.columns = block.columns ?? -1;\n    } else if (block.type === "edge") {\n      const count = (edgeCount.get(block.id) ?? 0) + 1;\n      edgeCount.set(block.id, count);\n      block.id = count + "-" + block.id;\n      edgeList.push(block);\n    } else {\n      if (!block.label) {\n        if (block.type === "composite") {\n          block.label = "";\n        } else {\n          block.label = block.id;\n        }\n      }\n      const existingBlock = blockDatabase.get(block.id);\n      if (existingBlock === void 0) {\n        blockDatabase.set(block.id, block);\n      } else {\n        if (block.type !== "na") {\n          existingBlock.type = block.type;\n        }\n        if (block.label !== block.id) {\n          existingBlock.label = block.label;\n        }\n      }\n      if (block.children) {\n        populateBlockDatabase(block.children, block);\n      }\n      if (block.type === "space") {\n        const w = block.width ?? 1;\n        for (let j = 0; j < w; j++) {\n          const newBlock = (0,lodash_es_clone_js__WEBPACK_IMPORTED_MODULE_7__["default"])(block);\n          newBlock.id = newBlock.id + "-" + j;\n          blockDatabase.set(newBlock.id, newBlock);\n          children.push(newBlock);\n        }\n      } else if (existingBlock === void 0) {\n        children.push(block);\n      }\n    }\n  }\n  parent.children = children;\n}, "populateBlockDatabase");\nvar blocks = [];\nvar rootBlock = { id: "root", type: "composite", children: [], columns: -1 };\nvar clear2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(() => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("Clear called");\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.clear)();\n  rootBlock = { id: "root", type: "composite", children: [], columns: -1 };\n  blockDatabase = /* @__PURE__ */ new Map([["root", rootBlock]]);\n  blocks = [];\n  classes = /* @__PURE__ */ new Map();\n  edgeList = [];\n  edgeCount = /* @__PURE__ */ new Map();\n}, "clear");\nfunction typeStr2Type(typeStr) {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("typeStr2Type", typeStr);\n  switch (typeStr) {\n    case "[]":\n      return "square";\n    case "()":\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("we have a round");\n      return "round";\n    case "(())":\n      return "circle";\n    case ">]":\n      return "rect_left_inv_arrow";\n    case "{}":\n      return "diamond";\n    case "{{}}":\n      return "hexagon";\n    case "([])":\n      return "stadium";\n    case "[[]]":\n      return "subroutine";\n    case "[()]":\n      return "cylinder";\n    case "((()))":\n      return "doublecircle";\n    case "[//]":\n      return "lean_right";\n    case "[\\\\\\\\]":\n      return "lean_left";\n    case "[/\\\\]":\n      return "trapezoid";\n    case "[\\\\/]":\n      return "inv_trapezoid";\n    case "<[]>":\n      return "block_arrow";\n    default:\n      return "na";\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(typeStr2Type, "typeStr2Type");\nfunction edgeTypeStr2Type(typeStr) {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("typeStr2Type", typeStr);\n  switch (typeStr) {\n    case "==":\n      return "thick";\n    default:\n      return "normal";\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(edgeTypeStr2Type, "edgeTypeStr2Type");\nfunction edgeStrToEdgeData(typeStr) {\n  switch (typeStr.replace(/^[\\s-]+|[\\s-]+$/g, "")) {\n    case "x":\n      return "arrow_cross";\n    case "o":\n      return "arrow_circle";\n    case ">":\n      return "arrow_point";\n    default:\n      return "";\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(edgeStrToEdgeData, "edgeStrToEdgeData");\nvar cnt = 0;\nvar generateId = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(() => {\n  cnt++;\n  return "id-" + Math.random().toString(36).substr(2, 12) + "-" + cnt;\n}, "generateId");\nvar setHierarchy = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((block) => {\n  rootBlock.children = block;\n  populateBlockDatabase(block, rootBlock);\n  blocks = rootBlock.children;\n}, "setHierarchy");\nvar getColumns = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((blockId) => {\n  const block = blockDatabase.get(blockId);\n  if (!block) {\n    return -1;\n  }\n  if (block.columns) {\n    return block.columns;\n  }\n  if (!block.children) {\n    return -1;\n  }\n  return block.children.length;\n}, "getColumns");\nvar getBlocksFlat = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(() => {\n  return [...blockDatabase.values()];\n}, "getBlocksFlat");\nvar getBlocks = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(() => {\n  return blocks || [];\n}, "getBlocks");\nvar getEdges = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(() => {\n  return edgeList;\n}, "getEdges");\nvar getBlock = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((id) => {\n  return blockDatabase.get(id);\n}, "getBlock");\nvar setBlock = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((block) => {\n  blockDatabase.set(block.id, block);\n}, "setBlock");\nvar getLogger = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(() => _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log, "getLogger");\nvar getClasses = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n  return classes;\n}, "getClasses");\nvar db = {\n  getConfig: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(() => (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig)().block, "getConfig"),\n  typeStr2Type,\n  edgeTypeStr2Type,\n  edgeStrToEdgeData,\n  getLogger,\n  getBlocksFlat,\n  getBlocks,\n  getEdges,\n  setHierarchy,\n  getBlock,\n  setBlock,\n  getColumns,\n  getClasses,\n  clear: clear2,\n  generateId\n};\nvar blockDB_default = db;\n\n// src/diagrams/block/styles.ts\n\nvar fade = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((color, opacity) => {\n  const channel2 = khroma__WEBPACK_IMPORTED_MODULE_9__["default"];\n  const r = channel2(color, "r");\n  const g = channel2(color, "g");\n  const b = channel2(color, "b");\n  return khroma__WEBPACK_IMPORTED_MODULE_8__["default"](r, g, b, opacity);\n}, "fade");\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((options) => `.label {\n    font-family: ${options.fontFamily};\n    color: ${options.nodeTextColor || options.textColor};\n  }\n  .cluster-label text {\n    fill: ${options.titleColor};\n  }\n  .cluster-label span,p {\n    color: ${options.titleColor};\n  }\n\n\n\n  .label text,span,p {\n    fill: ${options.nodeTextColor || options.textColor};\n    color: ${options.nodeTextColor || options.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${options.mainBkg};\n    stroke: ${options.nodeBorder};\n    stroke-width: 1px;\n  }\n  .flowchart-label text {\n    text-anchor: middle;\n  }\n  // .flowchart-label .text-outer-tspan {\n  //   text-anchor: middle;\n  // }\n  // .flowchart-label .text-inner-tspan {\n  //   text-anchor: start;\n  // }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${options.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${options.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${options.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${options.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${options.edgeLabelBackground};\n      fill: ${options.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  /* For html labels only */\n  .labelBkg {\n    background-color: ${fade(options.edgeLabelBackground, 0.5)};\n    // background-color:\n  }\n\n  .node .cluster {\n    // fill: ${fade(options.mainBkg, 0.5)};\n    fill: ${fade(options.clusterBkg, 0.5)};\n    stroke: ${fade(options.clusterBorder, 0.2)};\n    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${options.titleColor};\n  }\n\n  .cluster span,p {\n    color: ${options.titleColor};\n  }\n  /* .cluster div {\n    color: ${options.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${options.fontFamily};\n    font-size: 12px;\n    background: ${options.tertiaryColor};\n    border: 1px solid ${options.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${options.textColor};\n  }\n  ${(0,_chunk_FMBD7UC4_mjs__WEBPACK_IMPORTED_MODULE_0__.getIconStyles)()}\n`, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/block/blockRenderer.ts\n\n\n// src/dagre-wrapper/markers.js\nvar insertMarkers = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((elem, markerArray, type, id) => {\n  markerArray.forEach((markerName) => {\n    markers[markerName](elem, type, id);\n  });\n}, "insertMarkers");\nvar extension = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((elem, type, id) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.trace("Making markers for ", id);\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-extensionStart").attr("class", "marker extension " + type).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 1,7 L18,13 V 1 Z");\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-extensionEnd").attr("class", "marker extension " + type).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 1,1 V 13 L18,7 Z");\n}, "extension");\nvar composition = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((elem, type, id) => {\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-compositionStart").attr("class", "marker composition " + type).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-compositionEnd").attr("class", "marker composition " + type).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");\n}, "composition");\nvar aggregation = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((elem, type, id) => {\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-aggregationStart").attr("class", "marker aggregation " + type).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-aggregationEnd").attr("class", "marker aggregation " + type).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");\n}, "aggregation");\nvar dependency = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((elem, type, id) => {\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-dependencyStart").attr("class", "marker dependency " + type).attr("refX", 6).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 5,7 L9,13 L1,7 L9,1 Z");\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-dependencyEnd").attr("class", "marker dependency " + type).attr("refX", 13).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");\n}, "dependency");\nvar lollipop = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((elem, type, id) => {\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-lollipopStart").attr("class", "marker lollipop " + type).attr("refX", 13).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("circle").attr("stroke", "black").attr("fill", "transparent").attr("cx", 7).attr("cy", 7).attr("r", 6);\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-lollipopEnd").attr("class", "marker lollipop " + type).attr("refX", 1).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("circle").attr("stroke", "black").attr("fill", "transparent").attr("cx", 7).attr("cy", 7).attr("r", 6);\n}, "lollipop");\nvar point = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((elem, type, id) => {\n  elem.append("marker").attr("id", id + "_" + type + "-pointEnd").attr("class", "marker " + type).attr("viewBox", "0 0 10 10").attr("refX", 6).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");\n  elem.append("marker").attr("id", id + "_" + type + "-pointStart").attr("class", "marker " + type).attr("viewBox", "0 0 10 10").attr("refX", 4.5).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 5 L 10 10 L 10 0 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");\n}, "point");\nvar circle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((elem, type, id) => {\n  elem.append("marker").attr("id", id + "_" + type + "-circleEnd").attr("class", "marker " + type).attr("viewBox", "0 0 10 10").attr("refX", 11).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");\n  elem.append("marker").attr("id", id + "_" + type + "-circleStart").attr("class", "marker " + type).attr("viewBox", "0 0 10 10").attr("refX", -1).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");\n}, "circle");\nvar cross = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((elem, type, id) => {\n  elem.append("marker").attr("id", id + "_" + type + "-crossEnd").attr("class", "marker cross " + type).attr("viewBox", "0 0 11 11").attr("refX", 12).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0");\n  elem.append("marker").attr("id", id + "_" + type + "-crossStart").attr("class", "marker cross " + type).attr("viewBox", "0 0 11 11").attr("refX", -1).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0");\n}, "cross");\nvar barb = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((elem, type, id) => {\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-barbEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 14).attr("markerUnits", "strokeWidth").attr("orient", "auto").append("path").attr("d", "M 19,7 L9,13 L14,7 L9,1 Z");\n}, "barb");\nvar markers = {\n  extension,\n  composition,\n  aggregation,\n  dependency,\n  lollipop,\n  point,\n  circle,\n  cross,\n  barb\n};\nvar markers_default = insertMarkers;\n\n// src/diagrams/block/layout.ts\nvar padding = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)()?.block?.padding ?? 8;\nfunction calculateBlockPosition(columns, position) {\n  if (columns === 0 || !Number.isInteger(columns)) {\n    throw new Error("Columns must be an integer !== 0.");\n  }\n  if (position < 0 || !Number.isInteger(position)) {\n    throw new Error("Position must be a non-negative integer." + position);\n  }\n  if (columns < 0) {\n    return { px: position, py: 0 };\n  }\n  if (columns === 1) {\n    return { px: 0, py: position };\n  }\n  const px = position % columns;\n  const py = Math.floor(position / columns);\n  return { px, py };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(calculateBlockPosition, "calculateBlockPosition");\nvar getMaxChildSize = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((block) => {\n  let maxWidth = 0;\n  let maxHeight = 0;\n  for (const child of block.children) {\n    const { width, height, x, y } = child.size ?? { width: 0, height: 0, x: 0, y: 0 };\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(\n      "getMaxChildSize abc95 child:",\n      child.id,\n      "width:",\n      width,\n      "height:",\n      height,\n      "x:",\n      x,\n      "y:",\n      y,\n      child.type\n    );\n    if (child.type === "space") {\n      continue;\n    }\n    if (width > maxWidth) {\n      maxWidth = width / (block.widthInColumns ?? 1);\n    }\n    if (height > maxHeight) {\n      maxHeight = height;\n    }\n  }\n  return { width: maxWidth, height: maxHeight };\n}, "getMaxChildSize");\nfunction setBlockSizes(block, db2, siblingWidth = 0, siblingHeight = 0) {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(\n    "setBlockSizes abc95 (start)",\n    block.id,\n    block?.size?.x,\n    "block width =",\n    block?.size,\n    "siblingWidth",\n    siblingWidth\n  );\n  if (!block?.size?.width) {\n    block.size = {\n      width: siblingWidth,\n      height: siblingHeight,\n      x: 0,\n      y: 0\n    };\n  }\n  let maxWidth = 0;\n  let maxHeight = 0;\n  if (block.children?.length > 0) {\n    for (const child of block.children) {\n      setBlockSizes(child, db2);\n    }\n    const childSize = getMaxChildSize(block);\n    maxWidth = childSize.width;\n    maxHeight = childSize.height;\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("setBlockSizes abc95 maxWidth of", block.id, ":s children is ", maxWidth, maxHeight);\n    for (const child of block.children) {\n      if (child.size) {\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(\n          `abc95 Setting size of children of ${block.id} id=${child.id} ${maxWidth} ${maxHeight} ${JSON.stringify(child.size)}`\n        );\n        child.size.width = maxWidth * (child.widthInColumns ?? 1) + padding * ((child.widthInColumns ?? 1) - 1);\n        child.size.height = maxHeight;\n        child.size.x = 0;\n        child.size.y = 0;\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(\n          `abc95 updating size of ${block.id} children child:${child.id} maxWidth:${maxWidth} maxHeight:${maxHeight}`\n        );\n      }\n    }\n    for (const child of block.children) {\n      setBlockSizes(child, db2, maxWidth, maxHeight);\n    }\n    const columns = block.columns ?? -1;\n    let numItems = 0;\n    for (const child of block.children) {\n      numItems += child.widthInColumns ?? 1;\n    }\n    let xSize = block.children.length;\n    if (columns > 0 && columns < numItems) {\n      xSize = columns;\n    }\n    const ySize = Math.ceil(numItems / xSize);\n    let width = xSize * (maxWidth + padding) + padding;\n    let height = ySize * (maxHeight + padding) + padding;\n    if (width < siblingWidth) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(\n        `Detected to small sibling: abc95 ${block.id} siblingWidth ${siblingWidth} siblingHeight ${siblingHeight} width ${width}`\n      );\n      width = siblingWidth;\n      height = siblingHeight;\n      const childWidth = (siblingWidth - xSize * padding - padding) / xSize;\n      const childHeight = (siblingHeight - ySize * padding - padding) / ySize;\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("Size indata abc88", block.id, "childWidth", childWidth, "maxWidth", maxWidth);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("Size indata abc88", block.id, "childHeight", childHeight, "maxHeight", maxHeight);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("Size indata abc88 xSize", xSize, "padding", padding);\n      for (const child of block.children) {\n        if (child.size) {\n          child.size.width = childWidth;\n          child.size.height = childHeight;\n          child.size.x = 0;\n          child.size.y = 0;\n        }\n      }\n    }\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(\n      `abc95 (finale calc) ${block.id} xSize ${xSize} ySize ${ySize} columns ${columns}${block.children.length} width=${Math.max(width, block.size?.width || 0)}`\n    );\n    if (width < (block?.size?.width || 0)) {\n      width = block?.size?.width || 0;\n      const num = columns > 0 ? Math.min(block.children.length, columns) : block.children.length;\n      if (num > 0) {\n        const childWidth = (width - num * padding - padding) / num;\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("abc95 (growing to fit) width", block.id, width, block.size?.width, childWidth);\n        for (const child of block.children) {\n          if (child.size) {\n            child.size.width = childWidth;\n          }\n        }\n      }\n    }\n    block.size = {\n      width,\n      height,\n      x: 0,\n      y: 0\n    };\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(\n    "setBlockSizes abc94 (done)",\n    block.id,\n    block?.size?.x,\n    block?.size?.width,\n    block?.size?.y,\n    block?.size?.height\n  );\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(setBlockSizes, "setBlockSizes");\nfunction layoutBlocks(block, db2) {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(\n    `abc85 layout blocks (=>layoutBlocks) ${block.id} x: ${block?.size?.x} y: ${block?.size?.y} width: ${block?.size?.width}`\n  );\n  const columns = block.columns ?? -1;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("layoutBlocks columns abc95", block.id, "=>", columns, block);\n  if (block.children && // find max width of children\n  block.children.length > 0) {\n    const width = block?.children[0]?.size?.width ?? 0;\n    const widthOfChildren = block.children.length * width + (block.children.length - 1) * padding;\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("widthOfChildren 88", widthOfChildren, "posX");\n    let columnPos = 0;\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("abc91 block?.size?.x", block.id, block?.size?.x);\n    let startingPosX = block?.size?.x ? block?.size?.x + (-block?.size?.width / 2 || 0) : -padding;\n    let rowPos = 0;\n    for (const child of block.children) {\n      const parent = block;\n      if (!child.size) {\n        continue;\n      }\n      const { width: width2, height } = child.size;\n      const { px, py } = calculateBlockPosition(columns, columnPos);\n      if (py != rowPos) {\n        rowPos = py;\n        startingPosX = block?.size?.x ? block?.size?.x + (-block?.size?.width / 2 || 0) : -padding;\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("New row in layout for block", block.id, " and child ", child.id, rowPos);\n      }\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(\n        `abc89 layout blocks (child) id: ${child.id} Pos: ${columnPos} (px, py) ${px},${py} (${parent?.size?.x},${parent?.size?.y}) parent: ${parent.id} width: ${width2}${padding}`\n      );\n      if (parent.size) {\n        const halfWidth = width2 / 2;\n        child.size.x = startingPosX + padding + halfWidth;\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(\n          `abc91 layout blocks (calc) px, pyid:${child.id} startingPos=X${startingPosX} new startingPosX${child.size.x} ${halfWidth} padding=${padding} width=${width2} halfWidth=${halfWidth} => x:${child.size.x} y:${child.size.y} ${child.widthInColumns} (width * (child?.w || 1)) / 2 ${width2 * (child?.widthInColumns ?? 1) / 2}`\n        );\n        startingPosX = child.size.x + halfWidth;\n        child.size.y = parent.size.y - parent.size.height / 2 + py * (height + padding) + height / 2 + padding;\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(\n          `abc88 layout blocks (calc) px, pyid:${child.id}startingPosX${startingPosX}${padding}${halfWidth}=>x:${child.size.x}y:${child.size.y}${child.widthInColumns}(width * (child?.w || 1)) / 2${width2 * (child?.widthInColumns ?? 1) / 2}`\n        );\n      }\n      if (child.children) {\n        layoutBlocks(child, db2);\n      }\n      let columnsFilled = child?.widthInColumns ?? 1;\n      if (columns > 0) {\n        columnsFilled = Math.min(columnsFilled, columns - columnPos % columns);\n      }\n      columnPos += columnsFilled;\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("abc88 columnsPos", child, columnPos);\n    }\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(\n    `layout blocks (<==layoutBlocks) ${block.id} x: ${block?.size?.x} y: ${block?.size?.y} width: ${block?.size?.width}`\n  );\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(layoutBlocks, "layoutBlocks");\nfunction findBounds(block, { minX, minY, maxX, maxY } = { minX: 0, minY: 0, maxX: 0, maxY: 0 }) {\n  if (block.size && block.id !== "root") {\n    const { x, y, width, height } = block.size;\n    if (x - width / 2 < minX) {\n      minX = x - width / 2;\n    }\n    if (y - height / 2 < minY) {\n      minY = y - height / 2;\n    }\n    if (x + width / 2 > maxX) {\n      maxX = x + width / 2;\n    }\n    if (y + height / 2 > maxY) {\n      maxY = y + height / 2;\n    }\n  }\n  if (block.children) {\n    for (const child of block.children) {\n      ({ minX, minY, maxX, maxY } = findBounds(child, { minX, minY, maxX, maxY }));\n    }\n  }\n  return { minX, minY, maxX, maxY };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(findBounds, "findBounds");\nfunction layout(db2) {\n  const root = db2.getBlock("root");\n  if (!root) {\n    return;\n  }\n  setBlockSizes(root, db2, 0, 0);\n  layoutBlocks(root, db2);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("getBlocks", JSON.stringify(root, null, 2));\n  const { minX, minY, maxX, maxY } = findBounds(root);\n  const height = maxY - minY;\n  const width = maxX - minX;\n  return { x: minX, y: minY, width, height };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(layout, "layout");\n\n// src/diagrams/block/renderHelpers.ts\n\n\n// src/dagre-wrapper/createLabel.js\n\nfunction applyStyle(dom, styleFn) {\n  if (styleFn) {\n    dom.attr("style", styleFn);\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(applyStyle, "applyStyle");\nfunction addHtmlLabel(node, config2) {\n  const fo = (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(document.createElementNS("http://www.w3.org/2000/svg", "foreignObject"));\n  const div = fo.append("xhtml:div");\n  const label = node.label;\n  const labelClass = node.isNode ? "nodeLabel" : "edgeLabel";\n  const span = div.append("span");\n  span.html((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.sanitizeText)(label, config2));\n  applyStyle(span, node.labelStyle);\n  span.attr("class", labelClass);\n  applyStyle(div, node.labelStyle);\n  div.style("display", "inline-block");\n  div.style("white-space", "nowrap");\n  div.attr("xmlns", "http://www.w3.org/1999/xhtml");\n  return fo.node();\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(addHtmlLabel, "addHtmlLabel");\nvar createLabel = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (_vertexText, style, isTitle, isNode) => {\n  let vertexText = _vertexText || "";\n  if (typeof vertexText === "object") {\n    vertexText = vertexText[0];\n  }\n  const config2 = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)();\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.evaluate)(config2.flowchart.htmlLabels)) {\n    vertexText = vertexText.replace(/\\\\n|\\n/g, "<br />");\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("vertexText" + vertexText);\n    const label = await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_3__.replaceIconSubstring)((0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.decodeEntities)(vertexText));\n    const node = {\n      isNode,\n      label,\n      labelStyle: style.replace("fill:", "color:")\n    };\n    let vertexNode = addHtmlLabel(node, config2);\n    return vertexNode;\n  } else {\n    const svgLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");\n    svgLabel.setAttribute("style", style.replace("color:", "fill:"));\n    let rows = [];\n    if (typeof vertexText === "string") {\n      rows = vertexText.split(/\\\\n|\\n|<br\\s*\\/?>/gi);\n    } else if (Array.isArray(vertexText)) {\n      rows = vertexText;\n    } else {\n      rows = [];\n    }\n    for (const row of rows) {\n      const tspan = document.createElementNS("http://www.w3.org/2000/svg", "tspan");\n      tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve");\n      tspan.setAttribute("dy", "1em");\n      tspan.setAttribute("x", "0");\n      if (isTitle) {\n        tspan.setAttribute("class", "title-row");\n      } else {\n        tspan.setAttribute("class", "row");\n      }\n      tspan.textContent = row.trim();\n      svgLabel.appendChild(tspan);\n    }\n    return svgLabel;\n  }\n}, "createLabel");\nvar createLabel_default = createLabel;\n\n// src/dagre-wrapper/edges.js\n\n\n// src/dagre-wrapper/edgeMarker.ts\nvar addEdgeMarkers = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((svgPath, edge, url, id, diagramType) => {\n  if (edge.arrowTypeStart) {\n    addEdgeMarker(svgPath, "start", edge.arrowTypeStart, url, id, diagramType);\n  }\n  if (edge.arrowTypeEnd) {\n    addEdgeMarker(svgPath, "end", edge.arrowTypeEnd, url, id, diagramType);\n  }\n}, "addEdgeMarkers");\nvar arrowTypesMap = {\n  arrow_cross: "cross",\n  arrow_point: "point",\n  arrow_barb: "barb",\n  arrow_circle: "circle",\n  aggregation: "aggregation",\n  extension: "extension",\n  composition: "composition",\n  dependency: "dependency",\n  lollipop: "lollipop"\n};\nvar addEdgeMarker = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((svgPath, position, arrowType, url, id, diagramType) => {\n  const endMarkerType = arrowTypesMap[arrowType];\n  if (!endMarkerType) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.warn(`Unknown arrow type: ${arrowType}`);\n    return;\n  }\n  const suffix = position === "start" ? "Start" : "End";\n  svgPath.attr(`marker-${position}`, `url(${url}#${id}_${diagramType}-${endMarkerType}${suffix})`);\n}, "addEdgeMarker");\n\n// src/dagre-wrapper/edges.js\nvar edgeLabels = {};\nvar terminalLabels = {};\nvar insertEdgeLabel = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (elem, edge) => {\n  const config2 = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)();\n  const useHtmlLabels = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.evaluate)(config2.flowchart.htmlLabels);\n  const labelElement = edge.labelType === "markdown" ? (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_3__.createText)(\n    elem,\n    edge.label,\n    {\n      style: edge.labelStyle,\n      useHtmlLabels,\n      addSvgBackground: true\n    },\n    config2\n  ) : await createLabel_default(edge.label, edge.labelStyle);\n  const edgeLabel = elem.insert("g").attr("class", "edgeLabel");\n  const label = edgeLabel.insert("g").attr("class", "label");\n  label.node().appendChild(labelElement);\n  let bbox = labelElement.getBBox();\n  if (useHtmlLabels) {\n    const div = labelElement.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(labelElement);\n    bbox = div.getBoundingClientRect();\n    dv.attr("width", bbox.width);\n    dv.attr("height", bbox.height);\n  }\n  label.attr("transform", "translate(" + -bbox.width / 2 + ", " + -bbox.height / 2 + ")");\n  edgeLabels[edge.id] = edgeLabel;\n  edge.width = bbox.width;\n  edge.height = bbox.height;\n  let fo;\n  if (edge.startLabelLeft) {\n    const startLabelElement = await createLabel_default(edge.startLabelLeft, edge.labelStyle);\n    const startEdgeLabelLeft = elem.insert("g").attr("class", "edgeTerminals");\n    const inner = startEdgeLabelLeft.insert("g").attr("class", "inner");\n    fo = inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr("transform", "translate(" + -slBox.width / 2 + ", " + -slBox.height / 2 + ")");\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].startLeft = startEdgeLabelLeft;\n    setTerminalWidth(fo, edge.startLabelLeft);\n  }\n  if (edge.startLabelRight) {\n    const startLabelElement = await createLabel_default(edge.startLabelRight, edge.labelStyle);\n    const startEdgeLabelRight = elem.insert("g").attr("class", "edgeTerminals");\n    const inner = startEdgeLabelRight.insert("g").attr("class", "inner");\n    fo = startEdgeLabelRight.node().appendChild(startLabelElement);\n    inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr("transform", "translate(" + -slBox.width / 2 + ", " + -slBox.height / 2 + ")");\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].startRight = startEdgeLabelRight;\n    setTerminalWidth(fo, edge.startLabelRight);\n  }\n  if (edge.endLabelLeft) {\n    const endLabelElement = await createLabel_default(edge.endLabelLeft, edge.labelStyle);\n    const endEdgeLabelLeft = elem.insert("g").attr("class", "edgeTerminals");\n    const inner = endEdgeLabelLeft.insert("g").attr("class", "inner");\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr("transform", "translate(" + -slBox.width / 2 + ", " + -slBox.height / 2 + ")");\n    endEdgeLabelLeft.node().appendChild(endLabelElement);\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].endLeft = endEdgeLabelLeft;\n    setTerminalWidth(fo, edge.endLabelLeft);\n  }\n  if (edge.endLabelRight) {\n    const endLabelElement = await createLabel_default(edge.endLabelRight, edge.labelStyle);\n    const endEdgeLabelRight = elem.insert("g").attr("class", "edgeTerminals");\n    const inner = endEdgeLabelRight.insert("g").attr("class", "inner");\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr("transform", "translate(" + -slBox.width / 2 + ", " + -slBox.height / 2 + ")");\n    endEdgeLabelRight.node().appendChild(endLabelElement);\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].endRight = endEdgeLabelRight;\n    setTerminalWidth(fo, edge.endLabelRight);\n  }\n  return labelElement;\n}, "insertEdgeLabel");\nfunction setTerminalWidth(fo, value) {\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().flowchart.htmlLabels && fo) {\n    fo.style.width = value.length * 9 + "px";\n    fo.style.height = "12px";\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(setTerminalWidth, "setTerminalWidth");\nvar positionEdgeLabel = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((edge, paths) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("Moving label abc88 ", edge.id, edge.label, edgeLabels[edge.id], paths);\n  let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\n  const siteConfig = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)();\n  const { subGraphTitleTotalMargin } = (0,_chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_2__.getSubGraphTitleMargins)(siteConfig);\n  if (edge.label) {\n    const el = edgeLabels[edge.id];\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.utils_default.calcLabelPosition(path);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(\n        "Moving label " + edge.label + " from (",\n        x,\n        ",",\n        y,\n        ") to (",\n        pos.x,\n        ",",\n        pos.y,\n        ") abc88"\n      );\n      if (paths.updatedPath) {\n        x = pos.x;\n        y = pos.y;\n      }\n    }\n    el.attr("transform", `translate(${x}, ${y + subGraphTitleTotalMargin / 2})`);\n  }\n  if (edge.startLabelLeft) {\n    const el = terminalLabels[edge.id].startLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.utils_default.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, "start_left", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr("transform", `translate(${x}, ${y})`);\n  }\n  if (edge.startLabelRight) {\n    const el = terminalLabels[edge.id].startRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.utils_default.calcTerminalLabelPosition(\n        edge.arrowTypeStart ? 10 : 0,\n        "start_right",\n        path\n      );\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr("transform", `translate(${x}, ${y})`);\n  }\n  if (edge.endLabelLeft) {\n    const el = terminalLabels[edge.id].endLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.utils_default.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, "end_left", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr("transform", `translate(${x}, ${y})`);\n  }\n  if (edge.endLabelRight) {\n    const el = terminalLabels[edge.id].endRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.utils_default.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, "end_right", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr("transform", `translate(${x}, ${y})`);\n  }\n}, "positionEdgeLabel");\nvar outsideNode = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((node, point2) => {\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(point2.x - x);\n  const dy = Math.abs(point2.y - y);\n  const w = node.width / 2;\n  const h = node.height / 2;\n  if (dx >= w || dy >= h) {\n    return true;\n  }\n  return false;\n}, "outsideNode");\nvar intersection = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((node, outsidePoint, insidePoint) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(outsidePoint)}\n  insidePoint : ${JSON.stringify(insidePoint)}\n  node        : x:${node.x} y:${node.y} w:${node.width} h:${node.height}`);\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(x - insidePoint.x);\n  const w = node.width / 2;\n  let r = insidePoint.x < outsidePoint.x ? w - dx : w + dx;\n  const h = node.height / 2;\n  const Q = Math.abs(outsidePoint.y - insidePoint.y);\n  const R = Math.abs(outsidePoint.x - insidePoint.x);\n  if (Math.abs(y - outsidePoint.y) * w > Math.abs(x - outsidePoint.x) * h) {\n    let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\n    r = R * q / Q;\n    const res = {\n      x: insidePoint.x < outsidePoint.x ? insidePoint.x + r : insidePoint.x - R + r,\n      y: insidePoint.y < outsidePoint.y ? insidePoint.y + Q - q : insidePoint.y - Q + q\n    };\n    if (r === 0) {\n      res.x = outsidePoint.x;\n      res.y = outsidePoint.y;\n    }\n    if (R === 0) {\n      res.x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      res.y = outsidePoint.y;\n    }\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(`abc89 topp/bott calc, Q ${Q}, q ${q}, R ${R}, r ${r}`, res);\n    return res;\n  } else {\n    if (insidePoint.x < outsidePoint.x) {\n      r = outsidePoint.x - w - x;\n    } else {\n      r = x - w - outsidePoint.x;\n    }\n    let q = Q * r / R;\n    let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x - R + r;\n    let _y = insidePoint.y < outsidePoint.y ? insidePoint.y + q : insidePoint.y - q;\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug(`sides calc abc89, Q ${Q}, q ${q}, R ${R}, r ${r}`, { _x, _y });\n    if (r === 0) {\n      _x = outsidePoint.x;\n      _y = outsidePoint.y;\n    }\n    if (R === 0) {\n      _x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      _y = outsidePoint.y;\n    }\n    return { x: _x, y: _y };\n  }\n}, "intersection");\nvar cutPathAtIntersect = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((_points, boundaryNode) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("abc88 cutPathAtIntersect", _points, boundaryNode);\n  let points = [];\n  let lastPointOutside = _points[0];\n  let isInside = false;\n  _points.forEach((point2) => {\n    if (!outsideNode(boundaryNode, point2) && !isInside) {\n      const inter = intersection(boundaryNode, lastPointOutside, point2);\n      let pointPresent = false;\n      points.forEach((p) => {\n        pointPresent = pointPresent || p.x === inter.x && p.y === inter.y;\n      });\n      if (!points.some((e) => e.x === inter.x && e.y === inter.y)) {\n        points.push(inter);\n      }\n      isInside = true;\n    } else {\n      lastPointOutside = point2;\n      if (!isInside) {\n        points.push(point2);\n      }\n    }\n  });\n  return points;\n}, "cutPathAtIntersect");\nvar insertEdge = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(elem, e, edge, clusterDb, diagramType, graph, id) {\n  let points = edge.points;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("abc88 InsertEdge: edge=", edge, "e=", e);\n  let pointsHasChanged = false;\n  const tail = graph.node(e.v);\n  var head = graph.node(e.w);\n  if (head?.intersect && tail?.intersect) {\n    points = points.slice(1, edge.points.length - 1);\n    points.unshift(tail.intersect(points[0]));\n    points.push(head.intersect(points[points.length - 1]));\n  }\n  if (edge.toCluster) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("to cluster abc88", clusterDb[edge.toCluster]);\n    points = cutPathAtIntersect(edge.points, clusterDb[edge.toCluster].node);\n    pointsHasChanged = true;\n  }\n  if (edge.fromCluster) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("from cluster abc88", clusterDb[edge.fromCluster]);\n    points = cutPathAtIntersect(points.reverse(), clusterDb[edge.fromCluster].node).reverse();\n    pointsHasChanged = true;\n  }\n  const lineData = points.filter((p) => !Number.isNaN(p.y));\n  let curve = d3__WEBPACK_IMPORTED_MODULE_10__.curveBasis;\n  if (edge.curve && (diagramType === "graph" || diagramType === "flowchart")) {\n    curve = edge.curve;\n  }\n  const { x, y } = (0,_chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_1__.getLineFunctionsWithOffset)(edge);\n  const lineFunction = (0,d3__WEBPACK_IMPORTED_MODULE_10__.line)().x(x).y(y).curve(curve);\n  let strokeClasses;\n  switch (edge.thickness) {\n    case "normal":\n      strokeClasses = "edge-thickness-normal";\n      break;\n    case "thick":\n      strokeClasses = "edge-thickness-thick";\n      break;\n    case "invisible":\n      strokeClasses = "edge-thickness-thick";\n      break;\n    default:\n      strokeClasses = "";\n  }\n  switch (edge.pattern) {\n    case "solid":\n      strokeClasses += " edge-pattern-solid";\n      break;\n    case "dotted":\n      strokeClasses += " edge-pattern-dotted";\n      break;\n    case "dashed":\n      strokeClasses += " edge-pattern-dashed";\n      break;\n  }\n  const svgPath = elem.append("path").attr("d", lineFunction(lineData)).attr("id", edge.id).attr("class", " " + strokeClasses + (edge.classes ? " " + edge.classes : "")).attr("style", edge.style);\n  let url = "";\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().flowchart.arrowMarkerAbsolute || (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().state.arrowMarkerAbsolute) {\n    url = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getUrl)(true);\n  }\n  addEdgeMarkers(svgPath, edge, url, id, diagramType);\n  let paths = {};\n  if (pointsHasChanged) {\n    paths.updatedPath = points;\n  }\n  paths.originalPath = edge.points;\n  return paths;\n}, "insertEdge");\n\n// src/dagre-wrapper/nodes.js\n\n\n// src/dagre-wrapper/blockArrowHelper.ts\nvar expandAndDeduplicateDirections = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((directions) => {\n  const uniqueDirections = /* @__PURE__ */ new Set();\n  for (const direction of directions) {\n    switch (direction) {\n      case "x":\n        uniqueDirections.add("right");\n        uniqueDirections.add("left");\n        break;\n      case "y":\n        uniqueDirections.add("up");\n        uniqueDirections.add("down");\n        break;\n      default:\n        uniqueDirections.add(direction);\n        break;\n    }\n  }\n  return uniqueDirections;\n}, "expandAndDeduplicateDirections");\nvar getArrowPoints = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((duplicatedDirections, bbox, node) => {\n  const directions = expandAndDeduplicateDirections(duplicatedDirections);\n  const f = 2;\n  const height = bbox.height + 2 * node.padding;\n  const midpoint = height / f;\n  const width = bbox.width + 2 * midpoint + node.padding;\n  const padding2 = node.padding / 2;\n  if (directions.has("right") && directions.has("left") && directions.has("up") && directions.has("down")) {\n    return [\n      // Bottom\n      { x: 0, y: 0 },\n      { x: midpoint, y: 0 },\n      { x: width / 2, y: 2 * padding2 },\n      { x: width - midpoint, y: 0 },\n      { x: width, y: 0 },\n      // Right\n      { x: width, y: -height / 3 },\n      { x: width + 2 * padding2, y: -height / 2 },\n      { x: width, y: -2 * height / 3 },\n      { x: width, y: -height },\n      // Top\n      { x: width - midpoint, y: -height },\n      { x: width / 2, y: -height - 2 * padding2 },\n      { x: midpoint, y: -height },\n      // Left\n      { x: 0, y: -height },\n      { x: 0, y: -2 * height / 3 },\n      { x: -2 * padding2, y: -height / 2 },\n      { x: 0, y: -height / 3 }\n    ];\n  }\n  if (directions.has("right") && directions.has("left") && directions.has("up")) {\n    return [\n      { x: midpoint, y: 0 },\n      { x: width - midpoint, y: 0 },\n      { x: width, y: -height / 2 },\n      { x: width - midpoint, y: -height },\n      { x: midpoint, y: -height },\n      { x: 0, y: -height / 2 }\n    ];\n  }\n  if (directions.has("right") && directions.has("left") && directions.has("down")) {\n    return [\n      { x: 0, y: 0 },\n      { x: midpoint, y: -height },\n      { x: width - midpoint, y: -height },\n      { x: width, y: 0 }\n    ];\n  }\n  if (directions.has("right") && directions.has("up") && directions.has("down")) {\n    return [\n      { x: 0, y: 0 },\n      { x: width, y: -midpoint },\n      { x: width, y: -height + midpoint },\n      { x: 0, y: -height }\n    ];\n  }\n  if (directions.has("left") && directions.has("up") && directions.has("down")) {\n    return [\n      { x: width, y: 0 },\n      { x: 0, y: -midpoint },\n      { x: 0, y: -height + midpoint },\n      { x: width, y: -height }\n    ];\n  }\n  if (directions.has("right") && directions.has("left")) {\n    return [\n      { x: midpoint, y: 0 },\n      { x: midpoint, y: -padding2 },\n      { x: width - midpoint, y: -padding2 },\n      { x: width - midpoint, y: 0 },\n      { x: width, y: -height / 2 },\n      { x: width - midpoint, y: -height },\n      { x: width - midpoint, y: -height + padding2 },\n      { x: midpoint, y: -height + padding2 },\n      { x: midpoint, y: -height },\n      { x: 0, y: -height / 2 }\n    ];\n  }\n  if (directions.has("up") && directions.has("down")) {\n    return [\n      // Bottom center\n      { x: width / 2, y: 0 },\n      // Left pont of bottom arrow\n      { x: 0, y: -padding2 },\n      { x: midpoint, y: -padding2 },\n      // Left top over vertical section\n      { x: midpoint, y: -height + padding2 },\n      { x: 0, y: -height + padding2 },\n      // Top of arrow\n      { x: width / 2, y: -height },\n      { x: width, y: -height + padding2 },\n      // Top of right vertical bar\n      { x: width - midpoint, y: -height + padding2 },\n      { x: width - midpoint, y: -padding2 },\n      { x: width, y: -padding2 }\n    ];\n  }\n  if (directions.has("right") && directions.has("up")) {\n    return [\n      { x: 0, y: 0 },\n      { x: width, y: -midpoint },\n      { x: 0, y: -height }\n    ];\n  }\n  if (directions.has("right") && directions.has("down")) {\n    return [\n      { x: 0, y: 0 },\n      { x: width, y: 0 },\n      { x: 0, y: -height }\n    ];\n  }\n  if (directions.has("left") && directions.has("up")) {\n    return [\n      { x: width, y: 0 },\n      { x: 0, y: -midpoint },\n      { x: width, y: -height }\n    ];\n  }\n  if (directions.has("left") && directions.has("down")) {\n    return [\n      { x: width, y: 0 },\n      { x: 0, y: 0 },\n      { x: width, y: -height }\n    ];\n  }\n  if (directions.has("right")) {\n    return [\n      { x: midpoint, y: -padding2 },\n      { x: midpoint, y: -padding2 },\n      { x: width - midpoint, y: -padding2 },\n      { x: width - midpoint, y: 0 },\n      { x: width, y: -height / 2 },\n      { x: width - midpoint, y: -height },\n      { x: width - midpoint, y: -height + padding2 },\n      // top left corner of arrow\n      { x: midpoint, y: -height + padding2 },\n      { x: midpoint, y: -height + padding2 }\n    ];\n  }\n  if (directions.has("left")) {\n    return [\n      { x: midpoint, y: 0 },\n      { x: midpoint, y: -padding2 },\n      // Two points, the right corners\n      { x: width - midpoint, y: -padding2 },\n      { x: width - midpoint, y: -height + padding2 },\n      { x: midpoint, y: -height + padding2 },\n      { x: midpoint, y: -height },\n      { x: 0, y: -height / 2 }\n    ];\n  }\n  if (directions.has("up")) {\n    return [\n      // Bottom center\n      { x: midpoint, y: -padding2 },\n      // Left top over vertical section\n      { x: midpoint, y: -height + padding2 },\n      { x: 0, y: -height + padding2 },\n      // Top of arrow\n      { x: width / 2, y: -height },\n      { x: width, y: -height + padding2 },\n      // Top of right vertical bar\n      { x: width - midpoint, y: -height + padding2 },\n      { x: width - midpoint, y: -padding2 }\n    ];\n  }\n  if (directions.has("down")) {\n    return [\n      // Bottom center\n      { x: width / 2, y: 0 },\n      // Left pont of bottom arrow\n      { x: 0, y: -padding2 },\n      { x: midpoint, y: -padding2 },\n      // Left top over vertical section\n      { x: midpoint, y: -height + padding2 },\n      { x: width - midpoint, y: -height + padding2 },\n      { x: width - midpoint, y: -padding2 },\n      { x: width, y: -padding2 }\n    ];\n  }\n  return [{ x: 0, y: 0 }];\n}, "getArrowPoints");\n\n// src/dagre-wrapper/intersect/intersect-node.js\nfunction intersectNode(node, point2) {\n  return node.intersect(point2);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(intersectNode, "intersectNode");\nvar intersect_node_default = intersectNode;\n\n// src/dagre-wrapper/intersect/intersect-ellipse.js\nfunction intersectEllipse(node, rx, ry, point2) {\n  var cx = node.x;\n  var cy = node.y;\n  var px = cx - point2.x;\n  var py = cy - point2.y;\n  var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);\n  var dx = Math.abs(rx * ry * px / det);\n  if (point2.x < cx) {\n    dx = -dx;\n  }\n  var dy = Math.abs(rx * ry * py / det);\n  if (point2.y < cy) {\n    dy = -dy;\n  }\n  return { x: cx + dx, y: cy + dy };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(intersectEllipse, "intersectEllipse");\nvar intersect_ellipse_default = intersectEllipse;\n\n// src/dagre-wrapper/intersect/intersect-circle.js\nfunction intersectCircle(node, rx, point2) {\n  return intersect_ellipse_default(node, rx, rx, point2);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(intersectCircle, "intersectCircle");\nvar intersect_circle_default = intersectCircle;\n\n// src/dagre-wrapper/intersect/intersect-line.js\nfunction intersectLine(p1, p2, q1, q2) {\n  var a1, a2, b1, b2, c1, c2;\n  var r1, r2, r3, r4;\n  var denom, offset, num;\n  var x, y;\n  a1 = p2.y - p1.y;\n  b1 = p1.x - p2.x;\n  c1 = p2.x * p1.y - p1.x * p2.y;\n  r3 = a1 * q1.x + b1 * q1.y + c1;\n  r4 = a1 * q2.x + b1 * q2.y + c1;\n  if (r3 !== 0 && r4 !== 0 && sameSign(r3, r4)) {\n    return;\n  }\n  a2 = q2.y - q1.y;\n  b2 = q1.x - q2.x;\n  c2 = q2.x * q1.y - q1.x * q2.y;\n  r1 = a2 * p1.x + b2 * p1.y + c2;\n  r2 = a2 * p2.x + b2 * p2.y + c2;\n  if (r1 !== 0 && r2 !== 0 && sameSign(r1, r2)) {\n    return;\n  }\n  denom = a1 * b2 - a2 * b1;\n  if (denom === 0) {\n    return;\n  }\n  offset = Math.abs(denom / 2);\n  num = b1 * c2 - b2 * c1;\n  x = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n  num = a2 * c1 - a1 * c2;\n  y = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n  return { x, y };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(intersectLine, "intersectLine");\nfunction sameSign(r1, r2) {\n  return r1 * r2 > 0;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(sameSign, "sameSign");\nvar intersect_line_default = intersectLine;\n\n// src/dagre-wrapper/intersect/intersect-polygon.js\nvar intersect_polygon_default = intersectPolygon;\nfunction intersectPolygon(node, polyPoints, point2) {\n  var x1 = node.x;\n  var y1 = node.y;\n  var intersections = [];\n  var minX = Number.POSITIVE_INFINITY;\n  var minY = Number.POSITIVE_INFINITY;\n  if (typeof polyPoints.forEach === "function") {\n    polyPoints.forEach(function(entry) {\n      minX = Math.min(minX, entry.x);\n      minY = Math.min(minY, entry.y);\n    });\n  } else {\n    minX = Math.min(minX, polyPoints.x);\n    minY = Math.min(minY, polyPoints.y);\n  }\n  var left = x1 - node.width / 2 - minX;\n  var top = y1 - node.height / 2 - minY;\n  for (var i = 0; i < polyPoints.length; i++) {\n    var p1 = polyPoints[i];\n    var p2 = polyPoints[i < polyPoints.length - 1 ? i + 1 : 0];\n    var intersect = intersect_line_default(\n      node,\n      point2,\n      { x: left + p1.x, y: top + p1.y },\n      { x: left + p2.x, y: top + p2.y }\n    );\n    if (intersect) {\n      intersections.push(intersect);\n    }\n  }\n  if (!intersections.length) {\n    return node;\n  }\n  if (intersections.length > 1) {\n    intersections.sort(function(p, q) {\n      var pdx = p.x - point2.x;\n      var pdy = p.y - point2.y;\n      var distp = Math.sqrt(pdx * pdx + pdy * pdy);\n      var qdx = q.x - point2.x;\n      var qdy = q.y - point2.y;\n      var distq = Math.sqrt(qdx * qdx + qdy * qdy);\n      return distp < distq ? -1 : distp === distq ? 0 : 1;\n    });\n  }\n  return intersections[0];\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(intersectPolygon, "intersectPolygon");\n\n// src/dagre-wrapper/intersect/intersect-rect.js\nvar intersectRect = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((node, point2) => {\n  var x = node.x;\n  var y = node.y;\n  var dx = point2.x - x;\n  var dy = point2.y - y;\n  var w = node.width / 2;\n  var h = node.height / 2;\n  var sx, sy;\n  if (Math.abs(dy) * w > Math.abs(dx) * h) {\n    if (dy < 0) {\n      h = -h;\n    }\n    sx = dy === 0 ? 0 : h * dx / dy;\n    sy = h;\n  } else {\n    if (dx < 0) {\n      w = -w;\n    }\n    sx = w;\n    sy = dx === 0 ? 0 : w * dy / dx;\n  }\n  return { x: x + sx, y: y + sy };\n}, "intersectRect");\nvar intersect_rect_default = intersectRect;\n\n// src/dagre-wrapper/intersect/index.js\nvar intersect_default = {\n  node: intersect_node_default,\n  circle: intersect_circle_default,\n  ellipse: intersect_ellipse_default,\n  polygon: intersect_polygon_default,\n  rect: intersect_rect_default\n};\n\n// src/dagre-wrapper/shapes/util.js\n\nvar labelHelper = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node, _classes, isNode) => {\n  const config2 = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)();\n  let classes2;\n  const useHtmlLabels = node.useHtmlLabels || (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.evaluate)(config2.flowchart.htmlLabels);\n  if (!_classes) {\n    classes2 = "node default";\n  } else {\n    classes2 = _classes;\n  }\n  const shapeSvg = parent.insert("g").attr("class", classes2).attr("id", node.domId || node.id);\n  const label = shapeSvg.insert("g").attr("class", "label").attr("style", node.labelStyle);\n  let labelText;\n  if (node.labelText === void 0) {\n    labelText = "";\n  } else {\n    labelText = typeof node.labelText === "string" ? node.labelText : node.labelText[0];\n  }\n  const textNode = label.node();\n  let text;\n  if (node.labelType === "markdown") {\n    text = (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_3__.createText)(\n      label,\n      (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.sanitizeText)((0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.decodeEntities)(labelText), config2),\n      {\n        useHtmlLabels,\n        width: node.width || config2.flowchart.wrappingWidth,\n        classes: "markdown-node-label"\n      },\n      config2\n    );\n  } else {\n    text = textNode.appendChild(\n      await createLabel_default(\n        (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.sanitizeText)((0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.decodeEntities)(labelText), config2),\n        node.labelStyle,\n        false,\n        isNode\n      )\n    );\n  }\n  let bbox = text.getBBox();\n  const halfPadding = node.padding / 2;\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.evaluate)(config2.flowchart.htmlLabels)) {\n    const div = text.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(text);\n    const images = div.getElementsByTagName("img");\n    if (images) {\n      const noImgText = labelText.replace(/<img[^>]*>/g, "").trim() === "";\n      await Promise.all(\n        [...images].map(\n          (img) => new Promise((res) => {\n            function setupImage() {\n              img.style.display = "flex";\n              img.style.flexDirection = "column";\n              if (noImgText) {\n                const bodyFontSize = config2.fontSize ? config2.fontSize : window.getComputedStyle(document.body).fontSize;\n                const enlargingFactor = 5;\n                const width = parseInt(bodyFontSize, 10) * enlargingFactor + "px";\n                img.style.minWidth = width;\n                img.style.maxWidth = width;\n              } else {\n                img.style.width = "100%";\n              }\n              res(img);\n            }\n            (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(setupImage, "setupImage");\n            setTimeout(() => {\n              if (img.complete) {\n                setupImage();\n              }\n            });\n            img.addEventListener("error", setupImage);\n            img.addEventListener("load", setupImage);\n          })\n        )\n      );\n    }\n    bbox = div.getBoundingClientRect();\n    dv.attr("width", bbox.width);\n    dv.attr("height", bbox.height);\n  }\n  if (useHtmlLabels) {\n    label.attr("transform", "translate(" + -bbox.width / 2 + ", " + -bbox.height / 2 + ")");\n  } else {\n    label.attr("transform", "translate(0, " + -bbox.height / 2 + ")");\n  }\n  if (node.centerLabel) {\n    label.attr("transform", "translate(" + -bbox.width / 2 + ", " + -bbox.height / 2 + ")");\n  }\n  label.insert("rect", ":first-child");\n  return { shapeSvg, bbox, halfPadding, label };\n}, "labelHelper");\nvar updateNodeBounds = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((node, element) => {\n  const bbox = element.node().getBBox();\n  node.width = bbox.width;\n  node.height = bbox.height;\n}, "updateNodeBounds");\nfunction insertPolygonShape(parent, w, h, points) {\n  return parent.insert("polygon", ":first-child").attr(\n    "points",\n    points.map(function(d) {\n      return d.x + "," + d.y;\n    }).join(" ")\n  ).attr("class", "label-container").attr("transform", "translate(" + -w / 2 + "," + h / 2 + ")");\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(insertPolygonShape, "insertPolygonShape");\n\n// src/dagre-wrapper/shapes/note.js\nvar note = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const useHtmlLabels = node.useHtmlLabels || (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().flowchart.htmlLabels;\n  if (!useHtmlLabels) {\n    node.centerLabel = true;\n  }\n  const { shapeSvg, bbox, halfPadding } = await labelHelper(\n    parent,\n    node,\n    "node " + node.classes,\n    true\n  );\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.info("Classes = ", node.classes);\n  const rect2 = shapeSvg.insert("rect", ":first-child");\n  rect2.attr("rx", node.rx).attr("ry", node.ry).attr("x", -bbox.width / 2 - halfPadding).attr("y", -bbox.height / 2 - halfPadding).attr("width", bbox.width + node.padding).attr("height", bbox.height + node.padding);\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point2) {\n    return intersect_default.rect(node, point2);\n  };\n  return shapeSvg;\n}, "note");\nvar note_default = note;\n\n// src/dagre-wrapper/nodes.js\nvar formatClass = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((str) => {\n  if (str) {\n    return " " + str;\n  }\n  return "";\n}, "formatClass");\nvar getClassesFromNode = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((node, otherClasses) => {\n  return `${otherClasses ? otherClasses : "node default"}${formatClass(node.classes)} ${formatClass(\n    node.class\n  )}`;\n}, "getClassesFromNode");\nvar question = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const s = w + h;\n  const points = [\n    { x: s / 2, y: 0 },\n    { x: s, y: -s / 2 },\n    { x: s / 2, y: -s },\n    { x: 0, y: -s / 2 }\n  ];\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.info("Question main (Circle)");\n  const questionElem = insertPolygonShape(shapeSvg, s, s, points);\n  questionElem.attr("style", node.style);\n  updateNodeBounds(node, questionElem);\n  node.intersect = function(point2) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.warn("Intersect called");\n    return intersect_default.polygon(node, points, point2);\n  };\n  return shapeSvg;\n}, "question");\nvar choice = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((parent, node) => {\n  const shapeSvg = parent.insert("g").attr("class", "node default").attr("id", node.domId || node.id);\n  const s = 28;\n  const points = [\n    { x: 0, y: s / 2 },\n    { x: s / 2, y: 0 },\n    { x: 0, y: -s / 2 },\n    { x: -s / 2, y: 0 }\n  ];\n  const choice2 = shapeSvg.insert("polygon", ":first-child").attr(\n    "points",\n    points.map(function(d) {\n      return d.x + "," + d.y;\n    }).join(" ")\n  );\n  choice2.attr("class", "state-start").attr("r", 7).attr("width", 28).attr("height", 28);\n  node.width = 28;\n  node.height = 28;\n  node.intersect = function(point2) {\n    return intersect_default.circle(node, 14, point2);\n  };\n  return shapeSvg;\n}, "choice");\nvar hexagon = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const f = 4;\n  const h = bbox.height + node.padding;\n  const m = h / f;\n  const w = bbox.width + 2 * m + node.padding;\n  const points = [\n    { x: m, y: 0 },\n    { x: w - m, y: 0 },\n    { x: w, y: -h / 2 },\n    { x: w - m, y: -h },\n    { x: m, y: -h },\n    { x: 0, y: -h / 2 }\n  ];\n  const hex = insertPolygonShape(shapeSvg, w, h, points);\n  hex.attr("style", node.style);\n  updateNodeBounds(node, hex);\n  node.intersect = function(point2) {\n    return intersect_default.polygon(node, points, point2);\n  };\n  return shapeSvg;\n}, "hexagon");\nvar block_arrow = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(parent, node, void 0, true);\n  const f = 2;\n  const h = bbox.height + 2 * node.padding;\n  const m = h / f;\n  const w = bbox.width + 2 * m + node.padding;\n  const points = getArrowPoints(node.directions, bbox, node);\n  const blockArrow = insertPolygonShape(shapeSvg, w, h, points);\n  blockArrow.attr("style", node.style);\n  updateNodeBounds(node, blockArrow);\n  node.intersect = function(point2) {\n    return intersect_default.polygon(node, points, point2);\n  };\n  return shapeSvg;\n}, "block_arrow");\nvar rect_left_inv_arrow = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: -h / 2, y: 0 },\n    { x: w, y: 0 },\n    { x: w, y: -h },\n    { x: -h / 2, y: -h },\n    { x: 0, y: -h / 2 }\n  ];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr("style", node.style);\n  node.width = w + h;\n  node.height = h;\n  node.intersect = function(point2) {\n    return intersect_default.polygon(node, points, point2);\n  };\n  return shapeSvg;\n}, "rect_left_inv_arrow");\nvar lean_right = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getClassesFromNode(node), true);\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: -2 * h / 6, y: 0 },\n    { x: w - h / 6, y: 0 },\n    { x: w + 2 * h / 6, y: -h },\n    { x: h / 6, y: -h }\n  ];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr("style", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function(point2) {\n    return intersect_default.polygon(node, points, point2);\n  };\n  return shapeSvg;\n}, "lean_right");\nvar lean_left = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: 2 * h / 6, y: 0 },\n    { x: w + h / 6, y: 0 },\n    { x: w - 2 * h / 6, y: -h },\n    { x: -h / 6, y: -h }\n  ];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr("style", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function(point2) {\n    return intersect_default.polygon(node, points, point2);\n  };\n  return shapeSvg;\n}, "lean_left");\nvar trapezoid = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: -2 * h / 6, y: 0 },\n    { x: w + 2 * h / 6, y: 0 },\n    { x: w - h / 6, y: -h },\n    { x: h / 6, y: -h }\n  ];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr("style", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function(point2) {\n    return intersect_default.polygon(node, points, point2);\n  };\n  return shapeSvg;\n}, "trapezoid");\nvar inv_trapezoid = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: h / 6, y: 0 },\n    { x: w - h / 6, y: 0 },\n    { x: w + 2 * h / 6, y: -h },\n    { x: -2 * h / 6, y: -h }\n  ];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr("style", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function(point2) {\n    return intersect_default.polygon(node, points, point2);\n  };\n  return shapeSvg;\n}, "inv_trapezoid");\nvar rect_right_inv_arrow = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: 0, y: 0 },\n    { x: w + h / 2, y: 0 },\n    { x: w, y: -h / 2 },\n    { x: w + h / 2, y: -h },\n    { x: 0, y: -h }\n  ];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr("style", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function(point2) {\n    return intersect_default.polygon(node, points, point2);\n  };\n  return shapeSvg;\n}, "rect_right_inv_arrow");\nvar cylinder = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const rx = w / 2;\n  const ry = rx / (2.5 + w / 50);\n  const h = bbox.height + ry + node.padding;\n  const shape = "M 0," + ry + " a " + rx + "," + ry + " 0,0,0 " + w + " 0 a " + rx + "," + ry + " 0,0,0 " + -w + " 0 l 0," + h + " a " + rx + "," + ry + " 0,0,0 " + w + " 0 l 0," + -h;\n  const el = shapeSvg.attr("label-offset-y", ry).insert("path", ":first-child").attr("style", node.style).attr("d", shape).attr("transform", "translate(" + -w / 2 + "," + -(h / 2 + ry) + ")");\n  updateNodeBounds(node, el);\n  node.intersect = function(point2) {\n    const pos = intersect_default.rect(node, point2);\n    const x = pos.x - node.x;\n    if (rx != 0 && (Math.abs(x) < node.width / 2 || Math.abs(x) == node.width / 2 && Math.abs(pos.y - node.y) > node.height / 2 - ry)) {\n      let y = ry * ry * (1 - x * x / (rx * rx));\n      if (y != 0) {\n        y = Math.sqrt(y);\n      }\n      y = ry - y;\n      if (point2.y - node.y > 0) {\n        y = -y;\n      }\n      pos.y += y;\n    }\n    return pos;\n  };\n  return shapeSvg;\n}, "cylinder");\nvar rect = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = await labelHelper(\n    parent,\n    node,\n    "node " + node.classes + " " + node.class,\n    true\n  );\n  const rect2 = shapeSvg.insert("rect", ":first-child");\n  const totalWidth = node.positioned ? node.width : bbox.width + node.padding;\n  const totalHeight = node.positioned ? node.height : bbox.height + node.padding;\n  const x = node.positioned ? -totalWidth / 2 : -bbox.width / 2 - halfPadding;\n  const y = node.positioned ? -totalHeight / 2 : -bbox.height / 2 - halfPadding;\n  rect2.attr("class", "basic label-container").attr("style", node.style).attr("rx", node.rx).attr("ry", node.ry).attr("x", x).attr("y", y).attr("width", totalWidth).attr("height", totalHeight);\n  if (node.props) {\n    const propKeys = new Set(Object.keys(node.props));\n    if (node.props.borders) {\n      applyNodePropertyBorders(rect2, node.props.borders, totalWidth, totalHeight);\n      propKeys.delete("borders");\n    }\n    propKeys.forEach((propKey) => {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.warn(`Unknown node property ${propKey}`);\n    });\n  }\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point2) {\n    return intersect_default.rect(node, point2);\n  };\n  return shapeSvg;\n}, "rect");\nvar composite = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = await labelHelper(\n    parent,\n    node,\n    "node " + node.classes,\n    true\n  );\n  const rect2 = shapeSvg.insert("rect", ":first-child");\n  const totalWidth = node.positioned ? node.width : bbox.width + node.padding;\n  const totalHeight = node.positioned ? node.height : bbox.height + node.padding;\n  const x = node.positioned ? -totalWidth / 2 : -bbox.width / 2 - halfPadding;\n  const y = node.positioned ? -totalHeight / 2 : -bbox.height / 2 - halfPadding;\n  rect2.attr("class", "basic cluster composite label-container").attr("style", node.style).attr("rx", node.rx).attr("ry", node.ry).attr("x", x).attr("y", y).attr("width", totalWidth).attr("height", totalHeight);\n  if (node.props) {\n    const propKeys = new Set(Object.keys(node.props));\n    if (node.props.borders) {\n      applyNodePropertyBorders(rect2, node.props.borders, totalWidth, totalHeight);\n      propKeys.delete("borders");\n    }\n    propKeys.forEach((propKey) => {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.warn(`Unknown node property ${propKey}`);\n    });\n  }\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point2) {\n    return intersect_default.rect(node, point2);\n  };\n  return shapeSvg;\n}, "composite");\nvar labelRect = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg } = await labelHelper(parent, node, "label", true);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.trace("Classes = ", node.class);\n  const rect2 = shapeSvg.insert("rect", ":first-child");\n  const totalWidth = 0;\n  const totalHeight = 0;\n  rect2.attr("width", totalWidth).attr("height", totalHeight);\n  shapeSvg.attr("class", "label edgeLabel");\n  if (node.props) {\n    const propKeys = new Set(Object.keys(node.props));\n    if (node.props.borders) {\n      applyNodePropertyBorders(rect2, node.props.borders, totalWidth, totalHeight);\n      propKeys.delete("borders");\n    }\n    propKeys.forEach((propKey) => {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.warn(`Unknown node property ${propKey}`);\n    });\n  }\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point2) {\n    return intersect_default.rect(node, point2);\n  };\n  return shapeSvg;\n}, "labelRect");\nfunction applyNodePropertyBorders(rect2, borders, totalWidth, totalHeight) {\n  const strokeDashArray = [];\n  const addBorder = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((length) => {\n    strokeDashArray.push(length, 0);\n  }, "addBorder");\n  const skipBorder = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((length) => {\n    strokeDashArray.push(0, length);\n  }, "skipBorder");\n  if (borders.includes("t")) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("add top border");\n    addBorder(totalWidth);\n  } else {\n    skipBorder(totalWidth);\n  }\n  if (borders.includes("r")) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("add right border");\n    addBorder(totalHeight);\n  } else {\n    skipBorder(totalHeight);\n  }\n  if (borders.includes("b")) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("add bottom border");\n    addBorder(totalWidth);\n  } else {\n    skipBorder(totalWidth);\n  }\n  if (borders.includes("l")) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("add left border");\n    addBorder(totalHeight);\n  } else {\n    skipBorder(totalHeight);\n  }\n  rect2.attr("stroke-dasharray", strokeDashArray.join(" "));\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(applyNodePropertyBorders, "applyNodePropertyBorders");\nvar rectWithTitle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  let classes2;\n  if (!node.classes) {\n    classes2 = "node default";\n  } else {\n    classes2 = "node " + node.classes;\n  }\n  const shapeSvg = parent.insert("g").attr("class", classes2).attr("id", node.domId || node.id);\n  const rect2 = shapeSvg.insert("rect", ":first-child");\n  const innerLine = shapeSvg.insert("line");\n  const label = shapeSvg.insert("g").attr("class", "label");\n  const text2 = node.labelText.flat ? node.labelText.flat() : node.labelText;\n  let title = "";\n  if (typeof text2 === "object") {\n    title = text2[0];\n  } else {\n    title = text2;\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.info("Label text abc79", title, text2, typeof text2 === "object");\n  const text = label.node().appendChild(await createLabel_default(title, node.labelStyle, true, true));\n  let bbox = { width: 0, height: 0 };\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.evaluate)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().flowchart.htmlLabels)) {\n    const div = text.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(text);\n    bbox = div.getBoundingClientRect();\n    dv.attr("width", bbox.width);\n    dv.attr("height", bbox.height);\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.info("Text 2", text2);\n  const textRows = text2.slice(1, text2.length);\n  let titleBox = text.getBBox();\n  const descr = label.node().appendChild(\n    await createLabel_default(\n      textRows.join ? textRows.join("<br/>") : textRows,\n      node.labelStyle,\n      true,\n      true\n    )\n  );\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.evaluate)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().flowchart.htmlLabels)) {\n    const div = descr.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(descr);\n    bbox = div.getBoundingClientRect();\n    dv.attr("width", bbox.width);\n    dv.attr("height", bbox.height);\n  }\n  const halfPadding = node.padding / 2;\n  (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(descr).attr(\n    "transform",\n    "translate( " + // (titleBox.width - bbox.width) / 2 +\n    (bbox.width > titleBox.width ? 0 : (titleBox.width - bbox.width) / 2) + ", " + (titleBox.height + halfPadding + 5) + ")"\n  );\n  (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(text).attr(\n    "transform",\n    "translate( " + // (titleBox.width - bbox.width) / 2 +\n    (bbox.width < titleBox.width ? 0 : -(titleBox.width - bbox.width) / 2) + ", 0)"\n  );\n  bbox = label.node().getBBox();\n  label.attr(\n    "transform",\n    "translate(" + -bbox.width / 2 + ", " + (-bbox.height / 2 - halfPadding + 3) + ")"\n  );\n  rect2.attr("class", "outer title-state").attr("x", -bbox.width / 2 - halfPadding).attr("y", -bbox.height / 2 - halfPadding).attr("width", bbox.width + node.padding).attr("height", bbox.height + node.padding);\n  innerLine.attr("class", "divider").attr("x1", -bbox.width / 2 - halfPadding).attr("x2", bbox.width / 2 + halfPadding).attr("y1", -bbox.height / 2 - halfPadding + titleBox.height + halfPadding).attr("y2", -bbox.height / 2 - halfPadding + titleBox.height + halfPadding);\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point2) {\n    return intersect_default.rect(node, point2);\n  };\n  return shapeSvg;\n}, "rectWithTitle");\nvar stadium = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const h = bbox.height + node.padding;\n  const w = bbox.width + h / 4 + node.padding;\n  const rect2 = shapeSvg.insert("rect", ":first-child").attr("style", node.style).attr("rx", h / 2).attr("ry", h / 2).attr("x", -w / 2).attr("y", -h / 2).attr("width", w).attr("height", h);\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point2) {\n    return intersect_default.rect(node, point2);\n  };\n  return shapeSvg;\n}, "stadium");\nvar circle2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const circle3 = shapeSvg.insert("circle", ":first-child");\n  circle3.attr("style", node.style).attr("rx", node.rx).attr("ry", node.ry).attr("r", bbox.width / 2 + halfPadding).attr("width", bbox.width + node.padding).attr("height", bbox.height + node.padding);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.info("Circle main");\n  updateNodeBounds(node, circle3);\n  node.intersect = function(point2) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.info("Circle intersect", node, bbox.width / 2 + halfPadding, point2);\n    return intersect_default.circle(node, bbox.width / 2 + halfPadding, point2);\n  };\n  return shapeSvg;\n}, "circle");\nvar doublecircle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const gap = 5;\n  const circleGroup = shapeSvg.insert("g", ":first-child");\n  const outerCircle = circleGroup.insert("circle");\n  const innerCircle = circleGroup.insert("circle");\n  circleGroup.attr("class", node.class);\n  outerCircle.attr("style", node.style).attr("rx", node.rx).attr("ry", node.ry).attr("r", bbox.width / 2 + halfPadding + gap).attr("width", bbox.width + node.padding + gap * 2).attr("height", bbox.height + node.padding + gap * 2);\n  innerCircle.attr("style", node.style).attr("rx", node.rx).attr("ry", node.ry).attr("r", bbox.width / 2 + halfPadding).attr("width", bbox.width + node.padding).attr("height", bbox.height + node.padding);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.info("DoubleCircle main");\n  updateNodeBounds(node, outerCircle);\n  node.intersect = function(point2) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.info("DoubleCircle intersect", node, bbox.width / 2 + halfPadding + gap, point2);\n    return intersect_default.circle(node, bbox.width / 2 + halfPadding + gap, point2);\n  };\n  return shapeSvg;\n}, "doublecircle");\nvar subroutine = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: 0, y: 0 },\n    { x: w, y: 0 },\n    { x: w, y: -h },\n    { x: 0, y: -h },\n    { x: 0, y: 0 },\n    { x: -8, y: 0 },\n    { x: w + 8, y: 0 },\n    { x: w + 8, y: -h },\n    { x: -8, y: -h },\n    { x: -8, y: 0 }\n  ];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr("style", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function(point2) {\n    return intersect_default.polygon(node, points, point2);\n  };\n  return shapeSvg;\n}, "subroutine");\nvar start = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((parent, node) => {\n  const shapeSvg = parent.insert("g").attr("class", "node default").attr("id", node.domId || node.id);\n  const circle3 = shapeSvg.insert("circle", ":first-child");\n  circle3.attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14);\n  updateNodeBounds(node, circle3);\n  node.intersect = function(point2) {\n    return intersect_default.circle(node, 7, point2);\n  };\n  return shapeSvg;\n}, "start");\nvar forkJoin = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((parent, node, dir) => {\n  const shapeSvg = parent.insert("g").attr("class", "node default").attr("id", node.domId || node.id);\n  let width = 70;\n  let height = 10;\n  if (dir === "LR") {\n    width = 10;\n    height = 70;\n  }\n  const shape = shapeSvg.append("rect").attr("x", -1 * width / 2).attr("y", -1 * height / 2).attr("width", width).attr("height", height).attr("class", "fork-join");\n  updateNodeBounds(node, shape);\n  node.height = node.height + node.padding / 2;\n  node.width = node.width + node.padding / 2;\n  node.intersect = function(point2) {\n    return intersect_default.rect(node, point2);\n  };\n  return shapeSvg;\n}, "forkJoin");\nvar end = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((parent, node) => {\n  const shapeSvg = parent.insert("g").attr("class", "node default").attr("id", node.domId || node.id);\n  const innerCircle = shapeSvg.insert("circle", ":first-child");\n  const circle3 = shapeSvg.insert("circle", ":first-child");\n  circle3.attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14);\n  innerCircle.attr("class", "state-end").attr("r", 5).attr("width", 10).attr("height", 10);\n  updateNodeBounds(node, circle3);\n  node.intersect = function(point2) {\n    return intersect_default.circle(node, 7, point2);\n  };\n  return shapeSvg;\n}, "end");\nvar class_box = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (parent, node) => {\n  const halfPadding = node.padding / 2;\n  const rowPadding = 4;\n  const lineHeight = 8;\n  let classes2;\n  if (!node.classes) {\n    classes2 = "node default";\n  } else {\n    classes2 = "node " + node.classes;\n  }\n  const shapeSvg = parent.insert("g").attr("class", classes2).attr("id", node.domId || node.id);\n  const rect2 = shapeSvg.insert("rect", ":first-child");\n  const topLine = shapeSvg.insert("line");\n  const bottomLine = shapeSvg.insert("line");\n  let maxWidth = 0;\n  let maxHeight = rowPadding;\n  const labelContainer = shapeSvg.insert("g").attr("class", "label");\n  let verticalPos = 0;\n  const hasInterface = node.classData.annotations?.[0];\n  const interfaceLabelText = node.classData.annotations[0] ? "\\xAB" + node.classData.annotations[0] + "\\xBB" : "";\n  const interfaceLabel = labelContainer.node().appendChild(await createLabel_default(interfaceLabelText, node.labelStyle, true, true));\n  let interfaceBBox = interfaceLabel.getBBox();\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.evaluate)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().flowchart.htmlLabels)) {\n    const div = interfaceLabel.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(interfaceLabel);\n    interfaceBBox = div.getBoundingClientRect();\n    dv.attr("width", interfaceBBox.width);\n    dv.attr("height", interfaceBBox.height);\n  }\n  if (node.classData.annotations[0]) {\n    maxHeight += interfaceBBox.height + rowPadding;\n    maxWidth += interfaceBBox.width;\n  }\n  let classTitleString = node.classData.label;\n  if (node.classData.type !== void 0 && node.classData.type !== "") {\n    if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().flowchart.htmlLabels) {\n      classTitleString += "&lt;" + node.classData.type + "&gt;";\n    } else {\n      classTitleString += "<" + node.classData.type + ">";\n    }\n  }\n  const classTitleLabel = labelContainer.node().appendChild(await createLabel_default(classTitleString, node.labelStyle, true, true));\n  (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(classTitleLabel).attr("class", "classTitle");\n  let classTitleBBox = classTitleLabel.getBBox();\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.evaluate)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().flowchart.htmlLabels)) {\n    const div = classTitleLabel.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(classTitleLabel);\n    classTitleBBox = div.getBoundingClientRect();\n    dv.attr("width", classTitleBBox.width);\n    dv.attr("height", classTitleBBox.height);\n  }\n  maxHeight += classTitleBBox.height + rowPadding;\n  if (classTitleBBox.width > maxWidth) {\n    maxWidth = classTitleBBox.width;\n  }\n  const classAttributes = [];\n  node.classData.members.forEach(async (member) => {\n    const parsedInfo = member.getDisplayDetails();\n    let parsedText = parsedInfo.displayText;\n    if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().flowchart.htmlLabels) {\n      parsedText = parsedText.replace(/</g, "&lt;").replace(/>/g, "&gt;");\n    }\n    const lbl = labelContainer.node().appendChild(\n      await createLabel_default(\n        parsedText,\n        parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle,\n        true,\n        true\n      )\n    );\n    let bbox = lbl.getBBox();\n    if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.evaluate)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().flowchart.htmlLabels)) {\n      const div = lbl.children[0];\n      const dv = (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(lbl);\n      bbox = div.getBoundingClientRect();\n      dv.attr("width", bbox.width);\n      dv.attr("height", bbox.height);\n    }\n    if (bbox.width > maxWidth) {\n      maxWidth = bbox.width;\n    }\n    maxHeight += bbox.height + rowPadding;\n    classAttributes.push(lbl);\n  });\n  maxHeight += lineHeight;\n  const classMethods = [];\n  node.classData.methods.forEach(async (member) => {\n    const parsedInfo = member.getDisplayDetails();\n    let displayText = parsedInfo.displayText;\n    if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().flowchart.htmlLabels) {\n      displayText = displayText.replace(/</g, "&lt;").replace(/>/g, "&gt;");\n    }\n    const lbl = labelContainer.node().appendChild(\n      await createLabel_default(\n        displayText,\n        parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle,\n        true,\n        true\n      )\n    );\n    let bbox = lbl.getBBox();\n    if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.evaluate)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().flowchart.htmlLabels)) {\n      const div = lbl.children[0];\n      const dv = (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(lbl);\n      bbox = div.getBoundingClientRect();\n      dv.attr("width", bbox.width);\n      dv.attr("height", bbox.height);\n    }\n    if (bbox.width > maxWidth) {\n      maxWidth = bbox.width;\n    }\n    maxHeight += bbox.height + rowPadding;\n    classMethods.push(lbl);\n  });\n  maxHeight += lineHeight;\n  if (hasInterface) {\n    let diffX2 = (maxWidth - interfaceBBox.width) / 2;\n    (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(interfaceLabel).attr(\n      "transform",\n      "translate( " + (-1 * maxWidth / 2 + diffX2) + ", " + -1 * maxHeight / 2 + ")"\n    );\n    verticalPos = interfaceBBox.height + rowPadding;\n  }\n  let diffX = (maxWidth - classTitleBBox.width) / 2;\n  (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(classTitleLabel).attr(\n    "transform",\n    "translate( " + (-1 * maxWidth / 2 + diffX) + ", " + (-1 * maxHeight / 2 + verticalPos) + ")"\n  );\n  verticalPos += classTitleBBox.height + rowPadding;\n  topLine.attr("class", "divider").attr("x1", -maxWidth / 2 - halfPadding).attr("x2", maxWidth / 2 + halfPadding).attr("y1", -maxHeight / 2 - halfPadding + lineHeight + verticalPos).attr("y2", -maxHeight / 2 - halfPadding + lineHeight + verticalPos);\n  verticalPos += lineHeight;\n  classAttributes.forEach((lbl) => {\n    (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(lbl).attr(\n      "transform",\n      "translate( " + -maxWidth / 2 + ", " + (-1 * maxHeight / 2 + verticalPos + lineHeight / 2) + ")"\n    );\n    const memberBBox = lbl?.getBBox();\n    verticalPos += (memberBBox?.height ?? 0) + rowPadding;\n  });\n  verticalPos += lineHeight;\n  bottomLine.attr("class", "divider").attr("x1", -maxWidth / 2 - halfPadding).attr("x2", maxWidth / 2 + halfPadding).attr("y1", -maxHeight / 2 - halfPadding + lineHeight + verticalPos).attr("y2", -maxHeight / 2 - halfPadding + lineHeight + verticalPos);\n  verticalPos += lineHeight;\n  classMethods.forEach((lbl) => {\n    (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(lbl).attr(\n      "transform",\n      "translate( " + -maxWidth / 2 + ", " + (-1 * maxHeight / 2 + verticalPos) + ")"\n    );\n    const memberBBox = lbl?.getBBox();\n    verticalPos += (memberBBox?.height ?? 0) + rowPadding;\n  });\n  rect2.attr("style", node.style).attr("class", "outer title-state").attr("x", -maxWidth / 2 - halfPadding).attr("y", -(maxHeight / 2) - halfPadding).attr("width", maxWidth + node.padding).attr("height", maxHeight + node.padding);\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point2) {\n    return intersect_default.rect(node, point2);\n  };\n  return shapeSvg;\n}, "class_box");\nvar shapes = {\n  rhombus: question,\n  composite,\n  question,\n  rect,\n  labelRect,\n  rectWithTitle,\n  choice,\n  circle: circle2,\n  doublecircle,\n  stadium,\n  hexagon,\n  block_arrow,\n  rect_left_inv_arrow,\n  lean_right,\n  lean_left,\n  trapezoid,\n  inv_trapezoid,\n  rect_right_inv_arrow,\n  cylinder,\n  start,\n  end,\n  note: note_default,\n  subroutine,\n  fork: forkJoin,\n  join: forkJoin,\n  class_box\n};\nvar nodeElems = {};\nvar insertNode = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (elem, node, renderOptions) => {\n  let newEl;\n  let el;\n  if (node.link) {\n    let target;\n    if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().securityLevel === "sandbox") {\n      target = "_top";\n    } else if (node.linkTarget) {\n      target = node.linkTarget || "_blank";\n    }\n    newEl = elem.insert("svg:a").attr("xlink:href", node.link).attr("target", target);\n    el = await shapes[node.shape](newEl, node, renderOptions);\n  } else {\n    el = await shapes[node.shape](elem, node, renderOptions);\n    newEl = el;\n  }\n  if (node.tooltip) {\n    el.attr("title", node.tooltip);\n  }\n  if (node.class) {\n    el.attr("class", "node default " + node.class);\n  }\n  nodeElems[node.id] = newEl;\n  if (node.haveCallback) {\n    nodeElems[node.id].attr("class", nodeElems[node.id].attr("class") + " clickable");\n  }\n  return newEl;\n}, "insertNode");\nvar positionNode = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((node) => {\n  const el = nodeElems[node.id];\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.trace(\n    "Transforming node",\n    node.diff,\n    node,\n    "translate(" + (node.x - node.width / 2 - 5) + ", " + node.width / 2 + ")"\n  );\n  const padding2 = 8;\n  const diff = node.diff || 0;\n  if (node.clusterNode) {\n    el.attr(\n      "transform",\n      "translate(" + (node.x + diff - node.width / 2) + ", " + (node.y - node.height / 2 - padding2) + ")"\n    );\n  } else {\n    el.attr("transform", "translate(" + node.x + ", " + node.y + ")");\n  }\n  return diff;\n}, "positionNode");\n\n// src/diagrams/block/renderHelpers.ts\nfunction getNodeFromBlock(block, db2, positioned = false) {\n  const vertex = block;\n  let classStr = "default";\n  if ((vertex?.classes?.length || 0) > 0) {\n    classStr = (vertex?.classes ?? []).join(" ");\n  }\n  classStr = classStr + " flowchart-label";\n  let radius = 0;\n  let shape = "";\n  let padding2;\n  switch (vertex.type) {\n    case "round":\n      radius = 5;\n      shape = "rect";\n      break;\n    case "composite":\n      radius = 0;\n      shape = "composite";\n      padding2 = 0;\n      break;\n    case "square":\n      shape = "rect";\n      break;\n    case "diamond":\n      shape = "question";\n      break;\n    case "hexagon":\n      shape = "hexagon";\n      break;\n    case "block_arrow":\n      shape = "block_arrow";\n      break;\n    case "odd":\n      shape = "rect_left_inv_arrow";\n      break;\n    case "lean_right":\n      shape = "lean_right";\n      break;\n    case "lean_left":\n      shape = "lean_left";\n      break;\n    case "trapezoid":\n      shape = "trapezoid";\n      break;\n    case "inv_trapezoid":\n      shape = "inv_trapezoid";\n      break;\n    case "rect_left_inv_arrow":\n      shape = "rect_left_inv_arrow";\n      break;\n    case "circle":\n      shape = "circle";\n      break;\n    case "ellipse":\n      shape = "ellipse";\n      break;\n    case "stadium":\n      shape = "stadium";\n      break;\n    case "subroutine":\n      shape = "subroutine";\n      break;\n    case "cylinder":\n      shape = "cylinder";\n      break;\n    case "group":\n      shape = "rect";\n      break;\n    case "doublecircle":\n      shape = "doublecircle";\n      break;\n    default:\n      shape = "rect";\n  }\n  const styles = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.getStylesFromArray)(vertex?.styles ?? []);\n  const vertexText = vertex.label;\n  const bounds = vertex.size ?? { width: 0, height: 0, x: 0, y: 0 };\n  const node = {\n    labelStyle: styles.labelStyle,\n    shape,\n    labelText: vertexText,\n    rx: radius,\n    ry: radius,\n    class: classStr,\n    style: styles.style,\n    id: vertex.id,\n    directions: vertex.directions,\n    width: bounds.width,\n    height: bounds.height,\n    x: bounds.x,\n    y: bounds.y,\n    positioned,\n    intersect: void 0,\n    type: vertex.type,\n    padding: padding2 ?? (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig)()?.block?.padding ?? 0\n  };\n  return node;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(getNodeFromBlock, "getNodeFromBlock");\nasync function calculateBlockSize(elem, block, db2) {\n  const node = getNodeFromBlock(block, db2, false);\n  if (node.type === "group") {\n    return;\n  }\n  const config2 = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig)();\n  const nodeEl = await insertNode(elem, node, { config: config2 });\n  const boundingBox = nodeEl.node().getBBox();\n  const obj = db2.getBlock(node.id);\n  obj.size = { width: boundingBox.width, height: boundingBox.height, x: 0, y: 0, node: nodeEl };\n  db2.setBlock(obj);\n  nodeEl.remove();\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(calculateBlockSize, "calculateBlockSize");\nasync function insertBlockPositioned(elem, block, db2) {\n  const node = getNodeFromBlock(block, db2, true);\n  const obj = db2.getBlock(node.id);\n  if (obj.type !== "space") {\n    const config2 = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig)();\n    await insertNode(elem, node, { config: config2 });\n    block.intersect = node?.intersect;\n    positionNode(node);\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(insertBlockPositioned, "insertBlockPositioned");\nasync function performOperations(elem, blocks2, db2, operation) {\n  for (const block of blocks2) {\n    await operation(elem, block, db2);\n    if (block.children) {\n      await performOperations(elem, block.children, db2, operation);\n    }\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(performOperations, "performOperations");\nasync function calculateBlockSizes(elem, blocks2, db2) {\n  await performOperations(elem, blocks2, db2, calculateBlockSize);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(calculateBlockSizes, "calculateBlockSizes");\nasync function insertBlocks(elem, blocks2, db2) {\n  await performOperations(elem, blocks2, db2, insertBlockPositioned);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(insertBlocks, "insertBlocks");\nasync function insertEdges(elem, edges, blocks2, db2, id) {\n  const g = new dagre_d3_es_src_graphlib_index_js__WEBPACK_IMPORTED_MODULE_11__.Graph({\n    multigraph: true,\n    compound: true\n  });\n  g.setGraph({\n    rankdir: "TB",\n    nodesep: 10,\n    ranksep: 10,\n    marginx: 8,\n    marginy: 8\n  });\n  for (const block of blocks2) {\n    if (block.size) {\n      g.setNode(block.id, {\n        width: block.size.width,\n        height: block.size.height,\n        intersect: block.intersect\n      });\n    }\n  }\n  for (const edge of edges) {\n    if (edge.start && edge.end) {\n      const startBlock = db2.getBlock(edge.start);\n      const endBlock = db2.getBlock(edge.end);\n      if (startBlock?.size && endBlock?.size) {\n        const start2 = startBlock.size;\n        const end2 = endBlock.size;\n        const points = [\n          { x: start2.x, y: start2.y },\n          { x: start2.x + (end2.x - start2.x) / 2, y: start2.y + (end2.y - start2.y) / 2 },\n          { x: end2.x, y: end2.y }\n        ];\n        insertEdge(\n          elem,\n          { v: edge.start, w: edge.end, name: edge.id },\n          {\n            ...edge,\n            arrowTypeEnd: edge.arrowTypeEnd,\n            arrowTypeStart: edge.arrowTypeStart,\n            points,\n            classes: "edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"\n          },\n          void 0,\n          "block",\n          g,\n          id\n        );\n        if (edge.label) {\n          await insertEdgeLabel(elem, {\n            ...edge,\n            label: edge.label,\n            labelStyle: "stroke: #333; stroke-width: 1.5px;fill:none;",\n            arrowTypeEnd: edge.arrowTypeEnd,\n            arrowTypeStart: edge.arrowTypeStart,\n            points,\n            classes: "edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"\n          });\n          positionEdgeLabel(\n            { ...edge, x: points[1].x, y: points[1].y },\n            {\n              originalPath: points\n            }\n          );\n        }\n      }\n    }\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(insertEdges, "insertEdges");\n\n// src/diagrams/block/blockRenderer.ts\nvar getClasses2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(text, diagObj) {\n  return diagObj.db.getClasses();\n}, "getClasses");\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async function(text, id, _version, diagObj) {\n  const { securityLevel, block: conf } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig)();\n  const db2 = diagObj.db;\n  let sandboxElement;\n  if (securityLevel === "sandbox") {\n    sandboxElement = (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)("#i" + id);\n  }\n  const root = securityLevel === "sandbox" ? (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)("body");\n  const svg = securityLevel === "sandbox" ? root.select(`[id="${id}"]`) : (0,d3__WEBPACK_IMPORTED_MODULE_10__.select)(`[id="${id}"]`);\n  const markers2 = ["point", "circle", "cross"];\n  markers_default(svg, markers2, diagObj.type, id);\n  const bl = db2.getBlocks();\n  const blArr = db2.getBlocksFlat();\n  const edges = db2.getEdges();\n  const nodes = svg.insert("g").attr("class", "block");\n  await calculateBlockSizes(nodes, bl, db2);\n  const bounds = layout(db2);\n  await insertBlocks(nodes, bl, db2);\n  await insertEdges(nodes, edges, blArr, db2, id);\n  if (bounds) {\n    const bounds2 = bounds;\n    const magicFactor = Math.max(1, Math.round(0.125 * (bounds2.width / bounds2.height)));\n    const height = bounds2.height + magicFactor + 10;\n    const width = bounds2.width + 10;\n    const { useMaxWidth } = conf;\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.configureSvgSize)(svg, height, width, !!useMaxWidth);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("Here Bounds", bounds, bounds2);\n    svg.attr(\n      "viewBox",\n      `${bounds2.x - 5} ${bounds2.y - 5} ${bounds2.width + 10} ${bounds2.height + 10}`\n    );\n  }\n}, "draw");\nvar blockRenderer_default = {\n  draw,\n  getClasses: getClasses2\n};\n\n// src/diagrams/block/blockDiagram.ts\nvar diagram = {\n  parser: block_default,\n  db: blockDB_default,\n  renderer: blockRenderer_default,\n  styles: styles_default\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/blockDiagram-VD42YOAC.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/c4Diagram-YG6GDRKO.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-TZMSLE5B.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-TZMSLE5B.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n/* harmony import */ var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @braintree/sanitize-url */ "./node_modules/@braintree/sanitize-url/dist/index.js");\n\n\n\n\n\n// src/diagrams/c4/parser/c4Diagram.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [1, 24], $V1 = [1, 25], $V2 = [1, 26], $V3 = [1, 27], $V4 = [1, 28], $V5 = [1, 63], $V6 = [1, 64], $V7 = [1, 65], $V8 = [1, 66], $V9 = [1, 67], $Va = [1, 68], $Vb = [1, 69], $Vc = [1, 29], $Vd = [1, 30], $Ve = [1, 31], $Vf = [1, 32], $Vg = [1, 33], $Vh = [1, 34], $Vi = [1, 35], $Vj = [1, 36], $Vk = [1, 37], $Vl = [1, 38], $Vm = [1, 39], $Vn = [1, 40], $Vo = [1, 41], $Vp = [1, 42], $Vq = [1, 43], $Vr = [1, 44], $Vs = [1, 45], $Vt = [1, 46], $Vu = [1, 47], $Vv = [1, 48], $Vw = [1, 50], $Vx = [1, 51], $Vy = [1, 52], $Vz = [1, 53], $VA = [1, 54], $VB = [1, 55], $VC = [1, 56], $VD = [1, 57], $VE = [1, 58], $VF = [1, 59], $VG = [1, 60], $VH = [14, 42], $VI = [14, 34, 36, 37, 38, 39, 40, 41, 42, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74], $VJ = [12, 14, 34, 36, 37, 38, 39, 40, 41, 42, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74], $VK = [1, 82], $VL = [1, 83], $VM = [1, 84], $VN = [1, 85], $VO = [12, 14, 42], $VP = [12, 14, 33, 42], $VQ = [12, 14, 33, 42, 76, 77, 79, 80], $VR = [12, 33], $VS = [34, 36, 37, 38, 39, 40, 41, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "start": 3, "mermaidDoc": 4, "direction": 5, "direction_tb": 6, "direction_bt": 7, "direction_rl": 8, "direction_lr": 9, "graphConfig": 10, "C4_CONTEXT": 11, "NEWLINE": 12, "statements": 13, "EOF": 14, "C4_CONTAINER": 15, "C4_COMPONENT": 16, "C4_DYNAMIC": 17, "C4_DEPLOYMENT": 18, "otherStatements": 19, "diagramStatements": 20, "otherStatement": 21, "title": 22, "accDescription": 23, "acc_title": 24, "acc_title_value": 25, "acc_descr": 26, "acc_descr_value": 27, "acc_descr_multiline_value": 28, "boundaryStatement": 29, "boundaryStartStatement": 30, "boundaryStopStatement": 31, "boundaryStart": 32, "LBRACE": 33, "ENTERPRISE_BOUNDARY": 34, "attributes": 35, "SYSTEM_BOUNDARY": 36, "BOUNDARY": 37, "CONTAINER_BOUNDARY": 38, "NODE": 39, "NODE_L": 40, "NODE_R": 41, "RBRACE": 42, "diagramStatement": 43, "PERSON": 44, "PERSON_EXT": 45, "SYSTEM": 46, "SYSTEM_DB": 47, "SYSTEM_QUEUE": 48, "SYSTEM_EXT": 49, "SYSTEM_EXT_DB": 50, "SYSTEM_EXT_QUEUE": 51, "CONTAINER": 52, "CONTAINER_DB": 53, "CONTAINER_QUEUE": 54, "CONTAINER_EXT": 55, "CONTAINER_EXT_DB": 56, "CONTAINER_EXT_QUEUE": 57, "COMPONENT": 58, "COMPONENT_DB": 59, "COMPONENT_QUEUE": 60, "COMPONENT_EXT": 61, "COMPONENT_EXT_DB": 62, "COMPONENT_EXT_QUEUE": 63, "REL": 64, "BIREL": 65, "REL_U": 66, "REL_D": 67, "REL_L": 68, "REL_R": 69, "REL_B": 70, "REL_INDEX": 71, "UPDATE_EL_STYLE": 72, "UPDATE_REL_STYLE": 73, "UPDATE_LAYOUT_CONFIG": 74, "attribute": 75, "STR": 76, "STR_KEY": 77, "STR_VALUE": 78, "ATTRIBUTE": 79, "ATTRIBUTE_EMPTY": 80, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 6: "direction_tb", 7: "direction_bt", 8: "direction_rl", 9: "direction_lr", 11: "C4_CONTEXT", 12: "NEWLINE", 14: "EOF", 15: "C4_CONTAINER", 16: "C4_COMPONENT", 17: "C4_DYNAMIC", 18: "C4_DEPLOYMENT", 22: "title", 23: "accDescription", 24: "acc_title", 25: "acc_title_value", 26: "acc_descr", 27: "acc_descr_value", 28: "acc_descr_multiline_value", 33: "LBRACE", 34: "ENTERPRISE_BOUNDARY", 36: "SYSTEM_BOUNDARY", 37: "BOUNDARY", 38: "CONTAINER_BOUNDARY", 39: "NODE", 40: "NODE_L", 41: "NODE_R", 42: "RBRACE", 44: "PERSON", 45: "PERSON_EXT", 46: "SYSTEM", 47: "SYSTEM_DB", 48: "SYSTEM_QUEUE", 49: "SYSTEM_EXT", 50: "SYSTEM_EXT_DB", 51: "SYSTEM_EXT_QUEUE", 52: "CONTAINER", 53: "CONTAINER_DB", 54: "CONTAINER_QUEUE", 55: "CONTAINER_EXT", 56: "CONTAINER_EXT_DB", 57: "CONTAINER_EXT_QUEUE", 58: "COMPONENT", 59: "COMPONENT_DB", 60: "COMPONENT_QUEUE", 61: "COMPONENT_EXT", 62: "COMPONENT_EXT_DB", 63: "COMPONENT_EXT_QUEUE", 64: "REL", 65: "BIREL", 66: "REL_U", 67: "REL_D", 68: "REL_L", 69: "REL_R", 70: "REL_B", 71: "REL_INDEX", 72: "UPDATE_EL_STYLE", 73: "UPDATE_REL_STYLE", 74: "UPDATE_LAYOUT_CONFIG", 76: "STR", 77: "STR_KEY", 78: "STR_VALUE", 79: "ATTRIBUTE", 80: "ATTRIBUTE_EMPTY" },\n    productions_: [0, [3, 1], [3, 1], [5, 1], [5, 1], [5, 1], [5, 1], [4, 1], [10, 4], [10, 4], [10, 4], [10, 4], [10, 4], [13, 1], [13, 1], [13, 2], [19, 1], [19, 2], [19, 3], [21, 1], [21, 1], [21, 2], [21, 2], [21, 1], [29, 3], [30, 3], [30, 3], [30, 4], [32, 2], [32, 2], [32, 2], [32, 2], [32, 2], [32, 2], [32, 2], [31, 1], [20, 1], [20, 2], [20, 3], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 1], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [43, 2], [35, 1], [35, 2], [75, 1], [75, 2], [75, 1], [75, 1]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 3:\n          yy.setDirection("TB");\n          break;\n        case 4:\n          yy.setDirection("BT");\n          break;\n        case 5:\n          yy.setDirection("RL");\n          break;\n        case 6:\n          yy.setDirection("LR");\n          break;\n        case 8:\n        case 9:\n        case 10:\n        case 11:\n        case 12:\n          yy.setC4Type($$[$0 - 3]);\n          break;\n        case 19:\n          yy.setTitle($$[$0].substring(6));\n          this.$ = $$[$0].substring(6);\n          break;\n        case 20:\n          yy.setAccDescription($$[$0].substring(15));\n          this.$ = $$[$0].substring(15);\n          break;\n        case 21:\n          this.$ = $$[$0].trim();\n          yy.setTitle(this.$);\n          break;\n        case 22:\n        case 23:\n          this.$ = $$[$0].trim();\n          yy.setAccDescription(this.$);\n          break;\n        case 28:\n          $$[$0].splice(2, 0, "ENTERPRISE");\n          yy.addPersonOrSystemBoundary(...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 29:\n          $$[$0].splice(2, 0, "SYSTEM");\n          yy.addPersonOrSystemBoundary(...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 30:\n          yy.addPersonOrSystemBoundary(...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 31:\n          $$[$0].splice(2, 0, "CONTAINER");\n          yy.addContainerBoundary(...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 32:\n          yy.addDeploymentNode("node", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 33:\n          yy.addDeploymentNode("nodeL", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 34:\n          yy.addDeploymentNode("nodeR", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 35:\n          yy.popBoundaryParseStack();\n          break;\n        case 39:\n          yy.addPersonOrSystem("person", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 40:\n          yy.addPersonOrSystem("external_person", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 41:\n          yy.addPersonOrSystem("system", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 42:\n          yy.addPersonOrSystem("system_db", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 43:\n          yy.addPersonOrSystem("system_queue", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 44:\n          yy.addPersonOrSystem("external_system", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 45:\n          yy.addPersonOrSystem("external_system_db", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 46:\n          yy.addPersonOrSystem("external_system_queue", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 47:\n          yy.addContainer("container", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 48:\n          yy.addContainer("container_db", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 49:\n          yy.addContainer("container_queue", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 50:\n          yy.addContainer("external_container", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 51:\n          yy.addContainer("external_container_db", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 52:\n          yy.addContainer("external_container_queue", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 53:\n          yy.addComponent("component", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 54:\n          yy.addComponent("component_db", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 55:\n          yy.addComponent("component_queue", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 56:\n          yy.addComponent("external_component", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 57:\n          yy.addComponent("external_component_db", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 58:\n          yy.addComponent("external_component_queue", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 60:\n          yy.addRel("rel", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 61:\n          yy.addRel("birel", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 62:\n          yy.addRel("rel_u", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 63:\n          yy.addRel("rel_d", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 64:\n          yy.addRel("rel_l", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 65:\n          yy.addRel("rel_r", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 66:\n          yy.addRel("rel_b", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 67:\n          $$[$0].splice(0, 1);\n          yy.addRel("rel", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 68:\n          yy.updateElStyle("update_el_style", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 69:\n          yy.updateRelStyle("update_rel_style", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 70:\n          yy.updateLayoutConfig("update_layout_config", ...$$[$0]);\n          this.$ = $$[$0];\n          break;\n        case 71:\n          this.$ = [$$[$0]];\n          break;\n        case 72:\n          $$[$0].unshift($$[$0 - 1]);\n          this.$ = $$[$0];\n          break;\n        case 73:\n        case 75:\n          this.$ = $$[$0].trim();\n          break;\n        case 74:\n          let kv = {};\n          kv[$$[$0 - 1].trim()] = $$[$0].trim();\n          this.$ = kv;\n          break;\n        case 76:\n          this.$ = "";\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 3: 1, 4: 2, 5: 3, 6: [1, 5], 7: [1, 6], 8: [1, 7], 9: [1, 8], 10: 4, 11: [1, 9], 15: [1, 10], 16: [1, 11], 17: [1, 12], 18: [1, 13] }, { 1: [3] }, { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 7] }, { 1: [2, 3] }, { 1: [2, 4] }, { 1: [2, 5] }, { 1: [2, 6] }, { 12: [1, 14] }, { 12: [1, 15] }, { 12: [1, 16] }, { 12: [1, 17] }, { 12: [1, 18] }, { 13: 19, 19: 20, 20: 21, 21: 22, 22: $V0, 23: $V1, 24: $V2, 26: $V3, 28: $V4, 29: 49, 30: 61, 32: 62, 34: $V5, 36: $V6, 37: $V7, 38: $V8, 39: $V9, 40: $Va, 41: $Vb, 43: 23, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi, 51: $Vj, 52: $Vk, 53: $Vl, 54: $Vm, 55: $Vn, 56: $Vo, 57: $Vp, 58: $Vq, 59: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 64: $Vw, 65: $Vx, 66: $Vy, 67: $Vz, 68: $VA, 69: $VB, 70: $VC, 71: $VD, 72: $VE, 73: $VF, 74: $VG }, { 13: 70, 19: 20, 20: 21, 21: 22, 22: $V0, 23: $V1, 24: $V2, 26: $V3, 28: $V4, 29: 49, 30: 61, 32: 62, 34: $V5, 36: $V6, 37: $V7, 38: $V8, 39: $V9, 40: $Va, 41: $Vb, 43: 23, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi, 51: $Vj, 52: $Vk, 53: $Vl, 54: $Vm, 55: $Vn, 56: $Vo, 57: $Vp, 58: $Vq, 59: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 64: $Vw, 65: $Vx, 66: $Vy, 67: $Vz, 68: $VA, 69: $VB, 70: $VC, 71: $VD, 72: $VE, 73: $VF, 74: $VG }, { 13: 71, 19: 20, 20: 21, 21: 22, 22: $V0, 23: $V1, 24: $V2, 26: $V3, 28: $V4, 29: 49, 30: 61, 32: 62, 34: $V5, 36: $V6, 37: $V7, 38: $V8, 39: $V9, 40: $Va, 41: $Vb, 43: 23, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi, 51: $Vj, 52: $Vk, 53: $Vl, 54: $Vm, 55: $Vn, 56: $Vo, 57: $Vp, 58: $Vq, 59: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 64: $Vw, 65: $Vx, 66: $Vy, 67: $Vz, 68: $VA, 69: $VB, 70: $VC, 71: $VD, 72: $VE, 73: $VF, 74: $VG }, { 13: 72, 19: 20, 20: 21, 21: 22, 22: $V0, 23: $V1, 24: $V2, 26: $V3, 28: $V4, 29: 49, 30: 61, 32: 62, 34: $V5, 36: $V6, 37: $V7, 38: $V8, 39: $V9, 40: $Va, 41: $Vb, 43: 23, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi, 51: $Vj, 52: $Vk, 53: $Vl, 54: $Vm, 55: $Vn, 56: $Vo, 57: $Vp, 58: $Vq, 59: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 64: $Vw, 65: $Vx, 66: $Vy, 67: $Vz, 68: $VA, 69: $VB, 70: $VC, 71: $VD, 72: $VE, 73: $VF, 74: $VG }, { 13: 73, 19: 20, 20: 21, 21: 22, 22: $V0, 23: $V1, 24: $V2, 26: $V3, 28: $V4, 29: 49, 30: 61, 32: 62, 34: $V5, 36: $V6, 37: $V7, 38: $V8, 39: $V9, 40: $Va, 41: $Vb, 43: 23, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi, 51: $Vj, 52: $Vk, 53: $Vl, 54: $Vm, 55: $Vn, 56: $Vo, 57: $Vp, 58: $Vq, 59: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 64: $Vw, 65: $Vx, 66: $Vy, 67: $Vz, 68: $VA, 69: $VB, 70: $VC, 71: $VD, 72: $VE, 73: $VF, 74: $VG }, { 14: [1, 74] }, o($VH, [2, 13], { 43: 23, 29: 49, 30: 61, 32: 62, 20: 75, 34: $V5, 36: $V6, 37: $V7, 38: $V8, 39: $V9, 40: $Va, 41: $Vb, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi, 51: $Vj, 52: $Vk, 53: $Vl, 54: $Vm, 55: $Vn, 56: $Vo, 57: $Vp, 58: $Vq, 59: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 64: $Vw, 65: $Vx, 66: $Vy, 67: $Vz, 68: $VA, 69: $VB, 70: $VC, 71: $VD, 72: $VE, 73: $VF, 74: $VG }), o($VH, [2, 14]), o($VI, [2, 16], { 12: [1, 76] }), o($VH, [2, 36], { 12: [1, 77] }), o($VJ, [2, 19]), o($VJ, [2, 20]), { 25: [1, 78] }, { 27: [1, 79] }, o($VJ, [2, 23]), { 35: 80, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 86, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 87, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 88, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 89, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 90, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 91, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 92, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 93, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 94, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 95, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 96, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 97, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 98, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 99, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 100, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 101, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 102, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 103, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 104, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, o($VO, [2, 59]), { 35: 105, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 106, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 107, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 108, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 109, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 110, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 111, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 112, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 113, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 114, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 115, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 20: 116, 29: 49, 30: 61, 32: 62, 34: $V5, 36: $V6, 37: $V7, 38: $V8, 39: $V9, 40: $Va, 41: $Vb, 43: 23, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi, 51: $Vj, 52: $Vk, 53: $Vl, 54: $Vm, 55: $Vn, 56: $Vo, 57: $Vp, 58: $Vq, 59: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 64: $Vw, 65: $Vx, 66: $Vy, 67: $Vz, 68: $VA, 69: $VB, 70: $VC, 71: $VD, 72: $VE, 73: $VF, 74: $VG }, { 12: [1, 118], 33: [1, 117] }, { 35: 119, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 120, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 121, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 122, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 123, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 124, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 35: 125, 75: 81, 76: $VK, 77: $VL, 79: $VM, 80: $VN }, { 14: [1, 126] }, { 14: [1, 127] }, { 14: [1, 128] }, { 14: [1, 129] }, { 1: [2, 8] }, o($VH, [2, 15]), o($VI, [2, 17], { 21: 22, 19: 130, 22: $V0, 23: $V1, 24: $V2, 26: $V3, 28: $V4 }), o($VH, [2, 37], { 19: 20, 20: 21, 21: 22, 43: 23, 29: 49, 30: 61, 32: 62, 13: 131, 22: $V0, 23: $V1, 24: $V2, 26: $V3, 28: $V4, 34: $V5, 36: $V6, 37: $V7, 38: $V8, 39: $V9, 40: $Va, 41: $Vb, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi, 51: $Vj, 52: $Vk, 53: $Vl, 54: $Vm, 55: $Vn, 56: $Vo, 57: $Vp, 58: $Vq, 59: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 64: $Vw, 65: $Vx, 66: $Vy, 67: $Vz, 68: $VA, 69: $VB, 70: $VC, 71: $VD, 72: $VE, 73: $VF, 74: $VG }), o($VJ, [2, 21]), o($VJ, [2, 22]), o($VO, [2, 39]), o($VP, [2, 71], { 75: 81, 35: 132, 76: $VK, 77: $VL, 79: $VM, 80: $VN }), o($VQ, [2, 73]), { 78: [1, 133] }, o($VQ, [2, 75]), o($VQ, [2, 76]), o($VO, [2, 40]), o($VO, [2, 41]), o($VO, [2, 42]), o($VO, [2, 43]), o($VO, [2, 44]), o($VO, [2, 45]), o($VO, [2, 46]), o($VO, [2, 47]), o($VO, [2, 48]), o($VO, [2, 49]), o($VO, [2, 50]), o($VO, [2, 51]), o($VO, [2, 52]), o($VO, [2, 53]), o($VO, [2, 54]), o($VO, [2, 55]), o($VO, [2, 56]), o($VO, [2, 57]), o($VO, [2, 58]), o($VO, [2, 60]), o($VO, [2, 61]), o($VO, [2, 62]), o($VO, [2, 63]), o($VO, [2, 64]), o($VO, [2, 65]), o($VO, [2, 66]), o($VO, [2, 67]), o($VO, [2, 68]), o($VO, [2, 69]), o($VO, [2, 70]), { 31: 134, 42: [1, 135] }, { 12: [1, 136] }, { 33: [1, 137] }, o($VR, [2, 28]), o($VR, [2, 29]), o($VR, [2, 30]), o($VR, [2, 31]), o($VR, [2, 32]), o($VR, [2, 33]), o($VR, [2, 34]), { 1: [2, 9] }, { 1: [2, 10] }, { 1: [2, 11] }, { 1: [2, 12] }, o($VI, [2, 18]), o($VH, [2, 38]), o($VP, [2, 72]), o($VQ, [2, 74]), o($VO, [2, 24]), o($VO, [2, 35]), o($VS, [2, 25]), o($VS, [2, 26], { 12: [1, 138] }), o($VS, [2, 27])],\n    defaultActions: { 2: [2, 1], 3: [2, 2], 4: [2, 7], 5: [2, 3], 6: [2, 4], 7: [2, 5], 8: [2, 6], 74: [2, 8], 126: [2, 9], 127: [2, 10], 128: [2, 11], 129: [2, 12] },\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        var pre = this.pastInput();\n        var c2 = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c2 + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: {},\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            return 6;\n            // removed by dead control flow\n\n          case 1:\n            return 7;\n            // removed by dead control flow\n\n          case 2:\n            return 8;\n            // removed by dead control flow\n\n          case 3:\n            return 9;\n            // removed by dead control flow\n\n          case 4:\n            return 22;\n            // removed by dead control flow\n\n          case 5:\n            return 23;\n            // removed by dead control flow\n\n          case 6:\n            this.begin("acc_title");\n            return 24;\n            // removed by dead control flow\n\n          case 7:\n            this.popState();\n            return "acc_title_value";\n            // removed by dead control flow\n\n          case 8:\n            this.begin("acc_descr");\n            return 26;\n            // removed by dead control flow\n\n          case 9:\n            this.popState();\n            return "acc_descr_value";\n            // removed by dead control flow\n\n          case 10:\n            this.begin("acc_descr_multiline");\n            break;\n          case 11:\n            this.popState();\n            break;\n          case 12:\n            return "acc_descr_multiline_value";\n            // removed by dead control flow\n\n          case 13:\n            break;\n          case 14:\n            c;\n            break;\n          case 15:\n            return 12;\n            // removed by dead control flow\n\n          case 16:\n            break;\n          case 17:\n            return 11;\n            // removed by dead control flow\n\n          case 18:\n            return 15;\n            // removed by dead control flow\n\n          case 19:\n            return 16;\n            // removed by dead control flow\n\n          case 20:\n            return 17;\n            // removed by dead control flow\n\n          case 21:\n            return 18;\n            // removed by dead control flow\n\n          case 22:\n            this.begin("person_ext");\n            return 45;\n            // removed by dead control flow\n\n          case 23:\n            this.begin("person");\n            return 44;\n            // removed by dead control flow\n\n          case 24:\n            this.begin("system_ext_queue");\n            return 51;\n            // removed by dead control flow\n\n          case 25:\n            this.begin("system_ext_db");\n            return 50;\n            // removed by dead control flow\n\n          case 26:\n            this.begin("system_ext");\n            return 49;\n            // removed by dead control flow\n\n          case 27:\n            this.begin("system_queue");\n            return 48;\n            // removed by dead control flow\n\n          case 28:\n            this.begin("system_db");\n            return 47;\n            // removed by dead control flow\n\n          case 29:\n            this.begin("system");\n            return 46;\n            // removed by dead control flow\n\n          case 30:\n            this.begin("boundary");\n            return 37;\n            // removed by dead control flow\n\n          case 31:\n            this.begin("enterprise_boundary");\n            return 34;\n            // removed by dead control flow\n\n          case 32:\n            this.begin("system_boundary");\n            return 36;\n            // removed by dead control flow\n\n          case 33:\n            this.begin("container_ext_queue");\n            return 57;\n            // removed by dead control flow\n\n          case 34:\n            this.begin("container_ext_db");\n            return 56;\n            // removed by dead control flow\n\n          case 35:\n            this.begin("container_ext");\n            return 55;\n            // removed by dead control flow\n\n          case 36:\n            this.begin("container_queue");\n            return 54;\n            // removed by dead control flow\n\n          case 37:\n            this.begin("container_db");\n            return 53;\n            // removed by dead control flow\n\n          case 38:\n            this.begin("container");\n            return 52;\n            // removed by dead control flow\n\n          case 39:\n            this.begin("container_boundary");\n            return 38;\n            // removed by dead control flow\n\n          case 40:\n            this.begin("component_ext_queue");\n            return 63;\n            // removed by dead control flow\n\n          case 41:\n            this.begin("component_ext_db");\n            return 62;\n            // removed by dead control flow\n\n          case 42:\n            this.begin("component_ext");\n            return 61;\n            // removed by dead control flow\n\n          case 43:\n            this.begin("component_queue");\n            return 60;\n            // removed by dead control flow\n\n          case 44:\n            this.begin("component_db");\n            return 59;\n            // removed by dead control flow\n\n          case 45:\n            this.begin("component");\n            return 58;\n            // removed by dead control flow\n\n          case 46:\n            this.begin("node");\n            return 39;\n            // removed by dead control flow\n\n          case 47:\n            this.begin("node");\n            return 39;\n            // removed by dead control flow\n\n          case 48:\n            this.begin("node_l");\n            return 40;\n            // removed by dead control flow\n\n          case 49:\n            this.begin("node_r");\n            return 41;\n            // removed by dead control flow\n\n          case 50:\n            this.begin("rel");\n            return 64;\n            // removed by dead control flow\n\n          case 51:\n            this.begin("birel");\n            return 65;\n            // removed by dead control flow\n\n          case 52:\n            this.begin("rel_u");\n            return 66;\n            // removed by dead control flow\n\n          case 53:\n            this.begin("rel_u");\n            return 66;\n            // removed by dead control flow\n\n          case 54:\n            this.begin("rel_d");\n            return 67;\n            // removed by dead control flow\n\n          case 55:\n            this.begin("rel_d");\n            return 67;\n            // removed by dead control flow\n\n          case 56:\n            this.begin("rel_l");\n            return 68;\n            // removed by dead control flow\n\n          case 57:\n            this.begin("rel_l");\n            return 68;\n            // removed by dead control flow\n\n          case 58:\n            this.begin("rel_r");\n            return 69;\n            // removed by dead control flow\n\n          case 59:\n            this.begin("rel_r");\n            return 69;\n            // removed by dead control flow\n\n          case 60:\n            this.begin("rel_b");\n            return 70;\n            // removed by dead control flow\n\n          case 61:\n            this.begin("rel_index");\n            return 71;\n            // removed by dead control flow\n\n          case 62:\n            this.begin("update_el_style");\n            return 72;\n            // removed by dead control flow\n\n          case 63:\n            this.begin("update_rel_style");\n            return 73;\n            // removed by dead control flow\n\n          case 64:\n            this.begin("update_layout_config");\n            return 74;\n            // removed by dead control flow\n\n          case 65:\n            return "EOF_IN_STRUCT";\n            // removed by dead control flow\n\n          case 66:\n            this.begin("attribute");\n            return "ATTRIBUTE_EMPTY";\n            // removed by dead control flow\n\n          case 67:\n            this.begin("attribute");\n            break;\n          case 68:\n            this.popState();\n            this.popState();\n            break;\n          case 69:\n            return 80;\n            // removed by dead control flow\n\n          case 70:\n            break;\n          case 71:\n            return 80;\n            // removed by dead control flow\n\n          case 72:\n            this.begin("string");\n            break;\n          case 73:\n            this.popState();\n            break;\n          case 74:\n            return "STR";\n            // removed by dead control flow\n\n          case 75:\n            this.begin("string_kv");\n            break;\n          case 76:\n            this.begin("string_kv_key");\n            return "STR_KEY";\n            // removed by dead control flow\n\n          case 77:\n            this.popState();\n            this.begin("string_kv_value");\n            break;\n          case 78:\n            return "STR_VALUE";\n            // removed by dead control flow\n\n          case 79:\n            this.popState();\n            this.popState();\n            break;\n          case 80:\n            return "STR";\n            // removed by dead control flow\n\n          case 81:\n            return "LBRACE";\n            // removed by dead control flow\n\n          case 82:\n            return "RBRACE";\n            // removed by dead control flow\n\n          case 83:\n            return "SPACE";\n            // removed by dead control flow\n\n          case 84:\n            return "EOL";\n            // removed by dead control flow\n\n          case 85:\n            return 14;\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:.*direction\\s+TB[^\\n]*)/, /^(?:.*direction\\s+BT[^\\n]*)/, /^(?:.*direction\\s+RL[^\\n]*)/, /^(?:.*direction\\s+LR[^\\n]*)/, /^(?:title\\s[^#\\n;]+)/, /^(?:accDescription\\s[^#\\n;]+)/, /^(?:accTitle\\s*:\\s*)/, /^(?:(?!\\n||)*[^\\n]*)/, /^(?:accDescr\\s*:\\s*)/, /^(?:(?!\\n||)*[^\\n]*)/, /^(?:accDescr\\s*\\{\\s*)/, /^(?:[\\}])/, /^(?:[^\\}]*)/, /^(?:%%(?!\\{)*[^\\n]*(\\r?\\n?)+)/, /^(?:%%[^\\n]*(\\r?\\n)*)/, /^(?:\\s*(\\r?\\n)+)/, /^(?:\\s+)/, /^(?:C4Context\\b)/, /^(?:C4Container\\b)/, /^(?:C4Component\\b)/, /^(?:C4Dynamic\\b)/, /^(?:C4Deployment\\b)/, /^(?:Person_Ext\\b)/, /^(?:Person\\b)/, /^(?:SystemQueue_Ext\\b)/, /^(?:SystemDb_Ext\\b)/, /^(?:System_Ext\\b)/, /^(?:SystemQueue\\b)/, /^(?:SystemDb\\b)/, /^(?:System\\b)/, /^(?:Boundary\\b)/, /^(?:Enterprise_Boundary\\b)/, /^(?:System_Boundary\\b)/, /^(?:ContainerQueue_Ext\\b)/, /^(?:ContainerDb_Ext\\b)/, /^(?:Container_Ext\\b)/, /^(?:ContainerQueue\\b)/, /^(?:ContainerDb\\b)/, /^(?:Container\\b)/, /^(?:Container_Boundary\\b)/, /^(?:ComponentQueue_Ext\\b)/, /^(?:ComponentDb_Ext\\b)/, /^(?:Component_Ext\\b)/, /^(?:ComponentQueue\\b)/, /^(?:ComponentDb\\b)/, /^(?:Component\\b)/, /^(?:Deployment_Node\\b)/, /^(?:Node\\b)/, /^(?:Node_L\\b)/, /^(?:Node_R\\b)/, /^(?:Rel\\b)/, /^(?:BiRel\\b)/, /^(?:Rel_Up\\b)/, /^(?:Rel_U\\b)/, /^(?:Rel_Down\\b)/, /^(?:Rel_D\\b)/, /^(?:Rel_Left\\b)/, /^(?:Rel_L\\b)/, /^(?:Rel_Right\\b)/, /^(?:Rel_R\\b)/, /^(?:Rel_Back\\b)/, /^(?:RelIndex\\b)/, /^(?:UpdateElementStyle\\b)/, /^(?:UpdateRelStyle\\b)/, /^(?:UpdateLayoutConfig\\b)/, /^(?:$)/, /^(?:[(][ ]*[,])/, /^(?:[(])/, /^(?:[)])/, /^(?:,,)/, /^(?:,)/, /^(?:[ ]*["]["])/, /^(?:[ ]*["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:[ ]*[\\$])/, /^(?:[^=]*)/, /^(?:[=][ ]*["])/, /^(?:[^"]+)/, /^(?:["])/, /^(?:[^,]+)/, /^(?:\\{)/, /^(?:\\})/, /^(?:[\\s]+)/, /^(?:[\\n\\r]+)/, /^(?:$)/],\n      conditions: { "acc_descr_multiline": { "rules": [11, 12], "inclusive": false }, "acc_descr": { "rules": [9], "inclusive": false }, "acc_title": { "rules": [7], "inclusive": false }, "string_kv_value": { "rules": [78, 79], "inclusive": false }, "string_kv_key": { "rules": [77], "inclusive": false }, "string_kv": { "rules": [76], "inclusive": false }, "string": { "rules": [73, 74], "inclusive": false }, "attribute": { "rules": [68, 69, 70, 71, 72, 75, 80], "inclusive": false }, "update_layout_config": { "rules": [65, 66, 67, 68], "inclusive": false }, "update_rel_style": { "rules": [65, 66, 67, 68], "inclusive": false }, "update_el_style": { "rules": [65, 66, 67, 68], "inclusive": false }, "rel_b": { "rules": [65, 66, 67, 68], "inclusive": false }, "rel_r": { "rules": [65, 66, 67, 68], "inclusive": false }, "rel_l": { "rules": [65, 66, 67, 68], "inclusive": false }, "rel_d": { "rules": [65, 66, 67, 68], "inclusive": false }, "rel_u": { "rules": [65, 66, 67, 68], "inclusive": false }, "rel_bi": { "rules": [], "inclusive": false }, "rel": { "rules": [65, 66, 67, 68], "inclusive": false }, "node_r": { "rules": [65, 66, 67, 68], "inclusive": false }, "node_l": { "rules": [65, 66, 67, 68], "inclusive": false }, "node": { "rules": [65, 66, 67, 68], "inclusive": false }, "index": { "rules": [], "inclusive": false }, "rel_index": { "rules": [65, 66, 67, 68], "inclusive": false }, "component_ext_queue": { "rules": [], "inclusive": false }, "component_ext_db": { "rules": [65, 66, 67, 68], "inclusive": false }, "component_ext": { "rules": [65, 66, 67, 68], "inclusive": false }, "component_queue": { "rules": [65, 66, 67, 68], "inclusive": false }, "component_db": { "rules": [65, 66, 67, 68], "inclusive": false }, "component": { "rules": [65, 66, 67, 68], "inclusive": false }, "container_boundary": { "rules": [65, 66, 67, 68], "inclusive": false }, "container_ext_queue": { "rules": [65, 66, 67, 68], "inclusive": false }, "container_ext_db": { "rules": [65, 66, 67, 68], "inclusive": false }, "container_ext": { "rules": [65, 66, 67, 68], "inclusive": false }, "container_queue": { "rules": [65, 66, 67, 68], "inclusive": false }, "container_db": { "rules": [65, 66, 67, 68], "inclusive": false }, "container": { "rules": [65, 66, 67, 68], "inclusive": false }, "birel": { "rules": [65, 66, 67, 68], "inclusive": false }, "system_boundary": { "rules": [65, 66, 67, 68], "inclusive": false }, "enterprise_boundary": { "rules": [65, 66, 67, 68], "inclusive": false }, "boundary": { "rules": [65, 66, 67, 68], "inclusive": false }, "system_ext_queue": { "rules": [65, 66, 67, 68], "inclusive": false }, "system_ext_db": { "rules": [65, 66, 67, 68], "inclusive": false }, "system_ext": { "rules": [65, 66, 67, 68], "inclusive": false }, "system_queue": { "rules": [65, 66, 67, 68], "inclusive": false }, "system_db": { "rules": [65, 66, 67, 68], "inclusive": false }, "system": { "rules": [65, 66, 67, 68], "inclusive": false }, "person_ext": { "rules": [65, 66, 67, 68], "inclusive": false }, "person": { "rules": [65, 66, 67, 68], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 3, 4, 5, 6, 8, 10, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 81, 82, 83, 84, 85], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar c4Diagram_default = parser;\n\n// src/diagrams/c4/c4Db.js\nvar c4ShapeArray = [];\nvar boundaryParseStack = [""];\nvar currentBoundaryParse = "global";\nvar parentBoundaryParse = "";\nvar boundaries = [\n  {\n    alias: "global",\n    label: { text: "global" },\n    type: { text: "global" },\n    tags: null,\n    link: null,\n    parentBoundary: ""\n  }\n];\nvar rels = [];\nvar title = "";\nvar wrapEnabled = false;\nvar c4ShapeInRow = 4;\nvar c4BoundaryInRow = 2;\nvar c4Type;\nvar getC4Type = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return c4Type;\n}, "getC4Type");\nvar setC4Type = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(c4TypeParam) {\n  let sanitizedText = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.sanitizeText)(c4TypeParam, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)());\n  c4Type = sanitizedText;\n}, "setC4Type");\nvar addRel = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(type, from, to, label, techn, descr, sprite, tags, link) {\n  if (type === void 0 || type === null || from === void 0 || from === null || to === void 0 || to === null || label === void 0 || label === null) {\n    return;\n  }\n  let rel = {};\n  const old = rels.find((rel2) => rel2.from === from && rel2.to === to);\n  if (old) {\n    rel = old;\n  } else {\n    rels.push(rel);\n  }\n  rel.type = type;\n  rel.from = from;\n  rel.to = to;\n  rel.label = { text: label };\n  if (techn === void 0 || techn === null) {\n    rel.techn = { text: "" };\n  } else {\n    if (typeof techn === "object") {\n      let [key, value] = Object.entries(techn)[0];\n      rel[key] = { text: value };\n    } else {\n      rel.techn = { text: techn };\n    }\n  }\n  if (descr === void 0 || descr === null) {\n    rel.descr = { text: "" };\n  } else {\n    if (typeof descr === "object") {\n      let [key, value] = Object.entries(descr)[0];\n      rel[key] = { text: value };\n    } else {\n      rel.descr = { text: descr };\n    }\n  }\n  if (typeof sprite === "object") {\n    let [key, value] = Object.entries(sprite)[0];\n    rel[key] = value;\n  } else {\n    rel.sprite = sprite;\n  }\n  if (typeof tags === "object") {\n    let [key, value] = Object.entries(tags)[0];\n    rel[key] = value;\n  } else {\n    rel.tags = tags;\n  }\n  if (typeof link === "object") {\n    let [key, value] = Object.entries(link)[0];\n    rel[key] = value;\n  } else {\n    rel.link = link;\n  }\n  rel.wrap = autoWrap();\n}, "addRel");\nvar addPersonOrSystem = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(typeC4Shape, alias, label, descr, sprite, tags, link) {\n  if (alias === null || label === null) {\n    return;\n  }\n  let personOrSystem = {};\n  const old = c4ShapeArray.find((personOrSystem2) => personOrSystem2.alias === alias);\n  if (old && alias === old.alias) {\n    personOrSystem = old;\n  } else {\n    personOrSystem.alias = alias;\n    c4ShapeArray.push(personOrSystem);\n  }\n  if (label === void 0 || label === null) {\n    personOrSystem.label = { text: "" };\n  } else {\n    personOrSystem.label = { text: label };\n  }\n  if (descr === void 0 || descr === null) {\n    personOrSystem.descr = { text: "" };\n  } else {\n    if (typeof descr === "object") {\n      let [key, value] = Object.entries(descr)[0];\n      personOrSystem[key] = { text: value };\n    } else {\n      personOrSystem.descr = { text: descr };\n    }\n  }\n  if (typeof sprite === "object") {\n    let [key, value] = Object.entries(sprite)[0];\n    personOrSystem[key] = value;\n  } else {\n    personOrSystem.sprite = sprite;\n  }\n  if (typeof tags === "object") {\n    let [key, value] = Object.entries(tags)[0];\n    personOrSystem[key] = value;\n  } else {\n    personOrSystem.tags = tags;\n  }\n  if (typeof link === "object") {\n    let [key, value] = Object.entries(link)[0];\n    personOrSystem[key] = value;\n  } else {\n    personOrSystem.link = link;\n  }\n  personOrSystem.typeC4Shape = { text: typeC4Shape };\n  personOrSystem.parentBoundary = currentBoundaryParse;\n  personOrSystem.wrap = autoWrap();\n}, "addPersonOrSystem");\nvar addContainer = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(typeC4Shape, alias, label, techn, descr, sprite, tags, link) {\n  if (alias === null || label === null) {\n    return;\n  }\n  let container = {};\n  const old = c4ShapeArray.find((container2) => container2.alias === alias);\n  if (old && alias === old.alias) {\n    container = old;\n  } else {\n    container.alias = alias;\n    c4ShapeArray.push(container);\n  }\n  if (label === void 0 || label === null) {\n    container.label = { text: "" };\n  } else {\n    container.label = { text: label };\n  }\n  if (techn === void 0 || techn === null) {\n    container.techn = { text: "" };\n  } else {\n    if (typeof techn === "object") {\n      let [key, value] = Object.entries(techn)[0];\n      container[key] = { text: value };\n    } else {\n      container.techn = { text: techn };\n    }\n  }\n  if (descr === void 0 || descr === null) {\n    container.descr = { text: "" };\n  } else {\n    if (typeof descr === "object") {\n      let [key, value] = Object.entries(descr)[0];\n      container[key] = { text: value };\n    } else {\n      container.descr = { text: descr };\n    }\n  }\n  if (typeof sprite === "object") {\n    let [key, value] = Object.entries(sprite)[0];\n    container[key] = value;\n  } else {\n    container.sprite = sprite;\n  }\n  if (typeof tags === "object") {\n    let [key, value] = Object.entries(tags)[0];\n    container[key] = value;\n  } else {\n    container.tags = tags;\n  }\n  if (typeof link === "object") {\n    let [key, value] = Object.entries(link)[0];\n    container[key] = value;\n  } else {\n    container.link = link;\n  }\n  container.wrap = autoWrap();\n  container.typeC4Shape = { text: typeC4Shape };\n  container.parentBoundary = currentBoundaryParse;\n}, "addContainer");\nvar addComponent = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(typeC4Shape, alias, label, techn, descr, sprite, tags, link) {\n  if (alias === null || label === null) {\n    return;\n  }\n  let component = {};\n  const old = c4ShapeArray.find((component2) => component2.alias === alias);\n  if (old && alias === old.alias) {\n    component = old;\n  } else {\n    component.alias = alias;\n    c4ShapeArray.push(component);\n  }\n  if (label === void 0 || label === null) {\n    component.label = { text: "" };\n  } else {\n    component.label = { text: label };\n  }\n  if (techn === void 0 || techn === null) {\n    component.techn = { text: "" };\n  } else {\n    if (typeof techn === "object") {\n      let [key, value] = Object.entries(techn)[0];\n      component[key] = { text: value };\n    } else {\n      component.techn = { text: techn };\n    }\n  }\n  if (descr === void 0 || descr === null) {\n    component.descr = { text: "" };\n  } else {\n    if (typeof descr === "object") {\n      let [key, value] = Object.entries(descr)[0];\n      component[key] = { text: value };\n    } else {\n      component.descr = { text: descr };\n    }\n  }\n  if (typeof sprite === "object") {\n    let [key, value] = Object.entries(sprite)[0];\n    component[key] = value;\n  } else {\n    component.sprite = sprite;\n  }\n  if (typeof tags === "object") {\n    let [key, value] = Object.entries(tags)[0];\n    component[key] = value;\n  } else {\n    component.tags = tags;\n  }\n  if (typeof link === "object") {\n    let [key, value] = Object.entries(link)[0];\n    component[key] = value;\n  } else {\n    component.link = link;\n  }\n  component.wrap = autoWrap();\n  component.typeC4Shape = { text: typeC4Shape };\n  component.parentBoundary = currentBoundaryParse;\n}, "addComponent");\nvar addPersonOrSystemBoundary = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(alias, label, type, tags, link) {\n  if (alias === null || label === null) {\n    return;\n  }\n  let boundary = {};\n  const old = boundaries.find((boundary2) => boundary2.alias === alias);\n  if (old && alias === old.alias) {\n    boundary = old;\n  } else {\n    boundary.alias = alias;\n    boundaries.push(boundary);\n  }\n  if (label === void 0 || label === null) {\n    boundary.label = { text: "" };\n  } else {\n    boundary.label = { text: label };\n  }\n  if (type === void 0 || type === null) {\n    boundary.type = { text: "system" };\n  } else {\n    if (typeof type === "object") {\n      let [key, value] = Object.entries(type)[0];\n      boundary[key] = { text: value };\n    } else {\n      boundary.type = { text: type };\n    }\n  }\n  if (typeof tags === "object") {\n    let [key, value] = Object.entries(tags)[0];\n    boundary[key] = value;\n  } else {\n    boundary.tags = tags;\n  }\n  if (typeof link === "object") {\n    let [key, value] = Object.entries(link)[0];\n    boundary[key] = value;\n  } else {\n    boundary.link = link;\n  }\n  boundary.parentBoundary = currentBoundaryParse;\n  boundary.wrap = autoWrap();\n  parentBoundaryParse = currentBoundaryParse;\n  currentBoundaryParse = alias;\n  boundaryParseStack.push(parentBoundaryParse);\n}, "addPersonOrSystemBoundary");\nvar addContainerBoundary = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(alias, label, type, tags, link) {\n  if (alias === null || label === null) {\n    return;\n  }\n  let boundary = {};\n  const old = boundaries.find((boundary2) => boundary2.alias === alias);\n  if (old && alias === old.alias) {\n    boundary = old;\n  } else {\n    boundary.alias = alias;\n    boundaries.push(boundary);\n  }\n  if (label === void 0 || label === null) {\n    boundary.label = { text: "" };\n  } else {\n    boundary.label = { text: label };\n  }\n  if (type === void 0 || type === null) {\n    boundary.type = { text: "container" };\n  } else {\n    if (typeof type === "object") {\n      let [key, value] = Object.entries(type)[0];\n      boundary[key] = { text: value };\n    } else {\n      boundary.type = { text: type };\n    }\n  }\n  if (typeof tags === "object") {\n    let [key, value] = Object.entries(tags)[0];\n    boundary[key] = value;\n  } else {\n    boundary.tags = tags;\n  }\n  if (typeof link === "object") {\n    let [key, value] = Object.entries(link)[0];\n    boundary[key] = value;\n  } else {\n    boundary.link = link;\n  }\n  boundary.parentBoundary = currentBoundaryParse;\n  boundary.wrap = autoWrap();\n  parentBoundaryParse = currentBoundaryParse;\n  currentBoundaryParse = alias;\n  boundaryParseStack.push(parentBoundaryParse);\n}, "addContainerBoundary");\nvar addDeploymentNode = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(nodeType, alias, label, type, descr, sprite, tags, link) {\n  if (alias === null || label === null) {\n    return;\n  }\n  let boundary = {};\n  const old = boundaries.find((boundary2) => boundary2.alias === alias);\n  if (old && alias === old.alias) {\n    boundary = old;\n  } else {\n    boundary.alias = alias;\n    boundaries.push(boundary);\n  }\n  if (label === void 0 || label === null) {\n    boundary.label = { text: "" };\n  } else {\n    boundary.label = { text: label };\n  }\n  if (type === void 0 || type === null) {\n    boundary.type = { text: "node" };\n  } else {\n    if (typeof type === "object") {\n      let [key, value] = Object.entries(type)[0];\n      boundary[key] = { text: value };\n    } else {\n      boundary.type = { text: type };\n    }\n  }\n  if (descr === void 0 || descr === null) {\n    boundary.descr = { text: "" };\n  } else {\n    if (typeof descr === "object") {\n      let [key, value] = Object.entries(descr)[0];\n      boundary[key] = { text: value };\n    } else {\n      boundary.descr = { text: descr };\n    }\n  }\n  if (typeof tags === "object") {\n    let [key, value] = Object.entries(tags)[0];\n    boundary[key] = value;\n  } else {\n    boundary.tags = tags;\n  }\n  if (typeof link === "object") {\n    let [key, value] = Object.entries(link)[0];\n    boundary[key] = value;\n  } else {\n    boundary.link = link;\n  }\n  boundary.nodeType = nodeType;\n  boundary.parentBoundary = currentBoundaryParse;\n  boundary.wrap = autoWrap();\n  parentBoundaryParse = currentBoundaryParse;\n  currentBoundaryParse = alias;\n  boundaryParseStack.push(parentBoundaryParse);\n}, "addDeploymentNode");\nvar popBoundaryParseStack = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  currentBoundaryParse = parentBoundaryParse;\n  boundaryParseStack.pop();\n  parentBoundaryParse = boundaryParseStack.pop();\n  boundaryParseStack.push(parentBoundaryParse);\n}, "popBoundaryParseStack");\nvar updateElStyle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(typeC4Shape, elementName, bgColor, fontColor, borderColor, shadowing, shape, sprite, techn, legendText, legendSprite) {\n  let old = c4ShapeArray.find((element) => element.alias === elementName);\n  if (old === void 0) {\n    old = boundaries.find((element) => element.alias === elementName);\n    if (old === void 0) {\n      return;\n    }\n  }\n  if (bgColor !== void 0 && bgColor !== null) {\n    if (typeof bgColor === "object") {\n      let [key, value] = Object.entries(bgColor)[0];\n      old[key] = value;\n    } else {\n      old.bgColor = bgColor;\n    }\n  }\n  if (fontColor !== void 0 && fontColor !== null) {\n    if (typeof fontColor === "object") {\n      let [key, value] = Object.entries(fontColor)[0];\n      old[key] = value;\n    } else {\n      old.fontColor = fontColor;\n    }\n  }\n  if (borderColor !== void 0 && borderColor !== null) {\n    if (typeof borderColor === "object") {\n      let [key, value] = Object.entries(borderColor)[0];\n      old[key] = value;\n    } else {\n      old.borderColor = borderColor;\n    }\n  }\n  if (shadowing !== void 0 && shadowing !== null) {\n    if (typeof shadowing === "object") {\n      let [key, value] = Object.entries(shadowing)[0];\n      old[key] = value;\n    } else {\n      old.shadowing = shadowing;\n    }\n  }\n  if (shape !== void 0 && shape !== null) {\n    if (typeof shape === "object") {\n      let [key, value] = Object.entries(shape)[0];\n      old[key] = value;\n    } else {\n      old.shape = shape;\n    }\n  }\n  if (sprite !== void 0 && sprite !== null) {\n    if (typeof sprite === "object") {\n      let [key, value] = Object.entries(sprite)[0];\n      old[key] = value;\n    } else {\n      old.sprite = sprite;\n    }\n  }\n  if (techn !== void 0 && techn !== null) {\n    if (typeof techn === "object") {\n      let [key, value] = Object.entries(techn)[0];\n      old[key] = value;\n    } else {\n      old.techn = techn;\n    }\n  }\n  if (legendText !== void 0 && legendText !== null) {\n    if (typeof legendText === "object") {\n      let [key, value] = Object.entries(legendText)[0];\n      old[key] = value;\n    } else {\n      old.legendText = legendText;\n    }\n  }\n  if (legendSprite !== void 0 && legendSprite !== null) {\n    if (typeof legendSprite === "object") {\n      let [key, value] = Object.entries(legendSprite)[0];\n      old[key] = value;\n    } else {\n      old.legendSprite = legendSprite;\n    }\n  }\n}, "updateElStyle");\nvar updateRelStyle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(typeC4Shape, from, to, textColor, lineColor, offsetX, offsetY) {\n  const old = rels.find((rel) => rel.from === from && rel.to === to);\n  if (old === void 0) {\n    return;\n  }\n  if (textColor !== void 0 && textColor !== null) {\n    if (typeof textColor === "object") {\n      let [key, value] = Object.entries(textColor)[0];\n      old[key] = value;\n    } else {\n      old.textColor = textColor;\n    }\n  }\n  if (lineColor !== void 0 && lineColor !== null) {\n    if (typeof lineColor === "object") {\n      let [key, value] = Object.entries(lineColor)[0];\n      old[key] = value;\n    } else {\n      old.lineColor = lineColor;\n    }\n  }\n  if (offsetX !== void 0 && offsetX !== null) {\n    if (typeof offsetX === "object") {\n      let [key, value] = Object.entries(offsetX)[0];\n      old[key] = parseInt(value);\n    } else {\n      old.offsetX = parseInt(offsetX);\n    }\n  }\n  if (offsetY !== void 0 && offsetY !== null) {\n    if (typeof offsetY === "object") {\n      let [key, value] = Object.entries(offsetY)[0];\n      old[key] = parseInt(value);\n    } else {\n      old.offsetY = parseInt(offsetY);\n    }\n  }\n}, "updateRelStyle");\nvar updateLayoutConfig = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(typeC4Shape, c4ShapeInRowParam, c4BoundaryInRowParam) {\n  let c4ShapeInRowValue = c4ShapeInRow;\n  let c4BoundaryInRowValue = c4BoundaryInRow;\n  if (typeof c4ShapeInRowParam === "object") {\n    const value = Object.values(c4ShapeInRowParam)[0];\n    c4ShapeInRowValue = parseInt(value);\n  } else {\n    c4ShapeInRowValue = parseInt(c4ShapeInRowParam);\n  }\n  if (typeof c4BoundaryInRowParam === "object") {\n    const value = Object.values(c4BoundaryInRowParam)[0];\n    c4BoundaryInRowValue = parseInt(value);\n  } else {\n    c4BoundaryInRowValue = parseInt(c4BoundaryInRowParam);\n  }\n  if (c4ShapeInRowValue >= 1) {\n    c4ShapeInRow = c4ShapeInRowValue;\n  }\n  if (c4BoundaryInRowValue >= 1) {\n    c4BoundaryInRow = c4BoundaryInRowValue;\n  }\n}, "updateLayoutConfig");\nvar getC4ShapeInRow = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return c4ShapeInRow;\n}, "getC4ShapeInRow");\nvar getC4BoundaryInRow = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return c4BoundaryInRow;\n}, "getC4BoundaryInRow");\nvar getCurrentBoundaryParse = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return currentBoundaryParse;\n}, "getCurrentBoundaryParse");\nvar getParentBoundaryParse = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return parentBoundaryParse;\n}, "getParentBoundaryParse");\nvar getC4ShapeArray = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(parentBoundary) {\n  if (parentBoundary === void 0 || parentBoundary === null) {\n    return c4ShapeArray;\n  } else {\n    return c4ShapeArray.filter((personOrSystem) => {\n      return personOrSystem.parentBoundary === parentBoundary;\n    });\n  }\n}, "getC4ShapeArray");\nvar getC4Shape = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(alias) {\n  return c4ShapeArray.find((personOrSystem) => personOrSystem.alias === alias);\n}, "getC4Shape");\nvar getC4ShapeKeys = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(parentBoundary) {\n  return Object.keys(getC4ShapeArray(parentBoundary));\n}, "getC4ShapeKeys");\nvar getBoundaries = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(parentBoundary) {\n  if (parentBoundary === void 0 || parentBoundary === null) {\n    return boundaries;\n  } else {\n    return boundaries.filter((boundary) => boundary.parentBoundary === parentBoundary);\n  }\n}, "getBoundaries");\nvar getBoundarys = getBoundaries;\nvar getRels = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return rels;\n}, "getRels");\nvar getTitle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return title;\n}, "getTitle");\nvar setWrap = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(wrapSetting) {\n  wrapEnabled = wrapSetting;\n}, "setWrap");\nvar autoWrap = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return wrapEnabled;\n}, "autoWrap");\nvar clear = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  c4ShapeArray = [];\n  boundaries = [\n    {\n      alias: "global",\n      label: { text: "global" },\n      type: { text: "global" },\n      tags: null,\n      link: null,\n      parentBoundary: ""\n    }\n  ];\n  parentBoundaryParse = "";\n  currentBoundaryParse = "global";\n  boundaryParseStack = [""];\n  rels = [];\n  boundaryParseStack = [""];\n  title = "";\n  wrapEnabled = false;\n  c4ShapeInRow = 4;\n  c4BoundaryInRow = 2;\n}, "clear");\nvar LINETYPE = {\n  SOLID: 0,\n  DOTTED: 1,\n  NOTE: 2,\n  SOLID_CROSS: 3,\n  DOTTED_CROSS: 4,\n  SOLID_OPEN: 5,\n  DOTTED_OPEN: 6,\n  LOOP_START: 10,\n  LOOP_END: 11,\n  ALT_START: 12,\n  ALT_ELSE: 13,\n  ALT_END: 14,\n  OPT_START: 15,\n  OPT_END: 16,\n  ACTIVE_START: 17,\n  ACTIVE_END: 18,\n  PAR_START: 19,\n  PAR_AND: 20,\n  PAR_END: 21,\n  RECT_START: 22,\n  RECT_END: 23,\n  SOLID_POINT: 24,\n  DOTTED_POINT: 25\n};\nvar ARROWTYPE = {\n  FILLED: 0,\n  OPEN: 1\n};\nvar PLACEMENT = {\n  LEFTOF: 0,\n  RIGHTOF: 1,\n  OVER: 2\n};\nvar setTitle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(txt) {\n  let sanitizedText = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.sanitizeText)(txt, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)());\n  title = sanitizedText;\n}, "setTitle");\nvar c4Db_default = {\n  addPersonOrSystem,\n  addPersonOrSystemBoundary,\n  addContainer,\n  addContainerBoundary,\n  addComponent,\n  addDeploymentNode,\n  popBoundaryParseStack,\n  addRel,\n  updateElStyle,\n  updateRelStyle,\n  updateLayoutConfig,\n  autoWrap,\n  setWrap,\n  getC4ShapeArray,\n  getC4Shape,\n  getC4ShapeKeys,\n  getBoundaries,\n  getBoundarys,\n  getCurrentBoundaryParse,\n  getParentBoundaryParse,\n  getRels,\n  getTitle,\n  getC4Type,\n  getC4ShapeInRow,\n  getC4BoundaryInRow,\n  setAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.setAccTitle,\n  getAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getAccTitle,\n  getAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getAccDescription,\n  setAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.setAccDescription,\n  getConfig: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(() => (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().c4, "getConfig"),\n  clear,\n  LINETYPE,\n  ARROWTYPE,\n  PLACEMENT,\n  setTitle,\n  setC4Type\n  // apply,\n};\n\n// src/diagrams/c4/c4Renderer.js\n\n\n// src/diagrams/c4/svgDraw.js\n\nvar drawRect2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem, rectData) {\n  return (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.drawRect)(elem, rectData);\n}, "drawRect");\nvar drawImage = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem, width, height, x, y, link) {\n  const imageElem = elem.append("image");\n  imageElem.attr("width", width);\n  imageElem.attr("height", height);\n  imageElem.attr("x", x);\n  imageElem.attr("y", y);\n  let sanitizedLink = link.startsWith("data:image/png;base64") ? link : (0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_5__.sanitizeUrl)(link);\n  imageElem.attr("xlink:href", sanitizedLink);\n}, "drawImage");\nvar drawRels = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((elem, rels2, conf2) => {\n  const relsElem = elem.append("g");\n  let i = 0;\n  for (let rel of rels2) {\n    let textColor = rel.textColor ? rel.textColor : "#444444";\n    let strokeColor = rel.lineColor ? rel.lineColor : "#444444";\n    let offsetX = rel.offsetX ? parseInt(rel.offsetX) : 0;\n    let offsetY = rel.offsetY ? parseInt(rel.offsetY) : 0;\n    let url = "";\n    if (i === 0) {\n      let line = relsElem.append("line");\n      line.attr("x1", rel.startPoint.x);\n      line.attr("y1", rel.startPoint.y);\n      line.attr("x2", rel.endPoint.x);\n      line.attr("y2", rel.endPoint.y);\n      line.attr("stroke-width", "1");\n      line.attr("stroke", strokeColor);\n      line.style("fill", "none");\n      if (rel.type !== "rel_b") {\n        line.attr("marker-end", "url(" + url + "#arrowhead)");\n      }\n      if (rel.type === "birel" || rel.type === "rel_b") {\n        line.attr("marker-start", "url(" + url + "#arrowend)");\n      }\n      i = -1;\n    } else {\n      let line = relsElem.append("path");\n      line.attr("fill", "none").attr("stroke-width", "1").attr("stroke", strokeColor).attr(\n        "d",\n        "Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx", rel.startPoint.x).replaceAll("starty", rel.startPoint.y).replaceAll(\n          "controlx",\n          rel.startPoint.x + (rel.endPoint.x - rel.startPoint.x) / 2 - (rel.endPoint.x - rel.startPoint.x) / 4\n        ).replaceAll("controly", rel.startPoint.y + (rel.endPoint.y - rel.startPoint.y) / 2).replaceAll("stopx", rel.endPoint.x).replaceAll("stopy", rel.endPoint.y)\n      );\n      if (rel.type !== "rel_b") {\n        line.attr("marker-end", "url(" + url + "#arrowhead)");\n      }\n      if (rel.type === "birel" || rel.type === "rel_b") {\n        line.attr("marker-start", "url(" + url + "#arrowend)");\n      }\n    }\n    let messageConf = conf2.messageFont();\n    _drawTextCandidateFunc(conf2)(\n      rel.label.text,\n      relsElem,\n      Math.min(rel.startPoint.x, rel.endPoint.x) + Math.abs(rel.endPoint.x - rel.startPoint.x) / 2 + offsetX,\n      Math.min(rel.startPoint.y, rel.endPoint.y) + Math.abs(rel.endPoint.y - rel.startPoint.y) / 2 + offsetY,\n      rel.label.width,\n      rel.label.height,\n      { fill: textColor },\n      messageConf\n    );\n    if (rel.techn && rel.techn.text !== "") {\n      messageConf = conf2.messageFont();\n      _drawTextCandidateFunc(conf2)(\n        "[" + rel.techn.text + "]",\n        relsElem,\n        Math.min(rel.startPoint.x, rel.endPoint.x) + Math.abs(rel.endPoint.x - rel.startPoint.x) / 2 + offsetX,\n        Math.min(rel.startPoint.y, rel.endPoint.y) + Math.abs(rel.endPoint.y - rel.startPoint.y) / 2 + conf2.messageFontSize + 5 + offsetY,\n        Math.max(rel.label.width, rel.techn.width),\n        rel.techn.height,\n        { fill: textColor, "font-style": "italic" },\n        messageConf\n      );\n    }\n  }\n}, "drawRels");\nvar drawBoundary = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem, boundary, conf2) {\n  const boundaryElem = elem.append("g");\n  let fillColor = boundary.bgColor ? boundary.bgColor : "none";\n  let strokeColor = boundary.borderColor ? boundary.borderColor : "#444444";\n  let fontColor = boundary.fontColor ? boundary.fontColor : "black";\n  let attrsValue = { "stroke-width": 1, "stroke-dasharray": "7.0,7.0" };\n  if (boundary.nodeType) {\n    attrsValue = { "stroke-width": 1 };\n  }\n  let rectData = {\n    x: boundary.x,\n    y: boundary.y,\n    fill: fillColor,\n    stroke: strokeColor,\n    width: boundary.width,\n    height: boundary.height,\n    rx: 2.5,\n    ry: 2.5,\n    attrs: attrsValue\n  };\n  drawRect2(boundaryElem, rectData);\n  let boundaryConf = conf2.boundaryFont();\n  boundaryConf.fontWeight = "bold";\n  boundaryConf.fontSize = boundaryConf.fontSize + 2;\n  boundaryConf.fontColor = fontColor;\n  _drawTextCandidateFunc(conf2)(\n    boundary.label.text,\n    boundaryElem,\n    boundary.x,\n    boundary.y + boundary.label.Y,\n    boundary.width,\n    boundary.height,\n    { fill: "#444444" },\n    boundaryConf\n  );\n  if (boundary.type && boundary.type.text !== "") {\n    boundaryConf = conf2.boundaryFont();\n    boundaryConf.fontColor = fontColor;\n    _drawTextCandidateFunc(conf2)(\n      boundary.type.text,\n      boundaryElem,\n      boundary.x,\n      boundary.y + boundary.type.Y,\n      boundary.width,\n      boundary.height,\n      { fill: "#444444" },\n      boundaryConf\n    );\n  }\n  if (boundary.descr && boundary.descr.text !== "") {\n    boundaryConf = conf2.boundaryFont();\n    boundaryConf.fontSize = boundaryConf.fontSize - 2;\n    boundaryConf.fontColor = fontColor;\n    _drawTextCandidateFunc(conf2)(\n      boundary.descr.text,\n      boundaryElem,\n      boundary.x,\n      boundary.y + boundary.descr.Y,\n      boundary.width,\n      boundary.height,\n      { fill: "#444444" },\n      boundaryConf\n    );\n  }\n}, "drawBoundary");\nvar drawC4Shape = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem, c4Shape, conf2) {\n  let fillColor = c4Shape.bgColor ? c4Shape.bgColor : conf2[c4Shape.typeC4Shape.text + "_bg_color"];\n  let strokeColor = c4Shape.borderColor ? c4Shape.borderColor : conf2[c4Shape.typeC4Shape.text + "_border_color"];\n  let fontColor = c4Shape.fontColor ? c4Shape.fontColor : "#FFFFFF";\n  let personImg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";\n  switch (c4Shape.typeC4Shape.text) {\n    case "person":\n      personImg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";\n      break;\n    case "external_person":\n      personImg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";\n      break;\n  }\n  const c4ShapeElem = elem.append("g");\n  c4ShapeElem.attr("class", "person-man");\n  const rect = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getNoteRect)();\n  switch (c4Shape.typeC4Shape.text) {\n    case "person":\n    case "external_person":\n    case "system":\n    case "external_system":\n    case "container":\n    case "external_container":\n    case "component":\n    case "external_component":\n      rect.x = c4Shape.x;\n      rect.y = c4Shape.y;\n      rect.fill = fillColor;\n      rect.width = c4Shape.width;\n      rect.height = c4Shape.height;\n      rect.stroke = strokeColor;\n      rect.rx = 2.5;\n      rect.ry = 2.5;\n      rect.attrs = { "stroke-width": 0.5 };\n      drawRect2(c4ShapeElem, rect);\n      break;\n    case "system_db":\n    case "external_system_db":\n    case "container_db":\n    case "external_container_db":\n    case "component_db":\n    case "external_component_db":\n      c4ShapeElem.append("path").attr("fill", fillColor).attr("stroke-width", "0.5").attr("stroke", strokeColor).attr(\n        "d",\n        "Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx", c4Shape.x).replaceAll("starty", c4Shape.y).replaceAll("half", c4Shape.width / 2).replaceAll("height", c4Shape.height)\n      );\n      c4ShapeElem.append("path").attr("fill", "none").attr("stroke-width", "0.5").attr("stroke", strokeColor).attr(\n        "d",\n        "Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx", c4Shape.x).replaceAll("starty", c4Shape.y).replaceAll("half", c4Shape.width / 2)\n      );\n      break;\n    case "system_queue":\n    case "external_system_queue":\n    case "container_queue":\n    case "external_container_queue":\n    case "component_queue":\n    case "external_component_queue":\n      c4ShapeElem.append("path").attr("fill", fillColor).attr("stroke-width", "0.5").attr("stroke", strokeColor).attr(\n        "d",\n        "Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx", c4Shape.x).replaceAll("starty", c4Shape.y).replaceAll("width", c4Shape.width).replaceAll("half", c4Shape.height / 2)\n      );\n      c4ShapeElem.append("path").attr("fill", "none").attr("stroke-width", "0.5").attr("stroke", strokeColor).attr(\n        "d",\n        "Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx", c4Shape.x + c4Shape.width).replaceAll("starty", c4Shape.y).replaceAll("half", c4Shape.height / 2)\n      );\n      break;\n  }\n  let c4ShapeFontConf = getC4ShapeFont(conf2, c4Shape.typeC4Shape.text);\n  c4ShapeElem.append("text").attr("fill", fontColor).attr("font-family", c4ShapeFontConf.fontFamily).attr("font-size", c4ShapeFontConf.fontSize - 2).attr("font-style", "italic").attr("lengthAdjust", "spacing").attr("textLength", c4Shape.typeC4Shape.width).attr("x", c4Shape.x + c4Shape.width / 2 - c4Shape.typeC4Shape.width / 2).attr("y", c4Shape.y + c4Shape.typeC4Shape.Y).text("<<" + c4Shape.typeC4Shape.text + ">>");\n  switch (c4Shape.typeC4Shape.text) {\n    case "person":\n    case "external_person":\n      drawImage(\n        c4ShapeElem,\n        48,\n        48,\n        c4Shape.x + c4Shape.width / 2 - 24,\n        c4Shape.y + c4Shape.image.Y,\n        personImg\n      );\n      break;\n  }\n  let textFontConf = conf2[c4Shape.typeC4Shape.text + "Font"]();\n  textFontConf.fontWeight = "bold";\n  textFontConf.fontSize = textFontConf.fontSize + 2;\n  textFontConf.fontColor = fontColor;\n  _drawTextCandidateFunc(conf2)(\n    c4Shape.label.text,\n    c4ShapeElem,\n    c4Shape.x,\n    c4Shape.y + c4Shape.label.Y,\n    c4Shape.width,\n    c4Shape.height,\n    { fill: fontColor },\n    textFontConf\n  );\n  textFontConf = conf2[c4Shape.typeC4Shape.text + "Font"]();\n  textFontConf.fontColor = fontColor;\n  if (c4Shape.techn && c4Shape.techn?.text !== "") {\n    _drawTextCandidateFunc(conf2)(\n      c4Shape.techn.text,\n      c4ShapeElem,\n      c4Shape.x,\n      c4Shape.y + c4Shape.techn.Y,\n      c4Shape.width,\n      c4Shape.height,\n      { fill: fontColor, "font-style": "italic" },\n      textFontConf\n    );\n  } else if (c4Shape.type && c4Shape.type.text !== "") {\n    _drawTextCandidateFunc(conf2)(\n      c4Shape.type.text,\n      c4ShapeElem,\n      c4Shape.x,\n      c4Shape.y + c4Shape.type.Y,\n      c4Shape.width,\n      c4Shape.height,\n      { fill: fontColor, "font-style": "italic" },\n      textFontConf\n    );\n  }\n  if (c4Shape.descr && c4Shape.descr.text !== "") {\n    textFontConf = conf2.personFont();\n    textFontConf.fontColor = fontColor;\n    _drawTextCandidateFunc(conf2)(\n      c4Shape.descr.text,\n      c4ShapeElem,\n      c4Shape.x,\n      c4Shape.y + c4Shape.descr.Y,\n      c4Shape.width,\n      c4Shape.height,\n      { fill: fontColor },\n      textFontConf\n    );\n  }\n  return c4Shape.height;\n}, "drawC4Shape");\nvar insertDatabaseIcon = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem) {\n  elem.append("defs").append("symbol").attr("id", "database").attr("fill-rule", "evenodd").attr("clip-rule", "evenodd").append("path").attr("transform", "scale(.5)").attr(\n    "d",\n    "M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z"\n  );\n}, "insertDatabaseIcon");\nvar insertComputerIcon = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem) {\n  elem.append("defs").append("symbol").attr("id", "computer").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr(\n    "d",\n    "M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z"\n  );\n}, "insertComputerIcon");\nvar insertClockIcon = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem) {\n  elem.append("defs").append("symbol").attr("id", "clock").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr(\n    "d",\n    "M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z"\n  );\n}, "insertClockIcon");\nvar insertArrowHead = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem) {\n  elem.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 9).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z");\n}, "insertArrowHead");\nvar insertArrowEnd = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem) {\n  elem.append("defs").append("marker").attr("id", "arrowend").attr("refX", 1).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 10 0 L 0 5 L 10 10 z");\n}, "insertArrowEnd");\nvar insertArrowFilledHead = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem) {\n  elem.append("defs").append("marker").attr("id", "filled-head").attr("refX", 18).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");\n}, "insertArrowFilledHead");\nvar insertDynamicNumber = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem) {\n  elem.append("defs").append("marker").attr("id", "sequencenumber").attr("refX", 15).attr("refY", 15).attr("markerWidth", 60).attr("markerHeight", 40).attr("orient", "auto").append("circle").attr("cx", 15).attr("cy", 15).attr("r", 6);\n}, "insertDynamicNumber");\nvar insertArrowCrossHead = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem) {\n  const defs = elem.append("defs");\n  const marker = defs.append("marker").attr("id", "crosshead").attr("markerWidth", 15).attr("markerHeight", 8).attr("orient", "auto").attr("refX", 16).attr("refY", 4);\n  marker.append("path").attr("fill", "black").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1px").attr("d", "M 9,2 V 6 L16,4 Z");\n  marker.append("path").attr("fill", "none").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1px").attr("d", "M 0,1 L 6,7 M 6,1 L 0,7");\n}, "insertArrowCrossHead");\nvar getC4ShapeFont = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((cnf, typeC4Shape) => {\n  return {\n    fontFamily: cnf[typeC4Shape + "FontFamily"],\n    fontSize: cnf[typeC4Shape + "FontSize"],\n    fontWeight: cnf[typeC4Shape + "FontWeight"]\n  };\n}, "getC4ShapeFont");\nvar _drawTextCandidateFunc = /* @__PURE__ */ (function() {\n  function byText(content, g, x, y, width, height, textAttrs) {\n    const text = g.append("text").attr("x", x + width / 2).attr("y", y + height / 2 + 5).style("text-anchor", "middle").text(content);\n    _setTextAttrs(text, textAttrs);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(byText, "byText");\n  function byTspan(content, g, x, y, width, height, textAttrs, conf2) {\n    const { fontSize, fontFamily, fontWeight } = conf2;\n    const lines = content.split(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.common_default.lineBreakRegex);\n    for (let i = 0; i < lines.length; i++) {\n      const dy = i * fontSize - fontSize * (lines.length - 1) / 2;\n      const text = g.append("text").attr("x", x + width / 2).attr("y", y).style("text-anchor", "middle").attr("dominant-baseline", "middle").style("font-size", fontSize).style("font-weight", fontWeight).style("font-family", fontFamily);\n      text.append("tspan").attr("dy", dy).text(lines[i]).attr("alignment-baseline", "mathematical");\n      _setTextAttrs(text, textAttrs);\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(byTspan, "byTspan");\n  function byFo(content, g, x, y, width, height, textAttrs, conf2) {\n    const s = g.append("switch");\n    const f = s.append("foreignObject").attr("x", x).attr("y", y).attr("width", width).attr("height", height);\n    const text = f.append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");\n    text.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(content);\n    byTspan(content, s, x, y, width, height, textAttrs, conf2);\n    _setTextAttrs(text, textAttrs);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(byFo, "byFo");\n  function _setTextAttrs(toText, fromTextAttrsDict) {\n    for (const key in fromTextAttrsDict) {\n      if (fromTextAttrsDict.hasOwnProperty(key)) {\n        toText.attr(key, fromTextAttrsDict[key]);\n      }\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(_setTextAttrs, "_setTextAttrs");\n  return function(conf2) {\n    return conf2.textPlacement === "fo" ? byFo : conf2.textPlacement === "old" ? byText : byTspan;\n  };\n})();\nvar svgDraw_default = {\n  drawRect: drawRect2,\n  drawBoundary,\n  drawC4Shape,\n  drawRels,\n  drawImage,\n  insertArrowHead,\n  insertArrowEnd,\n  insertArrowFilledHead,\n  insertDynamicNumber,\n  insertArrowCrossHead,\n  insertDatabaseIcon,\n  insertComputerIcon,\n  insertClockIcon\n};\n\n// src/diagrams/c4/c4Renderer.js\nvar globalBoundaryMaxX = 0;\nvar globalBoundaryMaxY = 0;\nvar c4ShapeInRow2 = 4;\nvar c4BoundaryInRow2 = 2;\nparser.yy = c4Db_default;\nvar conf = {};\nvar Bounds = class {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(this, "Bounds");\n  }\n  constructor(diagObj) {\n    this.name = "";\n    this.data = {};\n    this.data.startx = void 0;\n    this.data.stopx = void 0;\n    this.data.starty = void 0;\n    this.data.stopy = void 0;\n    this.data.widthLimit = void 0;\n    this.nextData = {};\n    this.nextData.startx = void 0;\n    this.nextData.stopx = void 0;\n    this.nextData.starty = void 0;\n    this.nextData.stopy = void 0;\n    this.nextData.cnt = 0;\n    setConf(diagObj.db.getConfig());\n  }\n  setData(startx, stopx, starty, stopy) {\n    this.nextData.startx = this.data.startx = startx;\n    this.nextData.stopx = this.data.stopx = stopx;\n    this.nextData.starty = this.data.starty = starty;\n    this.nextData.stopy = this.data.stopy = stopy;\n  }\n  updateVal(obj, key, val, fun) {\n    if (obj[key] === void 0) {\n      obj[key] = val;\n    } else {\n      obj[key] = fun(val, obj[key]);\n    }\n  }\n  insert(c4Shape) {\n    this.nextData.cnt = this.nextData.cnt + 1;\n    let _startx = this.nextData.startx === this.nextData.stopx ? this.nextData.stopx + c4Shape.margin : this.nextData.stopx + c4Shape.margin * 2;\n    let _stopx = _startx + c4Shape.width;\n    let _starty = this.nextData.starty + c4Shape.margin * 2;\n    let _stopy = _starty + c4Shape.height;\n    if (_startx >= this.data.widthLimit || _stopx >= this.data.widthLimit || this.nextData.cnt > c4ShapeInRow2) {\n      _startx = this.nextData.startx + c4Shape.margin + conf.nextLinePaddingX;\n      _starty = this.nextData.stopy + c4Shape.margin * 2;\n      this.nextData.stopx = _stopx = _startx + c4Shape.width;\n      this.nextData.starty = this.nextData.stopy;\n      this.nextData.stopy = _stopy = _starty + c4Shape.height;\n      this.nextData.cnt = 1;\n    }\n    c4Shape.x = _startx;\n    c4Shape.y = _starty;\n    this.updateVal(this.data, "startx", _startx, Math.min);\n    this.updateVal(this.data, "starty", _starty, Math.min);\n    this.updateVal(this.data, "stopx", _stopx, Math.max);\n    this.updateVal(this.data, "stopy", _stopy, Math.max);\n    this.updateVal(this.nextData, "startx", _startx, Math.min);\n    this.updateVal(this.nextData, "starty", _starty, Math.min);\n    this.updateVal(this.nextData, "stopx", _stopx, Math.max);\n    this.updateVal(this.nextData, "stopy", _stopy, Math.max);\n  }\n  init(diagObj) {\n    this.name = "";\n    this.data = {\n      startx: void 0,\n      stopx: void 0,\n      starty: void 0,\n      stopy: void 0,\n      widthLimit: void 0\n    };\n    this.nextData = {\n      startx: void 0,\n      stopx: void 0,\n      starty: void 0,\n      stopy: void 0,\n      cnt: 0\n    };\n    setConf(diagObj.db.getConfig());\n  }\n  bumpLastMargin(margin) {\n    this.data.stopx += margin;\n    this.data.stopy += margin;\n  }\n};\nvar setConf = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(cnf) {\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.assignWithDepth_default)(conf, cnf);\n  if (cnf.fontFamily) {\n    conf.personFontFamily = conf.systemFontFamily = conf.messageFontFamily = cnf.fontFamily;\n  }\n  if (cnf.fontSize) {\n    conf.personFontSize = conf.systemFontSize = conf.messageFontSize = cnf.fontSize;\n  }\n  if (cnf.fontWeight) {\n    conf.personFontWeight = conf.systemFontWeight = conf.messageFontWeight = cnf.fontWeight;\n  }\n}, "setConf");\nvar c4ShapeFont = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((cnf, typeC4Shape) => {\n  return {\n    fontFamily: cnf[typeC4Shape + "FontFamily"],\n    fontSize: cnf[typeC4Shape + "FontSize"],\n    fontWeight: cnf[typeC4Shape + "FontWeight"]\n  };\n}, "c4ShapeFont");\nvar boundaryFont = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((cnf) => {\n  return {\n    fontFamily: cnf.boundaryFontFamily,\n    fontSize: cnf.boundaryFontSize,\n    fontWeight: cnf.boundaryFontWeight\n  };\n}, "boundaryFont");\nvar messageFont = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((cnf) => {\n  return {\n    fontFamily: cnf.messageFontFamily,\n    fontSize: cnf.messageFontSize,\n    fontWeight: cnf.messageFontWeight\n  };\n}, "messageFont");\nfunction calcC4ShapeTextWH(textType, c4Shape, c4ShapeTextWrap, textConf, textLimitWidth) {\n  if (!c4Shape[textType].width) {\n    if (c4ShapeTextWrap) {\n      c4Shape[textType].text = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_1__.wrapLabel)(c4Shape[textType].text, textLimitWidth, textConf);\n      c4Shape[textType].textLines = c4Shape[textType].text.split(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.common_default.lineBreakRegex).length;\n      c4Shape[textType].width = textLimitWidth;\n      c4Shape[textType].height = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_1__.calculateTextHeight)(c4Shape[textType].text, textConf);\n    } else {\n      let lines = c4Shape[textType].text.split(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.common_default.lineBreakRegex);\n      c4Shape[textType].textLines = lines.length;\n      let lineHeight = 0;\n      c4Shape[textType].height = 0;\n      c4Shape[textType].width = 0;\n      for (const line of lines) {\n        c4Shape[textType].width = Math.max(\n          (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_1__.calculateTextWidth)(line, textConf),\n          c4Shape[textType].width\n        );\n        lineHeight = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_1__.calculateTextHeight)(line, textConf);\n        c4Shape[textType].height = c4Shape[textType].height + lineHeight;\n      }\n    }\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(calcC4ShapeTextWH, "calcC4ShapeTextWH");\nvar drawBoundary2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(diagram2, boundary, bounds) {\n  boundary.x = bounds.data.startx;\n  boundary.y = bounds.data.starty;\n  boundary.width = bounds.data.stopx - bounds.data.startx;\n  boundary.height = bounds.data.stopy - bounds.data.starty;\n  boundary.label.y = conf.c4ShapeMargin - 35;\n  let boundaryTextWrap = boundary.wrap && conf.wrap;\n  let boundaryLabelConf = boundaryFont(conf);\n  boundaryLabelConf.fontSize = boundaryLabelConf.fontSize + 2;\n  boundaryLabelConf.fontWeight = "bold";\n  let textLimitWidth = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_1__.calculateTextWidth)(boundary.label.text, boundaryLabelConf);\n  calcC4ShapeTextWH("label", boundary, boundaryTextWrap, boundaryLabelConf, textLimitWidth);\n  svgDraw_default.drawBoundary(diagram2, boundary, conf);\n}, "drawBoundary");\nvar drawC4ShapeArray = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(currentBounds, diagram2, c4ShapeArray2, c4ShapeKeys) {\n  let Y = 0;\n  for (const c4ShapeKey of c4ShapeKeys) {\n    Y = 0;\n    const c4Shape = c4ShapeArray2[c4ShapeKey];\n    let c4ShapeTypeConf = c4ShapeFont(conf, c4Shape.typeC4Shape.text);\n    c4ShapeTypeConf.fontSize = c4ShapeTypeConf.fontSize - 2;\n    c4Shape.typeC4Shape.width = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_1__.calculateTextWidth)(\n      "\\xAB" + c4Shape.typeC4Shape.text + "\\xBB",\n      c4ShapeTypeConf\n    );\n    c4Shape.typeC4Shape.height = c4ShapeTypeConf.fontSize + 2;\n    c4Shape.typeC4Shape.Y = conf.c4ShapePadding;\n    Y = c4Shape.typeC4Shape.Y + c4Shape.typeC4Shape.height - 4;\n    c4Shape.image = { width: 0, height: 0, Y: 0 };\n    switch (c4Shape.typeC4Shape.text) {\n      case "person":\n      case "external_person":\n        c4Shape.image.width = 48;\n        c4Shape.image.height = 48;\n        c4Shape.image.Y = Y;\n        Y = c4Shape.image.Y + c4Shape.image.height;\n        break;\n    }\n    if (c4Shape.sprite) {\n      c4Shape.image.width = 48;\n      c4Shape.image.height = 48;\n      c4Shape.image.Y = Y;\n      Y = c4Shape.image.Y + c4Shape.image.height;\n    }\n    let c4ShapeTextWrap = c4Shape.wrap && conf.wrap;\n    let textLimitWidth = conf.width - conf.c4ShapePadding * 2;\n    let c4ShapeLabelConf = c4ShapeFont(conf, c4Shape.typeC4Shape.text);\n    c4ShapeLabelConf.fontSize = c4ShapeLabelConf.fontSize + 2;\n    c4ShapeLabelConf.fontWeight = "bold";\n    calcC4ShapeTextWH("label", c4Shape, c4ShapeTextWrap, c4ShapeLabelConf, textLimitWidth);\n    c4Shape.label.Y = Y + 8;\n    Y = c4Shape.label.Y + c4Shape.label.height;\n    if (c4Shape.type && c4Shape.type.text !== "") {\n      c4Shape.type.text = "[" + c4Shape.type.text + "]";\n      let c4ShapeTypeConf2 = c4ShapeFont(conf, c4Shape.typeC4Shape.text);\n      calcC4ShapeTextWH("type", c4Shape, c4ShapeTextWrap, c4ShapeTypeConf2, textLimitWidth);\n      c4Shape.type.Y = Y + 5;\n      Y = c4Shape.type.Y + c4Shape.type.height;\n    } else if (c4Shape.techn && c4Shape.techn.text !== "") {\n      c4Shape.techn.text = "[" + c4Shape.techn.text + "]";\n      let c4ShapeTechnConf = c4ShapeFont(conf, c4Shape.techn.text);\n      calcC4ShapeTextWH("techn", c4Shape, c4ShapeTextWrap, c4ShapeTechnConf, textLimitWidth);\n      c4Shape.techn.Y = Y + 5;\n      Y = c4Shape.techn.Y + c4Shape.techn.height;\n    }\n    let rectHeight = Y;\n    let rectWidth = c4Shape.label.width;\n    if (c4Shape.descr && c4Shape.descr.text !== "") {\n      let c4ShapeDescrConf = c4ShapeFont(conf, c4Shape.typeC4Shape.text);\n      calcC4ShapeTextWH("descr", c4Shape, c4ShapeTextWrap, c4ShapeDescrConf, textLimitWidth);\n      c4Shape.descr.Y = Y + 20;\n      Y = c4Shape.descr.Y + c4Shape.descr.height;\n      rectWidth = Math.max(c4Shape.label.width, c4Shape.descr.width);\n      rectHeight = Y - c4Shape.descr.textLines * 5;\n    }\n    rectWidth = rectWidth + conf.c4ShapePadding;\n    c4Shape.width = Math.max(c4Shape.width || conf.width, rectWidth, conf.width);\n    c4Shape.height = Math.max(c4Shape.height || conf.height, rectHeight, conf.height);\n    c4Shape.margin = c4Shape.margin || conf.c4ShapeMargin;\n    currentBounds.insert(c4Shape);\n    svgDraw_default.drawC4Shape(diagram2, c4Shape, conf);\n  }\n  currentBounds.bumpLastMargin(conf.c4ShapeMargin);\n}, "drawC4ShapeArray");\nvar Point = class {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(this, "Point");\n  }\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n};\nvar getIntersectPoint = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(fromNode, endPoint) {\n  let x1 = fromNode.x;\n  let y1 = fromNode.y;\n  let x2 = endPoint.x;\n  let y2 = endPoint.y;\n  let fromCenterX = x1 + fromNode.width / 2;\n  let fromCenterY = y1 + fromNode.height / 2;\n  let dx = Math.abs(x1 - x2);\n  let dy = Math.abs(y1 - y2);\n  let tanDYX = dy / dx;\n  let fromDYX = fromNode.height / fromNode.width;\n  let returnPoint = null;\n  if (y1 == y2 && x1 < x2) {\n    returnPoint = new Point(x1 + fromNode.width, fromCenterY);\n  } else if (y1 == y2 && x1 > x2) {\n    returnPoint = new Point(x1, fromCenterY);\n  } else if (x1 == x2 && y1 < y2) {\n    returnPoint = new Point(fromCenterX, y1 + fromNode.height);\n  } else if (x1 == x2 && y1 > y2) {\n    returnPoint = new Point(fromCenterX, y1);\n  }\n  if (x1 > x2 && y1 < y2) {\n    if (fromDYX >= tanDYX) {\n      returnPoint = new Point(x1, fromCenterY + tanDYX * fromNode.width / 2);\n    } else {\n      returnPoint = new Point(\n        fromCenterX - dx / dy * fromNode.height / 2,\n        y1 + fromNode.height\n      );\n    }\n  } else if (x1 < x2 && y1 < y2) {\n    if (fromDYX >= tanDYX) {\n      returnPoint = new Point(x1 + fromNode.width, fromCenterY + tanDYX * fromNode.width / 2);\n    } else {\n      returnPoint = new Point(\n        fromCenterX + dx / dy * fromNode.height / 2,\n        y1 + fromNode.height\n      );\n    }\n  } else if (x1 < x2 && y1 > y2) {\n    if (fromDYX >= tanDYX) {\n      returnPoint = new Point(x1 + fromNode.width, fromCenterY - tanDYX * fromNode.width / 2);\n    } else {\n      returnPoint = new Point(fromCenterX + fromNode.height / 2 * dx / dy, y1);\n    }\n  } else if (x1 > x2 && y1 > y2) {\n    if (fromDYX >= tanDYX) {\n      returnPoint = new Point(x1, fromCenterY - fromNode.width / 2 * tanDYX);\n    } else {\n      returnPoint = new Point(fromCenterX - fromNode.height / 2 * dx / dy, y1);\n    }\n  }\n  return returnPoint;\n}, "getIntersectPoint");\nvar getIntersectPoints = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(fromNode, endNode) {\n  let endIntersectPoint = { x: 0, y: 0 };\n  endIntersectPoint.x = endNode.x + endNode.width / 2;\n  endIntersectPoint.y = endNode.y + endNode.height / 2;\n  let startPoint = getIntersectPoint(fromNode, endIntersectPoint);\n  endIntersectPoint.x = fromNode.x + fromNode.width / 2;\n  endIntersectPoint.y = fromNode.y + fromNode.height / 2;\n  let endPoint = getIntersectPoint(endNode, endIntersectPoint);\n  return { startPoint, endPoint };\n}, "getIntersectPoints");\nvar drawRels2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(diagram2, rels2, getC4ShapeObj, diagObj) {\n  let i = 0;\n  for (let rel of rels2) {\n    i = i + 1;\n    let relTextWrap = rel.wrap && conf.wrap;\n    let relConf = messageFont(conf);\n    let diagramType = diagObj.db.getC4Type();\n    if (diagramType === "C4Dynamic") {\n      rel.label.text = i + ": " + rel.label.text;\n    }\n    let textLimitWidth = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_1__.calculateTextWidth)(rel.label.text, relConf);\n    calcC4ShapeTextWH("label", rel, relTextWrap, relConf, textLimitWidth);\n    if (rel.techn && rel.techn.text !== "") {\n      textLimitWidth = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_1__.calculateTextWidth)(rel.techn.text, relConf);\n      calcC4ShapeTextWH("techn", rel, relTextWrap, relConf, textLimitWidth);\n    }\n    if (rel.descr && rel.descr.text !== "") {\n      textLimitWidth = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_1__.calculateTextWidth)(rel.descr.text, relConf);\n      calcC4ShapeTextWH("descr", rel, relTextWrap, relConf, textLimitWidth);\n    }\n    let fromNode = getC4ShapeObj(rel.from);\n    let endNode = getC4ShapeObj(rel.to);\n    let points = getIntersectPoints(fromNode, endNode);\n    rel.startPoint = points.startPoint;\n    rel.endPoint = points.endPoint;\n  }\n  svgDraw_default.drawRels(diagram2, rels2, conf);\n}, "drawRels");\nfunction drawInsideBoundary(diagram2, parentBoundaryAlias, parentBounds, currentBoundaries, diagObj) {\n  let currentBounds = new Bounds(diagObj);\n  currentBounds.data.widthLimit = parentBounds.data.widthLimit / Math.min(c4BoundaryInRow2, currentBoundaries.length);\n  for (let [i, currentBoundary] of currentBoundaries.entries()) {\n    let Y = 0;\n    currentBoundary.image = { width: 0, height: 0, Y: 0 };\n    if (currentBoundary.sprite) {\n      currentBoundary.image.width = 48;\n      currentBoundary.image.height = 48;\n      currentBoundary.image.Y = Y;\n      Y = currentBoundary.image.Y + currentBoundary.image.height;\n    }\n    let currentBoundaryTextWrap = currentBoundary.wrap && conf.wrap;\n    let currentBoundaryLabelConf = boundaryFont(conf);\n    currentBoundaryLabelConf.fontSize = currentBoundaryLabelConf.fontSize + 2;\n    currentBoundaryLabelConf.fontWeight = "bold";\n    calcC4ShapeTextWH(\n      "label",\n      currentBoundary,\n      currentBoundaryTextWrap,\n      currentBoundaryLabelConf,\n      currentBounds.data.widthLimit\n    );\n    currentBoundary.label.Y = Y + 8;\n    Y = currentBoundary.label.Y + currentBoundary.label.height;\n    if (currentBoundary.type && currentBoundary.type.text !== "") {\n      currentBoundary.type.text = "[" + currentBoundary.type.text + "]";\n      let currentBoundaryTypeConf = boundaryFont(conf);\n      calcC4ShapeTextWH(\n        "type",\n        currentBoundary,\n        currentBoundaryTextWrap,\n        currentBoundaryTypeConf,\n        currentBounds.data.widthLimit\n      );\n      currentBoundary.type.Y = Y + 5;\n      Y = currentBoundary.type.Y + currentBoundary.type.height;\n    }\n    if (currentBoundary.descr && currentBoundary.descr.text !== "") {\n      let currentBoundaryDescrConf = boundaryFont(conf);\n      currentBoundaryDescrConf.fontSize = currentBoundaryDescrConf.fontSize - 2;\n      calcC4ShapeTextWH(\n        "descr",\n        currentBoundary,\n        currentBoundaryTextWrap,\n        currentBoundaryDescrConf,\n        currentBounds.data.widthLimit\n      );\n      currentBoundary.descr.Y = Y + 20;\n      Y = currentBoundary.descr.Y + currentBoundary.descr.height;\n    }\n    if (i == 0 || i % c4BoundaryInRow2 === 0) {\n      let _x = parentBounds.data.startx + conf.diagramMarginX;\n      let _y = parentBounds.data.stopy + conf.diagramMarginY + Y;\n      currentBounds.setData(_x, _x, _y, _y);\n    } else {\n      let _x = currentBounds.data.stopx !== currentBounds.data.startx ? currentBounds.data.stopx + conf.diagramMarginX : currentBounds.data.startx;\n      let _y = currentBounds.data.starty;\n      currentBounds.setData(_x, _x, _y, _y);\n    }\n    currentBounds.name = currentBoundary.alias;\n    let currentPersonOrSystemArray = diagObj.db.getC4ShapeArray(currentBoundary.alias);\n    let currentPersonOrSystemKeys = diagObj.db.getC4ShapeKeys(currentBoundary.alias);\n    if (currentPersonOrSystemKeys.length > 0) {\n      drawC4ShapeArray(\n        currentBounds,\n        diagram2,\n        currentPersonOrSystemArray,\n        currentPersonOrSystemKeys\n      );\n    }\n    parentBoundaryAlias = currentBoundary.alias;\n    let nextCurrentBoundaries = diagObj.db.getBoundaries(parentBoundaryAlias);\n    if (nextCurrentBoundaries.length > 0) {\n      drawInsideBoundary(\n        diagram2,\n        parentBoundaryAlias,\n        currentBounds,\n        nextCurrentBoundaries,\n        diagObj\n      );\n    }\n    if (currentBoundary.alias !== "global") {\n      drawBoundary2(diagram2, currentBoundary, currentBounds);\n    }\n    parentBounds.data.stopy = Math.max(\n      currentBounds.data.stopy + conf.c4ShapeMargin,\n      parentBounds.data.stopy\n    );\n    parentBounds.data.stopx = Math.max(\n      currentBounds.data.stopx + conf.c4ShapeMargin,\n      parentBounds.data.stopx\n    );\n    globalBoundaryMaxX = Math.max(globalBoundaryMaxX, parentBounds.data.stopx);\n    globalBoundaryMaxY = Math.max(globalBoundaryMaxY, parentBounds.data.stopy);\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(drawInsideBoundary, "drawInsideBoundary");\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(_text, id, _version, diagObj) {\n  conf = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().c4;\n  const securityLevel = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().securityLevel;\n  let sandboxElement;\n  if (securityLevel === "sandbox") {\n    sandboxElement = (0,d3__WEBPACK_IMPORTED_MODULE_4__.select)("#i" + id);\n  }\n  const root = securityLevel === "sandbox" ? (0,d3__WEBPACK_IMPORTED_MODULE_4__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0,d3__WEBPACK_IMPORTED_MODULE_4__.select)("body");\n  let db = diagObj.db;\n  diagObj.db.setWrap(conf.wrap);\n  c4ShapeInRow2 = db.getC4ShapeInRow();\n  c4BoundaryInRow2 = db.getC4BoundaryInRow();\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(`C:${JSON.stringify(conf, null, 2)}`);\n  const diagram2 = securityLevel === "sandbox" ? root.select(`[id="${id}"]`) : (0,d3__WEBPACK_IMPORTED_MODULE_4__.select)(`[id="${id}"]`);\n  svgDraw_default.insertComputerIcon(diagram2);\n  svgDraw_default.insertDatabaseIcon(diagram2);\n  svgDraw_default.insertClockIcon(diagram2);\n  let screenBounds = new Bounds(diagObj);\n  screenBounds.setData(\n    conf.diagramMarginX,\n    conf.diagramMarginX,\n    conf.diagramMarginY,\n    conf.diagramMarginY\n  );\n  screenBounds.data.widthLimit = screen.availWidth;\n  globalBoundaryMaxX = conf.diagramMarginX;\n  globalBoundaryMaxY = conf.diagramMarginY;\n  const title2 = diagObj.db.getTitle();\n  let currentBoundaries = diagObj.db.getBoundaries("");\n  drawInsideBoundary(diagram2, "", screenBounds, currentBoundaries, diagObj);\n  svgDraw_default.insertArrowHead(diagram2);\n  svgDraw_default.insertArrowEnd(diagram2);\n  svgDraw_default.insertArrowCrossHead(diagram2);\n  svgDraw_default.insertArrowFilledHead(diagram2);\n  drawRels2(diagram2, diagObj.db.getRels(), diagObj.db.getC4Shape, diagObj);\n  screenBounds.data.stopx = globalBoundaryMaxX;\n  screenBounds.data.stopy = globalBoundaryMaxY;\n  const box = screenBounds.data;\n  let boxHeight = box.stopy - box.starty;\n  let height = boxHeight + 2 * conf.diagramMarginY;\n  let boxWidth = box.stopx - box.startx;\n  const width = boxWidth + 2 * conf.diagramMarginX;\n  if (title2) {\n    diagram2.append("text").text(title2).attr("x", (box.stopx - box.startx) / 2 - 4 * conf.diagramMarginX).attr("y", box.starty + conf.diagramMarginY);\n  }\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.configureSvgSize)(diagram2, height, width, conf.useMaxWidth);\n  const extraVertForTitle = title2 ? 60 : 0;\n  diagram2.attr(\n    "viewBox",\n    box.startx - conf.diagramMarginX + " -" + (conf.diagramMarginY + extraVertForTitle) + " " + width + " " + (height + extraVertForTitle)\n  );\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(`models:`, box);\n}, "draw");\nvar c4Renderer_default = {\n  drawPersonOrSystemArray: drawC4ShapeArray,\n  drawBoundary: drawBoundary2,\n  setConf,\n  draw\n};\n\n// src/diagrams/c4/styles.js\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((options) => `.person {\n    stroke: ${options.personBorder};\n    fill: ${options.personBkg};\n  }\n`, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/c4/c4Diagram.ts\nvar diagram = {\n  parser: c4Diagram_default,\n  db: c4Db_default,\n  renderer: c4Renderer_default,\n  styles: styles_default,\n  init: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(({ c4, wrap }) => {\n    c4Renderer_default.setConf(c4);\n    c4Db_default.setWrap(wrap);\n  }, "init")\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/c4Diagram-YG6GDRKO.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-4BX2VUAB.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   populateCommonDb: () => (/* binding */ populateCommonDb)\n/* harmony export */ });\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n\n\n// src/diagrams/common/populateCommonDb.ts\nfunction populateCommonDb(ast, db) {\n  if (ast.accDescr) {\n    db.setAccDescription?.(ast.accDescr);\n  }\n  if (ast.accTitle) {\n    db.setAccTitle?.(ast.accTitle);\n  }\n  if (ast.title) {\n    db.setDiagramTitle?.(ast.title);\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(populateCommonDb, "populateCommonDb");\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-4BX2VUAB.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-55IACEB6.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDiagramElement: () => (/* binding */ getDiagramElement)\n/* harmony export */ });\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n\n\n// src/rendering-util/insertElementsForSize.js\n\nvar getDiagramElement = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((id, securityLevel) => {\n  let sandboxElement;\n  if (securityLevel === "sandbox") {\n    sandboxElement = (0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("#i" + id);\n  }\n  const root = securityLevel === "sandbox" ? (0,d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("body");\n  const svg = root.select(`[id="${id}"]`);\n  return svg;\n}, "getDiagramElement");\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-55IACEB6.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UnknownDiagramError: () => (/* binding */ UnknownDiagramError),\n/* harmony export */   addDirective: () => (/* binding */ addDirective),\n/* harmony export */   assignWithDepth_default: () => (/* binding */ assignWithDepth_default),\n/* harmony export */   calculateMathMLDimensions: () => (/* binding */ calculateMathMLDimensions),\n/* harmony export */   clear: () => (/* binding */ clear),\n/* harmony export */   commonDb_exports: () => (/* binding */ commonDb_exports),\n/* harmony export */   common_default: () => (/* binding */ common_default),\n/* harmony export */   configureSvgSize: () => (/* binding */ configureSvgSize),\n/* harmony export */   defaultConfig: () => (/* binding */ defaultConfig),\n/* harmony export */   defaultConfig2: () => (/* binding */ defaultConfig2),\n/* harmony export */   defaultConfig_default: () => (/* binding */ defaultConfig_default),\n/* harmony export */   detectType: () => (/* binding */ detectType),\n/* harmony export */   detectors: () => (/* binding */ detectors),\n/* harmony export */   directiveRegex: () => (/* binding */ directiveRegex),\n/* harmony export */   evaluate: () => (/* binding */ evaluate),\n/* harmony export */   frontMatterRegex: () => (/* binding */ frontMatterRegex),\n/* harmony export */   getAccDescription: () => (/* binding */ getAccDescription),\n/* harmony export */   getAccTitle: () => (/* binding */ getAccTitle),\n/* harmony export */   getConfig: () => (/* binding */ getConfig),\n/* harmony export */   getConfig2: () => (/* binding */ getConfig2),\n/* harmony export */   getDiagram: () => (/* binding */ getDiagram),\n/* harmony export */   getDiagramLoader: () => (/* binding */ getDiagramLoader),\n/* harmony export */   getDiagramTitle: () => (/* binding */ getDiagramTitle),\n/* harmony export */   getSiteConfig: () => (/* binding */ getSiteConfig),\n/* harmony export */   getThemeVariables: () => (/* binding */ getThemeVariables3),\n/* harmony export */   getUrl: () => (/* binding */ getUrl),\n/* harmony export */   getUserDefinedConfig: () => (/* binding */ getUserDefinedConfig),\n/* harmony export */   hasKatex: () => (/* binding */ hasKatex),\n/* harmony export */   lineBreakRegex: () => (/* binding */ lineBreakRegex),\n/* harmony export */   parseGenericTypes: () => (/* binding */ parseGenericTypes),\n/* harmony export */   registerDiagram: () => (/* binding */ registerDiagram),\n/* harmony export */   registerLazyLoadedDiagrams: () => (/* binding */ registerLazyLoadedDiagrams),\n/* harmony export */   renderKatexSanitized: () => (/* binding */ renderKatexSanitized),\n/* harmony export */   reset: () => (/* binding */ reset),\n/* harmony export */   sanitizeDirective: () => (/* binding */ sanitizeDirective),\n/* harmony export */   sanitizeText: () => (/* binding */ sanitizeText),\n/* harmony export */   sanitizeText2: () => (/* binding */ sanitizeText3),\n/* harmony export */   saveConfigFromInitialize: () => (/* binding */ saveConfigFromInitialize),\n/* harmony export */   setAccDescription: () => (/* binding */ setAccDescription),\n/* harmony export */   setAccTitle: () => (/* binding */ setAccTitle),\n/* harmony export */   setConfig: () => (/* binding */ setConfig),\n/* harmony export */   setConfig2: () => (/* binding */ setConfig2),\n/* harmony export */   setDiagramTitle: () => (/* binding */ setDiagramTitle),\n/* harmony export */   setSiteConfig: () => (/* binding */ setSiteConfig),\n/* harmony export */   setupGraphViewbox: () => (/* binding */ setupGraphViewbox),\n/* harmony export */   setupGraphViewbox2: () => (/* binding */ setupGraphViewbox2),\n/* harmony export */   styles_default: () => (/* binding */ styles_default),\n/* harmony export */   themes_default: () => (/* binding */ themes_default),\n/* harmony export */   updateSiteConfig: () => (/* binding */ updateSiteConfig)\n/* harmony export */ });\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/is_dark.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/lighten.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/darken.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/adjust.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/invert.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/rgba.js");\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! dompurify */ "./node_modules/dompurify/dist/purify.es.mjs");\n\n\n// src/diagram-api/regexes.ts\nvar frontMatterRegex = /^-{3}\\s*[\\n\\r](.*?)[\\n\\r]-{3}\\s*[\\n\\r]+/s;\nvar directiveRegex = /%{2}{\\s*(?:(\\w+)\\s*:|(\\w+))\\s*(?:(\\w+)|((?:(?!}%{2}).|\\r?\\n)*))?\\s*(?:}%{2})?/gi;\nvar anyCommentRegex = /\\s*%%.*\\n/gm;\n\n// src/errors.ts\nvar UnknownDiagramError = class extends Error {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(this, "UnknownDiagramError");\n  }\n  constructor(message) {\n    super(message);\n    this.name = "UnknownDiagramError";\n  }\n};\n\n// src/diagram-api/detectType.ts\nvar detectors = {};\nvar detectType = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(text, config2) {\n  text = text.replace(frontMatterRegex, "").replace(directiveRegex, "").replace(anyCommentRegex, "\\n");\n  for (const [key, { detector }] of Object.entries(detectors)) {\n    const diagram = detector(text, config2);\n    if (diagram) {\n      return key;\n    }\n  }\n  throw new UnknownDiagramError(\n    `No diagram type detected matching given configuration for text: ${text}`\n  );\n}, "detectType");\nvar registerLazyLoadedDiagrams = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((...diagrams2) => {\n  for (const { id, detector, loader } of diagrams2) {\n    addDetector(id, detector, loader);\n  }\n}, "registerLazyLoadedDiagrams");\nvar addDetector = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((key, detector, loader) => {\n  if (detectors[key]) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.warn(`Detector with key ${key} already exists. Overwriting.`);\n  }\n  detectors[key] = { detector, loader };\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.debug(`Detector with key ${key} added${loader ? " with loader" : ""}`);\n}, "addDetector");\nvar getDiagramLoader = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((key) => {\n  return detectors[key].loader;\n}, "getDiagramLoader");\n\n// src/assignWithDepth.ts\nvar assignWithDepth = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((dst, src, { depth = 2, clobber = false } = {}) => {\n  const config2 = { depth, clobber };\n  if (Array.isArray(src) && !Array.isArray(dst)) {\n    src.forEach((s) => assignWithDepth(dst, s, config2));\n    return dst;\n  } else if (Array.isArray(src) && Array.isArray(dst)) {\n    src.forEach((s) => {\n      if (!dst.includes(s)) {\n        dst.push(s);\n      }\n    });\n    return dst;\n  }\n  if (dst === void 0 || depth <= 0) {\n    if (dst !== void 0 && dst !== null && typeof dst === "object" && typeof src === "object") {\n      return Object.assign(dst, src);\n    } else {\n      return src;\n    }\n  }\n  if (src !== void 0 && typeof dst === "object" && typeof src === "object") {\n    Object.keys(src).forEach((key) => {\n      if (typeof src[key] === "object" && (dst[key] === void 0 || typeof dst[key] === "object")) {\n        if (dst[key] === void 0) {\n          dst[key] = Array.isArray(src[key]) ? [] : {};\n        }\n        dst[key] = assignWithDepth(dst[key], src[key], { depth: depth - 1, clobber });\n      } else if (clobber || typeof dst[key] !== "object" && typeof src[key] !== "object") {\n        dst[key] = src[key];\n      }\n    });\n  }\n  return dst;\n}, "assignWithDepth");\nvar assignWithDepth_default = assignWithDepth;\n\n// src/themes/theme-base.js\n\n\n// src/themes/erDiagram-oldHardcodedValues.ts\nvar oldAttributeBackgroundColorOdd = "#ffffff";\nvar oldAttributeBackgroundColorEven = "#f2f2f2";\n\n// src/themes/theme-helpers.js\n\nvar mkBorder = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((col, darkMode) => darkMode ? (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(col, { s: -40, l: 10 }) : (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(col, { s: -40, l: -10 }), "mkBorder");\n\n// src/themes/theme-base.js\nvar Theme = class {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(this, "Theme");\n  }\n  constructor() {\n    this.background = "#f4f4f4";\n    this.primaryColor = "#fff4dd";\n    this.noteBkgColor = "#fff5ad";\n    this.noteTextColor = "#333";\n    this.THEME_COLOR_LIMIT = 12;\n    this.fontFamily = \'"trebuchet ms", verdana, arial, sans-serif\';\n    this.fontSize = "16px";\n  }\n  updateColors() {\n    this.primaryTextColor = this.primaryTextColor || (this.darkMode ? "#eee" : "#333");\n    this.secondaryColor = this.secondaryColor || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -120 });\n    this.tertiaryColor = this.tertiaryColor || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 180, l: 5 });\n    this.primaryBorderColor = this.primaryBorderColor || mkBorder(this.primaryColor, this.darkMode);\n    this.secondaryBorderColor = this.secondaryBorderColor || mkBorder(this.secondaryColor, this.darkMode);\n    this.tertiaryBorderColor = this.tertiaryBorderColor || mkBorder(this.tertiaryColor, this.darkMode);\n    this.noteBorderColor = this.noteBorderColor || mkBorder(this.noteBkgColor, this.darkMode);\n    this.noteBkgColor = this.noteBkgColor || "#fff5ad";\n    this.noteTextColor = this.noteTextColor || "#333";\n    this.secondaryTextColor = this.secondaryTextColor || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.secondaryColor);\n    this.tertiaryTextColor = this.tertiaryTextColor || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.tertiaryColor);\n    this.lineColor = this.lineColor || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.background);\n    this.arrowheadColor = this.arrowheadColor || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.background);\n    this.textColor = this.textColor || this.primaryTextColor;\n    this.border2 = this.border2 || this.tertiaryBorderColor;\n    this.nodeBkg = this.nodeBkg || this.primaryColor;\n    this.mainBkg = this.mainBkg || this.primaryColor;\n    this.nodeBorder = this.nodeBorder || this.primaryBorderColor;\n    this.clusterBkg = this.clusterBkg || this.tertiaryColor;\n    this.clusterBorder = this.clusterBorder || this.tertiaryBorderColor;\n    this.defaultLinkColor = this.defaultLinkColor || this.lineColor;\n    this.titleColor = this.titleColor || this.tertiaryTextColor;\n    this.edgeLabelBackground = this.edgeLabelBackground || (this.darkMode ? (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.secondaryColor, 30) : this.secondaryColor);\n    this.nodeTextColor = this.nodeTextColor || this.primaryTextColor;\n    this.actorBorder = this.actorBorder || this.primaryBorderColor;\n    this.actorBkg = this.actorBkg || this.mainBkg;\n    this.actorTextColor = this.actorTextColor || this.primaryTextColor;\n    this.actorLineColor = this.actorLineColor || this.actorBorder;\n    this.labelBoxBkgColor = this.labelBoxBkgColor || this.actorBkg;\n    this.signalColor = this.signalColor || this.textColor;\n    this.signalTextColor = this.signalTextColor || this.textColor;\n    this.labelBoxBorderColor = this.labelBoxBorderColor || this.actorBorder;\n    this.labelTextColor = this.labelTextColor || this.actorTextColor;\n    this.loopTextColor = this.loopTextColor || this.actorTextColor;\n    this.activationBorderColor = this.activationBorderColor || (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.secondaryColor, 10);\n    this.activationBkgColor = this.activationBkgColor || this.secondaryColor;\n    this.sequenceNumberColor = this.sequenceNumberColor || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.lineColor);\n    this.sectionBkgColor = this.sectionBkgColor || this.tertiaryColor;\n    this.altSectionBkgColor = this.altSectionBkgColor || "white";\n    this.sectionBkgColor = this.sectionBkgColor || this.secondaryColor;\n    this.sectionBkgColor2 = this.sectionBkgColor2 || this.primaryColor;\n    this.excludeBkgColor = this.excludeBkgColor || "#eeeeee";\n    this.taskBorderColor = this.taskBorderColor || this.primaryBorderColor;\n    this.taskBkgColor = this.taskBkgColor || this.primaryColor;\n    this.activeTaskBorderColor = this.activeTaskBorderColor || this.primaryColor;\n    this.activeTaskBkgColor = this.activeTaskBkgColor || (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.primaryColor, 23);\n    this.gridColor = this.gridColor || "lightgrey";\n    this.doneTaskBkgColor = this.doneTaskBkgColor || "lightgrey";\n    this.doneTaskBorderColor = this.doneTaskBorderColor || "grey";\n    this.critBorderColor = this.critBorderColor || "#ff8888";\n    this.critBkgColor = this.critBkgColor || "red";\n    this.todayLineColor = this.todayLineColor || "red";\n    this.vertLineColor = this.vertLineColor || "navy";\n    this.taskTextColor = this.taskTextColor || this.textColor;\n    this.taskTextOutsideColor = this.taskTextOutsideColor || this.textColor;\n    this.taskTextLightColor = this.taskTextLightColor || this.textColor;\n    this.taskTextColor = this.taskTextColor || this.primaryTextColor;\n    this.taskTextDarkColor = this.taskTextDarkColor || this.textColor;\n    this.taskTextClickableColor = this.taskTextClickableColor || "#003163";\n    this.personBorder = this.personBorder || this.primaryBorderColor;\n    this.personBkg = this.personBkg || this.mainBkg;\n    if (this.darkMode) {\n      this.rowOdd = this.rowOdd || (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.mainBkg, 5) || "#ffffff";\n      this.rowEven = this.rowEven || (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.mainBkg, 10);\n    } else {\n      this.rowOdd = this.rowOdd || (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.mainBkg, 75) || "#ffffff";\n      this.rowEven = this.rowEven || (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.mainBkg, 5);\n    }\n    this.transitionColor = this.transitionColor || this.lineColor;\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n    this.stateBkg = this.stateBkg || this.mainBkg;\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n    this.altBackground = this.altBackground || this.tertiaryColor;\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n    this.compositeBorder = this.compositeBorder || this.nodeBorder;\n    this.innerEndBackground = this.nodeBorder;\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n    this.transitionColor = this.transitionColor || this.lineColor;\n    this.specialStateColor = this.lineColor;\n    this.cScale0 = this.cScale0 || this.primaryColor;\n    this.cScale1 = this.cScale1 || this.secondaryColor;\n    this.cScale2 = this.cScale2 || this.tertiaryColor;\n    this.cScale3 = this.cScale3 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 30 });\n    this.cScale4 = this.cScale4 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60 });\n    this.cScale5 = this.cScale5 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 90 });\n    this.cScale6 = this.cScale6 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120 });\n    this.cScale7 = this.cScale7 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 150 });\n    this.cScale8 = this.cScale8 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 210, l: 150 });\n    this.cScale9 = this.cScale9 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 270 });\n    this.cScale10 = this.cScale10 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 300 });\n    this.cScale11 = this.cScale11 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 330 });\n    if (this.darkMode) {\n      for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n        this["cScale" + i] = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this["cScale" + i], 75);\n      }\n    } else {\n      for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n        this["cScale" + i] = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this["cScale" + i], 25);\n      }\n    }\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      this["cScaleInv" + i] = this["cScaleInv" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this["cScale" + i]);\n    }\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      if (this.darkMode) {\n        this["cScalePeer" + i] = this["cScalePeer" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this["cScale" + i], 10);\n      } else {\n        this["cScalePeer" + i] = this["cScalePeer" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this["cScale" + i], 10);\n      }\n    }\n    this.scaleLabelColor = this.scaleLabelColor || this.labelTextColor;\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      this["cScaleLabel" + i] = this["cScaleLabel" + i] || this.scaleLabelColor;\n    }\n    const multiplier = this.darkMode ? -4 : -1;\n    for (let i = 0; i < 5; i++) {\n      this["surface" + i] = this["surface" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.mainBkg, { h: 180, s: -15, l: multiplier * (5 + i * 3) });\n      this["surfacePeer" + i] = this["surfacePeer" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.mainBkg, { h: 180, s: -15, l: multiplier * (8 + i * 3) });\n    }\n    this.classText = this.classText || this.textColor;\n    this.fillType0 = this.fillType0 || this.primaryColor;\n    this.fillType1 = this.fillType1 || this.secondaryColor;\n    this.fillType2 = this.fillType2 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 64 });\n    this.fillType3 = this.fillType3 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: 64 });\n    this.fillType4 = this.fillType4 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -64 });\n    this.fillType5 = this.fillType5 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: -64 });\n    this.fillType6 = this.fillType6 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 128 });\n    this.fillType7 = this.fillType7 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: 128 });\n    this.pie1 = this.pie1 || this.primaryColor;\n    this.pie2 = this.pie2 || this.secondaryColor;\n    this.pie3 = this.pie3 || this.tertiaryColor;\n    this.pie4 = this.pie4 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { l: -10 });\n    this.pie5 = this.pie5 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { l: -10 });\n    this.pie6 = this.pie6 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.tertiaryColor, { l: -10 });\n    this.pie7 = this.pie7 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60, l: -10 });\n    this.pie8 = this.pie8 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -60, l: -10 });\n    this.pie9 = this.pie9 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120, l: 0 });\n    this.pie10 = this.pie10 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60, l: -20 });\n    this.pie11 = this.pie11 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -60, l: -20 });\n    this.pie12 = this.pie12 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120, l: -10 });\n    this.pieTitleTextSize = this.pieTitleTextSize || "25px";\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n    this.pieSectionTextSize = this.pieSectionTextSize || "17px";\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n    this.pieLegendTextSize = this.pieLegendTextSize || "17px";\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n    this.pieStrokeColor = this.pieStrokeColor || "black";\n    this.pieStrokeWidth = this.pieStrokeWidth || "2px";\n    this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px";\n    this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black";\n    this.pieOpacity = this.pieOpacity || "0.7";\n    this.radar = {\n      axisColor: this.radar?.axisColor || this.lineColor,\n      axisStrokeWidth: this.radar?.axisStrokeWidth || 2,\n      axisLabelFontSize: this.radar?.axisLabelFontSize || 12,\n      curveOpacity: this.radar?.curveOpacity || 0.5,\n      curveStrokeWidth: this.radar?.curveStrokeWidth || 2,\n      graticuleColor: this.radar?.graticuleColor || "#DEDEDE",\n      graticuleStrokeWidth: this.radar?.graticuleStrokeWidth || 1,\n      graticuleOpacity: this.radar?.graticuleOpacity || 0.3,\n      legendBoxSize: this.radar?.legendBoxSize || 12,\n      legendFontSize: this.radar?.legendFontSize || 12\n    };\n    this.archEdgeColor = this.archEdgeColor || "#777";\n    this.archEdgeArrowColor = this.archEdgeArrowColor || "#777";\n    this.archEdgeWidth = this.archEdgeWidth || "3";\n    this.archGroupBorderColor = this.archGroupBorderColor || "#000";\n    this.archGroupBorderWidth = this.archGroupBorderWidth || "2px";\n    this.quadrant1Fill = this.quadrant1Fill || this.primaryColor;\n    this.quadrant2Fill = this.quadrant2Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 5, g: 5, b: 5 });\n    this.quadrant3Fill = this.quadrant3Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 10, g: 10, b: 10 });\n    this.quadrant4Fill = this.quadrant4Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 15, g: 15, b: 15 });\n    this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor;\n    this.quadrant2TextFill = this.quadrant2TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -5, g: -5, b: -5 });\n    this.quadrant3TextFill = this.quadrant3TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -10, g: -10, b: -10 });\n    this.quadrant4TextFill = this.quadrant4TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -15, g: -15, b: -15 });\n    this.quadrantPointFill = this.quadrantPointFill || (0,khroma__WEBPACK_IMPORTED_MODULE_1__["default"])(this.quadrant1Fill) ? (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.quadrant1Fill) : (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.quadrant1Fill);\n    this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor;\n    this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor;\n    this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor;\n    this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor;\n    this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor;\n    this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor;\n    this.xyChart = {\n      backgroundColor: this.xyChart?.backgroundColor || this.background,\n      titleColor: this.xyChart?.titleColor || this.primaryTextColor,\n      xAxisTitleColor: this.xyChart?.xAxisTitleColor || this.primaryTextColor,\n      xAxisLabelColor: this.xyChart?.xAxisLabelColor || this.primaryTextColor,\n      xAxisTickColor: this.xyChart?.xAxisTickColor || this.primaryTextColor,\n      xAxisLineColor: this.xyChart?.xAxisLineColor || this.primaryTextColor,\n      yAxisTitleColor: this.xyChart?.yAxisTitleColor || this.primaryTextColor,\n      yAxisLabelColor: this.xyChart?.yAxisLabelColor || this.primaryTextColor,\n      yAxisTickColor: this.xyChart?.yAxisTickColor || this.primaryTextColor,\n      yAxisLineColor: this.xyChart?.yAxisLineColor || this.primaryTextColor,\n      plotColorPalette: this.xyChart?.plotColorPalette || "#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"\n    };\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n    this.requirementBorderSize = this.requirementBorderSize || "1";\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n    this.relationColor = this.relationColor || this.lineColor;\n    this.relationLabelBackground = this.relationLabelBackground || (this.darkMode ? (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.secondaryColor, 30) : this.secondaryColor);\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n    this.git0 = this.git0 || this.primaryColor;\n    this.git1 = this.git1 || this.secondaryColor;\n    this.git2 = this.git2 || this.tertiaryColor;\n    this.git3 = this.git3 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -30 });\n    this.git4 = this.git4 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -60 });\n    this.git5 = this.git5 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -90 });\n    this.git6 = this.git6 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60 });\n    this.git7 = this.git7 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120 });\n    if (this.darkMode) {\n      this.git0 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git0, 25);\n      this.git1 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git1, 25);\n      this.git2 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git2, 25);\n      this.git3 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git3, 25);\n      this.git4 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git4, 25);\n      this.git5 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git5, 25);\n      this.git6 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git6, 25);\n      this.git7 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git7, 25);\n    } else {\n      this.git0 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git0, 25);\n      this.git1 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git1, 25);\n      this.git2 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git2, 25);\n      this.git3 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git3, 25);\n      this.git4 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git4, 25);\n      this.git5 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git5, 25);\n      this.git6 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git6, 25);\n      this.git7 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git7, 25);\n    }\n    this.gitInv0 = this.gitInv0 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git0);\n    this.gitInv1 = this.gitInv1 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git1);\n    this.gitInv2 = this.gitInv2 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git2);\n    this.gitInv3 = this.gitInv3 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git3);\n    this.gitInv4 = this.gitInv4 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git4);\n    this.gitInv5 = this.gitInv5 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git5);\n    this.gitInv6 = this.gitInv6 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git6);\n    this.gitInv7 = this.gitInv7 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git7);\n    this.branchLabelColor = this.branchLabelColor || (this.darkMode ? "black" : this.labelTextColor);\n    this.gitBranchLabel0 = this.gitBranchLabel0 || this.branchLabelColor;\n    this.gitBranchLabel1 = this.gitBranchLabel1 || this.branchLabelColor;\n    this.gitBranchLabel2 = this.gitBranchLabel2 || this.branchLabelColor;\n    this.gitBranchLabel3 = this.gitBranchLabel3 || this.branchLabelColor;\n    this.gitBranchLabel4 = this.gitBranchLabel4 || this.branchLabelColor;\n    this.gitBranchLabel5 = this.gitBranchLabel5 || this.branchLabelColor;\n    this.gitBranchLabel6 = this.gitBranchLabel6 || this.branchLabelColor;\n    this.gitBranchLabel7 = this.gitBranchLabel7 || this.branchLabelColor;\n    this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;\n    this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;\n    this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;\n    this.tagLabelFontSize = this.tagLabelFontSize || "10px";\n    this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;\n    this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;\n    this.commitLabelFontSize = this.commitLabelFontSize || "10px";\n    this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || oldAttributeBackgroundColorOdd;\n    this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || oldAttributeBackgroundColorEven;\n  }\n  calculate(overrides) {\n    if (typeof overrides !== "object") {\n      this.updateColors();\n      return;\n    }\n    const keys = Object.keys(overrides);\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n    this.updateColors();\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n  }\n};\nvar getThemeVariables = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((userOverrides) => {\n  const theme = new Theme();\n  theme.calculate(userOverrides);\n  return theme;\n}, "getThemeVariables");\n\n// src/themes/theme-dark.js\n\nvar Theme2 = class {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(this, "Theme");\n  }\n  constructor() {\n    this.background = "#333";\n    this.primaryColor = "#1f2020";\n    this.secondaryColor = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.primaryColor, 16);\n    this.tertiaryColor = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -160 });\n    this.primaryBorderColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.background);\n    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);\n    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);\n    this.primaryTextColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.primaryColor);\n    this.secondaryTextColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.secondaryColor);\n    this.tertiaryTextColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.tertiaryColor);\n    this.lineColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.background);\n    this.textColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.background);\n    this.mainBkg = "#1f2020";\n    this.secondBkg = "calculated";\n    this.mainContrastColor = "lightgrey";\n    this.darkTextColor = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])((0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])("#323D47"), 10);\n    this.lineColor = "calculated";\n    this.border1 = "#ccc";\n    this.border2 = (0,khroma__WEBPACK_IMPORTED_MODULE_6__["default"])(255, 255, 255, 0.25);\n    this.arrowheadColor = "calculated";\n    this.fontFamily = \'"trebuchet ms", verdana, arial, sans-serif\';\n    this.fontSize = "16px";\n    this.labelBackground = "#181818";\n    this.textColor = "#ccc";\n    this.THEME_COLOR_LIMIT = 12;\n    this.nodeBkg = "calculated";\n    this.nodeBorder = "calculated";\n    this.clusterBkg = "calculated";\n    this.clusterBorder = "calculated";\n    this.defaultLinkColor = "calculated";\n    this.titleColor = "#F9FFFE";\n    this.edgeLabelBackground = "calculated";\n    this.actorBorder = "calculated";\n    this.actorBkg = "calculated";\n    this.actorTextColor = "calculated";\n    this.actorLineColor = "calculated";\n    this.signalColor = "calculated";\n    this.signalTextColor = "calculated";\n    this.labelBoxBkgColor = "calculated";\n    this.labelBoxBorderColor = "calculated";\n    this.labelTextColor = "calculated";\n    this.loopTextColor = "calculated";\n    this.noteBorderColor = "calculated";\n    this.noteBkgColor = "#fff5ad";\n    this.noteTextColor = "calculated";\n    this.activationBorderColor = "calculated";\n    this.activationBkgColor = "calculated";\n    this.sequenceNumberColor = "black";\n    this.sectionBkgColor = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])("#EAE8D9", 30);\n    this.altSectionBkgColor = "calculated";\n    this.sectionBkgColor2 = "#EAE8D9";\n    this.excludeBkgColor = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.sectionBkgColor, 10);\n    this.taskBorderColor = (0,khroma__WEBPACK_IMPORTED_MODULE_6__["default"])(255, 255, 255, 70);\n    this.taskBkgColor = "calculated";\n    this.taskTextColor = "calculated";\n    this.taskTextLightColor = "calculated";\n    this.taskTextOutsideColor = "calculated";\n    this.taskTextClickableColor = "#003163";\n    this.activeTaskBorderColor = (0,khroma__WEBPACK_IMPORTED_MODULE_6__["default"])(255, 255, 255, 50);\n    this.activeTaskBkgColor = "#81B1DB";\n    this.gridColor = "calculated";\n    this.doneTaskBkgColor = "calculated";\n    this.doneTaskBorderColor = "grey";\n    this.critBorderColor = "#E83737";\n    this.critBkgColor = "#E83737";\n    this.taskTextDarkColor = "calculated";\n    this.todayLineColor = "#DB5757";\n    this.vertLineColor = "#00BFFF";\n    this.personBorder = this.primaryBorderColor;\n    this.personBkg = this.mainBkg;\n    this.archEdgeColor = "calculated";\n    this.archEdgeArrowColor = "calculated";\n    this.archEdgeWidth = "3";\n    this.archGroupBorderColor = this.primaryBorderColor;\n    this.archGroupBorderWidth = "2px";\n    this.rowOdd = this.rowOdd || (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.mainBkg, 5) || "#ffffff";\n    this.rowEven = this.rowEven || (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.mainBkg, 10);\n    this.labelColor = "calculated";\n    this.errorBkgColor = "#a44141";\n    this.errorTextColor = "#ddd";\n  }\n  updateColors() {\n    this.secondBkg = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.mainBkg, 16);\n    this.lineColor = this.mainContrastColor;\n    this.arrowheadColor = this.mainContrastColor;\n    this.nodeBkg = this.mainBkg;\n    this.nodeBorder = this.border1;\n    this.clusterBkg = this.secondBkg;\n    this.clusterBorder = this.border2;\n    this.defaultLinkColor = this.lineColor;\n    this.edgeLabelBackground = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.labelBackground, 25);\n    this.actorBorder = this.border1;\n    this.actorBkg = this.mainBkg;\n    this.actorTextColor = this.mainContrastColor;\n    this.actorLineColor = this.actorBorder;\n    this.signalColor = this.mainContrastColor;\n    this.signalTextColor = this.mainContrastColor;\n    this.labelBoxBkgColor = this.actorBkg;\n    this.labelBoxBorderColor = this.actorBorder;\n    this.labelTextColor = this.mainContrastColor;\n    this.loopTextColor = this.mainContrastColor;\n    this.noteBorderColor = this.secondaryBorderColor;\n    this.noteBkgColor = this.secondBkg;\n    this.noteTextColor = this.secondaryTextColor;\n    this.activationBorderColor = this.border1;\n    this.activationBkgColor = this.secondBkg;\n    this.altSectionBkgColor = this.background;\n    this.taskBkgColor = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.mainBkg, 23);\n    this.taskTextColor = this.darkTextColor;\n    this.taskTextLightColor = this.mainContrastColor;\n    this.taskTextOutsideColor = this.taskTextLightColor;\n    this.gridColor = this.mainContrastColor;\n    this.doneTaskBkgColor = this.mainContrastColor;\n    this.taskTextDarkColor = this.darkTextColor;\n    this.archEdgeColor = this.lineColor;\n    this.archEdgeArrowColor = this.lineColor;\n    this.transitionColor = this.transitionColor || this.lineColor;\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n    this.stateBkg = this.stateBkg || this.mainBkg;\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n    this.altBackground = this.altBackground || "#555";\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n    this.compositeBorder = this.compositeBorder || this.nodeBorder;\n    this.innerEndBackground = this.primaryBorderColor;\n    this.specialStateColor = "#f4f4f4";\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n    this.fillType0 = this.primaryColor;\n    this.fillType1 = this.secondaryColor;\n    this.fillType2 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 64 });\n    this.fillType3 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: 64 });\n    this.fillType4 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -64 });\n    this.fillType5 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: -64 });\n    this.fillType6 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 128 });\n    this.fillType7 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: 128 });\n    this.cScale1 = this.cScale1 || "#0b0000";\n    this.cScale2 = this.cScale2 || "#4d1037";\n    this.cScale3 = this.cScale3 || "#3f5258";\n    this.cScale4 = this.cScale4 || "#4f2f1b";\n    this.cScale5 = this.cScale5 || "#6e0a0a";\n    this.cScale6 = this.cScale6 || "#3b0048";\n    this.cScale7 = this.cScale7 || "#995a01";\n    this.cScale8 = this.cScale8 || "#154706";\n    this.cScale9 = this.cScale9 || "#161722";\n    this.cScale10 = this.cScale10 || "#00296f";\n    this.cScale11 = this.cScale11 || "#01629c";\n    this.cScale12 = this.cScale12 || "#010029";\n    this.cScale0 = this.cScale0 || this.primaryColor;\n    this.cScale1 = this.cScale1 || this.secondaryColor;\n    this.cScale2 = this.cScale2 || this.tertiaryColor;\n    this.cScale3 = this.cScale3 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 30 });\n    this.cScale4 = this.cScale4 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60 });\n    this.cScale5 = this.cScale5 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 90 });\n    this.cScale6 = this.cScale6 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120 });\n    this.cScale7 = this.cScale7 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 150 });\n    this.cScale8 = this.cScale8 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 210 });\n    this.cScale9 = this.cScale9 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 270 });\n    this.cScale10 = this.cScale10 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 300 });\n    this.cScale11 = this.cScale11 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 330 });\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      this["cScaleInv" + i] = this["cScaleInv" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this["cScale" + i]);\n    }\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      this["cScalePeer" + i] = this["cScalePeer" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this["cScale" + i], 10);\n    }\n    for (let i = 0; i < 5; i++) {\n      this["surface" + i] = this["surface" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.mainBkg, { h: 30, s: -30, l: -(-10 + i * 4) });\n      this["surfacePeer" + i] = this["surfacePeer" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.mainBkg, { h: 30, s: -30, l: -(-7 + i * 4) });\n    }\n    this.scaleLabelColor = this.scaleLabelColor || (this.darkMode ? "black" : this.labelTextColor);\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      this["cScaleLabel" + i] = this["cScaleLabel" + i] || this.scaleLabelColor;\n    }\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      this["pie" + i] = this["cScale" + i];\n    }\n    this.pieTitleTextSize = this.pieTitleTextSize || "25px";\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n    this.pieSectionTextSize = this.pieSectionTextSize || "17px";\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n    this.pieLegendTextSize = this.pieLegendTextSize || "17px";\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n    this.pieStrokeColor = this.pieStrokeColor || "black";\n    this.pieStrokeWidth = this.pieStrokeWidth || "2px";\n    this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px";\n    this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black";\n    this.pieOpacity = this.pieOpacity || "0.7";\n    this.quadrant1Fill = this.quadrant1Fill || this.primaryColor;\n    this.quadrant2Fill = this.quadrant2Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 5, g: 5, b: 5 });\n    this.quadrant3Fill = this.quadrant3Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 10, g: 10, b: 10 });\n    this.quadrant4Fill = this.quadrant4Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 15, g: 15, b: 15 });\n    this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor;\n    this.quadrant2TextFill = this.quadrant2TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -5, g: -5, b: -5 });\n    this.quadrant3TextFill = this.quadrant3TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -10, g: -10, b: -10 });\n    this.quadrant4TextFill = this.quadrant4TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -15, g: -15, b: -15 });\n    this.quadrantPointFill = this.quadrantPointFill || (0,khroma__WEBPACK_IMPORTED_MODULE_1__["default"])(this.quadrant1Fill) ? (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.quadrant1Fill) : (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.quadrant1Fill);\n    this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor;\n    this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor;\n    this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor;\n    this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor;\n    this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor;\n    this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor;\n    this.xyChart = {\n      backgroundColor: this.xyChart?.backgroundColor || this.background,\n      titleColor: this.xyChart?.titleColor || this.primaryTextColor,\n      xAxisTitleColor: this.xyChart?.xAxisTitleColor || this.primaryTextColor,\n      xAxisLabelColor: this.xyChart?.xAxisLabelColor || this.primaryTextColor,\n      xAxisTickColor: this.xyChart?.xAxisTickColor || this.primaryTextColor,\n      xAxisLineColor: this.xyChart?.xAxisLineColor || this.primaryTextColor,\n      yAxisTitleColor: this.xyChart?.yAxisTitleColor || this.primaryTextColor,\n      yAxisLabelColor: this.xyChart?.yAxisLabelColor || this.primaryTextColor,\n      yAxisTickColor: this.xyChart?.yAxisTickColor || this.primaryTextColor,\n      yAxisLineColor: this.xyChart?.yAxisLineColor || this.primaryTextColor,\n      plotColorPalette: this.xyChart?.plotColorPalette || "#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"\n    };\n    this.packet = {\n      startByteColor: this.primaryTextColor,\n      endByteColor: this.primaryTextColor,\n      labelColor: this.primaryTextColor,\n      titleColor: this.primaryTextColor,\n      blockStrokeColor: this.primaryTextColor,\n      blockFillColor: this.background\n    };\n    this.radar = {\n      axisColor: this.radar?.axisColor || this.lineColor,\n      axisStrokeWidth: this.radar?.axisStrokeWidth || 2,\n      axisLabelFontSize: this.radar?.axisLabelFontSize || 12,\n      curveOpacity: this.radar?.curveOpacity || 0.5,\n      curveStrokeWidth: this.radar?.curveStrokeWidth || 2,\n      graticuleColor: this.radar?.graticuleColor || "#DEDEDE",\n      graticuleStrokeWidth: this.radar?.graticuleStrokeWidth || 1,\n      graticuleOpacity: this.radar?.graticuleOpacity || 0.3,\n      legendBoxSize: this.radar?.legendBoxSize || 12,\n      legendFontSize: this.radar?.legendFontSize || 12\n    };\n    this.classText = this.primaryTextColor;\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n    this.requirementBorderSize = this.requirementBorderSize || "1";\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n    this.relationColor = this.relationColor || this.lineColor;\n    this.relationLabelBackground = this.relationLabelBackground || (this.darkMode ? (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.secondaryColor, 30) : this.secondaryColor);\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n    this.git0 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.secondaryColor, 20);\n    this.git1 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.pie2 || this.secondaryColor, 20);\n    this.git2 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.pie3 || this.tertiaryColor, 20);\n    this.git3 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.pie4 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -30 }), 20);\n    this.git4 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.pie5 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -60 }), 20);\n    this.git5 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.pie6 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -90 }), 10);\n    this.git6 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.pie7 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60 }), 10);\n    this.git7 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.pie8 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120 }), 20);\n    this.gitInv0 = this.gitInv0 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git0);\n    this.gitInv1 = this.gitInv1 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git1);\n    this.gitInv2 = this.gitInv2 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git2);\n    this.gitInv3 = this.gitInv3 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git3);\n    this.gitInv4 = this.gitInv4 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git4);\n    this.gitInv5 = this.gitInv5 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git5);\n    this.gitInv6 = this.gitInv6 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git6);\n    this.gitInv7 = this.gitInv7 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git7);\n    this.gitBranchLabel0 = this.gitBranchLabel0 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.labelTextColor);\n    this.gitBranchLabel1 = this.gitBranchLabel1 || this.labelTextColor;\n    this.gitBranchLabel2 = this.gitBranchLabel2 || this.labelTextColor;\n    this.gitBranchLabel3 = this.gitBranchLabel3 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.labelTextColor);\n    this.gitBranchLabel4 = this.gitBranchLabel4 || this.labelTextColor;\n    this.gitBranchLabel5 = this.gitBranchLabel5 || this.labelTextColor;\n    this.gitBranchLabel6 = this.gitBranchLabel6 || this.labelTextColor;\n    this.gitBranchLabel7 = this.gitBranchLabel7 || this.labelTextColor;\n    this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;\n    this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;\n    this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;\n    this.tagLabelFontSize = this.tagLabelFontSize || "10px";\n    this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;\n    this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;\n    this.commitLabelFontSize = this.commitLabelFontSize || "10px";\n    this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.background, 12);\n    this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.background, 2);\n    this.nodeBorder = this.nodeBorder || "#999";\n  }\n  calculate(overrides) {\n    if (typeof overrides !== "object") {\n      this.updateColors();\n      return;\n    }\n    const keys = Object.keys(overrides);\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n    this.updateColors();\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n  }\n};\nvar getThemeVariables2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((userOverrides) => {\n  const theme = new Theme2();\n  theme.calculate(userOverrides);\n  return theme;\n}, "getThemeVariables");\n\n// src/themes/theme-default.js\n\nvar Theme3 = class {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(this, "Theme");\n  }\n  constructor() {\n    this.background = "#f4f4f4";\n    this.primaryColor = "#ECECFF";\n    this.secondaryColor = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120 });\n    this.secondaryColor = "#ffffde";\n    this.tertiaryColor = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -160 });\n    this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);\n    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);\n    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);\n    this.primaryTextColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.primaryColor);\n    this.secondaryTextColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.secondaryColor);\n    this.tertiaryTextColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.tertiaryColor);\n    this.lineColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.background);\n    this.textColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.background);\n    this.background = "white";\n    this.mainBkg = "#ECECFF";\n    this.secondBkg = "#ffffde";\n    this.lineColor = "#333333";\n    this.border1 = "#9370DB";\n    this.border2 = "#aaaa33";\n    this.arrowheadColor = "#333333";\n    this.fontFamily = \'"trebuchet ms", verdana, arial, sans-serif\';\n    this.fontSize = "16px";\n    this.labelBackground = "rgba(232,232,232, 0.8)";\n    this.textColor = "#333";\n    this.THEME_COLOR_LIMIT = 12;\n    this.nodeBkg = "calculated";\n    this.nodeBorder = "calculated";\n    this.clusterBkg = "calculated";\n    this.clusterBorder = "calculated";\n    this.defaultLinkColor = "calculated";\n    this.titleColor = "calculated";\n    this.edgeLabelBackground = "calculated";\n    this.actorBorder = "calculated";\n    this.actorBkg = "calculated";\n    this.actorTextColor = "black";\n    this.actorLineColor = "calculated";\n    this.signalColor = "calculated";\n    this.signalTextColor = "calculated";\n    this.labelBoxBkgColor = "calculated";\n    this.labelBoxBorderColor = "calculated";\n    this.labelTextColor = "calculated";\n    this.loopTextColor = "calculated";\n    this.noteBorderColor = "calculated";\n    this.noteBkgColor = "#fff5ad";\n    this.noteTextColor = "calculated";\n    this.activationBorderColor = "#666";\n    this.activationBkgColor = "#f4f4f4";\n    this.sequenceNumberColor = "white";\n    this.sectionBkgColor = "calculated";\n    this.altSectionBkgColor = "calculated";\n    this.sectionBkgColor2 = "calculated";\n    this.excludeBkgColor = "#eeeeee";\n    this.taskBorderColor = "calculated";\n    this.taskBkgColor = "calculated";\n    this.taskTextLightColor = "calculated";\n    this.taskTextColor = this.taskTextLightColor;\n    this.taskTextDarkColor = "calculated";\n    this.taskTextOutsideColor = this.taskTextDarkColor;\n    this.taskTextClickableColor = "calculated";\n    this.activeTaskBorderColor = "calculated";\n    this.activeTaskBkgColor = "calculated";\n    this.gridColor = "calculated";\n    this.doneTaskBkgColor = "calculated";\n    this.doneTaskBorderColor = "calculated";\n    this.critBorderColor = "calculated";\n    this.critBkgColor = "calculated";\n    this.todayLineColor = "calculated";\n    this.vertLineColor = "calculated";\n    this.sectionBkgColor = (0,khroma__WEBPACK_IMPORTED_MODULE_6__["default"])(102, 102, 255, 0.49);\n    this.altSectionBkgColor = "white";\n    this.sectionBkgColor2 = "#fff400";\n    this.taskBorderColor = "#534fbc";\n    this.taskBkgColor = "#8a90dd";\n    this.taskTextLightColor = "white";\n    this.taskTextColor = "calculated";\n    this.taskTextDarkColor = "black";\n    this.taskTextOutsideColor = "calculated";\n    this.taskTextClickableColor = "#003163";\n    this.activeTaskBorderColor = "#534fbc";\n    this.activeTaskBkgColor = "#bfc7ff";\n    this.gridColor = "lightgrey";\n    this.doneTaskBkgColor = "lightgrey";\n    this.doneTaskBorderColor = "grey";\n    this.critBorderColor = "#ff8888";\n    this.critBkgColor = "red";\n    this.todayLineColor = "red";\n    this.vertLineColor = "navy";\n    this.personBorder = this.primaryBorderColor;\n    this.personBkg = this.mainBkg;\n    this.archEdgeColor = "calculated";\n    this.archEdgeArrowColor = "calculated";\n    this.archEdgeWidth = "3";\n    this.archGroupBorderColor = this.primaryBorderColor;\n    this.archGroupBorderWidth = "2px";\n    this.rowOdd = "calculated";\n    this.rowEven = "calculated";\n    this.labelColor = "black";\n    this.errorBkgColor = "#552222";\n    this.errorTextColor = "#552222";\n    this.updateColors();\n  }\n  updateColors() {\n    this.cScale0 = this.cScale0 || this.primaryColor;\n    this.cScale1 = this.cScale1 || this.secondaryColor;\n    this.cScale2 = this.cScale2 || this.tertiaryColor;\n    this.cScale3 = this.cScale3 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 30 });\n    this.cScale4 = this.cScale4 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60 });\n    this.cScale5 = this.cScale5 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 90 });\n    this.cScale6 = this.cScale6 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120 });\n    this.cScale7 = this.cScale7 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 150 });\n    this.cScale8 = this.cScale8 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 210 });\n    this.cScale9 = this.cScale9 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 270 });\n    this.cScale10 = this.cScale10 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 300 });\n    this.cScale11 = this.cScale11 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 330 });\n    this["cScalePeer1"] = this["cScalePeer1"] || (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.secondaryColor, 45);\n    this["cScalePeer2"] = this["cScalePeer2"] || (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.tertiaryColor, 40);\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      this["cScale" + i] = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this["cScale" + i], 10);\n      this["cScalePeer" + i] = this["cScalePeer" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this["cScale" + i], 25);\n    }\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      this["cScaleInv" + i] = this["cScaleInv" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this["cScale" + i], { h: 180 });\n    }\n    for (let i = 0; i < 5; i++) {\n      this["surface" + i] = this["surface" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.mainBkg, { h: 30, l: -(5 + i * 5) });\n      this["surfacePeer" + i] = this["surfacePeer" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.mainBkg, { h: 30, l: -(7 + i * 5) });\n    }\n    this.scaleLabelColor = this.scaleLabelColor !== "calculated" && this.scaleLabelColor ? this.scaleLabelColor : this.labelTextColor;\n    if (this.labelTextColor !== "calculated") {\n      this.cScaleLabel0 = this.cScaleLabel0 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.labelTextColor);\n      this.cScaleLabel3 = this.cScaleLabel3 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.labelTextColor);\n      for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n        this["cScaleLabel" + i] = this["cScaleLabel" + i] || this.labelTextColor;\n      }\n    }\n    this.nodeBkg = this.mainBkg;\n    this.nodeBorder = this.border1;\n    this.clusterBkg = this.secondBkg;\n    this.clusterBorder = this.border2;\n    this.defaultLinkColor = this.lineColor;\n    this.titleColor = this.textColor;\n    this.edgeLabelBackground = this.labelBackground;\n    this.actorBorder = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.border1, 23);\n    this.actorBkg = this.mainBkg;\n    this.labelBoxBkgColor = this.actorBkg;\n    this.signalColor = this.textColor;\n    this.signalTextColor = this.textColor;\n    this.labelBoxBorderColor = this.actorBorder;\n    this.labelTextColor = this.actorTextColor;\n    this.loopTextColor = this.actorTextColor;\n    this.noteBorderColor = this.border2;\n    this.noteTextColor = this.actorTextColor;\n    this.actorLineColor = this.actorBorder;\n    this.taskTextColor = this.taskTextLightColor;\n    this.taskTextOutsideColor = this.taskTextDarkColor;\n    this.archEdgeColor = this.lineColor;\n    this.archEdgeArrowColor = this.lineColor;\n    this.rowOdd = this.rowOdd || (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.primaryColor, 75) || "#ffffff";\n    this.rowEven = this.rowEven || (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.primaryColor, 1);\n    this.transitionColor = this.transitionColor || this.lineColor;\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n    this.stateBkg = this.stateBkg || this.mainBkg;\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n    this.altBackground = this.altBackground || "#f0f0f0";\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n    this.compositeBorder = this.compositeBorder || this.nodeBorder;\n    this.innerEndBackground = this.nodeBorder;\n    this.specialStateColor = this.lineColor;\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n    this.transitionColor = this.transitionColor || this.lineColor;\n    this.classText = this.primaryTextColor;\n    this.fillType0 = this.primaryColor;\n    this.fillType1 = this.secondaryColor;\n    this.fillType2 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 64 });\n    this.fillType3 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: 64 });\n    this.fillType4 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -64 });\n    this.fillType5 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: -64 });\n    this.fillType6 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 128 });\n    this.fillType7 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: 128 });\n    this.pie1 = this.pie1 || this.primaryColor;\n    this.pie2 = this.pie2 || this.secondaryColor;\n    this.pie3 = this.pie3 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.tertiaryColor, { l: -40 });\n    this.pie4 = this.pie4 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { l: -10 });\n    this.pie5 = this.pie5 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { l: -30 });\n    this.pie6 = this.pie6 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.tertiaryColor, { l: -20 });\n    this.pie7 = this.pie7 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60, l: -20 });\n    this.pie8 = this.pie8 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -60, l: -40 });\n    this.pie9 = this.pie9 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120, l: -40 });\n    this.pie10 = this.pie10 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60, l: -40 });\n    this.pie11 = this.pie11 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -90, l: -40 });\n    this.pie12 = this.pie12 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120, l: -30 });\n    this.pieTitleTextSize = this.pieTitleTextSize || "25px";\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n    this.pieSectionTextSize = this.pieSectionTextSize || "17px";\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n    this.pieLegendTextSize = this.pieLegendTextSize || "17px";\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n    this.pieStrokeColor = this.pieStrokeColor || "black";\n    this.pieStrokeWidth = this.pieStrokeWidth || "2px";\n    this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px";\n    this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black";\n    this.pieOpacity = this.pieOpacity || "0.7";\n    this.quadrant1Fill = this.quadrant1Fill || this.primaryColor;\n    this.quadrant2Fill = this.quadrant2Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 5, g: 5, b: 5 });\n    this.quadrant3Fill = this.quadrant3Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 10, g: 10, b: 10 });\n    this.quadrant4Fill = this.quadrant4Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 15, g: 15, b: 15 });\n    this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor;\n    this.quadrant2TextFill = this.quadrant2TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -5, g: -5, b: -5 });\n    this.quadrant3TextFill = this.quadrant3TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -10, g: -10, b: -10 });\n    this.quadrant4TextFill = this.quadrant4TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -15, g: -15, b: -15 });\n    this.quadrantPointFill = this.quadrantPointFill || (0,khroma__WEBPACK_IMPORTED_MODULE_1__["default"])(this.quadrant1Fill) ? (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.quadrant1Fill) : (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.quadrant1Fill);\n    this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor;\n    this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor;\n    this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor;\n    this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor;\n    this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor;\n    this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor;\n    this.radar = {\n      axisColor: this.radar?.axisColor || this.lineColor,\n      axisStrokeWidth: this.radar?.axisStrokeWidth || 2,\n      axisLabelFontSize: this.radar?.axisLabelFontSize || 12,\n      curveOpacity: this.radar?.curveOpacity || 0.5,\n      curveStrokeWidth: this.radar?.curveStrokeWidth || 2,\n      graticuleColor: this.radar?.graticuleColor || "#DEDEDE",\n      graticuleStrokeWidth: this.radar?.graticuleStrokeWidth || 1,\n      graticuleOpacity: this.radar?.graticuleOpacity || 0.3,\n      legendBoxSize: this.radar?.legendBoxSize || 12,\n      legendFontSize: this.radar?.legendFontSize || 12\n    };\n    this.xyChart = {\n      backgroundColor: this.xyChart?.backgroundColor || this.background,\n      titleColor: this.xyChart?.titleColor || this.primaryTextColor,\n      xAxisTitleColor: this.xyChart?.xAxisTitleColor || this.primaryTextColor,\n      xAxisLabelColor: this.xyChart?.xAxisLabelColor || this.primaryTextColor,\n      xAxisTickColor: this.xyChart?.xAxisTickColor || this.primaryTextColor,\n      xAxisLineColor: this.xyChart?.xAxisLineColor || this.primaryTextColor,\n      yAxisTitleColor: this.xyChart?.yAxisTitleColor || this.primaryTextColor,\n      yAxisLabelColor: this.xyChart?.yAxisLabelColor || this.primaryTextColor,\n      yAxisTickColor: this.xyChart?.yAxisTickColor || this.primaryTextColor,\n      yAxisLineColor: this.xyChart?.yAxisLineColor || this.primaryTextColor,\n      plotColorPalette: this.xyChart?.plotColorPalette || "#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"\n    };\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n    this.requirementBorderSize = this.requirementBorderSize || "1";\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n    this.relationColor = this.relationColor || this.lineColor;\n    this.relationLabelBackground = this.relationLabelBackground || this.labelBackground;\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n    this.git0 = this.git0 || this.primaryColor;\n    this.git1 = this.git1 || this.secondaryColor;\n    this.git2 = this.git2 || this.tertiaryColor;\n    this.git3 = this.git3 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -30 });\n    this.git4 = this.git4 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -60 });\n    this.git5 = this.git5 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -90 });\n    this.git6 = this.git6 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60 });\n    this.git7 = this.git7 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120 });\n    if (this.darkMode) {\n      this.git0 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git0, 25);\n      this.git1 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git1, 25);\n      this.git2 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git2, 25);\n      this.git3 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git3, 25);\n      this.git4 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git4, 25);\n      this.git5 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git5, 25);\n      this.git6 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git6, 25);\n      this.git7 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git7, 25);\n    } else {\n      this.git0 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git0, 25);\n      this.git1 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git1, 25);\n      this.git2 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git2, 25);\n      this.git3 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git3, 25);\n      this.git4 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git4, 25);\n      this.git5 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git5, 25);\n      this.git6 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git6, 25);\n      this.git7 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git7, 25);\n    }\n    this.gitInv0 = this.gitInv0 || (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])((0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git0), 25);\n    this.gitInv1 = this.gitInv1 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git1);\n    this.gitInv2 = this.gitInv2 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git2);\n    this.gitInv3 = this.gitInv3 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git3);\n    this.gitInv4 = this.gitInv4 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git4);\n    this.gitInv5 = this.gitInv5 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git5);\n    this.gitInv6 = this.gitInv6 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git6);\n    this.gitInv7 = this.gitInv7 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git7);\n    this.gitBranchLabel0 = this.gitBranchLabel0 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.labelTextColor);\n    this.gitBranchLabel1 = this.gitBranchLabel1 || this.labelTextColor;\n    this.gitBranchLabel2 = this.gitBranchLabel2 || this.labelTextColor;\n    this.gitBranchLabel3 = this.gitBranchLabel3 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.labelTextColor);\n    this.gitBranchLabel4 = this.gitBranchLabel4 || this.labelTextColor;\n    this.gitBranchLabel5 = this.gitBranchLabel5 || this.labelTextColor;\n    this.gitBranchLabel6 = this.gitBranchLabel6 || this.labelTextColor;\n    this.gitBranchLabel7 = this.gitBranchLabel7 || this.labelTextColor;\n    this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;\n    this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;\n    this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;\n    this.tagLabelFontSize = this.tagLabelFontSize || "10px";\n    this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;\n    this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;\n    this.commitLabelFontSize = this.commitLabelFontSize || "10px";\n    this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || oldAttributeBackgroundColorOdd;\n    this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || oldAttributeBackgroundColorEven;\n  }\n  calculate(overrides) {\n    Object.keys(this).forEach((k) => {\n      if (this[k] === "calculated") {\n        this[k] = void 0;\n      }\n    });\n    if (typeof overrides !== "object") {\n      this.updateColors();\n      return;\n    }\n    const keys = Object.keys(overrides);\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n    this.updateColors();\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n  }\n};\nvar getThemeVariables3 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((userOverrides) => {\n  const theme = new Theme3();\n  theme.calculate(userOverrides);\n  return theme;\n}, "getThemeVariables");\n\n// src/themes/theme-forest.js\n\nvar Theme4 = class {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(this, "Theme");\n  }\n  constructor() {\n    this.background = "#f4f4f4";\n    this.primaryColor = "#cde498";\n    this.secondaryColor = "#cdffb2";\n    this.background = "white";\n    this.mainBkg = "#cde498";\n    this.secondBkg = "#cdffb2";\n    this.lineColor = "green";\n    this.border1 = "#13540c";\n    this.border2 = "#6eaa49";\n    this.arrowheadColor = "green";\n    this.fontFamily = \'"trebuchet ms", verdana, arial, sans-serif\';\n    this.fontSize = "16px";\n    this.tertiaryColor = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])("#cde498", 10);\n    this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);\n    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);\n    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);\n    this.primaryTextColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.primaryColor);\n    this.secondaryTextColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.secondaryColor);\n    this.tertiaryTextColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.primaryColor);\n    this.lineColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.background);\n    this.textColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.background);\n    this.THEME_COLOR_LIMIT = 12;\n    this.nodeBkg = "calculated";\n    this.nodeBorder = "calculated";\n    this.clusterBkg = "calculated";\n    this.clusterBorder = "calculated";\n    this.defaultLinkColor = "calculated";\n    this.titleColor = "#333";\n    this.edgeLabelBackground = "#e8e8e8";\n    this.actorBorder = "calculated";\n    this.actorBkg = "calculated";\n    this.actorTextColor = "black";\n    this.actorLineColor = "calculated";\n    this.signalColor = "#333";\n    this.signalTextColor = "#333";\n    this.labelBoxBkgColor = "calculated";\n    this.labelBoxBorderColor = "#326932";\n    this.labelTextColor = "calculated";\n    this.loopTextColor = "calculated";\n    this.noteBorderColor = "calculated";\n    this.noteBkgColor = "#fff5ad";\n    this.noteTextColor = "calculated";\n    this.activationBorderColor = "#666";\n    this.activationBkgColor = "#f4f4f4";\n    this.sequenceNumberColor = "white";\n    this.sectionBkgColor = "#6eaa49";\n    this.altSectionBkgColor = "white";\n    this.sectionBkgColor2 = "#6eaa49";\n    this.excludeBkgColor = "#eeeeee";\n    this.taskBorderColor = "calculated";\n    this.taskBkgColor = "#487e3a";\n    this.taskTextLightColor = "white";\n    this.taskTextColor = "calculated";\n    this.taskTextDarkColor = "black";\n    this.taskTextOutsideColor = "calculated";\n    this.taskTextClickableColor = "#003163";\n    this.activeTaskBorderColor = "calculated";\n    this.activeTaskBkgColor = "calculated";\n    this.gridColor = "lightgrey";\n    this.doneTaskBkgColor = "lightgrey";\n    this.doneTaskBorderColor = "grey";\n    this.critBorderColor = "#ff8888";\n    this.critBkgColor = "red";\n    this.todayLineColor = "red";\n    this.vertLineColor = "#00BFFF";\n    this.personBorder = this.primaryBorderColor;\n    this.personBkg = this.mainBkg;\n    this.archEdgeColor = "calculated";\n    this.archEdgeArrowColor = "calculated";\n    this.archEdgeWidth = "3";\n    this.archGroupBorderColor = this.primaryBorderColor;\n    this.archGroupBorderWidth = "2px";\n    this.labelColor = "black";\n    this.errorBkgColor = "#552222";\n    this.errorTextColor = "#552222";\n  }\n  updateColors() {\n    this.actorBorder = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.mainBkg, 20);\n    this.actorBkg = this.mainBkg;\n    this.labelBoxBkgColor = this.actorBkg;\n    this.labelTextColor = this.actorTextColor;\n    this.loopTextColor = this.actorTextColor;\n    this.noteBorderColor = this.border2;\n    this.noteTextColor = this.actorTextColor;\n    this.actorLineColor = this.actorBorder;\n    this.cScale0 = this.cScale0 || this.primaryColor;\n    this.cScale1 = this.cScale1 || this.secondaryColor;\n    this.cScale2 = this.cScale2 || this.tertiaryColor;\n    this.cScale3 = this.cScale3 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 30 });\n    this.cScale4 = this.cScale4 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60 });\n    this.cScale5 = this.cScale5 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 90 });\n    this.cScale6 = this.cScale6 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120 });\n    this.cScale7 = this.cScale7 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 150 });\n    this.cScale8 = this.cScale8 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 210 });\n    this.cScale9 = this.cScale9 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 270 });\n    this.cScale10 = this.cScale10 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 300 });\n    this.cScale11 = this.cScale11 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 330 });\n    this["cScalePeer1"] = this["cScalePeer1"] || (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.secondaryColor, 45);\n    this["cScalePeer2"] = this["cScalePeer2"] || (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.tertiaryColor, 40);\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      this["cScale" + i] = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this["cScale" + i], 10);\n      this["cScalePeer" + i] = this["cScalePeer" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this["cScale" + i], 25);\n    }\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      this["cScaleInv" + i] = this["cScaleInv" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this["cScale" + i], { h: 180 });\n    }\n    this.scaleLabelColor = this.scaleLabelColor !== "calculated" && this.scaleLabelColor ? this.scaleLabelColor : this.labelTextColor;\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      this["cScaleLabel" + i] = this["cScaleLabel" + i] || this.scaleLabelColor;\n    }\n    for (let i = 0; i < 5; i++) {\n      this["surface" + i] = this["surface" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.mainBkg, { h: 30, s: -30, l: -(5 + i * 5) });\n      this["surfacePeer" + i] = this["surfacePeer" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.mainBkg, { h: 30, s: -30, l: -(8 + i * 5) });\n    }\n    this.nodeBkg = this.mainBkg;\n    this.nodeBorder = this.border1;\n    this.clusterBkg = this.secondBkg;\n    this.clusterBorder = this.border2;\n    this.defaultLinkColor = this.lineColor;\n    this.taskBorderColor = this.border1;\n    this.taskTextColor = this.taskTextLightColor;\n    this.taskTextOutsideColor = this.taskTextDarkColor;\n    this.activeTaskBorderColor = this.taskBorderColor;\n    this.activeTaskBkgColor = this.mainBkg;\n    this.archEdgeColor = this.lineColor;\n    this.archEdgeArrowColor = this.lineColor;\n    this.rowOdd = this.rowOdd || (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.mainBkg, 75) || "#ffffff";\n    this.rowEven = this.rowEven || (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.mainBkg, 20);\n    this.transitionColor = this.transitionColor || this.lineColor;\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n    this.stateBkg = this.stateBkg || this.mainBkg;\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n    this.altBackground = this.altBackground || "#f0f0f0";\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n    this.compositeBorder = this.compositeBorder || this.nodeBorder;\n    this.innerEndBackground = this.primaryBorderColor;\n    this.specialStateColor = this.lineColor;\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n    this.transitionColor = this.transitionColor || this.lineColor;\n    this.classText = this.primaryTextColor;\n    this.fillType0 = this.primaryColor;\n    this.fillType1 = this.secondaryColor;\n    this.fillType2 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 64 });\n    this.fillType3 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: 64 });\n    this.fillType4 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -64 });\n    this.fillType5 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: -64 });\n    this.fillType6 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 128 });\n    this.fillType7 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: 128 });\n    this.pie1 = this.pie1 || this.primaryColor;\n    this.pie2 = this.pie2 || this.secondaryColor;\n    this.pie3 = this.pie3 || this.tertiaryColor;\n    this.pie4 = this.pie4 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { l: -30 });\n    this.pie5 = this.pie5 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { l: -30 });\n    this.pie6 = this.pie6 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.tertiaryColor, { h: 40, l: -40 });\n    this.pie7 = this.pie7 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60, l: -10 });\n    this.pie8 = this.pie8 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -60, l: -10 });\n    this.pie9 = this.pie9 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120, l: 0 });\n    this.pie10 = this.pie10 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60, l: -50 });\n    this.pie11 = this.pie11 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -60, l: -50 });\n    this.pie12 = this.pie12 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120, l: -50 });\n    this.pieTitleTextSize = this.pieTitleTextSize || "25px";\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n    this.pieSectionTextSize = this.pieSectionTextSize || "17px";\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n    this.pieLegendTextSize = this.pieLegendTextSize || "17px";\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n    this.pieStrokeColor = this.pieStrokeColor || "black";\n    this.pieStrokeWidth = this.pieStrokeWidth || "2px";\n    this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px";\n    this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black";\n    this.pieOpacity = this.pieOpacity || "0.7";\n    this.quadrant1Fill = this.quadrant1Fill || this.primaryColor;\n    this.quadrant2Fill = this.quadrant2Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 5, g: 5, b: 5 });\n    this.quadrant3Fill = this.quadrant3Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 10, g: 10, b: 10 });\n    this.quadrant4Fill = this.quadrant4Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 15, g: 15, b: 15 });\n    this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor;\n    this.quadrant2TextFill = this.quadrant2TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -5, g: -5, b: -5 });\n    this.quadrant3TextFill = this.quadrant3TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -10, g: -10, b: -10 });\n    this.quadrant4TextFill = this.quadrant4TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -15, g: -15, b: -15 });\n    this.quadrantPointFill = this.quadrantPointFill || (0,khroma__WEBPACK_IMPORTED_MODULE_1__["default"])(this.quadrant1Fill) ? (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.quadrant1Fill) : (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.quadrant1Fill);\n    this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor;\n    this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor;\n    this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor;\n    this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor;\n    this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor;\n    this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor;\n    this.packet = {\n      startByteColor: this.primaryTextColor,\n      endByteColor: this.primaryTextColor,\n      labelColor: this.primaryTextColor,\n      titleColor: this.primaryTextColor,\n      blockStrokeColor: this.primaryTextColor,\n      blockFillColor: this.mainBkg\n    };\n    this.radar = {\n      axisColor: this.radar?.axisColor || this.lineColor,\n      axisStrokeWidth: this.radar?.axisStrokeWidth || 2,\n      axisLabelFontSize: this.radar?.axisLabelFontSize || 12,\n      curveOpacity: this.radar?.curveOpacity || 0.5,\n      curveStrokeWidth: this.radar?.curveStrokeWidth || 2,\n      graticuleColor: this.radar?.graticuleColor || "#DEDEDE",\n      graticuleStrokeWidth: this.radar?.graticuleStrokeWidth || 1,\n      graticuleOpacity: this.radar?.graticuleOpacity || 0.3,\n      legendBoxSize: this.radar?.legendBoxSize || 12,\n      legendFontSize: this.radar?.legendFontSize || 12\n    };\n    this.xyChart = {\n      backgroundColor: this.xyChart?.backgroundColor || this.background,\n      titleColor: this.xyChart?.titleColor || this.primaryTextColor,\n      xAxisTitleColor: this.xyChart?.xAxisTitleColor || this.primaryTextColor,\n      xAxisLabelColor: this.xyChart?.xAxisLabelColor || this.primaryTextColor,\n      xAxisTickColor: this.xyChart?.xAxisTickColor || this.primaryTextColor,\n      xAxisLineColor: this.xyChart?.xAxisLineColor || this.primaryTextColor,\n      yAxisTitleColor: this.xyChart?.yAxisTitleColor || this.primaryTextColor,\n      yAxisLabelColor: this.xyChart?.yAxisLabelColor || this.primaryTextColor,\n      yAxisTickColor: this.xyChart?.yAxisTickColor || this.primaryTextColor,\n      yAxisLineColor: this.xyChart?.yAxisLineColor || this.primaryTextColor,\n      plotColorPalette: this.xyChart?.plotColorPalette || "#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"\n    };\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n    this.requirementBorderSize = this.requirementBorderSize || "1";\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n    this.relationColor = this.relationColor || this.lineColor;\n    this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground;\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n    this.git0 = this.git0 || this.primaryColor;\n    this.git1 = this.git1 || this.secondaryColor;\n    this.git2 = this.git2 || this.tertiaryColor;\n    this.git3 = this.git3 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -30 });\n    this.git4 = this.git4 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -60 });\n    this.git5 = this.git5 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -90 });\n    this.git6 = this.git6 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60 });\n    this.git7 = this.git7 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120 });\n    if (this.darkMode) {\n      this.git0 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git0, 25);\n      this.git1 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git1, 25);\n      this.git2 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git2, 25);\n      this.git3 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git3, 25);\n      this.git4 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git4, 25);\n      this.git5 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git5, 25);\n      this.git6 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git6, 25);\n      this.git7 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.git7, 25);\n    } else {\n      this.git0 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git0, 25);\n      this.git1 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git1, 25);\n      this.git2 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git2, 25);\n      this.git3 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git3, 25);\n      this.git4 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git4, 25);\n      this.git5 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git5, 25);\n      this.git6 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git6, 25);\n      this.git7 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.git7, 25);\n    }\n    this.gitInv0 = this.gitInv0 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git0);\n    this.gitInv1 = this.gitInv1 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git1);\n    this.gitInv2 = this.gitInv2 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git2);\n    this.gitInv3 = this.gitInv3 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git3);\n    this.gitInv4 = this.gitInv4 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git4);\n    this.gitInv5 = this.gitInv5 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git5);\n    this.gitInv6 = this.gitInv6 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git6);\n    this.gitInv7 = this.gitInv7 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git7);\n    this.gitBranchLabel0 = this.gitBranchLabel0 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.labelTextColor);\n    this.gitBranchLabel1 = this.gitBranchLabel1 || this.labelTextColor;\n    this.gitBranchLabel2 = this.gitBranchLabel2 || this.labelTextColor;\n    this.gitBranchLabel3 = this.gitBranchLabel3 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.labelTextColor);\n    this.gitBranchLabel4 = this.gitBranchLabel4 || this.labelTextColor;\n    this.gitBranchLabel5 = this.gitBranchLabel5 || this.labelTextColor;\n    this.gitBranchLabel6 = this.gitBranchLabel6 || this.labelTextColor;\n    this.gitBranchLabel7 = this.gitBranchLabel7 || this.labelTextColor;\n    this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;\n    this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;\n    this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;\n    this.tagLabelFontSize = this.tagLabelFontSize || "10px";\n    this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;\n    this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;\n    this.commitLabelFontSize = this.commitLabelFontSize || "10px";\n    this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || oldAttributeBackgroundColorOdd;\n    this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || oldAttributeBackgroundColorEven;\n  }\n  calculate(overrides) {\n    if (typeof overrides !== "object") {\n      this.updateColors();\n      return;\n    }\n    const keys = Object.keys(overrides);\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n    this.updateColors();\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n  }\n};\nvar getThemeVariables4 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((userOverrides) => {\n  const theme = new Theme4();\n  theme.calculate(userOverrides);\n  return theme;\n}, "getThemeVariables");\n\n// src/themes/theme-neutral.js\n\nvar Theme5 = class {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(this, "Theme");\n  }\n  constructor() {\n    this.primaryColor = "#eee";\n    this.contrast = "#707070";\n    this.secondaryColor = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.contrast, 55);\n    this.background = "#ffffff";\n    this.tertiaryColor = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -160 });\n    this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);\n    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);\n    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);\n    this.primaryTextColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.primaryColor);\n    this.secondaryTextColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.secondaryColor);\n    this.tertiaryTextColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.tertiaryColor);\n    this.lineColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.background);\n    this.textColor = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.background);\n    this.mainBkg = "#eee";\n    this.secondBkg = "calculated";\n    this.lineColor = "#666";\n    this.border1 = "#999";\n    this.border2 = "calculated";\n    this.note = "#ffa";\n    this.text = "#333";\n    this.critical = "#d42";\n    this.done = "#bbb";\n    this.arrowheadColor = "#333333";\n    this.fontFamily = \'"trebuchet ms", verdana, arial, sans-serif\';\n    this.fontSize = "16px";\n    this.THEME_COLOR_LIMIT = 12;\n    this.nodeBkg = "calculated";\n    this.nodeBorder = "calculated";\n    this.clusterBkg = "calculated";\n    this.clusterBorder = "calculated";\n    this.defaultLinkColor = "calculated";\n    this.titleColor = "calculated";\n    this.edgeLabelBackground = "white";\n    this.actorBorder = "calculated";\n    this.actorBkg = "calculated";\n    this.actorTextColor = "calculated";\n    this.actorLineColor = this.actorBorder;\n    this.signalColor = "calculated";\n    this.signalTextColor = "calculated";\n    this.labelBoxBkgColor = "calculated";\n    this.labelBoxBorderColor = "calculated";\n    this.labelTextColor = "calculated";\n    this.loopTextColor = "calculated";\n    this.noteBorderColor = "calculated";\n    this.noteBkgColor = "calculated";\n    this.noteTextColor = "calculated";\n    this.activationBorderColor = "#666";\n    this.activationBkgColor = "#f4f4f4";\n    this.sequenceNumberColor = "white";\n    this.sectionBkgColor = "calculated";\n    this.altSectionBkgColor = "white";\n    this.sectionBkgColor2 = "calculated";\n    this.excludeBkgColor = "#eeeeee";\n    this.taskBorderColor = "calculated";\n    this.taskBkgColor = "calculated";\n    this.taskTextLightColor = "white";\n    this.taskTextColor = "calculated";\n    this.taskTextDarkColor = "calculated";\n    this.taskTextOutsideColor = "calculated";\n    this.taskTextClickableColor = "#003163";\n    this.activeTaskBorderColor = "calculated";\n    this.activeTaskBkgColor = "calculated";\n    this.gridColor = "calculated";\n    this.doneTaskBkgColor = "calculated";\n    this.doneTaskBorderColor = "calculated";\n    this.critBkgColor = "calculated";\n    this.critBorderColor = "calculated";\n    this.todayLineColor = "calculated";\n    this.vertLineColor = "calculated";\n    this.personBorder = this.primaryBorderColor;\n    this.personBkg = this.mainBkg;\n    this.archEdgeColor = "calculated";\n    this.archEdgeArrowColor = "calculated";\n    this.archEdgeWidth = "3";\n    this.archGroupBorderColor = this.primaryBorderColor;\n    this.archGroupBorderWidth = "2px";\n    this.rowOdd = this.rowOdd || (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.mainBkg, 75) || "#ffffff";\n    this.rowEven = this.rowEven || "#f4f4f4";\n    this.labelColor = "black";\n    this.errorBkgColor = "#552222";\n    this.errorTextColor = "#552222";\n  }\n  updateColors() {\n    this.secondBkg = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.contrast, 55);\n    this.border2 = this.contrast;\n    this.actorBorder = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.border1, 23);\n    this.actorBkg = this.mainBkg;\n    this.actorTextColor = this.text;\n    this.actorLineColor = this.actorBorder;\n    this.signalColor = this.text;\n    this.signalTextColor = this.text;\n    this.labelBoxBkgColor = this.actorBkg;\n    this.labelBoxBorderColor = this.actorBorder;\n    this.labelTextColor = this.text;\n    this.loopTextColor = this.text;\n    this.noteBorderColor = "#999";\n    this.noteBkgColor = "#666";\n    this.noteTextColor = "#fff";\n    this.cScale0 = this.cScale0 || "#555";\n    this.cScale1 = this.cScale1 || "#F4F4F4";\n    this.cScale2 = this.cScale2 || "#555";\n    this.cScale3 = this.cScale3 || "#BBB";\n    this.cScale4 = this.cScale4 || "#777";\n    this.cScale5 = this.cScale5 || "#999";\n    this.cScale6 = this.cScale6 || "#DDD";\n    this.cScale7 = this.cScale7 || "#FFF";\n    this.cScale8 = this.cScale8 || "#DDD";\n    this.cScale9 = this.cScale9 || "#BBB";\n    this.cScale10 = this.cScale10 || "#999";\n    this.cScale11 = this.cScale11 || "#777";\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      this["cScaleInv" + i] = this["cScaleInv" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this["cScale" + i]);\n    }\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      if (this.darkMode) {\n        this["cScalePeer" + i] = this["cScalePeer" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this["cScale" + i], 10);\n      } else {\n        this["cScalePeer" + i] = this["cScalePeer" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this["cScale" + i], 10);\n      }\n    }\n    this.scaleLabelColor = this.scaleLabelColor || (this.darkMode ? "black" : this.labelTextColor);\n    this.cScaleLabel0 = this.cScaleLabel0 || this.cScale1;\n    this.cScaleLabel2 = this.cScaleLabel2 || this.cScale1;\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      this["cScaleLabel" + i] = this["cScaleLabel" + i] || this.scaleLabelColor;\n    }\n    for (let i = 0; i < 5; i++) {\n      this["surface" + i] = this["surface" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.mainBkg, { l: -(5 + i * 5) });\n      this["surfacePeer" + i] = this["surfacePeer" + i] || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.mainBkg, { l: -(8 + i * 5) });\n    }\n    this.nodeBkg = this.mainBkg;\n    this.nodeBorder = this.border1;\n    this.clusterBkg = this.secondBkg;\n    this.clusterBorder = this.border2;\n    this.defaultLinkColor = this.lineColor;\n    this.titleColor = this.text;\n    this.sectionBkgColor = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.contrast, 30);\n    this.sectionBkgColor2 = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.contrast, 30);\n    this.taskBorderColor = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.contrast, 10);\n    this.taskBkgColor = this.contrast;\n    this.taskTextColor = this.taskTextLightColor;\n    this.taskTextDarkColor = this.text;\n    this.taskTextOutsideColor = this.taskTextDarkColor;\n    this.activeTaskBorderColor = this.taskBorderColor;\n    this.activeTaskBkgColor = this.mainBkg;\n    this.gridColor = (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.border1, 30);\n    this.doneTaskBkgColor = this.done;\n    this.doneTaskBorderColor = this.lineColor;\n    this.critBkgColor = this.critical;\n    this.critBorderColor = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.critBkgColor, 10);\n    this.todayLineColor = this.critBkgColor;\n    this.vertLineColor = this.critBkgColor;\n    this.archEdgeColor = this.lineColor;\n    this.archEdgeArrowColor = this.lineColor;\n    this.transitionColor = this.transitionColor || "#000";\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n    this.stateBkg = this.stateBkg || this.mainBkg;\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n    this.altBackground = this.altBackground || "#f4f4f4";\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n    this.stateBorder = this.stateBorder || "#000";\n    this.innerEndBackground = this.primaryBorderColor;\n    this.specialStateColor = "#222";\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n    this.classText = this.primaryTextColor;\n    this.fillType0 = this.primaryColor;\n    this.fillType1 = this.secondaryColor;\n    this.fillType2 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 64 });\n    this.fillType3 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: 64 });\n    this.fillType4 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -64 });\n    this.fillType5 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: -64 });\n    this.fillType6 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 128 });\n    this.fillType7 = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.secondaryColor, { h: 128 });\n    for (let i = 0; i < this.THEME_COLOR_LIMIT; i++) {\n      this["pie" + i] = this["cScale" + i];\n    }\n    this.pie12 = this.pie0;\n    this.pieTitleTextSize = this.pieTitleTextSize || "25px";\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n    this.pieSectionTextSize = this.pieSectionTextSize || "17px";\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n    this.pieLegendTextSize = this.pieLegendTextSize || "17px";\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n    this.pieStrokeColor = this.pieStrokeColor || "black";\n    this.pieStrokeWidth = this.pieStrokeWidth || "2px";\n    this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || "2px";\n    this.pieOuterStrokeColor = this.pieOuterStrokeColor || "black";\n    this.pieOpacity = this.pieOpacity || "0.7";\n    this.quadrant1Fill = this.quadrant1Fill || this.primaryColor;\n    this.quadrant2Fill = this.quadrant2Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 5, g: 5, b: 5 });\n    this.quadrant3Fill = this.quadrant3Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 10, g: 10, b: 10 });\n    this.quadrant4Fill = this.quadrant4Fill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { r: 15, g: 15, b: 15 });\n    this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor;\n    this.quadrant2TextFill = this.quadrant2TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -5, g: -5, b: -5 });\n    this.quadrant3TextFill = this.quadrant3TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -10, g: -10, b: -10 });\n    this.quadrant4TextFill = this.quadrant4TextFill || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryTextColor, { r: -15, g: -15, b: -15 });\n    this.quadrantPointFill = this.quadrantPointFill || (0,khroma__WEBPACK_IMPORTED_MODULE_1__["default"])(this.quadrant1Fill) ? (0,khroma__WEBPACK_IMPORTED_MODULE_2__["default"])(this.quadrant1Fill) : (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.quadrant1Fill);\n    this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor;\n    this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor;\n    this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor;\n    this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor;\n    this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor;\n    this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor;\n    this.xyChart = {\n      backgroundColor: this.xyChart?.backgroundColor || this.background,\n      titleColor: this.xyChart?.titleColor || this.primaryTextColor,\n      xAxisTitleColor: this.xyChart?.xAxisTitleColor || this.primaryTextColor,\n      xAxisLabelColor: this.xyChart?.xAxisLabelColor || this.primaryTextColor,\n      xAxisTickColor: this.xyChart?.xAxisTickColor || this.primaryTextColor,\n      xAxisLineColor: this.xyChart?.xAxisLineColor || this.primaryTextColor,\n      yAxisTitleColor: this.xyChart?.yAxisTitleColor || this.primaryTextColor,\n      yAxisLabelColor: this.xyChart?.yAxisLabelColor || this.primaryTextColor,\n      yAxisTickColor: this.xyChart?.yAxisTickColor || this.primaryTextColor,\n      yAxisLineColor: this.xyChart?.yAxisLineColor || this.primaryTextColor,\n      plotColorPalette: this.xyChart?.plotColorPalette || "#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"\n    };\n    this.radar = {\n      axisColor: this.radar?.axisColor || this.lineColor,\n      axisStrokeWidth: this.radar?.axisStrokeWidth || 2,\n      axisLabelFontSize: this.radar?.axisLabelFontSize || 12,\n      curveOpacity: this.radar?.curveOpacity || 0.5,\n      curveStrokeWidth: this.radar?.curveStrokeWidth || 2,\n      graticuleColor: this.radar?.graticuleColor || "#DEDEDE",\n      graticuleStrokeWidth: this.radar?.graticuleStrokeWidth || 1,\n      graticuleOpacity: this.radar?.graticuleOpacity || 0.3,\n      legendBoxSize: this.radar?.legendBoxSize || 12,\n      legendFontSize: this.radar?.legendFontSize || 12\n    };\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n    this.requirementBorderSize = this.requirementBorderSize || "1";\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n    this.relationColor = this.relationColor || this.lineColor;\n    this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground;\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n    this.git0 = (0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(this.pie1, 25) || this.primaryColor;\n    this.git1 = this.pie2 || this.secondaryColor;\n    this.git2 = this.pie3 || this.tertiaryColor;\n    this.git3 = this.pie4 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -30 });\n    this.git4 = this.pie5 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -60 });\n    this.git5 = this.pie6 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: -90 });\n    this.git6 = this.pie7 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 60 });\n    this.git7 = this.pie8 || (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(this.primaryColor, { h: 120 });\n    this.gitInv0 = this.gitInv0 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git0);\n    this.gitInv1 = this.gitInv1 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git1);\n    this.gitInv2 = this.gitInv2 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git2);\n    this.gitInv3 = this.gitInv3 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git3);\n    this.gitInv4 = this.gitInv4 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git4);\n    this.gitInv5 = this.gitInv5 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git5);\n    this.gitInv6 = this.gitInv6 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git6);\n    this.gitInv7 = this.gitInv7 || (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(this.git7);\n    this.branchLabelColor = this.branchLabelColor || this.labelTextColor;\n    this.gitBranchLabel0 = this.branchLabelColor;\n    this.gitBranchLabel1 = "white";\n    this.gitBranchLabel2 = this.branchLabelColor;\n    this.gitBranchLabel3 = "white";\n    this.gitBranchLabel4 = this.branchLabelColor;\n    this.gitBranchLabel5 = this.branchLabelColor;\n    this.gitBranchLabel6 = this.branchLabelColor;\n    this.gitBranchLabel7 = this.branchLabelColor;\n    this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;\n    this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;\n    this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;\n    this.tagLabelFontSize = this.tagLabelFontSize || "10px";\n    this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;\n    this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;\n    this.commitLabelFontSize = this.commitLabelFontSize || "10px";\n    this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || oldAttributeBackgroundColorOdd;\n    this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || oldAttributeBackgroundColorEven;\n  }\n  calculate(overrides) {\n    if (typeof overrides !== "object") {\n      this.updateColors();\n      return;\n    }\n    const keys = Object.keys(overrides);\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n    this.updateColors();\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n  }\n};\nvar getThemeVariables5 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((userOverrides) => {\n  const theme = new Theme5();\n  theme.calculate(userOverrides);\n  return theme;\n}, "getThemeVariables");\n\n// src/themes/index.js\nvar themes_default = {\n  base: {\n    getThemeVariables\n  },\n  dark: {\n    getThemeVariables: getThemeVariables2\n  },\n  default: {\n    getThemeVariables: getThemeVariables3\n  },\n  forest: {\n    getThemeVariables: getThemeVariables4\n  },\n  neutral: {\n    getThemeVariables: getThemeVariables5\n  }\n};\n\n// src/schemas/config.schema.yaml?only-defaults=true\nvar config_schema_default = {\n  "flowchart": {\n    "useMaxWidth": true,\n    "titleTopMargin": 25,\n    "subGraphTitleMargin": {\n      "top": 0,\n      "bottom": 0\n    },\n    "diagramPadding": 8,\n    "htmlLabels": true,\n    "nodeSpacing": 50,\n    "rankSpacing": 50,\n    "curve": "basis",\n    "padding": 15,\n    "defaultRenderer": "dagre-wrapper",\n    "wrappingWidth": 200,\n    "inheritDir": false\n  },\n  "sequence": {\n    "useMaxWidth": true,\n    "hideUnusedParticipants": false,\n    "activationWidth": 10,\n    "diagramMarginX": 50,\n    "diagramMarginY": 10,\n    "actorMargin": 50,\n    "width": 150,\n    "height": 65,\n    "boxMargin": 10,\n    "boxTextMargin": 5,\n    "noteMargin": 10,\n    "messageMargin": 35,\n    "messageAlign": "center",\n    "mirrorActors": true,\n    "forceMenus": false,\n    "bottomMarginAdj": 1,\n    "rightAngles": false,\n    "showSequenceNumbers": false,\n    "actorFontSize": 14,\n    "actorFontFamily": \'"Open Sans", sans-serif\',\n    "actorFontWeight": 400,\n    "noteFontSize": 14,\n    "noteFontFamily": \'"trebuchet ms", verdana, arial, sans-serif\',\n    "noteFontWeight": 400,\n    "noteAlign": "center",\n    "messageFontSize": 16,\n    "messageFontFamily": \'"trebuchet ms", verdana, arial, sans-serif\',\n    "messageFontWeight": 400,\n    "wrap": false,\n    "wrapPadding": 10,\n    "labelBoxWidth": 50,\n    "labelBoxHeight": 20\n  },\n  "gantt": {\n    "useMaxWidth": true,\n    "titleTopMargin": 25,\n    "barHeight": 20,\n    "barGap": 4,\n    "topPadding": 50,\n    "rightPadding": 75,\n    "leftPadding": 75,\n    "gridLineStartPadding": 35,\n    "fontSize": 11,\n    "sectionFontSize": 11,\n    "numberSectionStyles": 4,\n    "axisFormat": "%Y-%m-%d",\n    "topAxis": false,\n    "displayMode": "",\n    "weekday": "sunday"\n  },\n  "journey": {\n    "useMaxWidth": true,\n    "diagramMarginX": 50,\n    "diagramMarginY": 10,\n    "leftMargin": 150,\n    "maxLabelWidth": 360,\n    "width": 150,\n    "height": 50,\n    "boxMargin": 10,\n    "boxTextMargin": 5,\n    "noteMargin": 10,\n    "messageMargin": 35,\n    "messageAlign": "center",\n    "bottomMarginAdj": 1,\n    "rightAngles": false,\n    "taskFontSize": 14,\n    "taskFontFamily": \'"Open Sans", sans-serif\',\n    "taskMargin": 50,\n    "activationWidth": 10,\n    "textPlacement": "fo",\n    "actorColours": [\n      "#8FBC8F",\n      "#7CFC00",\n      "#00FFFF",\n      "#20B2AA",\n      "#B0E0E6",\n      "#FFFFE0"\n    ],\n    "sectionFills": [\n      "#191970",\n      "#8B008B",\n      "#4B0082",\n      "#2F4F4F",\n      "#800000",\n      "#8B4513",\n      "#00008B"\n    ],\n    "sectionColours": [\n      "#fff"\n    ],\n    "titleColor": "",\n    "titleFontFamily": \'"trebuchet ms", verdana, arial, sans-serif\',\n    "titleFontSize": "4ex"\n  },\n  "class": {\n    "useMaxWidth": true,\n    "titleTopMargin": 25,\n    "arrowMarkerAbsolute": false,\n    "dividerMargin": 10,\n    "padding": 5,\n    "textHeight": 10,\n    "defaultRenderer": "dagre-wrapper",\n    "htmlLabels": false,\n    "hideEmptyMembersBox": false\n  },\n  "state": {\n    "useMaxWidth": true,\n    "titleTopMargin": 25,\n    "dividerMargin": 10,\n    "sizeUnit": 5,\n    "padding": 8,\n    "textHeight": 10,\n    "titleShift": -15,\n    "noteMargin": 10,\n    "forkWidth": 70,\n    "forkHeight": 7,\n    "miniPadding": 2,\n    "fontSizeFactor": 5.02,\n    "fontSize": 24,\n    "labelHeight": 16,\n    "edgeLengthFactor": "20",\n    "compositTitleSize": 35,\n    "radius": 5,\n    "defaultRenderer": "dagre-wrapper"\n  },\n  "er": {\n    "useMaxWidth": true,\n    "titleTopMargin": 25,\n    "diagramPadding": 20,\n    "layoutDirection": "TB",\n    "minEntityWidth": 100,\n    "minEntityHeight": 75,\n    "entityPadding": 15,\n    "nodeSpacing": 140,\n    "rankSpacing": 80,\n    "stroke": "gray",\n    "fill": "honeydew",\n    "fontSize": 12\n  },\n  "pie": {\n    "useMaxWidth": true,\n    "textPosition": 0.75\n  },\n  "quadrantChart": {\n    "useMaxWidth": true,\n    "chartWidth": 500,\n    "chartHeight": 500,\n    "titleFontSize": 20,\n    "titlePadding": 10,\n    "quadrantPadding": 5,\n    "xAxisLabelPadding": 5,\n    "yAxisLabelPadding": 5,\n    "xAxisLabelFontSize": 16,\n    "yAxisLabelFontSize": 16,\n    "quadrantLabelFontSize": 16,\n    "quadrantTextTopPadding": 5,\n    "pointTextPadding": 5,\n    "pointLabelFontSize": 12,\n    "pointRadius": 5,\n    "xAxisPosition": "top",\n    "yAxisPosition": "left",\n    "quadrantInternalBorderStrokeWidth": 1,\n    "quadrantExternalBorderStrokeWidth": 2\n  },\n  "xyChart": {\n    "useMaxWidth": true,\n    "width": 700,\n    "height": 500,\n    "titleFontSize": 20,\n    "titlePadding": 10,\n    "showDataLabel": false,\n    "showTitle": true,\n    "xAxis": {\n      "$ref": "#/$defs/XYChartAxisConfig",\n      "showLabel": true,\n      "labelFontSize": 14,\n      "labelPadding": 5,\n      "showTitle": true,\n      "titleFontSize": 16,\n      "titlePadding": 5,\n      "showTick": true,\n      "tickLength": 5,\n      "tickWidth": 2,\n      "showAxisLine": true,\n      "axisLineWidth": 2\n    },\n    "yAxis": {\n      "$ref": "#/$defs/XYChartAxisConfig",\n      "showLabel": true,\n      "labelFontSize": 14,\n      "labelPadding": 5,\n      "showTitle": true,\n      "titleFontSize": 16,\n      "titlePadding": 5,\n      "showTick": true,\n      "tickLength": 5,\n      "tickWidth": 2,\n      "showAxisLine": true,\n      "axisLineWidth": 2\n    },\n    "chartOrientation": "vertical",\n    "plotReservedSpacePercent": 50\n  },\n  "requirement": {\n    "useMaxWidth": true,\n    "rect_fill": "#f9f9f9",\n    "text_color": "#333",\n    "rect_border_size": "0.5px",\n    "rect_border_color": "#bbb",\n    "rect_min_width": 200,\n    "rect_min_height": 200,\n    "fontSize": 14,\n    "rect_padding": 10,\n    "line_height": 20\n  },\n  "mindmap": {\n    "useMaxWidth": true,\n    "padding": 10,\n    "maxNodeWidth": 200,\n    "layoutAlgorithm": "cose-bilkent"\n  },\n  "kanban": {\n    "useMaxWidth": true,\n    "padding": 8,\n    "sectionWidth": 200,\n    "ticketBaseUrl": ""\n  },\n  "timeline": {\n    "useMaxWidth": true,\n    "diagramMarginX": 50,\n    "diagramMarginY": 10,\n    "leftMargin": 150,\n    "width": 150,\n    "height": 50,\n    "boxMargin": 10,\n    "boxTextMargin": 5,\n    "noteMargin": 10,\n    "messageMargin": 35,\n    "messageAlign": "center",\n    "bottomMarginAdj": 1,\n    "rightAngles": false,\n    "taskFontSize": 14,\n    "taskFontFamily": \'"Open Sans", sans-serif\',\n    "taskMargin": 50,\n    "activationWidth": 10,\n    "textPlacement": "fo",\n    "actorColours": [\n      "#8FBC8F",\n      "#7CFC00",\n      "#00FFFF",\n      "#20B2AA",\n      "#B0E0E6",\n      "#FFFFE0"\n    ],\n    "sectionFills": [\n      "#191970",\n      "#8B008B",\n      "#4B0082",\n      "#2F4F4F",\n      "#800000",\n      "#8B4513",\n      "#00008B"\n    ],\n    "sectionColours": [\n      "#fff"\n    ],\n    "disableMulticolor": false\n  },\n  "gitGraph": {\n    "useMaxWidth": true,\n    "titleTopMargin": 25,\n    "diagramPadding": 8,\n    "nodeLabel": {\n      "width": 75,\n      "height": 100,\n      "x": -25,\n      "y": 0\n    },\n    "mainBranchName": "main",\n    "mainBranchOrder": 0,\n    "showCommitLabel": true,\n    "showBranches": true,\n    "rotateCommitLabel": true,\n    "parallelCommits": false,\n    "arrowMarkerAbsolute": false\n  },\n  "c4": {\n    "useMaxWidth": true,\n    "diagramMarginX": 50,\n    "diagramMarginY": 10,\n    "c4ShapeMargin": 50,\n    "c4ShapePadding": 20,\n    "width": 216,\n    "height": 60,\n    "boxMargin": 10,\n    "c4ShapeInRow": 4,\n    "nextLinePaddingX": 0,\n    "c4BoundaryInRow": 2,\n    "personFontSize": 14,\n    "personFontFamily": \'"Open Sans", sans-serif\',\n    "personFontWeight": "normal",\n    "external_personFontSize": 14,\n    "external_personFontFamily": \'"Open Sans", sans-serif\',\n    "external_personFontWeight": "normal",\n    "systemFontSize": 14,\n    "systemFontFamily": \'"Open Sans", sans-serif\',\n    "systemFontWeight": "normal",\n    "external_systemFontSize": 14,\n    "external_systemFontFamily": \'"Open Sans", sans-serif\',\n    "external_systemFontWeight": "normal",\n    "system_dbFontSize": 14,\n    "system_dbFontFamily": \'"Open Sans", sans-serif\',\n    "system_dbFontWeight": "normal",\n    "external_system_dbFontSize": 14,\n    "external_system_dbFontFamily": \'"Open Sans", sans-serif\',\n    "external_system_dbFontWeight": "normal",\n    "system_queueFontSize": 14,\n    "system_queueFontFamily": \'"Open Sans", sans-serif\',\n    "system_queueFontWeight": "normal",\n    "external_system_queueFontSize": 14,\n    "external_system_queueFontFamily": \'"Open Sans", sans-serif\',\n    "external_system_queueFontWeight": "normal",\n    "boundaryFontSize": 14,\n    "boundaryFontFamily": \'"Open Sans", sans-serif\',\n    "boundaryFontWeight": "normal",\n    "messageFontSize": 12,\n    "messageFontFamily": \'"Open Sans", sans-serif\',\n    "messageFontWeight": "normal",\n    "containerFontSize": 14,\n    "containerFontFamily": \'"Open Sans", sans-serif\',\n    "containerFontWeight": "normal",\n    "external_containerFontSize": 14,\n    "external_containerFontFamily": \'"Open Sans", sans-serif\',\n    "external_containerFontWeight": "normal",\n    "container_dbFontSize": 14,\n    "container_dbFontFamily": \'"Open Sans", sans-serif\',\n    "container_dbFontWeight": "normal",\n    "external_container_dbFontSize": 14,\n    "external_container_dbFontFamily": \'"Open Sans", sans-serif\',\n    "external_container_dbFontWeight": "normal",\n    "container_queueFontSize": 14,\n    "container_queueFontFamily": \'"Open Sans", sans-serif\',\n    "container_queueFontWeight": "normal",\n    "external_container_queueFontSize": 14,\n    "external_container_queueFontFamily": \'"Open Sans", sans-serif\',\n    "external_container_queueFontWeight": "normal",\n    "componentFontSize": 14,\n    "componentFontFamily": \'"Open Sans", sans-serif\',\n    "componentFontWeight": "normal",\n    "external_componentFontSize": 14,\n    "external_componentFontFamily": \'"Open Sans", sans-serif\',\n    "external_componentFontWeight": "normal",\n    "component_dbFontSize": 14,\n    "component_dbFontFamily": \'"Open Sans", sans-serif\',\n    "component_dbFontWeight": "normal",\n    "external_component_dbFontSize": 14,\n    "external_component_dbFontFamily": \'"Open Sans", sans-serif\',\n    "external_component_dbFontWeight": "normal",\n    "component_queueFontSize": 14,\n    "component_queueFontFamily": \'"Open Sans", sans-serif\',\n    "component_queueFontWeight": "normal",\n    "external_component_queueFontSize": 14,\n    "external_component_queueFontFamily": \'"Open Sans", sans-serif\',\n    "external_component_queueFontWeight": "normal",\n    "wrap": true,\n    "wrapPadding": 10,\n    "person_bg_color": "#08427B",\n    "person_border_color": "#073B6F",\n    "external_person_bg_color": "#686868",\n    "external_person_border_color": "#8A8A8A",\n    "system_bg_color": "#1168BD",\n    "system_border_color": "#3C7FC0",\n    "system_db_bg_color": "#1168BD",\n    "system_db_border_color": "#3C7FC0",\n    "system_queue_bg_color": "#1168BD",\n    "system_queue_border_color": "#3C7FC0",\n    "external_system_bg_color": "#999999",\n    "external_system_border_color": "#8A8A8A",\n    "external_system_db_bg_color": "#999999",\n    "external_system_db_border_color": "#8A8A8A",\n    "external_system_queue_bg_color": "#999999",\n    "external_system_queue_border_color": "#8A8A8A",\n    "container_bg_color": "#438DD5",\n    "container_border_color": "#3C7FC0",\n    "container_db_bg_color": "#438DD5",\n    "container_db_border_color": "#3C7FC0",\n    "container_queue_bg_color": "#438DD5",\n    "container_queue_border_color": "#3C7FC0",\n    "external_container_bg_color": "#B3B3B3",\n    "external_container_border_color": "#A6A6A6",\n    "external_container_db_bg_color": "#B3B3B3",\n    "external_container_db_border_color": "#A6A6A6",\n    "external_container_queue_bg_color": "#B3B3B3",\n    "external_container_queue_border_color": "#A6A6A6",\n    "component_bg_color": "#85BBF0",\n    "component_border_color": "#78A8D8",\n    "component_db_bg_color": "#85BBF0",\n    "component_db_border_color": "#78A8D8",\n    "component_queue_bg_color": "#85BBF0",\n    "component_queue_border_color": "#78A8D8",\n    "external_component_bg_color": "#CCCCCC",\n    "external_component_border_color": "#BFBFBF",\n    "external_component_db_bg_color": "#CCCCCC",\n    "external_component_db_border_color": "#BFBFBF",\n    "external_component_queue_bg_color": "#CCCCCC",\n    "external_component_queue_border_color": "#BFBFBF"\n  },\n  "sankey": {\n    "useMaxWidth": true,\n    "width": 600,\n    "height": 400,\n    "linkColor": "gradient",\n    "nodeAlignment": "justify",\n    "showValues": true,\n    "prefix": "",\n    "suffix": ""\n  },\n  "block": {\n    "useMaxWidth": true,\n    "padding": 8\n  },\n  "packet": {\n    "useMaxWidth": true,\n    "rowHeight": 32,\n    "bitWidth": 32,\n    "bitsPerRow": 32,\n    "showBits": true,\n    "paddingX": 5,\n    "paddingY": 5\n  },\n  "architecture": {\n    "useMaxWidth": true,\n    "padding": 40,\n    "iconSize": 80,\n    "fontSize": 16\n  },\n  "radar": {\n    "useMaxWidth": true,\n    "width": 600,\n    "height": 600,\n    "marginTop": 50,\n    "marginRight": 50,\n    "marginBottom": 50,\n    "marginLeft": 50,\n    "axisScaleFactor": 1,\n    "axisLabelFactor": 1.05,\n    "curveTension": 0.17\n  },\n  "theme": "default",\n  "look": "classic",\n  "handDrawnSeed": 0,\n  "layout": "dagre",\n  "maxTextSize": 5e4,\n  "maxEdges": 500,\n  "darkMode": false,\n  "fontFamily": \'"trebuchet ms", verdana, arial, sans-serif;\',\n  "logLevel": 5,\n  "securityLevel": "strict",\n  "startOnLoad": true,\n  "arrowMarkerAbsolute": false,\n  "secure": [\n    "secure",\n    "securityLevel",\n    "startOnLoad",\n    "maxTextSize",\n    "suppressErrorRendering",\n    "maxEdges"\n  ],\n  "legacyMathML": false,\n  "forceLegacyMathML": false,\n  "deterministicIds": false,\n  "fontSize": 16,\n  "markdownAutoWrap": true,\n  "suppressErrorRendering": false\n};\n\n// src/defaultConfig.ts\nvar config = {\n  ...config_schema_default,\n  // Set, even though they\'re `undefined` so that `configKeys` finds these keys\n  // TODO: Should we replace these with `null` so that they can go in the JSON Schema?\n  deterministicIDSeed: void 0,\n  elk: {\n    // mergeEdges is needed here to be considered\n    mergeEdges: false,\n    nodePlacementStrategy: "BRANDES_KOEPF",\n    forceNodeModelOrder: false,\n    considerModelOrder: "NODES_AND_EDGES"\n  },\n  themeCSS: void 0,\n  // add non-JSON default config values\n  themeVariables: themes_default.default.getThemeVariables(),\n  sequence: {\n    ...config_schema_default.sequence,\n    messageFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.messageFontFamily,\n        fontSize: this.messageFontSize,\n        fontWeight: this.messageFontWeight\n      };\n    }, "messageFont"),\n    noteFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.noteFontFamily,\n        fontSize: this.noteFontSize,\n        fontWeight: this.noteFontWeight\n      };\n    }, "noteFont"),\n    actorFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.actorFontFamily,\n        fontSize: this.actorFontSize,\n        fontWeight: this.actorFontWeight\n      };\n    }, "actorFont")\n  },\n  class: {\n    hideEmptyMembersBox: false\n  },\n  gantt: {\n    ...config_schema_default.gantt,\n    tickInterval: void 0,\n    useWidth: void 0\n    // can probably be removed since `configKeys` already includes this\n  },\n  c4: {\n    ...config_schema_default.c4,\n    useWidth: void 0,\n    personFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.personFontFamily,\n        fontSize: this.personFontSize,\n        fontWeight: this.personFontWeight\n      };\n    }, "personFont"),\n    flowchart: {\n      ...config_schema_default.flowchart,\n      inheritDir: false\n      // default to legacy behavior\n    },\n    external_personFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.external_personFontFamily,\n        fontSize: this.external_personFontSize,\n        fontWeight: this.external_personFontWeight\n      };\n    }, "external_personFont"),\n    systemFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.systemFontFamily,\n        fontSize: this.systemFontSize,\n        fontWeight: this.systemFontWeight\n      };\n    }, "systemFont"),\n    external_systemFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.external_systemFontFamily,\n        fontSize: this.external_systemFontSize,\n        fontWeight: this.external_systemFontWeight\n      };\n    }, "external_systemFont"),\n    system_dbFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.system_dbFontFamily,\n        fontSize: this.system_dbFontSize,\n        fontWeight: this.system_dbFontWeight\n      };\n    }, "system_dbFont"),\n    external_system_dbFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.external_system_dbFontFamily,\n        fontSize: this.external_system_dbFontSize,\n        fontWeight: this.external_system_dbFontWeight\n      };\n    }, "external_system_dbFont"),\n    system_queueFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.system_queueFontFamily,\n        fontSize: this.system_queueFontSize,\n        fontWeight: this.system_queueFontWeight\n      };\n    }, "system_queueFont"),\n    external_system_queueFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.external_system_queueFontFamily,\n        fontSize: this.external_system_queueFontSize,\n        fontWeight: this.external_system_queueFontWeight\n      };\n    }, "external_system_queueFont"),\n    containerFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.containerFontFamily,\n        fontSize: this.containerFontSize,\n        fontWeight: this.containerFontWeight\n      };\n    }, "containerFont"),\n    external_containerFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.external_containerFontFamily,\n        fontSize: this.external_containerFontSize,\n        fontWeight: this.external_containerFontWeight\n      };\n    }, "external_containerFont"),\n    container_dbFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.container_dbFontFamily,\n        fontSize: this.container_dbFontSize,\n        fontWeight: this.container_dbFontWeight\n      };\n    }, "container_dbFont"),\n    external_container_dbFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.external_container_dbFontFamily,\n        fontSize: this.external_container_dbFontSize,\n        fontWeight: this.external_container_dbFontWeight\n      };\n    }, "external_container_dbFont"),\n    container_queueFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.container_queueFontFamily,\n        fontSize: this.container_queueFontSize,\n        fontWeight: this.container_queueFontWeight\n      };\n    }, "container_queueFont"),\n    external_container_queueFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.external_container_queueFontFamily,\n        fontSize: this.external_container_queueFontSize,\n        fontWeight: this.external_container_queueFontWeight\n      };\n    }, "external_container_queueFont"),\n    componentFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.componentFontFamily,\n        fontSize: this.componentFontSize,\n        fontWeight: this.componentFontWeight\n      };\n    }, "componentFont"),\n    external_componentFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.external_componentFontFamily,\n        fontSize: this.external_componentFontSize,\n        fontWeight: this.external_componentFontWeight\n      };\n    }, "external_componentFont"),\n    component_dbFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.component_dbFontFamily,\n        fontSize: this.component_dbFontSize,\n        fontWeight: this.component_dbFontWeight\n      };\n    }, "component_dbFont"),\n    external_component_dbFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.external_component_dbFontFamily,\n        fontSize: this.external_component_dbFontSize,\n        fontWeight: this.external_component_dbFontWeight\n      };\n    }, "external_component_dbFont"),\n    component_queueFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.component_queueFontFamily,\n        fontSize: this.component_queueFontSize,\n        fontWeight: this.component_queueFontWeight\n      };\n    }, "component_queueFont"),\n    external_component_queueFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.external_component_queueFontFamily,\n        fontSize: this.external_component_queueFontSize,\n        fontWeight: this.external_component_queueFontWeight\n      };\n    }, "external_component_queueFont"),\n    boundaryFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.boundaryFontFamily,\n        fontSize: this.boundaryFontSize,\n        fontWeight: this.boundaryFontWeight\n      };\n    }, "boundaryFont"),\n    messageFont: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return {\n        fontFamily: this.messageFontFamily,\n        fontSize: this.messageFontSize,\n        fontWeight: this.messageFontWeight\n      };\n    }, "messageFont")\n  },\n  pie: {\n    ...config_schema_default.pie,\n    useWidth: 984\n  },\n  xyChart: {\n    ...config_schema_default.xyChart,\n    useWidth: void 0\n  },\n  requirement: {\n    ...config_schema_default.requirement,\n    useWidth: void 0\n  },\n  packet: {\n    ...config_schema_default.packet\n  },\n  radar: {\n    ...config_schema_default.radar\n  },\n  treemap: {\n    useMaxWidth: true,\n    padding: 10,\n    diagramPadding: 8,\n    showValues: true,\n    nodeWidth: 100,\n    nodeHeight: 40,\n    borderWidth: 1,\n    valueFontSize: 12,\n    labelFontSize: 14,\n    valueFormat: ","\n  }\n};\nvar keyify = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((obj, prefix = "") => Object.keys(obj).reduce((res, el) => {\n  if (Array.isArray(obj[el])) {\n    return res;\n  } else if (typeof obj[el] === "object" && obj[el] !== null) {\n    return [...res, prefix + el, ...keyify(obj[el], "")];\n  }\n  return [...res, prefix + el];\n}, []), "keyify");\nvar configKeys = new Set(keyify(config, ""));\nvar defaultConfig_default = config;\n\n// src/utils/sanitizeDirective.ts\nvar sanitizeDirective = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((args) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.debug("sanitizeDirective called with", args);\n  if (typeof args !== "object" || args == null) {\n    return;\n  }\n  if (Array.isArray(args)) {\n    args.forEach((arg) => sanitizeDirective(arg));\n    return;\n  }\n  for (const key of Object.keys(args)) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.debug("Checking key", key);\n    if (key.startsWith("__") || key.includes("proto") || key.includes("constr") || !configKeys.has(key) || args[key] == null) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.debug("sanitize deleting key: ", key);\n      delete args[key];\n      continue;\n    }\n    if (typeof args[key] === "object") {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.debug("sanitizing object", key);\n      sanitizeDirective(args[key]);\n      continue;\n    }\n    const cssMatchers = ["themeCSS", "fontFamily", "altFontFamily"];\n    for (const cssKey of cssMatchers) {\n      if (key.includes(cssKey)) {\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.debug("sanitizing css option", key);\n        args[key] = sanitizeCss(args[key]);\n      }\n    }\n  }\n  if (args.themeVariables) {\n    for (const k of Object.keys(args.themeVariables)) {\n      const val = args.themeVariables[k];\n      if (val?.match && !val.match(/^[\\d "#%(),.;A-Za-z]+$/)) {\n        args.themeVariables[k] = "";\n      }\n    }\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.debug("After sanitization", args);\n}, "sanitizeDirective");\nvar sanitizeCss = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((str) => {\n  let startCnt = 0;\n  let endCnt = 0;\n  for (const element of str) {\n    if (startCnt < endCnt) {\n      return "{ /* ERROR: Unbalanced CSS */ }";\n    }\n    if (element === "{") {\n      startCnt++;\n    } else if (element === "}") {\n      endCnt++;\n    }\n  }\n  if (startCnt !== endCnt) {\n    return "{ /* ERROR: Unbalanced CSS */ }";\n  }\n  return str;\n}, "sanitizeCss");\n\n// src/config.ts\nvar defaultConfig = Object.freeze(defaultConfig_default);\nvar siteConfig = assignWithDepth_default({}, defaultConfig);\nvar configFromInitialize;\nvar directives = [];\nvar currentConfig = assignWithDepth_default({}, defaultConfig);\nvar updateCurrentConfig = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((siteCfg, _directives) => {\n  let cfg = assignWithDepth_default({}, siteCfg);\n  let sumOfDirectives = {};\n  for (const d of _directives) {\n    sanitize(d);\n    sumOfDirectives = assignWithDepth_default(sumOfDirectives, d);\n  }\n  cfg = assignWithDepth_default(cfg, sumOfDirectives);\n  if (sumOfDirectives.theme && sumOfDirectives.theme in themes_default) {\n    const tmpConfigFromInitialize = assignWithDepth_default({}, configFromInitialize);\n    const themeVariables = assignWithDepth_default(\n      tmpConfigFromInitialize.themeVariables || {},\n      sumOfDirectives.themeVariables\n    );\n    if (cfg.theme && cfg.theme in themes_default) {\n      cfg.themeVariables = themes_default[cfg.theme].getThemeVariables(themeVariables);\n    }\n  }\n  currentConfig = cfg;\n  checkConfig(currentConfig);\n  return currentConfig;\n}, "updateCurrentConfig");\nvar setSiteConfig = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((conf) => {\n  siteConfig = assignWithDepth_default({}, defaultConfig);\n  siteConfig = assignWithDepth_default(siteConfig, conf);\n  if (conf.theme && themes_default[conf.theme]) {\n    siteConfig.themeVariables = themes_default[conf.theme].getThemeVariables(conf.themeVariables);\n  }\n  updateCurrentConfig(siteConfig, directives);\n  return siteConfig;\n}, "setSiteConfig");\nvar saveConfigFromInitialize = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((conf) => {\n  configFromInitialize = assignWithDepth_default({}, conf);\n}, "saveConfigFromInitialize");\nvar updateSiteConfig = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((conf) => {\n  siteConfig = assignWithDepth_default(siteConfig, conf);\n  updateCurrentConfig(siteConfig, directives);\n  return siteConfig;\n}, "updateSiteConfig");\nvar getSiteConfig = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(() => {\n  return assignWithDepth_default({}, siteConfig);\n}, "getSiteConfig");\nvar setConfig = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((conf) => {\n  checkConfig(conf);\n  assignWithDepth_default(currentConfig, conf);\n  return getConfig();\n}, "setConfig");\nvar getConfig = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(() => {\n  return assignWithDepth_default({}, currentConfig);\n}, "getConfig");\nvar sanitize = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((options) => {\n  if (!options) {\n    return;\n  }\n  ["secure", ...siteConfig.secure ?? []].forEach((key) => {\n    if (Object.hasOwn(options, key)) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.debug(`Denied attempt to modify a secure key ${key}`, options[key]);\n      delete options[key];\n    }\n  });\n  Object.keys(options).forEach((key) => {\n    if (key.startsWith("__")) {\n      delete options[key];\n    }\n  });\n  Object.keys(options).forEach((key) => {\n    if (typeof options[key] === "string" && (options[key].includes("<") || options[key].includes(">") || options[key].includes("url(data:"))) {\n      delete options[key];\n    }\n    if (typeof options[key] === "object") {\n      sanitize(options[key]);\n    }\n  });\n}, "sanitize");\nvar addDirective = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((directive) => {\n  sanitizeDirective(directive);\n  if (directive.fontFamily && !directive.themeVariables?.fontFamily) {\n    directive.themeVariables = {\n      ...directive.themeVariables,\n      fontFamily: directive.fontFamily\n    };\n  }\n  directives.push(directive);\n  updateCurrentConfig(siteConfig, directives);\n}, "addDirective");\nvar reset = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((config2 = siteConfig) => {\n  directives = [];\n  updateCurrentConfig(config2, directives);\n}, "reset");\nvar ConfigWarning = {\n  LAZY_LOAD_DEPRECATED: "The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."\n};\nvar issuedWarnings = {};\nvar issueWarning = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((warning) => {\n  if (issuedWarnings[warning]) {\n    return;\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.warn(ConfigWarning[warning]);\n  issuedWarnings[warning] = true;\n}, "issueWarning");\nvar checkConfig = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((config2) => {\n  if (!config2) {\n    return;\n  }\n  if (config2.lazyLoadedDiagrams || config2.loadExternalDiagramsAtStartup) {\n    issueWarning("LAZY_LOAD_DEPRECATED");\n  }\n}, "checkConfig");\nvar getUserDefinedConfig = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(() => {\n  let userConfig = {};\n  if (configFromInitialize) {\n    userConfig = assignWithDepth_default(userConfig, configFromInitialize);\n  }\n  for (const d of directives) {\n    userConfig = assignWithDepth_default(userConfig, d);\n  }\n  return userConfig;\n}, "getUserDefinedConfig");\n\n// src/diagrams/common/common.ts\n\nvar lineBreakRegex = /<br\\s*\\/?>/gi;\nvar getRows = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((s) => {\n  if (!s) {\n    return [""];\n  }\n  const str = breakToPlaceholder(s).replace(/\\\\n/g, "#br#");\n  return str.split("#br#");\n}, "getRows");\nvar setupDompurifyHooksIfNotSetup = /* @__PURE__ */ (() => {\n  let setup = false;\n  return () => {\n    if (!setup) {\n      setupDompurifyHooks();\n      setup = true;\n    }\n  };\n})();\nfunction setupDompurifyHooks() {\n  const TEMPORARY_ATTRIBUTE = "data-temp-href-target";\n  dompurify__WEBPACK_IMPORTED_MODULE_7__["default"].addHook("beforeSanitizeAttributes", (node) => {\n    if (node.tagName === "A" && node.hasAttribute("target")) {\n      node.setAttribute(TEMPORARY_ATTRIBUTE, node.getAttribute("target") ?? "");\n    }\n  });\n  dompurify__WEBPACK_IMPORTED_MODULE_7__["default"].addHook("afterSanitizeAttributes", (node) => {\n    if (node.tagName === "A" && node.hasAttribute(TEMPORARY_ATTRIBUTE)) {\n      node.setAttribute("target", node.getAttribute(TEMPORARY_ATTRIBUTE) ?? "");\n      node.removeAttribute(TEMPORARY_ATTRIBUTE);\n      if (node.getAttribute("target") === "_blank") {\n        node.setAttribute("rel", "noopener");\n      }\n    }\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(setupDompurifyHooks, "setupDompurifyHooks");\nvar removeScript = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((txt) => {\n  setupDompurifyHooksIfNotSetup();\n  const sanitizedText = dompurify__WEBPACK_IMPORTED_MODULE_7__["default"].sanitize(txt);\n  return sanitizedText;\n}, "removeScript");\nvar sanitizeMore = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((text, config2) => {\n  if (config2.flowchart?.htmlLabels !== false) {\n    const level = config2.securityLevel;\n    if (level === "antiscript" || level === "strict") {\n      text = removeScript(text);\n    } else if (level !== "loose") {\n      text = breakToPlaceholder(text);\n      text = text.replace(/</g, "&lt;").replace(/>/g, "&gt;");\n      text = text.replace(/=/g, "&equals;");\n      text = placeholderToBreak(text);\n    }\n  }\n  return text;\n}, "sanitizeMore");\nvar sanitizeText = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((text, config2) => {\n  if (!text) {\n    return text;\n  }\n  if (config2.dompurifyConfig) {\n    text = dompurify__WEBPACK_IMPORTED_MODULE_7__["default"].sanitize(sanitizeMore(text, config2), config2.dompurifyConfig).toString();\n  } else {\n    text = dompurify__WEBPACK_IMPORTED_MODULE_7__["default"].sanitize(sanitizeMore(text, config2), {\n      FORBID_TAGS: ["style"]\n    }).toString();\n  }\n  return text;\n}, "sanitizeText");\nvar sanitizeTextOrArray = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((a, config2) => {\n  if (typeof a === "string") {\n    return sanitizeText(a, config2);\n  }\n  return a.flat().map((x) => sanitizeText(x, config2));\n}, "sanitizeTextOrArray");\nvar hasBreaks = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((text) => {\n  return lineBreakRegex.test(text);\n}, "hasBreaks");\nvar splitBreaks = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((text) => {\n  return text.split(lineBreakRegex);\n}, "splitBreaks");\nvar placeholderToBreak = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((s) => {\n  return s.replace(/#br#/g, "<br/>");\n}, "placeholderToBreak");\nvar breakToPlaceholder = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((s) => {\n  return s.replace(lineBreakRegex, "#br#");\n}, "breakToPlaceholder");\nvar getUrl = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((useAbsolute) => {\n  let url = "";\n  if (useAbsolute) {\n    url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;\n    url = CSS.escape(url);\n  }\n  return url;\n}, "getUrl");\nvar evaluate = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((val) => val === false || ["false", "null", "0"].includes(String(val).trim().toLowerCase()) ? false : true, "evaluate");\nvar getMax = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(...values) {\n  const newValues = values.filter((value) => {\n    return !isNaN(value);\n  });\n  return Math.max(...newValues);\n}, "getMax");\nvar getMin = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(...values) {\n  const newValues = values.filter((value) => {\n    return !isNaN(value);\n  });\n  return Math.min(...newValues);\n}, "getMin");\nvar parseGenericTypes = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(input) {\n  const inputSets = input.split(/(,)/);\n  const output = [];\n  for (let i = 0; i < inputSets.length; i++) {\n    let thisSet = inputSets[i];\n    if (thisSet === "," && i > 0 && i + 1 < inputSets.length) {\n      const previousSet = inputSets[i - 1];\n      const nextSet = inputSets[i + 1];\n      if (shouldCombineSets(previousSet, nextSet)) {\n        thisSet = previousSet + "," + nextSet;\n        i++;\n        output.pop();\n      }\n    }\n    output.push(processSet(thisSet));\n  }\n  return output.join("");\n}, "parseGenericTypes");\nvar countOccurrence = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((string, substring) => {\n  return Math.max(0, string.split(substring).length - 1);\n}, "countOccurrence");\nvar shouldCombineSets = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((previousSet, nextSet) => {\n  const prevCount = countOccurrence(previousSet, "~");\n  const nextCount = countOccurrence(nextSet, "~");\n  return prevCount === 1 && nextCount === 1;\n}, "shouldCombineSets");\nvar processSet = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((input) => {\n  const tildeCount = countOccurrence(input, "~");\n  let hasStartingTilde = false;\n  if (tildeCount <= 1) {\n    return input;\n  }\n  if (tildeCount % 2 !== 0 && input.startsWith("~")) {\n    input = input.substring(1);\n    hasStartingTilde = true;\n  }\n  const chars = [...input];\n  let first = chars.indexOf("~");\n  let last = chars.lastIndexOf("~");\n  while (first !== -1 && last !== -1 && first !== last) {\n    chars[first] = "<";\n    chars[last] = ">";\n    first = chars.indexOf("~");\n    last = chars.lastIndexOf("~");\n  }\n  if (hasStartingTilde) {\n    chars.unshift("~");\n  }\n  return chars.join("");\n}, "processSet");\nvar isMathMLSupported = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(() => window.MathMLElement !== void 0, "isMathMLSupported");\nvar katexRegex = /\\$\\$(.*)\\$\\$/g;\nvar hasKatex = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((text) => (text.match(katexRegex)?.length ?? 0) > 0, "hasKatex");\nvar calculateMathMLDimensions = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(async (text, config2) => {\n  const divElem = document.createElement("div");\n  divElem.innerHTML = await renderKatexSanitized(text, config2);\n  divElem.id = "katex-temp";\n  divElem.style.visibility = "hidden";\n  divElem.style.position = "absolute";\n  divElem.style.top = "0";\n  const body = document.querySelector("body");\n  body?.insertAdjacentElement("beforeend", divElem);\n  const dim = { width: divElem.clientWidth, height: divElem.clientHeight };\n  divElem.remove();\n  return dim;\n}, "calculateMathMLDimensions");\nvar renderKatexUnsanitized = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(async (text, config2) => {\n  if (!hasKatex(text)) {\n    return text;\n  }\n  if (!(isMathMLSupported() || config2.legacyMathML || config2.forceLegacyMathML)) {\n    return text.replace(katexRegex, "MathML is unsupported in this environment.");\n  }\n  if (true) {\n    const { default: katex } = await __webpack_require__.e(/*! import() */ "diagram/otherDeps").then(__webpack_require__.bind(__webpack_require__, /*! katex */ "./node_modules/katex/dist/katex.mjs"));\n    const outputMode = config2.forceLegacyMathML || !isMathMLSupported() && config2.legacyMathML ? "htmlAndMathml" : "mathml";\n    return text.split(lineBreakRegex).map(\n      (line) => hasKatex(line) ? `<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${line}</div>` : `<div>${line}</div>`\n    ).join("").replace(\n      katexRegex,\n      (_, c) => katex.renderToString(c, {\n        throwOnError: true,\n        displayMode: true,\n        output: outputMode\n      }).replace(/\\n/g, " ").replace(/<annotation.*<\\/annotation>/g, "")\n    );\n  }\n  // removed by dead control flow\n\n}, "renderKatexUnsanitized");\nvar renderKatexSanitized = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(async (text, config2) => {\n  return sanitizeText(await renderKatexUnsanitized(text, config2), config2);\n}, "renderKatexSanitized");\nvar common_default = {\n  getRows,\n  sanitizeText,\n  sanitizeTextOrArray,\n  hasBreaks,\n  splitBreaks,\n  lineBreakRegex,\n  removeScript,\n  getUrl,\n  evaluate,\n  getMax,\n  getMin\n};\n\n// src/setupGraphViewbox.js\nvar d3Attrs = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(d3Elem, attrs) {\n  for (let attr of attrs) {\n    d3Elem.attr(attr[0], attr[1]);\n  }\n}, "d3Attrs");\nvar calculateSvgSizeAttrs = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(height, width, useMaxWidth) {\n  let attrs = /* @__PURE__ */ new Map();\n  if (useMaxWidth) {\n    attrs.set("width", "100%");\n    attrs.set("style", `max-width: ${width}px;`);\n  } else {\n    attrs.set("height", height);\n    attrs.set("width", width);\n  }\n  return attrs;\n}, "calculateSvgSizeAttrs");\nvar configureSvgSize = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(svgElem, height, width, useMaxWidth) {\n  const attrs = calculateSvgSizeAttrs(height, width, useMaxWidth);\n  d3Attrs(svgElem, attrs);\n}, "configureSvgSize");\nvar setupGraphViewbox = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(graph, svgElem, padding, useMaxWidth) {\n  const svgBounds = svgElem.node().getBBox();\n  const sWidth = svgBounds.width;\n  const sHeight = svgBounds.height;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.info(`SVG bounds: ${sWidth}x${sHeight}`, svgBounds);\n  let width = 0;\n  let height = 0;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.info(`Graph bounds: ${width}x${height}`, graph);\n  width = sWidth + padding * 2;\n  height = sHeight + padding * 2;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.info(`Calculated bounds: ${width}x${height}`);\n  configureSvgSize(svgElem, height, width, useMaxWidth);\n  const vBox = `${svgBounds.x - padding} ${svgBounds.y - padding} ${svgBounds.width + 2 * padding} ${svgBounds.height + 2 * padding}`;\n  svgElem.attr("viewBox", vBox);\n}, "setupGraphViewbox");\n\n// src/styles.ts\nvar themes = {};\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((type, userStyles, options) => {\n  let diagramStyles = "";\n  if (type in themes && themes[type]) {\n    diagramStyles = themes[type](options);\n  } else {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.warn(`No theme found for ${type}`);\n  }\n  return ` & {\n    font-family: ${options.fontFamily};\n    font-size: ${options.fontSize};\n    fill: ${options.textColor}\n  }\n  @keyframes edge-animation-frame {\n    from {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes dash {\n    to {\n      stroke-dashoffset: 0;\n    }\n  }\n  & .edge-animation-slow {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 50s linear infinite;\n    stroke-linecap: round;\n  }\n  & .edge-animation-fast {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 20s linear infinite;\n    stroke-linecap: round;\n  }\n  /* Classes common for multiple diagrams */\n\n  & .error-icon {\n    fill: ${options.errorBkgColor};\n  }\n  & .error-text {\n    fill: ${options.errorTextColor};\n    stroke: ${options.errorTextColor};\n  }\n\n  & .edge-thickness-normal {\n    stroke-width: 1px;\n  }\n  & .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  & .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n  & .edge-thickness-invisible {\n    stroke-width: 0;\n    fill: none;\n  }\n  & .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  & .marker {\n    fill: ${options.lineColor};\n    stroke: ${options.lineColor};\n  }\n  & .marker.cross {\n    stroke: ${options.lineColor};\n  }\n\n  & svg {\n    font-family: ${options.fontFamily};\n    font-size: ${options.fontSize};\n  }\n   & p {\n    margin: 0\n   }\n\n  ${diagramStyles}\n\n  ${userStyles}\n`;\n}, "getStyles");\nvar addStylesForDiagram = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((type, diagramTheme) => {\n  if (diagramTheme !== void 0) {\n    themes[type] = diagramTheme;\n  }\n}, "addStylesForDiagram");\nvar styles_default = getStyles;\n\n// src/diagrams/common/commonDb.ts\nvar commonDb_exports = {};\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__export)(commonDb_exports, {\n  clear: () => clear,\n  getAccDescription: () => getAccDescription,\n  getAccTitle: () => getAccTitle,\n  getDiagramTitle: () => getDiagramTitle,\n  setAccDescription: () => setAccDescription,\n  setAccTitle: () => setAccTitle,\n  setDiagramTitle: () => setDiagramTitle\n});\nvar accTitle = "";\nvar diagramTitle = "";\nvar accDescription = "";\nvar sanitizeText2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((txt) => sanitizeText(txt, getConfig()), "sanitizeText");\nvar clear = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(() => {\n  accTitle = "";\n  accDescription = "";\n  diagramTitle = "";\n}, "clear");\nvar setAccTitle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((txt) => {\n  accTitle = sanitizeText2(txt).replace(/^\\s+/g, "");\n}, "setAccTitle");\nvar getAccTitle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(() => accTitle, "getAccTitle");\nvar setAccDescription = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((txt) => {\n  accDescription = sanitizeText2(txt).replace(/\\n\\s+/g, "\\n");\n}, "setAccDescription");\nvar getAccDescription = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(() => accDescription, "getAccDescription");\nvar setDiagramTitle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((txt) => {\n  diagramTitle = sanitizeText2(txt);\n}, "setDiagramTitle");\nvar getDiagramTitle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(() => diagramTitle, "getDiagramTitle");\n\n// src/diagram-api/diagramAPI.ts\nvar log2 = _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log;\nvar setLogLevel2 = _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.setLogLevel;\nvar getConfig2 = getConfig;\nvar setConfig2 = setConfig;\nvar defaultConfig2 = defaultConfig;\nvar sanitizeText3 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((text) => sanitizeText(text, getConfig2()), "sanitizeText");\nvar setupGraphViewbox2 = setupGraphViewbox;\nvar getCommonDb = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(() => {\n  return commonDb_exports;\n}, "getCommonDb");\nvar diagrams = {};\nvar registerDiagram = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((id, diagram, detector) => {\n  if (diagrams[id]) {\n    log2.warn(`Diagram with id ${id} already registered. Overwriting.`);\n  }\n  diagrams[id] = diagram;\n  if (detector) {\n    addDetector(id, detector);\n  }\n  addStylesForDiagram(id, diagram.styles);\n  diagram.injectUtils?.(\n    log2,\n    setLogLevel2,\n    getConfig2,\n    sanitizeText3,\n    setupGraphViewbox2,\n    getCommonDb(),\n    () => {\n    }\n  );\n}, "registerDiagram");\nvar getDiagram = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((name) => {\n  if (name in diagrams) {\n    return diagrams[name];\n  }\n  throw new DiagramNotFoundError(name);\n}, "getDiagram");\nvar DiagramNotFoundError = class extends Error {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(this, "DiagramNotFoundError");\n  }\n  constructor(name) {\n    super(`Diagram ${name} not found.`);\n  }\n};\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __export: () => (/* binding */ __export),\n/* harmony export */   __name: () => (/* binding */ __name),\n/* harmony export */   log: () => (/* binding */ log),\n/* harmony export */   setLogLevel: () => (/* binding */ setLogLevel)\n/* harmony export */ });\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dayjs */ "./node_modules/dayjs/dayjs.min.js");\nvar __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, "name", { value, configurable: true });\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// src/logger.ts\n\nvar LEVELS = {\n  trace: 0,\n  debug: 1,\n  info: 2,\n  warn: 3,\n  error: 4,\n  fatal: 5\n};\nvar log = {\n  trace: /* @__PURE__ */ __name((..._args) => {\n  }, "trace"),\n  debug: /* @__PURE__ */ __name((..._args) => {\n  }, "debug"),\n  info: /* @__PURE__ */ __name((..._args) => {\n  }, "info"),\n  warn: /* @__PURE__ */ __name((..._args) => {\n  }, "warn"),\n  error: /* @__PURE__ */ __name((..._args) => {\n  }, "error"),\n  fatal: /* @__PURE__ */ __name((..._args) => {\n  }, "fatal")\n};\nvar setLogLevel = /* @__PURE__ */ __name(function(level = "fatal") {\n  let numericLevel = LEVELS.fatal;\n  if (typeof level === "string") {\n    if (level.toLowerCase() in LEVELS) {\n      numericLevel = LEVELS[level];\n    }\n  } else if (typeof level === "number") {\n    numericLevel = level;\n  }\n  log.trace = () => {\n  };\n  log.debug = () => {\n  };\n  log.info = () => {\n  };\n  log.warn = () => {\n  };\n  log.error = () => {\n  };\n  log.fatal = () => {\n  };\n  if (numericLevel <= LEVELS.fatal) {\n    log.fatal = console.error ? console.error.bind(console, format("FATAL"), "color: orange") : console.log.bind(console, "\\x1B[35m", format("FATAL"));\n  }\n  if (numericLevel <= LEVELS.error) {\n    log.error = console.error ? console.error.bind(console, format("ERROR"), "color: orange") : console.log.bind(console, "\\x1B[31m", format("ERROR"));\n  }\n  if (numericLevel <= LEVELS.warn) {\n    log.warn = console.warn ? console.warn.bind(console, format("WARN"), "color: orange") : console.log.bind(console, `\\x1B[33m`, format("WARN"));\n  }\n  if (numericLevel <= LEVELS.info) {\n    log.info = console.info ? console.info.bind(console, format("INFO"), "color: lightblue") : console.log.bind(console, "\\x1B[34m", format("INFO"));\n  }\n  if (numericLevel <= LEVELS.debug) {\n    log.debug = console.debug ? console.debug.bind(console, format("DEBUG"), "color: lightgreen") : console.log.bind(console, "\\x1B[32m", format("DEBUG"));\n  }\n  if (numericLevel <= LEVELS.trace) {\n    log.trace = console.debug ? console.debug.bind(console, format("TRACE"), "color: lightgreen") : console.log.bind(console, "\\x1B[32m", format("TRACE"));\n  }\n}, "setLogLevel");\nvar format = /* @__PURE__ */ __name((level) => {\n  const time = dayjs__WEBPACK_IMPORTED_MODULE_0__().format("ss.SSS");\n  return `%c${time} : ${level} : `;\n}, "format");\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compileStyles: () => (/* binding */ compileStyles),\n/* harmony export */   isLabelStyle: () => (/* binding */ isLabelStyle),\n/* harmony export */   solidStateFill: () => (/* binding */ solidStateFill),\n/* harmony export */   styles2String: () => (/* binding */ styles2String),\n/* harmony export */   userNodeOverrides: () => (/* binding */ userNodeOverrides)\n/* harmony export */ });\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n\n\n\n// src/rendering-util/rendering-elements/shapes/handDrawnShapeStyles.ts\nvar solidStateFill = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((color) => {\n  const { handDrawnSeed } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getConfig2)();\n  return {\n    fill: color,\n    hachureAngle: 120,\n    // angle of hachure,\n    hachureGap: 4,\n    fillWeight: 2,\n    roughness: 0.7,\n    stroke: color,\n    seed: handDrawnSeed\n  };\n}, "solidStateFill");\nvar compileStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((node) => {\n  const stylesMap = styles2Map([\n    ...node.cssCompiledStyles || [],\n    ...node.cssStyles || [],\n    ...node.labelStyle || []\n  ]);\n  return { stylesMap, stylesArray: [...stylesMap] };\n}, "compileStyles");\nvar styles2Map = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((styles) => {\n  const styleMap = /* @__PURE__ */ new Map();\n  styles.forEach((style) => {\n    const [key, value] = style.split(":");\n    styleMap.set(key.trim(), value?.trim());\n  });\n  return styleMap;\n}, "styles2Map");\nvar isLabelStyle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((key) => {\n  return key === "color" || key === "font-size" || key === "font-family" || key === "font-weight" || key === "font-style" || key === "text-decoration" || key === "text-align" || key === "text-transform" || key === "line-height" || key === "letter-spacing" || key === "word-spacing" || key === "text-shadow" || key === "text-overflow" || key === "white-space" || key === "word-wrap" || key === "word-break" || key === "overflow-wrap" || key === "hyphens";\n}, "isLabelStyle");\nvar styles2String = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((node) => {\n  const { stylesArray } = compileStyles(node);\n  const labelStyles = [];\n  const nodeStyles = [];\n  const borderStyles = [];\n  const backgroundStyles = [];\n  stylesArray.forEach((style) => {\n    const key = style[0];\n    if (isLabelStyle(key)) {\n      labelStyles.push(style.join(":") + " !important");\n    } else {\n      nodeStyles.push(style.join(":") + " !important");\n      if (key.includes("stroke")) {\n        borderStyles.push(style.join(":") + " !important");\n      }\n      if (key === "fill") {\n        backgroundStyles.push(style.join(":") + " !important");\n      }\n    }\n  });\n  return {\n    labelStyles: labelStyles.join(";"),\n    nodeStyles: nodeStyles.join(";"),\n    stylesArray,\n    borderStyles,\n    backgroundStyles\n  };\n}, "styles2String");\nvar userNodeOverrides = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((node, options) => {\n  const { themeVariables, handDrawnSeed } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getConfig2)();\n  const { nodeBorder, mainBkg } = themeVariables;\n  const { stylesMap } = compileStyles(node);\n  const result = Object.assign(\n    {\n      roughness: 0.7,\n      fill: stylesMap.get("fill") || mainBkg,\n      fillStyle: "hachure",\n      // solid fill\n      fillWeight: 4,\n      hachureGap: 5.2,\n      stroke: stylesMap.get("stroke") || nodeBorder,\n      seed: handDrawnSeed,\n      strokeWidth: stylesMap.get("stroke-width")?.replace("px", "") || 1.3,\n      fillLineDash: [0, 0],\n      strokeLineDash: getStrokeDashArray(stylesMap.get("stroke-dasharray"))\n    },\n    options\n  );\n  return result;\n}, "userNodeOverrides");\nvar getStrokeDashArray = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((strokeDasharrayStyle) => {\n  if (!strokeDasharrayStyle) {\n    return [0, 0];\n  }\n  const dashArray = strokeDasharrayStyle.trim().split(/\\s+/).map(Number);\n  if (dashArray.length === 1) {\n    const val = isNaN(dashArray[0]) ? 0 : dashArray[0];\n    return [val, val];\n  }\n  const first = isNaN(dashArray[0]) ? 0 : dashArray[0];\n  const second = isNaN(dashArray[1]) ? 0 : dashArray[1];\n  return [first, second];\n}, "getStrokeDashArray");\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-B4BG7PRW.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ClassDB: () => (/* binding */ ClassDB),\n/* harmony export */   classDiagram_default: () => (/* binding */ classDiagram_default),\n/* harmony export */   classRenderer_v3_unified_default: () => (/* binding */ classRenderer_v3_unified_default),\n/* harmony export */   styles_default: () => (/* binding */ styles_default)\n/* harmony export */ });\n/* harmony import */ var _chunk_FMBD7UC4_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-FMBD7UC4.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-FMBD7UC4.mjs");\n/* harmony import */ var _chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-55IACEB6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-55IACEB6.mjs");\n/* harmony import */ var _chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-QN33PNHL.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs");\n/* harmony import */ var _chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-N4CR4FBY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-N4CR4FBY.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n\n\n\n\n\n\n\n\n// src/diagrams/class/parser/classDiagram.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [1, 18], $V1 = [1, 19], $V2 = [1, 20], $V3 = [1, 41], $V4 = [1, 42], $V5 = [1, 26], $V6 = [1, 24], $V7 = [1, 25], $V8 = [1, 32], $V9 = [1, 33], $Va = [1, 34], $Vb = [1, 45], $Vc = [1, 35], $Vd = [1, 36], $Ve = [1, 37], $Vf = [1, 38], $Vg = [1, 27], $Vh = [1, 28], $Vi = [1, 29], $Vj = [1, 30], $Vk = [1, 31], $Vl = [1, 44], $Vm = [1, 46], $Vn = [1, 43], $Vo = [1, 47], $Vp = [1, 9], $Vq = [1, 8, 9], $Vr = [1, 58], $Vs = [1, 59], $Vt = [1, 60], $Vu = [1, 61], $Vv = [1, 62], $Vw = [1, 63], $Vx = [1, 64], $Vy = [1, 8, 9, 41], $Vz = [1, 76], $VA = [1, 8, 9, 12, 13, 22, 39, 41, 44, 68, 69, 70, 71, 72, 73, 74, 79, 81], $VB = [1, 8, 9, 12, 13, 18, 20, 22, 39, 41, 44, 50, 60, 68, 69, 70, 71, 72, 73, 74, 79, 81, 86, 100, 102, 103], $VC = [13, 60, 86, 100, 102, 103], $VD = [13, 60, 73, 74, 86, 100, 102, 103], $VE = [13, 60, 68, 69, 70, 71, 72, 86, 100, 102, 103], $VF = [1, 100], $VG = [1, 117], $VH = [1, 113], $VI = [1, 109], $VJ = [1, 115], $VK = [1, 110], $VL = [1, 111], $VM = [1, 112], $VN = [1, 114], $VO = [1, 116], $VP = [22, 48, 60, 61, 82, 86, 87, 88, 89, 90], $VQ = [1, 8, 9, 39, 41, 44], $VR = [1, 8, 9, 22], $VS = [1, 145], $VT = [1, 8, 9, 61], $VU = [1, 8, 9, 22, 48, 60, 61, 82, 86, 87, 88, 89, 90];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "start": 3, "mermaidDoc": 4, "statements": 5, "graphConfig": 6, "CLASS_DIAGRAM": 7, "NEWLINE": 8, "EOF": 9, "statement": 10, "classLabel": 11, "SQS": 12, "STR": 13, "SQE": 14, "namespaceName": 15, "alphaNumToken": 16, "classLiteralName": 17, "DOT": 18, "className": 19, "GENERICTYPE": 20, "relationStatement": 21, "LABEL": 22, "namespaceStatement": 23, "classStatement": 24, "memberStatement": 25, "annotationStatement": 26, "clickStatement": 27, "styleStatement": 28, "cssClassStatement": 29, "noteStatement": 30, "classDefStatement": 31, "direction": 32, "acc_title": 33, "acc_title_value": 34, "acc_descr": 35, "acc_descr_value": 36, "acc_descr_multiline_value": 37, "namespaceIdentifier": 38, "STRUCT_START": 39, "classStatements": 40, "STRUCT_STOP": 41, "NAMESPACE": 42, "classIdentifier": 43, "STYLE_SEPARATOR": 44, "members": 45, "CLASS": 46, "emptyBody": 47, "SPACE": 48, "ANNOTATION_START": 49, "ANNOTATION_END": 50, "MEMBER": 51, "SEPARATOR": 52, "relation": 53, "NOTE_FOR": 54, "noteText": 55, "NOTE": 56, "CLASSDEF": 57, "classList": 58, "stylesOpt": 59, "ALPHA": 60, "COMMA": 61, "direction_tb": 62, "direction_bt": 63, "direction_rl": 64, "direction_lr": 65, "relationType": 66, "lineType": 67, "AGGREGATION": 68, "EXTENSION": 69, "COMPOSITION": 70, "DEPENDENCY": 71, "LOLLIPOP": 72, "LINE": 73, "DOTTED_LINE": 74, "CALLBACK": 75, "LINK": 76, "LINK_TARGET": 77, "CLICK": 78, "CALLBACK_NAME": 79, "CALLBACK_ARGS": 80, "HREF": 81, "STYLE": 82, "CSSCLASS": 83, "style": 84, "styleComponent": 85, "NUM": 86, "COLON": 87, "UNIT": 88, "BRKT": 89, "PCT": 90, "commentToken": 91, "textToken": 92, "graphCodeTokens": 93, "textNoTagsToken": 94, "TAGSTART": 95, "TAGEND": 96, "==": 97, "--": 98, "DEFAULT": 99, "MINUS": 100, "keywords": 101, "UNICODE_TEXT": 102, "BQUOTE_STR": 103, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 7: "CLASS_DIAGRAM", 8: "NEWLINE", 9: "EOF", 12: "SQS", 13: "STR", 14: "SQE", 18: "DOT", 20: "GENERICTYPE", 22: "LABEL", 33: "acc_title", 34: "acc_title_value", 35: "acc_descr", 36: "acc_descr_value", 37: "acc_descr_multiline_value", 39: "STRUCT_START", 41: "STRUCT_STOP", 42: "NAMESPACE", 44: "STYLE_SEPARATOR", 46: "CLASS", 48: "SPACE", 49: "ANNOTATION_START", 50: "ANNOTATION_END", 51: "MEMBER", 52: "SEPARATOR", 54: "NOTE_FOR", 56: "NOTE", 57: "CLASSDEF", 60: "ALPHA", 61: "COMMA", 62: "direction_tb", 63: "direction_bt", 64: "direction_rl", 65: "direction_lr", 68: "AGGREGATION", 69: "EXTENSION", 70: "COMPOSITION", 71: "DEPENDENCY", 72: "LOLLIPOP", 73: "LINE", 74: "DOTTED_LINE", 75: "CALLBACK", 76: "LINK", 77: "LINK_TARGET", 78: "CLICK", 79: "CALLBACK_NAME", 80: "CALLBACK_ARGS", 81: "HREF", 82: "STYLE", 83: "CSSCLASS", 86: "NUM", 87: "COLON", 88: "UNIT", 89: "BRKT", 90: "PCT", 93: "graphCodeTokens", 95: "TAGSTART", 96: "TAGEND", 97: "==", 98: "--", 99: "DEFAULT", 100: "MINUS", 101: "keywords", 102: "UNICODE_TEXT", 103: "BQUOTE_STR" },\n    productions_: [0, [3, 1], [3, 1], [4, 1], [6, 4], [5, 1], [5, 2], [5, 3], [11, 3], [15, 1], [15, 1], [15, 3], [15, 2], [19, 1], [19, 3], [19, 1], [19, 2], [19, 2], [19, 2], [10, 1], [10, 2], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 2], [10, 2], [10, 1], [23, 4], [23, 5], [38, 2], [40, 1], [40, 2], [40, 3], [24, 1], [24, 3], [24, 4], [24, 3], [24, 6], [43, 2], [43, 3], [47, 0], [47, 2], [47, 2], [26, 4], [45, 1], [45, 2], [25, 1], [25, 2], [25, 1], [25, 1], [21, 3], [21, 4], [21, 4], [21, 5], [30, 3], [30, 2], [31, 3], [58, 1], [58, 3], [32, 1], [32, 1], [32, 1], [32, 1], [53, 3], [53, 2], [53, 2], [53, 1], [66, 1], [66, 1], [66, 1], [66, 1], [66, 1], [67, 1], [67, 1], [27, 3], [27, 4], [27, 3], [27, 4], [27, 4], [27, 5], [27, 3], [27, 4], [27, 4], [27, 5], [27, 4], [27, 5], [27, 5], [27, 6], [28, 3], [29, 3], [59, 1], [59, 3], [84, 1], [84, 2], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [91, 1], [91, 1], [92, 1], [92, 1], [92, 1], [92, 1], [92, 1], [92, 1], [92, 1], [94, 1], [94, 1], [94, 1], [94, 1], [16, 1], [16, 1], [16, 1], [16, 1], [17, 1], [55, 1]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 8:\n          this.$ = $$[$0 - 1];\n          break;\n        case 9:\n        case 10:\n        case 13:\n        case 15:\n          this.$ = $$[$0];\n          break;\n        case 11:\n        case 14:\n          this.$ = $$[$0 - 2] + "." + $$[$0];\n          break;\n        case 12:\n        case 16:\n          this.$ = $$[$0 - 1] + $$[$0];\n          break;\n        case 17:\n        case 18:\n          this.$ = $$[$0 - 1] + "~" + $$[$0] + "~";\n          break;\n        case 19:\n          yy.addRelation($$[$0]);\n          break;\n        case 20:\n          $$[$0 - 1].title = yy.cleanupLabel($$[$0]);\n          yy.addRelation($$[$0 - 1]);\n          break;\n        case 31:\n          this.$ = $$[$0].trim();\n          yy.setAccTitle(this.$);\n          break;\n        case 32:\n        case 33:\n          this.$ = $$[$0].trim();\n          yy.setAccDescription(this.$);\n          break;\n        case 34:\n          yy.addClassesToNamespace($$[$0 - 3], $$[$0 - 1]);\n          break;\n        case 35:\n          yy.addClassesToNamespace($$[$0 - 4], $$[$0 - 1]);\n          break;\n        case 36:\n          this.$ = $$[$0];\n          yy.addNamespace($$[$0]);\n          break;\n        case 37:\n          this.$ = [$$[$0]];\n          break;\n        case 38:\n          this.$ = [$$[$0 - 1]];\n          break;\n        case 39:\n          $$[$0].unshift($$[$0 - 2]);\n          this.$ = $$[$0];\n          break;\n        case 41:\n          yy.setCssClass($$[$0 - 2], $$[$0]);\n          break;\n        case 42:\n          yy.addMembers($$[$0 - 3], $$[$0 - 1]);\n          break;\n        case 44:\n          yy.setCssClass($$[$0 - 5], $$[$0 - 3]);\n          yy.addMembers($$[$0 - 5], $$[$0 - 1]);\n          break;\n        case 45:\n          this.$ = $$[$0];\n          yy.addClass($$[$0]);\n          break;\n        case 46:\n          this.$ = $$[$0 - 1];\n          yy.addClass($$[$0 - 1]);\n          yy.setClassLabel($$[$0 - 1], $$[$0]);\n          break;\n        case 50:\n          yy.addAnnotation($$[$0], $$[$0 - 2]);\n          break;\n        case 51:\n        case 64:\n          this.$ = [$$[$0]];\n          break;\n        case 52:\n          $$[$0].push($$[$0 - 1]);\n          this.$ = $$[$0];\n          break;\n        case 53:\n          break;\n        case 54:\n          yy.addMember($$[$0 - 1], yy.cleanupLabel($$[$0]));\n          break;\n        case 55:\n          break;\n        case 56:\n          break;\n        case 57:\n          this.$ = { "id1": $$[$0 - 2], "id2": $$[$0], relation: $$[$0 - 1], relationTitle1: "none", relationTitle2: "none" };\n          break;\n        case 58:\n          this.$ = { id1: $$[$0 - 3], id2: $$[$0], relation: $$[$0 - 1], relationTitle1: $$[$0 - 2], relationTitle2: "none" };\n          break;\n        case 59:\n          this.$ = { id1: $$[$0 - 3], id2: $$[$0], relation: $$[$0 - 2], relationTitle1: "none", relationTitle2: $$[$0 - 1] };\n          break;\n        case 60:\n          this.$ = { id1: $$[$0 - 4], id2: $$[$0], relation: $$[$0 - 2], relationTitle1: $$[$0 - 3], relationTitle2: $$[$0 - 1] };\n          break;\n        case 61:\n          yy.addNote($$[$0], $$[$0 - 1]);\n          break;\n        case 62:\n          yy.addNote($$[$0]);\n          break;\n        case 63:\n          this.$ = $$[$0 - 2];\n          yy.defineClass($$[$0 - 1], $$[$0]);\n          break;\n        case 65:\n          this.$ = $$[$0 - 2].concat([$$[$0]]);\n          break;\n        case 66:\n          yy.setDirection("TB");\n          break;\n        case 67:\n          yy.setDirection("BT");\n          break;\n        case 68:\n          yy.setDirection("RL");\n          break;\n        case 69:\n          yy.setDirection("LR");\n          break;\n        case 70:\n          this.$ = { type1: $$[$0 - 2], type2: $$[$0], lineType: $$[$0 - 1] };\n          break;\n        case 71:\n          this.$ = { type1: "none", type2: $$[$0], lineType: $$[$0 - 1] };\n          break;\n        case 72:\n          this.$ = { type1: $$[$0 - 1], type2: "none", lineType: $$[$0] };\n          break;\n        case 73:\n          this.$ = { type1: "none", type2: "none", lineType: $$[$0] };\n          break;\n        case 74:\n          this.$ = yy.relationType.AGGREGATION;\n          break;\n        case 75:\n          this.$ = yy.relationType.EXTENSION;\n          break;\n        case 76:\n          this.$ = yy.relationType.COMPOSITION;\n          break;\n        case 77:\n          this.$ = yy.relationType.DEPENDENCY;\n          break;\n        case 78:\n          this.$ = yy.relationType.LOLLIPOP;\n          break;\n        case 79:\n          this.$ = yy.lineType.LINE;\n          break;\n        case 80:\n          this.$ = yy.lineType.DOTTED_LINE;\n          break;\n        case 81:\n        case 87:\n          this.$ = $$[$0 - 2];\n          yy.setClickEvent($$[$0 - 1], $$[$0]);\n          break;\n        case 82:\n        case 88:\n          this.$ = $$[$0 - 3];\n          yy.setClickEvent($$[$0 - 2], $$[$0 - 1]);\n          yy.setTooltip($$[$0 - 2], $$[$0]);\n          break;\n        case 83:\n          this.$ = $$[$0 - 2];\n          yy.setLink($$[$0 - 1], $$[$0]);\n          break;\n        case 84:\n          this.$ = $$[$0 - 3];\n          yy.setLink($$[$0 - 2], $$[$0 - 1], $$[$0]);\n          break;\n        case 85:\n          this.$ = $$[$0 - 3];\n          yy.setLink($$[$0 - 2], $$[$0 - 1]);\n          yy.setTooltip($$[$0 - 2], $$[$0]);\n          break;\n        case 86:\n          this.$ = $$[$0 - 4];\n          yy.setLink($$[$0 - 3], $$[$0 - 2], $$[$0]);\n          yy.setTooltip($$[$0 - 3], $$[$0 - 1]);\n          break;\n        case 89:\n          this.$ = $$[$0 - 3];\n          yy.setClickEvent($$[$0 - 2], $$[$0 - 1], $$[$0]);\n          break;\n        case 90:\n          this.$ = $$[$0 - 4];\n          yy.setClickEvent($$[$0 - 3], $$[$0 - 2], $$[$0 - 1]);\n          yy.setTooltip($$[$0 - 3], $$[$0]);\n          break;\n        case 91:\n          this.$ = $$[$0 - 3];\n          yy.setLink($$[$0 - 2], $$[$0]);\n          break;\n        case 92:\n          this.$ = $$[$0 - 4];\n          yy.setLink($$[$0 - 3], $$[$0 - 1], $$[$0]);\n          break;\n        case 93:\n          this.$ = $$[$0 - 4];\n          yy.setLink($$[$0 - 3], $$[$0 - 1]);\n          yy.setTooltip($$[$0 - 3], $$[$0]);\n          break;\n        case 94:\n          this.$ = $$[$0 - 5];\n          yy.setLink($$[$0 - 4], $$[$0 - 2], $$[$0]);\n          yy.setTooltip($$[$0 - 4], $$[$0 - 1]);\n          break;\n        case 95:\n          this.$ = $$[$0 - 2];\n          yy.setCssStyle($$[$0 - 1], $$[$0]);\n          break;\n        case 96:\n          yy.setCssClass($$[$0 - 1], $$[$0]);\n          break;\n        case 97:\n          this.$ = [$$[$0]];\n          break;\n        case 98:\n          $$[$0 - 2].push($$[$0]);\n          this.$ = $$[$0 - 2];\n          break;\n        case 100:\n          this.$ = $$[$0 - 1] + $$[$0];\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 3: 1, 4: 2, 5: 3, 6: 4, 7: [1, 6], 10: 5, 16: 39, 17: 40, 19: 21, 21: 7, 23: 8, 24: 9, 25: 10, 26: 11, 27: 12, 28: 13, 29: 14, 30: 15, 31: 16, 32: 17, 33: $V0, 35: $V1, 37: $V2, 38: 22, 42: $V3, 43: 23, 46: $V4, 49: $V5, 51: $V6, 52: $V7, 54: $V8, 56: $V9, 57: $Va, 60: $Vb, 62: $Vc, 63: $Vd, 64: $Ve, 65: $Vf, 75: $Vg, 76: $Vh, 78: $Vi, 82: $Vj, 83: $Vk, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, { 1: [3] }, { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3] }, o($Vp, [2, 5], { 8: [1, 48] }), { 8: [1, 49] }, o($Vq, [2, 19], { 22: [1, 50] }), o($Vq, [2, 21]), o($Vq, [2, 22]), o($Vq, [2, 23]), o($Vq, [2, 24]), o($Vq, [2, 25]), o($Vq, [2, 26]), o($Vq, [2, 27]), o($Vq, [2, 28]), o($Vq, [2, 29]), o($Vq, [2, 30]), { 34: [1, 51] }, { 36: [1, 52] }, o($Vq, [2, 33]), o($Vq, [2, 53], { 53: 53, 66: 56, 67: 57, 13: [1, 54], 22: [1, 55], 68: $Vr, 69: $Vs, 70: $Vt, 71: $Vu, 72: $Vv, 73: $Vw, 74: $Vx }), { 39: [1, 65] }, o($Vy, [2, 40], { 39: [1, 67], 44: [1, 66] }), o($Vq, [2, 55]), o($Vq, [2, 56]), { 16: 68, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn }, { 16: 39, 17: 40, 19: 69, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, { 16: 39, 17: 40, 19: 70, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, { 16: 39, 17: 40, 19: 71, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, { 60: [1, 72] }, { 13: [1, 73] }, { 16: 39, 17: 40, 19: 74, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, { 13: $Vz, 55: 75 }, { 58: 77, 60: [1, 78] }, o($Vq, [2, 66]), o($Vq, [2, 67]), o($Vq, [2, 68]), o($Vq, [2, 69]), o($VA, [2, 13], { 16: 39, 17: 40, 19: 80, 18: [1, 79], 20: [1, 81], 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }), o($VA, [2, 15], { 20: [1, 82] }), { 15: 83, 16: 84, 17: 85, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, { 16: 39, 17: 40, 19: 86, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, o($VB, [2, 123]), o($VB, [2, 124]), o($VB, [2, 125]), o($VB, [2, 126]), o([1, 8, 9, 12, 13, 20, 22, 39, 41, 44, 68, 69, 70, 71, 72, 73, 74, 79, 81], [2, 127]), o($Vp, [2, 6], { 10: 5, 21: 7, 23: 8, 24: 9, 25: 10, 26: 11, 27: 12, 28: 13, 29: 14, 30: 15, 31: 16, 32: 17, 19: 21, 38: 22, 43: 23, 16: 39, 17: 40, 5: 87, 33: $V0, 35: $V1, 37: $V2, 42: $V3, 46: $V4, 49: $V5, 51: $V6, 52: $V7, 54: $V8, 56: $V9, 57: $Va, 60: $Vb, 62: $Vc, 63: $Vd, 64: $Ve, 65: $Vf, 75: $Vg, 76: $Vh, 78: $Vi, 82: $Vj, 83: $Vk, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }), { 5: 88, 10: 5, 16: 39, 17: 40, 19: 21, 21: 7, 23: 8, 24: 9, 25: 10, 26: 11, 27: 12, 28: 13, 29: 14, 30: 15, 31: 16, 32: 17, 33: $V0, 35: $V1, 37: $V2, 38: 22, 42: $V3, 43: 23, 46: $V4, 49: $V5, 51: $V6, 52: $V7, 54: $V8, 56: $V9, 57: $Va, 60: $Vb, 62: $Vc, 63: $Vd, 64: $Ve, 65: $Vf, 75: $Vg, 76: $Vh, 78: $Vi, 82: $Vj, 83: $Vk, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, o($Vq, [2, 20]), o($Vq, [2, 31]), o($Vq, [2, 32]), { 13: [1, 90], 16: 39, 17: 40, 19: 89, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, { 53: 91, 66: 56, 67: 57, 68: $Vr, 69: $Vs, 70: $Vt, 71: $Vu, 72: $Vv, 73: $Vw, 74: $Vx }, o($Vq, [2, 54]), { 67: 92, 73: $Vw, 74: $Vx }, o($VC, [2, 73], { 66: 93, 68: $Vr, 69: $Vs, 70: $Vt, 71: $Vu, 72: $Vv }), o($VD, [2, 74]), o($VD, [2, 75]), o($VD, [2, 76]), o($VD, [2, 77]), o($VD, [2, 78]), o($VE, [2, 79]), o($VE, [2, 80]), { 8: [1, 95], 24: 96, 40: 94, 43: 23, 46: $V4 }, { 16: 97, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn }, { 41: [1, 99], 45: 98, 51: $VF }, { 50: [1, 101] }, { 13: [1, 102] }, { 13: [1, 103] }, { 79: [1, 104], 81: [1, 105] }, { 22: $VG, 48: $VH, 59: 106, 60: $VI, 82: $VJ, 84: 107, 85: 108, 86: $VK, 87: $VL, 88: $VM, 89: $VN, 90: $VO }, { 60: [1, 118] }, { 13: $Vz, 55: 119 }, o($Vq, [2, 62]), o($Vq, [2, 128]), { 22: $VG, 48: $VH, 59: 120, 60: $VI, 61: [1, 121], 82: $VJ, 84: 107, 85: 108, 86: $VK, 87: $VL, 88: $VM, 89: $VN, 90: $VO }, o($VP, [2, 64]), { 16: 39, 17: 40, 19: 122, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, o($VA, [2, 16]), o($VA, [2, 17]), o($VA, [2, 18]), { 39: [2, 36] }, { 15: 124, 16: 84, 17: 85, 18: [1, 123], 39: [2, 9], 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, { 39: [2, 10] }, o($VQ, [2, 45], { 11: 125, 12: [1, 126] }), o($Vp, [2, 7]), { 9: [1, 127] }, o($VR, [2, 57]), { 16: 39, 17: 40, 19: 128, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, { 13: [1, 130], 16: 39, 17: 40, 19: 129, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, o($VC, [2, 72], { 66: 131, 68: $Vr, 69: $Vs, 70: $Vt, 71: $Vu, 72: $Vv }), o($VC, [2, 71]), { 41: [1, 132] }, { 24: 96, 40: 133, 43: 23, 46: $V4 }, { 8: [1, 134], 41: [2, 37] }, o($Vy, [2, 41], { 39: [1, 135] }), { 41: [1, 136] }, o($Vy, [2, 43]), { 41: [2, 51], 45: 137, 51: $VF }, { 16: 39, 17: 40, 19: 138, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, o($Vq, [2, 81], { 13: [1, 139] }), o($Vq, [2, 83], { 13: [1, 141], 77: [1, 140] }), o($Vq, [2, 87], { 13: [1, 142], 80: [1, 143] }), { 13: [1, 144] }, o($Vq, [2, 95], { 61: $VS }), o($VT, [2, 97], { 85: 146, 22: $VG, 48: $VH, 60: $VI, 82: $VJ, 86: $VK, 87: $VL, 88: $VM, 89: $VN, 90: $VO }), o($VU, [2, 99]), o($VU, [2, 101]), o($VU, [2, 102]), o($VU, [2, 103]), o($VU, [2, 104]), o($VU, [2, 105]), o($VU, [2, 106]), o($VU, [2, 107]), o($VU, [2, 108]), o($VU, [2, 109]), o($Vq, [2, 96]), o($Vq, [2, 61]), o($Vq, [2, 63], { 61: $VS }), { 60: [1, 147] }, o($VA, [2, 14]), { 15: 148, 16: 84, 17: 85, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, { 39: [2, 12] }, o($VQ, [2, 46]), { 13: [1, 149] }, { 1: [2, 4] }, o($VR, [2, 59]), o($VR, [2, 58]), { 16: 39, 17: 40, 19: 150, 60: $Vb, 86: $Vl, 100: $Vm, 102: $Vn, 103: $Vo }, o($VC, [2, 70]), o($Vq, [2, 34]), { 41: [1, 151] }, { 24: 96, 40: 152, 41: [2, 38], 43: 23, 46: $V4 }, { 45: 153, 51: $VF }, o($Vy, [2, 42]), { 41: [2, 52] }, o($Vq, [2, 50]), o($Vq, [2, 82]), o($Vq, [2, 84]), o($Vq, [2, 85], { 77: [1, 154] }), o($Vq, [2, 88]), o($Vq, [2, 89], { 13: [1, 155] }), o($Vq, [2, 91], { 13: [1, 157], 77: [1, 156] }), { 22: $VG, 48: $VH, 60: $VI, 82: $VJ, 84: 158, 85: 108, 86: $VK, 87: $VL, 88: $VM, 89: $VN, 90: $VO }, o($VU, [2, 100]), o($VP, [2, 65]), { 39: [2, 11] }, { 14: [1, 159] }, o($VR, [2, 60]), o($Vq, [2, 35]), { 41: [2, 39] }, { 41: [1, 160] }, o($Vq, [2, 86]), o($Vq, [2, 90]), o($Vq, [2, 92]), o($Vq, [2, 93], { 77: [1, 161] }), o($VT, [2, 98], { 85: 146, 22: $VG, 48: $VH, 60: $VI, 82: $VJ, 86: $VK, 87: $VL, 88: $VM, 89: $VN, 90: $VO }), o($VQ, [2, 8]), o($Vy, [2, 44]), o($Vq, [2, 94])],\n    defaultActions: { 2: [2, 1], 3: [2, 2], 4: [2, 3], 83: [2, 36], 85: [2, 10], 124: [2, 12], 127: [2, 4], 137: [2, 52], 148: [2, 11], 152: [2, 39] },\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: {},\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            return 62;\n            // removed by dead control flow\n\n          case 1:\n            return 63;\n            // removed by dead control flow\n\n          case 2:\n            return 64;\n            // removed by dead control flow\n\n          case 3:\n            return 65;\n            // removed by dead control flow\n\n          case 4:\n            break;\n          case 5:\n            break;\n          case 6:\n            this.begin("acc_title");\n            return 33;\n            // removed by dead control flow\n\n          case 7:\n            this.popState();\n            return "acc_title_value";\n            // removed by dead control flow\n\n          case 8:\n            this.begin("acc_descr");\n            return 35;\n            // removed by dead control flow\n\n          case 9:\n            this.popState();\n            return "acc_descr_value";\n            // removed by dead control flow\n\n          case 10:\n            this.begin("acc_descr_multiline");\n            break;\n          case 11:\n            this.popState();\n            break;\n          case 12:\n            return "acc_descr_multiline_value";\n            // removed by dead control flow\n\n          case 13:\n            return 8;\n            // removed by dead control flow\n\n          case 14:\n            break;\n          case 15:\n            return 7;\n            // removed by dead control flow\n\n          case 16:\n            return 7;\n            // removed by dead control flow\n\n          case 17:\n            return "EDGE_STATE";\n            // removed by dead control flow\n\n          case 18:\n            this.begin("callback_name");\n            break;\n          case 19:\n            this.popState();\n            break;\n          case 20:\n            this.popState();\n            this.begin("callback_args");\n            break;\n          case 21:\n            return 79;\n            // removed by dead control flow\n\n          case 22:\n            this.popState();\n            break;\n          case 23:\n            return 80;\n            // removed by dead control flow\n\n          case 24:\n            this.popState();\n            break;\n          case 25:\n            return "STR";\n            // removed by dead control flow\n\n          case 26:\n            this.begin("string");\n            break;\n          case 27:\n            return 82;\n            // removed by dead control flow\n\n          case 28:\n            return 57;\n            // removed by dead control flow\n\n          case 29:\n            this.begin("namespace");\n            return 42;\n            // removed by dead control flow\n\n          case 30:\n            this.popState();\n            return 8;\n            // removed by dead control flow\n\n          case 31:\n            break;\n          case 32:\n            this.begin("namespace-body");\n            return 39;\n            // removed by dead control flow\n\n          case 33:\n            this.popState();\n            return 41;\n            // removed by dead control flow\n\n          case 34:\n            return "EOF_IN_STRUCT";\n            // removed by dead control flow\n\n          case 35:\n            return 8;\n            // removed by dead control flow\n\n          case 36:\n            break;\n          case 37:\n            return "EDGE_STATE";\n            // removed by dead control flow\n\n          case 38:\n            this.begin("class");\n            return 46;\n            // removed by dead control flow\n\n          case 39:\n            this.popState();\n            return 8;\n            // removed by dead control flow\n\n          case 40:\n            break;\n          case 41:\n            this.popState();\n            this.popState();\n            return 41;\n            // removed by dead control flow\n\n          case 42:\n            this.begin("class-body");\n            return 39;\n            // removed by dead control flow\n\n          case 43:\n            this.popState();\n            return 41;\n            // removed by dead control flow\n\n          case 44:\n            return "EOF_IN_STRUCT";\n            // removed by dead control flow\n\n          case 45:\n            return "EDGE_STATE";\n            // removed by dead control flow\n\n          case 46:\n            return "OPEN_IN_STRUCT";\n            // removed by dead control flow\n\n          case 47:\n            break;\n          case 48:\n            return "MEMBER";\n            // removed by dead control flow\n\n          case 49:\n            return 83;\n            // removed by dead control flow\n\n          case 50:\n            return 75;\n            // removed by dead control flow\n\n          case 51:\n            return 76;\n            // removed by dead control flow\n\n          case 52:\n            return 78;\n            // removed by dead control flow\n\n          case 53:\n            return 54;\n            // removed by dead control flow\n\n          case 54:\n            return 56;\n            // removed by dead control flow\n\n          case 55:\n            return 49;\n            // removed by dead control flow\n\n          case 56:\n            return 50;\n            // removed by dead control flow\n\n          case 57:\n            return 81;\n            // removed by dead control flow\n\n          case 58:\n            this.popState();\n            break;\n          case 59:\n            return "GENERICTYPE";\n            // removed by dead control flow\n\n          case 60:\n            this.begin("generic");\n            break;\n          case 61:\n            this.popState();\n            break;\n          case 62:\n            return "BQUOTE_STR";\n            // removed by dead control flow\n\n          case 63:\n            this.begin("bqstring");\n            break;\n          case 64:\n            return 77;\n            // removed by dead control flow\n\n          case 65:\n            return 77;\n            // removed by dead control flow\n\n          case 66:\n            return 77;\n            // removed by dead control flow\n\n          case 67:\n            return 77;\n            // removed by dead control flow\n\n          case 68:\n            return 69;\n            // removed by dead control flow\n\n          case 69:\n            return 69;\n            // removed by dead control flow\n\n          case 70:\n            return 71;\n            // removed by dead control flow\n\n          case 71:\n            return 71;\n            // removed by dead control flow\n\n          case 72:\n            return 70;\n            // removed by dead control flow\n\n          case 73:\n            return 68;\n            // removed by dead control flow\n\n          case 74:\n            return 72;\n            // removed by dead control flow\n\n          case 75:\n            return 73;\n            // removed by dead control flow\n\n          case 76:\n            return 74;\n            // removed by dead control flow\n\n          case 77:\n            return 22;\n            // removed by dead control flow\n\n          case 78:\n            return 44;\n            // removed by dead control flow\n\n          case 79:\n            return 100;\n            // removed by dead control flow\n\n          case 80:\n            return 18;\n            // removed by dead control flow\n\n          case 81:\n            return "PLUS";\n            // removed by dead control flow\n\n          case 82:\n            return 87;\n            // removed by dead control flow\n\n          case 83:\n            return 61;\n            // removed by dead control flow\n\n          case 84:\n            return 89;\n            // removed by dead control flow\n\n          case 85:\n            return 89;\n            // removed by dead control flow\n\n          case 86:\n            return 90;\n            // removed by dead control flow\n\n          case 87:\n            return "EQUALS";\n            // removed by dead control flow\n\n          case 88:\n            return "EQUALS";\n            // removed by dead control flow\n\n          case 89:\n            return 60;\n            // removed by dead control flow\n\n          case 90:\n            return 12;\n            // removed by dead control flow\n\n          case 91:\n            return 14;\n            // removed by dead control flow\n\n          case 92:\n            return "PUNCTUATION";\n            // removed by dead control flow\n\n          case 93:\n            return 86;\n            // removed by dead control flow\n\n          case 94:\n            return 102;\n            // removed by dead control flow\n\n          case 95:\n            return 48;\n            // removed by dead control flow\n\n          case 96:\n            return 48;\n            // removed by dead control flow\n\n          case 97:\n            return 9;\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:.*direction\\s+TB[^\\n]*)/, /^(?:.*direction\\s+BT[^\\n]*)/, /^(?:.*direction\\s+RL[^\\n]*)/, /^(?:.*direction\\s+LR[^\\n]*)/, /^(?:%%(?!\\{)*[^\\n]*(\\r?\\n?)+)/, /^(?:%%[^\\n]*(\\r?\\n)*)/, /^(?:accTitle\\s*:\\s*)/, /^(?:(?!\\n||)*[^\\n]*)/, /^(?:accDescr\\s*:\\s*)/, /^(?:(?!\\n||)*[^\\n]*)/, /^(?:accDescr\\s*\\{\\s*)/, /^(?:[\\}])/, /^(?:[^\\}]*)/, /^(?:\\s*(\\r?\\n)+)/, /^(?:\\s+)/, /^(?:classDiagram-v2\\b)/, /^(?:classDiagram\\b)/, /^(?:\\[\\*\\])/, /^(?:call[\\s]+)/, /^(?:\\([\\s]*\\))/, /^(?:\\()/, /^(?:[^(]*)/, /^(?:\\))/, /^(?:[^)]*)/, /^(?:["])/, /^(?:[^"]*)/, /^(?:["])/, /^(?:style\\b)/, /^(?:classDef\\b)/, /^(?:namespace\\b)/, /^(?:\\s*(\\r?\\n)+)/, /^(?:\\s+)/, /^(?:[{])/, /^(?:[}])/, /^(?:$)/, /^(?:\\s*(\\r?\\n)+)/, /^(?:\\s+)/, /^(?:\\[\\*\\])/, /^(?:class\\b)/, /^(?:\\s*(\\r?\\n)+)/, /^(?:\\s+)/, /^(?:[}])/, /^(?:[{])/, /^(?:[}])/, /^(?:$)/, /^(?:\\[\\*\\])/, /^(?:[{])/, /^(?:[\\n])/, /^(?:[^{}\\n]*)/, /^(?:cssClass\\b)/, /^(?:callback\\b)/, /^(?:link\\b)/, /^(?:click\\b)/, /^(?:note for\\b)/, /^(?:note\\b)/, /^(?:<<)/, /^(?:>>)/, /^(?:href\\b)/, /^(?:[~])/, /^(?:[^~]*)/, /^(?:~)/, /^(?:[`])/, /^(?:[^`]+)/, /^(?:[`])/, /^(?:_self\\b)/, /^(?:_blank\\b)/, /^(?:_parent\\b)/, /^(?:_top\\b)/, /^(?:\\s*<\\|)/, /^(?:\\s*\\|>)/, /^(?:\\s*>)/, /^(?:\\s*<)/, /^(?:\\s*\\*)/, /^(?:\\s*o\\b)/, /^(?:\\s*\\(\\))/, /^(?:--)/, /^(?:\\.\\.)/, /^(?::{1}[^:\\n;]+)/, /^(?::{3})/, /^(?:-)/, /^(?:\\.)/, /^(?:\\+)/, /^(?::)/, /^(?:,)/, /^(?:#)/, /^(?:#)/, /^(?:%)/, /^(?:=)/, /^(?:=)/, /^(?:\\w+)/, /^(?:\\[)/, /^(?:\\])/, /^(?:[!"#$%&\'*+,-.`?\\\\/])/, /^(?:[0-9]+)/, /^(?:[\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6]|[\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377]|[\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5]|[\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA]|[\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE]|[\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA]|[\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0]|[\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977]|[\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2]|[\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A]|[\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39]|[\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8]|[\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C]|[\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C]|[\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99]|[\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0]|[\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D]|[\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3]|[\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10]|[\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1]|[\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81]|[\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3]|[\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6]|[\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A]|[\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081]|[\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D]|[\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0]|[\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310]|[\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C]|[\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711]|[\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7]|[\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C]|[\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16]|[\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF]|[\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC]|[\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D]|[\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D]|[\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3]|[\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F]|[\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128]|[\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184]|[\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3]|[\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6]|[\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE]|[\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C]|[\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D]|[\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC]|[\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B]|[\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788]|[\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805]|[\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB]|[\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28]|[\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5]|[\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4]|[\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E]|[\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D]|[\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36]|[\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D]|[\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC]|[\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF]|[\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC])/, /^(?:\\s)/, /^(?:\\s)/, /^(?:$)/],\n      conditions: { "namespace-body": { "rules": [26, 33, 34, 35, 36, 37, 38, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], "inclusive": false }, "namespace": { "rules": [26, 29, 30, 31, 32, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], "inclusive": false }, "class-body": { "rules": [26, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], "inclusive": false }, "class": { "rules": [26, 39, 40, 41, 42, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], "inclusive": false }, "acc_descr_multiline": { "rules": [11, 12, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], "inclusive": false }, "acc_descr": { "rules": [9, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], "inclusive": false }, "acc_title": { "rules": [7, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], "inclusive": false }, "callback_args": { "rules": [22, 23, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], "inclusive": false }, "callback_name": { "rules": [19, 20, 21, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], "inclusive": false }, "href": { "rules": [26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], "inclusive": false }, "struct": { "rules": [26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], "inclusive": false }, "generic": { "rules": [26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], "inclusive": false }, "bqstring": { "rules": [26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], "inclusive": false }, "string": { "rules": [24, 25, 26, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 97], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 3, 4, 5, 6, 8, 10, 13, 14, 15, 16, 17, 18, 26, 27, 28, 29, 38, 49, 50, 51, 52, 53, 54, 55, 56, 57, 60, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar classDiagram_default = parser;\n\n// src/diagrams/class/classDb.ts\n\n\n// src/diagrams/class/classTypes.ts\nvar visibilityValues = ["#", "+", "~", "-", ""];\nvar ClassMember = class {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(this, "ClassMember");\n  }\n  constructor(input, memberType) {\n    this.memberType = memberType;\n    this.visibility = "";\n    this.classifier = "";\n    this.text = "";\n    const sanitizedInput = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.sanitizeText)(input, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)());\n    this.parseMember(sanitizedInput);\n  }\n  getDisplayDetails() {\n    let displayText = this.visibility + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.parseGenericTypes)(this.id);\n    if (this.memberType === "method") {\n      displayText += `(${(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.parseGenericTypes)(this.parameters.trim())})`;\n      if (this.returnType) {\n        displayText += " : " + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.parseGenericTypes)(this.returnType);\n      }\n    }\n    displayText = displayText.trim();\n    const cssStyle = this.parseClassifier();\n    return {\n      displayText,\n      cssStyle\n    };\n  }\n  parseMember(input) {\n    let potentialClassifier = "";\n    if (this.memberType === "method") {\n      const methodRegEx = /([#+~-])?(.+)\\((.*)\\)([\\s$*])?(.*)([$*])?/;\n      const match = methodRegEx.exec(input);\n      if (match) {\n        const detectedVisibility = match[1] ? match[1].trim() : "";\n        if (visibilityValues.includes(detectedVisibility)) {\n          this.visibility = detectedVisibility;\n        }\n        this.id = match[2];\n        this.parameters = match[3] ? match[3].trim() : "";\n        potentialClassifier = match[4] ? match[4].trim() : "";\n        this.returnType = match[5] ? match[5].trim() : "";\n        if (potentialClassifier === "") {\n          const lastChar = this.returnType.substring(this.returnType.length - 1);\n          if (/[$*]/.exec(lastChar)) {\n            potentialClassifier = lastChar;\n            this.returnType = this.returnType.substring(0, this.returnType.length - 1);\n          }\n        }\n      }\n    } else {\n      const length = input.length;\n      const firstChar = input.substring(0, 1);\n      const lastChar = input.substring(length - 1);\n      if (visibilityValues.includes(firstChar)) {\n        this.visibility = firstChar;\n      }\n      if (/[$*]/.exec(lastChar)) {\n        potentialClassifier = lastChar;\n      }\n      this.id = input.substring(\n        this.visibility === "" ? 0 : 1,\n        potentialClassifier === "" ? length : length - 1\n      );\n    }\n    this.classifier = potentialClassifier;\n    this.id = this.id.startsWith(" ") ? " " + this.id.trim() : this.id.trim();\n    const combinedText = `${this.visibility ? "\\\\" + this.visibility : ""}${(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.parseGenericTypes)(this.id)}${this.memberType === "method" ? `(${(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.parseGenericTypes)(this.parameters)})${this.returnType ? " : " + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.parseGenericTypes)(this.returnType) : ""}` : ""}`;\n    this.text = combinedText.replaceAll("<", "&lt;").replaceAll(">", "&gt;");\n    if (this.text.startsWith("\\\\&lt;")) {\n      this.text = this.text.replace("\\\\&lt;", "~");\n    }\n  }\n  parseClassifier() {\n    switch (this.classifier) {\n      case "*":\n        return "font-style:italic;";\n      case "$":\n        return "text-decoration:underline;";\n      default:\n        return "";\n    }\n  }\n};\n\n// src/diagrams/class/classDb.ts\nvar MERMAID_DOM_ID_PREFIX = "classId-";\nvar classCounter = 0;\nvar sanitizeText2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((txt) => _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.common_default.sanitizeText(txt, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)()), "sanitizeText");\nvar ClassDB = class {\n  constructor() {\n    this.relations = [];\n    this.classes = /* @__PURE__ */ new Map();\n    this.styleClasses = /* @__PURE__ */ new Map();\n    this.notes = [];\n    this.interfaces = [];\n    // private static classCounter = 0;\n    this.namespaces = /* @__PURE__ */ new Map();\n    this.namespaceCounter = 0;\n    this.functions = [];\n    this.lineType = {\n      LINE: 0,\n      DOTTED_LINE: 1\n    };\n    this.relationType = {\n      AGGREGATION: 0,\n      EXTENSION: 1,\n      COMPOSITION: 2,\n      DEPENDENCY: 3,\n      LOLLIPOP: 4\n    };\n    this.setupToolTips = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((element) => {\n      let tooltipElem = (0,d3__WEBPACK_IMPORTED_MODULE_7__.select)(".mermaidTooltip");\n      if ((tooltipElem._groups || tooltipElem)[0][0] === null) {\n        tooltipElem = (0,d3__WEBPACK_IMPORTED_MODULE_7__.select)("body").append("div").attr("class", "mermaidTooltip").style("opacity", 0);\n      }\n      const svg = (0,d3__WEBPACK_IMPORTED_MODULE_7__.select)(element).select("svg");\n      const nodes = svg.selectAll("g.node");\n      nodes.on("mouseover", (event) => {\n        const el = (0,d3__WEBPACK_IMPORTED_MODULE_7__.select)(event.currentTarget);\n        const title = el.attr("title");\n        if (title === null) {\n          return;\n        }\n        const rect = this.getBoundingClientRect();\n        tooltipElem.transition().duration(200).style("opacity", ".9");\n        tooltipElem.text(el.attr("title")).style("left", window.scrollX + rect.left + (rect.right - rect.left) / 2 + "px").style("top", window.scrollY + rect.top - 14 + document.body.scrollTop + "px");\n        tooltipElem.html(tooltipElem.html().replace(/&lt;br\\/&gt;/g, "<br/>"));\n        el.classed("hover", true);\n      }).on("mouseout", (event) => {\n        tooltipElem.transition().duration(500).style("opacity", 0);\n        const el = (0,d3__WEBPACK_IMPORTED_MODULE_7__.select)(event.currentTarget);\n        el.classed("hover", false);\n      });\n    }, "setupToolTips");\n    this.direction = "TB";\n    this.setAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.setAccTitle;\n    this.getAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getAccTitle;\n    this.setAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.setAccDescription;\n    this.getAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getAccDescription;\n    this.setDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.setDiagramTitle;\n    this.getDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getDiagramTitle;\n    this.getConfig = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(() => (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)().class, "getConfig");\n    this.functions.push(this.setupToolTips.bind(this));\n    this.clear();\n    this.addRelation = this.addRelation.bind(this);\n    this.addClassesToNamespace = this.addClassesToNamespace.bind(this);\n    this.addNamespace = this.addNamespace.bind(this);\n    this.setCssClass = this.setCssClass.bind(this);\n    this.addMembers = this.addMembers.bind(this);\n    this.addClass = this.addClass.bind(this);\n    this.setClassLabel = this.setClassLabel.bind(this);\n    this.addAnnotation = this.addAnnotation.bind(this);\n    this.addMember = this.addMember.bind(this);\n    this.cleanupLabel = this.cleanupLabel.bind(this);\n    this.addNote = this.addNote.bind(this);\n    this.defineClass = this.defineClass.bind(this);\n    this.setDirection = this.setDirection.bind(this);\n    this.setLink = this.setLink.bind(this);\n    this.bindFunctions = this.bindFunctions.bind(this);\n    this.clear = this.clear.bind(this);\n    this.setTooltip = this.setTooltip.bind(this);\n    this.setClickEvent = this.setClickEvent.bind(this);\n    this.setCssStyle = this.setCssStyle.bind(this);\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(this, "ClassDB");\n  }\n  splitClassNameAndType(_id) {\n    const id = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.common_default.sanitizeText(_id, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)());\n    let genericType = "";\n    let className = id;\n    if (id.indexOf("~") > 0) {\n      const split = id.split("~");\n      className = sanitizeText2(split[0]);\n      genericType = sanitizeText2(split[1]);\n    }\n    return { className, type: genericType };\n  }\n  setClassLabel(_id, label) {\n    const id = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.common_default.sanitizeText(_id, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)());\n    if (label) {\n      label = sanitizeText2(label);\n    }\n    const { className } = this.splitClassNameAndType(id);\n    this.classes.get(className).label = label;\n    this.classes.get(className).text = `${label}${this.classes.get(className).type ? `<${this.classes.get(className).type}>` : ""}`;\n  }\n  /**\n   * Function called by parser when a node definition has been found.\n   *\n   * @param id - ID of the class to add\n   * @public\n   */\n  addClass(_id) {\n    const id = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.common_default.sanitizeText(_id, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)());\n    const { className, type } = this.splitClassNameAndType(id);\n    if (this.classes.has(className)) {\n      return;\n    }\n    const name = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.common_default.sanitizeText(className, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)());\n    this.classes.set(name, {\n      id: name,\n      type,\n      label: name,\n      text: `${name}${type ? `&lt;${type}&gt;` : ""}`,\n      shape: "classBox",\n      cssClasses: "default",\n      methods: [],\n      members: [],\n      annotations: [],\n      styles: [],\n      domId: MERMAID_DOM_ID_PREFIX + name + "-" + classCounter\n    });\n    classCounter++;\n  }\n  addInterface(label, classId) {\n    const classInterface = {\n      id: `interface${this.interfaces.length}`,\n      label,\n      classId\n    };\n    this.interfaces.push(classInterface);\n  }\n  /**\n   * Function to lookup domId from id in the graph definition.\n   *\n   * @param id - class ID to lookup\n   * @public\n   */\n  lookUpDomId(_id) {\n    const id = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.common_default.sanitizeText(_id, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)());\n    if (this.classes.has(id)) {\n      return this.classes.get(id).domId;\n    }\n    throw new Error("Class not found: " + id);\n  }\n  clear() {\n    this.relations = [];\n    this.classes = /* @__PURE__ */ new Map();\n    this.notes = [];\n    this.interfaces = [];\n    this.functions = [];\n    this.functions.push(this.setupToolTips.bind(this));\n    this.namespaces = /* @__PURE__ */ new Map();\n    this.namespaceCounter = 0;\n    this.direction = "TB";\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.clear)();\n  }\n  getClass(id) {\n    return this.classes.get(id);\n  }\n  getClasses() {\n    return this.classes;\n  }\n  getRelations() {\n    return this.relations;\n  }\n  getNotes() {\n    return this.notes;\n  }\n  addRelation(classRelation) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("Adding relation: " + JSON.stringify(classRelation));\n    const invalidTypes = [\n      this.relationType.LOLLIPOP,\n      this.relationType.AGGREGATION,\n      this.relationType.COMPOSITION,\n      this.relationType.DEPENDENCY,\n      this.relationType.EXTENSION\n    ];\n    if (classRelation.relation.type1 === this.relationType.LOLLIPOP && !invalidTypes.includes(classRelation.relation.type2)) {\n      this.addClass(classRelation.id2);\n      this.addInterface(classRelation.id1, classRelation.id2);\n      classRelation.id1 = `interface${this.interfaces.length - 1}`;\n    } else if (classRelation.relation.type2 === this.relationType.LOLLIPOP && !invalidTypes.includes(classRelation.relation.type1)) {\n      this.addClass(classRelation.id1);\n      this.addInterface(classRelation.id2, classRelation.id1);\n      classRelation.id2 = `interface${this.interfaces.length - 1}`;\n    } else {\n      this.addClass(classRelation.id1);\n      this.addClass(classRelation.id2);\n    }\n    classRelation.id1 = this.splitClassNameAndType(classRelation.id1).className;\n    classRelation.id2 = this.splitClassNameAndType(classRelation.id2).className;\n    classRelation.relationTitle1 = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.common_default.sanitizeText(\n      classRelation.relationTitle1.trim(),\n      (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)()\n    );\n    classRelation.relationTitle2 = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.common_default.sanitizeText(\n      classRelation.relationTitle2.trim(),\n      (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)()\n    );\n    this.relations.push(classRelation);\n  }\n  /**\n   * Adds an annotation to the specified class Annotations mark special properties of the given type\n   * (like \'interface\' or \'service\')\n   *\n   * @param className - The class name\n   * @param annotation - The name of the annotation without any brackets\n   * @public\n   */\n  addAnnotation(className, annotation) {\n    const validatedClassName = this.splitClassNameAndType(className).className;\n    this.classes.get(validatedClassName).annotations.push(annotation);\n  }\n  /**\n   * Adds a member to the specified class\n   *\n   * @param className - The class name\n   * @param member - The full name of the member. If the member is enclosed in `<<brackets>>` it is\n   *   treated as an annotation If the member is ending with a closing bracket ) it is treated as a\n   *   method Otherwise the member will be treated as a normal property\n   * @public\n   */\n  addMember(className, member) {\n    this.addClass(className);\n    const validatedClassName = this.splitClassNameAndType(className).className;\n    const theClass = this.classes.get(validatedClassName);\n    if (typeof member === "string") {\n      const memberString = member.trim();\n      if (memberString.startsWith("<<") && memberString.endsWith(">>")) {\n        theClass.annotations.push(sanitizeText2(memberString.substring(2, memberString.length - 2)));\n      } else if (memberString.indexOf(")") > 0) {\n        theClass.methods.push(new ClassMember(memberString, "method"));\n      } else if (memberString) {\n        theClass.members.push(new ClassMember(memberString, "attribute"));\n      }\n    }\n  }\n  addMembers(className, members) {\n    if (Array.isArray(members)) {\n      members.reverse();\n      members.forEach((member) => this.addMember(className, member));\n    }\n  }\n  addNote(text, className) {\n    const note = {\n      id: `note${this.notes.length}`,\n      class: className,\n      text\n    };\n    this.notes.push(note);\n  }\n  cleanupLabel(label) {\n    if (label.startsWith(":")) {\n      label = label.substring(1);\n    }\n    return sanitizeText2(label.trim());\n  }\n  /**\n   * Called by parser when assigning cssClass to a class\n   *\n   * @param ids - Comma separated list of ids\n   * @param className - Class to add\n   */\n  setCssClass(ids, className) {\n    ids.split(",").forEach((_id) => {\n      let id = _id;\n      if (/\\d/.exec(_id[0])) {\n        id = MERMAID_DOM_ID_PREFIX + id;\n      }\n      const classNode = this.classes.get(id);\n      if (classNode) {\n        classNode.cssClasses += " " + className;\n      }\n    });\n  }\n  defineClass(ids, style) {\n    for (const id of ids) {\n      let styleClass = this.styleClasses.get(id);\n      if (styleClass === void 0) {\n        styleClass = { id, styles: [], textStyles: [] };\n        this.styleClasses.set(id, styleClass);\n      }\n      if (style) {\n        style.forEach((s) => {\n          if (/color/.exec(s)) {\n            const newStyle = s.replace("fill", "bgFill");\n            styleClass.textStyles.push(newStyle);\n          }\n          styleClass.styles.push(s);\n        });\n      }\n      this.classes.forEach((value) => {\n        if (value.cssClasses.includes(id)) {\n          value.styles.push(...style.flatMap((s) => s.split(",")));\n        }\n      });\n    }\n  }\n  /**\n   * Called by parser when a tooltip is found, e.g. a clickable element.\n   *\n   * @param ids - Comma separated list of ids\n   * @param tooltip - Tooltip to add\n   */\n  setTooltip(ids, tooltip) {\n    ids.split(",").forEach((id) => {\n      if (tooltip !== void 0) {\n        this.classes.get(id).tooltip = sanitizeText2(tooltip);\n      }\n    });\n  }\n  getTooltip(id, namespace) {\n    if (namespace && this.namespaces.has(namespace)) {\n      return this.namespaces.get(namespace).classes.get(id).tooltip;\n    }\n    return this.classes.get(id).tooltip;\n  }\n  /**\n   * Called by parser when a link is found. Adds the URL to the vertex data.\n   *\n   * @param ids - Comma separated list of ids\n   * @param linkStr - URL to create a link for\n   * @param target - Target of the link, _blank by default as originally defined in the svgDraw.js file\n   */\n  setLink(ids, linkStr, target) {\n    const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)();\n    ids.split(",").forEach((_id) => {\n      let id = _id;\n      if (/\\d/.exec(_id[0])) {\n        id = MERMAID_DOM_ID_PREFIX + id;\n      }\n      const theClass = this.classes.get(id);\n      if (theClass) {\n        theClass.link = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.utils_default.formatUrl(linkStr, config);\n        if (config.securityLevel === "sandbox") {\n          theClass.linkTarget = "_top";\n        } else if (typeof target === "string") {\n          theClass.linkTarget = sanitizeText2(target);\n        } else {\n          theClass.linkTarget = "_blank";\n        }\n      }\n    });\n    this.setCssClass(ids, "clickable");\n  }\n  /**\n   * Called by parser when a click definition is found. Registers an event handler.\n   *\n   * @param ids - Comma separated list of ids\n   * @param functionName - Function to be called on click\n   * @param functionArgs - Function args the function should be called with\n   */\n  setClickEvent(ids, functionName, functionArgs) {\n    ids.split(",").forEach((id) => {\n      this.setClickFunc(id, functionName, functionArgs);\n      this.classes.get(id).haveCallback = true;\n    });\n    this.setCssClass(ids, "clickable");\n  }\n  setClickFunc(_domId, functionName, functionArgs) {\n    const domId = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.common_default.sanitizeText(_domId, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)());\n    const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)();\n    if (config.securityLevel !== "loose") {\n      return;\n    }\n    if (functionName === void 0) {\n      return;\n    }\n    const id = domId;\n    if (this.classes.has(id)) {\n      const elemId = this.lookUpDomId(id);\n      let argList = [];\n      if (typeof functionArgs === "string") {\n        argList = functionArgs.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);\n        for (let i = 0; i < argList.length; i++) {\n          let item = argList[i].trim();\n          if (item.startsWith(\'"\') && item.endsWith(\'"\')) {\n            item = item.substr(1, item.length - 2);\n          }\n          argList[i] = item;\n        }\n      }\n      if (argList.length === 0) {\n        argList.push(elemId);\n      }\n      this.functions.push(() => {\n        const elem = document.querySelector(`[id="${elemId}"]`);\n        if (elem !== null) {\n          elem.addEventListener(\n            "click",\n            () => {\n              _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.utils_default.runFunc(functionName, ...argList);\n            },\n            false\n          );\n        }\n      });\n    }\n  }\n  bindFunctions(element) {\n    this.functions.forEach((fun) => {\n      fun(element);\n    });\n  }\n  getDirection() {\n    return this.direction;\n  }\n  setDirection(dir) {\n    this.direction = dir;\n  }\n  /**\n   * Function called by parser when a namespace definition has been found.\n   *\n   * @param id - ID of the namespace to add\n   * @public\n   */\n  addNamespace(id) {\n    if (this.namespaces.has(id)) {\n      return;\n    }\n    this.namespaces.set(id, {\n      id,\n      classes: /* @__PURE__ */ new Map(),\n      children: {},\n      domId: MERMAID_DOM_ID_PREFIX + id + "-" + this.namespaceCounter\n    });\n    this.namespaceCounter++;\n  }\n  getNamespace(name) {\n    return this.namespaces.get(name);\n  }\n  getNamespaces() {\n    return this.namespaces;\n  }\n  /**\n   * Function called by parser when a namespace definition has been found.\n   *\n   * @param id - ID of the namespace to add\n   * @param classNames - IDs of the class to add\n   * @public\n   */\n  addClassesToNamespace(id, classNames) {\n    if (!this.namespaces.has(id)) {\n      return;\n    }\n    for (const name of classNames) {\n      const { className } = this.splitClassNameAndType(name);\n      this.classes.get(className).parent = id;\n      this.namespaces.get(id).classes.set(className, this.classes.get(className));\n    }\n  }\n  setCssStyle(id, styles) {\n    const thisClass = this.classes.get(id);\n    if (!styles || !thisClass) {\n      return;\n    }\n    for (const s of styles) {\n      if (s.includes(",")) {\n        thisClass.styles.push(...s.split(","));\n      } else {\n        thisClass.styles.push(s);\n      }\n    }\n  }\n  /**\n   * Gets the arrow marker for a type index\n   *\n   * @param type - The type to look for\n   * @returns The arrow marker\n   */\n  getArrowMarker(type) {\n    let marker;\n    switch (type) {\n      case 0:\n        marker = "aggregation";\n        break;\n      case 1:\n        marker = "extension";\n        break;\n      case 2:\n        marker = "composition";\n        break;\n      case 3:\n        marker = "dependency";\n        break;\n      case 4:\n        marker = "lollipop";\n        break;\n      default:\n        marker = "none";\n    }\n    return marker;\n  }\n  getData() {\n    const nodes = [];\n    const edges = [];\n    const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)();\n    for (const namespaceKey of this.namespaces.keys()) {\n      const namespace = this.namespaces.get(namespaceKey);\n      if (namespace) {\n        const node = {\n          id: namespace.id,\n          label: namespace.id,\n          isGroup: true,\n          padding: config.class.padding ?? 16,\n          // parent node must be one of [rect, roundedWithTitle, noteGroup, divider]\n          shape: "rect",\n          cssStyles: ["fill: none", "stroke: black"],\n          look: config.look\n        };\n        nodes.push(node);\n      }\n    }\n    for (const classKey of this.classes.keys()) {\n      const classNode = this.classes.get(classKey);\n      if (classNode) {\n        const node = classNode;\n        node.parentId = classNode.parent;\n        node.look = config.look;\n        nodes.push(node);\n      }\n    }\n    let cnt = 0;\n    for (const note of this.notes) {\n      cnt++;\n      const noteNode = {\n        id: note.id,\n        label: note.text,\n        isGroup: false,\n        shape: "note",\n        padding: config.class.padding ?? 6,\n        cssStyles: [\n          "text-align: left",\n          "white-space: nowrap",\n          `fill: ${config.themeVariables.noteBkgColor}`,\n          `stroke: ${config.themeVariables.noteBorderColor}`\n        ],\n        look: config.look\n      };\n      nodes.push(noteNode);\n      const noteClassId = this.classes.get(note.class)?.id ?? "";\n      if (noteClassId) {\n        const edge = {\n          id: `edgeNote${cnt}`,\n          start: note.id,\n          end: noteClassId,\n          type: "normal",\n          thickness: "normal",\n          classes: "relation",\n          arrowTypeStart: "none",\n          arrowTypeEnd: "none",\n          arrowheadStyle: "",\n          labelStyle: [""],\n          style: ["fill: none"],\n          pattern: "dotted",\n          look: config.look\n        };\n        edges.push(edge);\n      }\n    }\n    for (const _interface of this.interfaces) {\n      const interfaceNode = {\n        id: _interface.id,\n        label: _interface.label,\n        isGroup: false,\n        shape: "rect",\n        cssStyles: ["opacity: 0;"],\n        look: config.look\n      };\n      nodes.push(interfaceNode);\n    }\n    cnt = 0;\n    for (const classRelation of this.relations) {\n      cnt++;\n      const edge = {\n        id: (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.getEdgeId)(classRelation.id1, classRelation.id2, {\n          prefix: "id",\n          counter: cnt\n        }),\n        start: classRelation.id1,\n        end: classRelation.id2,\n        type: "normal",\n        label: classRelation.title,\n        labelpos: "c",\n        thickness: "normal",\n        classes: "relation",\n        arrowTypeStart: this.getArrowMarker(classRelation.relation.type1),\n        arrowTypeEnd: this.getArrowMarker(classRelation.relation.type2),\n        startLabelRight: classRelation.relationTitle1 === "none" ? "" : classRelation.relationTitle1,\n        endLabelLeft: classRelation.relationTitle2 === "none" ? "" : classRelation.relationTitle2,\n        arrowheadStyle: "",\n        labelStyle: ["display: inline-block"],\n        style: classRelation.style || "",\n        pattern: classRelation.relation.lineType == 1 ? "dashed" : "solid",\n        look: config.look\n      };\n      edges.push(edge);\n    }\n    return { nodes, edges, other: {}, config, direction: this.getDirection() };\n  }\n};\n\n// src/diagrams/class/styles.js\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((options) => `g.classGroup text {\n  fill: ${options.nodeBorder || options.classText};\n  stroke: none;\n  font-family: ${options.fontFamily};\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.nodeLabel, .edgeLabel {\n  color: ${options.classText};\n}\n.edgeLabel .label rect {\n  fill: ${options.mainBkg};\n}\n.label text {\n  fill: ${options.classText};\n}\n\n.labelBkg {\n  background: ${options.mainBkg};\n}\n.edgeLabel .label span {\n  background: ${options.mainBkg};\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${options.mainBkg};\n    stroke: ${options.nodeBorder};\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ${options.nodeBorder};\n  stroke-width: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ${options.mainBkg};\n  stroke: ${options.nodeBorder};\n}\n\ng.classGroup line {\n  stroke: ${options.nodeBorder};\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${options.mainBkg};\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ${options.nodeBorder};\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ${options.lineColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n.dotted-line{\n  stroke-dasharray: 1 2;\n}\n\n#compositionStart, .composition {\n  fill: ${options.lineColor} !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ${options.lineColor} !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${options.lineColor} !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${options.lineColor} !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: transparent !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: transparent !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: transparent !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: transparent !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopStart, .lollipop {\n  fill: ${options.mainBkg} !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopEnd, .lollipop {\n  fill: ${options.mainBkg} !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n  line-height: initial;\n}\n\n.classTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${options.textColor};\n}\n  ${(0,_chunk_FMBD7UC4_mjs__WEBPACK_IMPORTED_MODULE_0__.getIconStyles)()}\n`, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/class/classRenderer-v3-unified.ts\nvar getDir = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((parsedItem, defaultDir = "TB") => {\n  if (!parsedItem.doc) {\n    return defaultDir;\n  }\n  let dir = defaultDir;\n  for (const parsedItemDoc of parsedItem.doc) {\n    if (parsedItemDoc.stmt === "dir") {\n      dir = parsedItemDoc.value;\n    }\n  }\n  return dir;\n}, "getDir");\nvar getClasses = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(text, diagramObj) {\n  return diagramObj.db.getClasses();\n}, "getClasses");\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async function(text, id, _version, diag) {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.info("REF0:");\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.info("Drawing class diagram (v3)", id);\n  const { securityLevel, state: conf, layout } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig2)();\n  const data4Layout = diag.db.getData();\n  const svg = (0,_chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_1__.getDiagramElement)(id, securityLevel);\n  data4Layout.type = diag.type;\n  data4Layout.layoutAlgorithm = (0,_chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_3__.getRegisteredLayoutAlgorithm)(layout);\n  data4Layout.nodeSpacing = conf?.nodeSpacing || 50;\n  data4Layout.rankSpacing = conf?.rankSpacing || 50;\n  data4Layout.markers = ["aggregation", "extension", "composition", "dependency", "lollipop"];\n  data4Layout.diagramId = id;\n  await (0,_chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_3__.render)(data4Layout, svg);\n  const padding = 8;\n  _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.utils_default.insertTitle(\n    svg,\n    "classDiagramTitleText",\n    conf?.titleTopMargin ?? 25,\n    diag.db.getDiagramTitle()\n  );\n  (0,_chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_2__.setupViewPortForSVG)(svg, padding, "classDiagram", conf?.useMaxWidth ?? true);\n}, "draw");\nvar classRenderer_v3_unified_default = {\n  getClasses,\n  draw,\n  getDir\n};\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-B4BG7PRW.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSubGraphTitleMargins: () => (/* binding */ getSubGraphTitleMargins)\n/* harmony export */ });\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n\n\n// src/utils/subGraphTitleMargins.ts\nvar getSubGraphTitleMargins = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(({\n  flowchart\n}) => {\n  const subGraphTitleTopMargin = flowchart?.subGraphTitleMargin?.top ?? 0;\n  const subGraphTitleBottomMargin = flowchart?.subGraphTitleMargin?.bottom ?? 0;\n  const subGraphTitleTotalMargin = subGraphTitleTopMargin + subGraphTitleBottomMargin;\n  return {\n    subGraphTitleTopMargin,\n    subGraphTitleBottomMargin,\n    subGraphTitleTotalMargin\n  };\n}, "getSubGraphTitleMargins");\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-DI55MBZ5.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StateDB: () => (/* binding */ StateDB),\n/* harmony export */   stateDiagram_default: () => (/* binding */ stateDiagram_default),\n/* harmony export */   stateRenderer_v3_unified_default: () => (/* binding */ stateRenderer_v3_unified_default),\n/* harmony export */   styles_default: () => (/* binding */ styles_default)\n/* harmony export */ });\n/* harmony import */ var _chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-55IACEB6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-55IACEB6.mjs");\n/* harmony import */ var _chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-QN33PNHL.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs");\n/* harmony import */ var _chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-N4CR4FBY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-N4CR4FBY.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n\n\n\n\n\n\n\n// src/diagrams/state/parser/stateDiagram.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [1, 2], $V1 = [1, 3], $V2 = [1, 4], $V3 = [2, 4], $V4 = [1, 9], $V5 = [1, 11], $V6 = [1, 16], $V7 = [1, 17], $V8 = [1, 18], $V9 = [1, 19], $Va = [1, 33], $Vb = [1, 20], $Vc = [1, 21], $Vd = [1, 22], $Ve = [1, 23], $Vf = [1, 24], $Vg = [1, 26], $Vh = [1, 27], $Vi = [1, 28], $Vj = [1, 29], $Vk = [1, 30], $Vl = [1, 31], $Vm = [1, 32], $Vn = [1, 35], $Vo = [1, 36], $Vp = [1, 37], $Vq = [1, 38], $Vr = [1, 34], $Vs = [1, 4, 5, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 41, 45, 48, 51, 52, 53, 54, 57], $Vt = [1, 4, 5, 14, 15, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 39, 40, 41, 45, 48, 51, 52, 53, 54, 57], $Vu = [4, 5, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 41, 45, 48, 51, 52, 53, 54, 57];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "start": 3, "SPACE": 4, "NL": 5, "SD": 6, "document": 7, "line": 8, "statement": 9, "classDefStatement": 10, "styleStatement": 11, "cssClassStatement": 12, "idStatement": 13, "DESCR": 14, "--\x3e": 15, "HIDE_EMPTY": 16, "scale": 17, "WIDTH": 18, "COMPOSIT_STATE": 19, "STRUCT_START": 20, "STRUCT_STOP": 21, "STATE_DESCR": 22, "AS": 23, "ID": 24, "FORK": 25, "JOIN": 26, "CHOICE": 27, "CONCURRENT": 28, "note": 29, "notePosition": 30, "NOTE_TEXT": 31, "direction": 32, "acc_title": 33, "acc_title_value": 34, "acc_descr": 35, "acc_descr_value": 36, "acc_descr_multiline_value": 37, "CLICK": 38, "STRING": 39, "HREF": 40, "classDef": 41, "CLASSDEF_ID": 42, "CLASSDEF_STYLEOPTS": 43, "DEFAULT": 44, "style": 45, "STYLE_IDS": 46, "STYLEDEF_STYLEOPTS": 47, "class": 48, "CLASSENTITY_IDS": 49, "STYLECLASS": 50, "direction_tb": 51, "direction_bt": 52, "direction_rl": 53, "direction_lr": 54, "eol": 55, ";": 56, "EDGE_STATE": 57, "STYLE_SEPARATOR": 58, "left_of": 59, "right_of": 60, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 4: "SPACE", 5: "NL", 6: "SD", 14: "DESCR", 15: "--\x3e", 16: "HIDE_EMPTY", 17: "scale", 18: "WIDTH", 19: "COMPOSIT_STATE", 20: "STRUCT_START", 21: "STRUCT_STOP", 22: "STATE_DESCR", 23: "AS", 24: "ID", 25: "FORK", 26: "JOIN", 27: "CHOICE", 28: "CONCURRENT", 29: "note", 31: "NOTE_TEXT", 33: "acc_title", 34: "acc_title_value", 35: "acc_descr", 36: "acc_descr_value", 37: "acc_descr_multiline_value", 38: "CLICK", 39: "STRING", 40: "HREF", 41: "classDef", 42: "CLASSDEF_ID", 43: "CLASSDEF_STYLEOPTS", 44: "DEFAULT", 45: "style", 46: "STYLE_IDS", 47: "STYLEDEF_STYLEOPTS", 48: "class", 49: "CLASSENTITY_IDS", 50: "STYLECLASS", 51: "direction_tb", 52: "direction_bt", 53: "direction_rl", 54: "direction_lr", 56: ";", 57: "EDGE_STATE", 58: "STYLE_SEPARATOR", 59: "left_of", 60: "right_of" },\n    productions_: [0, [3, 2], [3, 2], [3, 2], [7, 0], [7, 2], [8, 2], [8, 1], [8, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 2], [9, 3], [9, 4], [9, 1], [9, 2], [9, 1], [9, 4], [9, 3], [9, 6], [9, 1], [9, 1], [9, 1], [9, 1], [9, 4], [9, 4], [9, 1], [9, 2], [9, 2], [9, 1], [9, 5], [9, 5], [10, 3], [10, 3], [11, 3], [12, 3], [32, 1], [32, 1], [32, 1], [32, 1], [55, 1], [55, 1], [13, 1], [13, 1], [13, 3], [13, 3], [30, 1], [30, 1]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 3:\n          yy.setRootDoc($$[$0]);\n          return $$[$0];\n          // removed by dead control flow\n\n        case 4:\n          this.$ = [];\n          break;\n        case 5:\n          if ($$[$0] != "nl") {\n            $$[$0 - 1].push($$[$0]);\n            this.$ = $$[$0 - 1];\n          }\n          break;\n        case 6:\n        case 7:\n          this.$ = $$[$0];\n          break;\n        case 8:\n          this.$ = "nl";\n          break;\n        case 12:\n          this.$ = $$[$0];\n          break;\n        case 13:\n          const stateStmt = $$[$0 - 1];\n          stateStmt.description = yy.trimColon($$[$0]);\n          this.$ = stateStmt;\n          break;\n        case 14:\n          this.$ = { stmt: "relation", state1: $$[$0 - 2], state2: $$[$0] };\n          break;\n        case 15:\n          const relDescription = yy.trimColon($$[$0]);\n          this.$ = { stmt: "relation", state1: $$[$0 - 3], state2: $$[$0 - 1], description: relDescription };\n          break;\n        case 19:\n          this.$ = { stmt: "state", id: $$[$0 - 3], type: "default", description: "", doc: $$[$0 - 1] };\n          break;\n        case 20:\n          var id = $$[$0];\n          var description = $$[$0 - 2].trim();\n          if ($$[$0].match(":")) {\n            var parts = $$[$0].split(":");\n            id = parts[0];\n            description = [description, parts[1]];\n          }\n          this.$ = { stmt: "state", id, type: "default", description };\n          break;\n        case 21:\n          this.$ = { stmt: "state", id: $$[$0 - 3], type: "default", description: $$[$0 - 5], doc: $$[$0 - 1] };\n          break;\n        case 22:\n          this.$ = { stmt: "state", id: $$[$0], type: "fork" };\n          break;\n        case 23:\n          this.$ = { stmt: "state", id: $$[$0], type: "join" };\n          break;\n        case 24:\n          this.$ = { stmt: "state", id: $$[$0], type: "choice" };\n          break;\n        case 25:\n          this.$ = { stmt: "state", id: yy.getDividerId(), type: "divider" };\n          break;\n        case 26:\n          this.$ = { stmt: "state", id: $$[$0 - 1].trim(), note: { position: $$[$0 - 2].trim(), text: $$[$0].trim() } };\n          break;\n        case 29:\n          this.$ = $$[$0].trim();\n          yy.setAccTitle(this.$);\n          break;\n        case 30:\n        case 31:\n          this.$ = $$[$0].trim();\n          yy.setAccDescription(this.$);\n          break;\n        case 32:\n          this.$ = {\n            stmt: "click",\n            id: $$[$0 - 3],\n            url: $$[$0 - 2],\n            tooltip: $$[$0 - 1]\n          };\n          break;\n        case 33:\n          this.$ = {\n            stmt: "click",\n            id: $$[$0 - 3],\n            url: $$[$0 - 1],\n            tooltip: ""\n          };\n          break;\n        case 34:\n        case 35:\n          this.$ = { stmt: "classDef", id: $$[$0 - 1].trim(), classes: $$[$0].trim() };\n          break;\n        case 36:\n          this.$ = { stmt: "style", id: $$[$0 - 1].trim(), styleClass: $$[$0].trim() };\n          break;\n        case 37:\n          this.$ = { stmt: "applyClass", id: $$[$0 - 1].trim(), styleClass: $$[$0].trim() };\n          break;\n        case 38:\n          yy.setDirection("TB");\n          this.$ = { stmt: "dir", value: "TB" };\n          break;\n        case 39:\n          yy.setDirection("BT");\n          this.$ = { stmt: "dir", value: "BT" };\n          break;\n        case 40:\n          yy.setDirection("RL");\n          this.$ = { stmt: "dir", value: "RL" };\n          break;\n        case 41:\n          yy.setDirection("LR");\n          this.$ = { stmt: "dir", value: "LR" };\n          break;\n        case 44:\n        case 45:\n          this.$ = { stmt: "state", id: $$[$0].trim(), type: "default", description: "" };\n          break;\n        case 46:\n          this.$ = { stmt: "state", id: $$[$0 - 2].trim(), classes: [$$[$0].trim()], type: "default", description: "" };\n          break;\n        case 47:\n          this.$ = { stmt: "state", id: $$[$0 - 2].trim(), classes: [$$[$0].trim()], type: "default", description: "" };\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 3: 1, 4: $V0, 5: $V1, 6: $V2 }, { 1: [3] }, { 3: 5, 4: $V0, 5: $V1, 6: $V2 }, { 3: 6, 4: $V0, 5: $V1, 6: $V2 }, o([1, 4, 5, 16, 17, 19, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 41, 45, 48, 51, 52, 53, 54, 57], $V3, { 7: 7 }), { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3], 4: $V4, 5: $V5, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: $V6, 17: $V7, 19: $V8, 22: $V9, 24: $Va, 25: $Vb, 26: $Vc, 27: $Vd, 28: $Ve, 29: $Vf, 32: 25, 33: $Vg, 35: $Vh, 37: $Vi, 38: $Vj, 41: $Vk, 45: $Vl, 48: $Vm, 51: $Vn, 52: $Vo, 53: $Vp, 54: $Vq, 57: $Vr }, o($Vs, [2, 5]), { 9: 39, 10: 12, 11: 13, 12: 14, 13: 15, 16: $V6, 17: $V7, 19: $V8, 22: $V9, 24: $Va, 25: $Vb, 26: $Vc, 27: $Vd, 28: $Ve, 29: $Vf, 32: 25, 33: $Vg, 35: $Vh, 37: $Vi, 38: $Vj, 41: $Vk, 45: $Vl, 48: $Vm, 51: $Vn, 52: $Vo, 53: $Vp, 54: $Vq, 57: $Vr }, o($Vs, [2, 7]), o($Vs, [2, 8]), o($Vs, [2, 9]), o($Vs, [2, 10]), o($Vs, [2, 11]), o($Vs, [2, 12], { 14: [1, 40], 15: [1, 41] }), o($Vs, [2, 16]), { 18: [1, 42] }, o($Vs, [2, 18], { 20: [1, 43] }), { 23: [1, 44] }, o($Vs, [2, 22]), o($Vs, [2, 23]), o($Vs, [2, 24]), o($Vs, [2, 25]), { 30: 45, 31: [1, 46], 59: [1, 47], 60: [1, 48] }, o($Vs, [2, 28]), { 34: [1, 49] }, { 36: [1, 50] }, o($Vs, [2, 31]), { 13: 51, 24: $Va, 57: $Vr }, { 42: [1, 52], 44: [1, 53] }, { 46: [1, 54] }, { 49: [1, 55] }, o($Vt, [2, 44], { 58: [1, 56] }), o($Vt, [2, 45], { 58: [1, 57] }), o($Vs, [2, 38]), o($Vs, [2, 39]), o($Vs, [2, 40]), o($Vs, [2, 41]), o($Vs, [2, 6]), o($Vs, [2, 13]), { 13: 58, 24: $Va, 57: $Vr }, o($Vs, [2, 17]), o($Vu, $V3, { 7: 59 }), { 24: [1, 60] }, { 24: [1, 61] }, { 23: [1, 62] }, { 24: [2, 48] }, { 24: [2, 49] }, o($Vs, [2, 29]), o($Vs, [2, 30]), { 39: [1, 63], 40: [1, 64] }, { 43: [1, 65] }, { 43: [1, 66] }, { 47: [1, 67] }, { 50: [1, 68] }, { 24: [1, 69] }, { 24: [1, 70] }, o($Vs, [2, 14], { 14: [1, 71] }), { 4: $V4, 5: $V5, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: $V6, 17: $V7, 19: $V8, 21: [1, 72], 22: $V9, 24: $Va, 25: $Vb, 26: $Vc, 27: $Vd, 28: $Ve, 29: $Vf, 32: 25, 33: $Vg, 35: $Vh, 37: $Vi, 38: $Vj, 41: $Vk, 45: $Vl, 48: $Vm, 51: $Vn, 52: $Vo, 53: $Vp, 54: $Vq, 57: $Vr }, o($Vs, [2, 20], { 20: [1, 73] }), { 31: [1, 74] }, { 24: [1, 75] }, { 39: [1, 76] }, { 39: [1, 77] }, o($Vs, [2, 34]), o($Vs, [2, 35]), o($Vs, [2, 36]), o($Vs, [2, 37]), o($Vt, [2, 46]), o($Vt, [2, 47]), o($Vs, [2, 15]), o($Vs, [2, 19]), o($Vu, $V3, { 7: 78 }), o($Vs, [2, 26]), o($Vs, [2, 27]), { 5: [1, 79] }, { 5: [1, 80] }, { 4: $V4, 5: $V5, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: $V6, 17: $V7, 19: $V8, 21: [1, 81], 22: $V9, 24: $Va, 25: $Vb, 26: $Vc, 27: $Vd, 28: $Ve, 29: $Vf, 32: 25, 33: $Vg, 35: $Vh, 37: $Vi, 38: $Vj, 41: $Vk, 45: $Vl, 48: $Vm, 51: $Vn, 52: $Vo, 53: $Vp, 54: $Vq, 57: $Vr }, o($Vs, [2, 32]), o($Vs, [2, 33]), o($Vs, [2, 21])],\n    defaultActions: { 5: [2, 1], 6: [2, 2], 47: [2, 48], 48: [2, 49] },\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: { "case-insensitive": true },\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            return 38;\n            // removed by dead control flow\n\n          case 1:\n            return 40;\n            // removed by dead control flow\n\n          case 2:\n            return 39;\n            // removed by dead control flow\n\n          case 3:\n            return 44;\n            // removed by dead control flow\n\n          case 4:\n            return 51;\n            // removed by dead control flow\n\n          case 5:\n            return 52;\n            // removed by dead control flow\n\n          case 6:\n            return 53;\n            // removed by dead control flow\n\n          case 7:\n            return 54;\n            // removed by dead control flow\n\n          case 8:\n            break;\n          case 9:\n            {\n            }\n            break;\n          case 10:\n            return 5;\n            // removed by dead control flow\n\n          case 11:\n            break;\n          case 12:\n            break;\n          case 13:\n            break;\n          case 14:\n            break;\n          case 15:\n            this.pushState("SCALE");\n            return 17;\n            // removed by dead control flow\n\n          case 16:\n            return 18;\n            // removed by dead control flow\n\n          case 17:\n            this.popState();\n            break;\n          case 18:\n            this.begin("acc_title");\n            return 33;\n            // removed by dead control flow\n\n          case 19:\n            this.popState();\n            return "acc_title_value";\n            // removed by dead control flow\n\n          case 20:\n            this.begin("acc_descr");\n            return 35;\n            // removed by dead control flow\n\n          case 21:\n            this.popState();\n            return "acc_descr_value";\n            // removed by dead control flow\n\n          case 22:\n            this.begin("acc_descr_multiline");\n            break;\n          case 23:\n            this.popState();\n            break;\n          case 24:\n            return "acc_descr_multiline_value";\n            // removed by dead control flow\n\n          case 25:\n            this.pushState("CLASSDEF");\n            return 41;\n            // removed by dead control flow\n\n          case 26:\n            this.popState();\n            this.pushState("CLASSDEFID");\n            return "DEFAULT_CLASSDEF_ID";\n            // removed by dead control flow\n\n          case 27:\n            this.popState();\n            this.pushState("CLASSDEFID");\n            return 42;\n            // removed by dead control flow\n\n          case 28:\n            this.popState();\n            return 43;\n            // removed by dead control flow\n\n          case 29:\n            this.pushState("CLASS");\n            return 48;\n            // removed by dead control flow\n\n          case 30:\n            this.popState();\n            this.pushState("CLASS_STYLE");\n            return 49;\n            // removed by dead control flow\n\n          case 31:\n            this.popState();\n            return 50;\n            // removed by dead control flow\n\n          case 32:\n            this.pushState("STYLE");\n            return 45;\n            // removed by dead control flow\n\n          case 33:\n            this.popState();\n            this.pushState("STYLEDEF_STYLES");\n            return 46;\n            // removed by dead control flow\n\n          case 34:\n            this.popState();\n            return 47;\n            // removed by dead control flow\n\n          case 35:\n            this.pushState("SCALE");\n            return 17;\n            // removed by dead control flow\n\n          case 36:\n            return 18;\n            // removed by dead control flow\n\n          case 37:\n            this.popState();\n            break;\n          case 38:\n            this.pushState("STATE");\n            break;\n          case 39:\n            this.popState();\n            yy_.yytext = yy_.yytext.slice(0, -8).trim();\n            return 25;\n            // removed by dead control flow\n\n          case 40:\n            this.popState();\n            yy_.yytext = yy_.yytext.slice(0, -8).trim();\n            return 26;\n            // removed by dead control flow\n\n          case 41:\n            this.popState();\n            yy_.yytext = yy_.yytext.slice(0, -10).trim();\n            return 27;\n            // removed by dead control flow\n\n          case 42:\n            this.popState();\n            yy_.yytext = yy_.yytext.slice(0, -8).trim();\n            return 25;\n            // removed by dead control flow\n\n          case 43:\n            this.popState();\n            yy_.yytext = yy_.yytext.slice(0, -8).trim();\n            return 26;\n            // removed by dead control flow\n\n          case 44:\n            this.popState();\n            yy_.yytext = yy_.yytext.slice(0, -10).trim();\n            return 27;\n            // removed by dead control flow\n\n          case 45:\n            return 51;\n            // removed by dead control flow\n\n          case 46:\n            return 52;\n            // removed by dead control flow\n\n          case 47:\n            return 53;\n            // removed by dead control flow\n\n          case 48:\n            return 54;\n            // removed by dead control flow\n\n          case 49:\n            this.pushState("STATE_STRING");\n            break;\n          case 50:\n            this.pushState("STATE_ID");\n            return "AS";\n            // removed by dead control flow\n\n          case 51:\n            this.popState();\n            return "ID";\n            // removed by dead control flow\n\n          case 52:\n            this.popState();\n            break;\n          case 53:\n            return "STATE_DESCR";\n            // removed by dead control flow\n\n          case 54:\n            return 19;\n            // removed by dead control flow\n\n          case 55:\n            this.popState();\n            break;\n          case 56:\n            this.popState();\n            this.pushState("struct");\n            return 20;\n            // removed by dead control flow\n\n          case 57:\n            break;\n          case 58:\n            this.popState();\n            return 21;\n            // removed by dead control flow\n\n          case 59:\n            break;\n          case 60:\n            this.begin("NOTE");\n            return 29;\n            // removed by dead control flow\n\n          case 61:\n            this.popState();\n            this.pushState("NOTE_ID");\n            return 59;\n            // removed by dead control flow\n\n          case 62:\n            this.popState();\n            this.pushState("NOTE_ID");\n            return 60;\n            // removed by dead control flow\n\n          case 63:\n            this.popState();\n            this.pushState("FLOATING_NOTE");\n            break;\n          case 64:\n            this.popState();\n            this.pushState("FLOATING_NOTE_ID");\n            return "AS";\n            // removed by dead control flow\n\n          case 65:\n            break;\n          case 66:\n            return "NOTE_TEXT";\n            // removed by dead control flow\n\n          case 67:\n            this.popState();\n            return "ID";\n            // removed by dead control flow\n\n          case 68:\n            this.popState();\n            this.pushState("NOTE_TEXT");\n            return 24;\n            // removed by dead control flow\n\n          case 69:\n            this.popState();\n            yy_.yytext = yy_.yytext.substr(2).trim();\n            return 31;\n            // removed by dead control flow\n\n          case 70:\n            this.popState();\n            yy_.yytext = yy_.yytext.slice(0, -8).trim();\n            return 31;\n            // removed by dead control flow\n\n          case 71:\n            return 6;\n            // removed by dead control flow\n\n          case 72:\n            return 6;\n            // removed by dead control flow\n\n          case 73:\n            return 16;\n            // removed by dead control flow\n\n          case 74:\n            return 57;\n            // removed by dead control flow\n\n          case 75:\n            return 24;\n            // removed by dead control flow\n\n          case 76:\n            yy_.yytext = yy_.yytext.trim();\n            return 14;\n            // removed by dead control flow\n\n          case 77:\n            return 15;\n            // removed by dead control flow\n\n          case 78:\n            return 28;\n            // removed by dead control flow\n\n          case 79:\n            return 58;\n            // removed by dead control flow\n\n          case 80:\n            return 5;\n            // removed by dead control flow\n\n          case 81:\n            return "INVALID";\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:click\\b)/i, /^(?:href\\b)/i, /^(?:"[^"]*")/i, /^(?:default\\b)/i, /^(?:.*direction\\s+TB[^\\n]*)/i, /^(?:.*direction\\s+BT[^\\n]*)/i, /^(?:.*direction\\s+RL[^\\n]*)/i, /^(?:.*direction\\s+LR[^\\n]*)/i, /^(?:%%(?!\\{)[^\\n]*)/i, /^(?:[^\\}]%%[^\\n]*)/i, /^(?:[\\n]+)/i, /^(?:[\\s]+)/i, /^(?:((?!\\n)\\s)+)/i, /^(?:#[^\\n]*)/i, /^(?:%[^\\n]*)/i, /^(?:scale\\s+)/i, /^(?:\\d+)/i, /^(?:\\s+width\\b)/i, /^(?:accTitle\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*\\{\\s*)/i, /^(?:[\\}])/i, /^(?:[^\\}]*)/i, /^(?:classDef\\s+)/i, /^(?:DEFAULT\\s+)/i, /^(?:\\w+\\s+)/i, /^(?:[^\\n]*)/i, /^(?:class\\s+)/i, /^(?:(\\w+)+((,\\s*\\w+)*))/i, /^(?:[^\\n]*)/i, /^(?:style\\s+)/i, /^(?:[\\w,]+\\s+)/i, /^(?:[^\\n]*)/i, /^(?:scale\\s+)/i, /^(?:\\d+)/i, /^(?:\\s+width\\b)/i, /^(?:state\\s+)/i, /^(?:.*<<fork>>)/i, /^(?:.*<<join>>)/i, /^(?:.*<<choice>>)/i, /^(?:.*\\[\\[fork\\]\\])/i, /^(?:.*\\[\\[join\\]\\])/i, /^(?:.*\\[\\[choice\\]\\])/i, /^(?:.*direction\\s+TB[^\\n]*)/i, /^(?:.*direction\\s+BT[^\\n]*)/i, /^(?:.*direction\\s+RL[^\\n]*)/i, /^(?:.*direction\\s+LR[^\\n]*)/i, /^(?:["])/i, /^(?:\\s*as\\s+)/i, /^(?:[^\\n\\{]*)/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[^\\n\\s\\{]+)/i, /^(?:\\n)/i, /^(?:\\{)/i, /^(?:%%(?!\\{)[^\\n]*)/i, /^(?:\\})/i, /^(?:[\\n])/i, /^(?:note\\s+)/i, /^(?:left of\\b)/i, /^(?:right of\\b)/i, /^(?:")/i, /^(?:\\s*as\\s*)/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[^\\n]*)/i, /^(?:\\s*[^:\\n\\s\\-]+)/i, /^(?:\\s*:[^:\\n;]+)/i, /^(?:[\\s\\S]*?end note\\b)/i, /^(?:stateDiagram\\s+)/i, /^(?:stateDiagram-v2\\s+)/i, /^(?:hide empty description\\b)/i, /^(?:\\[\\*\\])/i, /^(?:[^:\\n\\s\\-\\{]+)/i, /^(?:\\s*:[^:\\n;]+)/i, /^(?:--\x3e)/i, /^(?:--)/i, /^(?::::)/i, /^(?:$)/i, /^(?:.)/i],\n      conditions: { "LINE": { "rules": [12, 13], "inclusive": false }, "struct": { "rules": [12, 13, 25, 29, 32, 38, 45, 46, 47, 48, 57, 58, 59, 60, 74, 75, 76, 77, 78], "inclusive": false }, "FLOATING_NOTE_ID": { "rules": [67], "inclusive": false }, "FLOATING_NOTE": { "rules": [64, 65, 66], "inclusive": false }, "NOTE_TEXT": { "rules": [69, 70], "inclusive": false }, "NOTE_ID": { "rules": [68], "inclusive": false }, "NOTE": { "rules": [61, 62, 63], "inclusive": false }, "STYLEDEF_STYLEOPTS": { "rules": [], "inclusive": false }, "STYLEDEF_STYLES": { "rules": [34], "inclusive": false }, "STYLE_IDS": { "rules": [], "inclusive": false }, "STYLE": { "rules": [33], "inclusive": false }, "CLASS_STYLE": { "rules": [31], "inclusive": false }, "CLASS": { "rules": [30], "inclusive": false }, "CLASSDEFID": { "rules": [28], "inclusive": false }, "CLASSDEF": { "rules": [26, 27], "inclusive": false }, "acc_descr_multiline": { "rules": [23, 24], "inclusive": false }, "acc_descr": { "rules": [21], "inclusive": false }, "acc_title": { "rules": [19], "inclusive": false }, "SCALE": { "rules": [16, 17, 36, 37], "inclusive": false }, "ALIAS": { "rules": [], "inclusive": false }, "STATE_ID": { "rules": [51], "inclusive": false }, "STATE_STRING": { "rules": [52, 53], "inclusive": false }, "FORK_STATE": { "rules": [], "inclusive": false }, "STATE": { "rules": [12, 13, 39, 40, 41, 42, 43, 44, 49, 50, 54, 55, 56], "inclusive": false }, "ID": { "rules": [12, 13], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 18, 20, 22, 25, 29, 32, 35, 38, 56, 60, 71, 72, 73, 74, 75, 76, 77, 79, 80, 81], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar stateDiagram_default = parser;\n\n// src/diagrams/state/stateCommon.ts\nvar DEFAULT_DIAGRAM_DIRECTION = "TB";\nvar DEFAULT_NESTED_DOC_DIR = "TB";\nvar STMT_DIRECTION = "dir";\nvar STMT_STATE = "state";\nvar STMT_ROOT = "root";\nvar STMT_RELATION = "relation";\nvar STMT_CLASSDEF = "classDef";\nvar STMT_STYLEDEF = "style";\nvar STMT_APPLYCLASS = "applyClass";\nvar DEFAULT_STATE_TYPE = "default";\nvar DIVIDER_TYPE = "divider";\nvar G_EDGE_STYLE = "fill:none";\nvar G_EDGE_ARROWHEADSTYLE = "fill: #333";\nvar G_EDGE_LABELPOS = "c";\nvar G_EDGE_LABELTYPE = "text";\nvar G_EDGE_THICKNESS = "normal";\nvar SHAPE_STATE = "rect";\nvar SHAPE_STATE_WITH_DESC = "rectWithTitle";\nvar SHAPE_START = "stateStart";\nvar SHAPE_END = "stateEnd";\nvar SHAPE_DIVIDER = "divider";\nvar SHAPE_GROUP = "roundedWithTitle";\nvar SHAPE_NOTE = "note";\nvar SHAPE_NOTEGROUP = "noteGroup";\nvar CSS_DIAGRAM = "statediagram";\nvar CSS_STATE = "state";\nvar CSS_DIAGRAM_STATE = `${CSS_DIAGRAM}-${CSS_STATE}`;\nvar CSS_EDGE = "transition";\nvar CSS_NOTE = "note";\nvar CSS_NOTE_EDGE = "note-edge";\nvar CSS_EDGE_NOTE_EDGE = `${CSS_EDGE} ${CSS_NOTE_EDGE}`;\nvar CSS_DIAGRAM_NOTE = `${CSS_DIAGRAM}-${CSS_NOTE}`;\nvar CSS_CLUSTER = "cluster";\nvar CSS_DIAGRAM_CLUSTER = `${CSS_DIAGRAM}-${CSS_CLUSTER}`;\nvar CSS_CLUSTER_ALT = "cluster-alt";\nvar CSS_DIAGRAM_CLUSTER_ALT = `${CSS_DIAGRAM}-${CSS_CLUSTER_ALT}`;\nvar PARENT = "parent";\nvar NOTE = "note";\nvar DOMID_STATE = "state";\nvar DOMID_TYPE_SPACER = "----";\nvar NOTE_ID = `${DOMID_TYPE_SPACER}${NOTE}`;\nvar PARENT_ID = `${DOMID_TYPE_SPACER}${PARENT}`;\n\n// src/diagrams/state/stateRenderer-v3-unified.ts\nvar getDir = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((parsedItem, defaultDir = DEFAULT_NESTED_DOC_DIR) => {\n  if (!parsedItem.doc) {\n    return defaultDir;\n  }\n  let dir = defaultDir;\n  for (const parsedItemDoc of parsedItem.doc) {\n    if (parsedItemDoc.stmt === "dir") {\n      dir = parsedItemDoc.value;\n    }\n  }\n  return dir;\n}, "getDir");\nvar getClasses = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(text, diagramObj) {\n  return diagramObj.db.getClasses();\n}, "getClasses");\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async function(text, id, _version, diag) {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("REF0:");\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Drawing state diagram (v2)", id);\n  const { securityLevel, state: conf, layout } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)();\n  diag.db.extract(diag.db.getRootDocV2());\n  const data4Layout = diag.db.getData();\n  const svg = (0,_chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_0__.getDiagramElement)(id, securityLevel);\n  data4Layout.type = diag.type;\n  data4Layout.layoutAlgorithm = layout;\n  data4Layout.nodeSpacing = conf?.nodeSpacing || 50;\n  data4Layout.rankSpacing = conf?.rankSpacing || 50;\n  data4Layout.markers = ["barb"];\n  data4Layout.diagramId = id;\n  await (0,_chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_2__.render)(data4Layout, svg);\n  const padding = 8;\n  try {\n    const links = typeof diag.db.getLinks === "function" ? diag.db.getLinks() : /* @__PURE__ */ new Map();\n    links.forEach((linkInfo, key) => {\n      const stateId = typeof key === "string" ? key : typeof key?.id === "string" ? key.id : "";\n      if (!stateId) {\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.warn("\\u26A0\\uFE0F Invalid or missing stateId from key:", JSON.stringify(key));\n        return;\n      }\n      const allNodes = svg.node()?.querySelectorAll("g");\n      let matchedElem;\n      allNodes?.forEach((g) => {\n        const text2 = g.textContent?.trim();\n        if (text2 === stateId) {\n          matchedElem = g;\n        }\n      });\n      if (!matchedElem) {\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.warn("\\u26A0\\uFE0F Could not find node matching text:", stateId);\n        return;\n      }\n      const parent = matchedElem.parentNode;\n      if (!parent) {\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.warn("\\u26A0\\uFE0F Node has no parent, cannot wrap:", stateId);\n        return;\n      }\n      const a = document.createElementNS("http://www.w3.org/2000/svg", "a");\n      const cleanedUrl = linkInfo.url.replace(/^"+|"+$/g, "");\n      a.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", cleanedUrl);\n      a.setAttribute("target", "_blank");\n      if (linkInfo.tooltip) {\n        const tooltip = linkInfo.tooltip.replace(/^"+|"+$/g, "");\n        a.setAttribute("title", tooltip);\n      }\n      parent.replaceChild(a, matchedElem);\n      a.appendChild(matchedElem);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("\\u{1F517} Wrapped node in <a> tag for:", stateId, linkInfo.url);\n    });\n  } catch (err) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.error("\\u274C Error injecting clickable links:", err);\n  }\n  _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.insertTitle(\n    svg,\n    "statediagramTitleText",\n    conf?.titleTopMargin ?? 25,\n    diag.db.getDiagramTitle()\n  );\n  (0,_chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_1__.setupViewPortForSVG)(svg, padding, CSS_DIAGRAM, conf?.useMaxWidth ?? true);\n}, "draw");\nvar stateRenderer_v3_unified_default = {\n  getClasses,\n  draw,\n  getDir\n};\n\n// src/diagrams/state/dataFetcher.ts\nvar nodeDb = /* @__PURE__ */ new Map();\nvar graphItemCount = 0;\nfunction stateDomId(itemId = "", counter = 0, type = "", typeSpacer = DOMID_TYPE_SPACER) {\n  const typeStr = type !== null && type.length > 0 ? `${typeSpacer}${type}` : "";\n  return `${DOMID_STATE}-${itemId}${typeStr}-${counter}`;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(stateDomId, "stateDomId");\nvar setupDoc = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((parentParsedItem, doc, diagramStates, nodes, edges, altFlag, look, classes) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.trace("items", doc);\n  doc.forEach((item) => {\n    switch (item.stmt) {\n      case STMT_STATE:\n        dataFetcher(parentParsedItem, item, diagramStates, nodes, edges, altFlag, look, classes);\n        break;\n      case DEFAULT_STATE_TYPE:\n        dataFetcher(parentParsedItem, item, diagramStates, nodes, edges, altFlag, look, classes);\n        break;\n      case STMT_RELATION:\n        {\n          dataFetcher(\n            parentParsedItem,\n            item.state1,\n            diagramStates,\n            nodes,\n            edges,\n            altFlag,\n            look,\n            classes\n          );\n          dataFetcher(\n            parentParsedItem,\n            item.state2,\n            diagramStates,\n            nodes,\n            edges,\n            altFlag,\n            look,\n            classes\n          );\n          const edgeData = {\n            id: "edge" + graphItemCount,\n            start: item.state1.id,\n            end: item.state2.id,\n            arrowhead: "normal",\n            arrowTypeEnd: "arrow_barb",\n            style: G_EDGE_STYLE,\n            labelStyle: "",\n            label: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.sanitizeText(item.description ?? "", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()),\n            arrowheadStyle: G_EDGE_ARROWHEADSTYLE,\n            labelpos: G_EDGE_LABELPOS,\n            labelType: G_EDGE_LABELTYPE,\n            thickness: G_EDGE_THICKNESS,\n            classes: CSS_EDGE,\n            look\n          };\n          edges.push(edgeData);\n          graphItemCount++;\n        }\n        break;\n    }\n  });\n}, "setupDoc");\nvar getDir2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((parsedItem, defaultDir = DEFAULT_NESTED_DOC_DIR) => {\n  let dir = defaultDir;\n  if (parsedItem.doc) {\n    for (const parsedItemDoc of parsedItem.doc) {\n      if (parsedItemDoc.stmt === "dir") {\n        dir = parsedItemDoc.value;\n      }\n    }\n  }\n  return dir;\n}, "getDir");\nfunction insertOrUpdateNode(nodes, nodeData, classes) {\n  if (!nodeData.id || nodeData.id === "</join></fork>" || nodeData.id === "</choice>") {\n    return;\n  }\n  if (nodeData.cssClasses) {\n    if (!Array.isArray(nodeData.cssCompiledStyles)) {\n      nodeData.cssCompiledStyles = [];\n    }\n    nodeData.cssClasses.split(" ").forEach((cssClass) => {\n      const classDef = classes.get(cssClass);\n      if (classDef) {\n        nodeData.cssCompiledStyles = [...nodeData.cssCompiledStyles ?? [], ...classDef.styles];\n      }\n    });\n  }\n  const existingNodeData = nodes.find((node) => node.id === nodeData.id);\n  if (existingNodeData) {\n    Object.assign(existingNodeData, nodeData);\n  } else {\n    nodes.push(nodeData);\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(insertOrUpdateNode, "insertOrUpdateNode");\nfunction getClassesFromDbInfo(dbInfoItem) {\n  return dbInfoItem?.classes?.join(" ") ?? "";\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(getClassesFromDbInfo, "getClassesFromDbInfo");\nfunction getStylesFromDbInfo(dbInfoItem) {\n  return dbInfoItem?.styles ?? [];\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(getStylesFromDbInfo, "getStylesFromDbInfo");\nvar dataFetcher = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((parent, parsedItem, diagramStates, nodes, edges, altFlag, look, classes) => {\n  const itemId = parsedItem.id;\n  const dbState = diagramStates.get(itemId);\n  const classStr = getClassesFromDbInfo(dbState);\n  const style = getStylesFromDbInfo(dbState);\n  const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)();\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("dataFetcher parsedItem", parsedItem, dbState, style);\n  if (itemId !== "root") {\n    let shape = SHAPE_STATE;\n    if (parsedItem.start === true) {\n      shape = SHAPE_START;\n    } else if (parsedItem.start === false) {\n      shape = SHAPE_END;\n    }\n    if (parsedItem.type !== DEFAULT_STATE_TYPE) {\n      shape = parsedItem.type;\n    }\n    if (!nodeDb.get(itemId)) {\n      nodeDb.set(itemId, {\n        id: itemId,\n        shape,\n        description: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.sanitizeText(itemId, config),\n        cssClasses: `${classStr} ${CSS_DIAGRAM_STATE}`,\n        cssStyles: style\n      });\n    }\n    const newNode = nodeDb.get(itemId);\n    if (parsedItem.description) {\n      if (Array.isArray(newNode.description)) {\n        newNode.shape = SHAPE_STATE_WITH_DESC;\n        newNode.description.push(parsedItem.description);\n      } else {\n        if (newNode.description?.length && newNode.description.length > 0) {\n          newNode.shape = SHAPE_STATE_WITH_DESC;\n          if (newNode.description === itemId) {\n            newNode.description = [parsedItem.description];\n          } else {\n            newNode.description = [newNode.description, parsedItem.description];\n          }\n        } else {\n          newNode.shape = SHAPE_STATE;\n          newNode.description = parsedItem.description;\n        }\n      }\n      newNode.description = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.sanitizeTextOrArray(newNode.description, config);\n    }\n    if (newNode.description?.length === 1 && newNode.shape === SHAPE_STATE_WITH_DESC) {\n      if (newNode.type === "group") {\n        newNode.shape = SHAPE_GROUP;\n      } else {\n        newNode.shape = SHAPE_STATE;\n      }\n    }\n    if (!newNode.type && parsedItem.doc) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Setting cluster for XCX", itemId, getDir2(parsedItem));\n      newNode.type = "group";\n      newNode.isGroup = true;\n      newNode.dir = getDir2(parsedItem);\n      newNode.shape = parsedItem.type === DIVIDER_TYPE ? SHAPE_DIVIDER : SHAPE_GROUP;\n      newNode.cssClasses = `${newNode.cssClasses} ${CSS_DIAGRAM_CLUSTER} ${altFlag ? CSS_DIAGRAM_CLUSTER_ALT : ""}`;\n    }\n    const nodeData = {\n      labelStyle: "",\n      shape: newNode.shape,\n      label: newNode.description,\n      cssClasses: newNode.cssClasses,\n      cssCompiledStyles: [],\n      cssStyles: newNode.cssStyles,\n      id: itemId,\n      dir: newNode.dir,\n      domId: stateDomId(itemId, graphItemCount),\n      type: newNode.type,\n      isGroup: newNode.type === "group",\n      padding: 8,\n      rx: 10,\n      ry: 10,\n      look\n    };\n    if (nodeData.shape === SHAPE_DIVIDER) {\n      nodeData.label = "";\n    }\n    if (parent && parent.id !== "root") {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.trace("Setting node ", itemId, " to be child of its parent ", parent.id);\n      nodeData.parentId = parent.id;\n    }\n    nodeData.centerLabel = true;\n    if (parsedItem.note) {\n      const noteData = {\n        labelStyle: "",\n        shape: SHAPE_NOTE,\n        label: parsedItem.note.text,\n        cssClasses: CSS_DIAGRAM_NOTE,\n        // useHtmlLabels: false,\n        cssStyles: [],\n        cssCompiledStyles: [],\n        id: itemId + NOTE_ID + "-" + graphItemCount,\n        domId: stateDomId(itemId, graphItemCount, NOTE),\n        type: newNode.type,\n        isGroup: newNode.type === "group",\n        padding: config.flowchart?.padding,\n        look,\n        position: parsedItem.note.position\n      };\n      const parentNodeId = itemId + PARENT_ID;\n      const groupData = {\n        labelStyle: "",\n        shape: SHAPE_NOTEGROUP,\n        label: parsedItem.note.text,\n        cssClasses: newNode.cssClasses,\n        cssStyles: [],\n        id: itemId + PARENT_ID,\n        domId: stateDomId(itemId, graphItemCount, PARENT),\n        type: "group",\n        isGroup: true,\n        padding: 16,\n        //getConfig().flowchart.padding\n        look,\n        position: parsedItem.note.position\n      };\n      graphItemCount++;\n      groupData.id = parentNodeId;\n      noteData.parentId = parentNodeId;\n      insertOrUpdateNode(nodes, groupData, classes);\n      insertOrUpdateNode(nodes, noteData, classes);\n      insertOrUpdateNode(nodes, nodeData, classes);\n      let from = itemId;\n      let to = noteData.id;\n      if (parsedItem.note.position === "left of") {\n        from = noteData.id;\n        to = itemId;\n      }\n      edges.push({\n        id: from + "-" + to,\n        start: from,\n        end: to,\n        arrowhead: "none",\n        arrowTypeEnd: "",\n        style: G_EDGE_STYLE,\n        labelStyle: "",\n        classes: CSS_EDGE_NOTE_EDGE,\n        arrowheadStyle: G_EDGE_ARROWHEADSTYLE,\n        labelpos: G_EDGE_LABELPOS,\n        labelType: G_EDGE_LABELTYPE,\n        thickness: G_EDGE_THICKNESS,\n        look\n      });\n    } else {\n      insertOrUpdateNode(nodes, nodeData, classes);\n    }\n  }\n  if (parsedItem.doc) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.trace("Adding nodes children ");\n    setupDoc(parsedItem, parsedItem.doc, diagramStates, nodes, edges, !altFlag, look, classes);\n  }\n}, "dataFetcher");\nvar reset = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(() => {\n  nodeDb.clear();\n  graphItemCount = 0;\n}, "reset");\n\n// src/diagrams/state/stateDb.ts\nvar CONSTANTS = {\n  START_NODE: "[*]",\n  START_TYPE: "start",\n  END_NODE: "[*]",\n  END_TYPE: "end",\n  COLOR_KEYWORD: "color",\n  FILL_KEYWORD: "fill",\n  BG_FILL: "bgFill",\n  STYLECLASS_SEP: ","\n};\nvar newClassesList = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(() => /* @__PURE__ */ new Map(), "newClassesList");\nvar newDoc = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(() => ({\n  relations: [],\n  states: /* @__PURE__ */ new Map(),\n  documents: {}\n}), "newDoc");\nvar clone = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((o) => JSON.parse(JSON.stringify(o)), "clone");\nvar StateDB = class {\n  constructor(version) {\n    this.version = version;\n    this.nodes = [];\n    this.edges = [];\n    this.rootDoc = [];\n    this.classes = newClassesList();\n    this.documents = { root: newDoc() };\n    this.currentDocument = this.documents.root;\n    this.startEndCount = 0;\n    this.dividerCnt = 0;\n    this.links = /* @__PURE__ */ new Map();\n    this.getAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getAccTitle;\n    this.setAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.setAccTitle;\n    this.getAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getAccDescription;\n    this.setAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.setAccDescription;\n    this.setDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.setDiagramTitle;\n    this.getDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getDiagramTitle;\n    this.clear();\n    this.setRootDoc = this.setRootDoc.bind(this);\n    this.getDividerId = this.getDividerId.bind(this);\n    this.setDirection = this.setDirection.bind(this);\n    this.trimColon = this.trimColon.bind(this);\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(this, "StateDB");\n  }\n  static {\n    this.relationType = {\n      AGGREGATION: 0,\n      EXTENSION: 1,\n      COMPOSITION: 2,\n      DEPENDENCY: 3\n    };\n  }\n  /**\n   * Convert all of the statements (stmts) that were parsed into states and relationships.\n   * This is done because a state diagram may have nested sections,\n   * where each section is a \'document\' and has its own set of statements.\n   * Ex: the section within a fork has its own statements, and incoming and outgoing statements\n   * refer to the fork as a whole (document).\n   * See the parser grammar:  the definition of a document is a document then a \'line\', where a line can be a statement.\n   * This will push the statement into the list of statements for the current document.\n   */\n  extract(statements) {\n    this.clear(true);\n    for (const item of Array.isArray(statements) ? statements : statements.doc) {\n      switch (item.stmt) {\n        case STMT_STATE:\n          this.addState(item.id.trim(), item.type, item.doc, item.description, item.note);\n          break;\n        case STMT_RELATION:\n          this.addRelation(item.state1, item.state2, item.description);\n          break;\n        case STMT_CLASSDEF:\n          this.addStyleClass(item.id.trim(), item.classes);\n          break;\n        case STMT_STYLEDEF:\n          this.handleStyleDef(item);\n          break;\n        case STMT_APPLYCLASS:\n          this.setCssClass(item.id.trim(), item.styleClass);\n          break;\n        case "click":\n          this.addLink(item.id, item.url, item.tooltip);\n          break;\n      }\n    }\n    const diagramStates = this.getStates();\n    const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)();\n    reset();\n    dataFetcher(\n      void 0,\n      this.getRootDocV2(),\n      diagramStates,\n      this.nodes,\n      this.edges,\n      true,\n      config.look,\n      this.classes\n    );\n    for (const node of this.nodes) {\n      if (!Array.isArray(node.label)) {\n        continue;\n      }\n      node.description = node.label.slice(1);\n      if (node.isGroup && node.description.length > 0) {\n        throw new Error(\n          `Group nodes can only have label. Remove the additional description for node [${node.id}]`\n        );\n      }\n      node.label = node.label[0];\n    }\n  }\n  handleStyleDef(item) {\n    const ids = item.id.trim().split(",");\n    const styles = item.styleClass.split(",");\n    for (const id of ids) {\n      let state = this.getState(id);\n      if (!state) {\n        const trimmedId = id.trim();\n        this.addState(trimmedId);\n        state = this.getState(trimmedId);\n      }\n      if (state) {\n        state.styles = styles.map((s) => s.replace(/;/g, "")?.trim());\n      }\n    }\n  }\n  setRootDoc(o) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Setting root doc", o);\n    this.rootDoc = o;\n    if (this.version === 1) {\n      this.extract(o);\n    } else {\n      this.extract(this.getRootDocV2());\n    }\n  }\n  docTranslator(parent, node, first) {\n    if (node.stmt === STMT_RELATION) {\n      this.docTranslator(parent, node.state1, true);\n      this.docTranslator(parent, node.state2, false);\n      return;\n    }\n    if (node.stmt === STMT_STATE) {\n      if (node.id === CONSTANTS.START_NODE) {\n        node.id = parent.id + (first ? "_start" : "_end");\n        node.start = first;\n      } else {\n        node.id = node.id.trim();\n      }\n    }\n    if (node.stmt !== STMT_ROOT && node.stmt !== STMT_STATE || !node.doc) {\n      return;\n    }\n    const doc = [];\n    let currentDoc = [];\n    for (const stmt of node.doc) {\n      if (stmt.type === DIVIDER_TYPE) {\n        const newNode = clone(stmt);\n        newNode.doc = clone(currentDoc);\n        doc.push(newNode);\n        currentDoc = [];\n      } else {\n        currentDoc.push(stmt);\n      }\n    }\n    if (doc.length > 0 && currentDoc.length > 0) {\n      const newNode = {\n        stmt: STMT_STATE,\n        id: (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.generateId)(),\n        type: "divider",\n        doc: clone(currentDoc)\n      };\n      doc.push(clone(newNode));\n      node.doc = doc;\n    }\n    node.doc.forEach((docNode) => this.docTranslator(node, docNode, true));\n  }\n  getRootDocV2() {\n    this.docTranslator(\n      { id: STMT_ROOT, stmt: STMT_ROOT },\n      { id: STMT_ROOT, stmt: STMT_ROOT, doc: this.rootDoc },\n      true\n    );\n    return { id: STMT_ROOT, doc: this.rootDoc };\n  }\n  /**\n   * Function called by parser when a node definition has been found.\n   *\n   * @param descr - description for the state. Can be a string or a list or strings\n   * @param classes - class styles to apply to this state. Can be a string (1 style) or an array of styles. If it\'s just 1 class, convert it to an array of that 1 class.\n   * @param styles - styles to apply to this state. Can be a string (1 style) or an array of styles. If it\'s just 1 style, convert it to an array of that 1 style.\n   * @param textStyles - text styles to apply to this state. Can be a string (1 text test) or an array of text styles. If it\'s just 1 text style, convert it to an array of that 1 text style.\n   */\n  addState(id, type = DEFAULT_STATE_TYPE, doc = void 0, descr = void 0, note = void 0, classes = void 0, styles = void 0, textStyles = void 0) {\n    const trimmedId = id?.trim();\n    if (!this.currentDocument.states.has(trimmedId)) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Adding state ", trimmedId, descr);\n      this.currentDocument.states.set(trimmedId, {\n        stmt: STMT_STATE,\n        id: trimmedId,\n        descriptions: [],\n        type,\n        doc,\n        note,\n        classes: [],\n        styles: [],\n        textStyles: []\n      });\n    } else {\n      const state = this.currentDocument.states.get(trimmedId);\n      if (!state) {\n        throw new Error(`State not found: ${trimmedId}`);\n      }\n      if (!state.doc) {\n        state.doc = doc;\n      }\n      if (!state.type) {\n        state.type = type;\n      }\n    }\n    if (descr) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Setting state description", trimmedId, descr);\n      const descriptions = Array.isArray(descr) ? descr : [descr];\n      descriptions.forEach((des) => this.addDescription(trimmedId, des.trim()));\n    }\n    if (note) {\n      const doc2 = this.currentDocument.states.get(trimmedId);\n      if (!doc2) {\n        throw new Error(`State not found: ${trimmedId}`);\n      }\n      doc2.note = note;\n      doc2.note.text = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.sanitizeText(doc2.note.text, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)());\n    }\n    if (classes) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Setting state classes", trimmedId, classes);\n      const classesList = Array.isArray(classes) ? classes : [classes];\n      classesList.forEach((cssClass) => this.setCssClass(trimmedId, cssClass.trim()));\n    }\n    if (styles) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Setting state styles", trimmedId, styles);\n      const stylesList = Array.isArray(styles) ? styles : [styles];\n      stylesList.forEach((style) => this.setStyle(trimmedId, style.trim()));\n    }\n    if (textStyles) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Setting state styles", trimmedId, styles);\n      const textStylesList = Array.isArray(textStyles) ? textStyles : [textStyles];\n      textStylesList.forEach((textStyle) => this.setTextStyle(trimmedId, textStyle.trim()));\n    }\n  }\n  clear(saveCommon) {\n    this.nodes = [];\n    this.edges = [];\n    this.documents = { root: newDoc() };\n    this.currentDocument = this.documents.root;\n    this.startEndCount = 0;\n    this.classes = newClassesList();\n    if (!saveCommon) {\n      this.links = /* @__PURE__ */ new Map();\n      (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.clear)();\n    }\n  }\n  getState(id) {\n    return this.currentDocument.states.get(id);\n  }\n  getStates() {\n    return this.currentDocument.states;\n  }\n  logDocuments() {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Documents = ", this.documents);\n  }\n  getRelations() {\n    return this.currentDocument.relations;\n  }\n  /**\n   * Adds a clickable link to a state.\n   */\n  addLink(stateId, url, tooltip) {\n    this.links.set(stateId, { url, tooltip });\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.warn("Adding link", stateId, url, tooltip);\n  }\n  /**\n   * Get all registered links.\n   */\n  getLinks() {\n    return this.links;\n  }\n  /**\n   * If the id is a start node ( [*] ), then return a new id constructed from\n   * the start node name and the current start node count.\n   * else return the given id\n   */\n  startIdIfNeeded(id = "") {\n    if (id === CONSTANTS.START_NODE) {\n      this.startEndCount++;\n      return `${CONSTANTS.START_TYPE}${this.startEndCount}`;\n    }\n    return id;\n  }\n  /**\n   * If the id is a start node ( [*] ), then return the start type (\'start\')\n   * else return the given type\n   */\n  startTypeIfNeeded(id = "", type = DEFAULT_STATE_TYPE) {\n    return id === CONSTANTS.START_NODE ? CONSTANTS.START_TYPE : type;\n  }\n  /**\n   * If the id is an end node ( [*] ), then return a new id constructed from\n   * the end node name and the current start_end node count.\n   * else return the given id\n   */\n  endIdIfNeeded(id = "") {\n    if (id === CONSTANTS.END_NODE) {\n      this.startEndCount++;\n      return `${CONSTANTS.END_TYPE}${this.startEndCount}`;\n    }\n    return id;\n  }\n  /**\n   * If the id is an end node ( [*] ), then return the end type\n   * else return the given type\n   *\n   */\n  endTypeIfNeeded(id = "", type = DEFAULT_STATE_TYPE) {\n    return id === CONSTANTS.END_NODE ? CONSTANTS.END_TYPE : type;\n  }\n  addRelationObjs(item1, item2, relationTitle = "") {\n    const id1 = this.startIdIfNeeded(item1.id.trim());\n    const type1 = this.startTypeIfNeeded(item1.id.trim(), item1.type);\n    const id2 = this.startIdIfNeeded(item2.id.trim());\n    const type2 = this.startTypeIfNeeded(item2.id.trim(), item2.type);\n    this.addState(\n      id1,\n      type1,\n      item1.doc,\n      item1.description,\n      item1.note,\n      item1.classes,\n      item1.styles,\n      item1.textStyles\n    );\n    this.addState(\n      id2,\n      type2,\n      item2.doc,\n      item2.description,\n      item2.note,\n      item2.classes,\n      item2.styles,\n      item2.textStyles\n    );\n    this.currentDocument.relations.push({\n      id1,\n      id2,\n      relationTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.sanitizeText(relationTitle, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)())\n    });\n  }\n  /**\n   * Add a relation between two items.  The items may be full objects or just the string id of a state.\n   */\n  addRelation(item1, item2, title) {\n    if (typeof item1 === "object" && typeof item2 === "object") {\n      this.addRelationObjs(item1, item2, title);\n    } else if (typeof item1 === "string" && typeof item2 === "string") {\n      const id1 = this.startIdIfNeeded(item1.trim());\n      const type1 = this.startTypeIfNeeded(item1);\n      const id2 = this.endIdIfNeeded(item2.trim());\n      const type2 = this.endTypeIfNeeded(item2);\n      this.addState(id1, type1);\n      this.addState(id2, type2);\n      this.currentDocument.relations.push({\n        id1,\n        id2,\n        relationTitle: title ? _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.sanitizeText(title, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()) : void 0\n      });\n    }\n  }\n  addDescription(id, descr) {\n    const theState = this.currentDocument.states.get(id);\n    const _descr = descr.startsWith(":") ? descr.replace(":", "").trim() : descr;\n    theState?.descriptions?.push(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.sanitizeText(_descr, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()));\n  }\n  cleanupLabel(label) {\n    return label.startsWith(":") ? label.slice(2).trim() : label.trim();\n  }\n  getDividerId() {\n    this.dividerCnt++;\n    return `divider-id-${this.dividerCnt}`;\n  }\n  /**\n   * Called when the parser comes across a (style) class definition\n   * @example classDef my-style fill:#f96;\n   *\n   * @param id - the id of this (style) class\n   * @param styleAttributes - the string with 1 or more style attributes (each separated by a comma)\n   */\n  addStyleClass(id, styleAttributes = "") {\n    if (!this.classes.has(id)) {\n      this.classes.set(id, { id, styles: [], textStyles: [] });\n    }\n    const foundClass = this.classes.get(id);\n    if (styleAttributes && foundClass) {\n      styleAttributes.split(CONSTANTS.STYLECLASS_SEP).forEach((attrib) => {\n        const fixedAttrib = attrib.replace(/([^;]*);/, "$1").trim();\n        if (RegExp(CONSTANTS.COLOR_KEYWORD).exec(attrib)) {\n          const newStyle1 = fixedAttrib.replace(CONSTANTS.FILL_KEYWORD, CONSTANTS.BG_FILL);\n          const newStyle2 = newStyle1.replace(CONSTANTS.COLOR_KEYWORD, CONSTANTS.FILL_KEYWORD);\n          foundClass.textStyles.push(newStyle2);\n        }\n        foundClass.styles.push(fixedAttrib);\n      });\n    }\n  }\n  getClasses() {\n    return this.classes;\n  }\n  /**\n   * Add a (style) class or css class to a state with the given id.\n   * If the state isn\'t already in the list of known states, add it.\n   * Might be called by parser when a style class or CSS class should be applied to a state\n   *\n   * @param itemIds - The id or a list of ids of the item(s) to apply the css class to\n   * @param cssClassName - CSS class name\n   */\n  setCssClass(itemIds, cssClassName) {\n    itemIds.split(",").forEach((id) => {\n      let foundState = this.getState(id);\n      if (!foundState) {\n        const trimmedId = id.trim();\n        this.addState(trimmedId);\n        foundState = this.getState(trimmedId);\n      }\n      foundState?.classes?.push(cssClassName);\n    });\n  }\n  /**\n   * Add a style to a state with the given id.\n   * @example style stateId fill:#f9f,stroke:#333,stroke-width:4px\n   *   where \'style\' is the keyword\n   *   stateId is the id of a state\n   *   the rest of the string is the styleText (all of the attributes to be applied to the state)\n   *\n   * @param itemId - The id of item to apply the style to\n   * @param styleText - the text of the attributes for the style\n   */\n  setStyle(itemId, styleText) {\n    this.getState(itemId)?.styles?.push(styleText);\n  }\n  /**\n   * Add a text style to a state with the given id\n   *\n   * @param itemId - The id of item to apply the css class to\n   * @param cssClassName - CSS class name\n   */\n  setTextStyle(itemId, cssClassName) {\n    this.getState(itemId)?.textStyles?.push(cssClassName);\n  }\n  /**\n   * Finds the direction statement in the root document.\n   * @returns the direction statement if present\n   */\n  getDirectionStatement() {\n    return this.rootDoc.find((doc) => doc.stmt === STMT_DIRECTION);\n  }\n  getDirection() {\n    return this.getDirectionStatement()?.value ?? DEFAULT_DIAGRAM_DIRECTION;\n  }\n  setDirection(dir) {\n    const doc = this.getDirectionStatement();\n    if (doc) {\n      doc.value = dir;\n    } else {\n      this.rootDoc.unshift({ stmt: STMT_DIRECTION, value: dir });\n    }\n  }\n  trimColon(str) {\n    return str.startsWith(":") ? str.slice(1).trim() : str.trim();\n  }\n  getData() {\n    const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)();\n    return {\n      nodes: this.nodes,\n      edges: this.edges,\n      other: {},\n      config,\n      direction: getDir(this.getRootDocV2())\n    };\n  }\n  getConfig() {\n    return (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)().state;\n  }\n};\n\n// src/diagrams/state/styles.js\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((options) => `\ndefs #statediagram-barbEnd {\n    fill: ${options.transitionColor};\n    stroke: ${options.transitionColor};\n  }\ng.stateGroup text {\n  fill: ${options.nodeBorder};\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ${options.textColor};\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ${options.stateLabelColor};\n}\n\ng.stateGroup rect {\n  fill: ${options.mainBkg};\n  stroke: ${options.nodeBorder};\n}\n\ng.stateGroup line {\n  stroke: ${options.lineColor};\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ${options.transitionColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ${options.background};\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ${options.noteBorderColor};\n  fill: ${options.noteBkgColor};\n\n  text {\n    fill: ${options.noteTextColor};\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${options.mainBkg};\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ${options.labelBackgroundColor};\n  opacity: 0.5;\n}\n.edgeLabel {\n  background-color: ${options.edgeLabelBackground};\n  p {\n    background-color: ${options.edgeLabelBackground};\n  }\n  rect {\n    opacity: 0.5;\n    background-color: ${options.edgeLabelBackground};\n    fill: ${options.edgeLabelBackground};\n  }\n  text-align: center;\n}\n.edgeLabel .label text {\n  fill: ${options.transitionLabelColor || options.tertiaryTextColor};\n}\n.label div .edgeLabel {\n  color: ${options.transitionLabelColor || options.tertiaryTextColor};\n}\n\n.stateLabel text {\n  fill: ${options.stateLabelColor};\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ${options.specialStateColor};\n  stroke: ${options.specialStateColor};\n}\n\n.node .fork-join {\n  fill: ${options.specialStateColor};\n  stroke: ${options.specialStateColor};\n}\n\n.node circle.state-end {\n  fill: ${options.innerEndBackground};\n  stroke: ${options.background};\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ${options.compositeBackground || options.background};\n  // stroke: ${options.background};\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ${options.stateBkg || options.mainBkg};\n  stroke: ${options.stateBorder || options.nodeBorder};\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ${options.mainBkg};\n  stroke: ${options.stateBorder || options.nodeBorder};;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ${options.lineColor};\n}\n\n.statediagram-cluster rect {\n  fill: ${options.compositeTitleBackground};\n  stroke: ${options.stateBorder || options.nodeBorder};\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ${options.stateLabelColor};\n  // line-height: 1;\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ${options.stateBorder || options.nodeBorder};\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ${options.compositeBackground || options.background};\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ${options.altBackground ? options.altBackground : "#efefef"};\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ${options.altBackground ? options.altBackground : "#efefef"};\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ${options.noteBkgColor};\n  stroke: ${options.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ${options.noteBkgColor};\n  stroke: ${options.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ${options.noteTextColor};\n}\n\n.statediagram-note .nodeLabel {\n  color: ${options.noteTextColor};\n}\n.statediagram .edgeLabel {\n  color: red; // ${options.noteTextColor};\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ${options.lineColor};\n  stroke: ${options.lineColor};\n  stroke-width: 1;\n}\n\n.statediagramTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${options.textColor};\n}\n`, "getStyles");\nvar styles_default = getStyles;\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-DI55MBZ5.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-EXTU4WIE.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   selectSvgElement: () => (/* binding */ selectSvgElement)\n/* harmony export */ });\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n\n\n\n// src/rendering-util/selectSvgElement.ts\n\nvar selectSvgElement = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((id) => {\n  const { securityLevel } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getConfig2)();\n  let root = (0,d3__WEBPACK_IMPORTED_MODULE_2__.select)("body");\n  if (securityLevel === "sandbox") {\n    const sandboxElement = (0,d3__WEBPACK_IMPORTED_MODULE_2__.select)(`#i${id}`);\n    const doc = sandboxElement.node()?.contentDocument ?? document;\n    root = (0,d3__WEBPACK_IMPORTED_MODULE_2__.select)(doc.body);\n  }\n  const svg = root.select(`#${id}`);\n  return svg;\n}, "selectSvgElement");\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-EXTU4WIE.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-FMBD7UC4.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getIconStyles: () => (/* binding */ getIconStyles)\n/* harmony export */ });\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n\n\n// src/diagrams/globalStyles.ts\nvar getIconStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(() => `\n  /* Font Awesome icon styling - consolidated */\n  .label-icon {\n    display: inline-block;\n    height: 1em;\n    overflow: visible;\n    vertical-align: -0.125em;\n  }\n  \n  .node .label-icon path {\n    fill: currentColor;\n    stroke: revert;\n    stroke-width: revert;\n  }\n`, "getIconStyles");\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-FMBD7UC4.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HN2XXSSU.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLineFunctionsWithOffset: () => (/* binding */ getLineFunctionsWithOffset),\n/* harmony export */   markerOffsets: () => (/* binding */ markerOffsets),\n/* harmony export */   markerOffsets2: () => (/* binding */ markerOffsets2)\n/* harmony export */ });\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n\n\n// src/utils/lineWithOffset.ts\nvar markerOffsets = {\n  aggregation: 17.25,\n  extension: 17.25,\n  composition: 17.25,\n  dependency: 6,\n  lollipop: 13.5,\n  arrow_point: 4\n  //arrow_cross: 24,\n};\nvar markerOffsets2 = {\n  arrow_point: 9,\n  arrow_cross: 12.5,\n  arrow_circle: 12.5\n};\nfunction calculateDeltaAndAngle(point1, point2) {\n  if (point1 === void 0 || point2 === void 0) {\n    return { angle: 0, deltaX: 0, deltaY: 0 };\n  }\n  point1 = pointTransformer(point1);\n  point2 = pointTransformer(point2);\n  const [x1, y1] = [point1.x, point1.y];\n  const [x2, y2] = [point2.x, point2.y];\n  const deltaX = x2 - x1;\n  const deltaY = y2 - y1;\n  return { angle: Math.atan(deltaY / deltaX), deltaX, deltaY };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(calculateDeltaAndAngle, "calculateDeltaAndAngle");\nvar pointTransformer = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((data) => {\n  if (Array.isArray(data)) {\n    return { x: data[0], y: data[1] };\n  }\n  return data;\n}, "pointTransformer");\nvar getLineFunctionsWithOffset = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((edge) => {\n  return {\n    x: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(d, i, data) {\n      let offset = 0;\n      const DIRECTION = pointTransformer(data[0]).x < pointTransformer(data[data.length - 1]).x ? "left" : "right";\n      if (i === 0 && Object.hasOwn(markerOffsets, edge.arrowTypeStart)) {\n        const { angle, deltaX } = calculateDeltaAndAngle(data[0], data[1]);\n        offset = markerOffsets[edge.arrowTypeStart] * Math.cos(angle) * (deltaX >= 0 ? 1 : -1);\n      } else if (i === data.length - 1 && Object.hasOwn(markerOffsets, edge.arrowTypeEnd)) {\n        const { angle, deltaX } = calculateDeltaAndAngle(\n          data[data.length - 1],\n          data[data.length - 2]\n        );\n        offset = markerOffsets[edge.arrowTypeEnd] * Math.cos(angle) * (deltaX >= 0 ? 1 : -1);\n      }\n      const differenceToEnd = Math.abs(\n        pointTransformer(d).x - pointTransformer(data[data.length - 1]).x\n      );\n      const differenceInYEnd = Math.abs(\n        pointTransformer(d).y - pointTransformer(data[data.length - 1]).y\n      );\n      const differenceToStart = Math.abs(pointTransformer(d).x - pointTransformer(data[0]).x);\n      const differenceInYStart = Math.abs(pointTransformer(d).y - pointTransformer(data[0]).y);\n      const startMarkerHeight = markerOffsets[edge.arrowTypeStart];\n      const endMarkerHeight = markerOffsets[edge.arrowTypeEnd];\n      const extraRoom = 1;\n      if (differenceToEnd < endMarkerHeight && differenceToEnd > 0 && differenceInYEnd < endMarkerHeight) {\n        let adjustment = endMarkerHeight + extraRoom - differenceToEnd;\n        adjustment *= DIRECTION === "right" ? -1 : 1;\n        offset -= adjustment;\n      }\n      if (differenceToStart < startMarkerHeight && differenceToStart > 0 && differenceInYStart < startMarkerHeight) {\n        let adjustment = startMarkerHeight + extraRoom - differenceToStart;\n        adjustment *= DIRECTION === "right" ? -1 : 1;\n        offset += adjustment;\n      }\n      return pointTransformer(d).x + offset;\n    }, "x"),\n    y: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(d, i, data) {\n      let offset = 0;\n      const DIRECTION = pointTransformer(data[0]).y < pointTransformer(data[data.length - 1]).y ? "down" : "up";\n      if (i === 0 && Object.hasOwn(markerOffsets, edge.arrowTypeStart)) {\n        const { angle, deltaY } = calculateDeltaAndAngle(data[0], data[1]);\n        offset = markerOffsets[edge.arrowTypeStart] * Math.abs(Math.sin(angle)) * (deltaY >= 0 ? 1 : -1);\n      } else if (i === data.length - 1 && Object.hasOwn(markerOffsets, edge.arrowTypeEnd)) {\n        const { angle, deltaY } = calculateDeltaAndAngle(\n          data[data.length - 1],\n          data[data.length - 2]\n        );\n        offset = markerOffsets[edge.arrowTypeEnd] * Math.abs(Math.sin(angle)) * (deltaY >= 0 ? 1 : -1);\n      }\n      const differenceToEnd = Math.abs(\n        pointTransformer(d).y - pointTransformer(data[data.length - 1]).y\n      );\n      const differenceInXEnd = Math.abs(\n        pointTransformer(d).x - pointTransformer(data[data.length - 1]).x\n      );\n      const differenceToStart = Math.abs(pointTransformer(d).y - pointTransformer(data[0]).y);\n      const differenceInXStart = Math.abs(pointTransformer(d).x - pointTransformer(data[0]).x);\n      const startMarkerHeight = markerOffsets[edge.arrowTypeStart];\n      const endMarkerHeight = markerOffsets[edge.arrowTypeEnd];\n      const extraRoom = 1;\n      if (differenceToEnd < endMarkerHeight && differenceToEnd > 0 && differenceInXEnd < endMarkerHeight) {\n        let adjustment = endMarkerHeight + extraRoom - differenceToEnd;\n        adjustment *= DIRECTION === "up" ? -1 : 1;\n        offset -= adjustment;\n      }\n      if (differenceToStart < startMarkerHeight && differenceToStart > 0 && differenceInXStart < startMarkerHeight) {\n        let adjustment = startMarkerHeight + extraRoom - differenceToStart;\n        adjustment *= DIRECTION === "up" ? -1 : 1;\n        offset += adjustment;\n      }\n      return pointTransformer(d).y + offset;\n    }, "y")\n  };\n}, "getLineFunctionsWithOffset");\nif (void 0) {\n  const { it, expect, describe } = void 0;\n  describe("calculateDeltaAndAngle", () => {\n    it("should calculate the angle and deltas between two points", () => {\n      expect(calculateDeltaAndAngle([0, 0], [0, 1])).toStrictEqual({\n        angle: 1.5707963267948966,\n        deltaX: 0,\n        deltaY: 1\n      });\n      expect(calculateDeltaAndAngle([1, 0], [0, -1])).toStrictEqual({\n        angle: 0.7853981633974483,\n        deltaX: -1,\n        deltaY: -1\n      });\n      expect(calculateDeltaAndAngle({ x: 1, y: 0 }, [0, -1])).toStrictEqual({\n        angle: 0.7853981633974483,\n        deltaX: -1,\n        deltaY: -1\n      });\n      expect(calculateDeltaAndAngle({ x: 1, y: 0 }, { x: 1, y: 0 })).toStrictEqual({\n        angle: NaN,\n        deltaX: 0,\n        deltaY: 0\n      });\n    });\n    it("should calculate the angle and deltas if one point in undefined", () => {\n      expect(calculateDeltaAndAngle(void 0, [0, 1])).toStrictEqual({\n        angle: 0,\n        deltaX: 0,\n        deltaY: 0\n      });\n      expect(calculateDeltaAndAngle([0, 1], void 0)).toStrictEqual({\n        angle: 0,\n        deltaX: 0,\n        deltaY: 0\n      });\n    });\n  });\n}\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HN2XXSSU.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeDimensionOfText: () => (/* binding */ computeDimensionOfText),\n/* harmony export */   createText: () => (/* binding */ createText),\n/* harmony export */   getIconSVG: () => (/* binding */ getIconSVG),\n/* harmony export */   registerIconPacks: () => (/* binding */ registerIconPacks),\n/* harmony export */   replaceIconSubstring: () => (/* binding */ replaceIconSubstring),\n/* harmony export */   unknownIcon: () => (/* binding */ unknownIcon)\n/* harmony export */ });\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var _iconify_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @iconify/utils */ "./node_modules/@iconify/utils/lib/icon/name.js");\n/* harmony import */ var _iconify_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @iconify/utils */ "./node_modules/@iconify/utils/lib/icon-set/get-icon.js");\n/* harmony import */ var _iconify_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @iconify/utils */ "./node_modules/@iconify/utils/lib/svg/build.js");\n/* harmony import */ var _iconify_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @iconify/utils */ "./node_modules/@iconify/utils/lib/svg/id.js");\n/* harmony import */ var _iconify_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @iconify/utils */ "./node_modules/@iconify/utils/lib/svg/html.js");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! marked */ "./node_modules/marked/lib/marked.esm.js");\n/* harmony import */ var ts_dedent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ts-dedent */ "./node_modules/ts-dedent/esm/index.js");\n\n\n\n\n// src/rendering-util/icons.ts\n\nvar unknownIcon = {\n  body: \'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>\',\n  height: 80,\n  width: 80\n};\nvar iconsStore = /* @__PURE__ */ new Map();\nvar loaderStore = /* @__PURE__ */ new Map();\nvar registerIconPacks = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((iconLoaders) => {\n  for (const iconLoader of iconLoaders) {\n    if (!iconLoader.name) {\n      throw new Error(\n        \'Invalid icon loader. Must have a "name" property with non-empty string value.\'\n      );\n    }\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.log.debug("Registering icon pack:", iconLoader.name);\n    if ("loader" in iconLoader) {\n      loaderStore.set(iconLoader.name, iconLoader.loader);\n    } else if ("icons" in iconLoader) {\n      iconsStore.set(iconLoader.name, iconLoader.icons);\n    } else {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.log.error("Invalid icon loader:", iconLoader);\n      throw new Error(\'Invalid icon loader. Must have either "icons" or "loader" property.\');\n    }\n  }\n}, "registerIconPacks");\nvar getRegisteredIconData = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (iconName, fallbackPrefix) => {\n  const data = (0,_iconify_utils__WEBPACK_IMPORTED_MODULE_3__.stringToIcon)(iconName, true, fallbackPrefix !== void 0);\n  if (!data) {\n    throw new Error(`Invalid icon name: ${iconName}`);\n  }\n  const prefix = data.prefix || fallbackPrefix;\n  if (!prefix) {\n    throw new Error(`Icon name must contain a prefix: ${iconName}`);\n  }\n  let icons = iconsStore.get(prefix);\n  if (!icons) {\n    const loader = loaderStore.get(prefix);\n    if (!loader) {\n      throw new Error(`Icon set not found: ${data.prefix}`);\n    }\n    try {\n      const loaded = await loader();\n      icons = { ...loaded, prefix };\n      iconsStore.set(prefix, icons);\n    } catch (e) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.log.error(e);\n      throw new Error(`Failed to load icon set: ${data.prefix}`);\n    }\n  }\n  const iconData = (0,_iconify_utils__WEBPACK_IMPORTED_MODULE_4__.getIconData)(icons, data.name);\n  if (!iconData) {\n    throw new Error(`Icon not found: ${iconName}`);\n  }\n  return iconData;\n}, "getRegisteredIconData");\nvar isIconAvailable = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (iconName) => {\n  try {\n    await getRegisteredIconData(iconName);\n    return true;\n  } catch {\n    return false;\n  }\n}, "isIconAvailable");\nvar getIconSVG = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (iconName, customisations, extraAttributes) => {\n  let iconData;\n  try {\n    iconData = await getRegisteredIconData(iconName, customisations?.fallbackPrefix);\n  } catch (e) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.log.error(e);\n    iconData = unknownIcon;\n  }\n  const renderData = (0,_iconify_utils__WEBPACK_IMPORTED_MODULE_5__.iconToSVG)(iconData, customisations);\n  const svg = (0,_iconify_utils__WEBPACK_IMPORTED_MODULE_7__.iconToHTML)((0,_iconify_utils__WEBPACK_IMPORTED_MODULE_6__.replaceIDs)(renderData.body), {\n    ...renderData.attributes,\n    ...extraAttributes\n  });\n  return (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.sanitizeText)(svg, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.getConfig)());\n}, "getIconSVG");\n\n// src/rendering-util/createText.ts\n\n\n// src/rendering-util/handle-markdown-text.ts\n\n\nfunction preprocessMarkdown(markdown, { markdownAutoWrap }) {\n  const withoutBR = markdown.replace(/<br\\/>/g, "\\n");\n  const withoutMultipleNewlines = withoutBR.replace(/\\n{2,}/g, "\\n");\n  const withoutExtraSpaces = (0,ts_dedent__WEBPACK_IMPORTED_MODULE_10__.dedent)(withoutMultipleNewlines);\n  if (markdownAutoWrap === false) {\n    return withoutExtraSpaces.replace(/ /g, "&nbsp;");\n  }\n  return withoutExtraSpaces;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(preprocessMarkdown, "preprocessMarkdown");\nfunction markdownToLines(markdown, config = {}) {\n  const preprocessedMarkdown = preprocessMarkdown(markdown, config);\n  const nodes = marked__WEBPACK_IMPORTED_MODULE_9__.marked.lexer(preprocessedMarkdown);\n  const lines = [[]];\n  let currentLine = 0;\n  function processNode(node, parentType = "normal") {\n    if (node.type === "text") {\n      const textLines = node.text.split("\\n");\n      textLines.forEach((textLine, index) => {\n        if (index !== 0) {\n          currentLine++;\n          lines.push([]);\n        }\n        textLine.split(" ").forEach((word) => {\n          word = word.replace(/&#39;/g, `\'`);\n          if (word) {\n            lines[currentLine].push({ content: word, type: parentType });\n          }\n        });\n      });\n    } else if (node.type === "strong" || node.type === "em") {\n      node.tokens.forEach((contentNode) => {\n        processNode(contentNode, node.type);\n      });\n    } else if (node.type === "html") {\n      lines[currentLine].push({ content: node.text, type: "normal" });\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(processNode, "processNode");\n  nodes.forEach((treeNode) => {\n    if (treeNode.type === "paragraph") {\n      treeNode.tokens?.forEach((contentNode) => {\n        processNode(contentNode);\n      });\n    } else if (treeNode.type === "html") {\n      lines[currentLine].push({ content: treeNode.text, type: "normal" });\n    } else {\n      lines[currentLine].push({ content: treeNode.raw, type: "normal" });\n    }\n  });\n  return lines;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(markdownToLines, "markdownToLines");\nfunction markdownToHTML(markdown, { markdownAutoWrap } = {}) {\n  const nodes = marked__WEBPACK_IMPORTED_MODULE_9__.marked.lexer(markdown);\n  function output(node) {\n    if (node.type === "text") {\n      if (markdownAutoWrap === false) {\n        return node.text.replace(/\\n */g, "<br/>").replace(/ /g, "&nbsp;");\n      }\n      return node.text.replace(/\\n */g, "<br/>");\n    } else if (node.type === "strong") {\n      return `<strong>${node.tokens?.map(output).join("")}</strong>`;\n    } else if (node.type === "em") {\n      return `<em>${node.tokens?.map(output).join("")}</em>`;\n    } else if (node.type === "paragraph") {\n      return `<p>${node.tokens?.map(output).join("")}</p>`;\n    } else if (node.type === "space") {\n      return "";\n    } else if (node.type === "html") {\n      return `${node.text}`;\n    } else if (node.type === "escape") {\n      return node.text;\n    }\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.log.warn(`Unsupported markdown: ${node.type}`);\n    return node.raw;\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(output, "output");\n  return nodes.map(output).join("");\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(markdownToHTML, "markdownToHTML");\n\n// src/rendering-util/splitText.ts\nfunction splitTextToChars(text) {\n  if (Intl.Segmenter) {\n    return [...new Intl.Segmenter().segment(text)].map((s) => s.segment);\n  }\n  return [...text];\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(splitTextToChars, "splitTextToChars");\nfunction splitWordToFitWidth(checkFit, word) {\n  const characters = splitTextToChars(word.content);\n  return splitWordToFitWidthRecursion(checkFit, [], characters, word.type);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(splitWordToFitWidth, "splitWordToFitWidth");\nfunction splitWordToFitWidthRecursion(checkFit, usedChars, remainingChars, type) {\n  if (remainingChars.length === 0) {\n    return [\n      { content: usedChars.join(""), type },\n      { content: "", type }\n    ];\n  }\n  const [nextChar, ...rest] = remainingChars;\n  const newWord = [...usedChars, nextChar];\n  if (checkFit([{ content: newWord.join(""), type }])) {\n    return splitWordToFitWidthRecursion(checkFit, newWord, rest, type);\n  }\n  if (usedChars.length === 0 && nextChar) {\n    usedChars.push(nextChar);\n    remainingChars.shift();\n  }\n  return [\n    { content: usedChars.join(""), type },\n    { content: remainingChars.join(""), type }\n  ];\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(splitWordToFitWidthRecursion, "splitWordToFitWidthRecursion");\nfunction splitLineToFitWidth(line, checkFit) {\n  if (line.some(({ content }) => content.includes("\\n"))) {\n    throw new Error("splitLineToFitWidth does not support newlines in the line");\n  }\n  return splitLineToFitWidthRecursion(line, checkFit);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(splitLineToFitWidth, "splitLineToFitWidth");\nfunction splitLineToFitWidthRecursion(words, checkFit, lines = [], newLine = []) {\n  if (words.length === 0) {\n    if (newLine.length > 0) {\n      lines.push(newLine);\n    }\n    return lines.length > 0 ? lines : [];\n  }\n  let joiner = "";\n  if (words[0].content === " ") {\n    joiner = " ";\n    words.shift();\n  }\n  const nextWord = words.shift() ?? { content: " ", type: "normal" };\n  const lineWithNextWord = [...newLine];\n  if (joiner !== "") {\n    lineWithNextWord.push({ content: joiner, type: "normal" });\n  }\n  lineWithNextWord.push(nextWord);\n  if (checkFit(lineWithNextWord)) {\n    return splitLineToFitWidthRecursion(words, checkFit, lines, lineWithNextWord);\n  }\n  if (newLine.length > 0) {\n    lines.push(newLine);\n    words.unshift(nextWord);\n  } else if (nextWord.content) {\n    const [line, rest] = splitWordToFitWidth(checkFit, nextWord);\n    lines.push([line]);\n    if (rest.content) {\n      words.unshift(rest);\n    }\n  }\n  return splitLineToFitWidthRecursion(words, checkFit, lines);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(splitLineToFitWidthRecursion, "splitLineToFitWidthRecursion");\n\n// src/rendering-util/createText.ts\nfunction applyStyle(dom, styleFn) {\n  if (styleFn) {\n    dom.attr("style", styleFn);\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(applyStyle, "applyStyle");\nasync function addHtmlSpan(element, node, width, classes, addBackground = false, config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.getConfig)()) {\n  const fo = element.append("foreignObject");\n  fo.attr("width", `${10 * width}px`);\n  fo.attr("height", `${10 * width}px`);\n  const div = fo.append("xhtml:div");\n  const sanitizedLabel = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.hasKatex)(node.label) ? await (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.renderKatexSanitized)(node.label.replace(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.common_default.lineBreakRegex, "\\n"), config) : (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.sanitizeText)(node.label, config);\n  const labelClass = node.isNode ? "nodeLabel" : "edgeLabel";\n  const span = div.append("span");\n  span.html(sanitizedLabel);\n  applyStyle(span, node.labelStyle);\n  span.attr("class", `${labelClass} ${classes}`);\n  applyStyle(div, node.labelStyle);\n  div.style("display", "table-cell");\n  div.style("white-space", "nowrap");\n  div.style("line-height", "1.5");\n  div.style("max-width", width + "px");\n  div.style("text-align", "center");\n  div.attr("xmlns", "http://www.w3.org/1999/xhtml");\n  if (addBackground) {\n    div.attr("class", "labelBkg");\n  }\n  let bbox = div.node().getBoundingClientRect();\n  if (bbox.width === width) {\n    div.style("display", "table");\n    div.style("white-space", "break-spaces");\n    div.style("width", width + "px");\n    bbox = div.node().getBoundingClientRect();\n  }\n  return fo.node();\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(addHtmlSpan, "addHtmlSpan");\nfunction createTspan(textElement, lineIndex, lineHeight) {\n  return textElement.append("tspan").attr("class", "text-outer-tspan").attr("x", 0).attr("y", lineIndex * lineHeight - 0.1 + "em").attr("dy", lineHeight + "em");\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(createTspan, "createTspan");\nfunction computeWidthOfText(parentNode, lineHeight, line) {\n  const testElement = parentNode.append("text");\n  const testSpan = createTspan(testElement, 1, lineHeight);\n  updateTextContentAndStyles(testSpan, line);\n  const textLength = testSpan.node().getComputedTextLength();\n  testElement.remove();\n  return textLength;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(computeWidthOfText, "computeWidthOfText");\nfunction computeDimensionOfText(parentNode, lineHeight, text) {\n  const testElement = parentNode.append("text");\n  const testSpan = createTspan(testElement, 1, lineHeight);\n  updateTextContentAndStyles(testSpan, [{ content: text, type: "normal" }]);\n  const textDimension = testSpan.node()?.getBoundingClientRect();\n  if (textDimension) {\n    testElement.remove();\n  }\n  return textDimension;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(computeDimensionOfText, "computeDimensionOfText");\nfunction createFormattedText(width, g, structuredText, addBackground = false) {\n  const lineHeight = 1.1;\n  const labelGroup = g.append("g");\n  const bkg = labelGroup.insert("rect").attr("class", "background").attr("style", "stroke: none");\n  const textElement = labelGroup.append("text").attr("y", "-10.1");\n  let lineIndex = 0;\n  for (const line of structuredText) {\n    const checkWidth = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((line2) => computeWidthOfText(labelGroup, lineHeight, line2) <= width, "checkWidth");\n    const linesUnderWidth = checkWidth(line) ? [line] : splitLineToFitWidth(line, checkWidth);\n    for (const preparedLine of linesUnderWidth) {\n      const tspan = createTspan(textElement, lineIndex, lineHeight);\n      updateTextContentAndStyles(tspan, preparedLine);\n      lineIndex++;\n    }\n  }\n  if (addBackground) {\n    const bbox = textElement.node().getBBox();\n    const padding = 2;\n    bkg.attr("x", bbox.x - padding).attr("y", bbox.y - padding).attr("width", bbox.width + 2 * padding).attr("height", bbox.height + 2 * padding);\n    return labelGroup.node();\n  } else {\n    return textElement.node();\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(createFormattedText, "createFormattedText");\nfunction updateTextContentAndStyles(tspan, wrappedLine) {\n  tspan.text("");\n  wrappedLine.forEach((word, index) => {\n    const innerTspan = tspan.append("tspan").attr("font-style", word.type === "em" ? "italic" : "normal").attr("class", "text-inner-tspan").attr("font-weight", word.type === "strong" ? "bold" : "normal");\n    if (index === 0) {\n      innerTspan.text(word.content);\n    } else {\n      innerTspan.text(" " + word.content);\n    }\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(updateTextContentAndStyles, "updateTextContentAndStyles");\nasync function replaceIconSubstring(text, config = {}) {\n  const pendingReplacements = [];\n  text.replace(/(fa[bklrs]?):fa-([\\w-]+)/g, (fullMatch, prefix, iconName) => {\n    pendingReplacements.push(\n      (async () => {\n        const registeredIconName = `${prefix}:${iconName}`;\n        if (await isIconAvailable(registeredIconName)) {\n          return await getIconSVG(registeredIconName, void 0, { class: "label-icon" });\n        } else {\n          return `<i class=\'${(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.sanitizeText)(fullMatch, config).replace(":", " ")}\'></i>`;\n        }\n      })()\n    );\n    return fullMatch;\n  });\n  const replacements = await Promise.all(pendingReplacements);\n  return text.replace(/(fa[bklrs]?):fa-([\\w-]+)/g, () => replacements.shift() ?? "");\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(replaceIconSubstring, "replaceIconSubstring");\nvar createText = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (el, text = "", {\n  style = "",\n  isTitle = false,\n  classes = "",\n  useHtmlLabels = true,\n  isNode = true,\n  width = 200,\n  addSvgBackground = false\n} = {}, config) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.log.debug(\n    "XYZ createText",\n    text,\n    style,\n    isTitle,\n    classes,\n    useHtmlLabels,\n    isNode,\n    "addSvgBackground: ",\n    addSvgBackground\n  );\n  if (useHtmlLabels) {\n    const htmlText = markdownToHTML(text, config);\n    const decodedReplacedText = await replaceIconSubstring((0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_0__.decodeEntities)(htmlText), config);\n    const inputForKatex = text.replace(/\\\\\\\\/g, "\\\\");\n    const node = {\n      isNode,\n      label: (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.hasKatex)(text) ? inputForKatex : decodedReplacedText,\n      labelStyle: style.replace("fill:", "color:")\n    };\n    const vertexNode = await addHtmlSpan(el, node, width, classes, addSvgBackground, config);\n    return vertexNode;\n  } else {\n    const sanitizeBR = text.replace(/<br\\s*\\/?>/g, "<br/>");\n    const structuredText = markdownToLines(sanitizeBR.replace("<br>", "<br/>"), config);\n    const svgLabel = createFormattedText(\n      width,\n      el,\n      structuredText,\n      text ? addSvgBackground : false\n    );\n    if (isNode) {\n      if (/stroke:/.exec(style)) {\n        style = style.replace("stroke:", "lineColor:");\n      }\n      const nodeLabelTextStyle = style.replace(/stroke:[^;]+;?/g, "").replace(/stroke-width:[^;]+;?/g, "").replace(/fill:[^;]+;?/g, "").replace(/color:/g, "fill:");\n      (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)(svgLabel).attr("style", nodeLabelTextStyle);\n    } else {\n      const edgeLabelRectStyle = style.replace(/stroke:[^;]+;?/g, "").replace(/stroke-width:[^;]+;?/g, "").replace(/fill:[^;]+;?/g, "").replace(/background:/g, "fill:");\n      (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)(svgLabel).select("rect").attr("style", edgeLabelRectStyle.replace(/background:/g, "fill:"));\n      const edgeLabelTextStyle = style.replace(/stroke:[^;]+;?/g, "").replace(/stroke-width:[^;]+;?/g, "").replace(/fill:[^;]+;?/g, "").replace(/color:/g, "fill:");\n      (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)(svgLabel).select("text").attr("style", edgeLabelTextStyle);\n    }\n    return svgLabel;\n  }\n}, "createText");\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clear: () => (/* binding */ clear),\n/* harmony export */   clear2: () => (/* binding */ clear2),\n/* harmony export */   createLabel_default: () => (/* binding */ createLabel_default),\n/* harmony export */   insertCluster: () => (/* binding */ insertCluster),\n/* harmony export */   insertNode: () => (/* binding */ insertNode),\n/* harmony export */   isValidShape: () => (/* binding */ isValidShape),\n/* harmony export */   labelHelper: () => (/* binding */ labelHelper),\n/* harmony export */   positionNode: () => (/* binding */ positionNode),\n/* harmony export */   setNodeElem: () => (/* binding */ setNodeElem),\n/* harmony export */   updateNodeBounds: () => (/* binding */ updateNodeBounds)\n/* harmony export */ });\n/* harmony import */ var _chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-CVBHYZKI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs");\n/* harmony import */ var _chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-ATLVNIR6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n/* harmony import */ var roughjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! roughjs */ "./node_modules/roughjs/bundled/rough.esm.js");\n\n\n\n\n\n\n\n// src/rendering-util/rendering-elements/shapes/util.ts\n\nvar labelHelper = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async (parent, node, _classes) => {\n  let cssClasses;\n  const useHtmlLabels = node.useHtmlLabels || (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()?.htmlLabels);\n  if (!_classes) {\n    cssClasses = "node default";\n  } else {\n    cssClasses = _classes;\n  }\n  const shapeSvg = parent.insert("g").attr("class", cssClasses).attr("id", node.domId || node.id);\n  const labelEl = shapeSvg.insert("g").attr("class", "label").attr("style", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(node.labelStyle));\n  let label;\n  if (node.label === void 0) {\n    label = "";\n  } else {\n    label = typeof node.label === "string" ? node.label : node.label[0];\n  }\n  const text2 = await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.createText)(labelEl, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.sanitizeText)((0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.decodeEntities)(label), (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()), {\n    useHtmlLabels,\n    width: node.width || (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)().flowchart?.wrappingWidth,\n    // @ts-expect-error -- This is currently not used. Should this be `classes` instead?\n    cssClasses: "markdown-node-label",\n    style: node.labelStyle,\n    addSvgBackground: !!node.icon || !!node.img\n  });\n  let bbox = text2.getBBox();\n  const halfPadding = (node?.padding ?? 0) / 2;\n  if (useHtmlLabels) {\n    const div = text2.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(text2);\n    const images = div.getElementsByTagName("img");\n    if (images) {\n      const noImgText = label.replace(/<img[^>]*>/g, "").trim() === "";\n      await Promise.all(\n        [...images].map(\n          (img) => new Promise((res) => {\n            function setupImage() {\n              img.style.display = "flex";\n              img.style.flexDirection = "column";\n              if (noImgText) {\n                const bodyFontSize = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)().fontSize ? (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)().fontSize : window.getComputedStyle(document.body).fontSize;\n                const enlargingFactor = 5;\n                const [parsedBodyFontSize = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.defaultConfig_default.fontSize] = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.parseFontSize)(bodyFontSize);\n                const width = parsedBodyFontSize * enlargingFactor + "px";\n                img.style.minWidth = width;\n                img.style.maxWidth = width;\n              } else {\n                img.style.width = "100%";\n              }\n              res(img);\n            }\n            (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(setupImage, "setupImage");\n            setTimeout(() => {\n              if (img.complete) {\n                setupImage();\n              }\n            });\n            img.addEventListener("error", setupImage);\n            img.addEventListener("load", setupImage);\n          })\n        )\n      );\n    }\n    bbox = div.getBoundingClientRect();\n    dv.attr("width", bbox.width);\n    dv.attr("height", bbox.height);\n  }\n  if (useHtmlLabels) {\n    labelEl.attr("transform", "translate(" + -bbox.width / 2 + ", " + -bbox.height / 2 + ")");\n  } else {\n    labelEl.attr("transform", "translate(0, " + -bbox.height / 2 + ")");\n  }\n  if (node.centerLabel) {\n    labelEl.attr("transform", "translate(" + -bbox.width / 2 + ", " + -bbox.height / 2 + ")");\n  }\n  labelEl.insert("rect", ":first-child");\n  return { shapeSvg, bbox, halfPadding, label: labelEl };\n}, "labelHelper");\nvar insertLabel = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async (parent, label, options) => {\n  const useHtmlLabels = options.useHtmlLabels || (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()?.flowchart?.htmlLabels);\n  const labelEl = parent.insert("g").attr("class", "label").attr("style", options.labelStyle || "");\n  const text2 = await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.createText)(labelEl, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.sanitizeText)((0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.decodeEntities)(label), (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()), {\n    useHtmlLabels,\n    width: options.width || (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()?.flowchart?.wrappingWidth,\n    style: options.labelStyle,\n    addSvgBackground: !!options.icon || !!options.img\n  });\n  let bbox = text2.getBBox();\n  const halfPadding = options.padding / 2;\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()?.flowchart?.htmlLabels)) {\n    const div = text2.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(text2);\n    bbox = div.getBoundingClientRect();\n    dv.attr("width", bbox.width);\n    dv.attr("height", bbox.height);\n  }\n  if (useHtmlLabels) {\n    labelEl.attr("transform", "translate(" + -bbox.width / 2 + ", " + -bbox.height / 2 + ")");\n  } else {\n    labelEl.attr("transform", "translate(0, " + -bbox.height / 2 + ")");\n  }\n  if (options.centerLabel) {\n    labelEl.attr("transform", "translate(" + -bbox.width / 2 + ", " + -bbox.height / 2 + ")");\n  }\n  labelEl.insert("rect", ":first-child");\n  return { shapeSvg: parent, bbox, halfPadding, label: labelEl };\n}, "insertLabel");\nvar updateNodeBounds = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((node, element) => {\n  const bbox = element.node().getBBox();\n  node.width = bbox.width;\n  node.height = bbox.height;\n}, "updateNodeBounds");\nvar getNodeClasses = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((node, extra) => (node.look === "handDrawn" ? "rough-node" : "node") + " " + node.cssClasses + " " + (extra || ""), "getNodeClasses");\nfunction createPathFromPoints(points) {\n  const pointStrings = points.map((p, i) => `${i === 0 ? "M" : "L"}${p.x},${p.y}`);\n  pointStrings.push("Z");\n  return pointStrings.join(" ");\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(createPathFromPoints, "createPathFromPoints");\nfunction generateFullSineWavePoints(x1, y1, x2, y2, amplitude, numCycles) {\n  const points = [];\n  const steps = 50;\n  const deltaX = x2 - x1;\n  const deltaY = y2 - y1;\n  const cycleLength = deltaX / numCycles;\n  const frequency = 2 * Math.PI / cycleLength;\n  const midY = y1 + deltaY / 2;\n  for (let i = 0; i <= steps; i++) {\n    const t = i / steps;\n    const x = x1 + t * deltaX;\n    const y = midY + amplitude * Math.sin(frequency * (x - x1));\n    points.push({ x, y });\n  }\n  return points;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(generateFullSineWavePoints, "generateFullSineWavePoints");\nfunction generateCirclePoints(centerX, centerY, radius, numPoints, startAngle, endAngle) {\n  const points = [];\n  const startAngleRad = startAngle * Math.PI / 180;\n  const endAngleRad = endAngle * Math.PI / 180;\n  const angleRange = endAngleRad - startAngleRad;\n  const angleStep = angleRange / (numPoints - 1);\n  for (let i = 0; i < numPoints; i++) {\n    const angle = startAngleRad + i * angleStep;\n    const x = centerX + radius * Math.cos(angle);\n    const y = centerY + radius * Math.sin(angle);\n    points.push({ x: -x, y: -y });\n  }\n  return points;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(generateCirclePoints, "generateCirclePoints");\n\n// src/rendering-util/rendering-elements/clusters.js\n\n\n\n// src/rendering-util/rendering-elements/intersect/intersect-rect.js\nvar intersectRect = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((node, point) => {\n  var x = node.x;\n  var y = node.y;\n  var dx = point.x - x;\n  var dy = point.y - y;\n  var w = node.width / 2;\n  var h = node.height / 2;\n  var sx, sy;\n  if (Math.abs(dy) * w > Math.abs(dx) * h) {\n    if (dy < 0) {\n      h = -h;\n    }\n    sx = dy === 0 ? 0 : h * dx / dy;\n    sy = h;\n  } else {\n    if (dx < 0) {\n      w = -w;\n    }\n    sx = w;\n    sy = dx === 0 ? 0 : w * dy / dx;\n  }\n  return { x: x + sx, y: y + sy };\n}, "intersectRect");\nvar intersect_rect_default = intersectRect;\n\n// src/rendering-util/rendering-elements/createLabel.js\n\nfunction applyStyle(dom, styleFn) {\n  if (styleFn) {\n    dom.attr("style", styleFn);\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(applyStyle, "applyStyle");\nasync function addHtmlLabel(node) {\n  const fo = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(document.createElementNS("http://www.w3.org/2000/svg", "foreignObject"));\n  const div = fo.append("xhtml:div");\n  const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)();\n  let label = node.label;\n  if (node.label && (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(node.label)) {\n    label = await (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.renderKatexSanitized)(node.label.replace(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.lineBreakRegex, "\\n"), config);\n  }\n  const labelClass = node.isNode ? "nodeLabel" : "edgeLabel";\n  const labelSpan = \'<span class="\' + labelClass + \'" \' + (node.labelStyle ? \'style="\' + node.labelStyle + \'"\' : "") + // codeql [js/html-constructed-from-input] : false positive\n  ">" + label + "</span>";\n  div.html((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.sanitizeText)(labelSpan, config));\n  applyStyle(div, node.labelStyle);\n  div.style("display", "inline-block");\n  div.style("padding-right", "1px");\n  div.style("white-space", "nowrap");\n  div.attr("xmlns", "http://www.w3.org/1999/xhtml");\n  return fo.node();\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(addHtmlLabel, "addHtmlLabel");\nvar createLabel = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async (_vertexText, style, isTitle, isNode) => {\n  let vertexText = _vertexText || "";\n  if (typeof vertexText === "object") {\n    vertexText = vertexText[0];\n  }\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)().flowchart.htmlLabels)) {\n    vertexText = vertexText.replace(/\\\\n|\\n/g, "<br />");\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("vertexText" + vertexText);\n    const node = {\n      isNode,\n      label: (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.decodeEntities)(vertexText).replace(\n        /fa[blrs]?:fa-[\\w-]+/g,\n        (s) => `<i class=\'${s.replace(":", " ")}\'></i>`\n      ),\n      labelStyle: style ? style.replace("fill:", "color:") : style\n    };\n    let vertexNode = await addHtmlLabel(node);\n    return vertexNode;\n  } else {\n    const svgLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");\n    svgLabel.setAttribute("style", style.replace("color:", "fill:"));\n    let rows = [];\n    if (typeof vertexText === "string") {\n      rows = vertexText.split(/\\\\n|\\n|<br\\s*\\/?>/gi);\n    } else if (Array.isArray(vertexText)) {\n      rows = vertexText;\n    } else {\n      rows = [];\n    }\n    for (const row of rows) {\n      const tspan = document.createElementNS("http://www.w3.org/2000/svg", "tspan");\n      tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve");\n      tspan.setAttribute("dy", "1em");\n      tspan.setAttribute("x", "0");\n      if (isTitle) {\n        tspan.setAttribute("class", "title-row");\n      } else {\n        tspan.setAttribute("class", "row");\n      }\n      tspan.textContent = row.trim();\n      svgLabel.appendChild(tspan);\n    }\n    return svgLabel;\n  }\n}, "createLabel");\nvar createLabel_default = createLabel;\n\n// src/rendering-util/rendering-elements/shapes/roundedRectPath.ts\nvar createRoundedRectPathD = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((x, y, totalWidth, totalHeight, radius) => [\n  "M",\n  x + radius,\n  y,\n  // Move to the first point\n  "H",\n  x + totalWidth - radius,\n  // Draw horizontal line to the beginning of the right corner\n  "A",\n  radius,\n  radius,\n  0,\n  0,\n  1,\n  x + totalWidth,\n  y + radius,\n  // Draw arc to the right top corner\n  "V",\n  y + totalHeight - radius,\n  // Draw vertical line down to the beginning of the right bottom corner\n  "A",\n  radius,\n  radius,\n  0,\n  0,\n  1,\n  x + totalWidth - radius,\n  y + totalHeight,\n  // Draw arc to the right bottom corner\n  "H",\n  x + radius,\n  // Draw horizontal line to the beginning of the left bottom corner\n  "A",\n  radius,\n  radius,\n  0,\n  0,\n  1,\n  x,\n  y + totalHeight - radius,\n  // Draw arc to the left bottom corner\n  "V",\n  y + radius,\n  // Draw vertical line up to the beginning of the left top corner\n  "A",\n  radius,\n  radius,\n  0,\n  0,\n  1,\n  x + radius,\n  y,\n  // Draw arc to the left top corner\n  "Z"\n  // Close the path\n].join(" "), "createRoundedRectPathD");\n\n// src/rendering-util/rendering-elements/clusters.js\nvar rect = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async (parent, node) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Creating subgraph rect for ", node.id, node);\n  const siteConfig = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)();\n  const { themeVariables, handDrawnSeed } = siteConfig;\n  const { clusterBkg, clusterBorder } = themeVariables;\n  const { labelStyles, nodeStyles, borderStyles, backgroundStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  const shapeSvg = parent.insert("g").attr("class", "cluster " + node.cssClasses).attr("id", node.id).attr("data-look", node.look);\n  const useHtmlLabels = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)(siteConfig.flowchart.htmlLabels);\n  const labelEl = shapeSvg.insert("g").attr("class", "cluster-label ");\n  const text2 = await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.createText)(labelEl, node.label, {\n    style: node.labelStyle,\n    useHtmlLabels,\n    isNode: true\n  });\n  let bbox = text2.getBBox();\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)(siteConfig.flowchart.htmlLabels)) {\n    const div = text2.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(text2);\n    bbox = div.getBoundingClientRect();\n    dv.attr("width", bbox.width);\n    dv.attr("height", bbox.height);\n  }\n  const width = node.width <= bbox.width + node.padding ? bbox.width + node.padding : node.width;\n  if (node.width <= bbox.width + node.padding) {\n    node.diff = (width - node.width) / 2 - node.padding;\n  } else {\n    node.diff = -node.padding;\n  }\n  const height = node.height;\n  const x = node.x - width / 2;\n  const y = node.y - height / 2;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.trace("Data ", node, JSON.stringify(node));\n  let rect2;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {\n      roughness: 0.7,\n      fill: clusterBkg,\n      // fill: \'red\',\n      stroke: clusterBorder,\n      fillWeight: 3,\n      seed: handDrawnSeed\n    });\n    const roughNode = rc.path(createRoundedRectPathD(x, y, width, height, 0), options);\n    rect2 = shapeSvg.insert(() => {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.debug("Rough node insert CXC", roughNode);\n      return roughNode;\n    }, ":first-child");\n    rect2.select("path:nth-child(2)").attr("style", borderStyles.join(";"));\n    rect2.select("path").attr("style", backgroundStyles.join(";").replace("fill", "stroke"));\n  } else {\n    rect2 = shapeSvg.insert("rect", ":first-child");\n    rect2.attr("style", nodeStyles).attr("rx", node.rx).attr("ry", node.ry).attr("x", x).attr("y", y).attr("width", width).attr("height", height);\n  }\n  const { subGraphTitleTopMargin } = (0,_chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_0__.getSubGraphTitleMargins)(siteConfig);\n  labelEl.attr(\n    "transform",\n    // This puts the label on top of the box instead of inside it\n    `translate(${node.x - bbox.width / 2}, ${node.y - node.height / 2 + subGraphTitleTopMargin})`\n  );\n  if (labelStyles) {\n    const span = labelEl.select("span");\n    if (span) {\n      span.attr("style", labelStyles);\n    }\n  }\n  const rectBox = rect2.node().getBBox();\n  node.offsetX = 0;\n  node.width = rectBox.width;\n  node.height = rectBox.height;\n  node.offsetY = bbox.height - node.padding / 2;\n  node.intersect = function(point) {\n    return intersect_rect_default(node, point);\n  };\n  return { cluster: shapeSvg, labelBBox: bbox };\n}, "rect");\nvar noteGroup = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((parent, node) => {\n  const shapeSvg = parent.insert("g").attr("class", "note-cluster").attr("id", node.id);\n  const rect2 = shapeSvg.insert("rect", ":first-child");\n  const padding = 0 * node.padding;\n  const halfPadding = padding / 2;\n  rect2.attr("rx", node.rx).attr("ry", node.ry).attr("x", node.x - node.width / 2 - halfPadding).attr("y", node.y - node.height / 2 - halfPadding).attr("width", node.width + padding).attr("height", node.height + padding).attr("fill", "none");\n  const rectBox = rect2.node().getBBox();\n  node.width = rectBox.width;\n  node.height = rectBox.height;\n  node.intersect = function(point) {\n    return intersect_rect_default(node, point);\n  };\n  return { cluster: shapeSvg, labelBBox: { width: 0, height: 0 } };\n}, "noteGroup");\nvar roundedWithTitle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async (parent, node) => {\n  const siteConfig = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)();\n  const { themeVariables, handDrawnSeed } = siteConfig;\n  const { altBackground, compositeBackground, compositeTitleBackground, nodeBorder } = themeVariables;\n  const shapeSvg = parent.insert("g").attr("class", node.cssClasses).attr("id", node.id).attr("data-id", node.id).attr("data-look", node.look);\n  const outerRectG = shapeSvg.insert("g", ":first-child");\n  const label = shapeSvg.insert("g").attr("class", "cluster-label");\n  let innerRect = shapeSvg.append("rect");\n  const text2 = label.node().appendChild(await createLabel_default(node.label, node.labelStyle, void 0, true));\n  let bbox = text2.getBBox();\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)(siteConfig.flowchart.htmlLabels)) {\n    const div = text2.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(text2);\n    bbox = div.getBoundingClientRect();\n    dv.attr("width", bbox.width);\n    dv.attr("height", bbox.height);\n  }\n  const padding = 0 * node.padding;\n  const halfPadding = padding / 2;\n  const width = (node.width <= bbox.width + node.padding ? bbox.width + node.padding : node.width) + padding;\n  if (node.width <= bbox.width + node.padding) {\n    node.diff = (width - node.width) / 2 - node.padding;\n  } else {\n    node.diff = -node.padding;\n  }\n  const height = node.height + padding;\n  const innerHeight = node.height + padding - bbox.height - 6;\n  const x = node.x - width / 2;\n  const y = node.y - height / 2;\n  node.width = width;\n  const innerY = node.y - node.height / 2 - halfPadding + bbox.height + 2;\n  let rect2;\n  if (node.look === "handDrawn") {\n    const isAlt = node.cssClasses.includes("statediagram-cluster-alt");\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const roughOuterNode = node.rx || node.ry ? rc.path(createRoundedRectPathD(x, y, width, height, 10), {\n      roughness: 0.7,\n      fill: compositeTitleBackground,\n      fillStyle: "solid",\n      stroke: nodeBorder,\n      seed: handDrawnSeed\n    }) : rc.rectangle(x, y, width, height, { seed: handDrawnSeed });\n    rect2 = shapeSvg.insert(() => roughOuterNode, ":first-child");\n    const roughInnerNode = rc.rectangle(x, innerY, width, innerHeight, {\n      fill: isAlt ? altBackground : compositeBackground,\n      fillStyle: isAlt ? "hachure" : "solid",\n      stroke: nodeBorder,\n      seed: handDrawnSeed\n    });\n    rect2 = shapeSvg.insert(() => roughOuterNode, ":first-child");\n    innerRect = shapeSvg.insert(() => roughInnerNode);\n  } else {\n    rect2 = outerRectG.insert("rect", ":first-child");\n    const outerRectClass = "outer";\n    rect2.attr("class", outerRectClass).attr("x", x).attr("y", y).attr("width", width).attr("height", height).attr("data-look", node.look);\n    innerRect.attr("class", "inner").attr("x", x).attr("y", innerY).attr("width", width).attr("height", innerHeight);\n  }\n  label.attr(\n    "transform",\n    `translate(${node.x - bbox.width / 2}, ${y + 1 - ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)(siteConfig.flowchart.htmlLabels) ? 0 : 3)})`\n  );\n  const rectBox = rect2.node().getBBox();\n  node.height = rectBox.height;\n  node.offsetX = 0;\n  node.offsetY = bbox.height - node.padding / 2;\n  node.labelBBox = bbox;\n  node.intersect = function(point) {\n    return intersect_rect_default(node, point);\n  };\n  return { cluster: shapeSvg, labelBBox: bbox };\n}, "roundedWithTitle");\nvar kanbanSection = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async (parent, node) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Creating subgraph rect for ", node.id, node);\n  const siteConfig = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)();\n  const { themeVariables, handDrawnSeed } = siteConfig;\n  const { clusterBkg, clusterBorder } = themeVariables;\n  const { labelStyles, nodeStyles, borderStyles, backgroundStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  const shapeSvg = parent.insert("g").attr("class", "cluster " + node.cssClasses).attr("id", node.id).attr("data-look", node.look);\n  const useHtmlLabels = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)(siteConfig.flowchart.htmlLabels);\n  const labelEl = shapeSvg.insert("g").attr("class", "cluster-label ");\n  const text2 = await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.createText)(labelEl, node.label, {\n    style: node.labelStyle,\n    useHtmlLabels,\n    isNode: true,\n    width: node.width\n  });\n  let bbox = text2.getBBox();\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)(siteConfig.flowchart.htmlLabels)) {\n    const div = text2.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(text2);\n    bbox = div.getBoundingClientRect();\n    dv.attr("width", bbox.width);\n    dv.attr("height", bbox.height);\n  }\n  const width = node.width <= bbox.width + node.padding ? bbox.width + node.padding : node.width;\n  if (node.width <= bbox.width + node.padding) {\n    node.diff = (width - node.width) / 2 - node.padding;\n  } else {\n    node.diff = -node.padding;\n  }\n  const height = node.height;\n  const x = node.x - width / 2;\n  const y = node.y - height / 2;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.trace("Data ", node, JSON.stringify(node));\n  let rect2;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {\n      roughness: 0.7,\n      fill: clusterBkg,\n      // fill: \'red\',\n      stroke: clusterBorder,\n      fillWeight: 4,\n      seed: handDrawnSeed\n    });\n    const roughNode = rc.path(createRoundedRectPathD(x, y, width, height, node.rx), options);\n    rect2 = shapeSvg.insert(() => {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.debug("Rough node insert CXC", roughNode);\n      return roughNode;\n    }, ":first-child");\n    rect2.select("path:nth-child(2)").attr("style", borderStyles.join(";"));\n    rect2.select("path").attr("style", backgroundStyles.join(";").replace("fill", "stroke"));\n  } else {\n    rect2 = shapeSvg.insert("rect", ":first-child");\n    rect2.attr("style", nodeStyles).attr("rx", node.rx).attr("ry", node.ry).attr("x", x).attr("y", y).attr("width", width).attr("height", height);\n  }\n  const { subGraphTitleTopMargin } = (0,_chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_0__.getSubGraphTitleMargins)(siteConfig);\n  labelEl.attr(\n    "transform",\n    // This puts the label on top of the box instead of inside it\n    `translate(${node.x - bbox.width / 2}, ${node.y - node.height / 2 + subGraphTitleTopMargin})`\n  );\n  if (labelStyles) {\n    const span = labelEl.select("span");\n    if (span) {\n      span.attr("style", labelStyles);\n    }\n  }\n  const rectBox = rect2.node().getBBox();\n  node.offsetX = 0;\n  node.width = rectBox.width;\n  node.height = rectBox.height;\n  node.offsetY = bbox.height - node.padding / 2;\n  node.intersect = function(point) {\n    return intersect_rect_default(node, point);\n  };\n  return { cluster: shapeSvg, labelBBox: bbox };\n}, "kanbanSection");\nvar divider = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((parent, node) => {\n  const siteConfig = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)();\n  const { themeVariables, handDrawnSeed } = siteConfig;\n  const { nodeBorder } = themeVariables;\n  const shapeSvg = parent.insert("g").attr("class", node.cssClasses).attr("id", node.id).attr("data-look", node.look);\n  const outerRectG = shapeSvg.insert("g", ":first-child");\n  const padding = 0 * node.padding;\n  const width = node.width + padding;\n  node.diff = -node.padding;\n  const height = node.height + padding;\n  const x = node.x - width / 2;\n  const y = node.y - height / 2;\n  node.width = width;\n  let rect2;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const roughOuterNode = rc.rectangle(x, y, width, height, {\n      fill: "lightgrey",\n      roughness: 0.5,\n      strokeLineDash: [5],\n      stroke: nodeBorder,\n      seed: handDrawnSeed\n    });\n    rect2 = shapeSvg.insert(() => roughOuterNode, ":first-child");\n  } else {\n    rect2 = outerRectG.insert("rect", ":first-child");\n    const outerRectClass = "divider";\n    rect2.attr("class", outerRectClass).attr("x", x).attr("y", y).attr("width", width).attr("height", height).attr("data-look", node.look);\n  }\n  const rectBox = rect2.node().getBBox();\n  node.height = rectBox.height;\n  node.offsetX = 0;\n  node.offsetY = 0;\n  node.intersect = function(point) {\n    return intersect_rect_default(node, point);\n  };\n  return { cluster: shapeSvg, labelBBox: {} };\n}, "divider");\nvar squareRect = rect;\nvar shapes = {\n  rect,\n  squareRect,\n  roundedWithTitle,\n  noteGroup,\n  divider,\n  kanbanSection\n};\nvar clusterElems = /* @__PURE__ */ new Map();\nvar insertCluster = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async (elem, node) => {\n  const shape = node.shape || "rect";\n  const cluster = await shapes[shape](elem, node);\n  clusterElems.set(node.id, cluster);\n  return cluster;\n}, "insertCluster");\nvar clear = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(() => {\n  clusterElems = /* @__PURE__ */ new Map();\n}, "clear");\n\n// src/rendering-util/rendering-elements/intersect/intersect-node.js\nfunction intersectNode(node, point) {\n  return node.intersect(point);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(intersectNode, "intersectNode");\nvar intersect_node_default = intersectNode;\n\n// src/rendering-util/rendering-elements/intersect/intersect-ellipse.js\nfunction intersectEllipse(node, rx, ry, point) {\n  var cx = node.x;\n  var cy = node.y;\n  var px = cx - point.x;\n  var py = cy - point.y;\n  var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);\n  var dx = Math.abs(rx * ry * px / det);\n  if (point.x < cx) {\n    dx = -dx;\n  }\n  var dy = Math.abs(rx * ry * py / det);\n  if (point.y < cy) {\n    dy = -dy;\n  }\n  return { x: cx + dx, y: cy + dy };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(intersectEllipse, "intersectEllipse");\nvar intersect_ellipse_default = intersectEllipse;\n\n// src/rendering-util/rendering-elements/intersect/intersect-circle.js\nfunction intersectCircle(node, rx, point) {\n  return intersect_ellipse_default(node, rx, rx, point);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(intersectCircle, "intersectCircle");\nvar intersect_circle_default = intersectCircle;\n\n// src/rendering-util/rendering-elements/intersect/intersect-line.js\nfunction intersectLine(p1, p2, q1, q2) {\n  {\n    const a1 = p2.y - p1.y;\n    const b1 = p1.x - p2.x;\n    const c1 = p2.x * p1.y - p1.x * p2.y;\n    const r3 = a1 * q1.x + b1 * q1.y + c1;\n    const r4 = a1 * q2.x + b1 * q2.y + c1;\n    const epsilon = 1e-6;\n    if (r3 !== 0 && r4 !== 0 && sameSign(r3, r4)) {\n      return;\n    }\n    const a2 = q2.y - q1.y;\n    const b2 = q1.x - q2.x;\n    const c2 = q2.x * q1.y - q1.x * q2.y;\n    const r1 = a2 * p1.x + b2 * p1.y + c2;\n    const r2 = a2 * p2.x + b2 * p2.y + c2;\n    if (Math.abs(r1) < epsilon && Math.abs(r2) < epsilon && sameSign(r1, r2)) {\n      return;\n    }\n    const denom = a1 * b2 - a2 * b1;\n    if (denom === 0) {\n      return;\n    }\n    const offset = Math.abs(denom / 2);\n    let num = b1 * c2 - b2 * c1;\n    const x = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n    num = a2 * c1 - a1 * c2;\n    const y = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n    return { x, y };\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(intersectLine, "intersectLine");\nfunction sameSign(r1, r2) {\n  return r1 * r2 > 0;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(sameSign, "sameSign");\nvar intersect_line_default = intersectLine;\n\n// src/rendering-util/rendering-elements/intersect/intersect-polygon.js\nfunction intersectPolygon(node, polyPoints, point) {\n  let x1 = node.x;\n  let y1 = node.y;\n  let intersections = [];\n  let minX = Number.POSITIVE_INFINITY;\n  let minY = Number.POSITIVE_INFINITY;\n  if (typeof polyPoints.forEach === "function") {\n    polyPoints.forEach(function(entry) {\n      minX = Math.min(minX, entry.x);\n      minY = Math.min(minY, entry.y);\n    });\n  } else {\n    minX = Math.min(minX, polyPoints.x);\n    minY = Math.min(minY, polyPoints.y);\n  }\n  let left = x1 - node.width / 2 - minX;\n  let top = y1 - node.height / 2 - minY;\n  for (let i = 0; i < polyPoints.length; i++) {\n    let p1 = polyPoints[i];\n    let p2 = polyPoints[i < polyPoints.length - 1 ? i + 1 : 0];\n    let intersect = intersect_line_default(\n      node,\n      point,\n      { x: left + p1.x, y: top + p1.y },\n      { x: left + p2.x, y: top + p2.y }\n    );\n    if (intersect) {\n      intersections.push(intersect);\n    }\n  }\n  if (!intersections.length) {\n    return node;\n  }\n  if (intersections.length > 1) {\n    intersections.sort(function(p, q) {\n      let pdx = p.x - point.x;\n      let pdy = p.y - point.y;\n      let distp = Math.sqrt(pdx * pdx + pdy * pdy);\n      let qdx = q.x - point.x;\n      let qdy = q.y - point.y;\n      let distq = Math.sqrt(qdx * qdx + qdy * qdy);\n      return distp < distq ? -1 : distp === distq ? 0 : 1;\n    });\n  }\n  return intersections[0];\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(intersectPolygon, "intersectPolygon");\nvar intersect_polygon_default = intersectPolygon;\n\n// src/rendering-util/rendering-elements/intersect/index.js\nvar intersect_default = {\n  node: intersect_node_default,\n  circle: intersect_circle_default,\n  ellipse: intersect_ellipse_default,\n  polygon: intersect_polygon_default,\n  rect: intersect_rect_default\n};\n\n// src/rendering-util/rendering-elements/shapes/anchor.ts\n\nfunction anchor(parent, node) {\n  const { labelStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const classes = getNodeClasses(node);\n  let cssClasses = classes;\n  if (!classes) {\n    cssClasses = "anchor";\n  }\n  const shapeSvg = parent.insert("g").attr("class", cssClasses).attr("id", node.domId || node.id);\n  const radius = 1;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, { fill: "black", stroke: "none", fillStyle: "solid" });\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n  }\n  const roughNode = rc.circle(0, 0, radius * 2, options);\n  const circleElem = shapeSvg.insert(() => roughNode, ":first-child");\n  circleElem.attr("class", "anchor").attr("style", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(cssStyles));\n  updateNodeBounds(node, circleElem);\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Circle intersect", node, radius, point);\n    return intersect_default.circle(node, radius, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(anchor, "anchor");\n\n// src/rendering-util/rendering-elements/shapes/bowTieRect.ts\n\nfunction generateArcPoints(x1, y1, x2, y2, rx, ry, clockwise) {\n  const numPoints = 20;\n  const midX = (x1 + x2) / 2;\n  const midY = (y1 + y2) / 2;\n  const angle = Math.atan2(y2 - y1, x2 - x1);\n  const dx = (x2 - x1) / 2;\n  const dy = (y2 - y1) / 2;\n  const transformedX = dx / rx;\n  const transformedY = dy / ry;\n  const distance = Math.sqrt(transformedX ** 2 + transformedY ** 2);\n  if (distance > 1) {\n    throw new Error("The given radii are too small to create an arc between the points.");\n  }\n  const scaledCenterDistance = Math.sqrt(1 - distance ** 2);\n  const centerX = midX + scaledCenterDistance * ry * Math.sin(angle) * (clockwise ? -1 : 1);\n  const centerY = midY - scaledCenterDistance * rx * Math.cos(angle) * (clockwise ? -1 : 1);\n  const startAngle = Math.atan2((y1 - centerY) / ry, (x1 - centerX) / rx);\n  const endAngle = Math.atan2((y2 - centerY) / ry, (x2 - centerX) / rx);\n  let angleRange = endAngle - startAngle;\n  if (clockwise && angleRange < 0) {\n    angleRange += 2 * Math.PI;\n  }\n  if (!clockwise && angleRange > 0) {\n    angleRange -= 2 * Math.PI;\n  }\n  const points = [];\n  for (let i = 0; i < numPoints; i++) {\n    const t = i / (numPoints - 1);\n    const angle2 = startAngle + t * angleRange;\n    const x = centerX + rx * Math.cos(angle2);\n    const y = centerY + ry * Math.sin(angle2);\n    points.push({ x, y });\n  }\n  return points;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(generateArcPoints, "generateArcPoints");\nasync function bowTieRect(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = bbox.width + node.padding + 20;\n  const h = bbox.height + node.padding;\n  const ry = h / 2;\n  const rx = ry / (2.5 + h / 50);\n  const { cssStyles } = node;\n  const points = [\n    { x: w / 2, y: -h / 2 },\n    { x: -w / 2, y: -h / 2 },\n    ...generateArcPoints(-w / 2, -h / 2, -w / 2, h / 2, rx, ry, false),\n    { x: w / 2, y: h / 2 },\n    ...generateArcPoints(w / 2, h / 2, w / 2, -h / 2, rx, ry, true)\n  ];\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const bowTieRectPath = createPathFromPoints(points);\n  const bowTieRectShapePath = rc.path(bowTieRectPath, options);\n  const bowTieRectShape = shapeSvg.insert(() => bowTieRectShapePath, ":first-child");\n  bowTieRectShape.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    bowTieRectShape.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    bowTieRectShape.selectAll("path").attr("style", nodeStyles);\n  }\n  bowTieRectShape.attr("transform", `translate(${rx / 2}, 0)`);\n  updateNodeBounds(node, bowTieRectShape);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(bowTieRect, "bowTieRect");\n\n// src/rendering-util/rendering-elements/shapes/card.ts\n\n\n// src/rendering-util/rendering-elements/shapes/insertPolygonShape.ts\nfunction insertPolygonShape(parent, w, h, points) {\n  return parent.insert("polygon", ":first-child").attr(\n    "points",\n    points.map(function(d) {\n      return d.x + "," + d.y;\n    }).join(" ")\n  ).attr("class", "label-container").attr("transform", "translate(" + -w / 2 + "," + h / 2 + ")");\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(insertPolygonShape, "insertPolygonShape");\n\n// src/rendering-util/rendering-elements/shapes/card.ts\nasync function card(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const h = bbox.height + node.padding;\n  const padding = 12;\n  const w = bbox.width + node.padding + padding;\n  const left = 0;\n  const right = w;\n  const top = -h;\n  const bottom = 0;\n  const points = [\n    { x: left + padding, y: top },\n    { x: right, y: top },\n    { x: right, y: bottom },\n    { x: left, y: bottom },\n    { x: left, y: top + padding },\n    { x: left + padding, y: top }\n  ];\n  let polygon;\n  const { cssStyles } = node;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n    const pathData = createPathFromPoints(points);\n    const roughNode = rc.path(pathData, options);\n    polygon = shapeSvg.insert(() => roughNode, ":first-child").attr("transform", `translate(${-w / 2}, ${h / 2})`);\n    if (cssStyles) {\n      polygon.attr("style", cssStyles);\n    }\n  } else {\n    polygon = insertPolygonShape(shapeSvg, w, h, points);\n  }\n  if (nodeStyles) {\n    polygon.attr("style", nodeStyles);\n  }\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(card, "card");\n\n// src/rendering-util/rendering-elements/shapes/choice.ts\n\nfunction choice(parent, node) {\n  const { nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.label = "";\n  const shapeSvg = parent.insert("g").attr("class", getNodeClasses(node)).attr("id", node.domId ?? node.id);\n  const { cssStyles } = node;\n  const s = Math.max(28, node.width ?? 0);\n  const points = [\n    { x: 0, y: s / 2 },\n    { x: s / 2, y: 0 },\n    { x: 0, y: -s / 2 },\n    { x: -s / 2, y: 0 }\n  ];\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const choicePath = createPathFromPoints(points);\n  const roughNode = rc.path(choicePath, options);\n  const choiceShape = shapeSvg.insert(() => roughNode, ":first-child");\n  if (cssStyles && node.look !== "handDrawn") {\n    choiceShape.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    choiceShape.selectAll("path").attr("style", nodeStyles);\n  }\n  node.width = 28;\n  node.height = 28;\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(choice, "choice");\n\n// src/rendering-util/rendering-elements/shapes/circle.ts\n\nasync function circle(parent, node, options) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, halfPadding } = await labelHelper(parent, node, getNodeClasses(node));\n  const padding = options?.padding ?? halfPadding;\n  const radius = bbox.width / 2 + padding;\n  let circleElem;\n  const { cssStyles } = node;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options2 = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n    const roughNode = rc.circle(0, 0, radius * 2, options2);\n    circleElem = shapeSvg.insert(() => roughNode, ":first-child");\n    circleElem.attr("class", "basic label-container").attr("style", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(cssStyles));\n  } else {\n    circleElem = shapeSvg.insert("circle", ":first-child").attr("class", "basic label-container").attr("style", nodeStyles).attr("r", radius).attr("cx", 0).attr("cy", 0);\n  }\n  updateNodeBounds(node, circleElem);\n  node.calcIntersect = function(bounds, point) {\n    const radius2 = bounds.width / 2;\n    return intersect_default.circle(bounds, radius2, point);\n  };\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Circle intersect", node, radius, point);\n    return intersect_default.circle(node, radius, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(circle, "circle");\n\n// src/rendering-util/rendering-elements/shapes/crossedCircle.ts\n\nfunction createLine(r) {\n  const xAxis45 = Math.cos(Math.PI / 4);\n  const yAxis45 = Math.sin(Math.PI / 4);\n  const lineLength = r * 2;\n  const pointQ1 = { x: lineLength / 2 * xAxis45, y: lineLength / 2 * yAxis45 };\n  const pointQ2 = { x: -(lineLength / 2) * xAxis45, y: lineLength / 2 * yAxis45 };\n  const pointQ3 = { x: -(lineLength / 2) * xAxis45, y: -(lineLength / 2) * yAxis45 };\n  const pointQ4 = { x: lineLength / 2 * xAxis45, y: -(lineLength / 2) * yAxis45 };\n  return `M ${pointQ2.x},${pointQ2.y} L ${pointQ4.x},${pointQ4.y}\n                   M ${pointQ1.x},${pointQ1.y} L ${pointQ3.x},${pointQ3.y}`;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(createLine, "createLine");\nfunction crossedCircle(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  node.label = "";\n  const shapeSvg = parent.insert("g").attr("class", getNodeClasses(node)).attr("id", node.domId ?? node.id);\n  const radius = Math.max(30, node?.width ?? 0);\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const circleNode = rc.circle(0, 0, radius * 2, options);\n  const linePath = createLine(radius);\n  const lineNode = rc.path(linePath, options);\n  const crossedCircle2 = shapeSvg.insert(() => circleNode, ":first-child");\n  crossedCircle2.insert(() => lineNode);\n  if (cssStyles && node.look !== "handDrawn") {\n    crossedCircle2.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    crossedCircle2.selectAll("path").attr("style", nodeStyles);\n  }\n  updateNodeBounds(node, crossedCircle2);\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("crossedCircle intersect", node, { radius, point });\n    const pos = intersect_default.circle(node, radius, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(crossedCircle, "crossedCircle");\n\n// src/rendering-util/rendering-elements/shapes/curlyBraceLeft.ts\n\nfunction generateCirclePoints2(centerX, centerY, radius, numPoints = 100, startAngle = 0, endAngle = 180) {\n  const points = [];\n  const startAngleRad = startAngle * Math.PI / 180;\n  const endAngleRad = endAngle * Math.PI / 180;\n  const angleRange = endAngleRad - startAngleRad;\n  const angleStep = angleRange / (numPoints - 1);\n  for (let i = 0; i < numPoints; i++) {\n    const angle = startAngleRad + i * angleStep;\n    const x = centerX + radius * Math.cos(angle);\n    const y = centerY + radius * Math.sin(angle);\n    points.push({ x: -x, y: -y });\n  }\n  return points;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(generateCirclePoints2, "generateCirclePoints");\nasync function curlyBraceLeft(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = bbox.width + (node.padding ?? 0);\n  const h = bbox.height + (node.padding ?? 0);\n  const radius = Math.max(5, h * 0.1);\n  const { cssStyles } = node;\n  const points = [\n    ...generateCirclePoints2(w / 2, -h / 2, radius, 30, -90, 0),\n    { x: -w / 2 - radius, y: radius },\n    ...generateCirclePoints2(w / 2 + radius * 2, -radius, radius, 20, -180, -270),\n    ...generateCirclePoints2(w / 2 + radius * 2, radius, radius, 20, -90, -180),\n    { x: -w / 2 - radius, y: -h / 2 },\n    ...generateCirclePoints2(w / 2, h / 2, radius, 20, 0, 90)\n  ];\n  const rectPoints = [\n    { x: w / 2, y: -h / 2 - radius },\n    { x: -w / 2, y: -h / 2 - radius },\n    ...generateCirclePoints2(w / 2, -h / 2, radius, 20, -90, 0),\n    { x: -w / 2 - radius, y: -radius },\n    ...generateCirclePoints2(w / 2 + w * 0.1, -radius, radius, 20, -180, -270),\n    ...generateCirclePoints2(w / 2 + w * 0.1, radius, radius, 20, -90, -180),\n    { x: -w / 2 - radius, y: h / 2 },\n    ...generateCirclePoints2(w / 2, h / 2, radius, 20, 0, 90),\n    { x: -w / 2, y: h / 2 + radius },\n    { x: w / 2, y: h / 2 + radius }\n  ];\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, { fill: "none" });\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const curlyBraceLeftPath = createPathFromPoints(points);\n  const newCurlyBracePath = curlyBraceLeftPath.replace("Z", "");\n  const curlyBraceLeftNode = rc.path(newCurlyBracePath, options);\n  const rectPath = createPathFromPoints(rectPoints);\n  const rectShape = rc.path(rectPath, { ...options });\n  const curlyBraceLeftShape = shapeSvg.insert("g", ":first-child");\n  curlyBraceLeftShape.insert(() => rectShape, ":first-child").attr("stroke-opacity", 0);\n  curlyBraceLeftShape.insert(() => curlyBraceLeftNode, ":first-child");\n  curlyBraceLeftShape.attr("class", "text");\n  if (cssStyles && node.look !== "handDrawn") {\n    curlyBraceLeftShape.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    curlyBraceLeftShape.selectAll("path").attr("style", nodeStyles);\n  }\n  curlyBraceLeftShape.attr("transform", `translate(${radius}, 0)`);\n  label.attr(\n    "transform",\n    `translate(${-w / 2 + radius - (bbox.x - (bbox.left ?? 0))},${-h / 2 + (node.padding ?? 0) / 2 - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, curlyBraceLeftShape);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, rectPoints, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(curlyBraceLeft, "curlyBraceLeft");\n\n// src/rendering-util/rendering-elements/shapes/curlyBraceRight.ts\n\nfunction generateCirclePoints3(centerX, centerY, radius, numPoints = 100, startAngle = 0, endAngle = 180) {\n  const points = [];\n  const startAngleRad = startAngle * Math.PI / 180;\n  const endAngleRad = endAngle * Math.PI / 180;\n  const angleRange = endAngleRad - startAngleRad;\n  const angleStep = angleRange / (numPoints - 1);\n  for (let i = 0; i < numPoints; i++) {\n    const angle = startAngleRad + i * angleStep;\n    const x = centerX + radius * Math.cos(angle);\n    const y = centerY + radius * Math.sin(angle);\n    points.push({ x, y });\n  }\n  return points;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(generateCirclePoints3, "generateCirclePoints");\nasync function curlyBraceRight(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = bbox.width + (node.padding ?? 0);\n  const h = bbox.height + (node.padding ?? 0);\n  const radius = Math.max(5, h * 0.1);\n  const { cssStyles } = node;\n  const points = [\n    ...generateCirclePoints3(w / 2, -h / 2, radius, 20, -90, 0),\n    { x: w / 2 + radius, y: -radius },\n    ...generateCirclePoints3(w / 2 + radius * 2, -radius, radius, 20, -180, -270),\n    ...generateCirclePoints3(w / 2 + radius * 2, radius, radius, 20, -90, -180),\n    { x: w / 2 + radius, y: h / 2 },\n    ...generateCirclePoints3(w / 2, h / 2, radius, 20, 0, 90)\n  ];\n  const rectPoints = [\n    { x: -w / 2, y: -h / 2 - radius },\n    { x: w / 2, y: -h / 2 - radius },\n    ...generateCirclePoints3(w / 2, -h / 2, radius, 20, -90, 0),\n    { x: w / 2 + radius, y: -radius },\n    ...generateCirclePoints3(w / 2 + radius * 2, -radius, radius, 20, -180, -270),\n    ...generateCirclePoints3(w / 2 + radius * 2, radius, radius, 20, -90, -180),\n    { x: w / 2 + radius, y: h / 2 },\n    ...generateCirclePoints3(w / 2, h / 2, radius, 20, 0, 90),\n    { x: w / 2, y: h / 2 + radius },\n    { x: -w / 2, y: h / 2 + radius }\n  ];\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, { fill: "none" });\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const curlyBraceRightPath = createPathFromPoints(points);\n  const newCurlyBracePath = curlyBraceRightPath.replace("Z", "");\n  const curlyBraceRightNode = rc.path(newCurlyBracePath, options);\n  const rectPath = createPathFromPoints(rectPoints);\n  const rectShape = rc.path(rectPath, { ...options });\n  const curlyBraceRightShape = shapeSvg.insert("g", ":first-child");\n  curlyBraceRightShape.insert(() => rectShape, ":first-child").attr("stroke-opacity", 0);\n  curlyBraceRightShape.insert(() => curlyBraceRightNode, ":first-child");\n  curlyBraceRightShape.attr("class", "text");\n  if (cssStyles && node.look !== "handDrawn") {\n    curlyBraceRightShape.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    curlyBraceRightShape.selectAll("path").attr("style", nodeStyles);\n  }\n  curlyBraceRightShape.attr("transform", `translate(${-radius}, 0)`);\n  label.attr(\n    "transform",\n    `translate(${-w / 2 + (node.padding ?? 0) / 2 - (bbox.x - (bbox.left ?? 0))},${-h / 2 + (node.padding ?? 0) / 2 - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, curlyBraceRightShape);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, rectPoints, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(curlyBraceRight, "curlyBraceRight");\n\n// src/rendering-util/rendering-elements/shapes/curlyBraces.ts\n\nfunction generateCirclePoints4(centerX, centerY, radius, numPoints = 100, startAngle = 0, endAngle = 180) {\n  const points = [];\n  const startAngleRad = startAngle * Math.PI / 180;\n  const endAngleRad = endAngle * Math.PI / 180;\n  const angleRange = endAngleRad - startAngleRad;\n  const angleStep = angleRange / (numPoints - 1);\n  for (let i = 0; i < numPoints; i++) {\n    const angle = startAngleRad + i * angleStep;\n    const x = centerX + radius * Math.cos(angle);\n    const y = centerY + radius * Math.sin(angle);\n    points.push({ x: -x, y: -y });\n  }\n  return points;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(generateCirclePoints4, "generateCirclePoints");\nasync function curlyBraces(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = bbox.width + (node.padding ?? 0);\n  const h = bbox.height + (node.padding ?? 0);\n  const radius = Math.max(5, h * 0.1);\n  const { cssStyles } = node;\n  const leftCurlyBracePoints = [\n    ...generateCirclePoints4(w / 2, -h / 2, radius, 30, -90, 0),\n    { x: -w / 2 - radius, y: radius },\n    ...generateCirclePoints4(w / 2 + radius * 2, -radius, radius, 20, -180, -270),\n    ...generateCirclePoints4(w / 2 + radius * 2, radius, radius, 20, -90, -180),\n    { x: -w / 2 - radius, y: -h / 2 },\n    ...generateCirclePoints4(w / 2, h / 2, radius, 20, 0, 90)\n  ];\n  const rightCurlyBracePoints = [\n    ...generateCirclePoints4(-w / 2 + radius + radius / 2, -h / 2, radius, 20, -90, -180),\n    { x: w / 2 - radius / 2, y: radius },\n    ...generateCirclePoints4(-w / 2 - radius / 2, -radius, radius, 20, 0, 90),\n    ...generateCirclePoints4(-w / 2 - radius / 2, radius, radius, 20, -90, 0),\n    { x: w / 2 - radius / 2, y: -radius },\n    ...generateCirclePoints4(-w / 2 + radius + radius / 2, h / 2, radius, 30, -180, -270)\n  ];\n  const rectPoints = [\n    { x: w / 2, y: -h / 2 - radius },\n    { x: -w / 2, y: -h / 2 - radius },\n    ...generateCirclePoints4(w / 2, -h / 2, radius, 20, -90, 0),\n    { x: -w / 2 - radius, y: -radius },\n    ...generateCirclePoints4(w / 2 + radius * 2, -radius, radius, 20, -180, -270),\n    ...generateCirclePoints4(w / 2 + radius * 2, radius, radius, 20, -90, -180),\n    { x: -w / 2 - radius, y: h / 2 },\n    ...generateCirclePoints4(w / 2, h / 2, radius, 20, 0, 90),\n    { x: -w / 2, y: h / 2 + radius },\n    { x: w / 2 - radius - radius / 2, y: h / 2 + radius },\n    ...generateCirclePoints4(-w / 2 + radius + radius / 2, -h / 2, radius, 20, -90, -180),\n    { x: w / 2 - radius / 2, y: radius },\n    ...generateCirclePoints4(-w / 2 - radius / 2, -radius, radius, 20, 0, 90),\n    ...generateCirclePoints4(-w / 2 - radius / 2, radius, radius, 20, -90, 0),\n    { x: w / 2 - radius / 2, y: -radius },\n    ...generateCirclePoints4(-w / 2 + radius + radius / 2, h / 2, radius, 30, -180, -270)\n  ];\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, { fill: "none" });\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const leftCurlyBracePath = createPathFromPoints(leftCurlyBracePoints);\n  const newLeftCurlyBracePath = leftCurlyBracePath.replace("Z", "");\n  const leftCurlyBraceNode = rc.path(newLeftCurlyBracePath, options);\n  const rightCurlyBracePath = createPathFromPoints(rightCurlyBracePoints);\n  const newRightCurlyBracePath = rightCurlyBracePath.replace("Z", "");\n  const rightCurlyBraceNode = rc.path(newRightCurlyBracePath, options);\n  const rectPath = createPathFromPoints(rectPoints);\n  const rectShape = rc.path(rectPath, { ...options });\n  const curlyBracesShape = shapeSvg.insert("g", ":first-child");\n  curlyBracesShape.insert(() => rectShape, ":first-child").attr("stroke-opacity", 0);\n  curlyBracesShape.insert(() => leftCurlyBraceNode, ":first-child");\n  curlyBracesShape.insert(() => rightCurlyBraceNode, ":first-child");\n  curlyBracesShape.attr("class", "text");\n  if (cssStyles && node.look !== "handDrawn") {\n    curlyBracesShape.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    curlyBracesShape.selectAll("path").attr("style", nodeStyles);\n  }\n  curlyBracesShape.attr("transform", `translate(${radius - radius / 4}, 0)`);\n  label.attr(\n    "transform",\n    `translate(${-w / 2 + (node.padding ?? 0) / 2 - (bbox.x - (bbox.left ?? 0))},${-h / 2 + (node.padding ?? 0) / 2 - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, curlyBracesShape);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, rectPoints, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(curlyBraces, "curlyBraces");\n\n// src/rendering-util/rendering-elements/shapes/curvedTrapezoid.ts\n\nasync function curvedTrapezoid(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const minWidth = 80, minHeight = 20;\n  const w = Math.max(minWidth, (bbox.width + (node.padding ?? 0) * 2) * 1.25, node?.width ?? 0);\n  const h = Math.max(minHeight, bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const radius = h / 2;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const totalWidth = w, totalHeight = h;\n  const rw = totalWidth - radius;\n  const tw = totalHeight / 4;\n  const points = [\n    { x: rw, y: 0 },\n    { x: tw, y: 0 },\n    { x: 0, y: totalHeight / 2 },\n    { x: tw, y: totalHeight },\n    { x: rw, y: totalHeight },\n    ...generateCirclePoints(-rw, -totalHeight / 2, radius, 50, 270, 90)\n  ];\n  const pathData = createPathFromPoints(points);\n  const shapeNode = rc.path(pathData, options);\n  const polygon = shapeSvg.insert(() => shapeNode, ":first-child");\n  polygon.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", nodeStyles);\n  }\n  polygon.attr("transform", `translate(${-w / 2}, ${-h / 2})`);\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(curvedTrapezoid, "curvedTrapezoid");\n\n// src/rendering-util/rendering-elements/shapes/cylinder.ts\n\nvar createCylinderPathD = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((x, y, width, height, rx, ry) => {\n  return [\n    `M${x},${y + ry}`,\n    `a${rx},${ry} 0,0,0 ${width},0`,\n    `a${rx},${ry} 0,0,0 ${-width},0`,\n    `l0,${height}`,\n    `a${rx},${ry} 0,0,0 ${width},0`,\n    `l0,${-height}`\n  ].join(" ");\n}, "createCylinderPathD");\nvar createOuterCylinderPathD = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((x, y, width, height, rx, ry) => {\n  return [\n    `M${x},${y + ry}`,\n    `M${x + width},${y + ry}`,\n    `a${rx},${ry} 0,0,0 ${-width},0`,\n    `l0,${height}`,\n    `a${rx},${ry} 0,0,0 ${width},0`,\n    `l0,${-height}`\n  ].join(" ");\n}, "createOuterCylinderPathD");\nvar createInnerCylinderPathD = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((x, y, width, height, rx, ry) => {\n  return [`M${x - width / 2},${-height / 2}`, `a${rx},${ry} 0,0,0 ${width},0`].join(" ");\n}, "createInnerCylinderPathD");\nasync function cylinder(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(bbox.width + node.padding, node.width ?? 0);\n  const rx = w / 2;\n  const ry = rx / (2.5 + w / 50);\n  const h = Math.max(bbox.height + ry + node.padding, node.height ?? 0);\n  let cylinder2;\n  const { cssStyles } = node;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const outerPathData = createOuterCylinderPathD(0, 0, w, h, rx, ry);\n    const innerPathData = createInnerCylinderPathD(0, ry, w, h, rx, ry);\n    const outerNode = rc.path(outerPathData, (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {}));\n    const innerLine = rc.path(innerPathData, (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, { fill: "none" }));\n    cylinder2 = shapeSvg.insert(() => innerLine, ":first-child");\n    cylinder2 = shapeSvg.insert(() => outerNode, ":first-child");\n    cylinder2.attr("class", "basic label-container");\n    if (cssStyles) {\n      cylinder2.attr("style", cssStyles);\n    }\n  } else {\n    const pathData = createCylinderPathD(0, 0, w, h, rx, ry);\n    cylinder2 = shapeSvg.insert("path", ":first-child").attr("d", pathData).attr("class", "basic label-container").attr("style", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(cssStyles)).attr("style", nodeStyles);\n  }\n  cylinder2.attr("label-offset-y", ry);\n  cylinder2.attr("transform", `translate(${-w / 2}, ${-(h / 2 + ry)})`);\n  updateNodeBounds(node, cylinder2);\n  label.attr(\n    "transform",\n    `translate(${-(bbox.width / 2) - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) + (node.padding ?? 0) / 1.5 - (bbox.y - (bbox.top ?? 0))})`\n  );\n  node.intersect = function(point) {\n    const pos = intersect_default.rect(node, point);\n    const x = pos.x - (node.x ?? 0);\n    if (rx != 0 && (Math.abs(x) < (node.width ?? 0) / 2 || Math.abs(x) == (node.width ?? 0) / 2 && Math.abs(pos.y - (node.y ?? 0)) > (node.height ?? 0) / 2 - ry)) {\n      let y = ry * ry * (1 - x * x / (rx * rx));\n      if (y > 0) {\n        y = Math.sqrt(y);\n      }\n      y = ry - y;\n      if (point.y - (node.y ?? 0) > 0) {\n        y = -y;\n      }\n      pos.y += y;\n    }\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(cylinder, "cylinder");\n\n// src/rendering-util/rendering-elements/shapes/dividedRect.ts\n\nasync function dividedRectangle(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const rectOffset = h * 0.2;\n  const x = -w / 2;\n  const y = -h / 2 - rectOffset / 2;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const pts = [\n    { x, y: y + rectOffset },\n    { x: -x, y: y + rectOffset },\n    { x: -x, y: -y },\n    { x, y: -y },\n    { x, y },\n    { x: -x, y },\n    { x: -x, y: y + rectOffset }\n  ];\n  const poly = rc.polygon(\n    pts.map((p) => [p.x, p.y]),\n    options\n  );\n  const polygon = shapeSvg.insert(() => poly, ":first-child");\n  polygon.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    polygon.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    polygon.selectAll("path").attr("style", nodeStyles);\n  }\n  label.attr(\n    "transform",\n    `translate(${x + (node.padding ?? 0) / 2 - (bbox.x - (bbox.left ?? 0))}, ${y + rectOffset + (node.padding ?? 0) / 2 - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    const pos = intersect_default.rect(node, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(dividedRectangle, "dividedRectangle");\n\n// src/rendering-util/rendering-elements/shapes/doubleCircle.ts\n\nasync function doublecircle(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, halfPadding } = await labelHelper(parent, node, getNodeClasses(node));\n  const gap = 5;\n  const outerRadius = bbox.width / 2 + halfPadding + gap;\n  const innerRadius = bbox.width / 2 + halfPadding;\n  let circleGroup;\n  const { cssStyles } = node;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const outerOptions = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, { roughness: 0.2, strokeWidth: 2.5 });\n    const innerOptions = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, { roughness: 0.2, strokeWidth: 1.5 });\n    const outerRoughNode = rc.circle(0, 0, outerRadius * 2, outerOptions);\n    const innerRoughNode = rc.circle(0, 0, innerRadius * 2, innerOptions);\n    circleGroup = shapeSvg.insert("g", ":first-child");\n    circleGroup.attr("class", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(node.cssClasses)).attr("style", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(cssStyles));\n    circleGroup.node()?.appendChild(outerRoughNode);\n    circleGroup.node()?.appendChild(innerRoughNode);\n  } else {\n    circleGroup = shapeSvg.insert("g", ":first-child");\n    const outerCircle = circleGroup.insert("circle", ":first-child");\n    const innerCircle = circleGroup.insert("circle");\n    circleGroup.attr("class", "basic label-container").attr("style", nodeStyles);\n    outerCircle.attr("class", "outer-circle").attr("style", nodeStyles).attr("r", outerRadius).attr("cx", 0).attr("cy", 0);\n    innerCircle.attr("class", "inner-circle").attr("style", nodeStyles).attr("r", innerRadius).attr("cx", 0).attr("cy", 0);\n  }\n  updateNodeBounds(node, circleGroup);\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("DoubleCircle intersect", node, outerRadius, point);\n    return intersect_default.circle(node, outerRadius, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(doublecircle, "doublecircle");\n\n// src/rendering-util/rendering-elements/shapes/filledCircle.ts\n\nfunction filledCircle(parent, node, { config: { themeVariables } }) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.label = "";\n  node.labelStyle = labelStyles;\n  const shapeSvg = parent.insert("g").attr("class", getNodeClasses(node)).attr("id", node.domId ?? node.id);\n  const radius = 7;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const { nodeBorder } = themeVariables;\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, { fillStyle: "solid" });\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n  }\n  const circleNode = rc.circle(0, 0, radius * 2, options);\n  const filledCircle2 = shapeSvg.insert(() => circleNode, ":first-child");\n  filledCircle2.selectAll("path").attr("style", `fill: ${nodeBorder} !important;`);\n  if (cssStyles && cssStyles.length > 0 && node.look !== "handDrawn") {\n    filledCircle2.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    filledCircle2.selectAll("path").attr("style", nodeStyles);\n  }\n  updateNodeBounds(node, filledCircle2);\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("filledCircle intersect", node, { radius, point });\n    const pos = intersect_default.circle(node, radius, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(filledCircle, "filledCircle");\n\n// src/rendering-util/rendering-elements/shapes/flippedTriangle.ts\n\nasync function flippedTriangle(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = bbox.width + (node.padding ?? 0);\n  const h = w + bbox.height;\n  const tw = w + bbox.height;\n  const points = [\n    { x: 0, y: -h },\n    { x: tw, y: -h },\n    { x: tw / 2, y: 0 }\n  ];\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const pathData = createPathFromPoints(points);\n  const roughNode = rc.path(pathData, options);\n  const flippedTriangle2 = shapeSvg.insert(() => roughNode, ":first-child").attr("transform", `translate(${-h / 2}, ${h / 2})`);\n  if (cssStyles && node.look !== "handDrawn") {\n    flippedTriangle2.selectChildren("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    flippedTriangle2.selectChildren("path").attr("style", nodeStyles);\n  }\n  node.width = w;\n  node.height = h;\n  updateNodeBounds(node, flippedTriangle2);\n  label.attr(\n    "transform",\n    `translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))}, ${-h / 2 + (node.padding ?? 0) / 2 + (bbox.y - (bbox.top ?? 0))})`\n  );\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Triangle intersect", node, points, point);\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(flippedTriangle, "flippedTriangle");\n\n// src/rendering-util/rendering-elements/shapes/forkJoin.ts\n\nfunction forkJoin(parent, node, { dir, config: { state: state2, themeVariables } }) {\n  const { nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.label = "";\n  const shapeSvg = parent.insert("g").attr("class", getNodeClasses(node)).attr("id", node.domId ?? node.id);\n  const { cssStyles } = node;\n  let width = Math.max(70, node?.width ?? 0);\n  let height = Math.max(10, node?.height ?? 0);\n  if (dir === "LR") {\n    width = Math.max(10, node?.width ?? 0);\n    height = Math.max(70, node?.height ?? 0);\n  }\n  const x = -1 * width / 2;\n  const y = -1 * height / 2;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {\n    stroke: themeVariables.lineColor,\n    fill: themeVariables.lineColor\n  });\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const roughNode = rc.rectangle(x, y, width, height, options);\n  const shape = shapeSvg.insert(() => roughNode, ":first-child");\n  if (cssStyles && node.look !== "handDrawn") {\n    shape.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    shape.selectAll("path").attr("style", nodeStyles);\n  }\n  updateNodeBounds(node, shape);\n  const padding = state2?.padding ?? 0;\n  if (node.width && node.height) {\n    node.width += padding / 2 || 0;\n    node.height += padding / 2 || 0;\n  }\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(forkJoin, "forkJoin");\n\n// src/rendering-util/rendering-elements/shapes/halfRoundedRectangle.ts\n\nasync function halfRoundedRectangle(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const minWidth = 80, minHeight = 50;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(minWidth, bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);\n  const h = Math.max(minHeight, bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const radius = h / 2;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const points = [\n    { x: -w / 2, y: -h / 2 },\n    { x: w / 2 - radius, y: -h / 2 },\n    ...generateCirclePoints(-w / 2 + radius, 0, radius, 50, 90, 270),\n    { x: w / 2 - radius, y: h / 2 },\n    { x: -w / 2, y: h / 2 }\n  ];\n  const pathData = createPathFromPoints(points);\n  const shapeNode = rc.path(pathData, options);\n  const polygon = shapeSvg.insert(() => shapeNode, ":first-child");\n  polygon.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", nodeStyles);\n  }\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Pill intersect", node, { radius, point });\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(halfRoundedRectangle, "halfRoundedRectangle");\n\n// src/rendering-util/rendering-elements/shapes/hexagon.ts\n\nasync function hexagon(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const h = bbox.height + (node.padding ?? 0);\n  const w = bbox.width + (node.padding ?? 0) * 2.5;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  let halfWidth = w / 2;\n  const m = halfWidth / 6;\n  halfWidth = halfWidth + m;\n  const halfHeight = h / 2;\n  const fixedLength = halfHeight / 2;\n  const deducedWidth = halfWidth - fixedLength;\n  const points = [\n    { x: -deducedWidth, y: -halfHeight },\n    { x: 0, y: -halfHeight },\n    { x: deducedWidth, y: -halfHeight },\n    { x: halfWidth, y: 0 },\n    { x: deducedWidth, y: halfHeight },\n    { x: 0, y: halfHeight },\n    { x: -deducedWidth, y: halfHeight },\n    { x: -halfWidth, y: 0 }\n  ];\n  const pathData = createPathFromPoints(points);\n  const shapeNode = rc.path(pathData, options);\n  const polygon = shapeSvg.insert(() => shapeNode, ":first-child");\n  polygon.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", nodeStyles);\n  }\n  node.width = w;\n  node.height = h;\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(hexagon, "hexagon");\n\n// src/rendering-util/rendering-elements/shapes/hourglass.ts\n\nasync function hourglass(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.label = "";\n  node.labelStyle = labelStyles;\n  const { shapeSvg } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(30, node?.width ?? 0);\n  const h = Math.max(30, node?.height ?? 0);\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const points = [\n    { x: 0, y: 0 },\n    { x: w, y: 0 },\n    { x: 0, y: h },\n    { x: w, y: h }\n  ];\n  const pathData = createPathFromPoints(points);\n  const shapeNode = rc.path(pathData, options);\n  const polygon = shapeSvg.insert(() => shapeNode, ":first-child");\n  polygon.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", nodeStyles);\n  }\n  polygon.attr("transform", `translate(${-w / 2}, ${-h / 2})`);\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Pill intersect", node, { points });\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(hourglass, "hourglass");\n\n// src/rendering-util/rendering-elements/shapes/icon.ts\n\nasync function icon(parent, node, { config: { themeVariables, flowchart } }) {\n  const { labelStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const assetHeight = node.assetHeight ?? 48;\n  const assetWidth = node.assetWidth ?? 48;\n  const iconSize = Math.max(assetHeight, assetWidth);\n  const defaultWidth = flowchart?.wrappingWidth;\n  node.width = Math.max(iconSize, defaultWidth ?? 0);\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, "icon-shape default");\n  const topLabel = node.pos === "t";\n  const height = iconSize;\n  const width = iconSize;\n  const { nodeBorder } = themeVariables;\n  const { stylesMap } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.compileStyles)(node);\n  const x = -width / 2;\n  const y = -height / 2;\n  const labelPadding = node.label ? 8 : 0;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, { stroke: "none", fill: "none" });\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const iconNode = rc.rectangle(x, y, width, height, options);\n  const outerWidth = Math.max(width, bbox.width);\n  const outerHeight = height + bbox.height + labelPadding;\n  const outerNode = rc.rectangle(-outerWidth / 2, -outerHeight / 2, outerWidth, outerHeight, {\n    ...options,\n    fill: "transparent",\n    stroke: "none"\n  });\n  const iconShape = shapeSvg.insert(() => iconNode, ":first-child");\n  const outerShape = shapeSvg.insert(() => outerNode);\n  if (node.icon) {\n    const iconElem = shapeSvg.append("g");\n    iconElem.html(\n      `<g>${await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.getIconSVG)(node.icon, {\n        height: iconSize,\n        width: iconSize,\n        fallbackPrefix: ""\n      })}</g>`\n    );\n    const iconBBox = iconElem.node().getBBox();\n    const iconWidth = iconBBox.width;\n    const iconHeight = iconBBox.height;\n    const iconX = iconBBox.x;\n    const iconY = iconBBox.y;\n    iconElem.attr(\n      "transform",\n      `translate(${-iconWidth / 2 - iconX},${topLabel ? bbox.height / 2 + labelPadding / 2 - iconHeight / 2 - iconY : -bbox.height / 2 - labelPadding / 2 - iconHeight / 2 - iconY})`\n    );\n    iconElem.attr("style", `color: ${stylesMap.get("stroke") ?? nodeBorder};`);\n  }\n  label.attr(\n    "transform",\n    `translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))},${topLabel ? -outerHeight / 2 : outerHeight / 2 - bbox.height})`\n  );\n  iconShape.attr(\n    "transform",\n    `translate(${0},${topLabel ? bbox.height / 2 + labelPadding / 2 : -bbox.height / 2 - labelPadding / 2})`\n  );\n  updateNodeBounds(node, outerShape);\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("iconSquare intersect", node, point);\n    if (!node.label) {\n      return intersect_default.rect(node, point);\n    }\n    const dx = node.x ?? 0;\n    const dy = node.y ?? 0;\n    const nodeHeight = node.height ?? 0;\n    let points = [];\n    if (topLabel) {\n      points = [\n        { x: dx - bbox.width / 2, y: dy - nodeHeight / 2 },\n        { x: dx + bbox.width / 2, y: dy - nodeHeight / 2 },\n        { x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },\n        { x: dx + width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },\n        { x: dx + width / 2, y: dy + nodeHeight / 2 },\n        { x: dx - width / 2, y: dy + nodeHeight / 2 },\n        { x: dx - width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },\n        { x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding }\n      ];\n    } else {\n      points = [\n        { x: dx - width / 2, y: dy - nodeHeight / 2 },\n        { x: dx + width / 2, y: dy - nodeHeight / 2 },\n        { x: dx + width / 2, y: dy - nodeHeight / 2 + height },\n        { x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + height },\n        { x: dx + bbox.width / 2 / 2, y: dy + nodeHeight / 2 },\n        { x: dx - bbox.width / 2, y: dy + nodeHeight / 2 },\n        { x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + height },\n        { x: dx - width / 2, y: dy - nodeHeight / 2 + height }\n      ];\n    }\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(icon, "icon");\n\n// src/rendering-util/rendering-elements/shapes/iconCircle.ts\n\nasync function iconCircle(parent, node, { config: { themeVariables, flowchart } }) {\n  const { labelStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const assetHeight = node.assetHeight ?? 48;\n  const assetWidth = node.assetWidth ?? 48;\n  const iconSize = Math.max(assetHeight, assetWidth);\n  const defaultWidth = flowchart?.wrappingWidth;\n  node.width = Math.max(iconSize, defaultWidth ?? 0);\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, "icon-shape default");\n  const padding = 20;\n  const labelPadding = node.label ? 8 : 0;\n  const topLabel = node.pos === "t";\n  const { nodeBorder, mainBkg } = themeVariables;\n  const { stylesMap } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.compileStyles)(node);\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const fill = stylesMap.get("fill");\n  options.stroke = fill ?? mainBkg;\n  const iconElem = shapeSvg.append("g");\n  if (node.icon) {\n    iconElem.html(\n      `<g>${await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.getIconSVG)(node.icon, {\n        height: iconSize,\n        width: iconSize,\n        fallbackPrefix: ""\n      })}</g>`\n    );\n  }\n  const iconBBox = iconElem.node().getBBox();\n  const iconWidth = iconBBox.width;\n  const iconHeight = iconBBox.height;\n  const iconX = iconBBox.x;\n  const iconY = iconBBox.y;\n  const diameter = Math.max(iconWidth, iconHeight) * Math.SQRT2 + padding * 2;\n  const iconNode = rc.circle(0, 0, diameter, options);\n  const outerWidth = Math.max(diameter, bbox.width);\n  const outerHeight = diameter + bbox.height + labelPadding;\n  const outerNode = rc.rectangle(-outerWidth / 2, -outerHeight / 2, outerWidth, outerHeight, {\n    ...options,\n    fill: "transparent",\n    stroke: "none"\n  });\n  const iconShape = shapeSvg.insert(() => iconNode, ":first-child");\n  const outerShape = shapeSvg.insert(() => outerNode);\n  iconElem.attr(\n    "transform",\n    `translate(${-iconWidth / 2 - iconX},${topLabel ? bbox.height / 2 + labelPadding / 2 - iconHeight / 2 - iconY : -bbox.height / 2 - labelPadding / 2 - iconHeight / 2 - iconY})`\n  );\n  iconElem.attr("style", `color: ${stylesMap.get("stroke") ?? nodeBorder};`);\n  label.attr(\n    "transform",\n    `translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))},${topLabel ? -outerHeight / 2 : outerHeight / 2 - bbox.height})`\n  );\n  iconShape.attr(\n    "transform",\n    `translate(${0},${topLabel ? bbox.height / 2 + labelPadding / 2 : -bbox.height / 2 - labelPadding / 2})`\n  );\n  updateNodeBounds(node, outerShape);\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("iconSquare intersect", node, point);\n    const pos = intersect_default.rect(node, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(iconCircle, "iconCircle");\n\n// src/rendering-util/rendering-elements/shapes/iconRounded.ts\n\nasync function iconRounded(parent, node, { config: { themeVariables, flowchart } }) {\n  const { labelStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const assetHeight = node.assetHeight ?? 48;\n  const assetWidth = node.assetWidth ?? 48;\n  const iconSize = Math.max(assetHeight, assetWidth);\n  const defaultWidth = flowchart?.wrappingWidth;\n  node.width = Math.max(iconSize, defaultWidth ?? 0);\n  const { shapeSvg, bbox, halfPadding, label } = await labelHelper(\n    parent,\n    node,\n    "icon-shape default"\n  );\n  const topLabel = node.pos === "t";\n  const height = iconSize + halfPadding * 2;\n  const width = iconSize + halfPadding * 2;\n  const { nodeBorder, mainBkg } = themeVariables;\n  const { stylesMap } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.compileStyles)(node);\n  const x = -width / 2;\n  const y = -height / 2;\n  const labelPadding = node.label ? 8 : 0;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const fill = stylesMap.get("fill");\n  options.stroke = fill ?? mainBkg;\n  const iconNode = rc.path(createRoundedRectPathD(x, y, width, height, 5), options);\n  const outerWidth = Math.max(width, bbox.width);\n  const outerHeight = height + bbox.height + labelPadding;\n  const outerNode = rc.rectangle(-outerWidth / 2, -outerHeight / 2, outerWidth, outerHeight, {\n    ...options,\n    fill: "transparent",\n    stroke: "none"\n  });\n  const iconShape = shapeSvg.insert(() => iconNode, ":first-child").attr("class", "icon-shape2");\n  const outerShape = shapeSvg.insert(() => outerNode);\n  if (node.icon) {\n    const iconElem = shapeSvg.append("g");\n    iconElem.html(\n      `<g>${await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.getIconSVG)(node.icon, {\n        height: iconSize,\n        width: iconSize,\n        fallbackPrefix: ""\n      })}</g>`\n    );\n    const iconBBox = iconElem.node().getBBox();\n    const iconWidth = iconBBox.width;\n    const iconHeight = iconBBox.height;\n    const iconX = iconBBox.x;\n    const iconY = iconBBox.y;\n    iconElem.attr(\n      "transform",\n      `translate(${-iconWidth / 2 - iconX},${topLabel ? bbox.height / 2 + labelPadding / 2 - iconHeight / 2 - iconY : -bbox.height / 2 - labelPadding / 2 - iconHeight / 2 - iconY})`\n    );\n    iconElem.attr("style", `color: ${stylesMap.get("stroke") ?? nodeBorder};`);\n  }\n  label.attr(\n    "transform",\n    `translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))},${topLabel ? -outerHeight / 2 : outerHeight / 2 - bbox.height})`\n  );\n  iconShape.attr(\n    "transform",\n    `translate(${0},${topLabel ? bbox.height / 2 + labelPadding / 2 : -bbox.height / 2 - labelPadding / 2})`\n  );\n  updateNodeBounds(node, outerShape);\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("iconSquare intersect", node, point);\n    if (!node.label) {\n      return intersect_default.rect(node, point);\n    }\n    const dx = node.x ?? 0;\n    const dy = node.y ?? 0;\n    const nodeHeight = node.height ?? 0;\n    let points = [];\n    if (topLabel) {\n      points = [\n        { x: dx - bbox.width / 2, y: dy - nodeHeight / 2 },\n        { x: dx + bbox.width / 2, y: dy - nodeHeight / 2 },\n        { x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },\n        { x: dx + width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },\n        { x: dx + width / 2, y: dy + nodeHeight / 2 },\n        { x: dx - width / 2, y: dy + nodeHeight / 2 },\n        { x: dx - width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },\n        { x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding }\n      ];\n    } else {\n      points = [\n        { x: dx - width / 2, y: dy - nodeHeight / 2 },\n        { x: dx + width / 2, y: dy - nodeHeight / 2 },\n        { x: dx + width / 2, y: dy - nodeHeight / 2 + height },\n        { x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + height },\n        { x: dx + bbox.width / 2 / 2, y: dy + nodeHeight / 2 },\n        { x: dx - bbox.width / 2, y: dy + nodeHeight / 2 },\n        { x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + height },\n        { x: dx - width / 2, y: dy - nodeHeight / 2 + height }\n      ];\n    }\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(iconRounded, "iconRounded");\n\n// src/rendering-util/rendering-elements/shapes/iconSquare.ts\n\nasync function iconSquare(parent, node, { config: { themeVariables, flowchart } }) {\n  const { labelStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const assetHeight = node.assetHeight ?? 48;\n  const assetWidth = node.assetWidth ?? 48;\n  const iconSize = Math.max(assetHeight, assetWidth);\n  const defaultWidth = flowchart?.wrappingWidth;\n  node.width = Math.max(iconSize, defaultWidth ?? 0);\n  const { shapeSvg, bbox, halfPadding, label } = await labelHelper(\n    parent,\n    node,\n    "icon-shape default"\n  );\n  const topLabel = node.pos === "t";\n  const height = iconSize + halfPadding * 2;\n  const width = iconSize + halfPadding * 2;\n  const { nodeBorder, mainBkg } = themeVariables;\n  const { stylesMap } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.compileStyles)(node);\n  const x = -width / 2;\n  const y = -height / 2;\n  const labelPadding = node.label ? 8 : 0;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const fill = stylesMap.get("fill");\n  options.stroke = fill ?? mainBkg;\n  const iconNode = rc.path(createRoundedRectPathD(x, y, width, height, 0.1), options);\n  const outerWidth = Math.max(width, bbox.width);\n  const outerHeight = height + bbox.height + labelPadding;\n  const outerNode = rc.rectangle(-outerWidth / 2, -outerHeight / 2, outerWidth, outerHeight, {\n    ...options,\n    fill: "transparent",\n    stroke: "none"\n  });\n  const iconShape = shapeSvg.insert(() => iconNode, ":first-child");\n  const outerShape = shapeSvg.insert(() => outerNode);\n  if (node.icon) {\n    const iconElem = shapeSvg.append("g");\n    iconElem.html(\n      `<g>${await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.getIconSVG)(node.icon, {\n        height: iconSize,\n        width: iconSize,\n        fallbackPrefix: ""\n      })}</g>`\n    );\n    const iconBBox = iconElem.node().getBBox();\n    const iconWidth = iconBBox.width;\n    const iconHeight = iconBBox.height;\n    const iconX = iconBBox.x;\n    const iconY = iconBBox.y;\n    iconElem.attr(\n      "transform",\n      `translate(${-iconWidth / 2 - iconX},${topLabel ? bbox.height / 2 + labelPadding / 2 - iconHeight / 2 - iconY : -bbox.height / 2 - labelPadding / 2 - iconHeight / 2 - iconY})`\n    );\n    iconElem.attr("style", `color: ${stylesMap.get("stroke") ?? nodeBorder};`);\n  }\n  label.attr(\n    "transform",\n    `translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))},${topLabel ? -outerHeight / 2 : outerHeight / 2 - bbox.height})`\n  );\n  iconShape.attr(\n    "transform",\n    `translate(${0},${topLabel ? bbox.height / 2 + labelPadding / 2 : -bbox.height / 2 - labelPadding / 2})`\n  );\n  updateNodeBounds(node, outerShape);\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("iconSquare intersect", node, point);\n    if (!node.label) {\n      return intersect_default.rect(node, point);\n    }\n    const dx = node.x ?? 0;\n    const dy = node.y ?? 0;\n    const nodeHeight = node.height ?? 0;\n    let points = [];\n    if (topLabel) {\n      points = [\n        { x: dx - bbox.width / 2, y: dy - nodeHeight / 2 },\n        { x: dx + bbox.width / 2, y: dy - nodeHeight / 2 },\n        { x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },\n        { x: dx + width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },\n        { x: dx + width / 2, y: dy + nodeHeight / 2 },\n        { x: dx - width / 2, y: dy + nodeHeight / 2 },\n        { x: dx - width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },\n        { x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding }\n      ];\n    } else {\n      points = [\n        { x: dx - width / 2, y: dy - nodeHeight / 2 },\n        { x: dx + width / 2, y: dy - nodeHeight / 2 },\n        { x: dx + width / 2, y: dy - nodeHeight / 2 + height },\n        { x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + height },\n        { x: dx + bbox.width / 2 / 2, y: dy + nodeHeight / 2 },\n        { x: dx - bbox.width / 2, y: dy + nodeHeight / 2 },\n        { x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + height },\n        { x: dx - width / 2, y: dy - nodeHeight / 2 + height }\n      ];\n    }\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(iconSquare, "iconSquare");\n\n// src/rendering-util/rendering-elements/shapes/imageSquare.ts\n\nasync function imageSquare(parent, node, { config: { flowchart } }) {\n  const img = new Image();\n  img.src = node?.img ?? "";\n  await img.decode();\n  const imageNaturalWidth = Number(img.naturalWidth.toString().replace("px", ""));\n  const imageNaturalHeight = Number(img.naturalHeight.toString().replace("px", ""));\n  node.imageAspectRatio = imageNaturalWidth / imageNaturalHeight;\n  const { labelStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const defaultWidth = flowchart?.wrappingWidth;\n  node.defaultWidth = flowchart?.wrappingWidth;\n  const imageRawWidth = Math.max(\n    node.label ? defaultWidth ?? 0 : 0,\n    node?.assetWidth ?? imageNaturalWidth\n  );\n  const imageWidth = node.constraint === "on" ? node?.assetHeight ? node.assetHeight * node.imageAspectRatio : imageRawWidth : imageRawWidth;\n  const imageHeight = node.constraint === "on" ? imageWidth / node.imageAspectRatio : node?.assetHeight ?? imageNaturalHeight;\n  node.width = Math.max(imageWidth, defaultWidth ?? 0);\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, "image-shape default");\n  const topLabel = node.pos === "t";\n  const x = -imageWidth / 2;\n  const y = -imageHeight / 2;\n  const labelPadding = node.label ? 8 : 0;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const imageNode = rc.rectangle(x, y, imageWidth, imageHeight, options);\n  const outerWidth = Math.max(imageWidth, bbox.width);\n  const outerHeight = imageHeight + bbox.height + labelPadding;\n  const outerNode = rc.rectangle(-outerWidth / 2, -outerHeight / 2, outerWidth, outerHeight, {\n    ...options,\n    fill: "none",\n    stroke: "none"\n  });\n  const iconShape = shapeSvg.insert(() => imageNode, ":first-child");\n  const outerShape = shapeSvg.insert(() => outerNode);\n  if (node.img) {\n    const image = shapeSvg.append("image");\n    image.attr("href", node.img);\n    image.attr("width", imageWidth);\n    image.attr("height", imageHeight);\n    image.attr("preserveAspectRatio", "none");\n    image.attr(\n      "transform",\n      `translate(${-imageWidth / 2},${topLabel ? outerHeight / 2 - imageHeight : -outerHeight / 2})`\n    );\n  }\n  label.attr(\n    "transform",\n    `translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))},${topLabel ? -imageHeight / 2 - bbox.height / 2 - labelPadding / 2 : imageHeight / 2 - bbox.height / 2 + labelPadding / 2})`\n  );\n  iconShape.attr(\n    "transform",\n    `translate(${0},${topLabel ? bbox.height / 2 + labelPadding / 2 : -bbox.height / 2 - labelPadding / 2})`\n  );\n  updateNodeBounds(node, outerShape);\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("iconSquare intersect", node, point);\n    if (!node.label) {\n      return intersect_default.rect(node, point);\n    }\n    const dx = node.x ?? 0;\n    const dy = node.y ?? 0;\n    const nodeHeight = node.height ?? 0;\n    let points = [];\n    if (topLabel) {\n      points = [\n        { x: dx - bbox.width / 2, y: dy - nodeHeight / 2 },\n        { x: dx + bbox.width / 2, y: dy - nodeHeight / 2 },\n        { x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },\n        { x: dx + imageWidth / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },\n        { x: dx + imageWidth / 2, y: dy + nodeHeight / 2 },\n        { x: dx - imageWidth / 2, y: dy + nodeHeight / 2 },\n        { x: dx - imageWidth / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },\n        { x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding }\n      ];\n    } else {\n      points = [\n        { x: dx - imageWidth / 2, y: dy - nodeHeight / 2 },\n        { x: dx + imageWidth / 2, y: dy - nodeHeight / 2 },\n        { x: dx + imageWidth / 2, y: dy - nodeHeight / 2 + imageHeight },\n        { x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + imageHeight },\n        { x: dx + bbox.width / 2 / 2, y: dy + nodeHeight / 2 },\n        { x: dx - bbox.width / 2, y: dy + nodeHeight / 2 },\n        { x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + imageHeight },\n        { x: dx - imageWidth / 2, y: dy - nodeHeight / 2 + imageHeight }\n      ];\n    }\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(imageSquare, "imageSquare");\n\n// src/rendering-util/rendering-elements/shapes/invertedTrapezoid.ts\n\nasync function inv_trapezoid(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);\n  const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const points = [\n    { x: 0, y: 0 },\n    { x: w, y: 0 },\n    { x: w + 3 * h / 6, y: -h },\n    { x: -3 * h / 6, y: -h }\n  ];\n  let polygon;\n  const { cssStyles } = node;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n    const pathData = createPathFromPoints(points);\n    const roughNode = rc.path(pathData, options);\n    polygon = shapeSvg.insert(() => roughNode, ":first-child").attr("transform", `translate(${-w / 2}, ${h / 2})`);\n    if (cssStyles) {\n      polygon.attr("style", cssStyles);\n    }\n  } else {\n    polygon = insertPolygonShape(shapeSvg, w, h, points);\n  }\n  if (nodeStyles) {\n    polygon.attr("style", nodeStyles);\n  }\n  node.width = w;\n  node.height = h;\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(inv_trapezoid, "inv_trapezoid");\n\n// src/rendering-util/rendering-elements/shapes/drawRect.ts\n\nasync function drawRect(parent, node, options) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const totalWidth = Math.max(bbox.width + options.labelPaddingX * 2, node?.width || 0);\n  const totalHeight = Math.max(bbox.height + options.labelPaddingY * 2, node?.height || 0);\n  const x = -totalWidth / 2;\n  const y = -totalHeight / 2;\n  let rect2;\n  let { rx, ry } = node;\n  const { cssStyles } = node;\n  if (options?.rx && options.ry) {\n    rx = options.rx;\n    ry = options.ry;\n  }\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options2 = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n    const roughNode = rx || ry ? rc.path(createRoundedRectPathD(x, y, totalWidth, totalHeight, rx || 0), options2) : rc.rectangle(x, y, totalWidth, totalHeight, options2);\n    rect2 = shapeSvg.insert(() => roughNode, ":first-child");\n    rect2.attr("class", "basic label-container").attr("style", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(cssStyles));\n  } else {\n    rect2 = shapeSvg.insert("rect", ":first-child");\n    rect2.attr("class", "basic label-container").attr("style", nodeStyles).attr("rx", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(rx)).attr("ry", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(ry)).attr("x", x).attr("y", y).attr("width", totalWidth).attr("height", totalHeight);\n  }\n  updateNodeBounds(node, rect2);\n  node.calcIntersect = function(bounds, point) {\n    return intersect_default.rect(bounds, point);\n  };\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(drawRect, "drawRect");\n\n// src/rendering-util/rendering-elements/shapes/labelRect.ts\nasync function labelRect(parent, node) {\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, "label");\n  const rect2 = shapeSvg.insert("rect", ":first-child");\n  const totalWidth = 0.1;\n  const totalHeight = 0.1;\n  rect2.attr("width", totalWidth).attr("height", totalHeight);\n  shapeSvg.attr("class", "label edgeLabel");\n  label.attr(\n    "transform",\n    `translate(${-(bbox.width / 2) - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(labelRect, "labelRect");\n\n// src/rendering-util/rendering-elements/shapes/leanLeft.ts\n\nasync function lean_left(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(bbox.width + (node.padding ?? 0), node?.width ?? 0);\n  const h = Math.max(bbox.height + (node.padding ?? 0), node?.height ?? 0);\n  const points = [\n    { x: 0, y: 0 },\n    { x: w + 3 * h / 6, y: 0 },\n    { x: w, y: -h },\n    { x: -(3 * h) / 6, y: -h }\n  ];\n  let polygon;\n  const { cssStyles } = node;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n    const pathData = createPathFromPoints(points);\n    const roughNode = rc.path(pathData, options);\n    polygon = shapeSvg.insert(() => roughNode, ":first-child").attr("transform", `translate(${-w / 2}, ${h / 2})`);\n    if (cssStyles) {\n      polygon.attr("style", cssStyles);\n    }\n  } else {\n    polygon = insertPolygonShape(shapeSvg, w, h, points);\n  }\n  if (nodeStyles) {\n    polygon.attr("style", nodeStyles);\n  }\n  node.width = w;\n  node.height = h;\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(lean_left, "lean_left");\n\n// src/rendering-util/rendering-elements/shapes/leanRight.ts\n\nasync function lean_right(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(bbox.width + (node.padding ?? 0), node?.width ?? 0);\n  const h = Math.max(bbox.height + (node.padding ?? 0), node?.height ?? 0);\n  const points = [\n    { x: -3 * h / 6, y: 0 },\n    { x: w, y: 0 },\n    { x: w + 3 * h / 6, y: -h },\n    { x: 0, y: -h }\n  ];\n  let polygon;\n  const { cssStyles } = node;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n    const pathData = createPathFromPoints(points);\n    const roughNode = rc.path(pathData, options);\n    polygon = shapeSvg.insert(() => roughNode, ":first-child").attr("transform", `translate(${-w / 2}, ${h / 2})`);\n    if (cssStyles) {\n      polygon.attr("style", cssStyles);\n    }\n  } else {\n    polygon = insertPolygonShape(shapeSvg, w, h, points);\n  }\n  if (nodeStyles) {\n    polygon.attr("style", nodeStyles);\n  }\n  node.width = w;\n  node.height = h;\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(lean_right, "lean_right");\n\n// src/rendering-util/rendering-elements/shapes/lightningBolt.ts\n\nfunction lightningBolt(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.label = "";\n  node.labelStyle = labelStyles;\n  const shapeSvg = parent.insert("g").attr("class", getNodeClasses(node)).attr("id", node.domId ?? node.id);\n  const { cssStyles } = node;\n  const width = Math.max(35, node?.width ?? 0);\n  const height = Math.max(35, node?.height ?? 0);\n  const gap = 7;\n  const points = [\n    { x: width, y: 0 },\n    { x: 0, y: height + gap / 2 },\n    { x: width - 2 * gap, y: height + gap / 2 },\n    { x: 0, y: 2 * height },\n    { x: width, y: height - gap / 2 },\n    { x: 2 * gap, y: height - gap / 2 }\n  ];\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const linePath = createPathFromPoints(points);\n  const lineNode = rc.path(linePath, options);\n  const lightningBolt2 = shapeSvg.insert(() => lineNode, ":first-child");\n  if (cssStyles && node.look !== "handDrawn") {\n    lightningBolt2.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    lightningBolt2.selectAll("path").attr("style", nodeStyles);\n  }\n  lightningBolt2.attr("transform", `translate(-${width / 2},${-height})`);\n  updateNodeBounds(node, lightningBolt2);\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("lightningBolt intersect", node, point);\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(lightningBolt, "lightningBolt");\n\n// src/rendering-util/rendering-elements/shapes/linedCylinder.ts\n\nvar createCylinderPathD2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((x, y, width, height, rx, ry, outerOffset) => {\n  return [\n    `M${x},${y + ry}`,\n    `a${rx},${ry} 0,0,0 ${width},0`,\n    `a${rx},${ry} 0,0,0 ${-width},0`,\n    `l0,${height}`,\n    `a${rx},${ry} 0,0,0 ${width},0`,\n    `l0,${-height}`,\n    `M${x},${y + ry + outerOffset}`,\n    `a${rx},${ry} 0,0,0 ${width},0`\n  ].join(" ");\n}, "createCylinderPathD");\nvar createOuterCylinderPathD2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((x, y, width, height, rx, ry, outerOffset) => {\n  return [\n    `M${x},${y + ry}`,\n    `M${x + width},${y + ry}`,\n    `a${rx},${ry} 0,0,0 ${-width},0`,\n    `l0,${height}`,\n    `a${rx},${ry} 0,0,0 ${width},0`,\n    `l0,${-height}`,\n    `M${x},${y + ry + outerOffset}`,\n    `a${rx},${ry} 0,0,0 ${width},0`\n  ].join(" ");\n}, "createOuterCylinderPathD");\nvar createInnerCylinderPathD2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((x, y, width, height, rx, ry) => {\n  return [`M${x - width / 2},${-height / 2}`, `a${rx},${ry} 0,0,0 ${width},0`].join(" ");\n}, "createInnerCylinderPathD");\nasync function linedCylinder(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(bbox.width + (node.padding ?? 0), node.width ?? 0);\n  const rx = w / 2;\n  const ry = rx / (2.5 + w / 50);\n  const h = Math.max(bbox.height + ry + (node.padding ?? 0), node.height ?? 0);\n  const outerOffset = h * 0.1;\n  let cylinder2;\n  const { cssStyles } = node;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const outerPathData = createOuterCylinderPathD2(0, 0, w, h, rx, ry, outerOffset);\n    const innerPathData = createInnerCylinderPathD2(0, ry, w, h, rx, ry);\n    const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n    const outerNode = rc.path(outerPathData, options);\n    const innerLine = rc.path(innerPathData, options);\n    const innerLineEl = shapeSvg.insert(() => innerLine, ":first-child");\n    innerLineEl.attr("class", "line");\n    cylinder2 = shapeSvg.insert(() => outerNode, ":first-child");\n    cylinder2.attr("class", "basic label-container");\n    if (cssStyles) {\n      cylinder2.attr("style", cssStyles);\n    }\n  } else {\n    const pathData = createCylinderPathD2(0, 0, w, h, rx, ry, outerOffset);\n    cylinder2 = shapeSvg.insert("path", ":first-child").attr("d", pathData).attr("class", "basic label-container").attr("style", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(cssStyles)).attr("style", nodeStyles);\n  }\n  cylinder2.attr("label-offset-y", ry);\n  cylinder2.attr("transform", `translate(${-w / 2}, ${-(h / 2 + ry)})`);\n  updateNodeBounds(node, cylinder2);\n  label.attr(\n    "transform",\n    `translate(${-(bbox.width / 2) - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) + ry - (bbox.y - (bbox.top ?? 0))})`\n  );\n  node.intersect = function(point) {\n    const pos = intersect_default.rect(node, point);\n    const x = pos.x - (node.x ?? 0);\n    if (rx != 0 && (Math.abs(x) < (node.width ?? 0) / 2 || Math.abs(x) == (node.width ?? 0) / 2 && Math.abs(pos.y - (node.y ?? 0)) > (node.height ?? 0) / 2 - ry)) {\n      let y = ry * ry * (1 - x * x / (rx * rx));\n      if (y > 0) {\n        y = Math.sqrt(y);\n      }\n      y = ry - y;\n      if (point.y - (node.y ?? 0) > 0) {\n        y = -y;\n      }\n      pos.y += y;\n    }\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(linedCylinder, "linedCylinder");\n\n// src/rendering-util/rendering-elements/shapes/linedWaveEdgedRect.ts\n\nasync function linedWaveEdgedRect(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);\n  const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const waveAmplitude = h / 4;\n  const finalH = h + waveAmplitude;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const points = [\n    { x: -w / 2 - w / 2 * 0.1, y: -finalH / 2 },\n    { x: -w / 2 - w / 2 * 0.1, y: finalH / 2 },\n    ...generateFullSineWavePoints(\n      -w / 2 - w / 2 * 0.1,\n      finalH / 2,\n      w / 2 + w / 2 * 0.1,\n      finalH / 2,\n      waveAmplitude,\n      0.8\n    ),\n    { x: w / 2 + w / 2 * 0.1, y: -finalH / 2 },\n    { x: -w / 2 - w / 2 * 0.1, y: -finalH / 2 },\n    { x: -w / 2, y: -finalH / 2 },\n    { x: -w / 2, y: finalH / 2 * 1.1 },\n    { x: -w / 2, y: -finalH / 2 }\n  ];\n  const poly = rc.polygon(\n    points.map((p) => [p.x, p.y]),\n    options\n  );\n  const waveEdgeRect = shapeSvg.insert(() => poly, ":first-child");\n  waveEdgeRect.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    waveEdgeRect.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    waveEdgeRect.selectAll("path").attr("style", nodeStyles);\n  }\n  waveEdgeRect.attr("transform", `translate(0,${-waveAmplitude / 2})`);\n  label.attr(\n    "transform",\n    `translate(${-w / 2 + (node.padding ?? 0) + w / 2 * 0.1 / 2 - (bbox.x - (bbox.left ?? 0))},${-h / 2 + (node.padding ?? 0) - waveAmplitude / 2 - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, waveEdgeRect);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(linedWaveEdgedRect, "linedWaveEdgedRect");\n\n// src/rendering-util/rendering-elements/shapes/multiRect.ts\n\nasync function multiRect(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);\n  const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const rectOffset = 5;\n  const x = -w / 2;\n  const y = -h / 2;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  const outerPathPoints = [\n    { x: x - rectOffset, y: y + rectOffset },\n    { x: x - rectOffset, y: y + h + rectOffset },\n    { x: x + w - rectOffset, y: y + h + rectOffset },\n    { x: x + w - rectOffset, y: y + h },\n    { x: x + w, y: y + h },\n    { x: x + w, y: y + h - rectOffset },\n    { x: x + w + rectOffset, y: y + h - rectOffset },\n    { x: x + w + rectOffset, y: y - rectOffset },\n    { x: x + rectOffset, y: y - rectOffset },\n    { x: x + rectOffset, y },\n    { x, y },\n    { x, y: y + rectOffset }\n  ];\n  const innerPathPoints = [\n    { x, y: y + rectOffset },\n    { x: x + w - rectOffset, y: y + rectOffset },\n    { x: x + w - rectOffset, y: y + h },\n    { x: x + w, y: y + h },\n    { x: x + w, y },\n    { x, y }\n  ];\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const outerPath = createPathFromPoints(outerPathPoints);\n  const outerNode = rc.path(outerPath, options);\n  const innerPath = createPathFromPoints(innerPathPoints);\n  const innerNode = rc.path(innerPath, { ...options, fill: "none" });\n  const multiRect2 = shapeSvg.insert(() => innerNode, ":first-child");\n  multiRect2.insert(() => outerNode, ":first-child");\n  multiRect2.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    multiRect2.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    multiRect2.selectAll("path").attr("style", nodeStyles);\n  }\n  label.attr(\n    "transform",\n    `translate(${-(bbox.width / 2) - rectOffset - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) + rectOffset - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, multiRect2);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, outerPathPoints, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(multiRect, "multiRect");\n\n// src/rendering-util/rendering-elements/shapes/multiWaveEdgedRectangle.ts\n\nasync function multiWaveEdgedRectangle(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);\n  const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const waveAmplitude = h / 4;\n  const finalH = h + waveAmplitude;\n  const x = -w / 2;\n  const y = -finalH / 2;\n  const rectOffset = 5;\n  const { cssStyles } = node;\n  const wavePoints = generateFullSineWavePoints(\n    x - rectOffset,\n    y + finalH + rectOffset,\n    x + w - rectOffset,\n    y + finalH + rectOffset,\n    waveAmplitude,\n    0.8\n  );\n  const lastWavePoint = wavePoints?.[wavePoints.length - 1];\n  const outerPathPoints = [\n    { x: x - rectOffset, y: y + rectOffset },\n    { x: x - rectOffset, y: y + finalH + rectOffset },\n    ...wavePoints,\n    { x: x + w - rectOffset, y: lastWavePoint.y - rectOffset },\n    { x: x + w, y: lastWavePoint.y - rectOffset },\n    { x: x + w, y: lastWavePoint.y - 2 * rectOffset },\n    { x: x + w + rectOffset, y: lastWavePoint.y - 2 * rectOffset },\n    { x: x + w + rectOffset, y: y - rectOffset },\n    { x: x + rectOffset, y: y - rectOffset },\n    { x: x + rectOffset, y },\n    { x, y },\n    { x, y: y + rectOffset }\n  ];\n  const innerPathPoints = [\n    { x, y: y + rectOffset },\n    { x: x + w - rectOffset, y: y + rectOffset },\n    { x: x + w - rectOffset, y: lastWavePoint.y - rectOffset },\n    { x: x + w, y: lastWavePoint.y - rectOffset },\n    { x: x + w, y },\n    { x, y }\n  ];\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const outerPath = createPathFromPoints(outerPathPoints);\n  const outerNode = rc.path(outerPath, options);\n  const innerPath = createPathFromPoints(innerPathPoints);\n  const innerNode = rc.path(innerPath, options);\n  const shape = shapeSvg.insert(() => outerNode, ":first-child");\n  shape.insert(() => innerNode);\n  shape.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    shape.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    shape.selectAll("path").attr("style", nodeStyles);\n  }\n  shape.attr("transform", `translate(0,${-waveAmplitude / 2})`);\n  label.attr(\n    "transform",\n    `translate(${-(bbox.width / 2) - rectOffset - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) + rectOffset - waveAmplitude / 2 - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, shape);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, outerPathPoints, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(multiWaveEdgedRectangle, "multiWaveEdgedRectangle");\n\n// src/rendering-util/rendering-elements/shapes/note.ts\n\nasync function note(parent, node, { config: { themeVariables } }) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const useHtmlLabels = node.useHtmlLabels || (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart?.htmlLabels !== false;\n  if (!useHtmlLabels) {\n    node.centerLabel = true;\n  }\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const totalWidth = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);\n  const totalHeight = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const x = -totalWidth / 2;\n  const y = -totalHeight / 2;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {\n    fill: themeVariables.noteBkgColor,\n    stroke: themeVariables.noteBorderColor\n  });\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const noteShapeNode = rc.rectangle(x, y, totalWidth, totalHeight, options);\n  const rect2 = shapeSvg.insert(() => noteShapeNode, ":first-child");\n  rect2.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    rect2.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    rect2.selectAll("path").attr("style", nodeStyles);\n  }\n  label.attr(\n    "transform",\n    `translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(note, "note");\n\n// src/rendering-util/rendering-elements/shapes/question.ts\n\nvar createDecisionBoxPathD = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((x, y, size) => {\n  return [\n    `M${x + size / 2},${y}`,\n    `L${x + size},${y - size / 2}`,\n    `L${x + size / 2},${y - size}`,\n    `L${x},${y - size / 2}`,\n    "Z"\n  ].join(" ");\n}, "createDecisionBoxPathD");\nasync function question(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const s = w + h;\n  const adjustment = 0.5;\n  const points = [\n    { x: s / 2, y: 0 },\n    { x: s, y: -s / 2 },\n    { x: s / 2, y: -s },\n    { x: 0, y: -s / 2 }\n  ];\n  let polygon;\n  const { cssStyles } = node;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n    const pathData = createDecisionBoxPathD(0, 0, s);\n    const roughNode = rc.path(pathData, options);\n    polygon = shapeSvg.insert(() => roughNode, ":first-child").attr("transform", `translate(${-s / 2 + adjustment}, ${s / 2})`);\n    if (cssStyles) {\n      polygon.attr("style", cssStyles);\n    }\n  } else {\n    polygon = insertPolygonShape(shapeSvg, s, s, points);\n    polygon.attr("transform", `translate(${-s / 2 + adjustment}, ${s / 2})`);\n  }\n  if (nodeStyles) {\n    polygon.attr("style", nodeStyles);\n  }\n  updateNodeBounds(node, polygon);\n  node.calcIntersect = function(bounds, point) {\n    const s2 = bounds.width;\n    const points2 = [\n      { x: s2 / 2, y: 0 },\n      { x: s2, y: -s2 / 2 },\n      { x: s2 / 2, y: -s2 },\n      { x: 0, y: -s2 / 2 }\n    ];\n    const res = intersect_default.polygon(bounds, points2, point);\n    return { x: res.x - 0.5, y: res.y - 0.5 };\n  };\n  node.intersect = function(point) {\n    return this.calcIntersect(node, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(question, "question");\n\n// src/rendering-util/rendering-elements/shapes/rectLeftInvArrow.ts\n\nasync function rect_left_inv_arrow(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(bbox.width + (node.padding ?? 0), node?.width ?? 0);\n  const h = Math.max(bbox.height + (node.padding ?? 0), node?.height ?? 0);\n  const x = -w / 2;\n  const y = -h / 2;\n  const notch = y / 2;\n  const points = [\n    { x: x + notch, y },\n    { x, y: 0 },\n    { x: x + notch, y: -y },\n    { x: -x, y: -y },\n    { x: -x, y }\n  ];\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const pathData = createPathFromPoints(points);\n  const roughNode = rc.path(pathData, options);\n  const polygon = shapeSvg.insert(() => roughNode, ":first-child");\n  polygon.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    polygon.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    polygon.selectAll("path").attr("style", nodeStyles);\n  }\n  polygon.attr("transform", `translate(${-notch / 2},0)`);\n  label.attr(\n    "transform",\n    `translate(${-notch / 2 - bbox.width / 2 - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(rect_left_inv_arrow, "rect_left_inv_arrow");\n\n// src/rendering-util/rendering-elements/shapes/rectWithTitle.ts\n\n\nasync function rectWithTitle(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  let classes;\n  if (!node.cssClasses) {\n    classes = "node default";\n  } else {\n    classes = "node " + node.cssClasses;\n  }\n  const shapeSvg = parent.insert("g").attr("class", classes).attr("id", node.domId || node.id);\n  const g = shapeSvg.insert("g");\n  const label = shapeSvg.insert("g").attr("class", "label").attr("style", nodeStyles);\n  const description = node.description;\n  const title = node.label;\n  const text2 = label.node().appendChild(await createLabel_default(title, node.labelStyle, true, true));\n  let bbox = { width: 0, height: 0 };\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()?.flowchart?.htmlLabels)) {\n    const div2 = text2.children[0];\n    const dv2 = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(text2);\n    bbox = div2.getBoundingClientRect();\n    dv2.attr("width", bbox.width);\n    dv2.attr("height", bbox.height);\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Text 2", description);\n  const textRows = description || [];\n  const titleBox = text2.getBBox();\n  const descr = label.node().appendChild(\n    await createLabel_default(\n      textRows.join ? textRows.join("<br/>") : textRows,\n      node.labelStyle,\n      true,\n      true\n    )\n  );\n  const div = descr.children[0];\n  const dv = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(descr);\n  bbox = div.getBoundingClientRect();\n  dv.attr("width", bbox.width);\n  dv.attr("height", bbox.height);\n  const halfPadding = (node.padding || 0) / 2;\n  (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(descr).attr(\n    "transform",\n    "translate( " + (bbox.width > titleBox.width ? 0 : (titleBox.width - bbox.width) / 2) + ", " + (titleBox.height + halfPadding + 5) + ")"\n  );\n  (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(text2).attr(\n    "transform",\n    "translate( " + (bbox.width < titleBox.width ? 0 : -(titleBox.width - bbox.width) / 2) + ", 0)"\n  );\n  bbox = label.node().getBBox();\n  label.attr(\n    "transform",\n    "translate(" + -bbox.width / 2 + ", " + (-bbox.height / 2 - halfPadding + 3) + ")"\n  );\n  const totalWidth = bbox.width + (node.padding || 0);\n  const totalHeight = bbox.height + (node.padding || 0);\n  const x = -bbox.width / 2 - halfPadding;\n  const y = -bbox.height / 2 - halfPadding;\n  let rect2;\n  let innerLine;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n    const roughNode = rc.path(\n      createRoundedRectPathD(x, y, totalWidth, totalHeight, node.rx || 0),\n      options\n    );\n    const roughLine = rc.line(\n      -bbox.width / 2 - halfPadding,\n      -bbox.height / 2 - halfPadding + titleBox.height + halfPadding,\n      bbox.width / 2 + halfPadding,\n      -bbox.height / 2 - halfPadding + titleBox.height + halfPadding,\n      options\n    );\n    innerLine = shapeSvg.insert(() => {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.debug("Rough node insert CXC", roughNode);\n      return roughLine;\n    }, ":first-child");\n    rect2 = shapeSvg.insert(() => {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.debug("Rough node insert CXC", roughNode);\n      return roughNode;\n    }, ":first-child");\n  } else {\n    rect2 = g.insert("rect", ":first-child");\n    innerLine = g.insert("line");\n    rect2.attr("class", "outer title-state").attr("style", nodeStyles).attr("x", -bbox.width / 2 - halfPadding).attr("y", -bbox.height / 2 - halfPadding).attr("width", bbox.width + (node.padding || 0)).attr("height", bbox.height + (node.padding || 0));\n    innerLine.attr("class", "divider").attr("x1", -bbox.width / 2 - halfPadding).attr("x2", bbox.width / 2 + halfPadding).attr("y1", -bbox.height / 2 - halfPadding + titleBox.height + halfPadding).attr("y2", -bbox.height / 2 - halfPadding + titleBox.height + halfPadding);\n  }\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(rectWithTitle, "rectWithTitle");\n\n// src/rendering-util/rendering-elements/shapes/roundedRect.ts\n\nfunction generateArcPoints2(x1, y1, x2, y2, rx, ry, clockwise) {\n  const numPoints = 20;\n  const midX = (x1 + x2) / 2;\n  const midY = (y1 + y2) / 2;\n  const angle = Math.atan2(y2 - y1, x2 - x1);\n  const dx = (x2 - x1) / 2;\n  const dy = (y2 - y1) / 2;\n  const transformedX = dx / rx;\n  const transformedY = dy / ry;\n  const distance = Math.sqrt(transformedX ** 2 + transformedY ** 2);\n  if (distance > 1) {\n    throw new Error("The given radii are too small to create an arc between the points.");\n  }\n  const scaledCenterDistance = Math.sqrt(1 - distance ** 2);\n  const centerX = midX + scaledCenterDistance * ry * Math.sin(angle) * (clockwise ? -1 : 1);\n  const centerY = midY - scaledCenterDistance * rx * Math.cos(angle) * (clockwise ? -1 : 1);\n  const startAngle = Math.atan2((y1 - centerY) / ry, (x1 - centerX) / rx);\n  const endAngle = Math.atan2((y2 - centerY) / ry, (x2 - centerX) / rx);\n  let angleRange = endAngle - startAngle;\n  if (clockwise && angleRange < 0) {\n    angleRange += 2 * Math.PI;\n  }\n  if (!clockwise && angleRange > 0) {\n    angleRange -= 2 * Math.PI;\n  }\n  const points = [];\n  for (let i = 0; i < numPoints; i++) {\n    const t = i / (numPoints - 1);\n    const angle2 = startAngle + t * angleRange;\n    const x = centerX + rx * Math.cos(angle2);\n    const y = centerY + ry * Math.sin(angle2);\n    points.push({ x, y });\n  }\n  return points;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(generateArcPoints2, "generateArcPoints");\nasync function roundedRect(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const labelPaddingX = node?.padding ?? 0;\n  const labelPaddingY = node?.padding ?? 0;\n  const w = (node?.width ? node?.width : bbox.width) + labelPaddingX * 2;\n  const h = (node?.height ? node?.height : bbox.height) + labelPaddingY * 2;\n  const radius = node.radius || 5;\n  const taper = node.taper || 5;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.stroke) {\n    options.stroke = node.stroke;\n  }\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const points = [\n    // Top edge (left to right)\n    { x: -w / 2 + taper, y: -h / 2 },\n    // Top-left corner start (1)\n    { x: w / 2 - taper, y: -h / 2 },\n    // Top-right corner start (2)\n    ...generateArcPoints2(w / 2 - taper, -h / 2, w / 2, -h / 2 + taper, radius, radius, true),\n    // Top-left arc (2 to 3)\n    // Right edge (top to bottom)\n    { x: w / 2, y: -h / 2 + taper },\n    // Top-right taper point (3)\n    { x: w / 2, y: h / 2 - taper },\n    // Bottom-right taper point (4)\n    ...generateArcPoints2(w / 2, h / 2 - taper, w / 2 - taper, h / 2, radius, radius, true),\n    // Top-left arc (4 to 5)\n    // Bottom edge (right to left)\n    { x: w / 2 - taper, y: h / 2 },\n    // Bottom-right corner start (5)\n    { x: -w / 2 + taper, y: h / 2 },\n    // Bottom-left corner start (6)\n    ...generateArcPoints2(-w / 2 + taper, h / 2, -w / 2, h / 2 - taper, radius, radius, true),\n    // Top-left arc (4 to 5)\n    // Left edge (bottom to top)\n    { x: -w / 2, y: h / 2 - taper },\n    // Bottom-left taper point (7)\n    { x: -w / 2, y: -h / 2 + taper },\n    // Top-left taper point (8)\n    ...generateArcPoints2(-w / 2, -h / 2 + taper, -w / 2 + taper, -h / 2, radius, radius, true)\n    // Top-left arc (4 to 5)\n  ];\n  const pathData = createPathFromPoints(points);\n  const shapeNode = rc.path(pathData, options);\n  const polygon = shapeSvg.insert(() => shapeNode, ":first-child");\n  polygon.attr("class", "basic label-container outer-path");\n  if (cssStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", nodeStyles);\n  }\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(roundedRect, "roundedRect");\n\n// src/rendering-util/rendering-elements/shapes/shadedProcess.ts\n\nasync function shadedProcess(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const halfPadding = node?.padding ?? 0;\n  const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);\n  const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const x = -bbox.width / 2 - halfPadding;\n  const y = -bbox.height / 2 - halfPadding;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const points = [\n    { x, y },\n    { x: x + w + 8, y },\n    { x: x + w + 8, y: y + h },\n    { x: x - 8, y: y + h },\n    { x: x - 8, y },\n    { x, y },\n    { x, y: y + h }\n  ];\n  const roughNode = rc.polygon(\n    points.map((p) => [p.x, p.y]),\n    options\n  );\n  const rect2 = shapeSvg.insert(() => roughNode, ":first-child");\n  rect2.attr("class", "basic label-container").attr("style", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(cssStyles));\n  if (nodeStyles && node.look !== "handDrawn") {\n    rect2.selectAll("path").attr("style", nodeStyles);\n  }\n  if (cssStyles && node.look !== "handDrawn") {\n    rect2.selectAll("path").attr("style", nodeStyles);\n  }\n  label.attr(\n    "transform",\n    `translate(${-w / 2 + 4 + (node.padding ?? 0) - (bbox.x - (bbox.left ?? 0))},${-h / 2 + (node.padding ?? 0) - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(shadedProcess, "shadedProcess");\n\n// src/rendering-util/rendering-elements/shapes/slopedRect.ts\n\nasync function slopedRect(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);\n  const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const x = -w / 2;\n  const y = -h / 2;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const points = [\n    { x, y },\n    { x, y: y + h },\n    { x: x + w, y: y + h },\n    { x: x + w, y: y - h / 2 }\n  ];\n  const pathData = createPathFromPoints(points);\n  const shapeNode = rc.path(pathData, options);\n  const polygon = shapeSvg.insert(() => shapeNode, ":first-child");\n  polygon.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", nodeStyles);\n  }\n  polygon.attr("transform", `translate(0, ${h / 4})`);\n  label.attr(\n    "transform",\n    `translate(${-w / 2 + (node.padding ?? 0) - (bbox.x - (bbox.left ?? 0))}, ${-h / 4 + (node.padding ?? 0) - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(slopedRect, "slopedRect");\n\n// src/rendering-util/rendering-elements/shapes/squareRect.ts\nasync function squareRect2(parent, node) {\n  const options = {\n    rx: 0,\n    ry: 0,\n    classes: "",\n    labelPaddingX: node.labelPaddingX ?? (node?.padding || 0) * 2,\n    labelPaddingY: (node?.padding || 0) * 1\n  };\n  return drawRect(parent, node, options);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(squareRect2, "squareRect");\n\n// src/rendering-util/rendering-elements/shapes/stadium.ts\n\nasync function stadium(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const h = bbox.height + node.padding;\n  const w = bbox.width + h / 4 + node.padding;\n  const radius = h / 2;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const points = [\n    { x: -w / 2 + radius, y: -h / 2 },\n    { x: w / 2 - radius, y: -h / 2 },\n    ...generateCirclePoints(-w / 2 + radius, 0, radius, 50, 90, 270),\n    { x: w / 2 - radius, y: h / 2 },\n    ...generateCirclePoints(w / 2 - radius, 0, radius, 50, 270, 450)\n  ];\n  const pathData = createPathFromPoints(points);\n  const shapeNode = rc.path(pathData, options);\n  const polygon = shapeSvg.insert(() => shapeNode, ":first-child");\n  polygon.attr("class", "basic label-container outer-path");\n  if (cssStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", nodeStyles);\n  }\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(stadium, "stadium");\n\n// src/rendering-util/rendering-elements/shapes/state.ts\nasync function state(parent, node) {\n  const options = {\n    rx: 5,\n    ry: 5,\n    classes: "flowchart-node"\n  };\n  return drawRect(parent, node, options);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(state, "state");\n\n// src/rendering-util/rendering-elements/shapes/stateEnd.ts\n\nfunction stateEnd(parent, node, { config: { themeVariables } }) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { cssStyles } = node;\n  const { lineColor, stateBorder, nodeBorder } = themeVariables;\n  const shapeSvg = parent.insert("g").attr("class", "node default").attr("id", node.domId || node.id);\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const roughNode = rc.circle(0, 0, 14, {\n    ...options,\n    stroke: lineColor,\n    strokeWidth: 2\n  });\n  const innerFill = stateBorder ?? nodeBorder;\n  const roughInnerNode = rc.circle(0, 0, 5, {\n    ...options,\n    fill: innerFill,\n    stroke: innerFill,\n    strokeWidth: 2,\n    fillStyle: "solid"\n  });\n  const circle2 = shapeSvg.insert(() => roughNode, ":first-child");\n  circle2.insert(() => roughInnerNode);\n  if (cssStyles) {\n    circle2.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles) {\n    circle2.selectAll("path").attr("style", nodeStyles);\n  }\n  updateNodeBounds(node, circle2);\n  node.intersect = function(point) {\n    return intersect_default.circle(node, 7, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(stateEnd, "stateEnd");\n\n// src/rendering-util/rendering-elements/shapes/stateStart.ts\n\nfunction stateStart(parent, node, { config: { themeVariables } }) {\n  const { lineColor } = themeVariables;\n  const shapeSvg = parent.insert("g").attr("class", "node default").attr("id", node.domId || node.id);\n  let circle2;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const roughNode = rc.circle(0, 0, 14, (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.solidStateFill)(lineColor));\n    circle2 = shapeSvg.insert(() => roughNode);\n    circle2.attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14);\n  } else {\n    circle2 = shapeSvg.insert("circle", ":first-child");\n    circle2.attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14);\n  }\n  updateNodeBounds(node, circle2);\n  node.intersect = function(point) {\n    return intersect_default.circle(node, 7, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(stateStart, "stateStart");\n\n// src/rendering-util/rendering-elements/shapes/subroutine.ts\n\nasync function subroutine(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const halfPadding = (node?.padding || 0) / 2;\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const x = -bbox.width / 2 - halfPadding;\n  const y = -bbox.height / 2 - halfPadding;\n  const points = [\n    { x: 0, y: 0 },\n    { x: w, y: 0 },\n    { x: w, y: -h },\n    { x: 0, y: -h },\n    { x: 0, y: 0 },\n    { x: -8, y: 0 },\n    { x: w + 8, y: 0 },\n    { x: w + 8, y: -h },\n    { x: -8, y: -h },\n    { x: -8, y: 0 }\n  ];\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n    const roughNode = rc.rectangle(x - 8, y, w + 16, h, options);\n    const l1 = rc.line(x, y, x, y + h, options);\n    const l2 = rc.line(x + w, y, x + w, y + h, options);\n    shapeSvg.insert(() => l1, ":first-child");\n    shapeSvg.insert(() => l2, ":first-child");\n    const rect2 = shapeSvg.insert(() => roughNode, ":first-child");\n    const { cssStyles } = node;\n    rect2.attr("class", "basic label-container").attr("style", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(cssStyles));\n    updateNodeBounds(node, rect2);\n  } else {\n    const el = insertPolygonShape(shapeSvg, w, h, points);\n    if (nodeStyles) {\n      el.attr("style", nodeStyles);\n    }\n    updateNodeBounds(node, el);\n  }\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(subroutine, "subroutine");\n\n// src/rendering-util/rendering-elements/shapes/taggedRect.ts\n\nasync function taggedRect(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);\n  const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const x = -w / 2;\n  const y = -h / 2;\n  const tagWidth = 0.2 * h;\n  const tagHeight = 0.2 * h;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  const rectPoints = [\n    { x: x - tagWidth / 2, y },\n    { x: x + w + tagWidth / 2, y },\n    { x: x + w + tagWidth / 2, y: y + h },\n    { x: x - tagWidth / 2, y: y + h }\n  ];\n  const tagPoints = [\n    { x: x + w - tagWidth / 2, y: y + h },\n    { x: x + w + tagWidth / 2, y: y + h },\n    { x: x + w + tagWidth / 2, y: y + h - tagHeight }\n  ];\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const rectPath = createPathFromPoints(rectPoints);\n  const rectNode = rc.path(rectPath, options);\n  const tagPath = createPathFromPoints(tagPoints);\n  const tagNode = rc.path(tagPath, { ...options, fillStyle: "solid" });\n  const taggedRect2 = shapeSvg.insert(() => tagNode, ":first-child");\n  taggedRect2.insert(() => rectNode, ":first-child");\n  taggedRect2.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    taggedRect2.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    taggedRect2.selectAll("path").attr("style", nodeStyles);\n  }\n  updateNodeBounds(node, taggedRect2);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, rectPoints, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(taggedRect, "taggedRect");\n\n// src/rendering-util/rendering-elements/shapes/taggedWaveEdgedRectangle.ts\n\nasync function taggedWaveEdgedRectangle(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);\n  const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const waveAmplitude = h / 4;\n  const tagWidth = 0.2 * w;\n  const tagHeight = 0.2 * h;\n  const finalH = h + waveAmplitude;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const points = [\n    { x: -w / 2 - w / 2 * 0.1, y: finalH / 2 },\n    ...generateFullSineWavePoints(\n      -w / 2 - w / 2 * 0.1,\n      finalH / 2,\n      w / 2 + w / 2 * 0.1,\n      finalH / 2,\n      waveAmplitude,\n      0.8\n    ),\n    { x: w / 2 + w / 2 * 0.1, y: -finalH / 2 },\n    { x: -w / 2 - w / 2 * 0.1, y: -finalH / 2 }\n  ];\n  const x = -w / 2 + w / 2 * 0.1;\n  const y = -finalH / 2 - tagHeight * 0.4;\n  const tagPoints = [\n    { x: x + w - tagWidth, y: (y + h) * 1.4 },\n    { x: x + w, y: y + h - tagHeight },\n    { x: x + w, y: (y + h) * 0.9 },\n    ...generateFullSineWavePoints(\n      x + w,\n      (y + h) * 1.3,\n      x + w - tagWidth,\n      (y + h) * 1.5,\n      -h * 0.03,\n      0.5\n    )\n  ];\n  const waveEdgeRectPath = createPathFromPoints(points);\n  const waveEdgeRectNode = rc.path(waveEdgeRectPath, options);\n  const taggedWaveEdgeRectPath = createPathFromPoints(tagPoints);\n  const taggedWaveEdgeRectNode = rc.path(taggedWaveEdgeRectPath, {\n    ...options,\n    fillStyle: "solid"\n  });\n  const waveEdgeRect = shapeSvg.insert(() => taggedWaveEdgeRectNode, ":first-child");\n  waveEdgeRect.insert(() => waveEdgeRectNode, ":first-child");\n  waveEdgeRect.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    waveEdgeRect.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    waveEdgeRect.selectAll("path").attr("style", nodeStyles);\n  }\n  waveEdgeRect.attr("transform", `translate(0,${-waveAmplitude / 2})`);\n  label.attr(\n    "transform",\n    `translate(${-w / 2 + (node.padding ?? 0) - (bbox.x - (bbox.left ?? 0))},${-h / 2 + (node.padding ?? 0) - waveAmplitude / 2 - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, waveEdgeRect);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(taggedWaveEdgedRectangle, "taggedWaveEdgedRectangle");\n\n// src/rendering-util/rendering-elements/shapes/text.ts\nasync function text(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const totalWidth = Math.max(bbox.width + node.padding, node?.width || 0);\n  const totalHeight = Math.max(bbox.height + node.padding, node?.height || 0);\n  const x = -totalWidth / 2;\n  const y = -totalHeight / 2;\n  const rect2 = shapeSvg.insert("rect", ":first-child");\n  rect2.attr("class", "text").attr("style", nodeStyles).attr("rx", 0).attr("ry", 0).attr("x", x).attr("y", y).attr("width", totalWidth).attr("height", totalHeight);\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(text, "text");\n\n// src/rendering-util/rendering-elements/shapes/tiltedCylinder.ts\n\nvar createCylinderPathD3 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((x, y, width, height, rx, ry) => {\n  return `M${x},${y}\n    a${rx},${ry} 0,0,1 ${0},${-height}\n    l${width},${0}\n    a${rx},${ry} 0,0,1 ${0},${height}\n    M${width},${-height}\n    a${rx},${ry} 0,0,0 ${0},${height}\n    l${-width},${0}`;\n}, "createCylinderPathD");\nvar createOuterCylinderPathD3 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((x, y, width, height, rx, ry) => {\n  return [\n    `M${x},${y}`,\n    `M${x + width},${y}`,\n    `a${rx},${ry} 0,0,0 ${0},${-height}`,\n    `l${-width},0`,\n    `a${rx},${ry} 0,0,0 ${0},${height}`,\n    `l${width},0`\n  ].join(" ");\n}, "createOuterCylinderPathD");\nvar createInnerCylinderPathD3 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((x, y, width, height, rx, ry) => {\n  return [`M${x + width / 2},${-height / 2}`, `a${rx},${ry} 0,0,0 0,${height}`].join(" ");\n}, "createInnerCylinderPathD");\nasync function tiltedCylinder(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label, halfPadding } = await labelHelper(\n    parent,\n    node,\n    getNodeClasses(node)\n  );\n  const labelPadding = node.look === "neo" ? halfPadding * 2 : halfPadding;\n  const h = bbox.height + labelPadding;\n  const ry = h / 2;\n  const rx = ry / (2.5 + h / 50);\n  const w = bbox.width + rx + labelPadding;\n  const { cssStyles } = node;\n  let cylinder2;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const outerPathData = createOuterCylinderPathD3(0, 0, w, h, rx, ry);\n    const innerPathData = createInnerCylinderPathD3(0, 0, w, h, rx, ry);\n    const outerNode = rc.path(outerPathData, (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {}));\n    const innerLine = rc.path(innerPathData, (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, { fill: "none" }));\n    cylinder2 = shapeSvg.insert(() => innerLine, ":first-child");\n    cylinder2 = shapeSvg.insert(() => outerNode, ":first-child");\n    cylinder2.attr("class", "basic label-container");\n    if (cssStyles) {\n      cylinder2.attr("style", cssStyles);\n    }\n  } else {\n    const pathData = createCylinderPathD3(0, 0, w, h, rx, ry);\n    cylinder2 = shapeSvg.insert("path", ":first-child").attr("d", pathData).attr("class", "basic label-container").attr("style", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(cssStyles)).attr("style", nodeStyles);\n    cylinder2.attr("class", "basic label-container");\n    if (cssStyles) {\n      cylinder2.selectAll("path").attr("style", cssStyles);\n    }\n    if (nodeStyles) {\n      cylinder2.selectAll("path").attr("style", nodeStyles);\n    }\n  }\n  cylinder2.attr("label-offset-x", rx);\n  cylinder2.attr("transform", `translate(${-w / 2}, ${h / 2} )`);\n  label.attr(\n    "transform",\n    `translate(${-(bbox.width / 2) - rx - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, cylinder2);\n  node.intersect = function(point) {\n    const pos = intersect_default.rect(node, point);\n    const y = pos.y - (node.y ?? 0);\n    if (ry != 0 && (Math.abs(y) < (node.height ?? 0) / 2 || Math.abs(y) == (node.height ?? 0) / 2 && Math.abs(pos.x - (node.x ?? 0)) > (node.width ?? 0) / 2 - rx)) {\n      let x = rx * rx * (1 - y * y / (ry * ry));\n      if (x != 0) {\n        x = Math.sqrt(Math.abs(x));\n      }\n      x = rx - x;\n      if (point.x - (node.x ?? 0) > 0) {\n        x = -x;\n      }\n      pos.x += x;\n    }\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(tiltedCylinder, "tiltedCylinder");\n\n// src/rendering-util/rendering-elements/shapes/trapezoid.ts\n\nasync function trapezoid(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: -3 * h / 6, y: 0 },\n    { x: w + 3 * h / 6, y: 0 },\n    { x: w, y: -h },\n    { x: 0, y: -h }\n  ];\n  let polygon;\n  const { cssStyles } = node;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n    const pathData = createPathFromPoints(points);\n    const roughNode = rc.path(pathData, options);\n    polygon = shapeSvg.insert(() => roughNode, ":first-child").attr("transform", `translate(${-w / 2}, ${h / 2})`);\n    if (cssStyles) {\n      polygon.attr("style", cssStyles);\n    }\n  } else {\n    polygon = insertPolygonShape(shapeSvg, w, h, points);\n  }\n  if (nodeStyles) {\n    polygon.attr("style", nodeStyles);\n  }\n  node.width = w;\n  node.height = h;\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(trapezoid, "trapezoid");\n\n// src/rendering-util/rendering-elements/shapes/trapezoidalPentagon.ts\n\nasync function trapezoidalPentagon(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const minWidth = 60, minHeight = 20;\n  const w = Math.max(minWidth, bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);\n  const h = Math.max(minHeight, bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const points = [\n    { x: -w / 2 * 0.8, y: -h / 2 },\n    { x: w / 2 * 0.8, y: -h / 2 },\n    { x: w / 2, y: -h / 2 * 0.6 },\n    { x: w / 2, y: h / 2 },\n    { x: -w / 2, y: h / 2 },\n    { x: -w / 2, y: -h / 2 * 0.6 }\n  ];\n  const pathData = createPathFromPoints(points);\n  const shapeNode = rc.path(pathData, options);\n  const polygon = shapeSvg.insert(() => shapeNode, ":first-child");\n  polygon.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", nodeStyles);\n  }\n  updateNodeBounds(node, polygon);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(trapezoidalPentagon, "trapezoidalPentagon");\n\n// src/rendering-util/rendering-elements/shapes/triangle.ts\n\nasync function triangle(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const useHtmlLabels = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)().flowchart?.htmlLabels);\n  const w = bbox.width + (node.padding ?? 0);\n  const h = w + bbox.height;\n  const tw = w + bbox.height;\n  const points = [\n    { x: 0, y: 0 },\n    { x: tw, y: 0 },\n    { x: tw / 2, y: -h }\n  ];\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const pathData = createPathFromPoints(points);\n  const roughNode = rc.path(pathData, options);\n  const polygon = shapeSvg.insert(() => roughNode, ":first-child").attr("transform", `translate(${-h / 2}, ${h / 2})`);\n  if (cssStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    polygon.selectChildren("path").attr("style", nodeStyles);\n  }\n  node.width = w;\n  node.height = h;\n  updateNodeBounds(node, polygon);\n  label.attr(\n    "transform",\n    `translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))}, ${h / 2 - (bbox.height + (node.padding ?? 0) / (useHtmlLabels ? 2 : 1) - (bbox.y - (bbox.top ?? 0)))})`\n  );\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Triangle intersect", node, points, point);\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(triangle, "triangle");\n\n// src/rendering-util/rendering-elements/shapes/waveEdgedRectangle.ts\n\nasync function waveEdgedRectangle(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);\n  const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const waveAmplitude = h / 8;\n  const finalH = h + waveAmplitude;\n  const { cssStyles } = node;\n  const minWidth = 70;\n  const widthDif = minWidth - w;\n  const extraW = widthDif > 0 ? widthDif / 2 : 0;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const points = [\n    { x: -w / 2 - extraW, y: finalH / 2 },\n    ...generateFullSineWavePoints(\n      -w / 2 - extraW,\n      finalH / 2,\n      w / 2 + extraW,\n      finalH / 2,\n      waveAmplitude,\n      0.8\n    ),\n    { x: w / 2 + extraW, y: -finalH / 2 },\n    { x: -w / 2 - extraW, y: -finalH / 2 }\n  ];\n  const waveEdgeRectPath = createPathFromPoints(points);\n  const waveEdgeRectNode = rc.path(waveEdgeRectPath, options);\n  const waveEdgeRect = shapeSvg.insert(() => waveEdgeRectNode, ":first-child");\n  waveEdgeRect.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    waveEdgeRect.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    waveEdgeRect.selectAll("path").attr("style", nodeStyles);\n  }\n  waveEdgeRect.attr("transform", `translate(0,${-waveAmplitude / 2})`);\n  label.attr(\n    "transform",\n    `translate(${-w / 2 + (node.padding ?? 0) - (bbox.x - (bbox.left ?? 0))},${-h / 2 + (node.padding ?? 0) - waveAmplitude - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, waveEdgeRect);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(waveEdgedRectangle, "waveEdgedRectangle");\n\n// src/rendering-util/rendering-elements/shapes/waveRectangle.ts\n\nasync function waveRectangle(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));\n  const minWidth = 100;\n  const minHeight = 50;\n  const baseWidth = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);\n  const baseHeight = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const aspectRatio = baseWidth / baseHeight;\n  let w = baseWidth;\n  let h = baseHeight;\n  if (w > h * aspectRatio) {\n    h = w / aspectRatio;\n  } else {\n    w = h * aspectRatio;\n  }\n  w = Math.max(w, minWidth);\n  h = Math.max(h, minHeight);\n  const waveAmplitude = Math.min(h * 0.2, h / 4);\n  const finalH = h + waveAmplitude * 2;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const points = [\n    { x: -w / 2, y: finalH / 2 },\n    ...generateFullSineWavePoints(-w / 2, finalH / 2, w / 2, finalH / 2, waveAmplitude, 1),\n    { x: w / 2, y: -finalH / 2 },\n    ...generateFullSineWavePoints(w / 2, -finalH / 2, -w / 2, -finalH / 2, waveAmplitude, -1)\n  ];\n  const waveRectPath = createPathFromPoints(points);\n  const waveRectNode = rc.path(waveRectPath, options);\n  const waveRect = shapeSvg.insert(() => waveRectNode, ":first-child");\n  waveRect.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    waveRect.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    waveRect.selectAll("path").attr("style", nodeStyles);\n  }\n  updateNodeBounds(node, waveRect);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, points, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(waveRectangle, "waveRectangle");\n\n// src/rendering-util/rendering-elements/shapes/windowPane.ts\n\nasync function windowPane(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));\n  const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);\n  const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);\n  const rectOffset = 5;\n  const x = -w / 2;\n  const y = -h / 2;\n  const { cssStyles } = node;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  const outerPathPoints = [\n    { x: x - rectOffset, y: y - rectOffset },\n    { x: x - rectOffset, y: y + h },\n    { x: x + w, y: y + h },\n    { x: x + w, y: y - rectOffset }\n  ];\n  const path = `M${x - rectOffset},${y - rectOffset} L${x + w},${y - rectOffset} L${x + w},${y + h} L${x - rectOffset},${y + h} L${x - rectOffset},${y - rectOffset}\n                M${x - rectOffset},${y} L${x + w},${y}\n                M${x},${y - rectOffset} L${x},${y + h}`;\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const no = rc.path(path, options);\n  const windowPane2 = shapeSvg.insert(() => no, ":first-child");\n  windowPane2.attr("transform", `translate(${rectOffset / 2}, ${rectOffset / 2})`);\n  windowPane2.attr("class", "basic label-container");\n  if (cssStyles && node.look !== "handDrawn") {\n    windowPane2.selectAll("path").attr("style", cssStyles);\n  }\n  if (nodeStyles && node.look !== "handDrawn") {\n    windowPane2.selectAll("path").attr("style", nodeStyles);\n  }\n  label.attr(\n    "transform",\n    `translate(${-(bbox.width / 2) + rectOffset / 2 - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) + rectOffset / 2 - (bbox.y - (bbox.top ?? 0))})`\n  );\n  updateNodeBounds(node, windowPane2);\n  node.intersect = function(point) {\n    const pos = intersect_default.polygon(node, outerPathPoints, point);\n    return pos;\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(windowPane, "windowPane");\n\n// src/rendering-util/rendering-elements/shapes/erBox.ts\n\n\nasync function erBox(parent, node) {\n  const entityNode = node;\n  if (entityNode.alias) {\n    node.label = entityNode.alias;\n  }\n  if (node.look === "handDrawn") {\n    const { themeVariables: themeVariables2 } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig)();\n    const { background } = themeVariables2;\n    const backgroundNode = {\n      ...node,\n      id: node.id + "-background",\n      look: "default",\n      cssStyles: ["stroke: none", `fill: ${background}`]\n    };\n    await erBox(parent, backgroundNode);\n  }\n  const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig)();\n  node.useHtmlLabels = config.htmlLabels;\n  let PADDING = config.er?.diagramPadding ?? 10;\n  let TEXT_PADDING = config.er?.entityPadding ?? 6;\n  const { cssStyles } = node;\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  if (entityNode.attributes.length === 0 && node.label) {\n    const options2 = {\n      rx: 0,\n      ry: 0,\n      labelPaddingX: PADDING,\n      labelPaddingY: PADDING * 1.5,\n      classes: ""\n    };\n    if ((0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.calculateTextWidth)(node.label, config) + options2.labelPaddingX * 2 < config.er.minEntityWidth) {\n      node.width = config.er.minEntityWidth;\n    }\n    const shapeSvg2 = await drawRect(parent, node, options2);\n    if (!(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)(config.htmlLabels)) {\n      const textElement = shapeSvg2.select("text");\n      const bbox = textElement.node()?.getBBox();\n      textElement.attr("transform", `translate(${-bbox.width / 2}, 0)`);\n    }\n    return shapeSvg2;\n  }\n  if (!config.htmlLabels) {\n    PADDING *= 1.25;\n    TEXT_PADDING *= 1.25;\n  }\n  let cssClasses = getNodeClasses(node);\n  if (!cssClasses) {\n    cssClasses = "node default";\n  }\n  const shapeSvg = parent.insert("g").attr("class", cssClasses).attr("id", node.domId || node.id);\n  const nameBBox = await addText(shapeSvg, node.label ?? "", config, 0, 0, ["name"], labelStyles);\n  nameBBox.height += TEXT_PADDING;\n  let yOffset = 0;\n  const yOffsets = [];\n  const rows = [];\n  let maxTypeWidth = 0;\n  let maxNameWidth = 0;\n  let maxKeysWidth = 0;\n  let maxCommentWidth = 0;\n  let keysPresent = true;\n  let commentPresent = true;\n  for (const attribute of entityNode.attributes) {\n    const typeBBox = await addText(\n      shapeSvg,\n      attribute.type,\n      config,\n      0,\n      yOffset,\n      ["attribute-type"],\n      labelStyles\n    );\n    maxTypeWidth = Math.max(maxTypeWidth, typeBBox.width + PADDING);\n    const nameBBox2 = await addText(\n      shapeSvg,\n      attribute.name,\n      config,\n      0,\n      yOffset,\n      ["attribute-name"],\n      labelStyles\n    );\n    maxNameWidth = Math.max(maxNameWidth, nameBBox2.width + PADDING);\n    const keysBBox = await addText(\n      shapeSvg,\n      attribute.keys.join(),\n      config,\n      0,\n      yOffset,\n      ["attribute-keys"],\n      labelStyles\n    );\n    maxKeysWidth = Math.max(maxKeysWidth, keysBBox.width + PADDING);\n    const commentBBox = await addText(\n      shapeSvg,\n      attribute.comment,\n      config,\n      0,\n      yOffset,\n      ["attribute-comment"],\n      labelStyles\n    );\n    maxCommentWidth = Math.max(maxCommentWidth, commentBBox.width + PADDING);\n    const rowHeight = Math.max(typeBBox.height, nameBBox2.height, keysBBox.height, commentBBox.height) + TEXT_PADDING;\n    rows.push({ yOffset, rowHeight });\n    yOffset += rowHeight;\n  }\n  let totalWidthSections = 4;\n  if (maxKeysWidth <= PADDING) {\n    keysPresent = false;\n    maxKeysWidth = 0;\n    totalWidthSections--;\n  }\n  if (maxCommentWidth <= PADDING) {\n    commentPresent = false;\n    maxCommentWidth = 0;\n    totalWidthSections--;\n  }\n  const shapeBBox = shapeSvg.node().getBBox();\n  if (nameBBox.width + PADDING * 2 - (maxTypeWidth + maxNameWidth + maxKeysWidth + maxCommentWidth) > 0) {\n    const difference = nameBBox.width + PADDING * 2 - (maxTypeWidth + maxNameWidth + maxKeysWidth + maxCommentWidth);\n    maxTypeWidth += difference / totalWidthSections;\n    maxNameWidth += difference / totalWidthSections;\n    if (maxKeysWidth > 0) {\n      maxKeysWidth += difference / totalWidthSections;\n    }\n    if (maxCommentWidth > 0) {\n      maxCommentWidth += difference / totalWidthSections;\n    }\n  }\n  const maxWidth = maxTypeWidth + maxNameWidth + maxKeysWidth + maxCommentWidth;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  let totalShapeBBoxHeight = 0;\n  if (rows.length > 0) {\n    totalShapeBBoxHeight = rows.reduce((sum, row) => sum + (row?.rowHeight ?? 0), 0);\n  }\n  const w = Math.max(shapeBBox.width + PADDING * 2, node?.width || 0, maxWidth);\n  const h = Math.max((totalShapeBBoxHeight ?? 0) + nameBBox.height, node?.height || 0);\n  const x = -w / 2;\n  const y = -h / 2;\n  shapeSvg.selectAll("g:not(:first-child)").each((_, i, nodes) => {\n    const text2 = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(nodes[i]);\n    const transform = text2.attr("transform");\n    let translateX = 0;\n    let translateY = 0;\n    if (transform) {\n      const regex = RegExp(/translate\\(([^,]+),([^)]+)\\)/);\n      const translate = regex.exec(transform);\n      if (translate) {\n        translateX = parseFloat(translate[1]);\n        translateY = parseFloat(translate[2]);\n        if (text2.attr("class").includes("attribute-name")) {\n          translateX += maxTypeWidth;\n        } else if (text2.attr("class").includes("attribute-keys")) {\n          translateX += maxTypeWidth + maxNameWidth;\n        } else if (text2.attr("class").includes("attribute-comment")) {\n          translateX += maxTypeWidth + maxNameWidth + maxKeysWidth;\n        }\n      }\n    }\n    text2.attr(\n      "transform",\n      `translate(${x + PADDING / 2 + translateX}, ${translateY + y + nameBBox.height + TEXT_PADDING / 2})`\n    );\n  });\n  shapeSvg.select(".name").attr("transform", "translate(" + -nameBBox.width / 2 + ", " + (y + TEXT_PADDING / 2) + ")");\n  const roughRect = rc.rectangle(x, y, w, h, options);\n  const rect2 = shapeSvg.insert(() => roughRect, ":first-child").attr("style", cssStyles.join(""));\n  const { themeVariables } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig)();\n  const { rowEven, rowOdd, nodeBorder } = themeVariables;\n  yOffsets.push(0);\n  for (const [i, row] of rows.entries()) {\n    const contentRowIndex = i + 1;\n    const isEven = contentRowIndex % 2 === 0 && row.yOffset !== 0;\n    const roughRect2 = rc.rectangle(x, nameBBox.height + y + row?.yOffset, w, row?.rowHeight, {\n      ...options,\n      fill: isEven ? rowEven : rowOdd,\n      stroke: nodeBorder\n    });\n    shapeSvg.insert(() => roughRect2, "g.label").attr("style", cssStyles.join("")).attr("class", `row-rect-${isEven ? "even" : "odd"}`);\n  }\n  let roughLine = rc.line(x, nameBBox.height + y, w + x, nameBBox.height + y, options);\n  shapeSvg.insert(() => roughLine).attr("class", "divider");\n  roughLine = rc.line(maxTypeWidth + x, nameBBox.height + y, maxTypeWidth + x, h + y, options);\n  shapeSvg.insert(() => roughLine).attr("class", "divider");\n  if (keysPresent) {\n    roughLine = rc.line(\n      maxTypeWidth + maxNameWidth + x,\n      nameBBox.height + y,\n      maxTypeWidth + maxNameWidth + x,\n      h + y,\n      options\n    );\n    shapeSvg.insert(() => roughLine).attr("class", "divider");\n  }\n  if (commentPresent) {\n    roughLine = rc.line(\n      maxTypeWidth + maxNameWidth + maxKeysWidth + x,\n      nameBBox.height + y,\n      maxTypeWidth + maxNameWidth + maxKeysWidth + x,\n      h + y,\n      options\n    );\n    shapeSvg.insert(() => roughLine).attr("class", "divider");\n  }\n  for (const yOffset2 of yOffsets) {\n    roughLine = rc.line(\n      x,\n      nameBBox.height + y + yOffset2,\n      w + x,\n      nameBBox.height + y + yOffset2,\n      options\n    );\n    shapeSvg.insert(() => roughLine).attr("class", "divider");\n  }\n  updateNodeBounds(node, rect2);\n  if (nodeStyles && node.look !== "handDrawn") {\n    const allStyle = nodeStyles.split(";");\n    const strokeStyles = allStyle?.filter((e) => {\n      return e.includes("stroke");\n    })?.map((s) => `${s}`).join("; ");\n    shapeSvg.selectAll("path").attr("style", strokeStyles ?? "");\n    shapeSvg.selectAll(".row-rect-even path").attr("style", nodeStyles);\n  }\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(erBox, "erBox");\nasync function addText(shapeSvg, labelText, config, translateX = 0, translateY = 0, classes = [], style = "") {\n  const label = shapeSvg.insert("g").attr("class", `label ${classes.join(" ")}`).attr("transform", `translate(${translateX}, ${translateY})`).attr("style", style);\n  if (labelText !== (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.parseGenericTypes)(labelText)) {\n    labelText = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.parseGenericTypes)(labelText);\n    labelText = labelText.replaceAll("<", "&lt;").replaceAll(">", "&gt;");\n  }\n  const text2 = label.node().appendChild(\n    await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.createText)(\n      label,\n      labelText,\n      {\n        width: (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.calculateTextWidth)(labelText, config) + 100,\n        style,\n        useHtmlLabels: config.htmlLabels\n      },\n      config\n    )\n  );\n  if (labelText.includes("&lt;") || labelText.includes("&gt;")) {\n    let child = text2.children[0];\n    child.textContent = child.textContent.replaceAll("&lt;", "<").replaceAll("&gt;", ">");\n    while (child.childNodes[0]) {\n      child = child.childNodes[0];\n      child.textContent = child.textContent.replaceAll("&lt;", "<").replaceAll("&gt;", ">");\n    }\n  }\n  let bbox = text2.getBBox();\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)(config.htmlLabels)) {\n    const div = text2.children[0];\n    div.style.textAlign = "start";\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(text2);\n    bbox = div.getBoundingClientRect();\n    dv.attr("width", bbox.width);\n    dv.attr("height", bbox.height);\n  }\n  return bbox;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(addText, "addText");\n\n// src/rendering-util/rendering-elements/shapes/classBox.ts\n\n\n\n// src/diagrams/class/shapeUtil.ts\n\nasync function textHelper(parent, node, config, useHtmlLabels, GAP = config.class.padding ?? 12) {\n  const TEXT_PADDING = !useHtmlLabels ? 3 : 0;\n  const shapeSvg = parent.insert("g").attr("class", getNodeClasses(node)).attr("id", node.domId || node.id);\n  let annotationGroup = null;\n  let labelGroup = null;\n  let membersGroup = null;\n  let methodsGroup = null;\n  let annotationGroupHeight = 0;\n  let labelGroupHeight = 0;\n  let membersGroupHeight = 0;\n  annotationGroup = shapeSvg.insert("g").attr("class", "annotation-group text");\n  if (node.annotations.length > 0) {\n    const annotation = node.annotations[0];\n    await addText2(annotationGroup, { text: `\\xAB${annotation}\\xBB` }, 0);\n    const annotationGroupBBox = annotationGroup.node().getBBox();\n    annotationGroupHeight = annotationGroupBBox.height;\n  }\n  labelGroup = shapeSvg.insert("g").attr("class", "label-group text");\n  await addText2(labelGroup, node, 0, ["font-weight: bolder"]);\n  const labelGroupBBox = labelGroup.node().getBBox();\n  labelGroupHeight = labelGroupBBox.height;\n  membersGroup = shapeSvg.insert("g").attr("class", "members-group text");\n  let yOffset = 0;\n  for (const member of node.members) {\n    const height = await addText2(membersGroup, member, yOffset, [member.parseClassifier()]);\n    yOffset += height + TEXT_PADDING;\n  }\n  membersGroupHeight = membersGroup.node().getBBox().height;\n  if (membersGroupHeight <= 0) {\n    membersGroupHeight = GAP / 2;\n  }\n  methodsGroup = shapeSvg.insert("g").attr("class", "methods-group text");\n  let methodsYOffset = 0;\n  for (const method of node.methods) {\n    const height = await addText2(methodsGroup, method, methodsYOffset, [method.parseClassifier()]);\n    methodsYOffset += height + TEXT_PADDING;\n  }\n  let bbox = shapeSvg.node().getBBox();\n  if (annotationGroup !== null) {\n    const annotationGroupBBox = annotationGroup.node().getBBox();\n    annotationGroup.attr("transform", `translate(${-annotationGroupBBox.width / 2})`);\n  }\n  labelGroup.attr("transform", `translate(${-labelGroupBBox.width / 2}, ${annotationGroupHeight})`);\n  bbox = shapeSvg.node().getBBox();\n  membersGroup.attr(\n    "transform",\n    `translate(${0}, ${annotationGroupHeight + labelGroupHeight + GAP * 2})`\n  );\n  bbox = shapeSvg.node().getBBox();\n  methodsGroup.attr(\n    "transform",\n    `translate(${0}, ${annotationGroupHeight + labelGroupHeight + (membersGroupHeight ? membersGroupHeight + GAP * 4 : GAP * 2)})`\n  );\n  bbox = shapeSvg.node().getBBox();\n  return { shapeSvg, bbox };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(textHelper, "textHelper");\nasync function addText2(parentGroup, node, yOffset, styles = []) {\n  const textEl = parentGroup.insert("g").attr("class", "label").attr("style", styles.join("; "));\n  const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig)();\n  let useHtmlLabels = "useHtmlLabels" in node ? node.useHtmlLabels : (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)(config.htmlLabels) ?? true;\n  let textContent = "";\n  if ("text" in node) {\n    textContent = node.text;\n  } else {\n    textContent = node.label;\n  }\n  if (!useHtmlLabels && textContent.startsWith("\\\\")) {\n    textContent = textContent.substring(1);\n  }\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(textContent)) {\n    useHtmlLabels = true;\n  }\n  const text2 = await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.createText)(\n    textEl,\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.sanitizeText2)((0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.decodeEntities)(textContent)),\n    {\n      width: (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.calculateTextWidth)(textContent, config) + 50,\n      // Add room for error when splitting text into multiple lines\n      classes: "markdown-node-label",\n      useHtmlLabels\n    },\n    config\n  );\n  let bbox;\n  let numberOfLines = 1;\n  if (!useHtmlLabels) {\n    if (styles.includes("font-weight: bolder")) {\n      (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(text2).selectAll("tspan").attr("font-weight", "");\n    }\n    numberOfLines = text2.children.length;\n    const textChild = text2.children[0];\n    if (text2.textContent === "" || text2.textContent.includes("&gt")) {\n      textChild.textContent = textContent[0] + textContent.substring(1).replaceAll("&gt;", ">").replaceAll("&lt;", "<").trim();\n      const preserveSpace = textContent[1] === " ";\n      if (preserveSpace) {\n        textChild.textContent = textChild.textContent[0] + " " + textChild.textContent.substring(1);\n      }\n    }\n    if (textChild.textContent === "undefined") {\n      textChild.textContent = "";\n    }\n    bbox = text2.getBBox();\n  } else {\n    const div = text2.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(text2);\n    numberOfLines = div.innerHTML.split("<br>").length;\n    if (div.innerHTML.includes("</math>")) {\n      numberOfLines += div.innerHTML.split("<mrow>").length - 1;\n    }\n    const images = div.getElementsByTagName("img");\n    if (images) {\n      const noImgText = textContent.replace(/<img[^>]*>/g, "").trim() === "";\n      await Promise.all(\n        [...images].map(\n          (img) => new Promise((res) => {\n            function setupImage() {\n              img.style.display = "flex";\n              img.style.flexDirection = "column";\n              if (noImgText) {\n                const bodyFontSize = config.fontSize?.toString() ?? window.getComputedStyle(document.body).fontSize;\n                const enlargingFactor = 5;\n                const width = parseInt(bodyFontSize, 10) * enlargingFactor + "px";\n                img.style.minWidth = width;\n                img.style.maxWidth = width;\n              } else {\n                img.style.width = "100%";\n              }\n              res(img);\n            }\n            (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(setupImage, "setupImage");\n            setTimeout(() => {\n              if (img.complete) {\n                setupImage();\n              }\n            });\n            img.addEventListener("error", setupImage);\n            img.addEventListener("load", setupImage);\n          })\n        )\n      );\n    }\n    bbox = div.getBoundingClientRect();\n    dv.attr("width", bbox.width);\n    dv.attr("height", bbox.height);\n  }\n  textEl.attr("transform", "translate(0," + (-bbox.height / (2 * numberOfLines) + yOffset) + ")");\n  return bbox.height;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(addText2, "addText");\n\n// src/rendering-util/rendering-elements/shapes/classBox.ts\nasync function classBox(parent, node) {\n  const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)();\n  const PADDING = config.class.padding ?? 12;\n  const GAP = PADDING;\n  const useHtmlLabels = node.useHtmlLabels ?? (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.evaluate)(config.htmlLabels) ?? true;\n  const classNode = node;\n  classNode.annotations = classNode.annotations ?? [];\n  classNode.members = classNode.members ?? [];\n  classNode.methods = classNode.methods ?? [];\n  const { shapeSvg, bbox } = await textHelper(parent, node, config, useHtmlLabels, GAP);\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  node.cssStyles = classNode.styles || "";\n  const styles = classNode.styles?.join(";") || nodeStyles || "";\n  if (!node.cssStyles) {\n    node.cssStyles = styles.replaceAll("!important", "").split(";");\n  }\n  const renderExtraBox = classNode.members.length === 0 && classNode.methods.length === 0 && !config.class?.hideEmptyMembersBox;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const w = bbox.width;\n  let h = bbox.height;\n  if (classNode.members.length === 0 && classNode.methods.length === 0) {\n    h += GAP;\n  } else if (classNode.members.length > 0 && classNode.methods.length === 0) {\n    h += GAP * 2;\n  }\n  const x = -w / 2;\n  const y = -h / 2;\n  const roughRect = rc.rectangle(\n    x - PADDING,\n    y - PADDING - (renderExtraBox ? PADDING : classNode.members.length === 0 && classNode.methods.length === 0 ? -PADDING / 2 : 0),\n    w + 2 * PADDING,\n    h + 2 * PADDING + (renderExtraBox ? PADDING * 2 : classNode.members.length === 0 && classNode.methods.length === 0 ? -PADDING : 0),\n    options\n  );\n  const rect2 = shapeSvg.insert(() => roughRect, ":first-child");\n  rect2.attr("class", "basic label-container");\n  const rectBBox = rect2.node().getBBox();\n  shapeSvg.selectAll(".text").each((_, i, nodes) => {\n    const text2 = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(nodes[i]);\n    const transform = text2.attr("transform");\n    let translateY = 0;\n    if (transform) {\n      const regex = RegExp(/translate\\(([^,]+),([^)]+)\\)/);\n      const translate = regex.exec(transform);\n      if (translate) {\n        translateY = parseFloat(translate[2]);\n      }\n    }\n    let newTranslateY = translateY + y + PADDING - (renderExtraBox ? PADDING : classNode.members.length === 0 && classNode.methods.length === 0 ? -PADDING / 2 : 0);\n    if (!useHtmlLabels) {\n      newTranslateY -= 4;\n    }\n    let newTranslateX = x;\n    if (text2.attr("class").includes("label-group") || text2.attr("class").includes("annotation-group")) {\n      newTranslateX = -text2.node()?.getBBox().width / 2 || 0;\n      shapeSvg.selectAll("text").each(function(_2, i2, nodes2) {\n        if (window.getComputedStyle(nodes2[i2]).textAnchor === "middle") {\n          newTranslateX = 0;\n        }\n      });\n    }\n    text2.attr("transform", `translate(${newTranslateX}, ${newTranslateY})`);\n  });\n  const annotationGroupHeight = shapeSvg.select(".annotation-group").node().getBBox().height - (renderExtraBox ? PADDING / 2 : 0) || 0;\n  const labelGroupHeight = shapeSvg.select(".label-group").node().getBBox().height - (renderExtraBox ? PADDING / 2 : 0) || 0;\n  const membersGroupHeight = shapeSvg.select(".members-group").node().getBBox().height - (renderExtraBox ? PADDING / 2 : 0) || 0;\n  if (classNode.members.length > 0 || classNode.methods.length > 0 || renderExtraBox) {\n    const roughLine = rc.line(\n      rectBBox.x,\n      annotationGroupHeight + labelGroupHeight + y + PADDING,\n      rectBBox.x + rectBBox.width,\n      annotationGroupHeight + labelGroupHeight + y + PADDING,\n      options\n    );\n    const line = shapeSvg.insert(() => roughLine);\n    line.attr("class", "divider").attr("style", styles);\n  }\n  if (renderExtraBox || classNode.members.length > 0 || classNode.methods.length > 0) {\n    const roughLine = rc.line(\n      rectBBox.x,\n      annotationGroupHeight + labelGroupHeight + membersGroupHeight + y + GAP * 2 + PADDING,\n      rectBBox.x + rectBBox.width,\n      annotationGroupHeight + labelGroupHeight + membersGroupHeight + y + PADDING + GAP * 2,\n      options\n    );\n    const line = shapeSvg.insert(() => roughLine);\n    line.attr("class", "divider").attr("style", styles);\n  }\n  if (classNode.look !== "handDrawn") {\n    shapeSvg.selectAll("path").attr("style", styles);\n  }\n  rect2.select(":nth-child(2)").attr("style", styles);\n  shapeSvg.selectAll(".divider").select("path").attr("style", styles);\n  if (node.labelStyle) {\n    shapeSvg.selectAll("span").attr("style", node.labelStyle);\n  } else {\n    shapeSvg.selectAll("span").attr("style", styles);\n  }\n  if (!useHtmlLabels) {\n    const colorRegex = RegExp(/color\\s*:\\s*([^;]*)/);\n    const match = colorRegex.exec(styles);\n    if (match) {\n      const colorStyle = match[0].replace("color", "fill");\n      shapeSvg.selectAll("tspan").attr("style", colorStyle);\n    } else if (labelStyles) {\n      const match2 = colorRegex.exec(labelStyles);\n      if (match2) {\n        const colorStyle = match2[0].replace("color", "fill");\n        shapeSvg.selectAll("tspan").attr("style", colorStyle);\n      }\n    }\n  }\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(classBox, "classBox");\n\n// src/rendering-util/rendering-elements/shapes/requirementBox.ts\n\n\nasync function requirementBox(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const requirementNode = node;\n  const elementNode = node;\n  const padding = 20;\n  const gap = 20;\n  const isRequirementNode = "verifyMethod" in node;\n  const classes = getNodeClasses(node);\n  const shapeSvg = parent.insert("g").attr("class", classes).attr("id", node.domId ?? node.id);\n  let typeHeight;\n  if (isRequirementNode) {\n    typeHeight = await addText3(\n      shapeSvg,\n      `&lt;&lt;${requirementNode.type}&gt;&gt;`,\n      0,\n      node.labelStyle\n    );\n  } else {\n    typeHeight = await addText3(shapeSvg, "&lt;&lt;Element&gt;&gt;", 0, node.labelStyle);\n  }\n  let accumulativeHeight = typeHeight;\n  const nameHeight = await addText3(\n    shapeSvg,\n    requirementNode.name,\n    accumulativeHeight,\n    node.labelStyle + "; font-weight: bold;"\n  );\n  accumulativeHeight += nameHeight + gap;\n  if (isRequirementNode) {\n    const idHeight = await addText3(\n      shapeSvg,\n      `${requirementNode.requirementId ? `ID: ${requirementNode.requirementId}` : ""}`,\n      accumulativeHeight,\n      node.labelStyle\n    );\n    accumulativeHeight += idHeight;\n    const textHeight = await addText3(\n      shapeSvg,\n      `${requirementNode.text ? `Text: ${requirementNode.text}` : ""}`,\n      accumulativeHeight,\n      node.labelStyle\n    );\n    accumulativeHeight += textHeight;\n    const riskHeight = await addText3(\n      shapeSvg,\n      `${requirementNode.risk ? `Risk: ${requirementNode.risk}` : ""}`,\n      accumulativeHeight,\n      node.labelStyle\n    );\n    accumulativeHeight += riskHeight;\n    await addText3(\n      shapeSvg,\n      `${requirementNode.verifyMethod ? `Verification: ${requirementNode.verifyMethod}` : ""}`,\n      accumulativeHeight,\n      node.labelStyle\n    );\n  } else {\n    const typeHeight2 = await addText3(\n      shapeSvg,\n      `${elementNode.type ? `Type: ${elementNode.type}` : ""}`,\n      accumulativeHeight,\n      node.labelStyle\n    );\n    accumulativeHeight += typeHeight2;\n    await addText3(\n      shapeSvg,\n      `${elementNode.docRef ? `Doc Ref: ${elementNode.docRef}` : ""}`,\n      accumulativeHeight,\n      node.labelStyle\n    );\n  }\n  const totalWidth = (shapeSvg.node()?.getBBox().width ?? 200) + padding;\n  const totalHeight = (shapeSvg.node()?.getBBox().height ?? 200) + padding;\n  const x = -totalWidth / 2;\n  const y = -totalHeight / 2;\n  const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n  const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n  if (node.look !== "handDrawn") {\n    options.roughness = 0;\n    options.fillStyle = "solid";\n  }\n  const roughRect = rc.rectangle(x, y, totalWidth, totalHeight, options);\n  const rect2 = shapeSvg.insert(() => roughRect, ":first-child");\n  rect2.attr("class", "basic label-container").attr("style", nodeStyles);\n  shapeSvg.selectAll(".label").each((_, i, nodes) => {\n    const text2 = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(nodes[i]);\n    const transform = text2.attr("transform");\n    let translateX = 0;\n    let translateY = 0;\n    if (transform) {\n      const regex = RegExp(/translate\\(([^,]+),([^)]+)\\)/);\n      const translate = regex.exec(transform);\n      if (translate) {\n        translateX = parseFloat(translate[1]);\n        translateY = parseFloat(translate[2]);\n      }\n    }\n    const newTranslateY = translateY - totalHeight / 2;\n    let newTranslateX = x + padding / 2;\n    if (i === 0 || i === 1) {\n      newTranslateX = translateX;\n    }\n    text2.attr("transform", `translate(${newTranslateX}, ${newTranslateY + padding})`);\n  });\n  if (accumulativeHeight > typeHeight + nameHeight + gap) {\n    const roughLine = rc.line(\n      x,\n      y + typeHeight + nameHeight + gap,\n      x + totalWidth,\n      y + typeHeight + nameHeight + gap,\n      options\n    );\n    const dividerLine = shapeSvg.insert(() => roughLine);\n    dividerLine.attr("style", nodeStyles);\n  }\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(requirementBox, "requirementBox");\nasync function addText3(parentGroup, inputText, yOffset, style = "") {\n  if (inputText === "") {\n    return 0;\n  }\n  const textEl = parentGroup.insert("g").attr("class", "label").attr("style", style);\n  const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)();\n  const useHtmlLabels = config.htmlLabels ?? true;\n  const text2 = await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.createText)(\n    textEl,\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.sanitizeText2)((0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.decodeEntities)(inputText)),\n    {\n      width: (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.calculateTextWidth)(inputText, config) + 50,\n      // Add room for error when splitting text into multiple lines\n      classes: "markdown-node-label",\n      useHtmlLabels,\n      style\n    },\n    config\n  );\n  let bbox;\n  if (!useHtmlLabels) {\n    const textChild = text2.children[0];\n    for (const child of textChild.children) {\n      child.textContent = child.textContent.replaceAll("&gt;", ">").replaceAll("&lt;", "<");\n      if (style) {\n        child.setAttribute("style", style);\n      }\n    }\n    bbox = text2.getBBox();\n    bbox.height += 6;\n  } else {\n    const div = text2.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(text2);\n    bbox = div.getBoundingClientRect();\n    dv.attr("width", bbox.width);\n    dv.attr("height", bbox.height);\n  }\n  textEl.attr("transform", `translate(${-bbox.width / 2},${-bbox.height / 2 + yOffset})`);\n  return bbox.height;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(addText3, "addText");\n\n// src/rendering-util/rendering-elements/shapes/kanbanItem.ts\n\nvar colorFromPriority = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((priority) => {\n  switch (priority) {\n    case "Very High":\n      return "red";\n    case "High":\n      return "orange";\n    case "Medium":\n      return null;\n    // no stroke\n    case "Low":\n      return "blue";\n    case "Very Low":\n      return "lightblue";\n  }\n}, "colorFromPriority");\nasync function kanbanItem(parent, kanbanNode, { config }) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(kanbanNode);\n  kanbanNode.labelStyle = labelStyles || "";\n  const labelPaddingX = 10;\n  const orgWidth = kanbanNode.width;\n  kanbanNode.width = (kanbanNode.width ?? 200) - 10;\n  const {\n    shapeSvg,\n    bbox,\n    label: labelElTitle\n  } = await labelHelper(parent, kanbanNode, getNodeClasses(kanbanNode));\n  const padding = kanbanNode.padding || 10;\n  let ticketUrl = "";\n  let link;\n  if ("ticket" in kanbanNode && kanbanNode.ticket && config?.kanban?.ticketBaseUrl) {\n    ticketUrl = config?.kanban?.ticketBaseUrl.replace("#TICKET#", kanbanNode.ticket);\n    link = shapeSvg.insert("svg:a", ":first-child").attr("class", "kanban-ticket-link").attr("xlink:href", ticketUrl).attr("target", "_blank");\n  }\n  const options = {\n    useHtmlLabels: kanbanNode.useHtmlLabels,\n    labelStyle: kanbanNode.labelStyle || "",\n    width: kanbanNode.width,\n    img: kanbanNode.img,\n    padding: kanbanNode.padding || 8,\n    centerLabel: false\n  };\n  let labelEl, bbox2;\n  if (link) {\n    ({ label: labelEl, bbox: bbox2 } = await insertLabel(\n      link,\n      "ticket" in kanbanNode && kanbanNode.ticket || "",\n      options\n    ));\n  } else {\n    ({ label: labelEl, bbox: bbox2 } = await insertLabel(\n      shapeSvg,\n      "ticket" in kanbanNode && kanbanNode.ticket || "",\n      options\n    ));\n  }\n  const { label: labelElAssigned, bbox: bboxAssigned } = await insertLabel(\n    shapeSvg,\n    "assigned" in kanbanNode && kanbanNode.assigned || "",\n    options\n  );\n  kanbanNode.width = orgWidth;\n  const labelPaddingY = 10;\n  const totalWidth = kanbanNode?.width || 0;\n  const heightAdj = Math.max(bbox2.height, bboxAssigned.height) / 2;\n  const totalHeight = Math.max(bbox.height + labelPaddingY * 2, kanbanNode?.height || 0) + heightAdj;\n  const x = -totalWidth / 2;\n  const y = -totalHeight / 2;\n  labelElTitle.attr(\n    "transform",\n    "translate(" + (padding - totalWidth / 2) + ", " + (-heightAdj - bbox.height / 2) + ")"\n  );\n  labelEl.attr(\n    "transform",\n    "translate(" + (padding - totalWidth / 2) + ", " + (-heightAdj + bbox.height / 2) + ")"\n  );\n  labelElAssigned.attr(\n    "transform",\n    "translate(" + (padding + totalWidth / 2 - bboxAssigned.width - 2 * labelPaddingX) + ", " + (-heightAdj + bbox.height / 2) + ")"\n  );\n  let rect2;\n  const { rx, ry } = kanbanNode;\n  const { cssStyles } = kanbanNode;\n  if (kanbanNode.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options2 = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(kanbanNode, {});\n    const roughNode = rx || ry ? rc.path(createRoundedRectPathD(x, y, totalWidth, totalHeight, rx || 0), options2) : rc.rectangle(x, y, totalWidth, totalHeight, options2);\n    rect2 = shapeSvg.insert(() => roughNode, ":first-child");\n    rect2.attr("class", "basic label-container").attr("style", cssStyles ? cssStyles : null);\n  } else {\n    rect2 = shapeSvg.insert("rect", ":first-child");\n    rect2.attr("class", "basic label-container __APA__").attr("style", nodeStyles).attr("rx", rx ?? 5).attr("ry", ry ?? 5).attr("x", x).attr("y", y).attr("width", totalWidth).attr("height", totalHeight);\n    const priority = "priority" in kanbanNode && kanbanNode.priority;\n    if (priority) {\n      const line = shapeSvg.append("line");\n      const lineX = x + 2;\n      const y1 = y + Math.floor((rx ?? 0) / 2);\n      const y2 = y + totalHeight - Math.floor((rx ?? 0) / 2);\n      line.attr("x1", lineX).attr("y1", y1).attr("x2", lineX).attr("y2", y2).attr("stroke-width", "4").attr("stroke", colorFromPriority(priority));\n    }\n  }\n  updateNodeBounds(kanbanNode, rect2);\n  kanbanNode.height = totalHeight;\n  kanbanNode.intersect = function(point) {\n    return intersect_default.rect(kanbanNode, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(kanbanItem, "kanbanItem");\n\n// src/rendering-util/rendering-elements/shapes/bang.ts\n\nasync function bang(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, halfPadding, label } = await labelHelper(\n    parent,\n    node,\n    getNodeClasses(node)\n  );\n  const w = bbox.width + 10 * halfPadding;\n  const h = bbox.height + 8 * halfPadding;\n  const r = 0.15 * w;\n  const { cssStyles } = node;\n  const minWidth = bbox.width + 20;\n  const minHeight = bbox.height + 20;\n  const effectiveWidth = Math.max(w, minWidth);\n  const effectiveHeight = Math.max(h, minHeight);\n  label.attr("transform", `translate(${-bbox.width / 2}, ${-bbox.height / 2})`);\n  let bangElem;\n  const path = `M0 0 \n    a${r},${r} 1 0,0 ${effectiveWidth * 0.25},${-1 * effectiveHeight * 0.1}\n    a${r},${r} 1 0,0 ${effectiveWidth * 0.25},${0}\n    a${r},${r} 1 0,0 ${effectiveWidth * 0.25},${0}\n    a${r},${r} 1 0,0 ${effectiveWidth * 0.25},${effectiveHeight * 0.1}\n\n    a${r},${r} 1 0,0 ${effectiveWidth * 0.15},${effectiveHeight * 0.33}\n    a${r * 0.8},${r * 0.8} 1 0,0 0,${effectiveHeight * 0.34}\n    a${r},${r} 1 0,0 ${-1 * effectiveWidth * 0.15},${effectiveHeight * 0.33}\n\n    a${r},${r} 1 0,0 ${-1 * effectiveWidth * 0.25},${effectiveHeight * 0.15}\n    a${r},${r} 1 0,0 ${-1 * effectiveWidth * 0.25},0\n    a${r},${r} 1 0,0 ${-1 * effectiveWidth * 0.25},0\n    a${r},${r} 1 0,0 ${-1 * effectiveWidth * 0.25},${-1 * effectiveHeight * 0.15}\n\n    a${r},${r} 1 0,0 ${-1 * effectiveWidth * 0.1},${-1 * effectiveHeight * 0.33}\n    a${r * 0.8},${r * 0.8} 1 0,0 0,${-1 * effectiveHeight * 0.34}\n    a${r},${r} 1 0,0 ${effectiveWidth * 0.1},${-1 * effectiveHeight * 0.33}\n  H0 V0 Z`;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n    const roughNode = rc.path(path, options);\n    bangElem = shapeSvg.insert(() => roughNode, ":first-child");\n    bangElem.attr("class", "basic label-container").attr("style", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(cssStyles));\n  } else {\n    bangElem = shapeSvg.insert("path", ":first-child").attr("class", "basic label-container").attr("style", nodeStyles).attr("d", path);\n  }\n  bangElem.attr("transform", `translate(${-effectiveWidth / 2}, ${-effectiveHeight / 2})`);\n  updateNodeBounds(node, bangElem);\n  node.calcIntersect = function(bounds, point) {\n    return intersect_default.rect(bounds, point);\n  };\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Bang intersect", node, point);\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(bang, "bang");\n\n// src/rendering-util/rendering-elements/shapes/cloud.ts\n\nasync function cloud(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, halfPadding, label } = await labelHelper(\n    parent,\n    node,\n    getNodeClasses(node)\n  );\n  const w = bbox.width + 2 * halfPadding;\n  const h = bbox.height + 2 * halfPadding;\n  const r1 = 0.15 * w;\n  const r2 = 0.25 * w;\n  const r3 = 0.35 * w;\n  const r4 = 0.2 * w;\n  const { cssStyles } = node;\n  let cloudElem;\n  const path = `M0 0 \n    a${r1},${r1} 0 0,1 ${w * 0.25},${-1 * w * 0.1}\n    a${r3},${r3} 1 0,1 ${w * 0.4},${-1 * w * 0.1}\n    a${r2},${r2} 1 0,1 ${w * 0.35},${w * 0.2}\n\n    a${r1},${r1} 1 0,1 ${w * 0.15},${h * 0.35}\n    a${r4},${r4} 1 0,1 ${-1 * w * 0.15},${h * 0.65}\n\n    a${r2},${r1} 1 0,1 ${-1 * w * 0.25},${w * 0.15}\n    a${r3},${r3} 1 0,1 ${-1 * w * 0.5},0\n    a${r1},${r1} 1 0,1 ${-1 * w * 0.25},${-1 * w * 0.15}\n\n    a${r1},${r1} 1 0,1 ${-1 * w * 0.1},${-1 * h * 0.35}\n    a${r4},${r4} 1 0,1 ${w * 0.1},${-1 * h * 0.65}\n  H0 V0 Z`;\n  if (node.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_7__["default"].svg(shapeSvg);\n    const options = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.userNodeOverrides)(node, {});\n    const roughNode = rc.path(path, options);\n    cloudElem = shapeSvg.insert(() => roughNode, ":first-child");\n    cloudElem.attr("class", "basic label-container").attr("style", (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.handleUndefinedAttr)(cssStyles));\n  } else {\n    cloudElem = shapeSvg.insert("path", ":first-child").attr("class", "basic label-container").attr("style", nodeStyles).attr("d", path);\n  }\n  label.attr("transform", `translate(${-bbox.width / 2}, ${-bbox.height / 2})`);\n  cloudElem.attr("transform", `translate(${-w / 2}, ${-h / 2})`);\n  updateNodeBounds(node, cloudElem);\n  node.calcIntersect = function(bounds, point) {\n    return intersect_default.rect(bounds, point);\n  };\n  node.intersect = function(point) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.info("Cloud intersect", node, point);\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(cloud, "cloud");\n\n// src/rendering-util/rendering-elements/shapes/defaultMindmapNode.ts\nasync function defaultMindmapNode(parent, node) {\n  const { labelStyles, nodeStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_1__.styles2String)(node);\n  node.labelStyle = labelStyles;\n  const { shapeSvg, bbox, halfPadding, label } = await labelHelper(\n    parent,\n    node,\n    getNodeClasses(node)\n  );\n  const w = bbox.width + 8 * halfPadding;\n  const h = bbox.height + 2 * halfPadding;\n  const rd = 5;\n  const rectPath = `\n    M${-w / 2} ${h / 2 - rd}\n    v${-h + 2 * rd}\n    q0,-${rd} ${rd},-${rd}\n    h${w - 2 * rd}\n    q${rd},0 ${rd},${rd}\n    v${h - 2 * rd}\n    q0,${rd} -${rd},${rd}\n    h${-w + 2 * rd}\n    q-${rd},0 -${rd},-${rd}\n    Z\n  `;\n  const bg = shapeSvg.append("path").attr("id", "node-" + node.id).attr("class", "node-bkg node-" + node.type).attr("style", nodeStyles).attr("d", rectPath);\n  shapeSvg.append("line").attr("class", "node-line-").attr("x1", -w / 2).attr("y1", h / 2).attr("x2", w / 2).attr("y2", h / 2);\n  label.attr("transform", `translate(${-bbox.width / 2}, ${-bbox.height / 2})`);\n  shapeSvg.append(() => label.node());\n  updateNodeBounds(node, bg);\n  node.calcIntersect = function(bounds, point) {\n    return intersect_default.rect(bounds, point);\n  };\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(defaultMindmapNode, "defaultMindmapNode");\n\n// src/rendering-util/rendering-elements/shapes/mindmapCircle.ts\nasync function mindmapCircle(parent, node) {\n  const options = {\n    padding: node.padding ?? 0\n  };\n  return circle(parent, node, options);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(mindmapCircle, "mindmapCircle");\n\n// src/rendering-util/rendering-elements/shapes.ts\nvar shapesDefs = [\n  {\n    semanticName: "Process",\n    name: "Rectangle",\n    shortName: "rect",\n    description: "Standard process shape",\n    aliases: ["proc", "process", "rectangle"],\n    internalAliases: ["squareRect"],\n    handler: squareRect2\n  },\n  {\n    semanticName: "Event",\n    name: "Rounded Rectangle",\n    shortName: "rounded",\n    description: "Represents an event",\n    aliases: ["event"],\n    internalAliases: ["roundedRect"],\n    handler: roundedRect\n  },\n  {\n    semanticName: "Terminal Point",\n    name: "Stadium",\n    shortName: "stadium",\n    description: "Terminal point",\n    aliases: ["terminal", "pill"],\n    handler: stadium\n  },\n  {\n    semanticName: "Subprocess",\n    name: "Framed Rectangle",\n    shortName: "fr-rect",\n    description: "Subprocess",\n    aliases: ["subprocess", "subproc", "framed-rectangle", "subroutine"],\n    handler: subroutine\n  },\n  {\n    semanticName: "Database",\n    name: "Cylinder",\n    shortName: "cyl",\n    description: "Database storage",\n    aliases: ["db", "database", "cylinder"],\n    handler: cylinder\n  },\n  {\n    semanticName: "Start",\n    name: "Circle",\n    shortName: "circle",\n    description: "Starting point",\n    aliases: ["circ"],\n    handler: circle\n  },\n  {\n    semanticName: "Bang",\n    name: "Bang",\n    shortName: "bang",\n    description: "Bang",\n    aliases: ["bang"],\n    handler: bang\n  },\n  {\n    semanticName: "Cloud",\n    name: "Cloud",\n    shortName: "cloud",\n    description: "cloud",\n    aliases: ["cloud"],\n    handler: cloud\n  },\n  {\n    semanticName: "Decision",\n    name: "Diamond",\n    shortName: "diam",\n    description: "Decision-making step",\n    aliases: ["decision", "diamond", "question"],\n    handler: question\n  },\n  {\n    semanticName: "Prepare Conditional",\n    name: "Hexagon",\n    shortName: "hex",\n    description: "Preparation or condition step",\n    aliases: ["hexagon", "prepare"],\n    handler: hexagon\n  },\n  {\n    semanticName: "Data Input/Output",\n    name: "Lean Right",\n    shortName: "lean-r",\n    description: "Represents input or output",\n    aliases: ["lean-right", "in-out"],\n    internalAliases: ["lean_right"],\n    handler: lean_right\n  },\n  {\n    semanticName: "Data Input/Output",\n    name: "Lean Left",\n    shortName: "lean-l",\n    description: "Represents output or input",\n    aliases: ["lean-left", "out-in"],\n    internalAliases: ["lean_left"],\n    handler: lean_left\n  },\n  {\n    semanticName: "Priority Action",\n    name: "Trapezoid Base Bottom",\n    shortName: "trap-b",\n    description: "Priority action",\n    aliases: ["priority", "trapezoid-bottom", "trapezoid"],\n    handler: trapezoid\n  },\n  {\n    semanticName: "Manual Operation",\n    name: "Trapezoid Base Top",\n    shortName: "trap-t",\n    description: "Represents a manual task",\n    aliases: ["manual", "trapezoid-top", "inv-trapezoid"],\n    internalAliases: ["inv_trapezoid"],\n    handler: inv_trapezoid\n  },\n  {\n    semanticName: "Stop",\n    name: "Double Circle",\n    shortName: "dbl-circ",\n    description: "Represents a stop point",\n    aliases: ["double-circle"],\n    internalAliases: ["doublecircle"],\n    handler: doublecircle\n  },\n  {\n    semanticName: "Text Block",\n    name: "Text Block",\n    shortName: "text",\n    description: "Text block",\n    handler: text\n  },\n  {\n    semanticName: "Card",\n    name: "Notched Rectangle",\n    shortName: "notch-rect",\n    description: "Represents a card",\n    aliases: ["card", "notched-rectangle"],\n    handler: card\n  },\n  {\n    semanticName: "Lined/Shaded Process",\n    name: "Lined Rectangle",\n    shortName: "lin-rect",\n    description: "Lined process shape",\n    aliases: ["lined-rectangle", "lined-process", "lin-proc", "shaded-process"],\n    handler: shadedProcess\n  },\n  {\n    semanticName: "Start",\n    name: "Small Circle",\n    shortName: "sm-circ",\n    description: "Small starting point",\n    aliases: ["start", "small-circle"],\n    internalAliases: ["stateStart"],\n    handler: stateStart\n  },\n  {\n    semanticName: "Stop",\n    name: "Framed Circle",\n    shortName: "fr-circ",\n    description: "Stop point",\n    aliases: ["stop", "framed-circle"],\n    internalAliases: ["stateEnd"],\n    handler: stateEnd\n  },\n  {\n    semanticName: "Fork/Join",\n    name: "Filled Rectangle",\n    shortName: "fork",\n    description: "Fork or join in process flow",\n    aliases: ["join"],\n    internalAliases: ["forkJoin"],\n    handler: forkJoin\n  },\n  {\n    semanticName: "Collate",\n    name: "Hourglass",\n    shortName: "hourglass",\n    description: "Represents a collate operation",\n    aliases: ["hourglass", "collate"],\n    handler: hourglass\n  },\n  {\n    semanticName: "Comment",\n    name: "Curly Brace",\n    shortName: "brace",\n    description: "Adds a comment",\n    aliases: ["comment", "brace-l"],\n    handler: curlyBraceLeft\n  },\n  {\n    semanticName: "Comment Right",\n    name: "Curly Brace",\n    shortName: "brace-r",\n    description: "Adds a comment",\n    handler: curlyBraceRight\n  },\n  {\n    semanticName: "Comment with braces on both sides",\n    name: "Curly Braces",\n    shortName: "braces",\n    description: "Adds a comment",\n    handler: curlyBraces\n  },\n  {\n    semanticName: "Com Link",\n    name: "Lightning Bolt",\n    shortName: "bolt",\n    description: "Communication link",\n    aliases: ["com-link", "lightning-bolt"],\n    handler: lightningBolt\n  },\n  {\n    semanticName: "Document",\n    name: "Document",\n    shortName: "doc",\n    description: "Represents a document",\n    aliases: ["doc", "document"],\n    handler: waveEdgedRectangle\n  },\n  {\n    semanticName: "Delay",\n    name: "Half-Rounded Rectangle",\n    shortName: "delay",\n    description: "Represents a delay",\n    aliases: ["half-rounded-rectangle"],\n    handler: halfRoundedRectangle\n  },\n  {\n    semanticName: "Direct Access Storage",\n    name: "Horizontal Cylinder",\n    shortName: "h-cyl",\n    description: "Direct access storage",\n    aliases: ["das", "horizontal-cylinder"],\n    handler: tiltedCylinder\n  },\n  {\n    semanticName: "Disk Storage",\n    name: "Lined Cylinder",\n    shortName: "lin-cyl",\n    description: "Disk storage",\n    aliases: ["disk", "lined-cylinder"],\n    handler: linedCylinder\n  },\n  {\n    semanticName: "Display",\n    name: "Curved Trapezoid",\n    shortName: "curv-trap",\n    description: "Represents a display",\n    aliases: ["curved-trapezoid", "display"],\n    handler: curvedTrapezoid\n  },\n  {\n    semanticName: "Divided Process",\n    name: "Divided Rectangle",\n    shortName: "div-rect",\n    description: "Divided process shape",\n    aliases: ["div-proc", "divided-rectangle", "divided-process"],\n    handler: dividedRectangle\n  },\n  {\n    semanticName: "Extract",\n    name: "Triangle",\n    shortName: "tri",\n    description: "Extraction process",\n    aliases: ["extract", "triangle"],\n    handler: triangle\n  },\n  {\n    semanticName: "Internal Storage",\n    name: "Window Pane",\n    shortName: "win-pane",\n    description: "Internal storage",\n    aliases: ["internal-storage", "window-pane"],\n    handler: windowPane\n  },\n  {\n    semanticName: "Junction",\n    name: "Filled Circle",\n    shortName: "f-circ",\n    description: "Junction point",\n    aliases: ["junction", "filled-circle"],\n    handler: filledCircle\n  },\n  {\n    semanticName: "Loop Limit",\n    name: "Trapezoidal Pentagon",\n    shortName: "notch-pent",\n    description: "Loop limit step",\n    aliases: ["loop-limit", "notched-pentagon"],\n    handler: trapezoidalPentagon\n  },\n  {\n    semanticName: "Manual File",\n    name: "Flipped Triangle",\n    shortName: "flip-tri",\n    description: "Manual file operation",\n    aliases: ["manual-file", "flipped-triangle"],\n    handler: flippedTriangle\n  },\n  {\n    semanticName: "Manual Input",\n    name: "Sloped Rectangle",\n    shortName: "sl-rect",\n    description: "Manual input step",\n    aliases: ["manual-input", "sloped-rectangle"],\n    handler: slopedRect\n  },\n  {\n    semanticName: "Multi-Document",\n    name: "Stacked Document",\n    shortName: "docs",\n    description: "Multiple documents",\n    aliases: ["documents", "st-doc", "stacked-document"],\n    handler: multiWaveEdgedRectangle\n  },\n  {\n    semanticName: "Multi-Process",\n    name: "Stacked Rectangle",\n    shortName: "st-rect",\n    description: "Multiple processes",\n    aliases: ["procs", "processes", "stacked-rectangle"],\n    handler: multiRect\n  },\n  {\n    semanticName: "Stored Data",\n    name: "Bow Tie Rectangle",\n    shortName: "bow-rect",\n    description: "Stored data",\n    aliases: ["stored-data", "bow-tie-rectangle"],\n    handler: bowTieRect\n  },\n  {\n    semanticName: "Summary",\n    name: "Crossed Circle",\n    shortName: "cross-circ",\n    description: "Summary",\n    aliases: ["summary", "crossed-circle"],\n    handler: crossedCircle\n  },\n  {\n    semanticName: "Tagged Document",\n    name: "Tagged Document",\n    shortName: "tag-doc",\n    description: "Tagged document",\n    aliases: ["tag-doc", "tagged-document"],\n    handler: taggedWaveEdgedRectangle\n  },\n  {\n    semanticName: "Tagged Process",\n    name: "Tagged Rectangle",\n    shortName: "tag-rect",\n    description: "Tagged process",\n    aliases: ["tagged-rectangle", "tag-proc", "tagged-process"],\n    handler: taggedRect\n  },\n  {\n    semanticName: "Paper Tape",\n    name: "Flag",\n    shortName: "flag",\n    description: "Paper tape",\n    aliases: ["paper-tape"],\n    handler: waveRectangle\n  },\n  {\n    semanticName: "Odd",\n    name: "Odd",\n    shortName: "odd",\n    description: "Odd shape",\n    internalAliases: ["rect_left_inv_arrow"],\n    handler: rect_left_inv_arrow\n  },\n  {\n    semanticName: "Lined Document",\n    name: "Lined Document",\n    shortName: "lin-doc",\n    description: "Lined document",\n    aliases: ["lined-document"],\n    handler: linedWaveEdgedRect\n  }\n];\nvar generateShapeMap = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(() => {\n  const undocumentedShapes = {\n    // States\n    state,\n    choice,\n    note,\n    // Rectangles\n    rectWithTitle,\n    labelRect,\n    // Icons\n    iconSquare,\n    iconCircle,\n    icon,\n    iconRounded,\n    imageSquare,\n    anchor,\n    // Kanban diagram\n    kanbanItem,\n    //Mindmap diagram\n    mindmapCircle,\n    defaultMindmapNode,\n    // class diagram\n    classBox,\n    // er diagram\n    erBox,\n    // Requirement diagram\n    requirementBox\n  };\n  const entries = [\n    ...Object.entries(undocumentedShapes),\n    ...shapesDefs.flatMap((shape) => {\n      const aliases = [\n        shape.shortName,\n        ..."aliases" in shape ? shape.aliases : [],\n        ..."internalAliases" in shape ? shape.internalAliases : []\n      ];\n      return aliases.map((alias) => [alias, shape.handler]);\n    })\n  ];\n  return Object.fromEntries(entries);\n}, "generateShapeMap");\nvar shapes2 = generateShapeMap();\nfunction isValidShape(shape) {\n  return shape in shapes2;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(isValidShape, "isValidShape");\n\n// src/rendering-util/rendering-elements/nodes.ts\nvar nodeElems = /* @__PURE__ */ new Map();\nasync function insertNode(elem, node, renderOptions) {\n  let newEl;\n  let el;\n  if (node.shape === "rect") {\n    if (node.rx && node.ry) {\n      node.shape = "roundedRect";\n    } else {\n      node.shape = "squareRect";\n    }\n  }\n  const shapeHandler = node.shape ? shapes2[node.shape] : void 0;\n  if (!shapeHandler) {\n    throw new Error(`No such shape: ${node.shape}. Please check your syntax.`);\n  }\n  if (node.link) {\n    let target;\n    if (renderOptions.config.securityLevel === "sandbox") {\n      target = "_top";\n    } else if (node.linkTarget) {\n      target = node.linkTarget || "_blank";\n    }\n    newEl = elem.insert("svg:a").attr("xlink:href", node.link).attr("target", target ?? null);\n    el = await shapeHandler(newEl, node, renderOptions);\n  } else {\n    el = await shapeHandler(elem, node, renderOptions);\n    newEl = el;\n  }\n  if (node.tooltip) {\n    el.attr("title", node.tooltip);\n  }\n  nodeElems.set(node.id, newEl);\n  if (node.haveCallback) {\n    newEl.attr("class", newEl.attr("class") + " clickable");\n  }\n  return newEl;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(insertNode, "insertNode");\nvar setNodeElem = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((elem, node) => {\n  nodeElems.set(node.id, elem);\n}, "setNodeElem");\nvar clear2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(() => {\n  nodeElems.clear();\n}, "clear");\nvar positionNode = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((node) => {\n  const el = nodeElems.get(node.id);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.trace(\n    "Transforming node",\n    node.diff,\n    node,\n    "translate(" + (node.x - node.width / 2 - 5) + ", " + node.width / 2 + ")"\n  );\n  const padding = 8;\n  const diff = node.diff || 0;\n  if (node.clusterNode) {\n    el.attr(\n      "transform",\n      "translate(" + (node.x + diff - node.width / 2) + ", " + (node.y - node.height / 2 - padding) + ")"\n    );\n  } else {\n    el.attr("transform", "translate(" + node.x + ", " + node.y + ")");\n  }\n  return diff;\n}, "positionNode");\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-KS23V3DP.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   package_default: () => (/* binding */ package_default)\n/* harmony export */ });\n// package.json\nvar package_default = {\n  name: "mermaid",\n  version: "11.12.0",\n  description: "Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",\n  type: "module",\n  module: "./dist/mermaid.core.mjs",\n  types: "./dist/mermaid.d.ts",\n  exports: {\n    ".": {\n      types: "./dist/mermaid.d.ts",\n      import: "./dist/mermaid.core.mjs",\n      default: "./dist/mermaid.core.mjs"\n    },\n    "./*": "./*"\n  },\n  keywords: [\n    "diagram",\n    "markdown",\n    "flowchart",\n    "sequence diagram",\n    "gantt",\n    "class diagram",\n    "git graph",\n    "mindmap",\n    "packet diagram",\n    "c4 diagram",\n    "er diagram",\n    "pie chart",\n    "pie diagram",\n    "quadrant chart",\n    "requirement diagram",\n    "graph"\n  ],\n  scripts: {\n    clean: "rimraf dist",\n    dev: "pnpm -w dev",\n    "docs:code": "typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup",\n    "docs:build": "rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts",\n    "docs:verify": "pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify",\n    "docs:pre:vitepress": "pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts",\n    "docs:build:vitepress": "pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing",\n    "docs:dev": \'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"\',\n    "docs:dev:docker": \'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"\',\n    "docs:serve": "pnpm docs:build:vitepress && vitepress serve src/vitepress",\n    "docs:spellcheck": \'cspell "src/docs/**/*.md"\',\n    "docs:release-version": "tsx scripts/update-release-version.mts",\n    "docs:verify-version": "tsx scripts/update-release-version.mts --verify",\n    "types:build-config": "tsx scripts/create-types-from-json-schema.mts",\n    "types:verify-config": "tsx scripts/create-types-from-json-schema.mts --verify",\n    checkCircle: "npx madge --circular ./src",\n    prepublishOnly: "pnpm docs:verify-version"\n  },\n  repository: {\n    type: "git",\n    url: "https://github.com/mermaid-js/mermaid"\n  },\n  author: "Knut Sveidqvist",\n  license: "MIT",\n  standard: {\n    ignore: [\n      "**/parser/*.js",\n      "dist/**/*.js",\n      "cypress/**/*.js"\n    ],\n    globals: [\n      "page"\n    ]\n  },\n  dependencies: {\n    "@braintree/sanitize-url": "^7.1.1",\n    "@iconify/utils": "^3.0.1",\n    "@mermaid-js/parser": "workspace:^",\n    "@types/d3": "^7.4.3",\n    cytoscape: "^3.29.3",\n    "cytoscape-cose-bilkent": "^4.1.0",\n    "cytoscape-fcose": "^2.2.0",\n    d3: "^7.9.0",\n    "d3-sankey": "^0.12.3",\n    "dagre-d3-es": "7.0.11",\n    dayjs: "^1.11.18",\n    dompurify: "^3.2.5",\n    katex: "^0.16.22",\n    khroma: "^2.1.0",\n    "lodash-es": "^4.17.21",\n    marked: "^16.2.1",\n    roughjs: "^4.6.6",\n    stylis: "^4.3.6",\n    "ts-dedent": "^2.2.0",\n    uuid: "^11.1.0"\n  },\n  devDependencies: {\n    "@adobe/jsonschema2md": "^8.0.5",\n    "@iconify/types": "^2.0.0",\n    "@types/cytoscape": "^3.21.9",\n    "@types/cytoscape-fcose": "^2.2.4",\n    "@types/d3-sankey": "^0.12.4",\n    "@types/d3-scale": "^4.0.9",\n    "@types/d3-scale-chromatic": "^3.1.0",\n    "@types/d3-selection": "^3.0.11",\n    "@types/d3-shape": "^3.1.7",\n    "@types/jsdom": "^21.1.7",\n    "@types/katex": "^0.16.7",\n    "@types/lodash-es": "^4.17.12",\n    "@types/micromatch": "^4.0.9",\n    "@types/stylis": "^4.2.7",\n    "@types/uuid": "^10.0.0",\n    ajv: "^8.17.1",\n    canvas: "^3.1.2",\n    chokidar: "3.6.0",\n    concurrently: "^9.1.2",\n    "csstree-validator": "^4.0.1",\n    globby: "^14.1.0",\n    jison: "^0.4.18",\n    "js-base64": "^3.7.8",\n    jsdom: "^26.1.0",\n    "json-schema-to-typescript": "^15.0.4",\n    micromatch: "^4.0.8",\n    "path-browserify": "^1.0.1",\n    prettier: "^3.5.3",\n    remark: "^15.0.1",\n    "remark-frontmatter": "^5.0.0",\n    "remark-gfm": "^4.0.1",\n    rimraf: "^6.0.1",\n    "start-server-and-test": "^2.0.13",\n    "type-fest": "^4.35.0",\n    typedoc: "^0.28.12",\n    "typedoc-plugin-markdown": "^4.8.1",\n    typescript: "~5.7.3",\n    "unist-util-flatmap": "^1.0.0",\n    "unist-util-visit": "^5.0.0",\n    vitepress: "^1.6.4",\n    "vitepress-plugin-search": "1.0.4-alpha.22"\n  },\n  files: [\n    "dist/",\n    "README.md"\n  ],\n  publishConfig: {\n    access: "public"\n  }\n};\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-KS23V3DP.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-MI3HLSF2.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JSON_SCHEMA: () => (/* binding */ JSON_SCHEMA),\n/* harmony export */   load: () => (/* binding */ load)\n/* harmony export */ });\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n\n\n// ../../node_modules/.pnpm/js-yaml@4.1.0/node_modules/js-yaml/dist/js-yaml.mjs\nfunction isNothing(subject) {\n  return typeof subject === "undefined" || subject === null;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isNothing, "isNothing");\nfunction isObject(subject) {\n  return typeof subject === "object" && subject !== null;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isObject, "isObject");\nfunction toArray(sequence) {\n  if (Array.isArray(sequence)) return sequence;\n  else if (isNothing(sequence)) return [];\n  return [sequence];\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(toArray, "toArray");\nfunction extend(target, source) {\n  var index, length, key, sourceKeys;\n  if (source) {\n    sourceKeys = Object.keys(source);\n    for (index = 0, length = sourceKeys.length; index < length; index += 1) {\n      key = sourceKeys[index];\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(extend, "extend");\nfunction repeat(string, count) {\n  var result = "", cycle;\n  for (cycle = 0; cycle < count; cycle += 1) {\n    result += string;\n  }\n  return result;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(repeat, "repeat");\nfunction isNegativeZero(number) {\n  return number === 0 && Number.NEGATIVE_INFINITY === 1 / number;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isNegativeZero, "isNegativeZero");\nvar isNothing_1 = isNothing;\nvar isObject_1 = isObject;\nvar toArray_1 = toArray;\nvar repeat_1 = repeat;\nvar isNegativeZero_1 = isNegativeZero;\nvar extend_1 = extend;\nvar common = {\n  isNothing: isNothing_1,\n  isObject: isObject_1,\n  toArray: toArray_1,\n  repeat: repeat_1,\n  isNegativeZero: isNegativeZero_1,\n  extend: extend_1\n};\nfunction formatError(exception2, compact) {\n  var where = "", message = exception2.reason || "(unknown reason)";\n  if (!exception2.mark) return message;\n  if (exception2.mark.name) {\n    where += \'in "\' + exception2.mark.name + \'" \';\n  }\n  where += "(" + (exception2.mark.line + 1) + ":" + (exception2.mark.column + 1) + ")";\n  if (!compact && exception2.mark.snippet) {\n    where += "\\n\\n" + exception2.mark.snippet;\n  }\n  return message + " " + where;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(formatError, "formatError");\nfunction YAMLException$1(reason, mark) {\n  Error.call(this);\n  this.name = "YAMLException";\n  this.reason = reason;\n  this.mark = mark;\n  this.message = formatError(this, false);\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = new Error().stack || "";\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(YAMLException$1, "YAMLException$1");\nYAMLException$1.prototype = Object.create(Error.prototype);\nYAMLException$1.prototype.constructor = YAMLException$1;\nYAMLException$1.prototype.toString = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function toString(compact) {\n  return this.name + ": " + formatError(this, compact);\n}, "toString");\nvar exception = YAMLException$1;\nfunction getLine(buffer, lineStart, lineEnd, position, maxLineLength) {\n  var head = "";\n  var tail = "";\n  var maxHalfLength = Math.floor(maxLineLength / 2) - 1;\n  if (position - lineStart > maxHalfLength) {\n    head = " ... ";\n    lineStart = position - maxHalfLength + head.length;\n  }\n  if (lineEnd - position > maxHalfLength) {\n    tail = " ...";\n    lineEnd = position + maxHalfLength - tail.length;\n  }\n  return {\n    str: head + buffer.slice(lineStart, lineEnd).replace(/\\t/g, "\\u2192") + tail,\n    pos: position - lineStart + head.length\n    // relative position\n  };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(getLine, "getLine");\nfunction padStart(string, max) {\n  return common.repeat(" ", max - string.length) + string;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(padStart, "padStart");\nfunction makeSnippet(mark, options) {\n  options = Object.create(options || null);\n  if (!mark.buffer) return null;\n  if (!options.maxLength) options.maxLength = 79;\n  if (typeof options.indent !== "number") options.indent = 1;\n  if (typeof options.linesBefore !== "number") options.linesBefore = 3;\n  if (typeof options.linesAfter !== "number") options.linesAfter = 2;\n  var re = /\\r?\\n|\\r|\\0/g;\n  var lineStarts = [0];\n  var lineEnds = [];\n  var match;\n  var foundLineNo = -1;\n  while (match = re.exec(mark.buffer)) {\n    lineEnds.push(match.index);\n    lineStarts.push(match.index + match[0].length);\n    if (mark.position <= match.index && foundLineNo < 0) {\n      foundLineNo = lineStarts.length - 2;\n    }\n  }\n  if (foundLineNo < 0) foundLineNo = lineStarts.length - 1;\n  var result = "", i, line;\n  var lineNoLength = Math.min(mark.line + options.linesAfter, lineEnds.length).toString().length;\n  var maxLineLength = options.maxLength - (options.indent + lineNoLength + 3);\n  for (i = 1; i <= options.linesBefore; i++) {\n    if (foundLineNo - i < 0) break;\n    line = getLine(\n      mark.buffer,\n      lineStarts[foundLineNo - i],\n      lineEnds[foundLineNo - i],\n      mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo - i]),\n      maxLineLength\n    );\n    result = common.repeat(" ", options.indent) + padStart((mark.line - i + 1).toString(), lineNoLength) + " | " + line.str + "\\n" + result;\n  }\n  line = getLine(mark.buffer, lineStarts[foundLineNo], lineEnds[foundLineNo], mark.position, maxLineLength);\n  result += common.repeat(" ", options.indent) + padStart((mark.line + 1).toString(), lineNoLength) + " | " + line.str + "\\n";\n  result += common.repeat("-", options.indent + lineNoLength + 3 + line.pos) + "^\\n";\n  for (i = 1; i <= options.linesAfter; i++) {\n    if (foundLineNo + i >= lineEnds.length) break;\n    line = getLine(\n      mark.buffer,\n      lineStarts[foundLineNo + i],\n      lineEnds[foundLineNo + i],\n      mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo + i]),\n      maxLineLength\n    );\n    result += common.repeat(" ", options.indent) + padStart((mark.line + i + 1).toString(), lineNoLength) + " | " + line.str + "\\n";\n  }\n  return result.replace(/\\n$/, "");\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(makeSnippet, "makeSnippet");\nvar snippet = makeSnippet;\nvar TYPE_CONSTRUCTOR_OPTIONS = [\n  "kind",\n  "multi",\n  "resolve",\n  "construct",\n  "instanceOf",\n  "predicate",\n  "represent",\n  "representName",\n  "defaultStyle",\n  "styleAliases"\n];\nvar YAML_NODE_KINDS = [\n  "scalar",\n  "sequence",\n  "mapping"\n];\nfunction compileStyleAliases(map2) {\n  var result = {};\n  if (map2 !== null) {\n    Object.keys(map2).forEach(function(style) {\n      map2[style].forEach(function(alias) {\n        result[String(alias)] = style;\n      });\n    });\n  }\n  return result;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(compileStyleAliases, "compileStyleAliases");\nfunction Type$1(tag, options) {\n  options = options || {};\n  Object.keys(options).forEach(function(name) {\n    if (TYPE_CONSTRUCTOR_OPTIONS.indexOf(name) === -1) {\n      throw new exception(\'Unknown option "\' + name + \'" is met in definition of "\' + tag + \'" YAML type.\');\n    }\n  });\n  this.options = options;\n  this.tag = tag;\n  this.kind = options["kind"] || null;\n  this.resolve = options["resolve"] || function() {\n    return true;\n  };\n  this.construct = options["construct"] || function(data) {\n    return data;\n  };\n  this.instanceOf = options["instanceOf"] || null;\n  this.predicate = options["predicate"] || null;\n  this.represent = options["represent"] || null;\n  this.representName = options["representName"] || null;\n  this.defaultStyle = options["defaultStyle"] || null;\n  this.multi = options["multi"] || false;\n  this.styleAliases = compileStyleAliases(options["styleAliases"] || null);\n  if (YAML_NODE_KINDS.indexOf(this.kind) === -1) {\n    throw new exception(\'Unknown kind "\' + this.kind + \'" is specified for "\' + tag + \'" YAML type.\');\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(Type$1, "Type$1");\nvar type = Type$1;\nfunction compileList(schema2, name) {\n  var result = [];\n  schema2[name].forEach(function(currentType) {\n    var newIndex = result.length;\n    result.forEach(function(previousType, previousIndex) {\n      if (previousType.tag === currentType.tag && previousType.kind === currentType.kind && previousType.multi === currentType.multi) {\n        newIndex = previousIndex;\n      }\n    });\n    result[newIndex] = currentType;\n  });\n  return result;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(compileList, "compileList");\nfunction compileMap() {\n  var result = {\n    scalar: {},\n    sequence: {},\n    mapping: {},\n    fallback: {},\n    multi: {\n      scalar: [],\n      sequence: [],\n      mapping: [],\n      fallback: []\n    }\n  }, index, length;\n  function collectType(type2) {\n    if (type2.multi) {\n      result.multi[type2.kind].push(type2);\n      result.multi["fallback"].push(type2);\n    } else {\n      result[type2.kind][type2.tag] = result["fallback"][type2.tag] = type2;\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(collectType, "collectType");\n  for (index = 0, length = arguments.length; index < length; index += 1) {\n    arguments[index].forEach(collectType);\n  }\n  return result;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(compileMap, "compileMap");\nfunction Schema$1(definition) {\n  return this.extend(definition);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(Schema$1, "Schema$1");\nSchema$1.prototype.extend = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function extend2(definition) {\n  var implicit = [];\n  var explicit = [];\n  if (definition instanceof type) {\n    explicit.push(definition);\n  } else if (Array.isArray(definition)) {\n    explicit = explicit.concat(definition);\n  } else if (definition && (Array.isArray(definition.implicit) || Array.isArray(definition.explicit))) {\n    if (definition.implicit) implicit = implicit.concat(definition.implicit);\n    if (definition.explicit) explicit = explicit.concat(definition.explicit);\n  } else {\n    throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");\n  }\n  implicit.forEach(function(type$1) {\n    if (!(type$1 instanceof type)) {\n      throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");\n    }\n    if (type$1.loadKind && type$1.loadKind !== "scalar") {\n      throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");\n    }\n    if (type$1.multi) {\n      throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.");\n    }\n  });\n  explicit.forEach(function(type$1) {\n    if (!(type$1 instanceof type)) {\n      throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");\n    }\n  });\n  var result = Object.create(Schema$1.prototype);\n  result.implicit = (this.implicit || []).concat(implicit);\n  result.explicit = (this.explicit || []).concat(explicit);\n  result.compiledImplicit = compileList(result, "implicit");\n  result.compiledExplicit = compileList(result, "explicit");\n  result.compiledTypeMap = compileMap(result.compiledImplicit, result.compiledExplicit);\n  return result;\n}, "extend");\nvar schema = Schema$1;\nvar str = new type("tag:yaml.org,2002:str", {\n  kind: "scalar",\n  construct: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(data) {\n    return data !== null ? data : "";\n  }, "construct")\n});\nvar seq = new type("tag:yaml.org,2002:seq", {\n  kind: "sequence",\n  construct: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(data) {\n    return data !== null ? data : [];\n  }, "construct")\n});\nvar map = new type("tag:yaml.org,2002:map", {\n  kind: "mapping",\n  construct: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(data) {\n    return data !== null ? data : {};\n  }, "construct")\n});\nvar failsafe = new schema({\n  explicit: [\n    str,\n    seq,\n    map\n  ]\n});\nfunction resolveYamlNull(data) {\n  if (data === null) return true;\n  var max = data.length;\n  return max === 1 && data === "~" || max === 4 && (data === "null" || data === "Null" || data === "NULL");\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(resolveYamlNull, "resolveYamlNull");\nfunction constructYamlNull() {\n  return null;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(constructYamlNull, "constructYamlNull");\nfunction isNull(object) {\n  return object === null;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isNull, "isNull");\nvar _null = new type("tag:yaml.org,2002:null", {\n  kind: "scalar",\n  resolve: resolveYamlNull,\n  construct: constructYamlNull,\n  predicate: isNull,\n  represent: {\n    canonical: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return "~";\n    }, "canonical"),\n    lowercase: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return "null";\n    }, "lowercase"),\n    uppercase: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return "NULL";\n    }, "uppercase"),\n    camelcase: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return "Null";\n    }, "camelcase"),\n    empty: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function() {\n      return "";\n    }, "empty")\n  },\n  defaultStyle: "lowercase"\n});\nfunction resolveYamlBoolean(data) {\n  if (data === null) return false;\n  var max = data.length;\n  return max === 4 && (data === "true" || data === "True" || data === "TRUE") || max === 5 && (data === "false" || data === "False" || data === "FALSE");\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(resolveYamlBoolean, "resolveYamlBoolean");\nfunction constructYamlBoolean(data) {\n  return data === "true" || data === "True" || data === "TRUE";\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(constructYamlBoolean, "constructYamlBoolean");\nfunction isBoolean(object) {\n  return Object.prototype.toString.call(object) === "[object Boolean]";\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isBoolean, "isBoolean");\nvar bool = new type("tag:yaml.org,2002:bool", {\n  kind: "scalar",\n  resolve: resolveYamlBoolean,\n  construct: constructYamlBoolean,\n  predicate: isBoolean,\n  represent: {\n    lowercase: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(object) {\n      return object ? "true" : "false";\n    }, "lowercase"),\n    uppercase: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(object) {\n      return object ? "TRUE" : "FALSE";\n    }, "uppercase"),\n    camelcase: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(object) {\n      return object ? "True" : "False";\n    }, "camelcase")\n  },\n  defaultStyle: "lowercase"\n});\nfunction isHexCode(c) {\n  return 48 <= c && c <= 57 || 65 <= c && c <= 70 || 97 <= c && c <= 102;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isHexCode, "isHexCode");\nfunction isOctCode(c) {\n  return 48 <= c && c <= 55;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isOctCode, "isOctCode");\nfunction isDecCode(c) {\n  return 48 <= c && c <= 57;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isDecCode, "isDecCode");\nfunction resolveYamlInteger(data) {\n  if (data === null) return false;\n  var max = data.length, index = 0, hasDigits = false, ch;\n  if (!max) return false;\n  ch = data[index];\n  if (ch === "-" || ch === "+") {\n    ch = data[++index];\n  }\n  if (ch === "0") {\n    if (index + 1 === max) return true;\n    ch = data[++index];\n    if (ch === "b") {\n      index++;\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === "_") continue;\n        if (ch !== "0" && ch !== "1") return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== "_";\n    }\n    if (ch === "x") {\n      index++;\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === "_") continue;\n        if (!isHexCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== "_";\n    }\n    if (ch === "o") {\n      index++;\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === "_") continue;\n        if (!isOctCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== "_";\n    }\n  }\n  if (ch === "_") return false;\n  for (; index < max; index++) {\n    ch = data[index];\n    if (ch === "_") continue;\n    if (!isDecCode(data.charCodeAt(index))) {\n      return false;\n    }\n    hasDigits = true;\n  }\n  if (!hasDigits || ch === "_") return false;\n  return true;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(resolveYamlInteger, "resolveYamlInteger");\nfunction constructYamlInteger(data) {\n  var value = data, sign = 1, ch;\n  if (value.indexOf("_") !== -1) {\n    value = value.replace(/_/g, "");\n  }\n  ch = value[0];\n  if (ch === "-" || ch === "+") {\n    if (ch === "-") sign = -1;\n    value = value.slice(1);\n    ch = value[0];\n  }\n  if (value === "0") return 0;\n  if (ch === "0") {\n    if (value[1] === "b") return sign * parseInt(value.slice(2), 2);\n    if (value[1] === "x") return sign * parseInt(value.slice(2), 16);\n    if (value[1] === "o") return sign * parseInt(value.slice(2), 8);\n  }\n  return sign * parseInt(value, 10);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(constructYamlInteger, "constructYamlInteger");\nfunction isInteger(object) {\n  return Object.prototype.toString.call(object) === "[object Number]" && (object % 1 === 0 && !common.isNegativeZero(object));\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isInteger, "isInteger");\nvar int = new type("tag:yaml.org,2002:int", {\n  kind: "scalar",\n  resolve: resolveYamlInteger,\n  construct: constructYamlInteger,\n  predicate: isInteger,\n  represent: {\n    binary: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(obj) {\n      return obj >= 0 ? "0b" + obj.toString(2) : "-0b" + obj.toString(2).slice(1);\n    }, "binary"),\n    octal: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(obj) {\n      return obj >= 0 ? "0o" + obj.toString(8) : "-0o" + obj.toString(8).slice(1);\n    }, "octal"),\n    decimal: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(obj) {\n      return obj.toString(10);\n    }, "decimal"),\n    /* eslint-disable max-len */\n    hexadecimal: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function(obj) {\n      return obj >= 0 ? "0x" + obj.toString(16).toUpperCase() : "-0x" + obj.toString(16).toUpperCase().slice(1);\n    }, "hexadecimal")\n  },\n  defaultStyle: "decimal",\n  styleAliases: {\n    binary: [2, "bin"],\n    octal: [8, "oct"],\n    decimal: [10, "dec"],\n    hexadecimal: [16, "hex"]\n  }\n});\nvar YAML_FLOAT_PATTERN = new RegExp(\n  // 2.5e4, 2.5 and integers\n  "^(?:[-+]?(?:[0-9][0-9_]*)(?:\\\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\\\.(?:inf|Inf|INF)|\\\\.(?:nan|NaN|NAN))$"\n);\nfunction resolveYamlFloat(data) {\n  if (data === null) return false;\n  if (!YAML_FLOAT_PATTERN.test(data) || // Quick hack to not allow integers end with `_`\n  // Probably should update regexp & check speed\n  data[data.length - 1] === "_") {\n    return false;\n  }\n  return true;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(resolveYamlFloat, "resolveYamlFloat");\nfunction constructYamlFloat(data) {\n  var value, sign;\n  value = data.replace(/_/g, "").toLowerCase();\n  sign = value[0] === "-" ? -1 : 1;\n  if ("+-".indexOf(value[0]) >= 0) {\n    value = value.slice(1);\n  }\n  if (value === ".inf") {\n    return sign === 1 ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;\n  } else if (value === ".nan") {\n    return NaN;\n  }\n  return sign * parseFloat(value, 10);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(constructYamlFloat, "constructYamlFloat");\nvar SCIENTIFIC_WITHOUT_DOT = /^[-+]?[0-9]+e/;\nfunction representYamlFloat(object, style) {\n  var res;\n  if (isNaN(object)) {\n    switch (style) {\n      case "lowercase":\n        return ".nan";\n      case "uppercase":\n        return ".NAN";\n      case "camelcase":\n        return ".NaN";\n    }\n  } else if (Number.POSITIVE_INFINITY === object) {\n    switch (style) {\n      case "lowercase":\n        return ".inf";\n      case "uppercase":\n        return ".INF";\n      case "camelcase":\n        return ".Inf";\n    }\n  } else if (Number.NEGATIVE_INFINITY === object) {\n    switch (style) {\n      case "lowercase":\n        return "-.inf";\n      case "uppercase":\n        return "-.INF";\n      case "camelcase":\n        return "-.Inf";\n    }\n  } else if (common.isNegativeZero(object)) {\n    return "-0.0";\n  }\n  res = object.toString(10);\n  return SCIENTIFIC_WITHOUT_DOT.test(res) ? res.replace("e", ".e") : res;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(representYamlFloat, "representYamlFloat");\nfunction isFloat(object) {\n  return Object.prototype.toString.call(object) === "[object Number]" && (object % 1 !== 0 || common.isNegativeZero(object));\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isFloat, "isFloat");\nvar float = new type("tag:yaml.org,2002:float", {\n  kind: "scalar",\n  resolve: resolveYamlFloat,\n  construct: constructYamlFloat,\n  predicate: isFloat,\n  represent: representYamlFloat,\n  defaultStyle: "lowercase"\n});\nvar json = failsafe.extend({\n  implicit: [\n    _null,\n    bool,\n    int,\n    float\n  ]\n});\nvar core = json;\nvar YAML_DATE_REGEXP = new RegExp(\n  "^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"\n);\nvar YAML_TIMESTAMP_REGEXP = new RegExp(\n  "^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\\\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\\\.([0-9]*))?(?:[ \\\\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"\n);\nfunction resolveYamlTimestamp(data) {\n  if (data === null) return false;\n  if (YAML_DATE_REGEXP.exec(data) !== null) return true;\n  if (YAML_TIMESTAMP_REGEXP.exec(data) !== null) return true;\n  return false;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(resolveYamlTimestamp, "resolveYamlTimestamp");\nfunction constructYamlTimestamp(data) {\n  var match, year, month, day, hour, minute, second, fraction = 0, delta = null, tz_hour, tz_minute, date;\n  match = YAML_DATE_REGEXP.exec(data);\n  if (match === null) match = YAML_TIMESTAMP_REGEXP.exec(data);\n  if (match === null) throw new Error("Date resolve error");\n  year = +match[1];\n  month = +match[2] - 1;\n  day = +match[3];\n  if (!match[4]) {\n    return new Date(Date.UTC(year, month, day));\n  }\n  hour = +match[4];\n  minute = +match[5];\n  second = +match[6];\n  if (match[7]) {\n    fraction = match[7].slice(0, 3);\n    while (fraction.length < 3) {\n      fraction += "0";\n    }\n    fraction = +fraction;\n  }\n  if (match[9]) {\n    tz_hour = +match[10];\n    tz_minute = +(match[11] || 0);\n    delta = (tz_hour * 60 + tz_minute) * 6e4;\n    if (match[9] === "-") delta = -delta;\n  }\n  date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));\n  if (delta) date.setTime(date.getTime() - delta);\n  return date;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(constructYamlTimestamp, "constructYamlTimestamp");\nfunction representYamlTimestamp(object) {\n  return object.toISOString();\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(representYamlTimestamp, "representYamlTimestamp");\nvar timestamp = new type("tag:yaml.org,2002:timestamp", {\n  kind: "scalar",\n  resolve: resolveYamlTimestamp,\n  construct: constructYamlTimestamp,\n  instanceOf: Date,\n  represent: representYamlTimestamp\n});\nfunction resolveYamlMerge(data) {\n  return data === "<<" || data === null;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(resolveYamlMerge, "resolveYamlMerge");\nvar merge = new type("tag:yaml.org,2002:merge", {\n  kind: "scalar",\n  resolve: resolveYamlMerge\n});\nvar BASE64_MAP = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\n\\r";\nfunction resolveYamlBinary(data) {\n  if (data === null) return false;\n  var code, idx, bitlen = 0, max = data.length, map2 = BASE64_MAP;\n  for (idx = 0; idx < max; idx++) {\n    code = map2.indexOf(data.charAt(idx));\n    if (code > 64) continue;\n    if (code < 0) return false;\n    bitlen += 6;\n  }\n  return bitlen % 8 === 0;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(resolveYamlBinary, "resolveYamlBinary");\nfunction constructYamlBinary(data) {\n  var idx, tailbits, input = data.replace(/[\\r\\n=]/g, ""), max = input.length, map2 = BASE64_MAP, bits = 0, result = [];\n  for (idx = 0; idx < max; idx++) {\n    if (idx % 4 === 0 && idx) {\n      result.push(bits >> 16 & 255);\n      result.push(bits >> 8 & 255);\n      result.push(bits & 255);\n    }\n    bits = bits << 6 | map2.indexOf(input.charAt(idx));\n  }\n  tailbits = max % 4 * 6;\n  if (tailbits === 0) {\n    result.push(bits >> 16 & 255);\n    result.push(bits >> 8 & 255);\n    result.push(bits & 255);\n  } else if (tailbits === 18) {\n    result.push(bits >> 10 & 255);\n    result.push(bits >> 2 & 255);\n  } else if (tailbits === 12) {\n    result.push(bits >> 4 & 255);\n  }\n  return new Uint8Array(result);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(constructYamlBinary, "constructYamlBinary");\nfunction representYamlBinary(object) {\n  var result = "", bits = 0, idx, tail, max = object.length, map2 = BASE64_MAP;\n  for (idx = 0; idx < max; idx++) {\n    if (idx % 3 === 0 && idx) {\n      result += map2[bits >> 18 & 63];\n      result += map2[bits >> 12 & 63];\n      result += map2[bits >> 6 & 63];\n      result += map2[bits & 63];\n    }\n    bits = (bits << 8) + object[idx];\n  }\n  tail = max % 3;\n  if (tail === 0) {\n    result += map2[bits >> 18 & 63];\n    result += map2[bits >> 12 & 63];\n    result += map2[bits >> 6 & 63];\n    result += map2[bits & 63];\n  } else if (tail === 2) {\n    result += map2[bits >> 10 & 63];\n    result += map2[bits >> 4 & 63];\n    result += map2[bits << 2 & 63];\n    result += map2[64];\n  } else if (tail === 1) {\n    result += map2[bits >> 2 & 63];\n    result += map2[bits << 4 & 63];\n    result += map2[64];\n    result += map2[64];\n  }\n  return result;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(representYamlBinary, "representYamlBinary");\nfunction isBinary(obj) {\n  return Object.prototype.toString.call(obj) === "[object Uint8Array]";\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isBinary, "isBinary");\nvar binary = new type("tag:yaml.org,2002:binary", {\n  kind: "scalar",\n  resolve: resolveYamlBinary,\n  construct: constructYamlBinary,\n  predicate: isBinary,\n  represent: representYamlBinary\n});\nvar _hasOwnProperty$3 = Object.prototype.hasOwnProperty;\nvar _toString$2 = Object.prototype.toString;\nfunction resolveYamlOmap(data) {\n  if (data === null) return true;\n  var objectKeys = [], index, length, pair, pairKey, pairHasKey, object = data;\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n    pairHasKey = false;\n    if (_toString$2.call(pair) !== "[object Object]") return false;\n    for (pairKey in pair) {\n      if (_hasOwnProperty$3.call(pair, pairKey)) {\n        if (!pairHasKey) pairHasKey = true;\n        else return false;\n      }\n    }\n    if (!pairHasKey) return false;\n    if (objectKeys.indexOf(pairKey) === -1) objectKeys.push(pairKey);\n    else return false;\n  }\n  return true;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(resolveYamlOmap, "resolveYamlOmap");\nfunction constructYamlOmap(data) {\n  return data !== null ? data : [];\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(constructYamlOmap, "constructYamlOmap");\nvar omap = new type("tag:yaml.org,2002:omap", {\n  kind: "sequence",\n  resolve: resolveYamlOmap,\n  construct: constructYamlOmap\n});\nvar _toString$1 = Object.prototype.toString;\nfunction resolveYamlPairs(data) {\n  if (data === null) return true;\n  var index, length, pair, keys, result, object = data;\n  result = new Array(object.length);\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n    if (_toString$1.call(pair) !== "[object Object]") return false;\n    keys = Object.keys(pair);\n    if (keys.length !== 1) return false;\n    result[index] = [keys[0], pair[keys[0]]];\n  }\n  return true;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(resolveYamlPairs, "resolveYamlPairs");\nfunction constructYamlPairs(data) {\n  if (data === null) return [];\n  var index, length, pair, keys, result, object = data;\n  result = new Array(object.length);\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n    keys = Object.keys(pair);\n    result[index] = [keys[0], pair[keys[0]]];\n  }\n  return result;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(constructYamlPairs, "constructYamlPairs");\nvar pairs = new type("tag:yaml.org,2002:pairs", {\n  kind: "sequence",\n  resolve: resolveYamlPairs,\n  construct: constructYamlPairs\n});\nvar _hasOwnProperty$2 = Object.prototype.hasOwnProperty;\nfunction resolveYamlSet(data) {\n  if (data === null) return true;\n  var key, object = data;\n  for (key in object) {\n    if (_hasOwnProperty$2.call(object, key)) {\n      if (object[key] !== null) return false;\n    }\n  }\n  return true;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(resolveYamlSet, "resolveYamlSet");\nfunction constructYamlSet(data) {\n  return data !== null ? data : {};\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(constructYamlSet, "constructYamlSet");\nvar set = new type("tag:yaml.org,2002:set", {\n  kind: "mapping",\n  resolve: resolveYamlSet,\n  construct: constructYamlSet\n});\nvar _default = core.extend({\n  implicit: [\n    timestamp,\n    merge\n  ],\n  explicit: [\n    binary,\n    omap,\n    pairs,\n    set\n  ]\n});\nvar _hasOwnProperty$1 = Object.prototype.hasOwnProperty;\nvar CONTEXT_FLOW_IN = 1;\nvar CONTEXT_FLOW_OUT = 2;\nvar CONTEXT_BLOCK_IN = 3;\nvar CONTEXT_BLOCK_OUT = 4;\nvar CHOMPING_CLIP = 1;\nvar CHOMPING_STRIP = 2;\nvar CHOMPING_KEEP = 3;\nvar PATTERN_NON_PRINTABLE = /[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\nvar PATTERN_NON_ASCII_LINE_BREAKS = /[\\x85\\u2028\\u2029]/;\nvar PATTERN_FLOW_INDICATORS = /[,\\[\\]\\{\\}]/;\nvar PATTERN_TAG_HANDLE = /^(?:!|!!|![a-z\\-]+!)$/i;\nvar PATTERN_TAG_URI = /^(?:!|[^,\\[\\]\\{\\}])(?:%[0-9a-f]{2}|[0-9a-z\\-#;\\/\\?:@&=\\+\\$,_\\.!~\\*\'\\(\\)\\[\\]])*$/i;\nfunction _class(obj) {\n  return Object.prototype.toString.call(obj);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(_class, "_class");\nfunction is_EOL(c) {\n  return c === 10 || c === 13;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(is_EOL, "is_EOL");\nfunction is_WHITE_SPACE(c) {\n  return c === 9 || c === 32;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(is_WHITE_SPACE, "is_WHITE_SPACE");\nfunction is_WS_OR_EOL(c) {\n  return c === 9 || c === 32 || c === 10 || c === 13;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(is_WS_OR_EOL, "is_WS_OR_EOL");\nfunction is_FLOW_INDICATOR(c) {\n  return c === 44 || c === 91 || c === 93 || c === 123 || c === 125;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(is_FLOW_INDICATOR, "is_FLOW_INDICATOR");\nfunction fromHexCode(c) {\n  var lc;\n  if (48 <= c && c <= 57) {\n    return c - 48;\n  }\n  lc = c | 32;\n  if (97 <= lc && lc <= 102) {\n    return lc - 97 + 10;\n  }\n  return -1;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(fromHexCode, "fromHexCode");\nfunction escapedHexLen(c) {\n  if (c === 120) {\n    return 2;\n  }\n  if (c === 117) {\n    return 4;\n  }\n  if (c === 85) {\n    return 8;\n  }\n  return 0;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(escapedHexLen, "escapedHexLen");\nfunction fromDecimalCode(c) {\n  if (48 <= c && c <= 57) {\n    return c - 48;\n  }\n  return -1;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(fromDecimalCode, "fromDecimalCode");\nfunction simpleEscapeSequence(c) {\n  return c === 48 ? "\\0" : c === 97 ? "\\x07" : c === 98 ? "\\b" : c === 116 ? "\t" : c === 9 ? "\t" : c === 110 ? "\\n" : c === 118 ? "\\v" : c === 102 ? "\\f" : c === 114 ? "\\r" : c === 101 ? "\\x1B" : c === 32 ? " " : c === 34 ? \'"\' : c === 47 ? "/" : c === 92 ? "\\\\" : c === 78 ? "\\x85" : c === 95 ? "\\xA0" : c === 76 ? "\\u2028" : c === 80 ? "\\u2029" : "";\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(simpleEscapeSequence, "simpleEscapeSequence");\nfunction charFromCodepoint(c) {\n  if (c <= 65535) {\n    return String.fromCharCode(c);\n  }\n  return String.fromCharCode(\n    (c - 65536 >> 10) + 55296,\n    (c - 65536 & 1023) + 56320\n  );\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(charFromCodepoint, "charFromCodepoint");\nvar simpleEscapeCheck = new Array(256);\nvar simpleEscapeMap = new Array(256);\nfor (i = 0; i < 256; i++) {\n  simpleEscapeCheck[i] = simpleEscapeSequence(i) ? 1 : 0;\n  simpleEscapeMap[i] = simpleEscapeSequence(i);\n}\nvar i;\nfunction State$1(input, options) {\n  this.input = input;\n  this.filename = options["filename"] || null;\n  this.schema = options["schema"] || _default;\n  this.onWarning = options["onWarning"] || null;\n  this.legacy = options["legacy"] || false;\n  this.json = options["json"] || false;\n  this.listener = options["listener"] || null;\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.typeMap = this.schema.compiledTypeMap;\n  this.length = input.length;\n  this.position = 0;\n  this.line = 0;\n  this.lineStart = 0;\n  this.lineIndent = 0;\n  this.firstTabInLine = -1;\n  this.documents = [];\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(State$1, "State$1");\nfunction generateError(state, message) {\n  var mark = {\n    name: state.filename,\n    buffer: state.input.slice(0, -1),\n    // omit trailing \\0\n    position: state.position,\n    line: state.line,\n    column: state.position - state.lineStart\n  };\n  mark.snippet = snippet(mark);\n  return new exception(message, mark);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(generateError, "generateError");\nfunction throwError(state, message) {\n  throw generateError(state, message);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(throwError, "throwError");\nfunction throwWarning(state, message) {\n  if (state.onWarning) {\n    state.onWarning.call(null, generateError(state, message));\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(throwWarning, "throwWarning");\nvar directiveHandlers = {\n  YAML: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function handleYamlDirective(state, name, args) {\n    var match, major, minor;\n    if (state.version !== null) {\n      throwError(state, "duplication of %YAML directive");\n    }\n    if (args.length !== 1) {\n      throwError(state, "YAML directive accepts exactly one argument");\n    }\n    match = /^([0-9]+)\\.([0-9]+)$/.exec(args[0]);\n    if (match === null) {\n      throwError(state, "ill-formed argument of the YAML directive");\n    }\n    major = parseInt(match[1], 10);\n    minor = parseInt(match[2], 10);\n    if (major !== 1) {\n      throwError(state, "unacceptable YAML version of the document");\n    }\n    state.version = args[0];\n    state.checkLineBreaks = minor < 2;\n    if (minor !== 1 && minor !== 2) {\n      throwWarning(state, "unsupported YAML version of the document");\n    }\n  }, "handleYamlDirective"),\n  TAG: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(function handleTagDirective(state, name, args) {\n    var handle, prefix;\n    if (args.length !== 2) {\n      throwError(state, "TAG directive accepts exactly two arguments");\n    }\n    handle = args[0];\n    prefix = args[1];\n    if (!PATTERN_TAG_HANDLE.test(handle)) {\n      throwError(state, "ill-formed tag handle (first argument) of the TAG directive");\n    }\n    if (_hasOwnProperty$1.call(state.tagMap, handle)) {\n      throwError(state, \'there is a previously declared suffix for "\' + handle + \'" tag handle\');\n    }\n    if (!PATTERN_TAG_URI.test(prefix)) {\n      throwError(state, "ill-formed tag prefix (second argument) of the TAG directive");\n    }\n    try {\n      prefix = decodeURIComponent(prefix);\n    } catch (err) {\n      throwError(state, "tag prefix is malformed: " + prefix);\n    }\n    state.tagMap[handle] = prefix;\n  }, "handleTagDirective")\n};\nfunction captureSegment(state, start, end, checkJson) {\n  var _position, _length, _character, _result;\n  if (start < end) {\n    _result = state.input.slice(start, end);\n    if (checkJson) {\n      for (_position = 0, _length = _result.length; _position < _length; _position += 1) {\n        _character = _result.charCodeAt(_position);\n        if (!(_character === 9 || 32 <= _character && _character <= 1114111)) {\n          throwError(state, "expected valid JSON character");\n        }\n      }\n    } else if (PATTERN_NON_PRINTABLE.test(_result)) {\n      throwError(state, "the stream contains non-printable characters");\n    }\n    state.result += _result;\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(captureSegment, "captureSegment");\nfunction mergeMappings(state, destination, source, overridableKeys) {\n  var sourceKeys, key, index, quantity;\n  if (!common.isObject(source)) {\n    throwError(state, "cannot merge mappings; the provided source object is unacceptable");\n  }\n  sourceKeys = Object.keys(source);\n  for (index = 0, quantity = sourceKeys.length; index < quantity; index += 1) {\n    key = sourceKeys[index];\n    if (!_hasOwnProperty$1.call(destination, key)) {\n      destination[key] = source[key];\n      overridableKeys[key] = true;\n    }\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(mergeMappings, "mergeMappings");\nfunction storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, startLine, startLineStart, startPos) {\n  var index, quantity;\n  if (Array.isArray(keyNode)) {\n    keyNode = Array.prototype.slice.call(keyNode);\n    for (index = 0, quantity = keyNode.length; index < quantity; index += 1) {\n      if (Array.isArray(keyNode[index])) {\n        throwError(state, "nested arrays are not supported inside keys");\n      }\n      if (typeof keyNode === "object" && _class(keyNode[index]) === "[object Object]") {\n        keyNode[index] = "[object Object]";\n      }\n    }\n  }\n  if (typeof keyNode === "object" && _class(keyNode) === "[object Object]") {\n    keyNode = "[object Object]";\n  }\n  keyNode = String(keyNode);\n  if (_result === null) {\n    _result = {};\n  }\n  if (keyTag === "tag:yaml.org,2002:merge") {\n    if (Array.isArray(valueNode)) {\n      for (index = 0, quantity = valueNode.length; index < quantity; index += 1) {\n        mergeMappings(state, _result, valueNode[index], overridableKeys);\n      }\n    } else {\n      mergeMappings(state, _result, valueNode, overridableKeys);\n    }\n  } else {\n    if (!state.json && !_hasOwnProperty$1.call(overridableKeys, keyNode) && _hasOwnProperty$1.call(_result, keyNode)) {\n      state.line = startLine || state.line;\n      state.lineStart = startLineStart || state.lineStart;\n      state.position = startPos || state.position;\n      throwError(state, "duplicated mapping key");\n    }\n    if (keyNode === "__proto__") {\n      Object.defineProperty(_result, keyNode, {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: valueNode\n      });\n    } else {\n      _result[keyNode] = valueNode;\n    }\n    delete overridableKeys[keyNode];\n  }\n  return _result;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(storeMappingPair, "storeMappingPair");\nfunction readLineBreak(state) {\n  var ch;\n  ch = state.input.charCodeAt(state.position);\n  if (ch === 10) {\n    state.position++;\n  } else if (ch === 13) {\n    state.position++;\n    if (state.input.charCodeAt(state.position) === 10) {\n      state.position++;\n    }\n  } else {\n    throwError(state, "a line break is expected");\n  }\n  state.line += 1;\n  state.lineStart = state.position;\n  state.firstTabInLine = -1;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(readLineBreak, "readLineBreak");\nfunction skipSeparationSpace(state, allowComments, checkIndent) {\n  var lineBreaks = 0, ch = state.input.charCodeAt(state.position);\n  while (ch !== 0) {\n    while (is_WHITE_SPACE(ch)) {\n      if (ch === 9 && state.firstTabInLine === -1) {\n        state.firstTabInLine = state.position;\n      }\n      ch = state.input.charCodeAt(++state.position);\n    }\n    if (allowComments && ch === 35) {\n      do {\n        ch = state.input.charCodeAt(++state.position);\n      } while (ch !== 10 && ch !== 13 && ch !== 0);\n    }\n    if (is_EOL(ch)) {\n      readLineBreak(state);\n      ch = state.input.charCodeAt(state.position);\n      lineBreaks++;\n      state.lineIndent = 0;\n      while (ch === 32) {\n        state.lineIndent++;\n        ch = state.input.charCodeAt(++state.position);\n      }\n    } else {\n      break;\n    }\n  }\n  if (checkIndent !== -1 && lineBreaks !== 0 && state.lineIndent < checkIndent) {\n    throwWarning(state, "deficient indentation");\n  }\n  return lineBreaks;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(skipSeparationSpace, "skipSeparationSpace");\nfunction testDocumentSeparator(state) {\n  var _position = state.position, ch;\n  ch = state.input.charCodeAt(_position);\n  if ((ch === 45 || ch === 46) && ch === state.input.charCodeAt(_position + 1) && ch === state.input.charCodeAt(_position + 2)) {\n    _position += 3;\n    ch = state.input.charCodeAt(_position);\n    if (ch === 0 || is_WS_OR_EOL(ch)) {\n      return true;\n    }\n  }\n  return false;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(testDocumentSeparator, "testDocumentSeparator");\nfunction writeFoldedLines(state, count) {\n  if (count === 1) {\n    state.result += " ";\n  } else if (count > 1) {\n    state.result += common.repeat("\\n", count - 1);\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(writeFoldedLines, "writeFoldedLines");\nfunction readPlainScalar(state, nodeIndent, withinFlowCollection) {\n  var preceding, following, captureStart, captureEnd, hasPendingContent, _line, _lineStart, _lineIndent, _kind = state.kind, _result = state.result, ch;\n  ch = state.input.charCodeAt(state.position);\n  if (is_WS_OR_EOL(ch) || is_FLOW_INDICATOR(ch) || ch === 35 || ch === 38 || ch === 42 || ch === 33 || ch === 124 || ch === 62 || ch === 39 || ch === 34 || ch === 37 || ch === 64 || ch === 96) {\n    return false;\n  }\n  if (ch === 63 || ch === 45) {\n    following = state.input.charCodeAt(state.position + 1);\n    if (is_WS_OR_EOL(following) || withinFlowCollection && is_FLOW_INDICATOR(following)) {\n      return false;\n    }\n  }\n  state.kind = "scalar";\n  state.result = "";\n  captureStart = captureEnd = state.position;\n  hasPendingContent = false;\n  while (ch !== 0) {\n    if (ch === 58) {\n      following = state.input.charCodeAt(state.position + 1);\n      if (is_WS_OR_EOL(following) || withinFlowCollection && is_FLOW_INDICATOR(following)) {\n        break;\n      }\n    } else if (ch === 35) {\n      preceding = state.input.charCodeAt(state.position - 1);\n      if (is_WS_OR_EOL(preceding)) {\n        break;\n      }\n    } else if (state.position === state.lineStart && testDocumentSeparator(state) || withinFlowCollection && is_FLOW_INDICATOR(ch)) {\n      break;\n    } else if (is_EOL(ch)) {\n      _line = state.line;\n      _lineStart = state.lineStart;\n      _lineIndent = state.lineIndent;\n      skipSeparationSpace(state, false, -1);\n      if (state.lineIndent >= nodeIndent) {\n        hasPendingContent = true;\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      } else {\n        state.position = captureEnd;\n        state.line = _line;\n        state.lineStart = _lineStart;\n        state.lineIndent = _lineIndent;\n        break;\n      }\n    }\n    if (hasPendingContent) {\n      captureSegment(state, captureStart, captureEnd, false);\n      writeFoldedLines(state, state.line - _line);\n      captureStart = captureEnd = state.position;\n      hasPendingContent = false;\n    }\n    if (!is_WHITE_SPACE(ch)) {\n      captureEnd = state.position + 1;\n    }\n    ch = state.input.charCodeAt(++state.position);\n  }\n  captureSegment(state, captureStart, captureEnd, false);\n  if (state.result) {\n    return true;\n  }\n  state.kind = _kind;\n  state.result = _result;\n  return false;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(readPlainScalar, "readPlainScalar");\nfunction readSingleQuotedScalar(state, nodeIndent) {\n  var ch, captureStart, captureEnd;\n  ch = state.input.charCodeAt(state.position);\n  if (ch !== 39) {\n    return false;\n  }\n  state.kind = "scalar";\n  state.result = "";\n  state.position++;\n  captureStart = captureEnd = state.position;\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 39) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n      if (ch === 39) {\n        captureStart = state.position;\n        state.position++;\n        captureEnd = state.position;\n      } else {\n        return true;\n      }\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, "unexpected end of the document within a single quoted scalar");\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n  throwError(state, "unexpected end of the stream within a single quoted scalar");\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(readSingleQuotedScalar, "readSingleQuotedScalar");\nfunction readDoubleQuotedScalar(state, nodeIndent) {\n  var captureStart, captureEnd, hexLength, hexResult, tmp, ch;\n  ch = state.input.charCodeAt(state.position);\n  if (ch !== 34) {\n    return false;\n  }\n  state.kind = "scalar";\n  state.result = "";\n  state.position++;\n  captureStart = captureEnd = state.position;\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 34) {\n      captureSegment(state, captureStart, state.position, true);\n      state.position++;\n      return true;\n    } else if (ch === 92) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n      if (is_EOL(ch)) {\n        skipSeparationSpace(state, false, nodeIndent);\n      } else if (ch < 256 && simpleEscapeCheck[ch]) {\n        state.result += simpleEscapeMap[ch];\n        state.position++;\n      } else if ((tmp = escapedHexLen(ch)) > 0) {\n        hexLength = tmp;\n        hexResult = 0;\n        for (; hexLength > 0; hexLength--) {\n          ch = state.input.charCodeAt(++state.position);\n          if ((tmp = fromHexCode(ch)) >= 0) {\n            hexResult = (hexResult << 4) + tmp;\n          } else {\n            throwError(state, "expected hexadecimal character");\n          }\n        }\n        state.result += charFromCodepoint(hexResult);\n        state.position++;\n      } else {\n        throwError(state, "unknown escape sequence");\n      }\n      captureStart = captureEnd = state.position;\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, "unexpected end of the document within a double quoted scalar");\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n  throwError(state, "unexpected end of the stream within a double quoted scalar");\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(readDoubleQuotedScalar, "readDoubleQuotedScalar");\nfunction readFlowCollection(state, nodeIndent) {\n  var readNext = true, _line, _lineStart, _pos, _tag = state.tag, _result, _anchor = state.anchor, following, terminator, isPair, isExplicitPair, isMapping, overridableKeys = /* @__PURE__ */ Object.create(null), keyNode, keyTag, valueNode, ch;\n  ch = state.input.charCodeAt(state.position);\n  if (ch === 91) {\n    terminator = 93;\n    isMapping = false;\n    _result = [];\n  } else if (ch === 123) {\n    terminator = 125;\n    isMapping = true;\n    _result = {};\n  } else {\n    return false;\n  }\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n  ch = state.input.charCodeAt(++state.position);\n  while (ch !== 0) {\n    skipSeparationSpace(state, true, nodeIndent);\n    ch = state.input.charCodeAt(state.position);\n    if (ch === terminator) {\n      state.position++;\n      state.tag = _tag;\n      state.anchor = _anchor;\n      state.kind = isMapping ? "mapping" : "sequence";\n      state.result = _result;\n      return true;\n    } else if (!readNext) {\n      throwError(state, "missed comma between flow collection entries");\n    } else if (ch === 44) {\n      throwError(state, "expected the node content, but found \',\'");\n    }\n    keyTag = keyNode = valueNode = null;\n    isPair = isExplicitPair = false;\n    if (ch === 63) {\n      following = state.input.charCodeAt(state.position + 1);\n      if (is_WS_OR_EOL(following)) {\n        isPair = isExplicitPair = true;\n        state.position++;\n        skipSeparationSpace(state, true, nodeIndent);\n      }\n    }\n    _line = state.line;\n    _lineStart = state.lineStart;\n    _pos = state.position;\n    composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n    keyTag = state.tag;\n    keyNode = state.result;\n    skipSeparationSpace(state, true, nodeIndent);\n    ch = state.input.charCodeAt(state.position);\n    if ((isExplicitPair || state.line === _line) && ch === 58) {\n      isPair = true;\n      ch = state.input.charCodeAt(++state.position);\n      skipSeparationSpace(state, true, nodeIndent);\n      composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n      valueNode = state.result;\n    }\n    if (isMapping) {\n      storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos);\n    } else if (isPair) {\n      _result.push(storeMappingPair(state, null, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos));\n    } else {\n      _result.push(keyNode);\n    }\n    skipSeparationSpace(state, true, nodeIndent);\n    ch = state.input.charCodeAt(state.position);\n    if (ch === 44) {\n      readNext = true;\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      readNext = false;\n    }\n  }\n  throwError(state, "unexpected end of the stream within a flow collection");\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(readFlowCollection, "readFlowCollection");\nfunction readBlockScalar(state, nodeIndent) {\n  var captureStart, folding, chomping = CHOMPING_CLIP, didReadContent = false, detectedIndent = false, textIndent = nodeIndent, emptyLines = 0, atMoreIndented = false, tmp, ch;\n  ch = state.input.charCodeAt(state.position);\n  if (ch === 124) {\n    folding = false;\n  } else if (ch === 62) {\n    folding = true;\n  } else {\n    return false;\n  }\n  state.kind = "scalar";\n  state.result = "";\n  while (ch !== 0) {\n    ch = state.input.charCodeAt(++state.position);\n    if (ch === 43 || ch === 45) {\n      if (CHOMPING_CLIP === chomping) {\n        chomping = ch === 43 ? CHOMPING_KEEP : CHOMPING_STRIP;\n      } else {\n        throwError(state, "repeat of a chomping mode identifier");\n      }\n    } else if ((tmp = fromDecimalCode(ch)) >= 0) {\n      if (tmp === 0) {\n        throwError(state, "bad explicit indentation width of a block scalar; it cannot be less than one");\n      } else if (!detectedIndent) {\n        textIndent = nodeIndent + tmp - 1;\n        detectedIndent = true;\n      } else {\n        throwError(state, "repeat of an indentation width identifier");\n      }\n    } else {\n      break;\n    }\n  }\n  if (is_WHITE_SPACE(ch)) {\n    do {\n      ch = state.input.charCodeAt(++state.position);\n    } while (is_WHITE_SPACE(ch));\n    if (ch === 35) {\n      do {\n        ch = state.input.charCodeAt(++state.position);\n      } while (!is_EOL(ch) && ch !== 0);\n    }\n  }\n  while (ch !== 0) {\n    readLineBreak(state);\n    state.lineIndent = 0;\n    ch = state.input.charCodeAt(state.position);\n    while ((!detectedIndent || state.lineIndent < textIndent) && ch === 32) {\n      state.lineIndent++;\n      ch = state.input.charCodeAt(++state.position);\n    }\n    if (!detectedIndent && state.lineIndent > textIndent) {\n      textIndent = state.lineIndent;\n    }\n    if (is_EOL(ch)) {\n      emptyLines++;\n      continue;\n    }\n    if (state.lineIndent < textIndent) {\n      if (chomping === CHOMPING_KEEP) {\n        state.result += common.repeat("\\n", didReadContent ? 1 + emptyLines : emptyLines);\n      } else if (chomping === CHOMPING_CLIP) {\n        if (didReadContent) {\n          state.result += "\\n";\n        }\n      }\n      break;\n    }\n    if (folding) {\n      if (is_WHITE_SPACE(ch)) {\n        atMoreIndented = true;\n        state.result += common.repeat("\\n", didReadContent ? 1 + emptyLines : emptyLines);\n      } else if (atMoreIndented) {\n        atMoreIndented = false;\n        state.result += common.repeat("\\n", emptyLines + 1);\n      } else if (emptyLines === 0) {\n        if (didReadContent) {\n          state.result += " ";\n        }\n      } else {\n        state.result += common.repeat("\\n", emptyLines);\n      }\n    } else {\n      state.result += common.repeat("\\n", didReadContent ? 1 + emptyLines : emptyLines);\n    }\n    didReadContent = true;\n    detectedIndent = true;\n    emptyLines = 0;\n    captureStart = state.position;\n    while (!is_EOL(ch) && ch !== 0) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n    captureSegment(state, captureStart, state.position, false);\n  }\n  return true;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(readBlockScalar, "readBlockScalar");\nfunction readBlockSequence(state, nodeIndent) {\n  var _line, _tag = state.tag, _anchor = state.anchor, _result = [], following, detected = false, ch;\n  if (state.firstTabInLine !== -1) return false;\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n  ch = state.input.charCodeAt(state.position);\n  while (ch !== 0) {\n    if (state.firstTabInLine !== -1) {\n      state.position = state.firstTabInLine;\n      throwError(state, "tab characters must not be used in indentation");\n    }\n    if (ch !== 45) {\n      break;\n    }\n    following = state.input.charCodeAt(state.position + 1);\n    if (!is_WS_OR_EOL(following)) {\n      break;\n    }\n    detected = true;\n    state.position++;\n    if (skipSeparationSpace(state, true, -1)) {\n      if (state.lineIndent <= nodeIndent) {\n        _result.push(null);\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      }\n    }\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);\n    _result.push(state.result);\n    skipSeparationSpace(state, true, -1);\n    ch = state.input.charCodeAt(state.position);\n    if ((state.line === _line || state.lineIndent > nodeIndent) && ch !== 0) {\n      throwError(state, "bad indentation of a sequence entry");\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = "sequence";\n    state.result = _result;\n    return true;\n  }\n  return false;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(readBlockSequence, "readBlockSequence");\nfunction readBlockMapping(state, nodeIndent, flowIndent) {\n  var following, allowCompact, _line, _keyLine, _keyLineStart, _keyPos, _tag = state.tag, _anchor = state.anchor, _result = {}, overridableKeys = /* @__PURE__ */ Object.create(null), keyTag = null, keyNode = null, valueNode = null, atExplicitKey = false, detected = false, ch;\n  if (state.firstTabInLine !== -1) return false;\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n  ch = state.input.charCodeAt(state.position);\n  while (ch !== 0) {\n    if (!atExplicitKey && state.firstTabInLine !== -1) {\n      state.position = state.firstTabInLine;\n      throwError(state, "tab characters must not be used in indentation");\n    }\n    following = state.input.charCodeAt(state.position + 1);\n    _line = state.line;\n    if ((ch === 63 || ch === 58) && is_WS_OR_EOL(following)) {\n      if (ch === 63) {\n        if (atExplicitKey) {\n          storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n          keyTag = keyNode = valueNode = null;\n        }\n        detected = true;\n        atExplicitKey = true;\n        allowCompact = true;\n      } else if (atExplicitKey) {\n        atExplicitKey = false;\n        allowCompact = true;\n      } else {\n        throwError(state, "incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line");\n      }\n      state.position += 1;\n      ch = following;\n    } else {\n      _keyLine = state.line;\n      _keyLineStart = state.lineStart;\n      _keyPos = state.position;\n      if (!composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {\n        break;\n      }\n      if (state.line === _line) {\n        ch = state.input.charCodeAt(state.position);\n        while (is_WHITE_SPACE(ch)) {\n          ch = state.input.charCodeAt(++state.position);\n        }\n        if (ch === 58) {\n          ch = state.input.charCodeAt(++state.position);\n          if (!is_WS_OR_EOL(ch)) {\n            throwError(state, "a whitespace character is expected after the key-value separator within a block mapping");\n          }\n          if (atExplicitKey) {\n            storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n            keyTag = keyNode = valueNode = null;\n          }\n          detected = true;\n          atExplicitKey = false;\n          allowCompact = false;\n          keyTag = state.tag;\n          keyNode = state.result;\n        } else if (detected) {\n          throwError(state, "can not read an implicit mapping pair; a colon is missed");\n        } else {\n          state.tag = _tag;\n          state.anchor = _anchor;\n          return true;\n        }\n      } else if (detected) {\n        throwError(state, "can not read a block mapping entry; a multiline key may not be an implicit key");\n      } else {\n        state.tag = _tag;\n        state.anchor = _anchor;\n        return true;\n      }\n    }\n    if (state.line === _line || state.lineIndent > nodeIndent) {\n      if (atExplicitKey) {\n        _keyLine = state.line;\n        _keyLineStart = state.lineStart;\n        _keyPos = state.position;\n      }\n      if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {\n        if (atExplicitKey) {\n          keyNode = state.result;\n        } else {\n          valueNode = state.result;\n        }\n      }\n      if (!atExplicitKey) {\n        storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _keyLine, _keyLineStart, _keyPos);\n        keyTag = keyNode = valueNode = null;\n      }\n      skipSeparationSpace(state, true, -1);\n      ch = state.input.charCodeAt(state.position);\n    }\n    if ((state.line === _line || state.lineIndent > nodeIndent) && ch !== 0) {\n      throwError(state, "bad indentation of a mapping entry");\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n  if (atExplicitKey) {\n    storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n  }\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = "mapping";\n    state.result = _result;\n  }\n  return detected;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(readBlockMapping, "readBlockMapping");\nfunction readTagProperty(state) {\n  var _position, isVerbatim = false, isNamed = false, tagHandle, tagName, ch;\n  ch = state.input.charCodeAt(state.position);\n  if (ch !== 33) return false;\n  if (state.tag !== null) {\n    throwError(state, "duplication of a tag property");\n  }\n  ch = state.input.charCodeAt(++state.position);\n  if (ch === 60) {\n    isVerbatim = true;\n    ch = state.input.charCodeAt(++state.position);\n  } else if (ch === 33) {\n    isNamed = true;\n    tagHandle = "!!";\n    ch = state.input.charCodeAt(++state.position);\n  } else {\n    tagHandle = "!";\n  }\n  _position = state.position;\n  if (isVerbatim) {\n    do {\n      ch = state.input.charCodeAt(++state.position);\n    } while (ch !== 0 && ch !== 62);\n    if (state.position < state.length) {\n      tagName = state.input.slice(_position, state.position);\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      throwError(state, "unexpected end of the stream within a verbatim tag");\n    }\n  } else {\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n      if (ch === 33) {\n        if (!isNamed) {\n          tagHandle = state.input.slice(_position - 1, state.position + 1);\n          if (!PATTERN_TAG_HANDLE.test(tagHandle)) {\n            throwError(state, "named tag handle cannot contain such characters");\n          }\n          isNamed = true;\n          _position = state.position + 1;\n        } else {\n          throwError(state, "tag suffix cannot contain exclamation marks");\n        }\n      }\n      ch = state.input.charCodeAt(++state.position);\n    }\n    tagName = state.input.slice(_position, state.position);\n    if (PATTERN_FLOW_INDICATORS.test(tagName)) {\n      throwError(state, "tag suffix cannot contain flow indicator characters");\n    }\n  }\n  if (tagName && !PATTERN_TAG_URI.test(tagName)) {\n    throwError(state, "tag name cannot contain such characters: " + tagName);\n  }\n  try {\n    tagName = decodeURIComponent(tagName);\n  } catch (err) {\n    throwError(state, "tag name is malformed: " + tagName);\n  }\n  if (isVerbatim) {\n    state.tag = tagName;\n  } else if (_hasOwnProperty$1.call(state.tagMap, tagHandle)) {\n    state.tag = state.tagMap[tagHandle] + tagName;\n  } else if (tagHandle === "!") {\n    state.tag = "!" + tagName;\n  } else if (tagHandle === "!!") {\n    state.tag = "tag:yaml.org,2002:" + tagName;\n  } else {\n    throwError(state, \'undeclared tag handle "\' + tagHandle + \'"\');\n  }\n  return true;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(readTagProperty, "readTagProperty");\nfunction readAnchorProperty(state) {\n  var _position, ch;\n  ch = state.input.charCodeAt(state.position);\n  if (ch !== 38) return false;\n  if (state.anchor !== null) {\n    throwError(state, "duplication of an anchor property");\n  }\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n  if (state.position === _position) {\n    throwError(state, "name of an anchor node must contain at least one character");\n  }\n  state.anchor = state.input.slice(_position, state.position);\n  return true;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(readAnchorProperty, "readAnchorProperty");\nfunction readAlias(state) {\n  var _position, alias, ch;\n  ch = state.input.charCodeAt(state.position);\n  if (ch !== 42) return false;\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n  if (state.position === _position) {\n    throwError(state, "name of an alias node must contain at least one character");\n  }\n  alias = state.input.slice(_position, state.position);\n  if (!_hasOwnProperty$1.call(state.anchorMap, alias)) {\n    throwError(state, \'unidentified alias "\' + alias + \'"\');\n  }\n  state.result = state.anchorMap[alias];\n  skipSeparationSpace(state, true, -1);\n  return true;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(readAlias, "readAlias");\nfunction composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {\n  var allowBlockStyles, allowBlockScalars, allowBlockCollections, indentStatus = 1, atNewLine = false, hasContent = false, typeIndex, typeQuantity, typeList, type2, flowIndent, blockIndent;\n  if (state.listener !== null) {\n    state.listener("open", state);\n  }\n  state.tag = null;\n  state.anchor = null;\n  state.kind = null;\n  state.result = null;\n  allowBlockStyles = allowBlockScalars = allowBlockCollections = CONTEXT_BLOCK_OUT === nodeContext || CONTEXT_BLOCK_IN === nodeContext;\n  if (allowToSeek) {\n    if (skipSeparationSpace(state, true, -1)) {\n      atNewLine = true;\n      if (state.lineIndent > parentIndent) {\n        indentStatus = 1;\n      } else if (state.lineIndent === parentIndent) {\n        indentStatus = 0;\n      } else if (state.lineIndent < parentIndent) {\n        indentStatus = -1;\n      }\n    }\n  }\n  if (indentStatus === 1) {\n    while (readTagProperty(state) || readAnchorProperty(state)) {\n      if (skipSeparationSpace(state, true, -1)) {\n        atNewLine = true;\n        allowBlockCollections = allowBlockStyles;\n        if (state.lineIndent > parentIndent) {\n          indentStatus = 1;\n        } else if (state.lineIndent === parentIndent) {\n          indentStatus = 0;\n        } else if (state.lineIndent < parentIndent) {\n          indentStatus = -1;\n        }\n      } else {\n        allowBlockCollections = false;\n      }\n    }\n  }\n  if (allowBlockCollections) {\n    allowBlockCollections = atNewLine || allowCompact;\n  }\n  if (indentStatus === 1 || CONTEXT_BLOCK_OUT === nodeContext) {\n    if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {\n      flowIndent = parentIndent;\n    } else {\n      flowIndent = parentIndent + 1;\n    }\n    blockIndent = state.position - state.lineStart;\n    if (indentStatus === 1) {\n      if (allowBlockCollections && (readBlockSequence(state, blockIndent) || readBlockMapping(state, blockIndent, flowIndent)) || readFlowCollection(state, flowIndent)) {\n        hasContent = true;\n      } else {\n        if (allowBlockScalars && readBlockScalar(state, flowIndent) || readSingleQuotedScalar(state, flowIndent) || readDoubleQuotedScalar(state, flowIndent)) {\n          hasContent = true;\n        } else if (readAlias(state)) {\n          hasContent = true;\n          if (state.tag !== null || state.anchor !== null) {\n            throwError(state, "alias node should not have any properties");\n          }\n        } else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {\n          hasContent = true;\n          if (state.tag === null) {\n            state.tag = "?";\n          }\n        }\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else if (indentStatus === 0) {\n      hasContent = allowBlockCollections && readBlockSequence(state, blockIndent);\n    }\n  }\n  if (state.tag === null) {\n    if (state.anchor !== null) {\n      state.anchorMap[state.anchor] = state.result;\n    }\n  } else if (state.tag === "?") {\n    if (state.result !== null && state.kind !== "scalar") {\n      throwError(state, \'unacceptable node kind for !<?> tag; it should be "scalar", not "\' + state.kind + \'"\');\n    }\n    for (typeIndex = 0, typeQuantity = state.implicitTypes.length; typeIndex < typeQuantity; typeIndex += 1) {\n      type2 = state.implicitTypes[typeIndex];\n      if (type2.resolve(state.result)) {\n        state.result = type2.construct(state.result);\n        state.tag = type2.tag;\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n        break;\n      }\n    }\n  } else if (state.tag !== "!") {\n    if (_hasOwnProperty$1.call(state.typeMap[state.kind || "fallback"], state.tag)) {\n      type2 = state.typeMap[state.kind || "fallback"][state.tag];\n    } else {\n      type2 = null;\n      typeList = state.typeMap.multi[state.kind || "fallback"];\n      for (typeIndex = 0, typeQuantity = typeList.length; typeIndex < typeQuantity; typeIndex += 1) {\n        if (state.tag.slice(0, typeList[typeIndex].tag.length) === typeList[typeIndex].tag) {\n          type2 = typeList[typeIndex];\n          break;\n        }\n      }\n    }\n    if (!type2) {\n      throwError(state, "unknown tag !<" + state.tag + ">");\n    }\n    if (state.result !== null && type2.kind !== state.kind) {\n      throwError(state, "unacceptable node kind for !<" + state.tag + \'> tag; it should be "\' + type2.kind + \'", not "\' + state.kind + \'"\');\n    }\n    if (!type2.resolve(state.result, state.tag)) {\n      throwError(state, "cannot resolve a node with !<" + state.tag + "> explicit tag");\n    } else {\n      state.result = type2.construct(state.result, state.tag);\n      if (state.anchor !== null) {\n        state.anchorMap[state.anchor] = state.result;\n      }\n    }\n  }\n  if (state.listener !== null) {\n    state.listener("close", state);\n  }\n  return state.tag !== null || state.anchor !== null || hasContent;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(composeNode, "composeNode");\nfunction readDocument(state) {\n  var documentStart = state.position, _position, directiveName, directiveArgs, hasDirectives = false, ch;\n  state.version = null;\n  state.checkLineBreaks = state.legacy;\n  state.tagMap = /* @__PURE__ */ Object.create(null);\n  state.anchorMap = /* @__PURE__ */ Object.create(null);\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    skipSeparationSpace(state, true, -1);\n    ch = state.input.charCodeAt(state.position);\n    if (state.lineIndent > 0 || ch !== 37) {\n      break;\n    }\n    hasDirectives = true;\n    ch = state.input.charCodeAt(++state.position);\n    _position = state.position;\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n    directiveName = state.input.slice(_position, state.position);\n    directiveArgs = [];\n    if (directiveName.length < 1) {\n      throwError(state, "directive name must not be less than one character in length");\n    }\n    while (ch !== 0) {\n      while (is_WHITE_SPACE(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n      if (ch === 35) {\n        do {\n          ch = state.input.charCodeAt(++state.position);\n        } while (ch !== 0 && !is_EOL(ch));\n        break;\n      }\n      if (is_EOL(ch)) break;\n      _position = state.position;\n      while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n      directiveArgs.push(state.input.slice(_position, state.position));\n    }\n    if (ch !== 0) readLineBreak(state);\n    if (_hasOwnProperty$1.call(directiveHandlers, directiveName)) {\n      directiveHandlers[directiveName](state, directiveName, directiveArgs);\n    } else {\n      throwWarning(state, \'unknown document directive "\' + directiveName + \'"\');\n    }\n  }\n  skipSeparationSpace(state, true, -1);\n  if (state.lineIndent === 0 && state.input.charCodeAt(state.position) === 45 && state.input.charCodeAt(state.position + 1) === 45 && state.input.charCodeAt(state.position + 2) === 45) {\n    state.position += 3;\n    skipSeparationSpace(state, true, -1);\n  } else if (hasDirectives) {\n    throwError(state, "directives end mark is expected");\n  }\n  composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);\n  skipSeparationSpace(state, true, -1);\n  if (state.checkLineBreaks && PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {\n    throwWarning(state, "non-ASCII line breaks are interpreted as content");\n  }\n  state.documents.push(state.result);\n  if (state.position === state.lineStart && testDocumentSeparator(state)) {\n    if (state.input.charCodeAt(state.position) === 46) {\n      state.position += 3;\n      skipSeparationSpace(state, true, -1);\n    }\n    return;\n  }\n  if (state.position < state.length - 1) {\n    throwError(state, "end of the stream or a document separator is expected");\n  } else {\n    return;\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(readDocument, "readDocument");\nfunction loadDocuments(input, options) {\n  input = String(input);\n  options = options || {};\n  if (input.length !== 0) {\n    if (input.charCodeAt(input.length - 1) !== 10 && input.charCodeAt(input.length - 1) !== 13) {\n      input += "\\n";\n    }\n    if (input.charCodeAt(0) === 65279) {\n      input = input.slice(1);\n    }\n  }\n  var state = new State$1(input, options);\n  var nullpos = input.indexOf("\\0");\n  if (nullpos !== -1) {\n    state.position = nullpos;\n    throwError(state, "null byte is not allowed in input");\n  }\n  state.input += "\\0";\n  while (state.input.charCodeAt(state.position) === 32) {\n    state.lineIndent += 1;\n    state.position += 1;\n  }\n  while (state.position < state.length - 1) {\n    readDocument(state);\n  }\n  return state.documents;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(loadDocuments, "loadDocuments");\nfunction loadAll$1(input, iterator, options) {\n  if (iterator !== null && typeof iterator === "object" && typeof options === "undefined") {\n    options = iterator;\n    iterator = null;\n  }\n  var documents = loadDocuments(input, options);\n  if (typeof iterator !== "function") {\n    return documents;\n  }\n  for (var index = 0, length = documents.length; index < length; index += 1) {\n    iterator(documents[index]);\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(loadAll$1, "loadAll$1");\nfunction load$1(input, options) {\n  var documents = loadDocuments(input, options);\n  if (documents.length === 0) {\n    return void 0;\n  } else if (documents.length === 1) {\n    return documents[0];\n  }\n  throw new exception("expected a single document in the stream, but found more");\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(load$1, "load$1");\nvar loadAll_1 = loadAll$1;\nvar load_1 = load$1;\nvar loader = {\n  loadAll: loadAll_1,\n  load: load_1\n};\nvar _toString = Object.prototype.toString;\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nvar CHAR_BOM = 65279;\nvar CHAR_TAB = 9;\nvar CHAR_LINE_FEED = 10;\nvar CHAR_CARRIAGE_RETURN = 13;\nvar CHAR_SPACE = 32;\nvar CHAR_EXCLAMATION = 33;\nvar CHAR_DOUBLE_QUOTE = 34;\nvar CHAR_SHARP = 35;\nvar CHAR_PERCENT = 37;\nvar CHAR_AMPERSAND = 38;\nvar CHAR_SINGLE_QUOTE = 39;\nvar CHAR_ASTERISK = 42;\nvar CHAR_COMMA = 44;\nvar CHAR_MINUS = 45;\nvar CHAR_COLON = 58;\nvar CHAR_EQUALS = 61;\nvar CHAR_GREATER_THAN = 62;\nvar CHAR_QUESTION = 63;\nvar CHAR_COMMERCIAL_AT = 64;\nvar CHAR_LEFT_SQUARE_BRACKET = 91;\nvar CHAR_RIGHT_SQUARE_BRACKET = 93;\nvar CHAR_GRAVE_ACCENT = 96;\nvar CHAR_LEFT_CURLY_BRACKET = 123;\nvar CHAR_VERTICAL_LINE = 124;\nvar CHAR_RIGHT_CURLY_BRACKET = 125;\nvar ESCAPE_SEQUENCES = {};\nESCAPE_SEQUENCES[0] = "\\\\0";\nESCAPE_SEQUENCES[7] = "\\\\a";\nESCAPE_SEQUENCES[8] = "\\\\b";\nESCAPE_SEQUENCES[9] = "\\\\t";\nESCAPE_SEQUENCES[10] = "\\\\n";\nESCAPE_SEQUENCES[11] = "\\\\v";\nESCAPE_SEQUENCES[12] = "\\\\f";\nESCAPE_SEQUENCES[13] = "\\\\r";\nESCAPE_SEQUENCES[27] = "\\\\e";\nESCAPE_SEQUENCES[34] = \'\\\\"\';\nESCAPE_SEQUENCES[92] = "\\\\\\\\";\nESCAPE_SEQUENCES[133] = "\\\\N";\nESCAPE_SEQUENCES[160] = "\\\\_";\nESCAPE_SEQUENCES[8232] = "\\\\L";\nESCAPE_SEQUENCES[8233] = "\\\\P";\nvar DEPRECATED_BOOLEANS_SYNTAX = [\n  "y",\n  "Y",\n  "yes",\n  "Yes",\n  "YES",\n  "on",\n  "On",\n  "ON",\n  "n",\n  "N",\n  "no",\n  "No",\n  "NO",\n  "off",\n  "Off",\n  "OFF"\n];\nvar DEPRECATED_BASE60_SYNTAX = /^[-+]?[0-9_]+(?::[0-9_]+)+(?:\\.[0-9_]*)?$/;\nfunction compileStyleMap(schema2, map2) {\n  var result, keys, index, length, tag, style, type2;\n  if (map2 === null) return {};\n  result = {};\n  keys = Object.keys(map2);\n  for (index = 0, length = keys.length; index < length; index += 1) {\n    tag = keys[index];\n    style = String(map2[tag]);\n    if (tag.slice(0, 2) === "!!") {\n      tag = "tag:yaml.org,2002:" + tag.slice(2);\n    }\n    type2 = schema2.compiledTypeMap["fallback"][tag];\n    if (type2 && _hasOwnProperty.call(type2.styleAliases, style)) {\n      style = type2.styleAliases[style];\n    }\n    result[tag] = style;\n  }\n  return result;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(compileStyleMap, "compileStyleMap");\nfunction encodeHex(character) {\n  var string, handle, length;\n  string = character.toString(16).toUpperCase();\n  if (character <= 255) {\n    handle = "x";\n    length = 2;\n  } else if (character <= 65535) {\n    handle = "u";\n    length = 4;\n  } else if (character <= 4294967295) {\n    handle = "U";\n    length = 8;\n  } else {\n    throw new exception("code point within a string may not be greater than 0xFFFFFFFF");\n  }\n  return "\\\\" + handle + common.repeat("0", length - string.length) + string;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(encodeHex, "encodeHex");\nvar QUOTING_TYPE_SINGLE = 1;\nvar QUOTING_TYPE_DOUBLE = 2;\nfunction State(options) {\n  this.schema = options["schema"] || _default;\n  this.indent = Math.max(1, options["indent"] || 2);\n  this.noArrayIndent = options["noArrayIndent"] || false;\n  this.skipInvalid = options["skipInvalid"] || false;\n  this.flowLevel = common.isNothing(options["flowLevel"]) ? -1 : options["flowLevel"];\n  this.styleMap = compileStyleMap(this.schema, options["styles"] || null);\n  this.sortKeys = options["sortKeys"] || false;\n  this.lineWidth = options["lineWidth"] || 80;\n  this.noRefs = options["noRefs"] || false;\n  this.noCompatMode = options["noCompatMode"] || false;\n  this.condenseFlow = options["condenseFlow"] || false;\n  this.quotingType = options["quotingType"] === \'"\' ? QUOTING_TYPE_DOUBLE : QUOTING_TYPE_SINGLE;\n  this.forceQuotes = options["forceQuotes"] || false;\n  this.replacer = typeof options["replacer"] === "function" ? options["replacer"] : null;\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.explicitTypes = this.schema.compiledExplicit;\n  this.tag = null;\n  this.result = "";\n  this.duplicates = [];\n  this.usedDuplicates = null;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(State, "State");\nfunction indentString(string, spaces) {\n  var ind = common.repeat(" ", spaces), position = 0, next = -1, result = "", line, length = string.length;\n  while (position < length) {\n    next = string.indexOf("\\n", position);\n    if (next === -1) {\n      line = string.slice(position);\n      position = length;\n    } else {\n      line = string.slice(position, next + 1);\n      position = next + 1;\n    }\n    if (line.length && line !== "\\n") result += ind;\n    result += line;\n  }\n  return result;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(indentString, "indentString");\nfunction generateNextLine(state, level) {\n  return "\\n" + common.repeat(" ", state.indent * level);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(generateNextLine, "generateNextLine");\nfunction testImplicitResolving(state, str2) {\n  var index, length, type2;\n  for (index = 0, length = state.implicitTypes.length; index < length; index += 1) {\n    type2 = state.implicitTypes[index];\n    if (type2.resolve(str2)) {\n      return true;\n    }\n  }\n  return false;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(testImplicitResolving, "testImplicitResolving");\nfunction isWhitespace(c) {\n  return c === CHAR_SPACE || c === CHAR_TAB;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isWhitespace, "isWhitespace");\nfunction isPrintable(c) {\n  return 32 <= c && c <= 126 || 161 <= c && c <= 55295 && c !== 8232 && c !== 8233 || 57344 <= c && c <= 65533 && c !== CHAR_BOM || 65536 <= c && c <= 1114111;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isPrintable, "isPrintable");\nfunction isNsCharOrWhitespace(c) {\n  return isPrintable(c) && c !== CHAR_BOM && c !== CHAR_CARRIAGE_RETURN && c !== CHAR_LINE_FEED;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isNsCharOrWhitespace, "isNsCharOrWhitespace");\nfunction isPlainSafe(c, prev, inblock) {\n  var cIsNsCharOrWhitespace = isNsCharOrWhitespace(c);\n  var cIsNsChar = cIsNsCharOrWhitespace && !isWhitespace(c);\n  return (\n    // ns-plain-safe\n    (inblock ? (\n      // c = flow-in\n      cIsNsCharOrWhitespace\n    ) : cIsNsCharOrWhitespace && c !== CHAR_COMMA && c !== CHAR_LEFT_SQUARE_BRACKET && c !== CHAR_RIGHT_SQUARE_BRACKET && c !== CHAR_LEFT_CURLY_BRACKET && c !== CHAR_RIGHT_CURLY_BRACKET) && c !== CHAR_SHARP && !(prev === CHAR_COLON && !cIsNsChar) || isNsCharOrWhitespace(prev) && !isWhitespace(prev) && c === CHAR_SHARP || prev === CHAR_COLON && cIsNsChar\n  );\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isPlainSafe, "isPlainSafe");\nfunction isPlainSafeFirst(c) {\n  return isPrintable(c) && c !== CHAR_BOM && !isWhitespace(c) && c !== CHAR_MINUS && c !== CHAR_QUESTION && c !== CHAR_COLON && c !== CHAR_COMMA && c !== CHAR_LEFT_SQUARE_BRACKET && c !== CHAR_RIGHT_SQUARE_BRACKET && c !== CHAR_LEFT_CURLY_BRACKET && c !== CHAR_RIGHT_CURLY_BRACKET && c !== CHAR_SHARP && c !== CHAR_AMPERSAND && c !== CHAR_ASTERISK && c !== CHAR_EXCLAMATION && c !== CHAR_VERTICAL_LINE && c !== CHAR_EQUALS && c !== CHAR_GREATER_THAN && c !== CHAR_SINGLE_QUOTE && c !== CHAR_DOUBLE_QUOTE && c !== CHAR_PERCENT && c !== CHAR_COMMERCIAL_AT && c !== CHAR_GRAVE_ACCENT;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isPlainSafeFirst, "isPlainSafeFirst");\nfunction isPlainSafeLast(c) {\n  return !isWhitespace(c) && c !== CHAR_COLON;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(isPlainSafeLast, "isPlainSafeLast");\nfunction codePointAt(string, pos) {\n  var first = string.charCodeAt(pos), second;\n  if (first >= 55296 && first <= 56319 && pos + 1 < string.length) {\n    second = string.charCodeAt(pos + 1);\n    if (second >= 56320 && second <= 57343) {\n      return (first - 55296) * 1024 + second - 56320 + 65536;\n    }\n  }\n  return first;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(codePointAt, "codePointAt");\nfunction needIndentIndicator(string) {\n  var leadingSpaceRe = /^\\n* /;\n  return leadingSpaceRe.test(string);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(needIndentIndicator, "needIndentIndicator");\nvar STYLE_PLAIN = 1;\nvar STYLE_SINGLE = 2;\nvar STYLE_LITERAL = 3;\nvar STYLE_FOLDED = 4;\nvar STYLE_DOUBLE = 5;\nfunction chooseScalarStyle(string, singleLineOnly, indentPerLevel, lineWidth, testAmbiguousType, quotingType, forceQuotes, inblock) {\n  var i;\n  var char = 0;\n  var prevChar = null;\n  var hasLineBreak = false;\n  var hasFoldableLine = false;\n  var shouldTrackWidth = lineWidth !== -1;\n  var previousLineBreak = -1;\n  var plain = isPlainSafeFirst(codePointAt(string, 0)) && isPlainSafeLast(codePointAt(string, string.length - 1));\n  if (singleLineOnly || forceQuotes) {\n    for (i = 0; i < string.length; char >= 65536 ? i += 2 : i++) {\n      char = codePointAt(string, i);\n      if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char, prevChar, inblock);\n      prevChar = char;\n    }\n  } else {\n    for (i = 0; i < string.length; char >= 65536 ? i += 2 : i++) {\n      char = codePointAt(string, i);\n      if (char === CHAR_LINE_FEED) {\n        hasLineBreak = true;\n        if (shouldTrackWidth) {\n          hasFoldableLine = hasFoldableLine || // Foldable line = too long, and not more-indented.\n          i - previousLineBreak - 1 > lineWidth && string[previousLineBreak + 1] !== " ";\n          previousLineBreak = i;\n        }\n      } else if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char, prevChar, inblock);\n      prevChar = char;\n    }\n    hasFoldableLine = hasFoldableLine || shouldTrackWidth && (i - previousLineBreak - 1 > lineWidth && string[previousLineBreak + 1] !== " ");\n  }\n  if (!hasLineBreak && !hasFoldableLine) {\n    if (plain && !forceQuotes && !testAmbiguousType(string)) {\n      return STYLE_PLAIN;\n    }\n    return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;\n  }\n  if (indentPerLevel > 9 && needIndentIndicator(string)) {\n    return STYLE_DOUBLE;\n  }\n  if (!forceQuotes) {\n    return hasFoldableLine ? STYLE_FOLDED : STYLE_LITERAL;\n  }\n  return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(chooseScalarStyle, "chooseScalarStyle");\nfunction writeScalar(state, string, level, iskey, inblock) {\n  state.dump = (function() {\n    if (string.length === 0) {\n      return state.quotingType === QUOTING_TYPE_DOUBLE ? \'""\' : "\'\'";\n    }\n    if (!state.noCompatMode) {\n      if (DEPRECATED_BOOLEANS_SYNTAX.indexOf(string) !== -1 || DEPRECATED_BASE60_SYNTAX.test(string)) {\n        return state.quotingType === QUOTING_TYPE_DOUBLE ? \'"\' + string + \'"\' : "\'" + string + "\'";\n      }\n    }\n    var indent = state.indent * Math.max(1, level);\n    var lineWidth = state.lineWidth === -1 ? -1 : Math.max(Math.min(state.lineWidth, 40), state.lineWidth - indent);\n    var singleLineOnly = iskey || state.flowLevel > -1 && level >= state.flowLevel;\n    function testAmbiguity(string2) {\n      return testImplicitResolving(state, string2);\n    }\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(testAmbiguity, "testAmbiguity");\n    switch (chooseScalarStyle(\n      string,\n      singleLineOnly,\n      state.indent,\n      lineWidth,\n      testAmbiguity,\n      state.quotingType,\n      state.forceQuotes && !iskey,\n      inblock\n    )) {\n      case STYLE_PLAIN:\n        return string;\n      case STYLE_SINGLE:\n        return "\'" + string.replace(/\'/g, "\'\'") + "\'";\n      case STYLE_LITERAL:\n        return "|" + blockHeader(string, state.indent) + dropEndingNewline(indentString(string, indent));\n      case STYLE_FOLDED:\n        return ">" + blockHeader(string, state.indent) + dropEndingNewline(indentString(foldString(string, lineWidth), indent));\n      case STYLE_DOUBLE:\n        return \'"\' + escapeString(string) + \'"\';\n      default:\n        throw new exception("impossible error: invalid scalar style");\n    }\n  })();\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(writeScalar, "writeScalar");\nfunction blockHeader(string, indentPerLevel) {\n  var indentIndicator = needIndentIndicator(string) ? String(indentPerLevel) : "";\n  var clip = string[string.length - 1] === "\\n";\n  var keep = clip && (string[string.length - 2] === "\\n" || string === "\\n");\n  var chomp = keep ? "+" : clip ? "" : "-";\n  return indentIndicator + chomp + "\\n";\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(blockHeader, "blockHeader");\nfunction dropEndingNewline(string) {\n  return string[string.length - 1] === "\\n" ? string.slice(0, -1) : string;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(dropEndingNewline, "dropEndingNewline");\nfunction foldString(string, width) {\n  var lineRe = /(\\n+)([^\\n]*)/g;\n  var result = (function() {\n    var nextLF = string.indexOf("\\n");\n    nextLF = nextLF !== -1 ? nextLF : string.length;\n    lineRe.lastIndex = nextLF;\n    return foldLine(string.slice(0, nextLF), width);\n  })();\n  var prevMoreIndented = string[0] === "\\n" || string[0] === " ";\n  var moreIndented;\n  var match;\n  while (match = lineRe.exec(string)) {\n    var prefix = match[1], line = match[2];\n    moreIndented = line[0] === " ";\n    result += prefix + (!prevMoreIndented && !moreIndented && line !== "" ? "\\n" : "") + foldLine(line, width);\n    prevMoreIndented = moreIndented;\n  }\n  return result;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(foldString, "foldString");\nfunction foldLine(line, width) {\n  if (line === "" || line[0] === " ") return line;\n  var breakRe = / [^ ]/g;\n  var match;\n  var start = 0, end, curr = 0, next = 0;\n  var result = "";\n  while (match = breakRe.exec(line)) {\n    next = match.index;\n    if (next - start > width) {\n      end = curr > start ? curr : next;\n      result += "\\n" + line.slice(start, end);\n      start = end + 1;\n    }\n    curr = next;\n  }\n  result += "\\n";\n  if (line.length - start > width && curr > start) {\n    result += line.slice(start, curr) + "\\n" + line.slice(curr + 1);\n  } else {\n    result += line.slice(start);\n  }\n  return result.slice(1);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(foldLine, "foldLine");\nfunction escapeString(string) {\n  var result = "";\n  var char = 0;\n  var escapeSeq;\n  for (var i = 0; i < string.length; char >= 65536 ? i += 2 : i++) {\n    char = codePointAt(string, i);\n    escapeSeq = ESCAPE_SEQUENCES[char];\n    if (!escapeSeq && isPrintable(char)) {\n      result += string[i];\n      if (char >= 65536) result += string[i + 1];\n    } else {\n      result += escapeSeq || encodeHex(char);\n    }\n  }\n  return result;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(escapeString, "escapeString");\nfunction writeFlowSequence(state, level, object) {\n  var _result = "", _tag = state.tag, index, length, value;\n  for (index = 0, length = object.length; index < length; index += 1) {\n    value = object[index];\n    if (state.replacer) {\n      value = state.replacer.call(object, String(index), value);\n    }\n    if (writeNode(state, level, value, false, false) || typeof value === "undefined" && writeNode(state, level, null, false, false)) {\n      if (_result !== "") _result += "," + (!state.condenseFlow ? " " : "");\n      _result += state.dump;\n    }\n  }\n  state.tag = _tag;\n  state.dump = "[" + _result + "]";\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(writeFlowSequence, "writeFlowSequence");\nfunction writeBlockSequence(state, level, object, compact) {\n  var _result = "", _tag = state.tag, index, length, value;\n  for (index = 0, length = object.length; index < length; index += 1) {\n    value = object[index];\n    if (state.replacer) {\n      value = state.replacer.call(object, String(index), value);\n    }\n    if (writeNode(state, level + 1, value, true, true, false, true) || typeof value === "undefined" && writeNode(state, level + 1, null, true, true, false, true)) {\n      if (!compact || _result !== "") {\n        _result += generateNextLine(state, level);\n      }\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        _result += "-";\n      } else {\n        _result += "- ";\n      }\n      _result += state.dump;\n    }\n  }\n  state.tag = _tag;\n  state.dump = _result || "[]";\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(writeBlockSequence, "writeBlockSequence");\nfunction writeFlowMapping(state, level, object) {\n  var _result = "", _tag = state.tag, objectKeyList = Object.keys(object), index, length, objectKey, objectValue, pairBuffer;\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = "";\n    if (_result !== "") pairBuffer += ", ";\n    if (state.condenseFlow) pairBuffer += \'"\';\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n    if (state.replacer) {\n      objectValue = state.replacer.call(object, objectKey, objectValue);\n    }\n    if (!writeNode(state, level, objectKey, false, false)) {\n      continue;\n    }\n    if (state.dump.length > 1024) pairBuffer += "? ";\n    pairBuffer += state.dump + (state.condenseFlow ? \'"\' : "") + ":" + (state.condenseFlow ? "" : " ");\n    if (!writeNode(state, level, objectValue, false, false)) {\n      continue;\n    }\n    pairBuffer += state.dump;\n    _result += pairBuffer;\n  }\n  state.tag = _tag;\n  state.dump = "{" + _result + "}";\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(writeFlowMapping, "writeFlowMapping");\nfunction writeBlockMapping(state, level, object, compact) {\n  var _result = "", _tag = state.tag, objectKeyList = Object.keys(object), index, length, objectKey, objectValue, explicitPair, pairBuffer;\n  if (state.sortKeys === true) {\n    objectKeyList.sort();\n  } else if (typeof state.sortKeys === "function") {\n    objectKeyList.sort(state.sortKeys);\n  } else if (state.sortKeys) {\n    throw new exception("sortKeys must be a boolean or a function");\n  }\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = "";\n    if (!compact || _result !== "") {\n      pairBuffer += generateNextLine(state, level);\n    }\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n    if (state.replacer) {\n      objectValue = state.replacer.call(object, objectKey, objectValue);\n    }\n    if (!writeNode(state, level + 1, objectKey, true, true, true)) {\n      continue;\n    }\n    explicitPair = state.tag !== null && state.tag !== "?" || state.dump && state.dump.length > 1024;\n    if (explicitPair) {\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        pairBuffer += "?";\n      } else {\n        pairBuffer += "? ";\n      }\n    }\n    pairBuffer += state.dump;\n    if (explicitPair) {\n      pairBuffer += generateNextLine(state, level);\n    }\n    if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {\n      continue;\n    }\n    if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n      pairBuffer += ":";\n    } else {\n      pairBuffer += ": ";\n    }\n    pairBuffer += state.dump;\n    _result += pairBuffer;\n  }\n  state.tag = _tag;\n  state.dump = _result || "{}";\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(writeBlockMapping, "writeBlockMapping");\nfunction detectType(state, object, explicit) {\n  var _result, typeList, index, length, type2, style;\n  typeList = explicit ? state.explicitTypes : state.implicitTypes;\n  for (index = 0, length = typeList.length; index < length; index += 1) {\n    type2 = typeList[index];\n    if ((type2.instanceOf || type2.predicate) && (!type2.instanceOf || typeof object === "object" && object instanceof type2.instanceOf) && (!type2.predicate || type2.predicate(object))) {\n      if (explicit) {\n        if (type2.multi && type2.representName) {\n          state.tag = type2.representName(object);\n        } else {\n          state.tag = type2.tag;\n        }\n      } else {\n        state.tag = "?";\n      }\n      if (type2.represent) {\n        style = state.styleMap[type2.tag] || type2.defaultStyle;\n        if (_toString.call(type2.represent) === "[object Function]") {\n          _result = type2.represent(object, style);\n        } else if (_hasOwnProperty.call(type2.represent, style)) {\n          _result = type2.represent[style](object, style);\n        } else {\n          throw new exception("!<" + type2.tag + \'> tag resolver accepts not "\' + style + \'" style\');\n        }\n        state.dump = _result;\n      }\n      return true;\n    }\n  }\n  return false;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(detectType, "detectType");\nfunction writeNode(state, level, object, block, compact, iskey, isblockseq) {\n  state.tag = null;\n  state.dump = object;\n  if (!detectType(state, object, false)) {\n    detectType(state, object, true);\n  }\n  var type2 = _toString.call(state.dump);\n  var inblock = block;\n  var tagStr;\n  if (block) {\n    block = state.flowLevel < 0 || state.flowLevel > level;\n  }\n  var objectOrArray = type2 === "[object Object]" || type2 === "[object Array]", duplicateIndex, duplicate;\n  if (objectOrArray) {\n    duplicateIndex = state.duplicates.indexOf(object);\n    duplicate = duplicateIndex !== -1;\n  }\n  if (state.tag !== null && state.tag !== "?" || duplicate || state.indent !== 2 && level > 0) {\n    compact = false;\n  }\n  if (duplicate && state.usedDuplicates[duplicateIndex]) {\n    state.dump = "*ref_" + duplicateIndex;\n  } else {\n    if (objectOrArray && duplicate && !state.usedDuplicates[duplicateIndex]) {\n      state.usedDuplicates[duplicateIndex] = true;\n    }\n    if (type2 === "[object Object]") {\n      if (block && Object.keys(state.dump).length !== 0) {\n        writeBlockMapping(state, level, state.dump, compact);\n        if (duplicate) {\n          state.dump = "&ref_" + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowMapping(state, level, state.dump);\n        if (duplicate) {\n          state.dump = "&ref_" + duplicateIndex + " " + state.dump;\n        }\n      }\n    } else if (type2 === "[object Array]") {\n      if (block && state.dump.length !== 0) {\n        if (state.noArrayIndent && !isblockseq && level > 0) {\n          writeBlockSequence(state, level - 1, state.dump, compact);\n        } else {\n          writeBlockSequence(state, level, state.dump, compact);\n        }\n        if (duplicate) {\n          state.dump = "&ref_" + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowSequence(state, level, state.dump);\n        if (duplicate) {\n          state.dump = "&ref_" + duplicateIndex + " " + state.dump;\n        }\n      }\n    } else if (type2 === "[object String]") {\n      if (state.tag !== "?") {\n        writeScalar(state, state.dump, level, iskey, inblock);\n      }\n    } else if (type2 === "[object Undefined]") {\n      return false;\n    } else {\n      if (state.skipInvalid) return false;\n      throw new exception("unacceptable kind of an object to dump " + type2);\n    }\n    if (state.tag !== null && state.tag !== "?") {\n      tagStr = encodeURI(\n        state.tag[0] === "!" ? state.tag.slice(1) : state.tag\n      ).replace(/!/g, "%21");\n      if (state.tag[0] === "!") {\n        tagStr = "!" + tagStr;\n      } else if (tagStr.slice(0, 18) === "tag:yaml.org,2002:") {\n        tagStr = "!!" + tagStr.slice(18);\n      } else {\n        tagStr = "!<" + tagStr + ">";\n      }\n      state.dump = tagStr + " " + state.dump;\n    }\n  }\n  return true;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(writeNode, "writeNode");\nfunction getDuplicateReferences(object, state) {\n  var objects = [], duplicatesIndexes = [], index, length;\n  inspectNode(object, objects, duplicatesIndexes);\n  for (index = 0, length = duplicatesIndexes.length; index < length; index += 1) {\n    state.duplicates.push(objects[duplicatesIndexes[index]]);\n  }\n  state.usedDuplicates = new Array(length);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(getDuplicateReferences, "getDuplicateReferences");\nfunction inspectNode(object, objects, duplicatesIndexes) {\n  var objectKeyList, index, length;\n  if (object !== null && typeof object === "object") {\n    index = objects.indexOf(object);\n    if (index !== -1) {\n      if (duplicatesIndexes.indexOf(index) === -1) {\n        duplicatesIndexes.push(index);\n      }\n    } else {\n      objects.push(object);\n      if (Array.isArray(object)) {\n        for (index = 0, length = object.length; index < length; index += 1) {\n          inspectNode(object[index], objects, duplicatesIndexes);\n        }\n      } else {\n        objectKeyList = Object.keys(object);\n        for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n          inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);\n        }\n      }\n    }\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(inspectNode, "inspectNode");\nfunction dump$1(input, options) {\n  options = options || {};\n  var state = new State(options);\n  if (!state.noRefs) getDuplicateReferences(input, state);\n  var value = input;\n  if (state.replacer) {\n    value = state.replacer.call({ "": value }, "", value);\n  }\n  if (writeNode(state, 0, value, true, true)) return state.dump + "\\n";\n  return "";\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(dump$1, "dump$1");\nvar dump_1 = dump$1;\nvar dumper = {\n  dump: dump_1\n};\nfunction renamed(from, to) {\n  return function() {\n    throw new Error("Function yaml." + from + " is removed in js-yaml 4. Use yaml." + to + " instead, which is now safe by default.");\n  };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(renamed, "renamed");\nvar JSON_SCHEMA = json;\nvar load = loader.load;\nvar loadAll = loader.loadAll;\nvar dump = dumper.dump;\nvar safeLoad = renamed("safeLoad", "load");\nvar safeLoadAll = renamed("safeLoadAll", "loadAll");\nvar safeDump = renamed("safeDump", "dump");\n\n\n/*! Bundled license information:\n\njs-yaml/dist/js-yaml.mjs:\n  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)\n*/\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-MI3HLSF2.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-N4CR4FBY.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRegisteredLayoutAlgorithm: () => (/* binding */ getRegisteredLayoutAlgorithm),\n/* harmony export */   registerLayoutLoaders: () => (/* binding */ registerLayoutLoaders),\n/* harmony export */   render: () => (/* binding */ render)\n/* harmony export */ });\n/* harmony import */ var _chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-QXUST7PY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QXUST7PY.mjs");\n/* harmony import */ var _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-JZLCHNYA.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n\n\n\n\n\n\n// src/internals.ts\nvar internalHelpers = {\n  common: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default,\n  getConfig: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig,\n  insertCluster: _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_1__.insertCluster,\n  insertEdge: _chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_0__.insertEdge,\n  insertEdgeLabel: _chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_0__.insertEdgeLabel,\n  insertMarkers: _chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_0__.markers_default,\n  insertNode: _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_1__.insertNode,\n  interpolateToCurve: _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__.interpolateToCurve,\n  labelHelper: _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_1__.labelHelper,\n  log: _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log,\n  positionEdgeLabel: _chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_0__.positionEdgeLabel\n};\n\n// src/rendering-util/render.ts\nvar layoutAlgorithms = {};\nvar registerLayoutLoaders = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((loaders) => {\n  for (const loader of loaders) {\n    layoutAlgorithms[loader.name] = loader;\n  }\n}, "registerLayoutLoaders");\nvar registerDefaultLayoutLoaders = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(() => {\n  registerLayoutLoaders([\n    {\n      name: "dagre",\n      loader: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(async () => await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./dagre-6UL2VRFP.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/dagre-6UL2VRFP.mjs")), "loader")\n    },\n    ... true ? [\n      {\n        name: "cose-bilkent",\n        loader: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(async () => await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./cose-bilkent-S5V4N54A.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/cose-bilkent-S5V4N54A.mjs")), "loader")\n      }\n    ] : 0\n  ]);\n}, "registerDefaultLayoutLoaders");\nregisterDefaultLayoutLoaders();\nvar render = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(async (data4Layout, svg) => {\n  if (!(data4Layout.layoutAlgorithm in layoutAlgorithms)) {\n    throw new Error(`Unknown layout algorithm: ${data4Layout.layoutAlgorithm}`);\n  }\n  const layoutDefinition = layoutAlgorithms[data4Layout.layoutAlgorithm];\n  const layoutRenderer = await layoutDefinition.loader();\n  return layoutRenderer.render(data4Layout, svg, internalHelpers, {\n    algorithm: layoutDefinition.algorithm\n  });\n}, "render");\nvar getRegisteredLayoutAlgorithm = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((algorithm = "", { fallback = "dagre" } = {}) => {\n  if (algorithm in layoutAlgorithms) {\n    return algorithm;\n  }\n  if (fallback in layoutAlgorithms) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.warn(`Layout algorithm ${algorithm} is not registered. Using ${fallback} as fallback.`);\n    return fallback;\n  }\n  throw new Error(`Both layout algorithms ${algorithm} and ${fallback} are not registered.`);\n}, "getRegisteredLayoutAlgorithm");\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-N4CR4FBY.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupViewPortForSVG: () => (/* binding */ setupViewPortForSVG)\n/* harmony export */ });\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n\n\n\n// src/rendering-util/setupViewPortForSVG.ts\nvar setupViewPortForSVG = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((svg, padding, cssDiagram, useMaxWidth) => {\n  svg.attr("class", cssDiagram);\n  const { width, height, x, y } = calculateDimensionsWithPadding(svg, padding);\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.configureSvgSize)(svg, height, width, useMaxWidth);\n  const viewBox = createViewBox(x, y, width, height, padding);\n  svg.attr("viewBox", viewBox);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug(`viewBox configured: ${viewBox} with padding: ${padding}`);\n}, "setupViewPortForSVG");\nvar calculateDimensionsWithPadding = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((svg, padding) => {\n  const bounds = svg.node()?.getBBox() || { width: 0, height: 0, x: 0, y: 0 };\n  return {\n    width: bounds.width + padding * 2,\n    height: bounds.height + padding * 2,\n    x: bounds.x,\n    y: bounds.y\n  };\n}, "calculateDimensionsWithPadding");\nvar createViewBox = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((x, y, width, height, padding) => {\n  return `${x - padding} ${y - padding} ${width} ${height}`;\n}, "createViewBox");\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QXUST7PY.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clear: () => (/* binding */ clear),\n/* harmony export */   insertEdge: () => (/* binding */ insertEdge),\n/* harmony export */   insertEdgeLabel: () => (/* binding */ insertEdgeLabel),\n/* harmony export */   markers_default: () => (/* binding */ markers_default),\n/* harmony export */   positionEdgeLabel: () => (/* binding */ positionEdgeLabel)\n/* harmony export */ });\n/* harmony import */ var _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-HN2XXSSU.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HN2XXSSU.mjs");\n/* harmony import */ var _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-JZLCHNYA.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs");\n/* harmony import */ var _chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-CVBHYZKI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs");\n/* harmony import */ var _chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-ATLVNIR6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n/* harmony import */ var roughjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! roughjs */ "./node_modules/roughjs/bundled/rough.esm.js");\n\n\n\n\n\n\n\n\n\n// src/rendering-util/rendering-elements/edges.js\n\n\n\n// src/rendering-util/rendering-elements/edgeMarker.ts\nvar addEdgeMarkers = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((svgPath, edge, url, id, diagramType, strokeColor) => {\n  if (edge.arrowTypeStart) {\n    addEdgeMarker(svgPath, "start", edge.arrowTypeStart, url, id, diagramType, strokeColor);\n  }\n  if (edge.arrowTypeEnd) {\n    addEdgeMarker(svgPath, "end", edge.arrowTypeEnd, url, id, diagramType, strokeColor);\n  }\n}, "addEdgeMarkers");\nvar arrowTypesMap = {\n  arrow_cross: { type: "cross", fill: false },\n  arrow_point: { type: "point", fill: true },\n  arrow_barb: { type: "barb", fill: true },\n  arrow_circle: { type: "circle", fill: false },\n  aggregation: { type: "aggregation", fill: false },\n  extension: { type: "extension", fill: false },\n  composition: { type: "composition", fill: true },\n  dependency: { type: "dependency", fill: true },\n  lollipop: { type: "lollipop", fill: false },\n  only_one: { type: "onlyOne", fill: false },\n  zero_or_one: { type: "zeroOrOne", fill: false },\n  one_or_more: { type: "oneOrMore", fill: false },\n  zero_or_more: { type: "zeroOrMore", fill: false },\n  requirement_arrow: { type: "requirement_arrow", fill: false },\n  requirement_contains: { type: "requirement_contains", fill: false }\n};\nvar addEdgeMarker = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((svgPath, position, arrowType, url, id, diagramType, strokeColor) => {\n  const arrowTypeInfo = arrowTypesMap[arrowType];\n  if (!arrowTypeInfo) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.warn(`Unknown arrow type: ${arrowType}`);\n    return;\n  }\n  const endMarkerType = arrowTypeInfo.type;\n  const suffix = position === "start" ? "Start" : "End";\n  const originalMarkerId = `${id}_${diagramType}-${endMarkerType}${suffix}`;\n  if (strokeColor && strokeColor.trim() !== "") {\n    const colorId = strokeColor.replace(/[^\\dA-Za-z]/g, "_");\n    const coloredMarkerId = `${originalMarkerId}_${colorId}`;\n    if (!document.getElementById(coloredMarkerId)) {\n      const originalMarker = document.getElementById(originalMarkerId);\n      if (originalMarker) {\n        const coloredMarker = originalMarker.cloneNode(true);\n        coloredMarker.id = coloredMarkerId;\n        const paths = coloredMarker.querySelectorAll("path, circle, line");\n        paths.forEach((path) => {\n          path.setAttribute("stroke", strokeColor);\n          if (arrowTypeInfo.fill) {\n            path.setAttribute("fill", strokeColor);\n          }\n        });\n        originalMarker.parentNode?.appendChild(coloredMarker);\n      }\n    }\n    svgPath.attr(`marker-${position}`, `url(${url}#${coloredMarkerId})`);\n  } else {\n    svgPath.attr(`marker-${position}`, `url(${url}#${originalMarkerId})`);\n  }\n}, "addEdgeMarker");\n\n// src/rendering-util/rendering-elements/edges.js\nvar edgeLabels = /* @__PURE__ */ new Map();\nvar terminalLabels = /* @__PURE__ */ new Map();\nvar clear = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)(() => {\n  edgeLabels.clear();\n  terminalLabels.clear();\n}, "clear");\nvar getLabelStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((styleArray) => {\n  let styles = styleArray ? styleArray.reduce((acc, style) => acc + ";" + style, "") : "";\n  return styles;\n}, "getLabelStyles");\nvar insertEdgeLabel = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)(async (elem, edge) => {\n  let useHtmlLabels = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__.evaluate)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__.getConfig2)().flowchart.htmlLabels);\n  const { labelStyles } = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_3__.styles2String)(edge);\n  edge.labelStyle = labelStyles;\n  const labelElement = await (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_4__.createText)(elem, edge.label, {\n    style: edge.labelStyle,\n    useHtmlLabels,\n    addSvgBackground: true,\n    isNode: false\n  });\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.info("abc82", edge, edge.labelType);\n  const edgeLabel = elem.insert("g").attr("class", "edgeLabel");\n  const label = edgeLabel.insert("g").attr("class", "label").attr("data-id", edge.id);\n  label.node().appendChild(labelElement);\n  let bbox = labelElement.getBBox();\n  if (useHtmlLabels) {\n    const div = labelElement.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)(labelElement);\n    bbox = div.getBoundingClientRect();\n    dv.attr("width", bbox.width);\n    dv.attr("height", bbox.height);\n  }\n  label.attr("transform", "translate(" + -bbox.width / 2 + ", " + -bbox.height / 2 + ")");\n  edgeLabels.set(edge.id, edgeLabel);\n  edge.width = bbox.width;\n  edge.height = bbox.height;\n  let fo;\n  if (edge.startLabelLeft) {\n    const startLabelElement = await (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_1__.createLabel_default)(\n      edge.startLabelLeft,\n      getLabelStyles(edge.labelStyle)\n    );\n    const startEdgeLabelLeft = elem.insert("g").attr("class", "edgeTerminals");\n    const inner = startEdgeLabelLeft.insert("g").attr("class", "inner");\n    fo = inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr("transform", "translate(" + -slBox.width / 2 + ", " + -slBox.height / 2 + ")");\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).startLeft = startEdgeLabelLeft;\n    setTerminalWidth(fo, edge.startLabelLeft);\n  }\n  if (edge.startLabelRight) {\n    const startLabelElement = await (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_1__.createLabel_default)(\n      edge.startLabelRight,\n      getLabelStyles(edge.labelStyle)\n    );\n    const startEdgeLabelRight = elem.insert("g").attr("class", "edgeTerminals");\n    const inner = startEdgeLabelRight.insert("g").attr("class", "inner");\n    fo = startEdgeLabelRight.node().appendChild(startLabelElement);\n    inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr("transform", "translate(" + -slBox.width / 2 + ", " + -slBox.height / 2 + ")");\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).startRight = startEdgeLabelRight;\n    setTerminalWidth(fo, edge.startLabelRight);\n  }\n  if (edge.endLabelLeft) {\n    const endLabelElement = await (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_1__.createLabel_default)(edge.endLabelLeft, getLabelStyles(edge.labelStyle));\n    const endEdgeLabelLeft = elem.insert("g").attr("class", "edgeTerminals");\n    const inner = endEdgeLabelLeft.insert("g").attr("class", "inner");\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr("transform", "translate(" + -slBox.width / 2 + ", " + -slBox.height / 2 + ")");\n    endEdgeLabelLeft.node().appendChild(endLabelElement);\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).endLeft = endEdgeLabelLeft;\n    setTerminalWidth(fo, edge.endLabelLeft);\n  }\n  if (edge.endLabelRight) {\n    const endLabelElement = await (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_1__.createLabel_default)(edge.endLabelRight, getLabelStyles(edge.labelStyle));\n    const endEdgeLabelRight = elem.insert("g").attr("class", "edgeTerminals");\n    const inner = endEdgeLabelRight.insert("g").attr("class", "inner");\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr("transform", "translate(" + -slBox.width / 2 + ", " + -slBox.height / 2 + ")");\n    endEdgeLabelRight.node().appendChild(endLabelElement);\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).endRight = endEdgeLabelRight;\n    setTerminalWidth(fo, edge.endLabelRight);\n  }\n  return labelElement;\n}, "insertEdgeLabel");\nfunction setTerminalWidth(fo, value) {\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__.getConfig2)().flowchart.htmlLabels && fo) {\n    fo.style.width = value.length * 9 + "px";\n    fo.style.height = "12px";\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)(setTerminalWidth, "setTerminalWidth");\nvar positionEdgeLabel = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((edge, paths) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.debug("Moving label abc88 ", edge.id, edge.label, edgeLabels.get(edge.id), paths);\n  let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\n  const siteConfig = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__.getConfig2)();\n  const { subGraphTitleTotalMargin } = (0,_chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_2__.getSubGraphTitleMargins)(siteConfig);\n  if (edge.label) {\n    const el = edgeLabels.get(edge.id);\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_5__.utils_default.calcLabelPosition(path);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.debug(\n        "Moving label " + edge.label + " from (",\n        x,\n        ",",\n        y,\n        ") to (",\n        pos.x,\n        ",",\n        pos.y,\n        ") abc88"\n      );\n      if (paths.updatedPath) {\n        x = pos.x;\n        y = pos.y;\n      }\n    }\n    el.attr("transform", `translate(${x}, ${y + subGraphTitleTotalMargin / 2})`);\n  }\n  if (edge.startLabelLeft) {\n    const el = terminalLabels.get(edge.id).startLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_5__.utils_default.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, "start_left", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr("transform", `translate(${x}, ${y})`);\n  }\n  if (edge.startLabelRight) {\n    const el = terminalLabels.get(edge.id).startRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_5__.utils_default.calcTerminalLabelPosition(\n        edge.arrowTypeStart ? 10 : 0,\n        "start_right",\n        path\n      );\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr("transform", `translate(${x}, ${y})`);\n  }\n  if (edge.endLabelLeft) {\n    const el = terminalLabels.get(edge.id).endLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_5__.utils_default.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, "end_left", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr("transform", `translate(${x}, ${y})`);\n  }\n  if (edge.endLabelRight) {\n    const el = terminalLabels.get(edge.id).endRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_5__.utils_default.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, "end_right", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr("transform", `translate(${x}, ${y})`);\n  }\n}, "positionEdgeLabel");\nvar outsideNode = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((node, point2) => {\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(point2.x - x);\n  const dy = Math.abs(point2.y - y);\n  const w = node.width / 2;\n  const h = node.height / 2;\n  return dx >= w || dy >= h;\n}, "outsideNode");\nvar intersection = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((node, outsidePoint, insidePoint) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(outsidePoint)}\n  insidePoint : ${JSON.stringify(insidePoint)}\n  node        : x:${node.x} y:${node.y} w:${node.width} h:${node.height}`);\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(x - insidePoint.x);\n  const w = node.width / 2;\n  let r = insidePoint.x < outsidePoint.x ? w - dx : w + dx;\n  const h = node.height / 2;\n  const Q = Math.abs(outsidePoint.y - insidePoint.y);\n  const R = Math.abs(outsidePoint.x - insidePoint.x);\n  if (Math.abs(y - outsidePoint.y) * w > Math.abs(x - outsidePoint.x) * h) {\n    let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\n    r = R * q / Q;\n    const res = {\n      x: insidePoint.x < outsidePoint.x ? insidePoint.x + r : insidePoint.x - R + r,\n      y: insidePoint.y < outsidePoint.y ? insidePoint.y + Q - q : insidePoint.y - Q + q\n    };\n    if (r === 0) {\n      res.x = outsidePoint.x;\n      res.y = outsidePoint.y;\n    }\n    if (R === 0) {\n      res.x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      res.y = outsidePoint.y;\n    }\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.debug(`abc89 top/bottom calc, Q ${Q}, q ${q}, R ${R}, r ${r}`, res);\n    return res;\n  } else {\n    if (insidePoint.x < outsidePoint.x) {\n      r = outsidePoint.x - w - x;\n    } else {\n      r = x - w - outsidePoint.x;\n    }\n    let q = Q * r / R;\n    let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x - R + r;\n    let _y = insidePoint.y < outsidePoint.y ? insidePoint.y + q : insidePoint.y - q;\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.debug(`sides calc abc89, Q ${Q}, q ${q}, R ${R}, r ${r}`, { _x, _y });\n    if (r === 0) {\n      _x = outsidePoint.x;\n      _y = outsidePoint.y;\n    }\n    if (R === 0) {\n      _x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      _y = outsidePoint.y;\n    }\n    return { x: _x, y: _y };\n  }\n}, "intersection");\nvar cutPathAtIntersect = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((_points, boundaryNode) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.warn("abc88 cutPathAtIntersect", _points, boundaryNode);\n  let points = [];\n  let lastPointOutside = _points[0];\n  let isInside = false;\n  _points.forEach((point2) => {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.info("abc88 checking point", point2, boundaryNode);\n    if (!outsideNode(boundaryNode, point2) && !isInside) {\n      const inter = intersection(boundaryNode, lastPointOutside, point2);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.debug("abc88 inside", point2, lastPointOutside, inter);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.debug("abc88 intersection", inter, boundaryNode);\n      let pointPresent = false;\n      points.forEach((p) => {\n        pointPresent = pointPresent || p.x === inter.x && p.y === inter.y;\n      });\n      if (!points.some((e) => e.x === inter.x && e.y === inter.y)) {\n        points.push(inter);\n      } else {\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.warn("abc88 no intersect", inter, points);\n      }\n      isInside = true;\n    } else {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.warn("abc88 outside", point2, lastPointOutside);\n      lastPointOutside = point2;\n      if (!isInside) {\n        points.push(point2);\n      }\n    }\n  });\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.debug("returning points", points);\n  return points;\n}, "cutPathAtIntersect");\nfunction extractCornerPoints(points) {\n  const cornerPoints = [];\n  const cornerPointPositions = [];\n  for (let i = 1; i < points.length - 1; i++) {\n    const prev = points[i - 1];\n    const curr = points[i];\n    const next = points[i + 1];\n    if (prev.x === curr.x && curr.y === next.y && Math.abs(curr.x - next.x) > 5 && Math.abs(curr.y - prev.y) > 5) {\n      cornerPoints.push(curr);\n      cornerPointPositions.push(i);\n    } else if (prev.y === curr.y && curr.x === next.x && Math.abs(curr.x - prev.x) > 5 && Math.abs(curr.y - next.y) > 5) {\n      cornerPoints.push(curr);\n      cornerPointPositions.push(i);\n    }\n  }\n  return { cornerPoints, cornerPointPositions };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)(extractCornerPoints, "extractCornerPoints");\nvar findAdjacentPoint = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)(function(pointA, pointB, distance) {\n  const xDiff = pointB.x - pointA.x;\n  const yDiff = pointB.y - pointA.y;\n  const length = Math.sqrt(xDiff * xDiff + yDiff * yDiff);\n  const ratio = distance / length;\n  return { x: pointB.x - ratio * xDiff, y: pointB.y - ratio * yDiff };\n}, "findAdjacentPoint");\nvar fixCorners = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)(function(lineData) {\n  const { cornerPointPositions } = extractCornerPoints(lineData);\n  const newLineData = [];\n  for (let i = 0; i < lineData.length; i++) {\n    if (cornerPointPositions.includes(i)) {\n      const prevPoint = lineData[i - 1];\n      const nextPoint = lineData[i + 1];\n      const cornerPoint = lineData[i];\n      const newPrevPoint = findAdjacentPoint(prevPoint, cornerPoint, 5);\n      const newNextPoint = findAdjacentPoint(nextPoint, cornerPoint, 5);\n      const xDiff = newNextPoint.x - newPrevPoint.x;\n      const yDiff = newNextPoint.y - newPrevPoint.y;\n      newLineData.push(newPrevPoint);\n      const a = Math.sqrt(2) * 2;\n      let newCornerPoint = { x: cornerPoint.x, y: cornerPoint.y };\n      if (Math.abs(nextPoint.x - prevPoint.x) > 10 && Math.abs(nextPoint.y - prevPoint.y) >= 10) {\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.debug(\n          "Corner point fixing",\n          Math.abs(nextPoint.x - prevPoint.x),\n          Math.abs(nextPoint.y - prevPoint.y)\n        );\n        const r = 5;\n        if (cornerPoint.x === newPrevPoint.x) {\n          newCornerPoint = {\n            x: xDiff < 0 ? newPrevPoint.x - r + a : newPrevPoint.x + r - a,\n            y: yDiff < 0 ? newPrevPoint.y - a : newPrevPoint.y + a\n          };\n        } else {\n          newCornerPoint = {\n            x: xDiff < 0 ? newPrevPoint.x - a : newPrevPoint.x + a,\n            y: yDiff < 0 ? newPrevPoint.y - r + a : newPrevPoint.y + r - a\n          };\n        }\n      } else {\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.debug(\n          "Corner point skipping fixing",\n          Math.abs(nextPoint.x - prevPoint.x),\n          Math.abs(nextPoint.y - prevPoint.y)\n        );\n      }\n      newLineData.push(newCornerPoint, newNextPoint);\n    } else {\n      newLineData.push(lineData[i]);\n    }\n  }\n  return newLineData;\n}, "fixCorners");\nvar generateDashArray = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((len, oValueS, oValueE) => {\n  const middleLength = len - oValueS - oValueE;\n  const dashLength = 2;\n  const gapLength = 2;\n  const dashGapPairLength = dashLength + gapLength;\n  const numberOfPairs = Math.floor(middleLength / dashGapPairLength);\n  const middlePattern = Array(numberOfPairs).fill(`${dashLength} ${gapLength}`).join(" ");\n  const dashArray = `0 ${oValueS} ${middlePattern} ${oValueE}`;\n  return dashArray;\n}, "generateDashArray");\nvar insertEdge = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)(function(elem, edge, clusterDb, diagramType, startNode, endNode, id, skipIntersect = false) {\n  const { handDrawnSeed } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__.getConfig2)();\n  let points = edge.points;\n  let pointsHasChanged = false;\n  const tail = startNode;\n  var head = endNode;\n  const edgeClassStyles = [];\n  for (const key in edge.cssCompiledStyles) {\n    if ((0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_3__.isLabelStyle)(key)) {\n      continue;\n    }\n    edgeClassStyles.push(edge.cssCompiledStyles[key]);\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.debug("UIO intersect check", edge.points, head.x, tail.x);\n  if (head.intersect && tail.intersect && !skipIntersect) {\n    points = points.slice(1, edge.points.length - 1);\n    points.unshift(tail.intersect(points[0]));\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.debug(\n      "Last point UIO",\n      edge.start,\n      "--\x3e",\n      edge.end,\n      points[points.length - 1],\n      head,\n      head.intersect(points[points.length - 1])\n    );\n    points.push(head.intersect(points[points.length - 1]));\n  }\n  const pointsStr = btoa(JSON.stringify(points));\n  if (edge.toCluster) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.info("to cluster abc88", clusterDb.get(edge.toCluster));\n    points = cutPathAtIntersect(edge.points, clusterDb.get(edge.toCluster).node);\n    pointsHasChanged = true;\n  }\n  if (edge.fromCluster) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.debug(\n      "from cluster abc88",\n      clusterDb.get(edge.fromCluster),\n      JSON.stringify(points, null, 2)\n    );\n    points = cutPathAtIntersect(points.reverse(), clusterDb.get(edge.fromCluster).node).reverse();\n    pointsHasChanged = true;\n  }\n  let lineData = points.filter((p) => !Number.isNaN(p.y));\n  lineData = fixCorners(lineData);\n  let curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveBasis;\n  curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveLinear;\n  switch (edge.curve) {\n    case "linear":\n      curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveLinear;\n      break;\n    case "basis":\n      curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveBasis;\n      break;\n    case "cardinal":\n      curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveCardinal;\n      break;\n    case "bumpX":\n      curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveBumpX;\n      break;\n    case "bumpY":\n      curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveBumpY;\n      break;\n    case "catmullRom":\n      curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveCatmullRom;\n      break;\n    case "monotoneX":\n      curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveMonotoneX;\n      break;\n    case "monotoneY":\n      curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveMonotoneY;\n      break;\n    case "natural":\n      curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveNatural;\n      break;\n    case "step":\n      curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveStep;\n      break;\n    case "stepAfter":\n      curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveStepAfter;\n      break;\n    case "stepBefore":\n      curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveStepBefore;\n      break;\n    default:\n      curve = d3__WEBPACK_IMPORTED_MODULE_8__.curveBasis;\n  }\n  const { x, y } = (0,_chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_0__.getLineFunctionsWithOffset)(edge);\n  const lineFunction = (0,d3__WEBPACK_IMPORTED_MODULE_8__.line)().x(x).y(y).curve(curve);\n  let strokeClasses;\n  switch (edge.thickness) {\n    case "normal":\n      strokeClasses = "edge-thickness-normal";\n      break;\n    case "thick":\n      strokeClasses = "edge-thickness-thick";\n      break;\n    case "invisible":\n      strokeClasses = "edge-thickness-invisible";\n      break;\n    default:\n      strokeClasses = "edge-thickness-normal";\n  }\n  switch (edge.pattern) {\n    case "solid":\n      strokeClasses += " edge-pattern-solid";\n      break;\n    case "dotted":\n      strokeClasses += " edge-pattern-dotted";\n      break;\n    case "dashed":\n      strokeClasses += " edge-pattern-dashed";\n      break;\n    default:\n      strokeClasses += " edge-pattern-solid";\n  }\n  let svgPath;\n  let linePath = edge.curve === "rounded" ? generateRoundedPath(applyMarkerOffsetsToPoints(lineData, edge), 5) : lineFunction(lineData);\n  const edgeStyles = Array.isArray(edge.style) ? edge.style : [edge.style];\n  let strokeColor = edgeStyles.find((style) => style?.startsWith("stroke:"));\n  let animatedEdge = false;\n  if (edge.look === "handDrawn") {\n    const rc = roughjs__WEBPACK_IMPORTED_MODULE_9__["default"].svg(elem);\n    Object.assign([], lineData);\n    const svgPathNode = rc.path(linePath, {\n      roughness: 0.3,\n      seed: handDrawnSeed\n    });\n    strokeClasses += " transition";\n    svgPath = (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)(svgPathNode).select("path").attr("id", edge.id).attr("class", " " + strokeClasses + (edge.classes ? " " + edge.classes : "")).attr("style", edgeStyles ? edgeStyles.reduce((acc, style) => acc + ";" + style, "") : "");\n    let d = svgPath.attr("d");\n    svgPath.attr("d", d);\n    elem.node().appendChild(svgPath.node());\n  } else {\n    const stylesFromClasses = edgeClassStyles.join(";");\n    const styles = edgeStyles ? edgeStyles.reduce((acc, style) => acc + style + ";", "") : "";\n    let animationClass = "";\n    if (edge.animate) {\n      animationClass = " edge-animation-fast";\n    }\n    if (edge.animation) {\n      animationClass = " edge-animation-" + edge.animation;\n    }\n    const pathStyle = (stylesFromClasses ? stylesFromClasses + ";" + styles + ";" : styles) + ";" + (edgeStyles ? edgeStyles.reduce((acc, style) => acc + ";" + style, "") : "");\n    svgPath = elem.append("path").attr("d", linePath).attr("id", edge.id).attr(\n      "class",\n      " " + strokeClasses + (edge.classes ? " " + edge.classes : "") + (animationClass ?? "")\n    ).attr("style", pathStyle);\n    strokeColor = pathStyle.match(/stroke:([^;]+)/)?.[1];\n    animatedEdge = edge.animate === true || !!edge.animation || stylesFromClasses.includes("animation");\n    const pathNode = svgPath.node();\n    const len = typeof pathNode.getTotalLength === "function" ? pathNode.getTotalLength() : 0;\n    const oValueS = _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_0__.markerOffsets2[edge.arrowTypeStart] || 0;\n    const oValueE = _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_0__.markerOffsets2[edge.arrowTypeEnd] || 0;\n    if (edge.look === "neo" && !animatedEdge) {\n      const dashArray = edge.pattern === "dotted" || edge.pattern === "dashed" ? generateDashArray(len, oValueS, oValueE) : `0 ${oValueS} ${len - oValueS - oValueE} ${oValueE}`;\n      const mOffset = `stroke-dasharray: ${dashArray}; stroke-dashoffset: 0;`;\n      svgPath.attr("style", mOffset + svgPath.attr("style"));\n    }\n  }\n  svgPath.attr("data-edge", true);\n  svgPath.attr("data-et", "edge");\n  svgPath.attr("data-id", edge.id);\n  svgPath.attr("data-points", pointsStr);\n  if (edge.showPoints) {\n    lineData.forEach((point3) => {\n      elem.append("circle").style("stroke", "red").style("fill", "red").attr("r", 1).attr("cx", point3.x).attr("cy", point3.y);\n    });\n  }\n  let url = "";\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__.getConfig2)().flowchart.arrowMarkerAbsolute || (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__.getConfig2)().state.arrowMarkerAbsolute) {\n    url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;\n    url = url.replace(/\\(/g, "\\\\(").replace(/\\)/g, "\\\\)");\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.info("arrowTypeStart", edge.arrowTypeStart);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.info("arrowTypeEnd", edge.arrowTypeEnd);\n  addEdgeMarkers(svgPath, edge, url, id, diagramType, strokeColor);\n  const midIndex = Math.floor(points.length / 2);\n  const point2 = points[midIndex];\n  if (!_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_5__.utils_default.isLabelCoordinateInPath(point2, svgPath.attr("d"))) {\n    pointsHasChanged = true;\n  }\n  let paths = {};\n  if (pointsHasChanged) {\n    paths.updatedPath = points;\n  }\n  paths.originalPath = edge.points;\n  return paths;\n}, "insertEdge");\nfunction generateRoundedPath(points, radius) {\n  if (points.length < 2) {\n    return "";\n  }\n  let path = "";\n  const size = points.length;\n  const epsilon = 1e-5;\n  for (let i = 0; i < size; i++) {\n    const currPoint = points[i];\n    const prevPoint = points[i - 1];\n    const nextPoint = points[i + 1];\n    if (i === 0) {\n      path += `M${currPoint.x},${currPoint.y}`;\n    } else if (i === size - 1) {\n      path += `L${currPoint.x},${currPoint.y}`;\n    } else {\n      const dx1 = currPoint.x - prevPoint.x;\n      const dy1 = currPoint.y - prevPoint.y;\n      const dx2 = nextPoint.x - currPoint.x;\n      const dy2 = nextPoint.y - currPoint.y;\n      const len1 = Math.hypot(dx1, dy1);\n      const len2 = Math.hypot(dx2, dy2);\n      if (len1 < epsilon || len2 < epsilon) {\n        path += `L${currPoint.x},${currPoint.y}`;\n        continue;\n      }\n      const nx1 = dx1 / len1;\n      const ny1 = dy1 / len1;\n      const nx2 = dx2 / len2;\n      const ny2 = dy2 / len2;\n      const dot = nx1 * nx2 + ny1 * ny2;\n      const clampedDot = Math.max(-1, Math.min(1, dot));\n      const angle = Math.acos(clampedDot);\n      if (angle < epsilon || Math.abs(Math.PI - angle) < epsilon) {\n        path += `L${currPoint.x},${currPoint.y}`;\n        continue;\n      }\n      const cutLen = Math.min(radius / Math.sin(angle / 2), len1 / 2, len2 / 2);\n      const startX = currPoint.x - nx1 * cutLen;\n      const startY = currPoint.y - ny1 * cutLen;\n      const endX = currPoint.x + nx2 * cutLen;\n      const endY = currPoint.y + ny2 * cutLen;\n      path += `L${startX},${startY}`;\n      path += `Q${currPoint.x},${currPoint.y} ${endX},${endY}`;\n    }\n  }\n  return path;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)(generateRoundedPath, "generateRoundedPath");\nfunction calculateDeltaAndAngle(point1, point2) {\n  if (!point1 || !point2) {\n    return { angle: 0, deltaX: 0, deltaY: 0 };\n  }\n  const deltaX = point2.x - point1.x;\n  const deltaY = point2.y - point1.y;\n  const angle = Math.atan2(deltaY, deltaX);\n  return { angle, deltaX, deltaY };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)(calculateDeltaAndAngle, "calculateDeltaAndAngle");\nfunction applyMarkerOffsetsToPoints(points, edge) {\n  const newPoints = points.map((point2) => ({ ...point2 }));\n  if (points.length >= 2 && _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_0__.markerOffsets[edge.arrowTypeStart]) {\n    const offsetValue = _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_0__.markerOffsets[edge.arrowTypeStart];\n    const point1 = points[0];\n    const point2 = points[1];\n    const { angle } = calculateDeltaAndAngle(point1, point2);\n    const offsetX = offsetValue * Math.cos(angle);\n    const offsetY = offsetValue * Math.sin(angle);\n    newPoints[0].x = point1.x + offsetX;\n    newPoints[0].y = point1.y + offsetY;\n  }\n  const n = points.length;\n  if (n >= 2 && _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_0__.markerOffsets[edge.arrowTypeEnd]) {\n    const offsetValue = _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_0__.markerOffsets[edge.arrowTypeEnd];\n    const point1 = points[n - 1];\n    const point2 = points[n - 2];\n    const { angle } = calculateDeltaAndAngle(point2, point1);\n    const offsetX = offsetValue * Math.cos(angle);\n    const offsetY = offsetValue * Math.sin(angle);\n    newPoints[n - 1].x = point1.x - offsetX;\n    newPoints[n - 1].y = point1.y - offsetY;\n  }\n  return newPoints;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)(applyMarkerOffsetsToPoints, "applyMarkerOffsetsToPoints");\n\n// src/rendering-util/rendering-elements/markers.js\nvar insertMarkers = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, markerArray, type, id) => {\n  markerArray.forEach((markerName) => {\n    markers[markerName](elem, type, id);\n  });\n}, "insertMarkers");\nvar extension = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.log.trace("Making markers for ", id);\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-extensionStart").attr("class", "marker extension " + type).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 1,7 L18,13 V 1 Z");\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-extensionEnd").attr("class", "marker extension " + type).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 1,1 V 13 L18,7 Z");\n}, "extension");\nvar composition = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-compositionStart").attr("class", "marker composition " + type).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-compositionEnd").attr("class", "marker composition " + type).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");\n}, "composition");\nvar aggregation = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-aggregationStart").attr("class", "marker aggregation " + type).attr("refX", 18).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-aggregationEnd").attr("class", "marker aggregation " + type).attr("refX", 1).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");\n}, "aggregation");\nvar dependency = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-dependencyStart").attr("class", "marker dependency " + type).attr("refX", 6).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 5,7 L9,13 L1,7 L9,1 Z");\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-dependencyEnd").attr("class", "marker dependency " + type).attr("refX", 13).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");\n}, "dependency");\nvar lollipop = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-lollipopStart").attr("class", "marker lollipop " + type).attr("refX", 13).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("circle").attr("stroke", "black").attr("fill", "transparent").attr("cx", 7).attr("cy", 7).attr("r", 6);\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-lollipopEnd").attr("class", "marker lollipop " + type).attr("refX", 1).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("circle").attr("stroke", "black").attr("fill", "transparent").attr("cx", 7).attr("cy", 7).attr("r", 6);\n}, "lollipop");\nvar point = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  elem.append("marker").attr("id", id + "_" + type + "-pointEnd").attr("class", "marker " + type).attr("viewBox", "0 0 10 10").attr("refX", 5).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 8).attr("markerHeight", 8).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");\n  elem.append("marker").attr("id", id + "_" + type + "-pointStart").attr("class", "marker " + type).attr("viewBox", "0 0 10 10").attr("refX", 4.5).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 8).attr("markerHeight", 8).attr("orient", "auto").append("path").attr("d", "M 0 5 L 10 10 L 10 0 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");\n}, "point");\nvar circle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  elem.append("marker").attr("id", id + "_" + type + "-circleEnd").attr("class", "marker " + type).attr("viewBox", "0 0 10 10").attr("refX", 11).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");\n  elem.append("marker").attr("id", id + "_" + type + "-circleStart").attr("class", "marker " + type).attr("viewBox", "0 0 10 10").attr("refX", -1).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");\n}, "circle");\nvar cross = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  elem.append("marker").attr("id", id + "_" + type + "-crossEnd").attr("class", "marker cross " + type).attr("viewBox", "0 0 11 11").attr("refX", 12).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0");\n  elem.append("marker").attr("id", id + "_" + type + "-crossStart").attr("class", "marker cross " + type).attr("viewBox", "0 0 11 11").attr("refX", -1).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0");\n}, "cross");\nvar barb = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-barbEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 14).attr("markerUnits", "userSpaceOnUse").attr("orient", "auto").append("path").attr("d", "M 19,7 L9,13 L14,7 L9,1 Z");\n}, "barb");\nvar only_one = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-onlyOneStart").attr("class", "marker onlyOne " + type).attr("refX", 0).attr("refY", 9).attr("markerWidth", 18).attr("markerHeight", 18).attr("orient", "auto").append("path").attr("d", "M9,0 L9,18 M15,0 L15,18");\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-onlyOneEnd").attr("class", "marker onlyOne " + type).attr("refX", 18).attr("refY", 9).attr("markerWidth", 18).attr("markerHeight", 18).attr("orient", "auto").append("path").attr("d", "M3,0 L3,18 M9,0 L9,18");\n}, "only_one");\nvar zero_or_one = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  const startMarker = elem.append("defs").append("marker").attr("id", id + "_" + type + "-zeroOrOneStart").attr("class", "marker zeroOrOne " + type).attr("refX", 0).attr("refY", 9).attr("markerWidth", 30).attr("markerHeight", 18).attr("orient", "auto");\n  startMarker.append("circle").attr("fill", "white").attr("cx", 21).attr("cy", 9).attr("r", 6);\n  startMarker.append("path").attr("d", "M9,0 L9,18");\n  const endMarker = elem.append("defs").append("marker").attr("id", id + "_" + type + "-zeroOrOneEnd").attr("class", "marker zeroOrOne " + type).attr("refX", 30).attr("refY", 9).attr("markerWidth", 30).attr("markerHeight", 18).attr("orient", "auto");\n  endMarker.append("circle").attr("fill", "white").attr("cx", 9).attr("cy", 9).attr("r", 6);\n  endMarker.append("path").attr("d", "M21,0 L21,18");\n}, "zero_or_one");\nvar one_or_more = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-oneOrMoreStart").attr("class", "marker oneOrMore " + type).attr("refX", 18).attr("refY", 18).attr("markerWidth", 45).attr("markerHeight", 36).attr("orient", "auto").append("path").attr("d", "M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27");\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-oneOrMoreEnd").attr("class", "marker oneOrMore " + type).attr("refX", 27).attr("refY", 18).attr("markerWidth", 45).attr("markerHeight", 36).attr("orient", "auto").append("path").attr("d", "M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18");\n}, "one_or_more");\nvar zero_or_more = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  const startMarker = elem.append("defs").append("marker").attr("id", id + "_" + type + "-zeroOrMoreStart").attr("class", "marker zeroOrMore " + type).attr("refX", 18).attr("refY", 18).attr("markerWidth", 57).attr("markerHeight", 36).attr("orient", "auto");\n  startMarker.append("circle").attr("fill", "white").attr("cx", 48).attr("cy", 18).attr("r", 6);\n  startMarker.append("path").attr("d", "M0,18 Q18,0 36,18 Q18,36 0,18");\n  const endMarker = elem.append("defs").append("marker").attr("id", id + "_" + type + "-zeroOrMoreEnd").attr("class", "marker zeroOrMore " + type).attr("refX", 39).attr("refY", 18).attr("markerWidth", 57).attr("markerHeight", 36).attr("orient", "auto");\n  endMarker.append("circle").attr("fill", "white").attr("cx", 9).attr("cy", 18).attr("r", 6);\n  endMarker.append("path").attr("d", "M21,18 Q39,0 57,18 Q39,36 21,18");\n}, "zero_or_more");\nvar requirement_arrow = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  elem.append("defs").append("marker").attr("id", id + "_" + type + "-requirement_arrowEnd").attr("refX", 20).attr("refY", 10).attr("markerWidth", 20).attr("markerHeight", 20).attr("orient", "auto").append("path").attr(\n    "d",\n    `M0,0\n      L20,10\n      M20,10\n      L0,20`\n  );\n}, "requirement_arrow");\nvar requirement_contains = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.__name)((elem, type, id) => {\n  const containsNode = elem.append("defs").append("marker").attr("id", id + "_" + type + "-requirement_containsStart").attr("refX", 0).attr("refY", 10).attr("markerWidth", 20).attr("markerHeight", 20).attr("orient", "auto").append("g");\n  containsNode.append("circle").attr("cx", 10).attr("cy", 10).attr("r", 9).attr("fill", "none");\n  containsNode.append("line").attr("x1", 1).attr("x2", 19).attr("y1", 10).attr("y2", 10);\n  containsNode.append("line").attr("y1", 1).attr("y2", 19).attr("x1", 10).attr("x2", 10);\n}, "requirement_contains");\nvar markers = {\n  extension,\n  composition,\n  aggregation,\n  dependency,\n  lollipop,\n  point,\n  circle,\n  cross,\n  barb,\n  only_one,\n  zero_or_one,\n  one_or_more,\n  zero_or_more,\n  requirement_arrow,\n  requirement_contains\n};\nvar markers_default = insertMarkers;\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QXUST7PY.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QZHKN3VN.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImperativeState: () => (/* binding */ ImperativeState)\n/* harmony export */ });\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n\n\n// src/utils/imperativeState.ts\nvar ImperativeState = class {\n  /**\n   * @param init - Function that creates the default state.\n   */\n  constructor(init) {\n    this.init = init;\n    this.records = this.init();\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(this, "ImperativeState");\n  }\n  reset() {\n    this.records = this.init();\n  }\n};\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QZHKN3VN.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ZERO_WIDTH_SPACE: () => (/* binding */ ZERO_WIDTH_SPACE),\n/* harmony export */   calculateTextHeight: () => (/* binding */ calculateTextHeight),\n/* harmony export */   calculateTextWidth: () => (/* binding */ calculateTextWidth),\n/* harmony export */   cleanAndMerge: () => (/* binding */ cleanAndMerge),\n/* harmony export */   decodeEntities: () => (/* binding */ decodeEntities),\n/* harmony export */   encodeEntities: () => (/* binding */ encodeEntities),\n/* harmony export */   generateId: () => (/* binding */ generateId),\n/* harmony export */   getEdgeId: () => (/* binding */ getEdgeId),\n/* harmony export */   getStylesFromArray: () => (/* binding */ getStylesFromArray),\n/* harmony export */   handleUndefinedAttr: () => (/* binding */ handleUndefinedAttr),\n/* harmony export */   interpolateToCurve: () => (/* binding */ interpolateToCurve),\n/* harmony export */   isDetailedError: () => (/* binding */ isDetailedError),\n/* harmony export */   parseFontSize: () => (/* binding */ parseFontSize),\n/* harmony export */   random: () => (/* binding */ random),\n/* harmony export */   removeDirectives: () => (/* binding */ removeDirectives),\n/* harmony export */   utils_default: () => (/* binding */ utils_default),\n/* harmony export */   wrapLabel: () => (/* binding */ wrapLabel)\n/* harmony export */ });\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @braintree/sanitize-url */ "./node_modules/@braintree/sanitize-url/dist/index.js");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n/* harmony import */ var lodash_es_memoize_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es/memoize.js */ "./node_modules/lodash-es/memoize.js");\n/* harmony import */ var lodash_es_merge_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es/merge.js */ "./node_modules/lodash-es/merge.js");\n\n\n\n// src/utils.ts\n\n\n\n\nvar ZERO_WIDTH_SPACE = "\\u200B";\nvar d3CurveTypes = {\n  curveBasis: d3__WEBPACK_IMPORTED_MODULE_3__.curveBasis,\n  curveBasisClosed: d3__WEBPACK_IMPORTED_MODULE_3__.curveBasisClosed,\n  curveBasisOpen: d3__WEBPACK_IMPORTED_MODULE_3__.curveBasisOpen,\n  curveBumpX: d3__WEBPACK_IMPORTED_MODULE_3__.curveBumpX,\n  curveBumpY: d3__WEBPACK_IMPORTED_MODULE_3__.curveBumpY,\n  curveBundle: d3__WEBPACK_IMPORTED_MODULE_3__.curveBundle,\n  curveCardinalClosed: d3__WEBPACK_IMPORTED_MODULE_3__.curveCardinalClosed,\n  curveCardinalOpen: d3__WEBPACK_IMPORTED_MODULE_3__.curveCardinalOpen,\n  curveCardinal: d3__WEBPACK_IMPORTED_MODULE_3__.curveCardinal,\n  curveCatmullRomClosed: d3__WEBPACK_IMPORTED_MODULE_3__.curveCatmullRomClosed,\n  curveCatmullRomOpen: d3__WEBPACK_IMPORTED_MODULE_3__.curveCatmullRomOpen,\n  curveCatmullRom: d3__WEBPACK_IMPORTED_MODULE_3__.curveCatmullRom,\n  curveLinear: d3__WEBPACK_IMPORTED_MODULE_3__.curveLinear,\n  curveLinearClosed: d3__WEBPACK_IMPORTED_MODULE_3__.curveLinearClosed,\n  curveMonotoneX: d3__WEBPACK_IMPORTED_MODULE_3__.curveMonotoneX,\n  curveMonotoneY: d3__WEBPACK_IMPORTED_MODULE_3__.curveMonotoneY,\n  curveNatural: d3__WEBPACK_IMPORTED_MODULE_3__.curveNatural,\n  curveStep: d3__WEBPACK_IMPORTED_MODULE_3__.curveStep,\n  curveStepAfter: d3__WEBPACK_IMPORTED_MODULE_3__.curveStepAfter,\n  curveStepBefore: d3__WEBPACK_IMPORTED_MODULE_3__.curveStepBefore\n};\nvar directiveWithoutOpen = /\\s*(?:(\\w+)(?=:):|(\\w+))\\s*(?:(\\w+)|((?:(?!}%{2}).|\\r?\\n)*))?\\s*(?:}%{2})?/gi;\nvar detectInit = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(text, config) {\n  const inits = detectDirective(text, /(?:init\\b)|(?:initialize\\b)/);\n  let results = {};\n  if (Array.isArray(inits)) {\n    const args = inits.map((init) => init.args);\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.sanitizeDirective)(args);\n    results = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.assignWithDepth_default)(results, [...args]);\n  } else {\n    results = inits.args;\n  }\n  if (!results) {\n    return;\n  }\n  let type = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.detectType)(text, config);\n  const prop = "config";\n  if (results[prop] !== void 0) {\n    if (type === "flowchart-v2") {\n      type = "flowchart";\n    }\n    results[type] = results[prop];\n    delete results[prop];\n  }\n  return results;\n}, "detectInit");\nvar detectDirective = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(text, type = null) {\n  try {\n    const commentWithoutDirectives = new RegExp(\n      `[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*\n`,\n      "ig"\n    );\n    text = text.trim().replace(commentWithoutDirectives, "").replace(/\'/gm, \'"\');\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug(\n      `Detecting diagram directive${type !== null ? " type:" + type : ""} based on the text:${text}`\n    );\n    let match;\n    const result = [];\n    while ((match = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.directiveRegex.exec(text)) !== null) {\n      if (match.index === _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.directiveRegex.lastIndex) {\n        _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.directiveRegex.lastIndex++;\n      }\n      if (match && !type || type && match[1]?.match(type) || type && match[2]?.match(type)) {\n        const type2 = match[1] ? match[1] : match[2];\n        const args = match[3] ? match[3].trim() : match[4] ? JSON.parse(match[4].trim()) : null;\n        result.push({ type: type2, args });\n      }\n    }\n    if (result.length === 0) {\n      return { type: text, args: null };\n    }\n    return result.length === 1 ? result[0] : result;\n  } catch (error) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.error(\n      `ERROR: ${error.message} - Unable to parse directive type: \'${type}\' based on the text: \'${text}\'`\n    );\n    return { type: void 0, args: null };\n  }\n}, "detectDirective");\nvar removeDirectives = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(text) {\n  return text.replace(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.directiveRegex, "");\n}, "removeDirectives");\nvar isSubstringInArray = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(str, arr) {\n  for (const [i, element] of arr.entries()) {\n    if (element.match(str)) {\n      return i;\n    }\n  }\n  return -1;\n}, "isSubstringInArray");\nfunction interpolateToCurve(interpolate, defaultCurve) {\n  if (!interpolate) {\n    return defaultCurve;\n  }\n  const curveName = `curve${interpolate.charAt(0).toUpperCase() + interpolate.slice(1)}`;\n  return d3CurveTypes[curveName] ?? defaultCurve;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(interpolateToCurve, "interpolateToCurve");\nfunction formatUrl(linkStr, config) {\n  const url = linkStr.trim();\n  if (!url) {\n    return void 0;\n  }\n  if (config.securityLevel !== "loose") {\n    return (0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_2__.sanitizeUrl)(url);\n  }\n  return url;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(formatUrl, "formatUrl");\nvar runFunc = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((functionName, ...params) => {\n  const arrPaths = functionName.split(".");\n  const len = arrPaths.length - 1;\n  const fnName = arrPaths[len];\n  let obj = window;\n  for (let i = 0; i < len; i++) {\n    obj = obj[arrPaths[i]];\n    if (!obj) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.error(`Function name: ${functionName} not found in window`);\n      return;\n    }\n  }\n  obj[fnName](...params);\n}, "runFunc");\nfunction distance(p1, p2) {\n  if (!p1 || !p2) {\n    return 0;\n  }\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(distance, "distance");\nfunction traverseEdge(points) {\n  let prevPoint;\n  let totalDistance = 0;\n  points.forEach((point) => {\n    totalDistance += distance(point, prevPoint);\n    prevPoint = point;\n  });\n  const remainingDistance = totalDistance / 2;\n  return calculatePoint(points, remainingDistance);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(traverseEdge, "traverseEdge");\nfunction calcLabelPosition(points) {\n  if (points.length === 1) {\n    return points[0];\n  }\n  return traverseEdge(points);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(calcLabelPosition, "calcLabelPosition");\nvar roundNumber = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((num, precision = 2) => {\n  const factor = Math.pow(10, precision);\n  return Math.round(num * factor) / factor;\n}, "roundNumber");\nvar calculatePoint = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((points, distanceToTraverse) => {\n  let prevPoint = void 0;\n  let remainingDistance = distanceToTraverse;\n  for (const point of points) {\n    if (prevPoint) {\n      const vectorDistance = distance(point, prevPoint);\n      if (vectorDistance === 0) {\n        return prevPoint;\n      }\n      if (vectorDistance < remainingDistance) {\n        remainingDistance -= vectorDistance;\n      } else {\n        const distanceRatio = remainingDistance / vectorDistance;\n        if (distanceRatio <= 0) {\n          return prevPoint;\n        }\n        if (distanceRatio >= 1) {\n          return { x: point.x, y: point.y };\n        }\n        if (distanceRatio > 0 && distanceRatio < 1) {\n          return {\n            x: roundNumber((1 - distanceRatio) * prevPoint.x + distanceRatio * point.x, 5),\n            y: roundNumber((1 - distanceRatio) * prevPoint.y + distanceRatio * point.y, 5)\n          };\n        }\n      }\n    }\n    prevPoint = point;\n  }\n  throw new Error("Could not find a suitable point for the given distance");\n}, "calculatePoint");\nvar calcCardinalityPosition = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((isRelationTypePresent, points, initialPosition) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.info(`our points ${JSON.stringify(points)}`);\n  if (points[0] !== initialPosition) {\n    points = points.reverse();\n  }\n  const distanceToCardinalityPoint = 25;\n  const center = calculatePoint(points, distanceToCardinalityPoint);\n  const d = isRelationTypePresent ? 10 : 5;\n  const angle = Math.atan2(points[0].y - center.y, points[0].x - center.x);\n  const cardinalityPosition = { x: 0, y: 0 };\n  cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2;\n  cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2;\n  return cardinalityPosition;\n}, "calcCardinalityPosition");\nfunction calcTerminalLabelPosition(terminalMarkerSize, position, _points) {\n  const points = structuredClone(_points);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.info("our points", points);\n  if (position !== "start_left" && position !== "start_right") {\n    points.reverse();\n  }\n  const distanceToCardinalityPoint = 25 + terminalMarkerSize;\n  const center = calculatePoint(points, distanceToCardinalityPoint);\n  const d = 10 + terminalMarkerSize * 0.5;\n  const angle = Math.atan2(points[0].y - center.y, points[0].x - center.x);\n  const cardinalityPosition = { x: 0, y: 0 };\n  if (position === "start_left") {\n    cardinalityPosition.x = Math.sin(angle + Math.PI) * d + (points[0].x + center.x) / 2;\n    cardinalityPosition.y = -Math.cos(angle + Math.PI) * d + (points[0].y + center.y) / 2;\n  } else if (position === "end_right") {\n    cardinalityPosition.x = Math.sin(angle - Math.PI) * d + (points[0].x + center.x) / 2 - 5;\n    cardinalityPosition.y = -Math.cos(angle - Math.PI) * d + (points[0].y + center.y) / 2 - 5;\n  } else if (position === "end_left") {\n    cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2 - 5;\n    cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2 - 5;\n  } else {\n    cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2;\n    cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2;\n  }\n  return cardinalityPosition;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(calcTerminalLabelPosition, "calcTerminalLabelPosition");\nfunction getStylesFromArray(arr) {\n  let style = "";\n  let labelStyle = "";\n  for (const element of arr) {\n    if (element !== void 0) {\n      if (element.startsWith("color:") || element.startsWith("text-align:")) {\n        labelStyle = labelStyle + element + ";";\n      } else {\n        style = style + element + ";";\n      }\n    }\n  }\n  return { style, labelStyle };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(getStylesFromArray, "getStylesFromArray");\nvar cnt = 0;\nvar generateId = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(() => {\n  cnt++;\n  return "id-" + Math.random().toString(36).substr(2, 12) + "-" + cnt;\n}, "generateId");\nfunction makeRandomHex(length) {\n  let result = "";\n  const characters = "0123456789abcdef";\n  const charactersLength = characters.length;\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(makeRandomHex, "makeRandomHex");\nvar random = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((options) => {\n  return makeRandomHex(options.length);\n}, "random");\nvar getTextObj = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n  return {\n    x: 0,\n    y: 0,\n    fill: void 0,\n    anchor: "start",\n    style: "#666",\n    width: 100,\n    height: 100,\n    textMargin: 0,\n    rx: 0,\n    ry: 0,\n    valign: void 0,\n    text: ""\n  };\n}, "getTextObj");\nvar drawSimpleText = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(elem, textData) {\n  const nText = textData.text.replace(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.common_default.lineBreakRegex, " ");\n  const [, _fontSizePx] = parseFontSize(textData.fontSize);\n  const textElem = elem.append("text");\n  textElem.attr("x", textData.x);\n  textElem.attr("y", textData.y);\n  textElem.style("text-anchor", textData.anchor);\n  textElem.style("font-family", textData.fontFamily);\n  textElem.style("font-size", _fontSizePx);\n  textElem.style("font-weight", textData.fontWeight);\n  textElem.attr("fill", textData.fill);\n  if (textData.class !== void 0) {\n    textElem.attr("class", textData.class);\n  }\n  const span = textElem.append("tspan");\n  span.attr("x", textData.x + textData.textMargin * 2);\n  span.attr("fill", textData.fill);\n  span.text(nText);\n  return textElem;\n}, "drawSimpleText");\nvar wrapLabel = (0,lodash_es_memoize_js__WEBPACK_IMPORTED_MODULE_4__["default"])(\n  (label, maxWidth, config) => {\n    if (!label) {\n      return label;\n    }\n    config = Object.assign(\n      { fontSize: 12, fontWeight: 400, fontFamily: "Arial", joinWith: "<br/>" },\n      config\n    );\n    if (_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.common_default.lineBreakRegex.test(label)) {\n      return label;\n    }\n    const words = label.split(" ").filter(Boolean);\n    const completedLines = [];\n    let nextLine = "";\n    words.forEach((word, index) => {\n      const wordLength = calculateTextWidth(`${word} `, config);\n      const nextLineLength = calculateTextWidth(nextLine, config);\n      if (wordLength > maxWidth) {\n        const { hyphenatedStrings, remainingWord } = breakString(word, maxWidth, "-", config);\n        completedLines.push(nextLine, ...hyphenatedStrings);\n        nextLine = remainingWord;\n      } else if (nextLineLength + wordLength >= maxWidth) {\n        completedLines.push(nextLine);\n        nextLine = word;\n      } else {\n        nextLine = [nextLine, word].filter(Boolean).join(" ");\n      }\n      const currentWord = index + 1;\n      const isLastWord = currentWord === words.length;\n      if (isLastWord) {\n        completedLines.push(nextLine);\n      }\n    });\n    return completedLines.filter((line) => line !== "").join(config.joinWith);\n  },\n  (label, maxWidth, config) => `${label}${maxWidth}${config.fontSize}${config.fontWeight}${config.fontFamily}${config.joinWith}`\n);\nvar breakString = (0,lodash_es_memoize_js__WEBPACK_IMPORTED_MODULE_4__["default"])(\n  (word, maxWidth, hyphenCharacter = "-", config) => {\n    config = Object.assign(\n      { fontSize: 12, fontWeight: 400, fontFamily: "Arial", margin: 0 },\n      config\n    );\n    const characters = [...word];\n    const lines = [];\n    let currentLine = "";\n    characters.forEach((character, index) => {\n      const nextLine = `${currentLine}${character}`;\n      const lineWidth = calculateTextWidth(nextLine, config);\n      if (lineWidth >= maxWidth) {\n        const currentCharacter = index + 1;\n        const isLastLine = characters.length === currentCharacter;\n        const hyphenatedNextLine = `${nextLine}${hyphenCharacter}`;\n        lines.push(isLastLine ? nextLine : hyphenatedNextLine);\n        currentLine = "";\n      } else {\n        currentLine = nextLine;\n      }\n    });\n    return { hyphenatedStrings: lines, remainingWord: currentLine };\n  },\n  (word, maxWidth, hyphenCharacter = "-", config) => `${word}${maxWidth}${hyphenCharacter}${config.fontSize}${config.fontWeight}${config.fontFamily}`\n);\nfunction calculateTextHeight(text, config) {\n  return calculateTextDimensions(text, config).height;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(calculateTextHeight, "calculateTextHeight");\nfunction calculateTextWidth(text, config) {\n  return calculateTextDimensions(text, config).width;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(calculateTextWidth, "calculateTextWidth");\nvar calculateTextDimensions = (0,lodash_es_memoize_js__WEBPACK_IMPORTED_MODULE_4__["default"])(\n  (text, config) => {\n    const { fontSize = 12, fontFamily = "Arial", fontWeight = 400 } = config;\n    if (!text) {\n      return { width: 0, height: 0 };\n    }\n    const [, _fontSizePx] = parseFontSize(fontSize);\n    const fontFamilies = ["sans-serif", fontFamily];\n    const lines = text.split(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.common_default.lineBreakRegex);\n    const dims = [];\n    const body = (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)("body");\n    if (!body.remove) {\n      return { width: 0, height: 0, lineHeight: 0 };\n    }\n    const g = body.append("svg");\n    for (const fontFamily2 of fontFamilies) {\n      let cHeight = 0;\n      const dim = { width: 0, height: 0, lineHeight: 0 };\n      for (const line of lines) {\n        const textObj = getTextObj();\n        textObj.text = line || ZERO_WIDTH_SPACE;\n        const textElem = drawSimpleText(g, textObj).style("font-size", _fontSizePx).style("font-weight", fontWeight).style("font-family", fontFamily2);\n        const bBox = (textElem._groups || textElem)[0][0].getBBox();\n        if (bBox.width === 0 && bBox.height === 0) {\n          throw new Error("svg element not in render tree");\n        }\n        dim.width = Math.round(Math.max(dim.width, bBox.width));\n        cHeight = Math.round(bBox.height);\n        dim.height += cHeight;\n        dim.lineHeight = Math.round(Math.max(dim.lineHeight, cHeight));\n      }\n      dims.push(dim);\n    }\n    g.remove();\n    const index = isNaN(dims[1].height) || isNaN(dims[1].width) || isNaN(dims[1].lineHeight) || dims[0].height > dims[1].height && dims[0].width > dims[1].width && dims[0].lineHeight > dims[1].lineHeight ? 0 : 1;\n    return dims[index];\n  },\n  (text, config) => `${text}${config.fontSize}${config.fontWeight}${config.fontFamily}`\n);\nvar InitIDGenerator = class {\n  constructor(deterministic = false, seed) {\n    this.count = 0;\n    this.count = seed ? seed.length : 0;\n    this.next = deterministic ? () => this.count++ : () => Date.now();\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(this, "InitIDGenerator");\n  }\n};\nvar decoder;\nvar entityDecode = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(html) {\n  decoder = decoder || document.createElement("div");\n  html = escape(html).replace(/%26/g, "&").replace(/%23/g, "#").replace(/%3B/g, ";");\n  decoder.innerHTML = html;\n  return unescape(decoder.textContent);\n}, "entityDecode");\nfunction isDetailedError(error) {\n  return "str" in error;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(isDetailedError, "isDetailedError");\nvar insertTitle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((parent, cssClass, titleTopMargin, title) => {\n  if (!title) {\n    return;\n  }\n  const bounds = parent.node()?.getBBox();\n  if (!bounds) {\n    return;\n  }\n  parent.append("text").text(title).attr("text-anchor", "middle").attr("x", bounds.x + bounds.width / 2).attr("y", -titleTopMargin).attr("class", cssClass);\n}, "insertTitle");\nvar parseFontSize = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((fontSize) => {\n  if (typeof fontSize === "number") {\n    return [fontSize, fontSize + "px"];\n  }\n  const fontSizeNumber = parseInt(fontSize ?? "", 10);\n  if (Number.isNaN(fontSizeNumber)) {\n    return [void 0, void 0];\n  } else if (fontSize === String(fontSizeNumber)) {\n    return [fontSizeNumber, fontSize + "px"];\n  } else {\n    return [fontSizeNumber, fontSize];\n  }\n}, "parseFontSize");\nfunction cleanAndMerge(defaultData, data) {\n  return (0,lodash_es_merge_js__WEBPACK_IMPORTED_MODULE_5__["default"])({}, defaultData, data);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(cleanAndMerge, "cleanAndMerge");\nvar utils_default = {\n  assignWithDepth: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.assignWithDepth_default,\n  wrapLabel,\n  calculateTextHeight,\n  calculateTextWidth,\n  calculateTextDimensions,\n  cleanAndMerge,\n  detectInit,\n  detectDirective,\n  isSubstringInArray,\n  interpolateToCurve,\n  calcLabelPosition,\n  calcCardinalityPosition,\n  calcTerminalLabelPosition,\n  formatUrl,\n  getStylesFromArray,\n  generateId,\n  random,\n  runFunc,\n  entityDecode,\n  insertTitle,\n  isLabelCoordinateInPath,\n  parseFontSize,\n  InitIDGenerator\n};\nvar encodeEntities = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(text) {\n  let txt = text;\n  txt = txt.replace(/style.*:\\S*#.*;/g, function(s) {\n    return s.substring(0, s.length - 1);\n  });\n  txt = txt.replace(/classDef.*:\\S*#.*;/g, function(s) {\n    return s.substring(0, s.length - 1);\n  });\n  txt = txt.replace(/#\\w+;/g, function(s) {\n    const innerTxt = s.substring(1, s.length - 1);\n    const isInt = /^\\+?\\d+$/.test(innerTxt);\n    if (isInt) {\n      return "\\uFB02\\xB0\\xB0" + innerTxt + "\\xB6\\xDF";\n    } else {\n      return "\\uFB02\\xB0" + innerTxt + "\\xB6\\xDF";\n    }\n  });\n  return txt;\n}, "encodeEntities");\nvar decodeEntities = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(text) {\n  return text.replace(//g, "&#").replace(//g, "&").replace(//g, ";");\n}, "decodeEntities");\nvar getEdgeId = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((from, to, {\n  counter = 0,\n  prefix,\n  suffix\n}, id) => {\n  if (id) {\n    return id;\n  }\n  return `${prefix ? `${prefix}_` : ""}${from}_${to}_${counter}${suffix ? `_${suffix}` : ""}`;\n}, "getEdgeId");\nfunction handleUndefinedAttr(attrValue) {\n  return attrValue ?? null;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(handleUndefinedAttr, "handleUndefinedAttr");\nfunction isLabelCoordinateInPath(point, dAttr) {\n  const roundedX = Math.round(point.x);\n  const roundedY = Math.round(point.y);\n  const sanitizedD = dAttr.replace(\n    /(\\d+\\.\\d+)/g,\n    (match) => Math.round(parseFloat(match)).toString()\n  );\n  return sanitizedD.includes(roundedX.toString()) || sanitizedD.includes(roundedY.toString());\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(isLabelCoordinateInPath, "isLabelCoordinateInPath");\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-TZMSLE5B.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   drawBackgroundRect: () => (/* binding */ drawBackgroundRect),\n/* harmony export */   drawEmbeddedImage: () => (/* binding */ drawEmbeddedImage),\n/* harmony export */   drawImage: () => (/* binding */ drawImage),\n/* harmony export */   drawRect: () => (/* binding */ drawRect),\n/* harmony export */   drawText: () => (/* binding */ drawText),\n/* harmony export */   getNoteRect: () => (/* binding */ getNoteRect),\n/* harmony export */   getTextObj: () => (/* binding */ getTextObj)\n/* harmony export */ });\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @braintree/sanitize-url */ "./node_modules/@braintree/sanitize-url/dist/index.js");\n\n\n\n// src/diagrams/common/svgDrawCommon.ts\n\nvar drawRect = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((element, rectData) => {\n  const rectElement = element.append("rect");\n  rectElement.attr("x", rectData.x);\n  rectElement.attr("y", rectData.y);\n  rectElement.attr("fill", rectData.fill);\n  rectElement.attr("stroke", rectData.stroke);\n  rectElement.attr("width", rectData.width);\n  rectElement.attr("height", rectData.height);\n  if (rectData.name) {\n    rectElement.attr("name", rectData.name);\n  }\n  if (rectData.rx) {\n    rectElement.attr("rx", rectData.rx);\n  }\n  if (rectData.ry) {\n    rectElement.attr("ry", rectData.ry);\n  }\n  if (rectData.attrs !== void 0) {\n    for (const attrKey in rectData.attrs) {\n      rectElement.attr(attrKey, rectData.attrs[attrKey]);\n    }\n  }\n  if (rectData.class) {\n    rectElement.attr("class", rectData.class);\n  }\n  return rectElement;\n}, "drawRect");\nvar drawBackgroundRect = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((element, bounds) => {\n  const rectData = {\n    x: bounds.startx,\n    y: bounds.starty,\n    width: bounds.stopx - bounds.startx,\n    height: bounds.stopy - bounds.starty,\n    fill: bounds.fill,\n    stroke: bounds.stroke,\n    class: "rect"\n  };\n  const rectElement = drawRect(element, rectData);\n  rectElement.lower();\n}, "drawBackgroundRect");\nvar drawText = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((element, textData) => {\n  const nText = textData.text.replace(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.lineBreakRegex, " ");\n  const textElem = element.append("text");\n  textElem.attr("x", textData.x);\n  textElem.attr("y", textData.y);\n  textElem.attr("class", "legend");\n  textElem.style("text-anchor", textData.anchor);\n  if (textData.class) {\n    textElem.attr("class", textData.class);\n  }\n  const tspan = textElem.append("tspan");\n  tspan.attr("x", textData.x + textData.textMargin * 2);\n  tspan.text(nText);\n  return textElem;\n}, "drawText");\nvar drawImage = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((elem, x, y, link) => {\n  const imageElement = elem.append("image");\n  imageElement.attr("x", x);\n  imageElement.attr("y", y);\n  const sanitizedLink = (0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_2__.sanitizeUrl)(link);\n  imageElement.attr("xlink:href", sanitizedLink);\n}, "drawImage");\nvar drawEmbeddedImage = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((element, x, y, link) => {\n  const imageElement = element.append("use");\n  imageElement.attr("x", x);\n  imageElement.attr("y", y);\n  const sanitizedLink = (0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_2__.sanitizeUrl)(link);\n  imageElement.attr("xlink:href", `#${sanitizedLink}`);\n}, "drawEmbeddedImage");\nvar getNoteRect = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(() => {\n  const noteRectData = {\n    x: 0,\n    y: 0,\n    width: 100,\n    height: 100,\n    fill: "#EDF2AE",\n    stroke: "#666",\n    anchor: "start",\n    rx: 0,\n    ry: 0\n  };\n  return noteRectData;\n}, "getNoteRect");\nvar getTextObj = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(() => {\n  const testObject = {\n    x: 0,\n    y: 0,\n    width: 100,\n    height: 100,\n    "text-anchor": "start",\n    style: "#666",\n    textMargin: 0,\n    rx: 0,\n    ry: 0,\n    tspan: true\n  };\n  return testObject;\n}, "getTextObj");\n\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-TZMSLE5B.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/classDiagram-2ON5EDUG.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_B4BG7PRW_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B4BG7PRW.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-B4BG7PRW.mjs");\n/* harmony import */ var _chunk_FMBD7UC4_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-FMBD7UC4.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-FMBD7UC4.mjs");\n/* harmony import */ var _chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-55IACEB6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-55IACEB6.mjs");\n/* harmony import */ var _chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-QN33PNHL.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs");\n/* harmony import */ var _chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-N4CR4FBY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-N4CR4FBY.mjs");\n/* harmony import */ var _chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-QXUST7PY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QXUST7PY.mjs");\n/* harmony import */ var _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-HN2XXSSU.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HN2XXSSU.mjs");\n/* harmony import */ var _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-JZLCHNYA.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs");\n/* harmony import */ var _chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-CVBHYZKI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs");\n/* harmony import */ var _chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chunk-ATLVNIR6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// src/diagrams/class/classDiagram.ts\nvar diagram = {\n  parser: _chunk_B4BG7PRW_mjs__WEBPACK_IMPORTED_MODULE_0__.classDiagram_default,\n  get db() {\n    return new _chunk_B4BG7PRW_mjs__WEBPACK_IMPORTED_MODULE_0__.ClassDB();\n  },\n  renderer: _chunk_B4BG7PRW_mjs__WEBPACK_IMPORTED_MODULE_0__.classRenderer_v3_unified_default,\n  styles: _chunk_B4BG7PRW_mjs__WEBPACK_IMPORTED_MODULE_0__.styles_default,\n  init: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)((cnf) => {\n    if (!cnf.class) {\n      cnf.class = {};\n    }\n    cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n  }, "init")\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/classDiagram-2ON5EDUG.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/classDiagram-v2-WZHVMYZB.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_B4BG7PRW_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B4BG7PRW.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-B4BG7PRW.mjs");\n/* harmony import */ var _chunk_FMBD7UC4_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-FMBD7UC4.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-FMBD7UC4.mjs");\n/* harmony import */ var _chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-55IACEB6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-55IACEB6.mjs");\n/* harmony import */ var _chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-QN33PNHL.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs");\n/* harmony import */ var _chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-N4CR4FBY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-N4CR4FBY.mjs");\n/* harmony import */ var _chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-QXUST7PY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QXUST7PY.mjs");\n/* harmony import */ var _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-HN2XXSSU.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HN2XXSSU.mjs");\n/* harmony import */ var _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-JZLCHNYA.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs");\n/* harmony import */ var _chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-CVBHYZKI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs");\n/* harmony import */ var _chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chunk-ATLVNIR6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// src/diagrams/class/classDiagram-v2.ts\nvar diagram = {\n  parser: _chunk_B4BG7PRW_mjs__WEBPACK_IMPORTED_MODULE_0__.classDiagram_default,\n  get db() {\n    return new _chunk_B4BG7PRW_mjs__WEBPACK_IMPORTED_MODULE_0__.ClassDB();\n  },\n  renderer: _chunk_B4BG7PRW_mjs__WEBPACK_IMPORTED_MODULE_0__.classRenderer_v3_unified_default,\n  styles: _chunk_B4BG7PRW_mjs__WEBPACK_IMPORTED_MODULE_0__.styles_default,\n  init: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)((cnf) => {\n    if (!cnf.class) {\n      cnf.class = {};\n    }\n    cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n  }, "init")\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/classDiagram-v2-WZHVMYZB.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/cose-bilkent-S5V4N54A.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   render: () => (/* binding */ render2)\n/* harmony export */ });\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var cytoscape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cytoscape */ "./node_modules/cytoscape/dist/cytoscape.esm.mjs");\n/* harmony import */ var cytoscape_cose_bilkent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cytoscape-cose-bilkent */ "./node_modules/cytoscape-cose-bilkent/cytoscape-cose-bilkent.js");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n\n\n// src/rendering-util/layout-algorithms/cose-bilkent/cytoscape-setup.ts\n\n\n\ncytoscape__WEBPACK_IMPORTED_MODULE_1__["default"].use(cytoscape_cose_bilkent__WEBPACK_IMPORTED_MODULE_2__);\nfunction addNodes(nodes, cy) {\n  nodes.forEach((node) => {\n    const nodeData = {\n      id: node.id,\n      labelText: node.label,\n      height: node.height,\n      width: node.width,\n      padding: node.padding ?? 0\n    };\n    Object.keys(node).forEach((key) => {\n      if (!["id", "label", "height", "width", "padding", "x", "y"].includes(key)) {\n        nodeData[key] = node[key];\n      }\n    });\n    cy.add({\n      group: "nodes",\n      data: nodeData,\n      position: {\n        x: node.x ?? 0,\n        y: node.y ?? 0\n      }\n    });\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(addNodes, "addNodes");\nfunction addEdges(edges, cy) {\n  edges.forEach((edge) => {\n    const edgeData = {\n      id: edge.id,\n      source: edge.start,\n      target: edge.end\n    };\n    Object.keys(edge).forEach((key) => {\n      if (!["id", "start", "end"].includes(key)) {\n        edgeData[key] = edge[key];\n      }\n    });\n    cy.add({\n      group: "edges",\n      data: edgeData\n    });\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(addEdges, "addEdges");\nfunction createCytoscapeInstance(data) {\n  return new Promise((resolve) => {\n    const renderEl = (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)("body").append("div").attr("id", "cy").attr("style", "display:none");\n    const cy = (0,cytoscape__WEBPACK_IMPORTED_MODULE_1__["default"])({\n      container: document.getElementById("cy"),\n      // container to render in\n      style: [\n        {\n          selector: "edge",\n          style: {\n            "curve-style": "bezier"\n          }\n        }\n      ]\n    });\n    renderEl.remove();\n    addNodes(data.nodes, cy);\n    addEdges(data.edges, cy);\n    cy.nodes().forEach(function(n) {\n      n.layoutDimensions = () => {\n        const nodeData = n.data();\n        return { w: nodeData.width, h: nodeData.height };\n      };\n    });\n    const layoutConfig = {\n      name: "cose-bilkent",\n      // @ts-ignore Types for cose-bilkent are not correct?\n      quality: "proof",\n      styleEnabled: false,\n      animate: false\n    };\n    cy.layout(layoutConfig).run();\n    cy.ready((e) => {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.info("Cytoscape ready", e);\n      resolve(cy);\n    });\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(createCytoscapeInstance, "createCytoscapeInstance");\nfunction extractPositionedNodes(cy) {\n  return cy.nodes().map((node) => {\n    const data = node.data();\n    const position = node.position();\n    const positionedNode = {\n      id: data.id,\n      x: position.x,\n      y: position.y\n    };\n    Object.keys(data).forEach((key) => {\n      if (key !== "id") {\n        positionedNode[key] = data[key];\n      }\n    });\n    return positionedNode;\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(extractPositionedNodes, "extractPositionedNodes");\nfunction extractPositionedEdges(cy) {\n  return cy.edges().map((edge) => {\n    const data = edge.data();\n    const rscratch = edge._private.rscratch;\n    const positionedEdge = {\n      id: data.id,\n      source: data.source,\n      target: data.target,\n      startX: rscratch.startX,\n      startY: rscratch.startY,\n      midX: rscratch.midX,\n      midY: rscratch.midY,\n      endX: rscratch.endX,\n      endY: rscratch.endY\n    };\n    Object.keys(data).forEach((key) => {\n      if (!["id", "source", "target"].includes(key)) {\n        positionedEdge[key] = data[key];\n      }\n    });\n    return positionedEdge;\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(extractPositionedEdges, "extractPositionedEdges");\n\n// src/rendering-util/layout-algorithms/cose-bilkent/layout.ts\nasync function executeCoseBilkentLayout(data, _config) {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.debug("Starting cose-bilkent layout algorithm");\n  try {\n    validateLayoutData(data);\n    const cy = await createCytoscapeInstance(data);\n    const positionedNodes = extractPositionedNodes(cy);\n    const positionedEdges = extractPositionedEdges(cy);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.debug(`Layout completed: ${positionedNodes.length} nodes, ${positionedEdges.length} edges`);\n    return {\n      nodes: positionedNodes,\n      edges: positionedEdges\n    };\n  } catch (error) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.log.error("Error in cose-bilkent layout algorithm:", error);\n    throw error;\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(executeCoseBilkentLayout, "executeCoseBilkentLayout");\nfunction validateLayoutData(data) {\n  if (!data) {\n    throw new Error("Layout data is required");\n  }\n  if (!data.config) {\n    throw new Error("Configuration is required in layout data");\n  }\n  if (!data.rootNode) {\n    throw new Error("Root node is required");\n  }\n  if (!data.nodes || !Array.isArray(data.nodes)) {\n    throw new Error("No nodes found in layout data");\n  }\n  if (!Array.isArray(data.edges)) {\n    throw new Error("Edges array is required in layout data");\n  }\n  return true;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(validateLayoutData, "validateLayoutData");\n\n// src/rendering-util/layout-algorithms/cose-bilkent/render.ts\nvar render = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(async (data4Layout, svg, {\n  insertCluster,\n  insertEdge,\n  insertEdgeLabel,\n  insertMarkers,\n  insertNode,\n  log: log2,\n  positionEdgeLabel\n}, { algorithm: _algorithm }) => {\n  const nodeDb = {};\n  const clusterDb = {};\n  const element = svg.select("g");\n  insertMarkers(element, data4Layout.markers, data4Layout.type, data4Layout.diagramId);\n  const subGraphsEl = element.insert("g").attr("class", "subgraphs");\n  const edgePaths = element.insert("g").attr("class", "edgePaths");\n  const edgeLabels = element.insert("g").attr("class", "edgeLabels");\n  const nodes = element.insert("g").attr("class", "nodes");\n  log2.debug("Inserting nodes into DOM for dimension calculation");\n  await Promise.all(\n    data4Layout.nodes.map(async (node) => {\n      if (node.isGroup) {\n        const clusterNode = { ...node };\n        clusterDb[node.id] = clusterNode;\n        nodeDb[node.id] = clusterNode;\n        await insertCluster(subGraphsEl, node);\n      } else {\n        const nodeWithPosition = { ...node };\n        nodeDb[node.id] = nodeWithPosition;\n        const nodeEl = await insertNode(nodes, node, {\n          config: data4Layout.config,\n          dir: data4Layout.direction || "TB"\n        });\n        const boundingBox = nodeEl.node().getBBox();\n        nodeWithPosition.width = boundingBox.width;\n        nodeWithPosition.height = boundingBox.height;\n        nodeWithPosition.domId = nodeEl;\n        log2.debug(`Node ${node.id} dimensions: ${boundingBox.width}x${boundingBox.height}`);\n      }\n    })\n  );\n  log2.debug("Running cose-bilkent layout algorithm");\n  const updatedLayoutData = {\n    ...data4Layout,\n    nodes: data4Layout.nodes.map((node) => {\n      const nodeWithDimensions = nodeDb[node.id];\n      return {\n        ...node,\n        width: nodeWithDimensions.width,\n        height: nodeWithDimensions.height\n      };\n    })\n  };\n  const layoutResult = await executeCoseBilkentLayout(updatedLayoutData, data4Layout.config);\n  log2.debug("Positioning nodes based on layout results");\n  layoutResult.nodes.forEach((positionedNode) => {\n    const node = nodeDb[positionedNode.id];\n    if (node?.domId) {\n      node.domId.attr(\n        "transform",\n        `translate(${positionedNode.x}, ${positionedNode.y})`\n      );\n      node.x = positionedNode.x;\n      node.y = positionedNode.y;\n      log2.debug(`Positioned node ${node.id} at center (${positionedNode.x}, ${positionedNode.y})`);\n    }\n  });\n  layoutResult.edges.forEach((positionedEdge) => {\n    const edge = data4Layout.edges.find((e) => e.id === positionedEdge.id);\n    if (edge) {\n      edge.points = [\n        { x: positionedEdge.startX, y: positionedEdge.startY },\n        { x: positionedEdge.midX, y: positionedEdge.midY },\n        { x: positionedEdge.endX, y: positionedEdge.endY }\n      ];\n    }\n  });\n  log2.debug("Inserting and positioning edges");\n  await Promise.all(\n    data4Layout.edges.map(async (edge) => {\n      const _edgeLabel = await insertEdgeLabel(edgeLabels, edge);\n      const startNode = nodeDb[edge.start ?? ""];\n      const endNode = nodeDb[edge.end ?? ""];\n      if (startNode && endNode) {\n        const positionedEdge = layoutResult.edges.find((e) => e.id === edge.id);\n        if (positionedEdge) {\n          log2.debug("APA01 positionedEdge", positionedEdge);\n          const edgeWithPath = { ...edge };\n          const paths = insertEdge(\n            edgePaths,\n            edgeWithPath,\n            clusterDb,\n            data4Layout.type,\n            startNode,\n            endNode,\n            data4Layout.diagramId\n          );\n          positionEdgeLabel(edgeWithPath, paths);\n        } else {\n          const edgeWithPath = {\n            ...edge,\n            points: [\n              { x: startNode.x || 0, y: startNode.y || 0 },\n              { x: endNode.x || 0, y: endNode.y || 0 }\n            ]\n          };\n          const paths = insertEdge(\n            edgePaths,\n            edgeWithPath,\n            clusterDb,\n            data4Layout.type,\n            startNode,\n            endNode,\n            data4Layout.diagramId\n          );\n          positionEdgeLabel(edgeWithPath, paths);\n        }\n      }\n    })\n  );\n  log2.debug("Cose-bilkent rendering completed");\n}, "render");\n\n// src/rendering-util/layout-algorithms/cose-bilkent/index.ts\nvar render2 = render;\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/cose-bilkent-S5V4N54A.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/dagre-6UL2VRFP.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   render: () => (/* binding */ render)\n/* harmony export */ });\n/* harmony import */ var _chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-QXUST7PY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QXUST7PY.mjs");\n/* harmony import */ var _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-HN2XXSSU.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HN2XXSSU.mjs");\n/* harmony import */ var _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-JZLCHNYA.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs");\n/* harmony import */ var _chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-CVBHYZKI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs");\n/* harmony import */ var _chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-ATLVNIR6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var dagre_d3_es_src_dagre_index_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! dagre-d3-es/src/dagre/index.js */ "./node_modules/dagre-d3-es/src/dagre/index.js");\n/* harmony import */ var dagre_d3_es_src_graphlib_json_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! dagre-d3-es/src/graphlib/json.js */ "./node_modules/dagre-d3-es/src/graphlib/json.js");\n/* harmony import */ var dagre_d3_es_src_graphlib_index_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! dagre-d3-es/src/graphlib/index.js */ "./node_modules/dagre-d3-es/src/graphlib/index.js");\n\n\n\n\n\n\n\n\n\n\n// src/rendering-util/layout-algorithms/dagre/index.js\n\n\n\n\n// src/rendering-util/layout-algorithms/dagre/mermaid-graphlib.js\n\n\nvar clusterDb = /* @__PURE__ */ new Map();\nvar descendants = /* @__PURE__ */ new Map();\nvar parents = /* @__PURE__ */ new Map();\nvar clear4 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)(() => {\n  descendants.clear();\n  parents.clear();\n  clusterDb.clear();\n}, "clear");\nvar isDescendant = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)((id, ancestorId) => {\n  const ancestorDescendants = descendants.get(ancestorId) || [];\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.trace("In isDescendant", ancestorId, " ", id, " = ", ancestorDescendants.includes(id));\n  return ancestorDescendants.includes(id);\n}, "isDescendant");\nvar edgeInCluster = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)((edge, clusterId) => {\n  const clusterDescendants = descendants.get(clusterId) || [];\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("Descendants of ", clusterId, " is ", clusterDescendants);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("Edge is ", edge);\n  if (edge.v === clusterId || edge.w === clusterId) {\n    return false;\n  }\n  if (!clusterDescendants) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug("Tilt, ", clusterId, ",not in descendants");\n    return false;\n  }\n  return clusterDescendants.includes(edge.v) || isDescendant(edge.v, clusterId) || isDescendant(edge.w, clusterId) || clusterDescendants.includes(edge.w);\n}, "edgeInCluster");\nvar copy = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)((clusterId, graph, newGraph, rootId) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn(\n    "Copying children of ",\n    clusterId,\n    "root",\n    rootId,\n    "data",\n    graph.node(clusterId),\n    rootId\n  );\n  const nodes = graph.children(clusterId) || [];\n  if (clusterId !== rootId) {\n    nodes.push(clusterId);\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Copying (nodes) clusterId", clusterId, "nodes", nodes);\n  nodes.forEach((node) => {\n    if (graph.children(node).length > 0) {\n      copy(node, graph, newGraph, rootId);\n    } else {\n      const data = graph.node(node);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("cp ", node, " to ", rootId, " with parent ", clusterId);\n      newGraph.setNode(node, data);\n      if (rootId !== graph.parent(node)) {\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Setting parent", node, graph.parent(node));\n        newGraph.setParent(node, graph.parent(node));\n      }\n      if (clusterId !== rootId && node !== clusterId) {\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug("Setting parent", node, clusterId);\n        newGraph.setParent(node, clusterId);\n      } else {\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("In copy ", clusterId, "root", rootId, "data", graph.node(clusterId), rootId);\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug(\n          "Not Setting parent for node=",\n          node,\n          "cluster!==rootId",\n          clusterId !== rootId,\n          "node!==clusterId",\n          node !== clusterId\n        );\n      }\n      const edges = graph.edges(node);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug("Copying Edges", edges);\n      edges.forEach((edge) => {\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("Edge", edge);\n        const data2 = graph.edge(edge.v, edge.w, edge.name);\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("Edge data", data2, rootId);\n        try {\n          if (edgeInCluster(edge, rootId)) {\n            _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("Copying as ", edge.v, edge.w, data2, edge.name);\n            newGraph.setEdge(edge.v, edge.w, data2, edge.name);\n            _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("newGraph edges ", newGraph.edges(), newGraph.edge(newGraph.edges()[0]));\n          } else {\n            _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info(\n              "Skipping copy of edge ",\n              edge.v,\n              "--\x3e",\n              edge.w,\n              " rootId: ",\n              rootId,\n              " clusterId:",\n              clusterId\n            );\n          }\n        } catch (e) {\n          _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.error(e);\n        }\n      });\n    }\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug("Removing node", node);\n    graph.removeNode(node);\n  });\n}, "copy");\nvar extractDescendants = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)((id, graph) => {\n  const children = graph.children(id);\n  let res = [...children];\n  for (const child of children) {\n    parents.set(child, id);\n    res = [...res, ...extractDescendants(child, graph)];\n  }\n  return res;\n}, "extractDescendants");\nvar findCommonEdges = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)((graph, id1, id2) => {\n  const edges1 = graph.edges().filter((edge) => edge.v === id1 || edge.w === id1);\n  const edges2 = graph.edges().filter((edge) => edge.v === id2 || edge.w === id2);\n  const edges1Prim = edges1.map((edge) => {\n    return { v: edge.v === id1 ? id2 : edge.v, w: edge.w === id1 ? id1 : edge.w };\n  });\n  const edges2Prim = edges2.map((edge) => {\n    return { v: edge.v, w: edge.w };\n  });\n  const result = edges1Prim.filter((edgeIn1) => {\n    return edges2Prim.some((edge) => edgeIn1.v === edge.v && edgeIn1.w === edge.w);\n  });\n  return result;\n}, "findCommonEdges");\nvar findNonClusterChild = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)((id, graph, clusterId) => {\n  const children = graph.children(id);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.trace("Searching children of id ", id, children);\n  if (children.length < 1) {\n    return id;\n  }\n  let reserve;\n  for (const child of children) {\n    const _id = findNonClusterChild(child, graph, clusterId);\n    const commonEdges = findCommonEdges(graph, clusterId, _id);\n    if (_id) {\n      if (commonEdges.length > 0) {\n        reserve = _id;\n      } else {\n        return _id;\n      }\n    }\n  }\n  return reserve;\n}, "findNonClusterChild");\nvar getAnchorId = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)((id) => {\n  if (!clusterDb.has(id)) {\n    return id;\n  }\n  if (!clusterDb.get(id).externalConnections) {\n    return id;\n  }\n  if (clusterDb.has(id)) {\n    return clusterDb.get(id).id;\n  }\n  return id;\n}, "getAnchorId");\nvar adjustClustersAndEdges = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)((graph, depth) => {\n  if (!graph || depth > 10) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug("Opting out, no graph ");\n    return;\n  } else {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug("Opting in, graph ");\n  }\n  graph.nodes().forEach(function(id) {\n    const children = graph.children(id);\n    if (children.length > 0) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn(\n        "Cluster identified",\n        id,\n        " Replacement id in edges: ",\n        findNonClusterChild(id, graph, id)\n      );\n      descendants.set(id, extractDescendants(id, graph));\n      clusterDb.set(id, { id: findNonClusterChild(id, graph, id), clusterData: graph.node(id) });\n    }\n  });\n  graph.nodes().forEach(function(id) {\n    const children = graph.children(id);\n    const edges = graph.edges();\n    if (children.length > 0) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug("Cluster identified", id, descendants);\n      edges.forEach((edge) => {\n        const d1 = isDescendant(edge.v, id);\n        const d2 = isDescendant(edge.w, id);\n        if (d1 ^ d2) {\n          _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Edge: ", edge, " leaves cluster ", id);\n          _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Descendants of XXX ", id, ": ", descendants.get(id));\n          clusterDb.get(id).externalConnections = true;\n        }\n      });\n    } else {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug("Not a cluster ", id, descendants);\n    }\n  });\n  for (let id of clusterDb.keys()) {\n    const nonClusterChild = clusterDb.get(id).id;\n    const parent = graph.parent(nonClusterChild);\n    if (parent !== id && clusterDb.has(parent) && !clusterDb.get(parent).externalConnections) {\n      clusterDb.get(id).id = parent;\n    }\n  }\n  graph.edges().forEach(function(e) {\n    const edge = graph.edge(e);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(e));\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(graph.edge(e)));\n    let v = e.v;\n    let w = e.w;\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn(\n      "Fix XXX",\n      clusterDb,\n      "ids:",\n      e.v,\n      e.w,\n      "Translating: ",\n      clusterDb.get(e.v),\n      " --- ",\n      clusterDb.get(e.w)\n    );\n    if (clusterDb.get(e.v) || clusterDb.get(e.w)) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Fixing and trying - removing XXX", e.v, e.w, e.name);\n      v = getAnchorId(e.v);\n      w = getAnchorId(e.w);\n      graph.removeEdge(e.v, e.w, e.name);\n      if (v !== e.v) {\n        const parent = graph.parent(v);\n        clusterDb.get(parent).externalConnections = true;\n        edge.fromCluster = e.v;\n      }\n      if (w !== e.w) {\n        const parent = graph.parent(w);\n        clusterDb.get(parent).externalConnections = true;\n        edge.toCluster = e.w;\n      }\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Fix Replacing with XXX", v, w, e.name);\n      graph.setEdge(v, w, edge, e.name);\n    }\n  });\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Adjusted Graph", dagre_d3_es_src_graphlib_json_js__WEBPACK_IMPORTED_MODULE_10__.write(graph));\n  extractor(graph, 0);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.trace(clusterDb);\n}, "adjustClustersAndEdges");\nvar extractor = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)((graph, depth) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("extractor - ", depth, dagre_d3_es_src_graphlib_json_js__WEBPACK_IMPORTED_MODULE_10__.write(graph), graph.children("D"));\n  if (depth > 10) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.error("Bailing out");\n    return;\n  }\n  let nodes = graph.nodes();\n  let hasChildren = false;\n  for (const node of nodes) {\n    const children = graph.children(node);\n    hasChildren = hasChildren || children.length > 0;\n  }\n  if (!hasChildren) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug("Done, no node has children", graph.nodes());\n    return;\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug("Nodes = ", nodes, depth);\n  for (const node of nodes) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug(\n      "Extracting node",\n      node,\n      clusterDb,\n      clusterDb.has(node) && !clusterDb.get(node).externalConnections,\n      !graph.parent(node),\n      graph.node(node),\n      graph.children("D"),\n      " Depth ",\n      depth\n    );\n    if (!clusterDb.has(node)) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug("Not a cluster", node, depth);\n    } else if (!clusterDb.get(node).externalConnections && graph.children(node) && graph.children(node).length > 0) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn(\n        "Cluster without external connections, without a parent and with children",\n        node,\n        depth\n      );\n      const graphSettings = graph.graph();\n      let dir = graphSettings.rankdir === "TB" ? "LR" : "TB";\n      if (clusterDb.get(node)?.clusterData?.dir) {\n        dir = clusterDb.get(node).clusterData.dir;\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Fixing dir", clusterDb.get(node).clusterData.dir, dir);\n      }\n      const clusterGraph = new dagre_d3_es_src_graphlib_index_js__WEBPACK_IMPORTED_MODULE_11__.Graph({\n        multigraph: true,\n        compound: true\n      }).setGraph({\n        rankdir: dir,\n        nodesep: 50,\n        ranksep: 50,\n        marginx: 8,\n        marginy: 8\n      }).setDefaultEdgeLabel(function() {\n        return {};\n      });\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Old graph before copy", dagre_d3_es_src_graphlib_json_js__WEBPACK_IMPORTED_MODULE_10__.write(graph));\n      copy(node, graph, clusterGraph, node);\n      graph.setNode(node, {\n        clusterNode: true,\n        id: node,\n        clusterData: clusterDb.get(node).clusterData,\n        label: clusterDb.get(node).label,\n        graph: clusterGraph\n      });\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("New graph after copy node: (", node, ")", dagre_d3_es_src_graphlib_json_js__WEBPACK_IMPORTED_MODULE_10__.write(clusterGraph));\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug("Old graph after copy", dagre_d3_es_src_graphlib_json_js__WEBPACK_IMPORTED_MODULE_10__.write(graph));\n    } else {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn(\n        "Cluster ** ",\n        node,\n        " **not meeting the criteria !externalConnections:",\n        !clusterDb.get(node).externalConnections,\n        " no parent: ",\n        !graph.parent(node),\n        " children ",\n        graph.children(node) && graph.children(node).length > 0,\n        graph.children("D"),\n        depth\n      );\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug(clusterDb);\n    }\n  }\n  nodes = graph.nodes();\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("New list of nodes", nodes);\n  for (const node of nodes) {\n    const data = graph.node(node);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn(" Now next level", node, data);\n    if (data?.clusterNode) {\n      extractor(data.graph, depth + 1);\n    }\n  }\n}, "extractor");\nvar sorter = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)((graph, nodes) => {\n  if (nodes.length === 0) {\n    return [];\n  }\n  let result = Object.assign([], nodes);\n  nodes.forEach((node) => {\n    const children = graph.children(node);\n    const sorted = sorter(graph, children);\n    result = [...result, ...sorted];\n  });\n  return result;\n}, "sorter");\nvar sortNodesByHierarchy = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)((graph) => sorter(graph, graph.children()), "sortNodesByHierarchy");\n\n// src/rendering-util/layout-algorithms/dagre/index.js\nvar recursiveRender = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)(async (_elem, graph, diagramType, id, parentCluster, siteConfig) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Graph in recursive render:XAX", dagre_d3_es_src_graphlib_json_js__WEBPACK_IMPORTED_MODULE_10__.write(graph), parentCluster);\n  const dir = graph.graph().rankdir;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.trace("Dir in recursive render - dir:", dir);\n  const elem = _elem.insert("g").attr("class", "root");\n  if (!graph.nodes()) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("No nodes found for", graph);\n  } else {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("Recursive render XXX", graph.nodes());\n  }\n  if (graph.edges().length > 0) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("Recursive edges", graph.edge(graph.edges()[0]));\n  }\n  const clusters = elem.insert("g").attr("class", "clusters");\n  const edgePaths = elem.insert("g").attr("class", "edgePaths");\n  const edgeLabels = elem.insert("g").attr("class", "edgeLabels");\n  const nodes = elem.insert("g").attr("class", "nodes");\n  await Promise.all(\n    graph.nodes().map(async function(v) {\n      const node = graph.node(v);\n      if (parentCluster !== void 0) {\n        const data = JSON.parse(JSON.stringify(parentCluster.clusterData));\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.trace(\n          "Setting data for parent cluster XXX\\n Node.id = ",\n          v,\n          "\\n data=",\n          data.height,\n          "\\nParent cluster",\n          parentCluster.height\n        );\n        graph.setNode(parentCluster.id, data);\n        if (!graph.parent(v)) {\n          _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.trace("Setting parent", v, parentCluster.id);\n          graph.setParent(v, parentCluster.id, data);\n        }\n      }\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("(Insert) Node XXX" + v + ": " + JSON.stringify(graph.node(v)));\n      if (node?.clusterNode) {\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("Cluster identified XBX", v, node.width, graph.node(v));\n        const { ranksep, nodesep } = graph.graph();\n        node.graph.setGraph({\n          ...node.graph.graph(),\n          ranksep: ranksep + 25,\n          nodesep\n        });\n        const o = await recursiveRender(\n          nodes,\n          node.graph,\n          diagramType,\n          id,\n          graph.node(v),\n          siteConfig\n        );\n        const newEl = o.elem;\n        (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_2__.updateNodeBounds)(node, newEl);\n        node.diff = o.diff || 0;\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info(\n          "New compound node after recursive render XAX",\n          v,\n          "width",\n          // node,\n          node.width,\n          "height",\n          node.height\n          // node.x,\n          // node.y\n        );\n        (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_2__.setNodeElem)(newEl, node);\n      } else {\n        if (graph.children(v).length > 0) {\n          _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.trace(\n            "Cluster - the non recursive path XBX",\n            v,\n            node.id,\n            node,\n            node.width,\n            "Graph:",\n            graph\n          );\n          _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.trace(findNonClusterChild(node.id, graph));\n          clusterDb.set(node.id, { id: findNonClusterChild(node.id, graph), node });\n        } else {\n          _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.trace("Node - the non recursive path XAX", v, nodes, graph.node(v), dir);\n          await (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_2__.insertNode)(nodes, graph.node(v), { config: siteConfig, dir });\n        }\n      }\n    })\n  );\n  const processEdges = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)(async () => {\n    const edgePromises = graph.edges().map(async function(e) {\n      const edge = graph.edge(e.v, e.w, e.name);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(e));\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("Edge " + e.v + " -> " + e.w + ": ", e, " ", JSON.stringify(graph.edge(e)));\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info(\n        "Fix",\n        clusterDb,\n        "ids:",\n        e.v,\n        e.w,\n        "Translating: ",\n        clusterDb.get(e.v),\n        clusterDb.get(e.w)\n      );\n      await (0,_chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_0__.insertEdgeLabel)(edgeLabels, edge);\n    });\n    await Promise.all(edgePromises);\n  }, "processEdges");\n  await processEdges();\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("Graph before layout:", JSON.stringify(dagre_d3_es_src_graphlib_json_js__WEBPACK_IMPORTED_MODULE_10__.write(graph)));\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("############################################# XXX");\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("###                Layout                 ### XXX");\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("############################################# XXX");\n  (0,dagre_d3_es_src_dagre_index_js__WEBPACK_IMPORTED_MODULE_9__.layout)(graph);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("Graph after layout:", JSON.stringify(dagre_d3_es_src_graphlib_json_js__WEBPACK_IMPORTED_MODULE_10__.write(graph)));\n  let diff = 0;\n  let { subGraphTitleTotalMargin } = (0,_chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_3__.getSubGraphTitleMargins)(siteConfig);\n  await Promise.all(\n    sortNodesByHierarchy(graph).map(async function(v) {\n      const node = graph.node(v);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info(\n        "Position XBX => " + v + ": (" + node.x,\n        "," + node.y,\n        ") width: ",\n        node.width,\n        " height: ",\n        node.height\n      );\n      if (node?.clusterNode) {\n        node.y += subGraphTitleTotalMargin;\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info(\n          "A tainted cluster node XBX1",\n          v,\n          node.id,\n          node.width,\n          node.height,\n          node.x,\n          node.y,\n          graph.parent(v)\n        );\n        clusterDb.get(node.id).node = node;\n        (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_2__.positionNode)(node);\n      } else {\n        if (graph.children(v).length > 0) {\n          _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info(\n            "A pure cluster node XBX1",\n            v,\n            node.id,\n            node.x,\n            node.y,\n            node.width,\n            node.height,\n            graph.parent(v)\n          );\n          node.height += subGraphTitleTotalMargin;\n          graph.node(node.parentId);\n          const halfPadding = node?.padding / 2 || 0;\n          const labelHeight = node?.labelBBox?.height || 0;\n          const offsetY = labelHeight - halfPadding || 0;\n          _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug("OffsetY", offsetY, "labelHeight", labelHeight, "halfPadding", halfPadding);\n          await (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_2__.insertCluster)(clusters, node);\n          clusterDb.get(node.id).node = node;\n        } else {\n          const parent = graph.node(node.parentId);\n          node.y += subGraphTitleTotalMargin / 2;\n          _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info(\n            "A regular node XBX1 - using the padding",\n            node.id,\n            "parent",\n            node.parentId,\n            node.width,\n            node.height,\n            node.x,\n            node.y,\n            "offsetY",\n            node.offsetY,\n            "parent",\n            parent,\n            parent?.offsetY,\n            node\n          );\n          (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_2__.positionNode)(node);\n        }\n      }\n    })\n  );\n  graph.edges().forEach(function(e) {\n    const edge = graph.edge(e);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(edge), edge);\n    edge.points.forEach((point) => point.y += subGraphTitleTotalMargin / 2);\n    const startNode = graph.node(e.v);\n    var endNode = graph.node(e.w);\n    const paths = (0,_chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_0__.insertEdge)(edgePaths, edge, clusterDb, diagramType, startNode, endNode, id);\n    (0,_chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_0__.positionEdgeLabel)(edge, paths);\n  });\n  graph.nodes().forEach(function(v) {\n    const n = graph.node(v);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.info(v, n.type, n.diff);\n    if (n.isGroup) {\n      diff = n.diff;\n    }\n  });\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Returning from recursive render XAX", elem, diff);\n  return { elem, diff };\n}, "recursiveRender");\nvar render = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)(async (data4Layout, svg) => {\n  const graph = new dagre_d3_es_src_graphlib_index_js__WEBPACK_IMPORTED_MODULE_11__.Graph({\n    multigraph: true,\n    compound: true\n  }).setGraph({\n    rankdir: data4Layout.direction,\n    nodesep: data4Layout.config?.nodeSpacing || data4Layout.config?.flowchart?.nodeSpacing || data4Layout.nodeSpacing,\n    ranksep: data4Layout.config?.rankSpacing || data4Layout.config?.flowchart?.rankSpacing || data4Layout.rankSpacing,\n    marginx: 8,\n    marginy: 8\n  }).setDefaultEdgeLabel(function() {\n    return {};\n  });\n  const element = svg.select("g");\n  (0,_chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_0__.markers_default)(element, data4Layout.markers, data4Layout.type, data4Layout.diagramId);\n  (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_2__.clear2)();\n  (0,_chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_0__.clear)();\n  (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_2__.clear)();\n  clear4();\n  data4Layout.nodes.forEach((node) => {\n    graph.setNode(node.id, { ...node });\n    if (node.parentId) {\n      graph.setParent(node.id, node.parentId);\n    }\n  });\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.debug("Edges:", data4Layout.edges);\n  data4Layout.edges.forEach((edge) => {\n    if (edge.start === edge.end) {\n      const nodeId = edge.start;\n      const specialId1 = nodeId + "---" + nodeId + "---1";\n      const specialId2 = nodeId + "---" + nodeId + "---2";\n      const node = graph.node(nodeId);\n      graph.setNode(specialId1, {\n        domId: specialId1,\n        id: specialId1,\n        parentId: node.parentId,\n        labelStyle: "",\n        label: "",\n        padding: 0,\n        shape: "labelRect",\n        // shape: \'rect\',\n        style: "",\n        width: 10,\n        height: 10\n      });\n      graph.setParent(specialId1, node.parentId);\n      graph.setNode(specialId2, {\n        domId: specialId2,\n        id: specialId2,\n        parentId: node.parentId,\n        labelStyle: "",\n        padding: 0,\n        // shape: \'rect\',\n        shape: "labelRect",\n        label: "",\n        style: "",\n        width: 10,\n        height: 10\n      });\n      graph.setParent(specialId2, node.parentId);\n      const edge1 = structuredClone(edge);\n      const edgeMid = structuredClone(edge);\n      const edge2 = structuredClone(edge);\n      edge1.label = "";\n      edge1.arrowTypeEnd = "none";\n      edge1.id = nodeId + "-cyclic-special-1";\n      edgeMid.arrowTypeStart = "none";\n      edgeMid.arrowTypeEnd = "none";\n      edgeMid.id = nodeId + "-cyclic-special-mid";\n      edge2.label = "";\n      if (node.isGroup) {\n        edge1.fromCluster = nodeId;\n        edge2.toCluster = nodeId;\n      }\n      edge2.id = nodeId + "-cyclic-special-2";\n      edge2.arrowTypeStart = "none";\n      graph.setEdge(nodeId, specialId1, edge1, nodeId + "-cyclic-special-0");\n      graph.setEdge(specialId1, specialId2, edgeMid, nodeId + "-cyclic-special-1");\n      graph.setEdge(specialId2, nodeId, edge2, nodeId + "-cyc<lic-special-2");\n    } else {\n      graph.setEdge(edge.start, edge.end, { ...edge }, edge.id);\n    }\n  });\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Graph at first:", JSON.stringify(dagre_d3_es_src_graphlib_json_js__WEBPACK_IMPORTED_MODULE_10__.write(graph)));\n  adjustClustersAndEdges(graph);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_8__.log.warn("Graph after XAX:", JSON.stringify(dagre_d3_es_src_graphlib_json_js__WEBPACK_IMPORTED_MODULE_10__.write(graph)));\n  const siteConfig = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_7__.getConfig2)();\n  await recursiveRender(\n    element,\n    graph,\n    data4Layout.type,\n    data4Layout.diagramId,\n    void 0,\n    siteConfig\n  );\n}, "render");\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/dagre-6UL2VRFP.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/diagram-PSM6KHXK.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-EXTU4WIE.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-EXTU4WIE.mjs");\n/* harmony import */ var _chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-QN33PNHL.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs");\n/* harmony import */ var _chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-ATLVNIR6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs");\n/* harmony import */ var _chunk_4BX2VUAB_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-4BX2VUAB.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-4BX2VUAB.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var _mermaid_js_parser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mermaid-js/parser */ "./node_modules/@mermaid-js/parser/dist/mermaid-parser.core.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n\n\n\n\n\n\n\n\n// src/diagrams/treemap/db.ts\nvar TreeMapDB = class {\n  constructor() {\n    this.nodes = [];\n    this.levels = /* @__PURE__ */ new Map();\n    this.outerNodes = [];\n    this.classes = /* @__PURE__ */ new Map();\n    this.setAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.setAccTitle;\n    this.getAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getAccTitle;\n    this.setDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.setDiagramTitle;\n    this.getDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getDiagramTitle;\n    this.getAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getAccDescription;\n    this.setAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.setAccDescription;\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(this, "TreeMapDB");\n  }\n  getNodes() {\n    return this.nodes;\n  }\n  getConfig() {\n    const defaultConfig = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.defaultConfig_default;\n    const userConfig = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig)();\n    return (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.cleanAndMerge)({\n      ...defaultConfig.treemap,\n      ...userConfig.treemap ?? {}\n    });\n  }\n  addNode(node, level) {\n    this.nodes.push(node);\n    this.levels.set(node, level);\n    if (level === 0) {\n      this.outerNodes.push(node);\n      this.root ??= node;\n    }\n  }\n  getRoot() {\n    return { name: "", children: this.outerNodes };\n  }\n  addClass(id, _style) {\n    const styleClass = this.classes.get(id) ?? { id, styles: [], textStyles: [] };\n    const styles = _style.replace(/\\\\,/g, "\\xA7\\xA7\\xA7").replace(/,/g, ";").replace(//g, ",").split(";");\n    if (styles) {\n      styles.forEach((s) => {\n        if ((0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__.isLabelStyle)(s)) {\n          if (styleClass?.textStyles) {\n            styleClass.textStyles.push(s);\n          } else {\n            styleClass.textStyles = [s];\n          }\n        }\n        if (styleClass?.styles) {\n          styleClass.styles.push(s);\n        } else {\n          styleClass.styles = [s];\n        }\n      });\n    }\n    this.classes.set(id, styleClass);\n  }\n  getClasses() {\n    return this.classes;\n  }\n  getStylesForClass(classSelector) {\n    return this.classes.get(classSelector)?.styles ?? [];\n  }\n  clear() {\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.clear)();\n    this.nodes = [];\n    this.levels = /* @__PURE__ */ new Map();\n    this.outerNodes = [];\n    this.classes = /* @__PURE__ */ new Map();\n    this.root = void 0;\n  }\n};\n\n// src/diagrams/treemap/parser.ts\n\n\n// src/diagrams/treemap/utils.ts\nfunction buildHierarchy(items) {\n  if (!items.length) {\n    return [];\n  }\n  const root = [];\n  const stack = [];\n  items.forEach((item) => {\n    const node = {\n      name: item.name,\n      children: item.type === "Leaf" ? void 0 : []\n    };\n    node.classSelector = item?.classSelector;\n    if (item?.cssCompiledStyles) {\n      node.cssCompiledStyles = [item.cssCompiledStyles];\n    }\n    if (item.type === "Leaf" && item.value !== void 0) {\n      node.value = item.value;\n    }\n    while (stack.length > 0 && stack[stack.length - 1].level >= item.level) {\n      stack.pop();\n    }\n    if (stack.length === 0) {\n      root.push(node);\n    } else {\n      const parent = stack[stack.length - 1].node;\n      if (parent.children) {\n        parent.children.push(node);\n      } else {\n        parent.children = [node];\n      }\n    }\n    if (item.type !== "Leaf") {\n      stack.push({ node, level: item.level });\n    }\n  });\n  return root;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(buildHierarchy, "buildHierarchy");\n\n// src/diagrams/treemap/parser.ts\nvar populate = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((ast, db) => {\n  (0,_chunk_4BX2VUAB_mjs__WEBPACK_IMPORTED_MODULE_3__.populateCommonDb)(ast, db);\n  const items = [];\n  for (const row of ast.TreemapRows ?? []) {\n    if (row.$type === "ClassDefStatement") {\n      db.addClass(row.className ?? "", row.styleText ?? "");\n    }\n  }\n  for (const row of ast.TreemapRows ?? []) {\n    const item = row.item;\n    if (!item) {\n      continue;\n    }\n    const level = row.indent ? parseInt(row.indent) : 0;\n    const name = getItemName(item);\n    const styles = item.classSelector ? db.getStylesForClass(item.classSelector) : [];\n    const cssCompiledStyles = styles.length > 0 ? styles.join(";") : void 0;\n    const itemData = {\n      level,\n      name,\n      type: item.$type,\n      value: item.value,\n      classSelector: item.classSelector,\n      cssCompiledStyles\n    };\n    items.push(itemData);\n  }\n  const hierarchyNodes = buildHierarchy(items);\n  const addNodesRecursively = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((nodes, level) => {\n    for (const node of nodes) {\n      db.addNode(node, level);\n      if (node.children && node.children.length > 0) {\n        addNodesRecursively(node.children, level + 1);\n      }\n    }\n  }, "addNodesRecursively");\n  addNodesRecursively(hierarchyNodes, 0);\n}, "populate");\nvar getItemName = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((item) => {\n  return item.name ? String(item.name) : "";\n}, "getItemName");\nvar parser = {\n  // @ts-expect-error - TreeMapDB is not assignable to DiagramDB\n  parser: { yy: void 0 },\n  parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(async (text) => {\n    try {\n      const parseFunc = _mermaid_js_parser__WEBPACK_IMPORTED_MODULE_7__.parse;\n      const ast = await parseFunc("treemap", text);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.debug("Treemap AST:", ast);\n      const db = parser.parser?.yy;\n      if (!(db instanceof TreeMapDB)) {\n        throw new Error(\n          "parser.parser?.yy was not a TreemapDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues."\n        );\n      }\n      populate(ast, db);\n    } catch (error) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.error("Error parsing treemap:", error);\n      throw error;\n    }\n  }, "parse")\n};\n\n// src/diagrams/treemap/renderer.ts\n\nvar DEFAULT_INNER_PADDING = 10;\nvar SECTION_INNER_PADDING = 10;\nvar SECTION_HEADER_HEIGHT = 25;\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((_text, id, _version, diagram2) => {\n  const treemapDb = diagram2.db;\n  const config = treemapDb.getConfig();\n  const treemapInnerPadding = config.padding ?? DEFAULT_INNER_PADDING;\n  const title = treemapDb.getDiagramTitle();\n  const root = treemapDb.getRoot();\n  const { themeVariables } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.getConfig)();\n  if (!root) {\n    return;\n  }\n  const titleHeight = title ? 30 : 0;\n  const svg = (0,_chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__.selectSvgElement)(id);\n  const width = config.nodeWidth ? config.nodeWidth * SECTION_INNER_PADDING : 960;\n  const height = config.nodeHeight ? config.nodeHeight * SECTION_INNER_PADDING : 500;\n  const svgWidth = width;\n  const svgHeight = height + titleHeight;\n  svg.attr("viewBox", `0 0 ${svgWidth} ${svgHeight}`);\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_5__.configureSvgSize)(svg, svgHeight, svgWidth, config.useMaxWidth);\n  let valueFormat;\n  try {\n    const formatStr = config.valueFormat || ",";\n    if (formatStr === "$0,0") {\n      valueFormat = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((value) => "$" + (0,d3__WEBPACK_IMPORTED_MODULE_8__.format)(",")(value), "valueFormat");\n    } else if (formatStr.startsWith("$") && formatStr.includes(",")) {\n      const precision = /\\.\\d+/.exec(formatStr);\n      const precisionStr = precision ? precision[0] : "";\n      valueFormat = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((value) => "$" + (0,d3__WEBPACK_IMPORTED_MODULE_8__.format)("," + precisionStr)(value), "valueFormat");\n    } else if (formatStr.startsWith("$")) {\n      const restOfFormat = formatStr.substring(1);\n      valueFormat = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)((value) => "$" + (0,d3__WEBPACK_IMPORTED_MODULE_8__.format)(restOfFormat || "")(value), "valueFormat");\n    } else {\n      valueFormat = (0,d3__WEBPACK_IMPORTED_MODULE_8__.format)(formatStr);\n    }\n  } catch (error) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.log.error("Error creating format function:", error);\n    valueFormat = (0,d3__WEBPACK_IMPORTED_MODULE_8__.format)(",");\n  }\n  const colorScale = (0,d3__WEBPACK_IMPORTED_MODULE_8__.scaleOrdinal)().range([\n    "transparent",\n    themeVariables.cScale0,\n    themeVariables.cScale1,\n    themeVariables.cScale2,\n    themeVariables.cScale3,\n    themeVariables.cScale4,\n    themeVariables.cScale5,\n    themeVariables.cScale6,\n    themeVariables.cScale7,\n    themeVariables.cScale8,\n    themeVariables.cScale9,\n    themeVariables.cScale10,\n    themeVariables.cScale11\n  ]);\n  const colorScalePeer = (0,d3__WEBPACK_IMPORTED_MODULE_8__.scaleOrdinal)().range([\n    "transparent",\n    themeVariables.cScalePeer0,\n    themeVariables.cScalePeer1,\n    themeVariables.cScalePeer2,\n    themeVariables.cScalePeer3,\n    themeVariables.cScalePeer4,\n    themeVariables.cScalePeer5,\n    themeVariables.cScalePeer6,\n    themeVariables.cScalePeer7,\n    themeVariables.cScalePeer8,\n    themeVariables.cScalePeer9,\n    themeVariables.cScalePeer10,\n    themeVariables.cScalePeer11\n  ]);\n  const colorScaleLabel = (0,d3__WEBPACK_IMPORTED_MODULE_8__.scaleOrdinal)().range([\n    themeVariables.cScaleLabel0,\n    themeVariables.cScaleLabel1,\n    themeVariables.cScaleLabel2,\n    themeVariables.cScaleLabel3,\n    themeVariables.cScaleLabel4,\n    themeVariables.cScaleLabel5,\n    themeVariables.cScaleLabel6,\n    themeVariables.cScaleLabel7,\n    themeVariables.cScaleLabel8,\n    themeVariables.cScaleLabel9,\n    themeVariables.cScaleLabel10,\n    themeVariables.cScaleLabel11\n  ]);\n  if (title) {\n    svg.append("text").attr("x", svgWidth / 2).attr("y", titleHeight / 2).attr("class", "treemapTitle").attr("text-anchor", "middle").attr("dominant-baseline", "middle").text(title);\n  }\n  const g = svg.append("g").attr("transform", `translate(0, ${titleHeight})`).attr("class", "treemapContainer");\n  const hierarchyRoot = (0,d3__WEBPACK_IMPORTED_MODULE_8__.hierarchy)(root).sum((d) => d.value ?? 0).sort((a, b) => (b.value ?? 0) - (a.value ?? 0));\n  const treemapLayout = (0,d3__WEBPACK_IMPORTED_MODULE_8__.treemap)().size([width, height]).paddingTop(\n    (d) => d.children && d.children.length > 0 ? SECTION_HEADER_HEIGHT + SECTION_INNER_PADDING : 0\n  ).paddingInner(treemapInnerPadding).paddingLeft((d) => d.children && d.children.length > 0 ? SECTION_INNER_PADDING : 0).paddingRight((d) => d.children && d.children.length > 0 ? SECTION_INNER_PADDING : 0).paddingBottom((d) => d.children && d.children.length > 0 ? SECTION_INNER_PADDING : 0).round(true);\n  const treemapData = treemapLayout(hierarchyRoot);\n  const branchNodes = treemapData.descendants().filter((d) => d.children && d.children.length > 0);\n  const sections = g.selectAll(".treemapSection").data(branchNodes).enter().append("g").attr("class", "treemapSection").attr("transform", (d) => `translate(${d.x0},${d.y0})`);\n  sections.append("rect").attr("width", (d) => d.x1 - d.x0).attr("height", SECTION_HEADER_HEIGHT).attr("class", "treemapSectionHeader").attr("fill", "none").attr("fill-opacity", 0.6).attr("stroke-width", 0.6).attr("style", (d) => {\n    if (d.depth === 0) {\n      return "display: none;";\n    }\n    return "";\n  });\n  sections.append("clipPath").attr("id", (_d, i) => `clip-section-${id}-${i}`).append("rect").attr("width", (d) => Math.max(0, d.x1 - d.x0 - 12)).attr("height", SECTION_HEADER_HEIGHT);\n  sections.append("rect").attr("width", (d) => d.x1 - d.x0).attr("height", (d) => d.y1 - d.y0).attr("class", (_d, i) => {\n    return `treemapSection section${i}`;\n  }).attr("fill", (d) => colorScale(d.data.name)).attr("fill-opacity", 0.6).attr("stroke", (d) => colorScalePeer(d.data.name)).attr("stroke-width", 2).attr("stroke-opacity", 0.4).attr("style", (d) => {\n    if (d.depth === 0) {\n      return "display: none;";\n    }\n    const styles = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__.styles2String)({ cssCompiledStyles: d.data.cssCompiledStyles });\n    return styles.nodeStyles + ";" + styles.borderStyles.join(";");\n  });\n  sections.append("text").attr("class", "treemapSectionLabel").attr("x", 6).attr("y", SECTION_HEADER_HEIGHT / 2).attr("dominant-baseline", "middle").text((d) => d.depth === 0 ? "" : d.data.name).attr("font-weight", "bold").attr("style", (d) => {\n    if (d.depth === 0) {\n      return "display: none;";\n    }\n    const labelStyles = "dominant-baseline: middle; font-size: 12px; fill:" + colorScaleLabel(d.data.name) + "; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;";\n    const styles = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__.styles2String)({ cssCompiledStyles: d.data.cssCompiledStyles });\n    return labelStyles + styles.labelStyles.replace("color:", "fill:");\n  }).each(function(d) {\n    if (d.depth === 0) {\n      return;\n    }\n    const self = (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)(this);\n    const originalText = d.data.name;\n    self.text(originalText);\n    const totalHeaderWidth = d.x1 - d.x0;\n    const labelXPosition = 6;\n    let spaceForTextContent;\n    if (config.showValues !== false && d.value) {\n      const valueEndsAtXRelative = totalHeaderWidth - 10;\n      const estimatedValueTextActualWidth = 30;\n      const gapBetweenLabelAndValue = 10;\n      const labelMustEndBeforeX = valueEndsAtXRelative - estimatedValueTextActualWidth - gapBetweenLabelAndValue;\n      spaceForTextContent = labelMustEndBeforeX - labelXPosition;\n    } else {\n      const labelOwnRightPadding = 6;\n      spaceForTextContent = totalHeaderWidth - labelXPosition - labelOwnRightPadding;\n    }\n    const minimumWidthToDisplay = 15;\n    const actualAvailableWidth = Math.max(minimumWidthToDisplay, spaceForTextContent);\n    const textNode = self.node();\n    const currentTextContentLength = textNode.getComputedTextLength();\n    if (currentTextContentLength > actualAvailableWidth) {\n      const ellipsis = "...";\n      let currentTruncatedText = originalText;\n      while (currentTruncatedText.length > 0) {\n        currentTruncatedText = originalText.substring(0, currentTruncatedText.length - 1);\n        if (currentTruncatedText.length === 0) {\n          self.text(ellipsis);\n          if (textNode.getComputedTextLength() > actualAvailableWidth) {\n            self.text("");\n          }\n          break;\n        }\n        self.text(currentTruncatedText + ellipsis);\n        if (textNode.getComputedTextLength() <= actualAvailableWidth) {\n          break;\n        }\n      }\n    }\n  });\n  if (config.showValues !== false) {\n    sections.append("text").attr("class", "treemapSectionValue").attr("x", (d) => d.x1 - d.x0 - 10).attr("y", SECTION_HEADER_HEIGHT / 2).attr("text-anchor", "end").attr("dominant-baseline", "middle").text((d) => d.value ? valueFormat(d.value) : "").attr("font-style", "italic").attr("style", (d) => {\n      if (d.depth === 0) {\n        return "display: none;";\n      }\n      const labelStyles = "text-anchor: end; dominant-baseline: middle; font-size: 10px; fill:" + colorScaleLabel(d.data.name) + "; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;";\n      const styles = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__.styles2String)({ cssCompiledStyles: d.data.cssCompiledStyles });\n      return labelStyles + styles.labelStyles.replace("color:", "fill:");\n    });\n  }\n  const leafNodes = treemapData.leaves();\n  const cell = g.selectAll(".treemapLeafGroup").data(leafNodes).enter().append("g").attr("class", (d, i) => {\n    return `treemapNode treemapLeafGroup leaf${i}${d.data.classSelector ? ` ${d.data.classSelector}` : ""}x`;\n  }).attr("transform", (d) => `translate(${d.x0},${d.y0})`);\n  cell.append("rect").attr("width", (d) => d.x1 - d.x0).attr("height", (d) => d.y1 - d.y0).attr("class", "treemapLeaf").attr("fill", (d) => {\n    return d.parent ? colorScale(d.parent.data.name) : colorScale(d.data.name);\n  }).attr("style", (d) => {\n    const styles = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__.styles2String)({ cssCompiledStyles: d.data.cssCompiledStyles });\n    return styles.nodeStyles;\n  }).attr("fill-opacity", 0.3).attr("stroke", (d) => {\n    return d.parent ? colorScale(d.parent.data.name) : colorScale(d.data.name);\n  }).attr("stroke-width", 3);\n  cell.append("clipPath").attr("id", (_d, i) => `clip-${id}-${i}`).append("rect").attr("width", (d) => Math.max(0, d.x1 - d.x0 - 4)).attr("height", (d) => Math.max(0, d.y1 - d.y0 - 4));\n  const leafLabels = cell.append("text").attr("class", "treemapLabel").attr("x", (d) => (d.x1 - d.x0) / 2).attr("y", (d) => (d.y1 - d.y0) / 2).attr("style", (d) => {\n    const labelStyles = "text-anchor: middle; dominant-baseline: middle; font-size: 38px;fill:" + colorScaleLabel(d.data.name) + ";";\n    const styles = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__.styles2String)({ cssCompiledStyles: d.data.cssCompiledStyles });\n    return labelStyles + styles.labelStyles.replace("color:", "fill:");\n  }).attr("clip-path", (_d, i) => `url(#clip-${id}-${i})`).text((d) => d.data.name);\n  leafLabels.each(function(d) {\n    const self = (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)(this);\n    const nodeWidth = d.x1 - d.x0;\n    const nodeHeight = d.y1 - d.y0;\n    const textNode = self.node();\n    const padding = 4;\n    const availableWidth = nodeWidth - 2 * padding;\n    const availableHeight = nodeHeight - 2 * padding;\n    if (availableWidth < 10 || availableHeight < 10) {\n      self.style("display", "none");\n      return;\n    }\n    let currentLabelFontSize = parseInt(self.style("font-size"), 10);\n    const minLabelFontSize = 8;\n    const originalValueRelFontSize = 28;\n    const valueScaleFactor = 0.6;\n    const minValueFontSize = 6;\n    const spacingBetweenLabelAndValue = 2;\n    while (textNode.getComputedTextLength() > availableWidth && currentLabelFontSize > minLabelFontSize) {\n      currentLabelFontSize--;\n      self.style("font-size", `${currentLabelFontSize}px`);\n    }\n    let prospectiveValueFontSize = Math.max(\n      minValueFontSize,\n      Math.min(originalValueRelFontSize, Math.round(currentLabelFontSize * valueScaleFactor))\n    );\n    let combinedHeight = currentLabelFontSize + spacingBetweenLabelAndValue + prospectiveValueFontSize;\n    while (combinedHeight > availableHeight && currentLabelFontSize > minLabelFontSize) {\n      currentLabelFontSize--;\n      prospectiveValueFontSize = Math.max(\n        minValueFontSize,\n        Math.min(originalValueRelFontSize, Math.round(currentLabelFontSize * valueScaleFactor))\n      );\n      if (prospectiveValueFontSize < minValueFontSize && currentLabelFontSize === minLabelFontSize) {\n        break;\n      }\n      self.style("font-size", `${currentLabelFontSize}px`);\n      combinedHeight = currentLabelFontSize + spacingBetweenLabelAndValue + prospectiveValueFontSize;\n      if (prospectiveValueFontSize <= minValueFontSize && combinedHeight > availableHeight) {\n      }\n    }\n    self.style("font-size", `${currentLabelFontSize}px`);\n    if (textNode.getComputedTextLength() > availableWidth || currentLabelFontSize < minLabelFontSize || availableHeight < currentLabelFontSize) {\n      self.style("display", "none");\n    }\n  });\n  if (config.showValues !== false) {\n    const leafValues = cell.append("text").attr("class", "treemapValue").attr("x", (d) => (d.x1 - d.x0) / 2).attr("y", function(d) {\n      return (d.y1 - d.y0) / 2;\n    }).attr("style", (d) => {\n      const labelStyles = "text-anchor: middle; dominant-baseline: hanging; font-size: 28px;fill:" + colorScaleLabel(d.data.name) + ";";\n      const styles = (0,_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_2__.styles2String)({ cssCompiledStyles: d.data.cssCompiledStyles });\n      return labelStyles + styles.labelStyles.replace("color:", "fill:");\n    }).attr("clip-path", (_d, i) => `url(#clip-${id}-${i})`).text((d) => d.value ? valueFormat(d.value) : "");\n    leafValues.each(function(d) {\n      const valueTextElement = (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)(this);\n      const parentCellNode = this.parentNode;\n      if (!parentCellNode) {\n        valueTextElement.style("display", "none");\n        return;\n      }\n      const labelElement = (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)(parentCellNode).select(".treemapLabel");\n      if (labelElement.empty() || labelElement.style("display") === "none") {\n        valueTextElement.style("display", "none");\n        return;\n      }\n      const finalLabelFontSize = parseFloat(labelElement.style("font-size"));\n      const originalValueFontSize = 28;\n      const valueScaleFactor = 0.6;\n      const minValueFontSize = 6;\n      const spacingBetweenLabelAndValue = 2;\n      const actualValueFontSize = Math.max(\n        minValueFontSize,\n        Math.min(originalValueFontSize, Math.round(finalLabelFontSize * valueScaleFactor))\n      );\n      valueTextElement.style("font-size", `${actualValueFontSize}px`);\n      const labelCenterY = (d.y1 - d.y0) / 2;\n      const valueTopActualY = labelCenterY + finalLabelFontSize / 2 + spacingBetweenLabelAndValue;\n      valueTextElement.attr("y", valueTopActualY);\n      const nodeWidth = d.x1 - d.x0;\n      const nodeTotalHeight = d.y1 - d.y0;\n      const cellBottomPadding = 4;\n      const maxValueBottomY = nodeTotalHeight - cellBottomPadding;\n      const availableWidthForValue = nodeWidth - 2 * 4;\n      if (valueTextElement.node().getComputedTextLength() > availableWidthForValue || valueTopActualY + actualValueFontSize > maxValueBottomY || actualValueFontSize < minValueFontSize) {\n        valueTextElement.style("display", "none");\n      } else {\n        valueTextElement.style("display", null);\n      }\n    });\n  }\n  const diagramPadding = config.diagramPadding ?? 8;\n  (0,_chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_1__.setupViewPortForSVG)(svg, diagramPadding, "flowchart", config?.useMaxWidth || false);\n}, "draw");\nvar getClasses = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(function(_text, diagramObj) {\n  return diagramObj.db.getClasses();\n}, "getClasses");\nvar renderer = { draw, getClasses };\n\n// src/diagrams/treemap/styles.ts\nvar defaultTreemapStyleOptions = {\n  sectionStrokeColor: "black",\n  sectionStrokeWidth: "1",\n  sectionFillColor: "#efefef",\n  leafStrokeColor: "black",\n  leafStrokeWidth: "1",\n  leafFillColor: "#efefef",\n  labelColor: "black",\n  labelFontSize: "12px",\n  valueFontSize: "10px",\n  valueColor: "black",\n  titleColor: "black",\n  titleFontSize: "14px"\n};\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_6__.__name)(({\n  treemap: treemap2\n} = {}) => {\n  const options = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_4__.cleanAndMerge)(defaultTreemapStyleOptions, treemap2);\n  return `\n  .treemapNode.section {\n    stroke: ${options.sectionStrokeColor};\n    stroke-width: ${options.sectionStrokeWidth};\n    fill: ${options.sectionFillColor};\n  }\n  .treemapNode.leaf {\n    stroke: ${options.leafStrokeColor};\n    stroke-width: ${options.leafStrokeWidth};\n    fill: ${options.leafFillColor};\n  }\n  .treemapLabel {\n    fill: ${options.labelColor};\n    font-size: ${options.labelFontSize};\n  }\n  .treemapValue {\n    fill: ${options.valueColor};\n    font-size: ${options.valueFontSize};\n  }\n  .treemapTitle {\n    fill: ${options.titleColor};\n    font-size: ${options.titleFontSize};\n  }\n  `;\n}, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/treemap/diagram.ts\nvar diagram = {\n  parser,\n  get db() {\n    return new TreeMapDB();\n  },\n  renderer,\n  styles: styles_default\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/diagram-PSM6KHXK.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/diagram-QEK2KX5R.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-EXTU4WIE.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-EXTU4WIE.mjs");\n/* harmony import */ var _chunk_4BX2VUAB_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-4BX2VUAB.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-4BX2VUAB.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var _mermaid_js_parser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mermaid-js/parser */ "./node_modules/@mermaid-js/parser/dist/mermaid-parser.core.mjs");\n\n\n\n\n\n\n// src/diagrams/radar/db.ts\nvar defaultOptions = {\n  showLegend: true,\n  ticks: 5,\n  max: null,\n  min: 0,\n  graticule: "circle"\n};\nvar defaultRadarData = {\n  axes: [],\n  curves: [],\n  options: defaultOptions\n};\nvar data = structuredClone(defaultRadarData);\nvar DEFAULT_RADAR_CONFIG = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.defaultConfig_default.radar;\nvar getConfig2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(() => {\n  const config = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__.cleanAndMerge)({\n    ...DEFAULT_RADAR_CONFIG,\n    ...(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig)().radar\n  });\n  return config;\n}, "getConfig");\nvar getAxes = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(() => data.axes, "getAxes");\nvar getCurves = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(() => data.curves, "getCurves");\nvar getOptions = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(() => data.options, "getOptions");\nvar setAxes = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((axes) => {\n  data.axes = axes.map((axis) => {\n    return {\n      name: axis.name,\n      label: axis.label ?? axis.name\n    };\n  });\n}, "setAxes");\nvar setCurves = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((curves) => {\n  data.curves = curves.map((curve) => {\n    return {\n      name: curve.name,\n      label: curve.label ?? curve.name,\n      entries: computeCurveEntries(curve.entries)\n    };\n  });\n}, "setCurves");\nvar computeCurveEntries = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((entries) => {\n  if (entries[0].axis == void 0) {\n    return entries.map((entry) => entry.value);\n  }\n  const axes = getAxes();\n  if (axes.length === 0) {\n    throw new Error("Axes must be populated before curves for reference entries");\n  }\n  return axes.map((axis) => {\n    const entry = entries.find((entry2) => entry2.axis?.$refText === axis.name);\n    if (entry === void 0) {\n      throw new Error("Missing entry for axis " + axis.label);\n    }\n    return entry.value;\n  });\n}, "computeCurveEntries");\nvar setOptions = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((options) => {\n  const optionMap = options.reduce(\n    (acc, option) => {\n      acc[option.name] = option;\n      return acc;\n    },\n    {}\n  );\n  data.options = {\n    showLegend: optionMap.showLegend?.value ?? defaultOptions.showLegend,\n    ticks: optionMap.ticks?.value ?? defaultOptions.ticks,\n    max: optionMap.max?.value ?? defaultOptions.max,\n    min: optionMap.min?.value ?? defaultOptions.min,\n    graticule: optionMap.graticule?.value ?? defaultOptions.graticule\n  };\n}, "setOptions");\nvar clear2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(() => {\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.clear)();\n  data = structuredClone(defaultRadarData);\n}, "clear");\nvar db = {\n  getAxes,\n  getCurves,\n  getOptions,\n  setAxes,\n  setCurves,\n  setOptions,\n  getConfig: getConfig2,\n  clear: clear2,\n  setAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setAccTitle,\n  getAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getAccTitle,\n  setDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setDiagramTitle,\n  getDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getDiagramTitle,\n  getAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getAccDescription,\n  setAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setAccDescription\n};\n\n// src/diagrams/radar/parser.ts\n\nvar populate = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((ast) => {\n  (0,_chunk_4BX2VUAB_mjs__WEBPACK_IMPORTED_MODULE_1__.populateCommonDb)(ast, db);\n  const { axes, curves, options } = ast;\n  db.setAxes(axes);\n  db.setCurves(curves);\n  db.setOptions(options);\n}, "populate");\nvar parser = {\n  parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(async (input) => {\n    const ast = await (0,_mermaid_js_parser__WEBPACK_IMPORTED_MODULE_5__.parse)("radar", input);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug(ast);\n    populate(ast);\n  }, "parse")\n};\n\n// src/diagrams/radar/renderer.ts\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((_text, id, _version, diagram2) => {\n  const db2 = diagram2.db;\n  const axes = db2.getAxes();\n  const curves = db2.getCurves();\n  const options = db2.getOptions();\n  const config = db2.getConfig();\n  const title = db2.getDiagramTitle();\n  const svg = (0,_chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__.selectSvgElement)(id);\n  const g = drawFrame(svg, config);\n  const maxValue = options.max ?? Math.max(...curves.map((curve) => Math.max(...curve.entries)));\n  const minValue = options.min;\n  const radius = Math.min(config.width, config.height) / 2;\n  drawGraticule(g, axes, radius, options.ticks, options.graticule);\n  drawAxes(g, axes, radius, config);\n  drawCurves(g, axes, curves, minValue, maxValue, options.graticule, config);\n  drawLegend(g, curves, options.showLegend, config);\n  g.append("text").attr("class", "radarTitle").text(title).attr("x", 0).attr("y", -config.height / 2 - config.marginTop);\n}, "draw");\nvar drawFrame = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((svg, config) => {\n  const totalWidth = config.width + config.marginLeft + config.marginRight;\n  const totalHeight = config.height + config.marginTop + config.marginBottom;\n  const center = {\n    x: config.marginLeft + config.width / 2,\n    y: config.marginTop + config.height / 2\n  };\n  svg.attr("viewbox", `0 0 ${totalWidth} ${totalHeight}`).attr("width", totalWidth).attr("height", totalHeight);\n  return svg.append("g").attr("transform", `translate(${center.x}, ${center.y})`);\n}, "drawFrame");\nvar drawGraticule = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((g, axes, radius, ticks, graticule) => {\n  if (graticule === "circle") {\n    for (let i = 0; i < ticks; i++) {\n      const r = radius * (i + 1) / ticks;\n      g.append("circle").attr("r", r).attr("class", "radarGraticule");\n    }\n  } else if (graticule === "polygon") {\n    const numAxes = axes.length;\n    for (let i = 0; i < ticks; i++) {\n      const r = radius * (i + 1) / ticks;\n      const points = axes.map((_, j) => {\n        const angle = 2 * j * Math.PI / numAxes - Math.PI / 2;\n        const x = r * Math.cos(angle);\n        const y = r * Math.sin(angle);\n        return `${x},${y}`;\n      }).join(" ");\n      g.append("polygon").attr("points", points).attr("class", "radarGraticule");\n    }\n  }\n}, "drawGraticule");\nvar drawAxes = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((g, axes, radius, config) => {\n  const numAxes = axes.length;\n  for (let i = 0; i < numAxes; i++) {\n    const label = axes[i].label;\n    const angle = 2 * i * Math.PI / numAxes - Math.PI / 2;\n    g.append("line").attr("x1", 0).attr("y1", 0).attr("x2", radius * config.axisScaleFactor * Math.cos(angle)).attr("y2", radius * config.axisScaleFactor * Math.sin(angle)).attr("class", "radarAxisLine");\n    g.append("text").text(label).attr("x", radius * config.axisLabelFactor * Math.cos(angle)).attr("y", radius * config.axisLabelFactor * Math.sin(angle)).attr("class", "radarAxisLabel");\n  }\n}, "drawAxes");\nfunction drawCurves(g, axes, curves, minValue, maxValue, graticule, config) {\n  const numAxes = axes.length;\n  const radius = Math.min(config.width, config.height) / 2;\n  curves.forEach((curve, index) => {\n    if (curve.entries.length !== numAxes) {\n      return;\n    }\n    const points = curve.entries.map((entry, i) => {\n      const angle = 2 * Math.PI * i / numAxes - Math.PI / 2;\n      const r = relativeRadius(entry, minValue, maxValue, radius);\n      const x = r * Math.cos(angle);\n      const y = r * Math.sin(angle);\n      return { x, y };\n    });\n    if (graticule === "circle") {\n      g.append("path").attr("d", closedRoundCurve(points, config.curveTension)).attr("class", `radarCurve-${index}`);\n    } else if (graticule === "polygon") {\n      g.append("polygon").attr("points", points.map((p) => `${p.x},${p.y}`).join(" ")).attr("class", `radarCurve-${index}`);\n    }\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(drawCurves, "drawCurves");\nfunction relativeRadius(value, minValue, maxValue, radius) {\n  const clippedValue = Math.min(Math.max(value, minValue), maxValue);\n  return radius * (clippedValue - minValue) / (maxValue - minValue);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(relativeRadius, "relativeRadius");\nfunction closedRoundCurve(points, tension) {\n  const numPoints = points.length;\n  let d = `M${points[0].x},${points[0].y}`;\n  for (let i = 0; i < numPoints; i++) {\n    const p0 = points[(i - 1 + numPoints) % numPoints];\n    const p1 = points[i];\n    const p2 = points[(i + 1) % numPoints];\n    const p3 = points[(i + 2) % numPoints];\n    const cp1 = {\n      x: p1.x + (p2.x - p0.x) * tension,\n      y: p1.y + (p2.y - p0.y) * tension\n    };\n    const cp2 = {\n      x: p2.x - (p3.x - p1.x) * tension,\n      y: p2.y - (p3.y - p1.y) * tension\n    };\n    d += ` C${cp1.x},${cp1.y} ${cp2.x},${cp2.y} ${p2.x},${p2.y}`;\n  }\n  return `${d} Z`;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(closedRoundCurve, "closedRoundCurve");\nfunction drawLegend(g, curves, showLegend, config) {\n  if (!showLegend) {\n    return;\n  }\n  const legendX = (config.width / 2 + config.marginRight) * 3 / 4;\n  const legendY = -(config.height / 2 + config.marginTop) * 3 / 4;\n  const lineHeight = 20;\n  curves.forEach((curve, index) => {\n    const itemGroup = g.append("g").attr("transform", `translate(${legendX}, ${legendY + index * lineHeight})`);\n    itemGroup.append("rect").attr("width", 12).attr("height", 12).attr("class", `radarLegendBox-${index}`);\n    itemGroup.append("text").attr("x", 16).attr("y", 0).attr("class", "radarLegendText").text(curve.label);\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(drawLegend, "drawLegend");\nvar renderer = { draw };\n\n// src/diagrams/radar/styles.ts\nvar genIndexStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((themeVariables, radarOptions) => {\n  let sections = "";\n  for (let i = 0; i < themeVariables.THEME_COLOR_LIMIT; i++) {\n    const indexColor = themeVariables[`cScale${i}`];\n    sections += `\n\t\t.radarCurve-${i} {\n\t\t\tcolor: ${indexColor};\n\t\t\tfill: ${indexColor};\n\t\t\tfill-opacity: ${radarOptions.curveOpacity};\n\t\t\tstroke: ${indexColor};\n\t\t\tstroke-width: ${radarOptions.curveStrokeWidth};\n\t\t}\n\t\t.radarLegendBox-${i} {\n\t\t\tfill: ${indexColor};\n\t\t\tfill-opacity: ${radarOptions.curveOpacity};\n\t\t\tstroke: ${indexColor};\n\t\t}\n\t\t`;\n  }\n  return sections;\n}, "genIndexStyles");\nvar buildRadarStyleOptions = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((radar) => {\n  const defaultThemeVariables = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getThemeVariables)();\n  const currentConfig = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig)();\n  const themeVariables = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__.cleanAndMerge)(defaultThemeVariables, currentConfig.themeVariables);\n  const radarOptions = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__.cleanAndMerge)(themeVariables.radar, radar);\n  return { themeVariables, radarOptions };\n}, "buildRadarStyleOptions");\nvar styles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(({ radar } = {}) => {\n  const { themeVariables, radarOptions } = buildRadarStyleOptions(radar);\n  return `\n\t.radarTitle {\n\t\tfont-size: ${themeVariables.fontSize};\n\t\tcolor: ${themeVariables.titleColor};\n\t\tdominant-baseline: hanging;\n\t\ttext-anchor: middle;\n\t}\n\t.radarAxisLine {\n\t\tstroke: ${radarOptions.axisColor};\n\t\tstroke-width: ${radarOptions.axisStrokeWidth};\n\t}\n\t.radarAxisLabel {\n\t\tdominant-baseline: middle;\n\t\ttext-anchor: middle;\n\t\tfont-size: ${radarOptions.axisLabelFontSize}px;\n\t\tcolor: ${radarOptions.axisColor};\n\t}\n\t.radarGraticule {\n\t\tfill: ${radarOptions.graticuleColor};\n\t\tfill-opacity: ${radarOptions.graticuleOpacity};\n\t\tstroke: ${radarOptions.graticuleColor};\n\t\tstroke-width: ${radarOptions.graticuleStrokeWidth};\n\t}\n\t.radarLegendText {\n\t\ttext-anchor: start;\n\t\tfont-size: ${radarOptions.legendFontSize}px;\n\t\tdominant-baseline: hanging;\n\t}\n\t${genIndexStyles(themeVariables, radarOptions)}\n\t`;\n}, "styles");\n\n// src/diagrams/radar/diagram.ts\nvar diagram = {\n  parser,\n  db,\n  renderer,\n  styles\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/diagram-QEK2KX5R.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/diagram-S2PKOQOG.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-EXTU4WIE.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-EXTU4WIE.mjs");\n/* harmony import */ var _chunk_4BX2VUAB_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-4BX2VUAB.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-4BX2VUAB.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var _mermaid_js_parser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mermaid-js/parser */ "./node_modules/@mermaid-js/parser/dist/mermaid-parser.core.mjs");\n\n\n\n\n\n\n// src/diagrams/packet/db.ts\nvar DEFAULT_PACKET_CONFIG = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.defaultConfig_default.packet;\nvar PacketDB = class {\n  constructor() {\n    this.packet = [];\n    this.setAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setAccTitle;\n    this.getAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getAccTitle;\n    this.setDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setDiagramTitle;\n    this.getDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getDiagramTitle;\n    this.getAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getAccDescription;\n    this.setAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setAccDescription;\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(this, "PacketDB");\n  }\n  getConfig() {\n    const config = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__.cleanAndMerge)({\n      ...DEFAULT_PACKET_CONFIG,\n      ...(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig)().packet\n    });\n    if (config.showBits) {\n      config.paddingY += 10;\n    }\n    return config;\n  }\n  getPacket() {\n    return this.packet;\n  }\n  pushWord(word) {\n    if (word.length > 0) {\n      this.packet.push(word);\n    }\n  }\n  clear() {\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.clear)();\n    this.packet = [];\n  }\n};\n\n// src/diagrams/packet/parser.ts\n\nvar maxPacketSize = 1e4;\nvar populate = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((ast, db) => {\n  (0,_chunk_4BX2VUAB_mjs__WEBPACK_IMPORTED_MODULE_1__.populateCommonDb)(ast, db);\n  let lastBit = -1;\n  let word = [];\n  let row = 1;\n  const { bitsPerRow } = db.getConfig();\n  for (let { start, end, bits, label } of ast.blocks) {\n    if (start !== void 0 && end !== void 0 && end < start) {\n      throw new Error(`Packet block ${start} - ${end} is invalid. End must be greater than start.`);\n    }\n    start ??= lastBit + 1;\n    if (start !== lastBit + 1) {\n      throw new Error(\n        `Packet block ${start} - ${end ?? start} is not contiguous. It should start from ${lastBit + 1}.`\n      );\n    }\n    if (bits === 0) {\n      throw new Error(`Packet block ${start} is invalid. Cannot have a zero bit field.`);\n    }\n    end ??= start + (bits ?? 1) - 1;\n    bits ??= end - start + 1;\n    lastBit = end;\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug(`Packet block ${start} - ${lastBit} with label ${label}`);\n    while (word.length <= bitsPerRow + 1 && db.getPacket().length < maxPacketSize) {\n      const [block, nextBlock] = getNextFittingBlock({ start, end, bits, label }, row, bitsPerRow);\n      word.push(block);\n      if (block.end + 1 === row * bitsPerRow) {\n        db.pushWord(word);\n        word = [];\n        row++;\n      }\n      if (!nextBlock) {\n        break;\n      }\n      ({ start, end, bits, label } = nextBlock);\n    }\n  }\n  db.pushWord(word);\n}, "populate");\nvar getNextFittingBlock = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((block, row, bitsPerRow) => {\n  if (block.start === void 0) {\n    throw new Error("start should have been set during first phase");\n  }\n  if (block.end === void 0) {\n    throw new Error("end should have been set during first phase");\n  }\n  if (block.start > block.end) {\n    throw new Error(`Block start ${block.start} is greater than block end ${block.end}.`);\n  }\n  if (block.end + 1 <= row * bitsPerRow) {\n    return [block, void 0];\n  }\n  const rowEnd = row * bitsPerRow - 1;\n  const rowStart = row * bitsPerRow;\n  return [\n    {\n      start: block.start,\n      end: rowEnd,\n      label: block.label,\n      bits: rowEnd - block.start\n    },\n    {\n      start: rowStart,\n      end: block.end,\n      label: block.label,\n      bits: block.end - rowStart\n    }\n  ];\n}, "getNextFittingBlock");\nvar parser = {\n  // @ts-expect-error - PacketDB is not assignable to DiagramDB\n  parser: { yy: void 0 },\n  parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(async (input) => {\n    const ast = await (0,_mermaid_js_parser__WEBPACK_IMPORTED_MODULE_5__.parse)("packet", input);\n    const db = parser.parser?.yy;\n    if (!(db instanceof PacketDB)) {\n      throw new Error(\n        "parser.parser?.yy was not a PacketDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues."\n      );\n    }\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug(ast);\n    populate(ast, db);\n  }, "parse")\n};\n\n// src/diagrams/packet/renderer.ts\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((_text, id, _version, diagram2) => {\n  const db = diagram2.db;\n  const config = db.getConfig();\n  const { rowHeight, paddingY, bitWidth, bitsPerRow } = config;\n  const words = db.getPacket();\n  const title = db.getDiagramTitle();\n  const totalRowHeight = rowHeight + paddingY;\n  const svgHeight = totalRowHeight * (words.length + 1) - (title ? 0 : rowHeight);\n  const svgWidth = bitWidth * bitsPerRow + 2;\n  const svg = (0,_chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__.selectSvgElement)(id);\n  svg.attr("viewbox", `0 0 ${svgWidth} ${svgHeight}`);\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.configureSvgSize)(svg, svgHeight, svgWidth, config.useMaxWidth);\n  for (const [word, packet] of words.entries()) {\n    drawWord(svg, packet, word, config);\n  }\n  svg.append("text").text(title).attr("x", svgWidth / 2).attr("y", svgHeight - totalRowHeight / 2).attr("dominant-baseline", "middle").attr("text-anchor", "middle").attr("class", "packetTitle");\n}, "draw");\nvar drawWord = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((svg, word, rowNumber, { rowHeight, paddingX, paddingY, bitWidth, bitsPerRow, showBits }) => {\n  const group = svg.append("g");\n  const wordY = rowNumber * (rowHeight + paddingY) + paddingY;\n  for (const block of word) {\n    const blockX = block.start % bitsPerRow * bitWidth + 1;\n    const width = (block.end - block.start + 1) * bitWidth - paddingX;\n    group.append("rect").attr("x", blockX).attr("y", wordY).attr("width", width).attr("height", rowHeight).attr("class", "packetBlock");\n    group.append("text").attr("x", blockX + width / 2).attr("y", wordY + rowHeight / 2).attr("class", "packetLabel").attr("dominant-baseline", "middle").attr("text-anchor", "middle").text(block.label);\n    if (!showBits) {\n      continue;\n    }\n    const isSingleBlock = block.end === block.start;\n    const bitNumberY = wordY - 2;\n    group.append("text").attr("x", blockX + (isSingleBlock ? width / 2 : 0)).attr("y", bitNumberY).attr("class", "packetByte start").attr("dominant-baseline", "auto").attr("text-anchor", isSingleBlock ? "middle" : "start").text(block.start);\n    if (!isSingleBlock) {\n      group.append("text").attr("x", blockX + width).attr("y", bitNumberY).attr("class", "packetByte end").attr("dominant-baseline", "auto").attr("text-anchor", "end").text(block.end);\n    }\n  }\n}, "drawWord");\nvar renderer = { draw };\n\n// src/diagrams/packet/styles.ts\nvar defaultPacketStyleOptions = {\n  byteFontSize: "10px",\n  startByteColor: "black",\n  endByteColor: "black",\n  labelColor: "black",\n  labelFontSize: "12px",\n  titleColor: "black",\n  titleFontSize: "14px",\n  blockStrokeColor: "black",\n  blockStrokeWidth: "1",\n  blockFillColor: "#efefef"\n};\nvar styles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(({ packet } = {}) => {\n  const options = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__.cleanAndMerge)(defaultPacketStyleOptions, packet);\n  return `\n\t.packetByte {\n\t\tfont-size: ${options.byteFontSize};\n\t}\n\t.packetByte.start {\n\t\tfill: ${options.startByteColor};\n\t}\n\t.packetByte.end {\n\t\tfill: ${options.endByteColor};\n\t}\n\t.packetLabel {\n\t\tfill: ${options.labelColor};\n\t\tfont-size: ${options.labelFontSize};\n\t}\n\t.packetTitle {\n\t\tfill: ${options.titleColor};\n\t\tfont-size: ${options.titleFontSize};\n\t}\n\t.packetBlock {\n\t\tstroke: ${options.blockStrokeColor};\n\t\tstroke-width: ${options.blockStrokeWidth};\n\t\tfill: ${options.blockFillColor};\n\t}\n\t`;\n}, "styles");\n\n// src/diagrams/packet/diagram.ts\nvar diagram = {\n  parser,\n  get db() {\n    return new PacketDB();\n  },\n  renderer,\n  styles\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/diagram-S2PKOQOG.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/erDiagram-Q2GNP2WA.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-55IACEB6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-55IACEB6.mjs");\n/* harmony import */ var _chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-QN33PNHL.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs");\n/* harmony import */ var _chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-N4CR4FBY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-N4CR4FBY.mjs");\n/* harmony import */ var _chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-QXUST7PY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QXUST7PY.mjs");\n/* harmony import */ var _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-HN2XXSSU.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HN2XXSSU.mjs");\n/* harmony import */ var _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-JZLCHNYA.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs");\n/* harmony import */ var _chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-CVBHYZKI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs");\n/* harmony import */ var _chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-ATLVNIR6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/rgba.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/channel.js");\n\n\n\n\n\n\n\n\n\n\n\n\n\n// src/diagrams/er/parser/erDiagram.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [6, 8, 10, 22, 24, 26, 28, 33, 34, 35, 36, 37, 40, 43, 44, 50], $V1 = [1, 10], $V2 = [1, 11], $V3 = [1, 12], $V4 = [1, 13], $V5 = [1, 20], $V6 = [1, 21], $V7 = [1, 22], $V8 = [1, 23], $V9 = [1, 24], $Va = [1, 19], $Vb = [1, 25], $Vc = [1, 26], $Vd = [1, 18], $Ve = [1, 33], $Vf = [1, 34], $Vg = [1, 35], $Vh = [1, 36], $Vi = [1, 37], $Vj = [6, 8, 10, 13, 15, 17, 20, 21, 22, 24, 26, 28, 33, 34, 35, 36, 37, 40, 43, 44, 50, 63, 64, 65, 66, 67], $Vk = [1, 42], $Vl = [1, 43], $Vm = [1, 52], $Vn = [40, 50, 68, 69], $Vo = [1, 63], $Vp = [1, 61], $Vq = [1, 58], $Vr = [1, 62], $Vs = [1, 64], $Vt = [6, 8, 10, 13, 17, 22, 24, 26, 28, 33, 34, 35, 36, 37, 40, 41, 42, 43, 44, 48, 49, 50, 63, 64, 65, 66, 67], $Vu = [63, 64, 65, 66, 67], $Vv = [1, 81], $Vw = [1, 80], $Vx = [1, 78], $Vy = [1, 79], $Vz = [6, 10, 42, 47], $VA = [6, 10, 13, 41, 42, 47, 48, 49], $VB = [1, 89], $VC = [1, 88], $VD = [1, 87], $VE = [19, 56], $VF = [1, 98], $VG = [1, 97], $VH = [19, 56, 58, 60];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "start": 3, "ER_DIAGRAM": 4, "document": 5, "EOF": 6, "line": 7, "SPACE": 8, "statement": 9, "NEWLINE": 10, "entityName": 11, "relSpec": 12, "COLON": 13, "role": 14, "STYLE_SEPARATOR": 15, "idList": 16, "BLOCK_START": 17, "attributes": 18, "BLOCK_STOP": 19, "SQS": 20, "SQE": 21, "title": 22, "title_value": 23, "acc_title": 24, "acc_title_value": 25, "acc_descr": 26, "acc_descr_value": 27, "acc_descr_multiline_value": 28, "direction": 29, "classDefStatement": 30, "classStatement": 31, "styleStatement": 32, "direction_tb": 33, "direction_bt": 34, "direction_rl": 35, "direction_lr": 36, "CLASSDEF": 37, "stylesOpt": 38, "separator": 39, "UNICODE_TEXT": 40, "STYLE_TEXT": 41, "COMMA": 42, "CLASS": 43, "STYLE": 44, "style": 45, "styleComponent": 46, "SEMI": 47, "NUM": 48, "BRKT": 49, "ENTITY_NAME": 50, "attribute": 51, "attributeType": 52, "attributeName": 53, "attributeKeyTypeList": 54, "attributeComment": 55, "ATTRIBUTE_WORD": 56, "attributeKeyType": 57, ",": 58, "ATTRIBUTE_KEY": 59, "COMMENT": 60, "cardinality": 61, "relType": 62, "ZERO_OR_ONE": 63, "ZERO_OR_MORE": 64, "ONE_OR_MORE": 65, "ONLY_ONE": 66, "MD_PARENT": 67, "NON_IDENTIFYING": 68, "IDENTIFYING": 69, "WORD": 70, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 4: "ER_DIAGRAM", 6: "EOF", 8: "SPACE", 10: "NEWLINE", 13: "COLON", 15: "STYLE_SEPARATOR", 17: "BLOCK_START", 19: "BLOCK_STOP", 20: "SQS", 21: "SQE", 22: "title", 23: "title_value", 24: "acc_title", 25: "acc_title_value", 26: "acc_descr", 27: "acc_descr_value", 28: "acc_descr_multiline_value", 33: "direction_tb", 34: "direction_bt", 35: "direction_rl", 36: "direction_lr", 37: "CLASSDEF", 40: "UNICODE_TEXT", 41: "STYLE_TEXT", 42: "COMMA", 43: "CLASS", 44: "STYLE", 47: "SEMI", 48: "NUM", 49: "BRKT", 50: "ENTITY_NAME", 56: "ATTRIBUTE_WORD", 58: ",", 59: "ATTRIBUTE_KEY", 60: "COMMENT", 63: "ZERO_OR_ONE", 64: "ZERO_OR_MORE", 65: "ONE_OR_MORE", 66: "ONLY_ONE", 67: "MD_PARENT", 68: "NON_IDENTIFYING", 69: "IDENTIFYING", 70: "WORD" },\n    productions_: [0, [3, 3], [5, 0], [5, 2], [7, 2], [7, 1], [7, 1], [7, 1], [9, 5], [9, 9], [9, 7], [9, 7], [9, 4], [9, 6], [9, 3], [9, 5], [9, 1], [9, 3], [9, 7], [9, 9], [9, 6], [9, 8], [9, 4], [9, 6], [9, 2], [9, 2], [9, 2], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [29, 1], [29, 1], [29, 1], [29, 1], [30, 4], [16, 1], [16, 1], [16, 3], [16, 3], [31, 3], [32, 4], [38, 1], [38, 3], [45, 1], [45, 2], [39, 1], [39, 1], [39, 1], [46, 1], [46, 1], [46, 1], [46, 1], [11, 1], [11, 1], [18, 1], [18, 2], [51, 2], [51, 3], [51, 3], [51, 4], [52, 1], [53, 1], [54, 1], [54, 3], [57, 1], [55, 1], [12, 3], [61, 1], [61, 1], [61, 1], [61, 1], [61, 1], [62, 1], [62, 1], [14, 1], [14, 1], [14, 1]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 1:\n          break;\n        case 2:\n          this.$ = [];\n          break;\n        case 3:\n          $$[$0 - 1].push($$[$0]);\n          this.$ = $$[$0 - 1];\n          break;\n        case 4:\n        case 5:\n          this.$ = $$[$0];\n          break;\n        case 6:\n        case 7:\n          this.$ = [];\n          break;\n        case 8:\n          yy.addEntity($$[$0 - 4]);\n          yy.addEntity($$[$0 - 2]);\n          yy.addRelationship($$[$0 - 4], $$[$0], $$[$0 - 2], $$[$0 - 3]);\n          break;\n        case 9:\n          yy.addEntity($$[$0 - 8]);\n          yy.addEntity($$[$0 - 4]);\n          yy.addRelationship($$[$0 - 8], $$[$0], $$[$0 - 4], $$[$0 - 5]);\n          yy.setClass([$$[$0 - 8]], $$[$0 - 6]);\n          yy.setClass([$$[$0 - 4]], $$[$0 - 2]);\n          break;\n        case 10:\n          yy.addEntity($$[$0 - 6]);\n          yy.addEntity($$[$0 - 2]);\n          yy.addRelationship($$[$0 - 6], $$[$0], $$[$0 - 2], $$[$0 - 3]);\n          yy.setClass([$$[$0 - 6]], $$[$0 - 4]);\n          break;\n        case 11:\n          yy.addEntity($$[$0 - 6]);\n          yy.addEntity($$[$0 - 4]);\n          yy.addRelationship($$[$0 - 6], $$[$0], $$[$0 - 4], $$[$0 - 5]);\n          yy.setClass([$$[$0 - 4]], $$[$0 - 2]);\n          break;\n        case 12:\n          yy.addEntity($$[$0 - 3]);\n          yy.addAttributes($$[$0 - 3], $$[$0 - 1]);\n          break;\n        case 13:\n          yy.addEntity($$[$0 - 5]);\n          yy.addAttributes($$[$0 - 5], $$[$0 - 1]);\n          yy.setClass([$$[$0 - 5]], $$[$0 - 3]);\n          break;\n        case 14:\n          yy.addEntity($$[$0 - 2]);\n          break;\n        case 15:\n          yy.addEntity($$[$0 - 4]);\n          yy.setClass([$$[$0 - 4]], $$[$0 - 2]);\n          break;\n        case 16:\n          yy.addEntity($$[$0]);\n          break;\n        case 17:\n          yy.addEntity($$[$0 - 2]);\n          yy.setClass([$$[$0 - 2]], $$[$0]);\n          break;\n        case 18:\n          yy.addEntity($$[$0 - 6], $$[$0 - 4]);\n          yy.addAttributes($$[$0 - 6], $$[$0 - 1]);\n          break;\n        case 19:\n          yy.addEntity($$[$0 - 8], $$[$0 - 6]);\n          yy.addAttributes($$[$0 - 8], $$[$0 - 1]);\n          yy.setClass([$$[$0 - 8]], $$[$0 - 3]);\n          break;\n        case 20:\n          yy.addEntity($$[$0 - 5], $$[$0 - 3]);\n          break;\n        case 21:\n          yy.addEntity($$[$0 - 7], $$[$0 - 5]);\n          yy.setClass([$$[$0 - 7]], $$[$0 - 2]);\n          break;\n        case 22:\n          yy.addEntity($$[$0 - 3], $$[$0 - 1]);\n          break;\n        case 23:\n          yy.addEntity($$[$0 - 5], $$[$0 - 3]);\n          yy.setClass([$$[$0 - 5]], $$[$0]);\n          break;\n        case 24:\n        case 25:\n          this.$ = $$[$0].trim();\n          yy.setAccTitle(this.$);\n          break;\n        case 26:\n        case 27:\n          this.$ = $$[$0].trim();\n          yy.setAccDescription(this.$);\n          break;\n        case 32:\n          yy.setDirection("TB");\n          break;\n        case 33:\n          yy.setDirection("BT");\n          break;\n        case 34:\n          yy.setDirection("RL");\n          break;\n        case 35:\n          yy.setDirection("LR");\n          break;\n        case 36:\n          this.$ = $$[$0 - 3];\n          yy.addClass($$[$0 - 2], $$[$0 - 1]);\n          break;\n        case 37:\n        case 38:\n        case 56:\n        case 64:\n          this.$ = [$$[$0]];\n          break;\n        case 39:\n        case 40:\n          this.$ = $$[$0 - 2].concat([$$[$0]]);\n          break;\n        case 41:\n          this.$ = $$[$0 - 2];\n          yy.setClass($$[$0 - 1], $$[$0]);\n          break;\n        case 42:\n          ;\n          this.$ = $$[$0 - 3];\n          yy.addCssStyles($$[$0 - 2], $$[$0 - 1]);\n          break;\n        case 43:\n          this.$ = [$$[$0]];\n          break;\n        case 44:\n          $$[$0 - 2].push($$[$0]);\n          this.$ = $$[$0 - 2];\n          break;\n        case 46:\n          this.$ = $$[$0 - 1] + $$[$0];\n          break;\n        case 54:\n        case 76:\n        case 77:\n          this.$ = $$[$0].replace(/"/g, "");\n          break;\n        case 55:\n        case 78:\n          this.$ = $$[$0];\n          break;\n        case 57:\n          $$[$0].push($$[$0 - 1]);\n          this.$ = $$[$0];\n          break;\n        case 58:\n          this.$ = { type: $$[$0 - 1], name: $$[$0] };\n          break;\n        case 59:\n          this.$ = { type: $$[$0 - 2], name: $$[$0 - 1], keys: $$[$0] };\n          break;\n        case 60:\n          this.$ = { type: $$[$0 - 2], name: $$[$0 - 1], comment: $$[$0] };\n          break;\n        case 61:\n          this.$ = { type: $$[$0 - 3], name: $$[$0 - 2], keys: $$[$0 - 1], comment: $$[$0] };\n          break;\n        case 62:\n        case 63:\n        case 66:\n          this.$ = $$[$0];\n          break;\n        case 65:\n          $$[$0 - 2].push($$[$0]);\n          this.$ = $$[$0 - 2];\n          break;\n        case 67:\n          this.$ = $$[$0].replace(/"/g, "");\n          break;\n        case 68:\n          this.$ = { cardA: $$[$0], relType: $$[$0 - 1], cardB: $$[$0 - 2] };\n          break;\n        case 69:\n          this.$ = yy.Cardinality.ZERO_OR_ONE;\n          break;\n        case 70:\n          this.$ = yy.Cardinality.ZERO_OR_MORE;\n          break;\n        case 71:\n          this.$ = yy.Cardinality.ONE_OR_MORE;\n          break;\n        case 72:\n          this.$ = yy.Cardinality.ONLY_ONE;\n          break;\n        case 73:\n          this.$ = yy.Cardinality.MD_PARENT;\n          break;\n        case 74:\n          this.$ = yy.Identification.NON_IDENTIFYING;\n          break;\n        case 75:\n          this.$ = yy.Identification.IDENTIFYING;\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, o($V0, [2, 2], { 5: 3 }), { 6: [1, 4], 7: 5, 8: [1, 6], 9: 7, 10: [1, 8], 11: 9, 22: $V1, 24: $V2, 26: $V3, 28: $V4, 29: 14, 30: 15, 31: 16, 32: 17, 33: $V5, 34: $V6, 35: $V7, 36: $V8, 37: $V9, 40: $Va, 43: $Vb, 44: $Vc, 50: $Vd }, o($V0, [2, 7], { 1: [2, 1] }), o($V0, [2, 3]), { 9: 27, 11: 9, 22: $V1, 24: $V2, 26: $V3, 28: $V4, 29: 14, 30: 15, 31: 16, 32: 17, 33: $V5, 34: $V6, 35: $V7, 36: $V8, 37: $V9, 40: $Va, 43: $Vb, 44: $Vc, 50: $Vd }, o($V0, [2, 5]), o($V0, [2, 6]), o($V0, [2, 16], { 12: 28, 61: 32, 15: [1, 29], 17: [1, 30], 20: [1, 31], 63: $Ve, 64: $Vf, 65: $Vg, 66: $Vh, 67: $Vi }), { 23: [1, 38] }, { 25: [1, 39] }, { 27: [1, 40] }, o($V0, [2, 27]), o($V0, [2, 28]), o($V0, [2, 29]), o($V0, [2, 30]), o($V0, [2, 31]), o($Vj, [2, 54]), o($Vj, [2, 55]), o($V0, [2, 32]), o($V0, [2, 33]), o($V0, [2, 34]), o($V0, [2, 35]), { 16: 41, 40: $Vk, 41: $Vl }, { 16: 44, 40: $Vk, 41: $Vl }, { 16: 45, 40: $Vk, 41: $Vl }, o($V0, [2, 4]), { 11: 46, 40: $Va, 50: $Vd }, { 16: 47, 40: $Vk, 41: $Vl }, { 18: 48, 19: [1, 49], 51: 50, 52: 51, 56: $Vm }, { 11: 53, 40: $Va, 50: $Vd }, { 62: 54, 68: [1, 55], 69: [1, 56] }, o($Vn, [2, 69]), o($Vn, [2, 70]), o($Vn, [2, 71]), o($Vn, [2, 72]), o($Vn, [2, 73]), o($V0, [2, 24]), o($V0, [2, 25]), o($V0, [2, 26]), { 13: $Vo, 38: 57, 41: $Vp, 42: $Vq, 45: 59, 46: 60, 48: $Vr, 49: $Vs }, o($Vt, [2, 37]), o($Vt, [2, 38]), { 16: 65, 40: $Vk, 41: $Vl, 42: $Vq }, { 13: $Vo, 38: 66, 41: $Vp, 42: $Vq, 45: 59, 46: 60, 48: $Vr, 49: $Vs }, { 13: [1, 67], 15: [1, 68] }, o($V0, [2, 17], { 61: 32, 12: 69, 17: [1, 70], 42: $Vq, 63: $Ve, 64: $Vf, 65: $Vg, 66: $Vh, 67: $Vi }), { 19: [1, 71] }, o($V0, [2, 14]), { 18: 72, 19: [2, 56], 51: 50, 52: 51, 56: $Vm }, { 53: 73, 56: [1, 74] }, { 56: [2, 62] }, { 21: [1, 75] }, { 61: 76, 63: $Ve, 64: $Vf, 65: $Vg, 66: $Vh, 67: $Vi }, o($Vu, [2, 74]), o($Vu, [2, 75]), { 6: $Vv, 10: $Vw, 39: 77, 42: $Vx, 47: $Vy }, { 40: [1, 82], 41: [1, 83] }, o($Vz, [2, 43], { 46: 84, 13: $Vo, 41: $Vp, 48: $Vr, 49: $Vs }), o($VA, [2, 45]), o($VA, [2, 50]), o($VA, [2, 51]), o($VA, [2, 52]), o($VA, [2, 53]), o($V0, [2, 41], { 42: $Vq }), { 6: $Vv, 10: $Vw, 39: 85, 42: $Vx, 47: $Vy }, { 14: 86, 40: $VB, 50: $VC, 70: $VD }, { 16: 90, 40: $Vk, 41: $Vl }, { 11: 91, 40: $Va, 50: $Vd }, { 18: 92, 19: [1, 93], 51: 50, 52: 51, 56: $Vm }, o($V0, [2, 12]), { 19: [2, 57] }, o($VE, [2, 58], { 54: 94, 55: 95, 57: 96, 59: $VF, 60: $VG }), o([19, 56, 59, 60], [2, 63]), o($V0, [2, 22], { 15: [1, 100], 17: [1, 99] }), o([40, 50], [2, 68]), o($V0, [2, 36]), { 13: $Vo, 41: $Vp, 45: 101, 46: 60, 48: $Vr, 49: $Vs }, o($V0, [2, 47]), o($V0, [2, 48]), o($V0, [2, 49]), o($Vt, [2, 39]), o($Vt, [2, 40]), o($VA, [2, 46]), o($V0, [2, 42]), o($V0, [2, 8]), o($V0, [2, 76]), o($V0, [2, 77]), o($V0, [2, 78]), { 13: [1, 102], 42: $Vq }, { 13: [1, 104], 15: [1, 103] }, { 19: [1, 105] }, o($V0, [2, 15]), o($VE, [2, 59], { 55: 106, 58: [1, 107], 60: $VG }), o($VE, [2, 60]), o($VH, [2, 64]), o($VE, [2, 67]), o($VH, [2, 66]), { 18: 108, 19: [1, 109], 51: 50, 52: 51, 56: $Vm }, { 16: 110, 40: $Vk, 41: $Vl }, o($Vz, [2, 44], { 46: 84, 13: $Vo, 41: $Vp, 48: $Vr, 49: $Vs }), { 14: 111, 40: $VB, 50: $VC, 70: $VD }, { 16: 112, 40: $Vk, 41: $Vl }, { 14: 113, 40: $VB, 50: $VC, 70: $VD }, o($V0, [2, 13]), o($VE, [2, 61]), { 57: 114, 59: $VF }, { 19: [1, 115] }, o($V0, [2, 20]), o($V0, [2, 23], { 17: [1, 116], 42: $Vq }), o($V0, [2, 11]), { 13: [1, 117], 42: $Vq }, o($V0, [2, 10]), o($VH, [2, 65]), o($V0, [2, 18]), { 18: 118, 19: [1, 119], 51: 50, 52: 51, 56: $Vm }, { 14: 120, 40: $VB, 50: $VC, 70: $VD }, { 19: [1, 121] }, o($V0, [2, 21]), o($V0, [2, 9]), o($V0, [2, 19])],\n    defaultActions: { 52: [2, 62], 72: [2, 57] },\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: { "case-insensitive": true },\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            this.begin("acc_title");\n            return 24;\n            // removed by dead control flow\n\n          case 1:\n            this.popState();\n            return "acc_title_value";\n            // removed by dead control flow\n\n          case 2:\n            this.begin("acc_descr");\n            return 26;\n            // removed by dead control flow\n\n          case 3:\n            this.popState();\n            return "acc_descr_value";\n            // removed by dead control flow\n\n          case 4:\n            this.begin("acc_descr_multiline");\n            break;\n          case 5:\n            this.popState();\n            break;\n          case 6:\n            return "acc_descr_multiline_value";\n            // removed by dead control flow\n\n          case 7:\n            return 33;\n            // removed by dead control flow\n\n          case 8:\n            return 34;\n            // removed by dead control flow\n\n          case 9:\n            return 35;\n            // removed by dead control flow\n\n          case 10:\n            return 36;\n            // removed by dead control flow\n\n          case 11:\n            return 10;\n            // removed by dead control flow\n\n          case 12:\n            break;\n          case 13:\n            return 8;\n            // removed by dead control flow\n\n          case 14:\n            return 50;\n            // removed by dead control flow\n\n          case 15:\n            return 70;\n            // removed by dead control flow\n\n          case 16:\n            return 4;\n            // removed by dead control flow\n\n          case 17:\n            this.begin("block");\n            return 17;\n            // removed by dead control flow\n\n          case 18:\n            return 49;\n            // removed by dead control flow\n\n          case 19:\n            return 49;\n            // removed by dead control flow\n\n          case 20:\n            return 42;\n            // removed by dead control flow\n\n          case 21:\n            return 15;\n            // removed by dead control flow\n\n          case 22:\n            return 13;\n            // removed by dead control flow\n\n          case 23:\n            break;\n          case 24:\n            return 59;\n            // removed by dead control flow\n\n          case 25:\n            return 56;\n            // removed by dead control flow\n\n          case 26:\n            return 56;\n            // removed by dead control flow\n\n          case 27:\n            return 60;\n            // removed by dead control flow\n\n          case 28:\n            break;\n          case 29:\n            this.popState();\n            return 19;\n            // removed by dead control flow\n\n          case 30:\n            return yy_.yytext[0];\n            // removed by dead control flow\n\n          case 31:\n            return 20;\n            // removed by dead control flow\n\n          case 32:\n            return 21;\n            // removed by dead control flow\n\n          case 33:\n            this.begin("style");\n            return 44;\n            // removed by dead control flow\n\n          case 34:\n            this.popState();\n            return 10;\n            // removed by dead control flow\n\n          case 35:\n            break;\n          case 36:\n            return 13;\n            // removed by dead control flow\n\n          case 37:\n            return 42;\n            // removed by dead control flow\n\n          case 38:\n            return 49;\n            // removed by dead control flow\n\n          case 39:\n            this.begin("style");\n            return 37;\n            // removed by dead control flow\n\n          case 40:\n            return 43;\n            // removed by dead control flow\n\n          case 41:\n            return 63;\n            // removed by dead control flow\n\n          case 42:\n            return 65;\n            // removed by dead control flow\n\n          case 43:\n            return 65;\n            // removed by dead control flow\n\n          case 44:\n            return 65;\n            // removed by dead control flow\n\n          case 45:\n            return 63;\n            // removed by dead control flow\n\n          case 46:\n            return 63;\n            // removed by dead control flow\n\n          case 47:\n            return 64;\n            // removed by dead control flow\n\n          case 48:\n            return 64;\n            // removed by dead control flow\n\n          case 49:\n            return 64;\n            // removed by dead control flow\n\n          case 50:\n            return 64;\n            // removed by dead control flow\n\n          case 51:\n            return 64;\n            // removed by dead control flow\n\n          case 52:\n            return 65;\n            // removed by dead control flow\n\n          case 53:\n            return 64;\n            // removed by dead control flow\n\n          case 54:\n            return 65;\n            // removed by dead control flow\n\n          case 55:\n            return 66;\n            // removed by dead control flow\n\n          case 56:\n            return 66;\n            // removed by dead control flow\n\n          case 57:\n            return 66;\n            // removed by dead control flow\n\n          case 58:\n            return 66;\n            // removed by dead control flow\n\n          case 59:\n            return 63;\n            // removed by dead control flow\n\n          case 60:\n            return 64;\n            // removed by dead control flow\n\n          case 61:\n            return 65;\n            // removed by dead control flow\n\n          case 62:\n            return 67;\n            // removed by dead control flow\n\n          case 63:\n            return 68;\n            // removed by dead control flow\n\n          case 64:\n            return 69;\n            // removed by dead control flow\n\n          case 65:\n            return 69;\n            // removed by dead control flow\n\n          case 66:\n            return 68;\n            // removed by dead control flow\n\n          case 67:\n            return 68;\n            // removed by dead control flow\n\n          case 68:\n            return 68;\n            // removed by dead control flow\n\n          case 69:\n            return 41;\n            // removed by dead control flow\n\n          case 70:\n            return 47;\n            // removed by dead control flow\n\n          case 71:\n            return 40;\n            // removed by dead control flow\n\n          case 72:\n            return 48;\n            // removed by dead control flow\n\n          case 73:\n            return yy_.yytext[0];\n            // removed by dead control flow\n\n          case 74:\n            return 6;\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:accTitle\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*\\{\\s*)/i, /^(?:[\\}])/i, /^(?:[^\\}]*)/i, /^(?:.*direction\\s+TB[^\\n]*)/i, /^(?:.*direction\\s+BT[^\\n]*)/i, /^(?:.*direction\\s+RL[^\\n]*)/i, /^(?:.*direction\\s+LR[^\\n]*)/i, /^(?:[\\n]+)/i, /^(?:\\s+)/i, /^(?:[\\s]+)/i, /^(?:"[^"%\\r\\n\\v\\b\\\\]+")/i, /^(?:"[^"]*")/i, /^(?:erDiagram\\b)/i, /^(?:\\{)/i, /^(?:#)/i, /^(?:#)/i, /^(?:,)/i, /^(?::::)/i, /^(?::)/i, /^(?:\\s+)/i, /^(?:\\b((?:PK)|(?:FK)|(?:UK))\\b)/i, /^(?:([^\\s]*)[~].*[~]([^\\s]*))/i, /^(?:([\\*A-Za-z_\\u00C0-\\uFFFF][A-Za-z0-9\\-\\_\\[\\]\\(\\)\\u00C0-\\uFFFF\\*]*))/i, /^(?:"[^"]*")/i, /^(?:[\\n]+)/i, /^(?:\\})/i, /^(?:.)/i, /^(?:\\[)/i, /^(?:\\])/i, /^(?:style\\b)/i, /^(?:[\\n]+)/i, /^(?:\\s+)/i, /^(?::)/i, /^(?:,)/i, /^(?:#)/i, /^(?:classDef\\b)/i, /^(?:class\\b)/i, /^(?:one or zero\\b)/i, /^(?:one or more\\b)/i, /^(?:one or many\\b)/i, /^(?:1\\+)/i, /^(?:\\|o\\b)/i, /^(?:zero or one\\b)/i, /^(?:zero or more\\b)/i, /^(?:zero or many\\b)/i, /^(?:0\\+)/i, /^(?:\\}o\\b)/i, /^(?:many\\(0\\))/i, /^(?:many\\(1\\))/i, /^(?:many\\b)/i, /^(?:\\}\\|)/i, /^(?:one\\b)/i, /^(?:only one\\b)/i, /^(?:1\\b)/i, /^(?:\\|\\|)/i, /^(?:o\\|)/i, /^(?:o\\{)/i, /^(?:\\|\\{)/i, /^(?:\\s*u\\b)/i, /^(?:\\.\\.)/i, /^(?:--)/i, /^(?:to\\b)/i, /^(?:optionally to\\b)/i, /^(?:\\.-)/i, /^(?:-\\.)/i, /^(?:([^\\x00-\\x7F]|\\w|-|\\*)+)/i, /^(?:;)/i, /^(?:([^\\x00-\\x7F]|\\w|-|\\*)+)/i, /^(?:[0-9])/i, /^(?:.)/i, /^(?:$)/i],\n      conditions: { "style": { "rules": [34, 35, 36, 37, 38, 69, 70], "inclusive": false }, "acc_descr_multiline": { "rules": [5, 6], "inclusive": false }, "acc_descr": { "rules": [3], "inclusive": false }, "acc_title": { "rules": [1], "inclusive": false }, "block": { "rules": [23, 24, 25, 26, 27, 28, 29, 30], "inclusive": false }, "INITIAL": { "rules": [0, 2, 4, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 31, 32, 33, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 71, 72, 73, 74], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar erDiagram_default = parser;\n\n// src/diagrams/er/erDb.ts\nvar ErDB = class {\n  constructor() {\n    this.entities = /* @__PURE__ */ new Map();\n    this.relationships = [];\n    this.classes = /* @__PURE__ */ new Map();\n    this.direction = "TB";\n    this.Cardinality = {\n      ZERO_OR_ONE: "ZERO_OR_ONE",\n      ZERO_OR_MORE: "ZERO_OR_MORE",\n      ONE_OR_MORE: "ONE_OR_MORE",\n      ONLY_ONE: "ONLY_ONE",\n      MD_PARENT: "MD_PARENT"\n    };\n    this.Identification = {\n      NON_IDENTIFYING: "NON_IDENTIFYING",\n      IDENTIFYING: "IDENTIFYING"\n    };\n    this.setAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.setAccTitle;\n    this.getAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getAccTitle;\n    this.setAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.setAccDescription;\n    this.getAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getAccDescription;\n    this.setDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.setDiagramTitle;\n    this.getDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getDiagramTitle;\n    this.getConfig = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(() => (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getConfig2)().er, "getConfig");\n    this.clear();\n    this.addEntity = this.addEntity.bind(this);\n    this.addAttributes = this.addAttributes.bind(this);\n    this.addRelationship = this.addRelationship.bind(this);\n    this.setDirection = this.setDirection.bind(this);\n    this.addCssStyles = this.addCssStyles.bind(this);\n    this.addClass = this.addClass.bind(this);\n    this.setClass = this.setClass.bind(this);\n    this.setAccTitle = this.setAccTitle.bind(this);\n    this.setAccDescription = this.setAccDescription.bind(this);\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(this, "ErDB");\n  }\n  /**\n   * Add entity\n   * @param name - The name of the entity\n   * @param alias - The alias of the entity\n   */\n  addEntity(name, alias = "") {\n    if (!this.entities.has(name)) {\n      this.entities.set(name, {\n        id: `entity-${name}-${this.entities.size}`,\n        label: name,\n        attributes: [],\n        alias,\n        shape: "erBox",\n        look: (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getConfig2)().look ?? "default",\n        cssClasses: "default",\n        cssStyles: []\n      });\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log.info("Added new entity :", name);\n    } else if (!this.entities.get(name)?.alias && alias) {\n      this.entities.get(name).alias = alias;\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log.info(`Add alias \'${alias}\' to entity \'${name}\'`);\n    }\n    return this.entities.get(name);\n  }\n  getEntity(name) {\n    return this.entities.get(name);\n  }\n  getEntities() {\n    return this.entities;\n  }\n  getClasses() {\n    return this.classes;\n  }\n  addAttributes(entityName, attribs) {\n    const entity = this.addEntity(entityName);\n    let i;\n    for (i = attribs.length - 1; i >= 0; i--) {\n      if (!attribs[i].keys) {\n        attribs[i].keys = [];\n      }\n      if (!attribs[i].comment) {\n        attribs[i].comment = "";\n      }\n      entity.attributes.push(attribs[i]);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log.debug("Added attribute ", attribs[i].name);\n    }\n  }\n  /**\n   * Add a relationship\n   *\n   * @param entA - The first entity in the relationship\n   * @param rolA - The role played by the first entity in relation to the second\n   * @param entB - The second entity in the relationship\n   * @param rSpec - The details of the relationship between the two entities\n   */\n  addRelationship(entA, rolA, entB, rSpec) {\n    const entityA = this.entities.get(entA);\n    const entityB = this.entities.get(entB);\n    if (!entityA || !entityB) {\n      return;\n    }\n    const rel = {\n      entityA: entityA.id,\n      roleA: rolA,\n      entityB: entityB.id,\n      relSpec: rSpec\n    };\n    this.relationships.push(rel);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log.debug("Added new relationship :", rel);\n  }\n  getRelationships() {\n    return this.relationships;\n  }\n  getDirection() {\n    return this.direction;\n  }\n  setDirection(dir) {\n    this.direction = dir;\n  }\n  getCompiledStyles(classDefs) {\n    let compiledStyles = [];\n    for (const customClass of classDefs) {\n      const cssClass = this.classes.get(customClass);\n      if (cssClass?.styles) {\n        compiledStyles = [...compiledStyles, ...cssClass.styles ?? []].map((s) => s.trim());\n      }\n      if (cssClass?.textStyles) {\n        compiledStyles = [...compiledStyles, ...cssClass.textStyles ?? []].map((s) => s.trim());\n      }\n    }\n    return compiledStyles;\n  }\n  addCssStyles(ids, styles) {\n    for (const id of ids) {\n      const entity = this.entities.get(id);\n      if (!styles || !entity) {\n        return;\n      }\n      for (const style of styles) {\n        entity.cssStyles.push(style);\n      }\n    }\n  }\n  addClass(ids, style) {\n    ids.forEach((id) => {\n      let classNode = this.classes.get(id);\n      if (classNode === void 0) {\n        classNode = { id, styles: [], textStyles: [] };\n        this.classes.set(id, classNode);\n      }\n      if (style) {\n        style.forEach(function(s) {\n          if (/color/.exec(s)) {\n            const newStyle = s.replace("fill", "bgFill");\n            classNode.textStyles.push(newStyle);\n          }\n          classNode.styles.push(s);\n        });\n      }\n    });\n  }\n  setClass(ids, classNames) {\n    for (const id of ids) {\n      const entity = this.entities.get(id);\n      if (entity) {\n        for (const className of classNames) {\n          entity.cssClasses += " " + className;\n        }\n      }\n    }\n  }\n  clear() {\n    this.entities = /* @__PURE__ */ new Map();\n    this.classes = /* @__PURE__ */ new Map();\n    this.relationships = [];\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.clear)();\n  }\n  getData() {\n    const nodes = [];\n    const edges = [];\n    const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getConfig2)();\n    for (const entityKey of this.entities.keys()) {\n      const entityNode = this.entities.get(entityKey);\n      if (entityNode) {\n        entityNode.cssCompiledStyles = this.getCompiledStyles(entityNode.cssClasses.split(" "));\n        nodes.push(entityNode);\n      }\n    }\n    let count = 0;\n    for (const relationship of this.relationships) {\n      const edge = {\n        id: (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_9__.getEdgeId)(relationship.entityA, relationship.entityB, {\n          prefix: "id",\n          counter: count++\n        }),\n        type: "normal",\n        curve: "basis",\n        start: relationship.entityA,\n        end: relationship.entityB,\n        label: relationship.roleA,\n        labelpos: "c",\n        thickness: "normal",\n        classes: "relationshipLine",\n        arrowTypeStart: relationship.relSpec.cardB.toLowerCase(),\n        arrowTypeEnd: relationship.relSpec.cardA.toLowerCase(),\n        pattern: relationship.relSpec.relType == "IDENTIFYING" ? "solid" : "dashed",\n        look: config.look\n      };\n      edges.push(edge);\n    }\n    return { nodes, edges, other: {}, config, direction: "TB" };\n  }\n};\n\n// src/diagrams/er/erRenderer-unified.ts\nvar erRenderer_unified_exports = {};\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__export)(erRenderer_unified_exports, {\n  draw: () => draw\n});\n\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(async function(text, id, _version, diag) {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log.info("REF0:");\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log.info("Drawing er diagram (unified)", id);\n  const { securityLevel, er: conf, layout } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getConfig2)();\n  const data4Layout = diag.db.getData();\n  const svg = (0,_chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_0__.getDiagramElement)(id, securityLevel);\n  data4Layout.type = diag.type;\n  data4Layout.layoutAlgorithm = (0,_chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_2__.getRegisteredLayoutAlgorithm)(layout);\n  data4Layout.config.flowchart.nodeSpacing = conf?.nodeSpacing || 140;\n  data4Layout.config.flowchart.rankSpacing = conf?.rankSpacing || 80;\n  data4Layout.direction = diag.db.getDirection();\n  data4Layout.markers = ["only_one", "zero_or_one", "one_or_more", "zero_or_more"];\n  data4Layout.diagramId = id;\n  await (0,_chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_2__.render)(data4Layout, svg);\n  if (data4Layout.layoutAlgorithm === "elk") {\n    svg.select(".edges").lower();\n  }\n  const backgroundNodes = svg.selectAll(\'[id*="-background"]\');\n  if (Array.from(backgroundNodes).length > 0) {\n    backgroundNodes.each(function() {\n      const backgroundNode = (0,d3__WEBPACK_IMPORTED_MODULE_12__.select)(this);\n      const backgroundId = backgroundNode.attr("id");\n      const nonBackgroundId = backgroundId.replace("-background", "");\n      const nonBackgroundNode = svg.select(`#${CSS.escape(nonBackgroundId)}`);\n      if (!nonBackgroundNode.empty()) {\n        const transform = nonBackgroundNode.attr("transform");\n        backgroundNode.attr("transform", transform);\n      }\n    });\n  }\n  const padding = 8;\n  _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_9__.utils_default.insertTitle(\n    svg,\n    "erDiagramTitleText",\n    conf?.titleTopMargin ?? 25,\n    diag.db.getDiagramTitle()\n  );\n  (0,_chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_1__.setupViewPortForSVG)(svg, padding, "erDiagram", conf?.useMaxWidth ?? true);\n}, "draw");\n\n// src/diagrams/er/styles.ts\n\nvar fade = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)((color, opacity) => {\n  const channel2 = khroma__WEBPACK_IMPORTED_MODULE_14__["default"];\n  const r = channel2(color, "r");\n  const g = channel2(color, "g");\n  const b = channel2(color, "b");\n  return khroma__WEBPACK_IMPORTED_MODULE_13__["default"](r, g, b, opacity);\n}, "fade");\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)((options) => `\n  .entityBox {\n    fill: ${options.mainBkg};\n    stroke: ${options.nodeBorder};\n  }\n\n  .relationshipLabelBox {\n    fill: ${options.tertiaryColor};\n    opacity: 0.7;\n    background-color: ${options.tertiaryColor};\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n  .labelBkg {\n    background-color: ${fade(options.tertiaryColor, 0.5)};\n  }\n\n  .edgeLabel .label {\n    fill: ${options.nodeBorder};\n    font-size: 14px;\n  }\n\n  .label {\n    font-family: ${options.fontFamily};\n    color: ${options.nodeTextColor || options.textColor};\n  }\n\n  .edge-pattern-dashed {\n    stroke-dasharray: 8,8;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon\n  {\n    fill: ${options.mainBkg};\n    stroke: ${options.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .relationshipLine {\n    stroke: ${options.lineColor};\n    stroke-width: 1;\n    fill: none;\n  }\n\n  .marker {\n    fill: none !important;\n    stroke: ${options.lineColor} !important;\n    stroke-width: 1;\n  }\n`, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/er/erDiagram.ts\nvar diagram = {\n  parser: erDiagram_default,\n  get db() {\n    return new ErDB();\n  },\n  renderer: erRenderer_unified_exports,\n  styles: styles_default\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/erDiagram-Q2GNP2WA.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/flowDiagram-NV44I4VS.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_FMBD7UC4_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-FMBD7UC4.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-FMBD7UC4.mjs");\n/* harmony import */ var _chunk_MI3HLSF2_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-MI3HLSF2.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-MI3HLSF2.mjs");\n/* harmony import */ var _chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-55IACEB6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-55IACEB6.mjs");\n/* harmony import */ var _chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-QN33PNHL.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs");\n/* harmony import */ var _chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-N4CR4FBY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-N4CR4FBY.mjs");\n/* harmony import */ var _chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-QXUST7PY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QXUST7PY.mjs");\n/* harmony import */ var _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-HN2XXSSU.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HN2XXSSU.mjs");\n/* harmony import */ var _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-JZLCHNYA.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs");\n/* harmony import */ var _chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-CVBHYZKI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs");\n/* harmony import */ var _chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chunk-ATLVNIR6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/rgba.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/channel.js");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// src/diagrams/flowchart/flowDb.ts\n\nvar MERMAID_DOM_ID_PREFIX = "flowchart-";\nvar FlowDB = class {\n  // cspell:ignore funs\n  constructor() {\n    this.vertexCounter = 0;\n    this.config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.getConfig2)();\n    this.vertices = /* @__PURE__ */ new Map();\n    this.edges = [];\n    this.classes = /* @__PURE__ */ new Map();\n    this.subGraphs = [];\n    this.subGraphLookup = /* @__PURE__ */ new Map();\n    this.tooltips = /* @__PURE__ */ new Map();\n    this.subCount = 0;\n    this.firstGraphFlag = true;\n    // As in graph\n    this.secCount = -1;\n    this.posCrossRef = [];\n    // Functions to be run after graph rendering\n    this.funs = [];\n    this.setAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.setAccTitle;\n    this.setAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.setAccDescription;\n    this.setDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.setDiagramTitle;\n    this.getAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.getAccTitle;\n    this.getAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.getAccDescription;\n    this.getDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.getDiagramTitle;\n    this.funs.push(this.setupToolTips.bind(this));\n    this.addVertex = this.addVertex.bind(this);\n    this.firstGraph = this.firstGraph.bind(this);\n    this.setDirection = this.setDirection.bind(this);\n    this.addSubGraph = this.addSubGraph.bind(this);\n    this.addLink = this.addLink.bind(this);\n    this.setLink = this.setLink.bind(this);\n    this.updateLink = this.updateLink.bind(this);\n    this.addClass = this.addClass.bind(this);\n    this.setClass = this.setClass.bind(this);\n    this.destructLink = this.destructLink.bind(this);\n    this.setClickEvent = this.setClickEvent.bind(this);\n    this.setTooltip = this.setTooltip.bind(this);\n    this.updateLinkInterpolate = this.updateLinkInterpolate.bind(this);\n    this.setClickFun = this.setClickFun.bind(this);\n    this.bindFunctions = this.bindFunctions.bind(this);\n    this.lex = {\n      firstGraph: this.firstGraph.bind(this)\n    };\n    this.clear();\n    this.setGen("gen-2");\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(this, "FlowDB");\n  }\n  sanitizeText(txt) {\n    return _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.common_default.sanitizeText(txt, this.config);\n  }\n  /**\n   * Function to lookup domId from id in the graph definition.\n   *\n   * @param id - id of the node\n   */\n  lookUpDomId(id) {\n    for (const vertex of this.vertices.values()) {\n      if (vertex.id === id) {\n        return vertex.domId;\n      }\n    }\n    return id;\n  }\n  /**\n   * Function called by parser when a node definition has been found\n   */\n  addVertex(id, textObj, type, style, classes, dir, props = {}, metadata) {\n    if (!id || id.trim().length === 0) {\n      return;\n    }\n    let doc;\n    if (metadata !== void 0) {\n      let yamlData;\n      if (!metadata.includes("\\n")) {\n        yamlData = "{\\n" + metadata + "\\n}";\n      } else {\n        yamlData = metadata + "\\n";\n      }\n      doc = (0,_chunk_MI3HLSF2_mjs__WEBPACK_IMPORTED_MODULE_1__.load)(yamlData, { schema: _chunk_MI3HLSF2_mjs__WEBPACK_IMPORTED_MODULE_1__.JSON_SCHEMA });\n    }\n    const edge = this.edges.find((e) => e.id === id);\n    if (edge) {\n      const edgeDoc = doc;\n      if (edgeDoc?.animate !== void 0) {\n        edge.animate = edgeDoc.animate;\n      }\n      if (edgeDoc?.animation !== void 0) {\n        edge.animation = edgeDoc.animation;\n      }\n      if (edgeDoc?.curve !== void 0) {\n        edge.interpolate = edgeDoc.curve;\n      }\n      return;\n    }\n    let txt;\n    let vertex = this.vertices.get(id);\n    if (vertex === void 0) {\n      vertex = {\n        id,\n        labelType: "text",\n        domId: MERMAID_DOM_ID_PREFIX + id + "-" + this.vertexCounter,\n        styles: [],\n        classes: []\n      };\n      this.vertices.set(id, vertex);\n    }\n    this.vertexCounter++;\n    if (textObj !== void 0) {\n      this.config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.getConfig2)();\n      txt = this.sanitizeText(textObj.text.trim());\n      vertex.labelType = textObj.type;\n      if (txt.startsWith(\'"\') && txt.endsWith(\'"\')) {\n        txt = txt.substring(1, txt.length - 1);\n      }\n      vertex.text = txt;\n    } else {\n      if (vertex.text === void 0) {\n        vertex.text = id;\n      }\n    }\n    if (type !== void 0) {\n      vertex.type = type;\n    }\n    if (style !== void 0 && style !== null) {\n      style.forEach((s) => {\n        vertex.styles.push(s);\n      });\n    }\n    if (classes !== void 0 && classes !== null) {\n      classes.forEach((s) => {\n        vertex.classes.push(s);\n      });\n    }\n    if (dir !== void 0) {\n      vertex.dir = dir;\n    }\n    if (vertex.props === void 0) {\n      vertex.props = props;\n    } else if (props !== void 0) {\n      Object.assign(vertex.props, props);\n    }\n    if (doc !== void 0) {\n      if (doc.shape) {\n        if (doc.shape !== doc.shape.toLowerCase() || doc.shape.includes("_")) {\n          throw new Error(`No such shape: ${doc.shape}. Shape names should be lowercase.`);\n        } else if (!(0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_7__.isValidShape)(doc.shape)) {\n          throw new Error(`No such shape: ${doc.shape}.`);\n        }\n        vertex.type = doc?.shape;\n      }\n      if (doc?.label) {\n        vertex.text = doc?.label;\n      }\n      if (doc?.icon) {\n        vertex.icon = doc?.icon;\n        if (!doc.label?.trim() && vertex.text === id) {\n          vertex.text = "";\n        }\n      }\n      if (doc?.form) {\n        vertex.form = doc?.form;\n      }\n      if (doc?.pos) {\n        vertex.pos = doc?.pos;\n      }\n      if (doc?.img) {\n        vertex.img = doc?.img;\n        if (!doc.label?.trim() && vertex.text === id) {\n          vertex.text = "";\n        }\n      }\n      if (doc?.constraint) {\n        vertex.constraint = doc.constraint;\n      }\n      if (doc.w) {\n        vertex.assetWidth = Number(doc.w);\n      }\n      if (doc.h) {\n        vertex.assetHeight = Number(doc.h);\n      }\n    }\n  }\n  /**\n   * Function called by parser when a link/edge definition has been found\n   *\n   */\n  addSingleLink(_start, _end, type, id) {\n    const start = _start;\n    const end = _end;\n    const edge = {\n      start,\n      end,\n      type: void 0,\n      text: "",\n      labelType: "text",\n      classes: [],\n      isUserDefinedId: false,\n      interpolate: this.edges.defaultInterpolate\n    };\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.log.info("abc78 Got edge...", edge);\n    const linkTextObj = type.text;\n    if (linkTextObj !== void 0) {\n      edge.text = this.sanitizeText(linkTextObj.text.trim());\n      if (edge.text.startsWith(\'"\') && edge.text.endsWith(\'"\')) {\n        edge.text = edge.text.substring(1, edge.text.length - 1);\n      }\n      edge.labelType = linkTextObj.type;\n    }\n    if (type !== void 0) {\n      edge.type = type.type;\n      edge.stroke = type.stroke;\n      edge.length = type.length > 10 ? 10 : type.length;\n    }\n    if (id && !this.edges.some((e) => e.id === id)) {\n      edge.id = id;\n      edge.isUserDefinedId = true;\n    } else {\n      const existingLinks = this.edges.filter((e) => e.start === edge.start && e.end === edge.end);\n      if (existingLinks.length === 0) {\n        edge.id = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_11__.getEdgeId)(edge.start, edge.end, { counter: 0, prefix: "L" });\n      } else {\n        edge.id = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_11__.getEdgeId)(edge.start, edge.end, {\n          counter: existingLinks.length + 1,\n          prefix: "L"\n        });\n      }\n    }\n    if (this.edges.length < (this.config.maxEdges ?? 500)) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.log.info("Pushing edge...");\n      this.edges.push(edge);\n    } else {\n      throw new Error(\n        `Edge limit exceeded. ${this.edges.length} edges found, but the limit is ${this.config.maxEdges}.\n\nInitialize mermaid with maxEdges set to a higher number to allow more edges.\nYou cannot set this config via configuration inside the diagram as it is a secure config.\nYou have to call mermaid.initialize.`\n      );\n    }\n  }\n  isLinkData(value) {\n    return value !== null && typeof value === "object" && "id" in value && typeof value.id === "string";\n  }\n  addLink(_start, _end, linkData) {\n    const id = this.isLinkData(linkData) ? linkData.id.replace("@", "") : void 0;\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.log.info("addLink", _start, _end, id);\n    for (const start of _start) {\n      for (const end of _end) {\n        const isLastStart = start === _start[_start.length - 1];\n        const isFirstEnd = end === _end[0];\n        if (isLastStart && isFirstEnd) {\n          this.addSingleLink(start, end, linkData, id);\n        } else {\n          this.addSingleLink(start, end, linkData, void 0);\n        }\n      }\n    }\n  }\n  /**\n   * Updates a link\'s line interpolation algorithm\n   */\n  updateLinkInterpolate(positions, interpolate) {\n    positions.forEach((pos) => {\n      if (pos === "default") {\n        this.edges.defaultInterpolate = interpolate;\n      } else {\n        this.edges[pos].interpolate = interpolate;\n      }\n    });\n  }\n  /**\n   * Updates a link with a style\n   *\n   */\n  updateLink(positions, style) {\n    positions.forEach((pos) => {\n      if (typeof pos === "number" && pos >= this.edges.length) {\n        throw new Error(\n          `The index ${pos} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${this.edges.length - 1}. (Help: Ensure that the index is within the range of existing edges.)`\n        );\n      }\n      if (pos === "default") {\n        this.edges.defaultStyle = style;\n      } else {\n        this.edges[pos].style = style;\n        if ((this.edges[pos]?.style?.length ?? 0) > 0 && !this.edges[pos]?.style?.some((s) => s?.startsWith("fill"))) {\n          this.edges[pos]?.style?.push("fill:none");\n        }\n      }\n    });\n  }\n  addClass(ids, _style) {\n    const style = _style.join().replace(/\\\\,/g, "\\xA7\\xA7\\xA7").replace(/,/g, ";").replace(//g, ",").split(";");\n    ids.split(",").forEach((id) => {\n      let classNode = this.classes.get(id);\n      if (classNode === void 0) {\n        classNode = { id, styles: [], textStyles: [] };\n        this.classes.set(id, classNode);\n      }\n      if (style !== void 0 && style !== null) {\n        style.forEach((s) => {\n          if (/color/.exec(s)) {\n            const newStyle = s.replace("fill", "bgFill");\n            classNode.textStyles.push(newStyle);\n          }\n          classNode.styles.push(s);\n        });\n      }\n    });\n  }\n  /**\n   * Called by parser when a graph definition is found, stores the direction of the chart.\n   *\n   */\n  setDirection(dir) {\n    this.direction = dir.trim();\n    if (/.*</.exec(this.direction)) {\n      this.direction = "RL";\n    }\n    if (/.*\\^/.exec(this.direction)) {\n      this.direction = "BT";\n    }\n    if (/.*>/.exec(this.direction)) {\n      this.direction = "LR";\n    }\n    if (/.*v/.exec(this.direction)) {\n      this.direction = "TB";\n    }\n    if (this.direction === "TD") {\n      this.direction = "TB";\n    }\n  }\n  /**\n   * Called by parser when a special node is found, e.g. a clickable element.\n   *\n   * @param ids - Comma separated list of ids\n   * @param className - Class to add\n   */\n  setClass(ids, className) {\n    for (const id of ids.split(",")) {\n      const vertex = this.vertices.get(id);\n      if (vertex) {\n        vertex.classes.push(className);\n      }\n      const edge = this.edges.find((e) => e.id === id);\n      if (edge) {\n        edge.classes.push(className);\n      }\n      const subGraph = this.subGraphLookup.get(id);\n      if (subGraph) {\n        subGraph.classes.push(className);\n      }\n    }\n  }\n  setTooltip(ids, tooltip) {\n    if (tooltip === void 0) {\n      return;\n    }\n    tooltip = this.sanitizeText(tooltip);\n    for (const id of ids.split(",")) {\n      this.tooltips.set(this.version === "gen-1" ? this.lookUpDomId(id) : id, tooltip);\n    }\n  }\n  setClickFun(id, functionName, functionArgs) {\n    const domId = this.lookUpDomId(id);\n    if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.getConfig2)().securityLevel !== "loose") {\n      return;\n    }\n    if (functionName === void 0) {\n      return;\n    }\n    let argList = [];\n    if (typeof functionArgs === "string") {\n      argList = functionArgs.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);\n      for (let i = 0; i < argList.length; i++) {\n        let item = argList[i].trim();\n        if (item.startsWith(\'"\') && item.endsWith(\'"\')) {\n          item = item.substr(1, item.length - 2);\n        }\n        argList[i] = item;\n      }\n    }\n    if (argList.length === 0) {\n      argList.push(id);\n    }\n    const vertex = this.vertices.get(id);\n    if (vertex) {\n      vertex.haveCallback = true;\n      this.funs.push(() => {\n        const elem = document.querySelector(`[id="${domId}"]`);\n        if (elem !== null) {\n          elem.addEventListener(\n            "click",\n            () => {\n              _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_11__.utils_default.runFunc(functionName, ...argList);\n            },\n            false\n          );\n        }\n      });\n    }\n  }\n  /**\n   * Called by parser when a link is found. Adds the URL to the vertex data.\n   *\n   * @param ids - Comma separated list of ids\n   * @param linkStr - URL to create a link for\n   * @param target - Target attribute for the link\n   */\n  setLink(ids, linkStr, target) {\n    ids.split(",").forEach((id) => {\n      const vertex = this.vertices.get(id);\n      if (vertex !== void 0) {\n        vertex.link = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_11__.utils_default.formatUrl(linkStr, this.config);\n        vertex.linkTarget = target;\n      }\n    });\n    this.setClass(ids, "clickable");\n  }\n  getTooltip(id) {\n    return this.tooltips.get(id);\n  }\n  /**\n   * Called by parser when a click definition is found. Registers an event handler.\n   *\n   * @param ids - Comma separated list of ids\n   * @param functionName - Function to be called on click\n   * @param functionArgs - Arguments to be passed to the function\n   */\n  setClickEvent(ids, functionName, functionArgs) {\n    ids.split(",").forEach((id) => {\n      this.setClickFun(id, functionName, functionArgs);\n    });\n    this.setClass(ids, "clickable");\n  }\n  bindFunctions(element) {\n    this.funs.forEach((fun) => {\n      fun(element);\n    });\n  }\n  getDirection() {\n    return this.direction?.trim();\n  }\n  /**\n   * Retrieval function for fetching the found nodes after parsing has completed.\n   *\n   */\n  getVertices() {\n    return this.vertices;\n  }\n  /**\n   * Retrieval function for fetching the found links after parsing has completed.\n   *\n   */\n  getEdges() {\n    return this.edges;\n  }\n  /**\n   * Retrieval function for fetching the found class definitions after parsing has completed.\n   *\n   */\n  getClasses() {\n    return this.classes;\n  }\n  setupToolTips(element) {\n    let tooltipElem = (0,d3__WEBPACK_IMPORTED_MODULE_14__.select)(".mermaidTooltip");\n    if ((tooltipElem._groups || tooltipElem)[0][0] === null) {\n      tooltipElem = (0,d3__WEBPACK_IMPORTED_MODULE_14__.select)("body").append("div").attr("class", "mermaidTooltip").style("opacity", 0);\n    }\n    const svg = (0,d3__WEBPACK_IMPORTED_MODULE_14__.select)(element).select("svg");\n    const nodes = svg.selectAll("g.node");\n    nodes.on("mouseover", (e) => {\n      const el = (0,d3__WEBPACK_IMPORTED_MODULE_14__.select)(e.currentTarget);\n      const title = el.attr("title");\n      if (title === null) {\n        return;\n      }\n      const rect = e.currentTarget?.getBoundingClientRect();\n      tooltipElem.transition().duration(200).style("opacity", ".9");\n      tooltipElem.text(el.attr("title")).style("left", window.scrollX + rect.left + (rect.right - rect.left) / 2 + "px").style("top", window.scrollY + rect.bottom + "px");\n      tooltipElem.html(tooltipElem.html().replace(/&lt;br\\/&gt;/g, "<br/>"));\n      el.classed("hover", true);\n    }).on("mouseout", (e) => {\n      tooltipElem.transition().duration(500).style("opacity", 0);\n      const el = (0,d3__WEBPACK_IMPORTED_MODULE_14__.select)(e.currentTarget);\n      el.classed("hover", false);\n    });\n  }\n  /**\n   * Clears the internal graph db so that a new graph can be parsed.\n   *\n   */\n  clear(ver = "gen-2") {\n    this.vertices = /* @__PURE__ */ new Map();\n    this.classes = /* @__PURE__ */ new Map();\n    this.edges = [];\n    this.funs = [this.setupToolTips.bind(this)];\n    this.subGraphs = [];\n    this.subGraphLookup = /* @__PURE__ */ new Map();\n    this.subCount = 0;\n    this.tooltips = /* @__PURE__ */ new Map();\n    this.firstGraphFlag = true;\n    this.version = ver;\n    this.config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.getConfig2)();\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.clear)();\n  }\n  setGen(ver) {\n    this.version = ver || "gen-2";\n  }\n  defaultStyle() {\n    return "fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;";\n  }\n  addSubGraph(_id, list, _title) {\n    let id = _id.text.trim();\n    let title = _title.text;\n    if (_id === _title && /\\s/.exec(_title.text)) {\n      id = void 0;\n    }\n    const uniq = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)((a) => {\n      const prims = { boolean: {}, number: {}, string: {} };\n      const objs = [];\n      let dir2;\n      const nodeList2 = a.filter(function(item) {\n        const type = typeof item;\n        if (item.stmt && item.stmt === "dir") {\n          dir2 = item.value;\n          return false;\n        }\n        if (item.trim() === "") {\n          return false;\n        }\n        if (type in prims) {\n          return prims[type].hasOwnProperty(item) ? false : prims[type][item] = true;\n        } else {\n          return objs.includes(item) ? false : objs.push(item);\n        }\n      });\n      return { nodeList: nodeList2, dir: dir2 };\n    }, "uniq");\n    const result = uniq(list.flat());\n    const nodeList = result.nodeList;\n    let dir = result.dir;\n    const flowchartConfig = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.getConfig2)().flowchart ?? {};\n    dir = dir ?? (flowchartConfig.inheritDir ? this.getDirection() ?? (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.getConfig2)().direction ?? void 0 : void 0);\n    if (this.version === "gen-1") {\n      for (let i = 0; i < nodeList.length; i++) {\n        nodeList[i] = this.lookUpDomId(nodeList[i]);\n      }\n    }\n    id = id ?? "subGraph" + this.subCount;\n    title = title || "";\n    title = this.sanitizeText(title);\n    this.subCount = this.subCount + 1;\n    const subGraph = {\n      id,\n      nodes: nodeList,\n      title: title.trim(),\n      classes: [],\n      dir,\n      labelType: _title.type\n    };\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.log.info("Adding", subGraph.id, subGraph.nodes, subGraph.dir);\n    subGraph.nodes = this.makeUniq(subGraph, this.subGraphs).nodes;\n    this.subGraphs.push(subGraph);\n    this.subGraphLookup.set(id, subGraph);\n    return id;\n  }\n  getPosForId(id) {\n    for (const [i, subGraph] of this.subGraphs.entries()) {\n      if (subGraph.id === id) {\n        return i;\n      }\n    }\n    return -1;\n  }\n  indexNodes2(id, pos) {\n    const nodes = this.subGraphs[pos].nodes;\n    this.secCount = this.secCount + 1;\n    if (this.secCount > 2e3) {\n      return {\n        result: false,\n        count: 0\n      };\n    }\n    this.posCrossRef[this.secCount] = pos;\n    if (this.subGraphs[pos].id === id) {\n      return {\n        result: true,\n        count: 0\n      };\n    }\n    let count = 0;\n    let posCount = 1;\n    while (count < nodes.length) {\n      const childPos = this.getPosForId(nodes[count]);\n      if (childPos >= 0) {\n        const res = this.indexNodes2(id, childPos);\n        if (res.result) {\n          return {\n            result: true,\n            count: posCount + res.count\n          };\n        } else {\n          posCount = posCount + res.count;\n        }\n      }\n      count = count + 1;\n    }\n    return {\n      result: false,\n      count: posCount\n    };\n  }\n  getDepthFirstPos(pos) {\n    return this.posCrossRef[pos];\n  }\n  indexNodes() {\n    this.secCount = -1;\n    if (this.subGraphs.length > 0) {\n      this.indexNodes2("none", this.subGraphs.length - 1);\n    }\n  }\n  getSubGraphs() {\n    return this.subGraphs;\n  }\n  firstGraph() {\n    if (this.firstGraphFlag) {\n      this.firstGraphFlag = false;\n      return true;\n    }\n    return false;\n  }\n  destructStartLink(_str) {\n    let str = _str.trim();\n    let type = "arrow_open";\n    switch (str[0]) {\n      case "<":\n        type = "arrow_point";\n        str = str.slice(1);\n        break;\n      case "x":\n        type = "arrow_cross";\n        str = str.slice(1);\n        break;\n      case "o":\n        type = "arrow_circle";\n        str = str.slice(1);\n        break;\n    }\n    let stroke = "normal";\n    if (str.includes("=")) {\n      stroke = "thick";\n    }\n    if (str.includes(".")) {\n      stroke = "dotted";\n    }\n    return { type, stroke };\n  }\n  countChar(char, str) {\n    const length = str.length;\n    let count = 0;\n    for (let i = 0; i < length; ++i) {\n      if (str[i] === char) {\n        ++count;\n      }\n    }\n    return count;\n  }\n  destructEndLink(_str) {\n    const str = _str.trim();\n    let line = str.slice(0, -1);\n    let type = "arrow_open";\n    switch (str.slice(-1)) {\n      case "x":\n        type = "arrow_cross";\n        if (str.startsWith("x")) {\n          type = "double_" + type;\n          line = line.slice(1);\n        }\n        break;\n      case ">":\n        type = "arrow_point";\n        if (str.startsWith("<")) {\n          type = "double_" + type;\n          line = line.slice(1);\n        }\n        break;\n      case "o":\n        type = "arrow_circle";\n        if (str.startsWith("o")) {\n          type = "double_" + type;\n          line = line.slice(1);\n        }\n        break;\n    }\n    let stroke = "normal";\n    let length = line.length - 1;\n    if (line.startsWith("=")) {\n      stroke = "thick";\n    }\n    if (line.startsWith("~")) {\n      stroke = "invisible";\n    }\n    const dots = this.countChar(".", line);\n    if (dots) {\n      stroke = "dotted";\n      length = dots;\n    }\n    return { type, stroke, length };\n  }\n  destructLink(_str, _startStr) {\n    const info = this.destructEndLink(_str);\n    let startInfo;\n    if (_startStr) {\n      startInfo = this.destructStartLink(_startStr);\n      if (startInfo.stroke !== info.stroke) {\n        return { type: "INVALID", stroke: "INVALID" };\n      }\n      if (startInfo.type === "arrow_open") {\n        startInfo.type = info.type;\n      } else {\n        if (startInfo.type !== info.type) {\n          return { type: "INVALID", stroke: "INVALID" };\n        }\n        startInfo.type = "double_" + startInfo.type;\n      }\n      if (startInfo.type === "double_arrow") {\n        startInfo.type = "double_arrow_point";\n      }\n      startInfo.length = info.length;\n      return startInfo;\n    }\n    return info;\n  }\n  // Todo optimizer this by caching existing nodes\n  exists(allSgs, _id) {\n    for (const sg of allSgs) {\n      if (sg.nodes.includes(_id)) {\n        return true;\n      }\n    }\n    return false;\n  }\n  /**\n   * Deletes an id from all subgraphs\n   *\n   */\n  makeUniq(sg, allSubgraphs) {\n    const res = [];\n    sg.nodes.forEach((_id, pos) => {\n      if (!this.exists(allSubgraphs, _id)) {\n        res.push(sg.nodes[pos]);\n      }\n    });\n    return { nodes: res };\n  }\n  getTypeFromVertex(vertex) {\n    if (vertex.img) {\n      return "imageSquare";\n    }\n    if (vertex.icon) {\n      if (vertex.form === "circle") {\n        return "iconCircle";\n      }\n      if (vertex.form === "square") {\n        return "iconSquare";\n      }\n      if (vertex.form === "rounded") {\n        return "iconRounded";\n      }\n      return "icon";\n    }\n    switch (vertex.type) {\n      case "square":\n      case void 0:\n        return "squareRect";\n      case "round":\n        return "roundedRect";\n      case "ellipse":\n        return "ellipse";\n      default:\n        return vertex.type;\n    }\n  }\n  findNode(nodes, id) {\n    return nodes.find((node) => node.id === id);\n  }\n  destructEdgeType(type) {\n    let arrowTypeStart = "none";\n    let arrowTypeEnd = "arrow_point";\n    switch (type) {\n      case "arrow_point":\n      case "arrow_circle":\n      case "arrow_cross":\n        arrowTypeEnd = type;\n        break;\n      case "double_arrow_point":\n      case "double_arrow_circle":\n      case "double_arrow_cross":\n        arrowTypeStart = type.replace("double_", "");\n        arrowTypeEnd = arrowTypeStart;\n        break;\n    }\n    return { arrowTypeStart, arrowTypeEnd };\n  }\n  addNodeFromVertex(vertex, nodes, parentDB, subGraphDB, config, look) {\n    const parentId = parentDB.get(vertex.id);\n    const isGroup = subGraphDB.get(vertex.id) ?? false;\n    const node = this.findNode(nodes, vertex.id);\n    if (node) {\n      node.cssStyles = vertex.styles;\n      node.cssCompiledStyles = this.getCompiledStyles(vertex.classes);\n      node.cssClasses = vertex.classes.join(" ");\n    } else {\n      const baseNode = {\n        id: vertex.id,\n        label: vertex.text,\n        labelStyle: "",\n        parentId,\n        padding: config.flowchart?.padding || 8,\n        cssStyles: vertex.styles,\n        cssCompiledStyles: this.getCompiledStyles(["default", "node", ...vertex.classes]),\n        cssClasses: "default " + vertex.classes.join(" "),\n        dir: vertex.dir,\n        domId: vertex.domId,\n        look,\n        link: vertex.link,\n        linkTarget: vertex.linkTarget,\n        tooltip: this.getTooltip(vertex.id),\n        icon: vertex.icon,\n        pos: vertex.pos,\n        img: vertex.img,\n        assetWidth: vertex.assetWidth,\n        assetHeight: vertex.assetHeight,\n        constraint: vertex.constraint\n      };\n      if (isGroup) {\n        nodes.push({\n          ...baseNode,\n          isGroup: true,\n          shape: "rect"\n        });\n      } else {\n        nodes.push({\n          ...baseNode,\n          isGroup: false,\n          shape: this.getTypeFromVertex(vertex)\n        });\n      }\n    }\n  }\n  getCompiledStyles(classDefs) {\n    let compiledStyles = [];\n    for (const customClass of classDefs) {\n      const cssClass = this.classes.get(customClass);\n      if (cssClass?.styles) {\n        compiledStyles = [...compiledStyles, ...cssClass.styles ?? []].map((s) => s.trim());\n      }\n      if (cssClass?.textStyles) {\n        compiledStyles = [...compiledStyles, ...cssClass.textStyles ?? []].map((s) => s.trim());\n      }\n    }\n    return compiledStyles;\n  }\n  getData() {\n    const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.getConfig2)();\n    const nodes = [];\n    const edges = [];\n    const subGraphs = this.getSubGraphs();\n    const parentDB = /* @__PURE__ */ new Map();\n    const subGraphDB = /* @__PURE__ */ new Map();\n    for (let i = subGraphs.length - 1; i >= 0; i--) {\n      const subGraph = subGraphs[i];\n      if (subGraph.nodes.length > 0) {\n        subGraphDB.set(subGraph.id, true);\n      }\n      for (const id of subGraph.nodes) {\n        parentDB.set(id, subGraph.id);\n      }\n    }\n    for (let i = subGraphs.length - 1; i >= 0; i--) {\n      const subGraph = subGraphs[i];\n      nodes.push({\n        id: subGraph.id,\n        label: subGraph.title,\n        labelStyle: "",\n        parentId: parentDB.get(subGraph.id),\n        padding: 8,\n        cssCompiledStyles: this.getCompiledStyles(subGraph.classes),\n        cssClasses: subGraph.classes.join(" "),\n        shape: "rect",\n        dir: subGraph.dir,\n        isGroup: true,\n        look: config.look\n      });\n    }\n    const n = this.getVertices();\n    n.forEach((vertex) => {\n      this.addNodeFromVertex(vertex, nodes, parentDB, subGraphDB, config, config.look || "classic");\n    });\n    const e = this.getEdges();\n    e.forEach((rawEdge, index) => {\n      const { arrowTypeStart, arrowTypeEnd } = this.destructEdgeType(rawEdge.type);\n      const styles = [...e.defaultStyle ?? []];\n      if (rawEdge.style) {\n        styles.push(...rawEdge.style);\n      }\n      const edge = {\n        id: (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_11__.getEdgeId)(rawEdge.start, rawEdge.end, { counter: index, prefix: "L" }, rawEdge.id),\n        isUserDefinedId: rawEdge.isUserDefinedId,\n        start: rawEdge.start,\n        end: rawEdge.end,\n        type: rawEdge.type ?? "normal",\n        label: rawEdge.text,\n        labelpos: "c",\n        thickness: rawEdge.stroke,\n        minlen: rawEdge.length,\n        classes: rawEdge?.stroke === "invisible" ? "" : "edge-thickness-normal edge-pattern-solid flowchart-link",\n        arrowTypeStart: rawEdge?.stroke === "invisible" || rawEdge?.type === "arrow_open" ? "none" : arrowTypeStart,\n        arrowTypeEnd: rawEdge?.stroke === "invisible" || rawEdge?.type === "arrow_open" ? "none" : arrowTypeEnd,\n        arrowheadStyle: "fill: #333",\n        cssCompiledStyles: this.getCompiledStyles(rawEdge.classes),\n        labelStyle: styles,\n        style: styles,\n        pattern: rawEdge.stroke,\n        look: config.look,\n        animate: rawEdge.animate,\n        animation: rawEdge.animation,\n        curve: rawEdge.interpolate || this.edges.defaultInterpolate || config.flowchart?.curve\n      };\n      edges.push(edge);\n    });\n    return { nodes, edges, other: {}, config };\n  }\n  defaultConfig() {\n    return _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.defaultConfig2.flowchart;\n  }\n};\n\n// src/diagrams/flowchart/flowRenderer-v3-unified.ts\n\nvar getClasses = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function(text, diagramObj) {\n  return diagramObj.db.getClasses();\n}, "getClasses");\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(async function(text, id, _version, diag) {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.log.info("REF0:");\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.log.info("Drawing state diagram (v2)", id);\n  const { securityLevel, flowchart: conf, layout } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.getConfig2)();\n  let sandboxElement;\n  if (securityLevel === "sandbox") {\n    sandboxElement = (0,d3__WEBPACK_IMPORTED_MODULE_14__.select)("#i" + id);\n  }\n  const doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.log.debug("Before getData: ");\n  const data4Layout = diag.db.getData();\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.log.debug("Data: ", data4Layout);\n  const svg = (0,_chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_2__.getDiagramElement)(id, securityLevel);\n  const direction = diag.db.getDirection();\n  data4Layout.type = diag.type;\n  data4Layout.layoutAlgorithm = (0,_chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_4__.getRegisteredLayoutAlgorithm)(layout);\n  if (data4Layout.layoutAlgorithm === "dagre" && layout === "elk") {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.log.warn(\n      "flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."\n    );\n  }\n  data4Layout.direction = direction;\n  data4Layout.nodeSpacing = conf?.nodeSpacing || 50;\n  data4Layout.rankSpacing = conf?.rankSpacing || 50;\n  data4Layout.markers = ["point", "circle", "cross"];\n  data4Layout.diagramId = id;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.log.debug("REF1:", data4Layout);\n  await (0,_chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_4__.render)(data4Layout, svg);\n  const padding = data4Layout.config.flowchart?.diagramPadding ?? 8;\n  _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_11__.utils_default.insertTitle(\n    svg,\n    "flowchartTitleText",\n    conf?.titleTopMargin || 0,\n    diag.db.getDiagramTitle()\n  );\n  (0,_chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_3__.setupViewPortForSVG)(svg, padding, "flowchart", conf?.useMaxWidth || false);\n  for (const vertex of data4Layout.nodes) {\n    const node = (0,d3__WEBPACK_IMPORTED_MODULE_14__.select)(`#${id} [id="${vertex.id}"]`);\n    if (!node || !vertex.link) {\n      continue;\n    }\n    const link = doc.createElementNS("http://www.w3.org/2000/svg", "a");\n    link.setAttributeNS("http://www.w3.org/2000/svg", "class", vertex.cssClasses);\n    link.setAttributeNS("http://www.w3.org/2000/svg", "rel", "noopener");\n    if (securityLevel === "sandbox") {\n      link.setAttributeNS("http://www.w3.org/2000/svg", "target", "_top");\n    } else if (vertex.linkTarget) {\n      link.setAttributeNS("http://www.w3.org/2000/svg", "target", vertex.linkTarget);\n    }\n    const linkNode = node.insert(function() {\n      return link;\n    }, ":first-child");\n    const shape = node.select(".label-container");\n    if (shape) {\n      linkNode.append(function() {\n        return shape.node();\n      });\n    }\n    const label = node.select(".label");\n    if (label) {\n      linkNode.append(function() {\n        return label.node();\n      });\n    }\n  }\n}, "draw");\nvar flowRenderer_v3_unified_default = {\n  getClasses,\n  draw\n};\n\n// src/diagrams/flowchart/parser/flow.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [1, 4], $V1 = [1, 3], $V2 = [1, 5], $V3 = [1, 8, 9, 10, 11, 27, 34, 36, 38, 44, 60, 84, 85, 86, 87, 88, 89, 102, 105, 106, 109, 111, 114, 115, 116, 121, 122, 123, 124], $V4 = [2, 2], $V5 = [1, 13], $V6 = [1, 14], $V7 = [1, 15], $V8 = [1, 16], $V9 = [1, 23], $Va = [1, 25], $Vb = [1, 26], $Vc = [1, 27], $Vd = [1, 49], $Ve = [1, 48], $Vf = [1, 29], $Vg = [1, 30], $Vh = [1, 31], $Vi = [1, 32], $Vj = [1, 33], $Vk = [1, 44], $Vl = [1, 46], $Vm = [1, 42], $Vn = [1, 47], $Vo = [1, 43], $Vp = [1, 50], $Vq = [1, 45], $Vr = [1, 51], $Vs = [1, 52], $Vt = [1, 34], $Vu = [1, 35], $Vv = [1, 36], $Vw = [1, 37], $Vx = [1, 57], $Vy = [1, 8, 9, 10, 11, 27, 32, 34, 36, 38, 44, 60, 84, 85, 86, 87, 88, 89, 102, 105, 106, 109, 111, 114, 115, 116, 121, 122, 123, 124], $Vz = [1, 61], $VA = [1, 60], $VB = [1, 62], $VC = [8, 9, 11, 75, 77, 78], $VD = [1, 78], $VE = [1, 91], $VF = [1, 96], $VG = [1, 95], $VH = [1, 92], $VI = [1, 88], $VJ = [1, 94], $VK = [1, 90], $VL = [1, 97], $VM = [1, 93], $VN = [1, 98], $VO = [1, 89], $VP = [8, 9, 10, 11, 40, 75, 77, 78], $VQ = [8, 9, 10, 11, 40, 46, 75, 77, 78], $VR = [8, 9, 10, 11, 29, 40, 44, 46, 48, 50, 52, 54, 56, 58, 60, 63, 65, 67, 68, 70, 75, 77, 78, 89, 102, 105, 106, 109, 111, 114, 115, 116], $VS = [8, 9, 11, 44, 60, 75, 77, 78, 89, 102, 105, 106, 109, 111, 114, 115, 116], $VT = [44, 60, 89, 102, 105, 106, 109, 111, 114, 115, 116], $VU = [1, 121], $VV = [1, 122], $VW = [1, 124], $VX = [1, 123], $VY = [44, 60, 62, 74, 89, 102, 105, 106, 109, 111, 114, 115, 116], $VZ = [1, 133], $V_ = [1, 147], $V$ = [1, 148], $V01 = [1, 149], $V11 = [1, 150], $V21 = [1, 135], $V31 = [1, 137], $V41 = [1, 141], $V51 = [1, 142], $V61 = [1, 143], $V71 = [1, 144], $V81 = [1, 145], $V91 = [1, 146], $Va1 = [1, 151], $Vb1 = [1, 152], $Vc1 = [1, 131], $Vd1 = [1, 132], $Ve1 = [1, 139], $Vf1 = [1, 134], $Vg1 = [1, 138], $Vh1 = [1, 136], $Vi1 = [8, 9, 10, 11, 27, 32, 34, 36, 38, 44, 60, 84, 85, 86, 87, 88, 89, 102, 105, 106, 109, 111, 114, 115, 116, 121, 122, 123, 124], $Vj1 = [1, 154], $Vk1 = [1, 156], $Vl1 = [8, 9, 11], $Vm1 = [8, 9, 10, 11, 14, 44, 60, 89, 105, 106, 109, 111, 114, 115, 116], $Vn1 = [1, 176], $Vo1 = [1, 172], $Vp1 = [1, 173], $Vq1 = [1, 177], $Vr1 = [1, 174], $Vs1 = [1, 175], $Vt1 = [77, 116, 119], $Vu1 = [8, 9, 10, 11, 12, 14, 27, 29, 32, 44, 60, 75, 84, 85, 86, 87, 88, 89, 90, 105, 109, 111, 114, 115, 116], $Vv1 = [10, 106], $Vw1 = [31, 49, 51, 53, 55, 57, 62, 64, 66, 67, 69, 71, 116, 117, 118], $Vx1 = [1, 247], $Vy1 = [1, 245], $Vz1 = [1, 249], $VA1 = [1, 243], $VB1 = [1, 244], $VC1 = [1, 246], $VD1 = [1, 248], $VE1 = [1, 250], $VF1 = [1, 268], $VG1 = [8, 9, 11, 106], $VH1 = [8, 9, 10, 11, 60, 84, 105, 106, 109, 110, 111, 112];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "start": 3, "graphConfig": 4, "document": 5, "line": 6, "statement": 7, "SEMI": 8, "NEWLINE": 9, "SPACE": 10, "EOF": 11, "GRAPH": 12, "NODIR": 13, "DIR": 14, "FirstStmtSeparator": 15, "ending": 16, "endToken": 17, "spaceList": 18, "spaceListNewline": 19, "vertexStatement": 20, "separator": 21, "styleStatement": 22, "linkStyleStatement": 23, "classDefStatement": 24, "classStatement": 25, "clickStatement": 26, "subgraph": 27, "textNoTags": 28, "SQS": 29, "text": 30, "SQE": 31, "end": 32, "direction": 33, "acc_title": 34, "acc_title_value": 35, "acc_descr": 36, "acc_descr_value": 37, "acc_descr_multiline_value": 38, "shapeData": 39, "SHAPE_DATA": 40, "link": 41, "node": 42, "styledVertex": 43, "AMP": 44, "vertex": 45, "STYLE_SEPARATOR": 46, "idString": 47, "DOUBLECIRCLESTART": 48, "DOUBLECIRCLEEND": 49, "PS": 50, "PE": 51, "(-": 52, "-)": 53, "STADIUMSTART": 54, "STADIUMEND": 55, "SUBROUTINESTART": 56, "SUBROUTINEEND": 57, "VERTEX_WITH_PROPS_START": 58, "NODE_STRING[field]": 59, "COLON": 60, "NODE_STRING[value]": 61, "PIPE": 62, "CYLINDERSTART": 63, "CYLINDEREND": 64, "DIAMOND_START": 65, "DIAMOND_STOP": 66, "TAGEND": 67, "TRAPSTART": 68, "TRAPEND": 69, "INVTRAPSTART": 70, "INVTRAPEND": 71, "linkStatement": 72, "arrowText": 73, "TESTSTR": 74, "START_LINK": 75, "edgeText": 76, "LINK": 77, "LINK_ID": 78, "edgeTextToken": 79, "STR": 80, "MD_STR": 81, "textToken": 82, "keywords": 83, "STYLE": 84, "LINKSTYLE": 85, "CLASSDEF": 86, "CLASS": 87, "CLICK": 88, "DOWN": 89, "UP": 90, "textNoTagsToken": 91, "stylesOpt": 92, "idString[vertex]": 93, "idString[class]": 94, "CALLBACKNAME": 95, "CALLBACKARGS": 96, "HREF": 97, "LINK_TARGET": 98, "STR[link]": 99, "STR[tooltip]": 100, "alphaNum": 101, "DEFAULT": 102, "numList": 103, "INTERPOLATE": 104, "NUM": 105, "COMMA": 106, "style": 107, "styleComponent": 108, "NODE_STRING": 109, "UNIT": 110, "BRKT": 111, "PCT": 112, "idStringToken": 113, "MINUS": 114, "MULT": 115, "UNICODE_TEXT": 116, "TEXT": 117, "TAGSTART": 118, "EDGE_TEXT": 119, "alphaNumToken": 120, "direction_tb": 121, "direction_bt": 122, "direction_rl": 123, "direction_lr": 124, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 8: "SEMI", 9: "NEWLINE", 10: "SPACE", 11: "EOF", 12: "GRAPH", 13: "NODIR", 14: "DIR", 27: "subgraph", 29: "SQS", 31: "SQE", 32: "end", 34: "acc_title", 35: "acc_title_value", 36: "acc_descr", 37: "acc_descr_value", 38: "acc_descr_multiline_value", 40: "SHAPE_DATA", 44: "AMP", 46: "STYLE_SEPARATOR", 48: "DOUBLECIRCLESTART", 49: "DOUBLECIRCLEEND", 50: "PS", 51: "PE", 52: "(-", 53: "-)", 54: "STADIUMSTART", 55: "STADIUMEND", 56: "SUBROUTINESTART", 57: "SUBROUTINEEND", 58: "VERTEX_WITH_PROPS_START", 59: "NODE_STRING[field]", 60: "COLON", 61: "NODE_STRING[value]", 62: "PIPE", 63: "CYLINDERSTART", 64: "CYLINDEREND", 65: "DIAMOND_START", 66: "DIAMOND_STOP", 67: "TAGEND", 68: "TRAPSTART", 69: "TRAPEND", 70: "INVTRAPSTART", 71: "INVTRAPEND", 74: "TESTSTR", 75: "START_LINK", 77: "LINK", 78: "LINK_ID", 80: "STR", 81: "MD_STR", 84: "STYLE", 85: "LINKSTYLE", 86: "CLASSDEF", 87: "CLASS", 88: "CLICK", 89: "DOWN", 90: "UP", 93: "idString[vertex]", 94: "idString[class]", 95: "CALLBACKNAME", 96: "CALLBACKARGS", 97: "HREF", 98: "LINK_TARGET", 99: "STR[link]", 100: "STR[tooltip]", 102: "DEFAULT", 104: "INTERPOLATE", 105: "NUM", 106: "COMMA", 109: "NODE_STRING", 110: "UNIT", 111: "BRKT", 112: "PCT", 114: "MINUS", 115: "MULT", 116: "UNICODE_TEXT", 117: "TEXT", 118: "TAGSTART", 119: "EDGE_TEXT", 121: "direction_tb", 122: "direction_bt", 123: "direction_rl", 124: "direction_lr" },\n    productions_: [0, [3, 2], [5, 0], [5, 2], [6, 1], [6, 1], [6, 1], [6, 1], [6, 1], [4, 2], [4, 2], [4, 2], [4, 3], [16, 2], [16, 1], [17, 1], [17, 1], [17, 1], [15, 1], [15, 1], [15, 2], [19, 2], [19, 2], [19, 1], [19, 1], [18, 2], [18, 1], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [7, 9], [7, 6], [7, 4], [7, 1], [7, 2], [7, 2], [7, 1], [21, 1], [21, 1], [21, 1], [39, 2], [39, 1], [20, 4], [20, 3], [20, 4], [20, 2], [20, 2], [20, 1], [42, 1], [42, 6], [42, 5], [43, 1], [43, 3], [45, 4], [45, 4], [45, 6], [45, 4], [45, 4], [45, 4], [45, 8], [45, 4], [45, 4], [45, 4], [45, 6], [45, 4], [45, 4], [45, 4], [45, 4], [45, 4], [45, 1], [41, 2], [41, 3], [41, 3], [41, 1], [41, 3], [41, 4], [76, 1], [76, 2], [76, 1], [76, 1], [72, 1], [72, 2], [73, 3], [30, 1], [30, 2], [30, 1], [30, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [28, 1], [28, 2], [28, 1], [28, 1], [24, 5], [25, 5], [26, 2], [26, 4], [26, 3], [26, 5], [26, 3], [26, 5], [26, 5], [26, 7], [26, 2], [26, 4], [26, 2], [26, 4], [26, 4], [26, 6], [22, 5], [23, 5], [23, 5], [23, 9], [23, 9], [23, 7], [23, 7], [103, 1], [103, 3], [92, 1], [92, 3], [107, 1], [107, 2], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [113, 1], [113, 1], [113, 1], [113, 1], [113, 1], [113, 1], [113, 1], [113, 1], [113, 1], [113, 1], [113, 1], [82, 1], [82, 1], [82, 1], [82, 1], [91, 1], [91, 1], [91, 1], [91, 1], [91, 1], [91, 1], [91, 1], [91, 1], [91, 1], [91, 1], [91, 1], [79, 1], [79, 1], [120, 1], [120, 1], [120, 1], [120, 1], [120, 1], [120, 1], [120, 1], [120, 1], [120, 1], [120, 1], [120, 1], [47, 1], [47, 2], [101, 1], [101, 2], [33, 1], [33, 1], [33, 1], [33, 1]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 2:\n          this.$ = [];\n          break;\n        case 3:\n          if (!Array.isArray($$[$0]) || $$[$0].length > 0) {\n            $$[$0 - 1].push($$[$0]);\n          }\n          this.$ = $$[$0 - 1];\n          break;\n        case 4:\n        case 183:\n          this.$ = $$[$0];\n          break;\n        case 11:\n          yy.setDirection("TB");\n          this.$ = "TB";\n          break;\n        case 12:\n          yy.setDirection($$[$0 - 1]);\n          this.$ = $$[$0 - 1];\n          break;\n        case 27:\n          this.$ = $$[$0 - 1].nodes;\n          break;\n        case 28:\n        case 29:\n        case 30:\n        case 31:\n        case 32:\n          this.$ = [];\n          break;\n        case 33:\n          this.$ = yy.addSubGraph($$[$0 - 6], $$[$0 - 1], $$[$0 - 4]);\n          break;\n        case 34:\n          this.$ = yy.addSubGraph($$[$0 - 3], $$[$0 - 1], $$[$0 - 3]);\n          break;\n        case 35:\n          this.$ = yy.addSubGraph(void 0, $$[$0 - 1], void 0);\n          break;\n        case 37:\n          this.$ = $$[$0].trim();\n          yy.setAccTitle(this.$);\n          break;\n        case 38:\n        case 39:\n          this.$ = $$[$0].trim();\n          yy.setAccDescription(this.$);\n          break;\n        case 43:\n          this.$ = $$[$0 - 1] + $$[$0];\n          break;\n        case 44:\n          this.$ = $$[$0];\n          break;\n        case 45:\n          yy.addVertex($$[$0 - 1][$$[$0 - 1].length - 1], void 0, void 0, void 0, void 0, void 0, void 0, $$[$0]);\n          yy.addLink($$[$0 - 3].stmt, $$[$0 - 1], $$[$0 - 2]);\n          this.$ = { stmt: $$[$0 - 1], nodes: $$[$0 - 1].concat($$[$0 - 3].nodes) };\n          break;\n        case 46:\n          yy.addLink($$[$0 - 2].stmt, $$[$0], $$[$0 - 1]);\n          this.$ = { stmt: $$[$0], nodes: $$[$0].concat($$[$0 - 2].nodes) };\n          break;\n        case 47:\n          yy.addLink($$[$0 - 3].stmt, $$[$0 - 1], $$[$0 - 2]);\n          this.$ = { stmt: $$[$0 - 1], nodes: $$[$0 - 1].concat($$[$0 - 3].nodes) };\n          break;\n        case 48:\n          this.$ = { stmt: $$[$0 - 1], nodes: $$[$0 - 1] };\n          break;\n        case 49:\n          yy.addVertex($$[$0 - 1][$$[$0 - 1].length - 1], void 0, void 0, void 0, void 0, void 0, void 0, $$[$0]);\n          this.$ = { stmt: $$[$0 - 1], nodes: $$[$0 - 1], shapeData: $$[$0] };\n          break;\n        case 50:\n          this.$ = { stmt: $$[$0], nodes: $$[$0] };\n          break;\n        case 51:\n          this.$ = [$$[$0]];\n          break;\n        case 52:\n          yy.addVertex($$[$0 - 5][$$[$0 - 5].length - 1], void 0, void 0, void 0, void 0, void 0, void 0, $$[$0 - 4]);\n          this.$ = $$[$0 - 5].concat($$[$0]);\n          break;\n        case 53:\n          this.$ = $$[$0 - 4].concat($$[$0]);\n          break;\n        case 54:\n          this.$ = $$[$0];\n          break;\n        case 55:\n          this.$ = $$[$0 - 2];\n          yy.setClass($$[$0 - 2], $$[$0]);\n          break;\n        case 56:\n          this.$ = $$[$0 - 3];\n          yy.addVertex($$[$0 - 3], $$[$0 - 1], "square");\n          break;\n        case 57:\n          this.$ = $$[$0 - 3];\n          yy.addVertex($$[$0 - 3], $$[$0 - 1], "doublecircle");\n          break;\n        case 58:\n          this.$ = $$[$0 - 5];\n          yy.addVertex($$[$0 - 5], $$[$0 - 2], "circle");\n          break;\n        case 59:\n          this.$ = $$[$0 - 3];\n          yy.addVertex($$[$0 - 3], $$[$0 - 1], "ellipse");\n          break;\n        case 60:\n          this.$ = $$[$0 - 3];\n          yy.addVertex($$[$0 - 3], $$[$0 - 1], "stadium");\n          break;\n        case 61:\n          this.$ = $$[$0 - 3];\n          yy.addVertex($$[$0 - 3], $$[$0 - 1], "subroutine");\n          break;\n        case 62:\n          this.$ = $$[$0 - 7];\n          yy.addVertex($$[$0 - 7], $$[$0 - 1], "rect", void 0, void 0, void 0, Object.fromEntries([[$$[$0 - 5], $$[$0 - 3]]]));\n          break;\n        case 63:\n          this.$ = $$[$0 - 3];\n          yy.addVertex($$[$0 - 3], $$[$0 - 1], "cylinder");\n          break;\n        case 64:\n          this.$ = $$[$0 - 3];\n          yy.addVertex($$[$0 - 3], $$[$0 - 1], "round");\n          break;\n        case 65:\n          this.$ = $$[$0 - 3];\n          yy.addVertex($$[$0 - 3], $$[$0 - 1], "diamond");\n          break;\n        case 66:\n          this.$ = $$[$0 - 5];\n          yy.addVertex($$[$0 - 5], $$[$0 - 2], "hexagon");\n          break;\n        case 67:\n          this.$ = $$[$0 - 3];\n          yy.addVertex($$[$0 - 3], $$[$0 - 1], "odd");\n          break;\n        case 68:\n          this.$ = $$[$0 - 3];\n          yy.addVertex($$[$0 - 3], $$[$0 - 1], "trapezoid");\n          break;\n        case 69:\n          this.$ = $$[$0 - 3];\n          yy.addVertex($$[$0 - 3], $$[$0 - 1], "inv_trapezoid");\n          break;\n        case 70:\n          this.$ = $$[$0 - 3];\n          yy.addVertex($$[$0 - 3], $$[$0 - 1], "lean_right");\n          break;\n        case 71:\n          this.$ = $$[$0 - 3];\n          yy.addVertex($$[$0 - 3], $$[$0 - 1], "lean_left");\n          break;\n        case 72:\n          this.$ = $$[$0];\n          yy.addVertex($$[$0]);\n          break;\n        case 73:\n          $$[$0 - 1].text = $$[$0];\n          this.$ = $$[$0 - 1];\n          break;\n        case 74:\n        case 75:\n          $$[$0 - 2].text = $$[$0 - 1];\n          this.$ = $$[$0 - 2];\n          break;\n        case 76:\n          this.$ = $$[$0];\n          break;\n        case 77:\n          var inf = yy.destructLink($$[$0], $$[$0 - 2]);\n          this.$ = { "type": inf.type, "stroke": inf.stroke, "length": inf.length, "text": $$[$0 - 1] };\n          break;\n        case 78:\n          var inf = yy.destructLink($$[$0], $$[$0 - 2]);\n          this.$ = { "type": inf.type, "stroke": inf.stroke, "length": inf.length, "text": $$[$0 - 1], "id": $$[$0 - 3] };\n          break;\n        case 79:\n          this.$ = { text: $$[$0], type: "text" };\n          break;\n        case 80:\n          this.$ = { text: $$[$0 - 1].text + "" + $$[$0], type: $$[$0 - 1].type };\n          break;\n        case 81:\n          this.$ = { text: $$[$0], type: "string" };\n          break;\n        case 82:\n          this.$ = { text: $$[$0], type: "markdown" };\n          break;\n        case 83:\n          var inf = yy.destructLink($$[$0]);\n          this.$ = { "type": inf.type, "stroke": inf.stroke, "length": inf.length };\n          break;\n        case 84:\n          var inf = yy.destructLink($$[$0]);\n          this.$ = { "type": inf.type, "stroke": inf.stroke, "length": inf.length, "id": $$[$0 - 1] };\n          break;\n        case 85:\n          this.$ = $$[$0 - 1];\n          break;\n        case 86:\n          this.$ = { text: $$[$0], type: "text" };\n          break;\n        case 87:\n          this.$ = { text: $$[$0 - 1].text + "" + $$[$0], type: $$[$0 - 1].type };\n          break;\n        case 88:\n          this.$ = { text: $$[$0], type: "string" };\n          break;\n        case 89:\n        case 104:\n          this.$ = { text: $$[$0], type: "markdown" };\n          break;\n        case 101:\n          this.$ = { text: $$[$0], type: "text" };\n          break;\n        case 102:\n          this.$ = { text: $$[$0 - 1].text + "" + $$[$0], type: $$[$0 - 1].type };\n          break;\n        case 103:\n          this.$ = { text: $$[$0], type: "text" };\n          break;\n        case 105:\n          this.$ = $$[$0 - 4];\n          yy.addClass($$[$0 - 2], $$[$0]);\n          break;\n        case 106:\n          this.$ = $$[$0 - 4];\n          yy.setClass($$[$0 - 2], $$[$0]);\n          break;\n        case 107:\n        case 115:\n          this.$ = $$[$0 - 1];\n          yy.setClickEvent($$[$0 - 1], $$[$0]);\n          break;\n        case 108:\n        case 116:\n          this.$ = $$[$0 - 3];\n          yy.setClickEvent($$[$0 - 3], $$[$0 - 2]);\n          yy.setTooltip($$[$0 - 3], $$[$0]);\n          break;\n        case 109:\n          this.$ = $$[$0 - 2];\n          yy.setClickEvent($$[$0 - 2], $$[$0 - 1], $$[$0]);\n          break;\n        case 110:\n          this.$ = $$[$0 - 4];\n          yy.setClickEvent($$[$0 - 4], $$[$0 - 3], $$[$0 - 2]);\n          yy.setTooltip($$[$0 - 4], $$[$0]);\n          break;\n        case 111:\n          this.$ = $$[$0 - 2];\n          yy.setLink($$[$0 - 2], $$[$0]);\n          break;\n        case 112:\n          this.$ = $$[$0 - 4];\n          yy.setLink($$[$0 - 4], $$[$0 - 2]);\n          yy.setTooltip($$[$0 - 4], $$[$0]);\n          break;\n        case 113:\n          this.$ = $$[$0 - 4];\n          yy.setLink($$[$0 - 4], $$[$0 - 2], $$[$0]);\n          break;\n        case 114:\n          this.$ = $$[$0 - 6];\n          yy.setLink($$[$0 - 6], $$[$0 - 4], $$[$0]);\n          yy.setTooltip($$[$0 - 6], $$[$0 - 2]);\n          break;\n        case 117:\n          this.$ = $$[$0 - 1];\n          yy.setLink($$[$0 - 1], $$[$0]);\n          break;\n        case 118:\n          this.$ = $$[$0 - 3];\n          yy.setLink($$[$0 - 3], $$[$0 - 2]);\n          yy.setTooltip($$[$0 - 3], $$[$0]);\n          break;\n        case 119:\n          this.$ = $$[$0 - 3];\n          yy.setLink($$[$0 - 3], $$[$0 - 2], $$[$0]);\n          break;\n        case 120:\n          this.$ = $$[$0 - 5];\n          yy.setLink($$[$0 - 5], $$[$0 - 4], $$[$0]);\n          yy.setTooltip($$[$0 - 5], $$[$0 - 2]);\n          break;\n        case 121:\n          this.$ = $$[$0 - 4];\n          yy.addVertex($$[$0 - 2], void 0, void 0, $$[$0]);\n          break;\n        case 122:\n          this.$ = $$[$0 - 4];\n          yy.updateLink([$$[$0 - 2]], $$[$0]);\n          break;\n        case 123:\n          this.$ = $$[$0 - 4];\n          yy.updateLink($$[$0 - 2], $$[$0]);\n          break;\n        case 124:\n          this.$ = $$[$0 - 8];\n          yy.updateLinkInterpolate([$$[$0 - 6]], $$[$0 - 2]);\n          yy.updateLink([$$[$0 - 6]], $$[$0]);\n          break;\n        case 125:\n          this.$ = $$[$0 - 8];\n          yy.updateLinkInterpolate($$[$0 - 6], $$[$0 - 2]);\n          yy.updateLink($$[$0 - 6], $$[$0]);\n          break;\n        case 126:\n          this.$ = $$[$0 - 6];\n          yy.updateLinkInterpolate([$$[$0 - 4]], $$[$0]);\n          break;\n        case 127:\n          this.$ = $$[$0 - 6];\n          yy.updateLinkInterpolate($$[$0 - 4], $$[$0]);\n          break;\n        case 128:\n        case 130:\n          this.$ = [$$[$0]];\n          break;\n        case 129:\n        case 131:\n          $$[$0 - 2].push($$[$0]);\n          this.$ = $$[$0 - 2];\n          break;\n        case 133:\n          this.$ = $$[$0 - 1] + $$[$0];\n          break;\n        case 181:\n          this.$ = $$[$0];\n          break;\n        case 182:\n          this.$ = $$[$0 - 1] + "" + $$[$0];\n          break;\n        case 184:\n          this.$ = $$[$0 - 1] + "" + $$[$0];\n          break;\n        case 185:\n          this.$ = { stmt: "dir", value: "TB" };\n          break;\n        case 186:\n          this.$ = { stmt: "dir", value: "BT" };\n          break;\n        case 187:\n          this.$ = { stmt: "dir", value: "RL" };\n          break;\n        case 188:\n          this.$ = { stmt: "dir", value: "LR" };\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 3: 1, 4: 2, 9: $V0, 10: $V1, 12: $V2 }, { 1: [3] }, o($V3, $V4, { 5: 6 }), { 4: 7, 9: $V0, 10: $V1, 12: $V2 }, { 4: 8, 9: $V0, 10: $V1, 12: $V2 }, { 13: [1, 9], 14: [1, 10] }, { 1: [2, 1], 6: 11, 7: 12, 8: $V5, 9: $V6, 10: $V7, 11: $V8, 20: 17, 22: 18, 23: 19, 24: 20, 25: 21, 26: 22, 27: $V9, 33: 24, 34: $Va, 36: $Vb, 38: $Vc, 42: 28, 43: 38, 44: $Vd, 45: 39, 47: 40, 60: $Ve, 84: $Vf, 85: $Vg, 86: $Vh, 87: $Vi, 88: $Vj, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 41, 114: $Vq, 115: $Vr, 116: $Vs, 121: $Vt, 122: $Vu, 123: $Vv, 124: $Vw }, o($V3, [2, 9]), o($V3, [2, 10]), o($V3, [2, 11]), { 8: [1, 54], 9: [1, 55], 10: $Vx, 15: 53, 18: 56 }, o($Vy, [2, 3]), o($Vy, [2, 4]), o($Vy, [2, 5]), o($Vy, [2, 6]), o($Vy, [2, 7]), o($Vy, [2, 8]), { 8: $Vz, 9: $VA, 11: $VB, 21: 58, 41: 59, 72: 63, 75: [1, 64], 77: [1, 66], 78: [1, 65] }, { 8: $Vz, 9: $VA, 11: $VB, 21: 67 }, { 8: $Vz, 9: $VA, 11: $VB, 21: 68 }, { 8: $Vz, 9: $VA, 11: $VB, 21: 69 }, { 8: $Vz, 9: $VA, 11: $VB, 21: 70 }, { 8: $Vz, 9: $VA, 11: $VB, 21: 71 }, { 8: $Vz, 9: $VA, 10: [1, 72], 11: $VB, 21: 73 }, o($Vy, [2, 36]), { 35: [1, 74] }, { 37: [1, 75] }, o($Vy, [2, 39]), o($VC, [2, 50], { 18: 76, 39: 77, 10: $Vx, 40: $VD }), { 10: [1, 79] }, { 10: [1, 80] }, { 10: [1, 81] }, { 10: [1, 82] }, { 14: $VE, 44: $VF, 60: $VG, 80: [1, 86], 89: $VH, 95: [1, 83], 97: [1, 84], 101: 85, 105: $VI, 106: $VJ, 109: $VK, 111: $VL, 114: $VM, 115: $VN, 116: $VO, 120: 87 }, o($Vy, [2, 185]), o($Vy, [2, 186]), o($Vy, [2, 187]), o($Vy, [2, 188]), o($VP, [2, 51]), o($VP, [2, 54], { 46: [1, 99] }), o($VQ, [2, 72], { 113: 112, 29: [1, 100], 44: $Vd, 48: [1, 101], 50: [1, 102], 52: [1, 103], 54: [1, 104], 56: [1, 105], 58: [1, 106], 60: $Ve, 63: [1, 107], 65: [1, 108], 67: [1, 109], 68: [1, 110], 70: [1, 111], 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 114: $Vq, 115: $Vr, 116: $Vs }), o($VR, [2, 181]), o($VR, [2, 142]), o($VR, [2, 143]), o($VR, [2, 144]), o($VR, [2, 145]), o($VR, [2, 146]), o($VR, [2, 147]), o($VR, [2, 148]), o($VR, [2, 149]), o($VR, [2, 150]), o($VR, [2, 151]), o($VR, [2, 152]), o($V3, [2, 12]), o($V3, [2, 18]), o($V3, [2, 19]), { 9: [1, 113] }, o($VS, [2, 26], { 18: 114, 10: $Vx }), o($Vy, [2, 27]), { 42: 115, 43: 38, 44: $Vd, 45: 39, 47: 40, 60: $Ve, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 41, 114: $Vq, 115: $Vr, 116: $Vs }, o($Vy, [2, 40]), o($Vy, [2, 41]), o($Vy, [2, 42]), o($VT, [2, 76], { 73: 116, 62: [1, 118], 74: [1, 117] }), { 76: 119, 79: 120, 80: $VU, 81: $VV, 116: $VW, 119: $VX }, { 75: [1, 125], 77: [1, 126] }, o($VY, [2, 83]), o($Vy, [2, 28]), o($Vy, [2, 29]), o($Vy, [2, 30]), o($Vy, [2, 31]), o($Vy, [2, 32]), { 10: $VZ, 12: $V_, 14: $V$, 27: $V01, 28: 127, 32: $V11, 44: $V21, 60: $V31, 75: $V41, 80: [1, 129], 81: [1, 130], 83: 140, 84: $V51, 85: $V61, 86: $V71, 87: $V81, 88: $V91, 89: $Va1, 90: $Vb1, 91: 128, 105: $Vc1, 109: $Vd1, 111: $Ve1, 114: $Vf1, 115: $Vg1, 116: $Vh1 }, o($Vi1, $V4, { 5: 153 }), o($Vy, [2, 37]), o($Vy, [2, 38]), o($VC, [2, 48], { 44: $Vj1 }), o($VC, [2, 49], { 18: 155, 10: $Vx, 40: $Vk1 }), o($VP, [2, 44]), { 44: $Vd, 47: 157, 60: $Ve, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 41, 114: $Vq, 115: $Vr, 116: $Vs }, { 102: [1, 158], 103: 159, 105: [1, 160] }, { 44: $Vd, 47: 161, 60: $Ve, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 41, 114: $Vq, 115: $Vr, 116: $Vs }, { 44: $Vd, 47: 162, 60: $Ve, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 41, 114: $Vq, 115: $Vr, 116: $Vs }, o($Vl1, [2, 107], { 10: [1, 163], 96: [1, 164] }), { 80: [1, 165] }, o($Vl1, [2, 115], { 120: 167, 10: [1, 166], 14: $VE, 44: $VF, 60: $VG, 89: $VH, 105: $VI, 106: $VJ, 109: $VK, 111: $VL, 114: $VM, 115: $VN, 116: $VO }), o($Vl1, [2, 117], { 10: [1, 168] }), o($Vm1, [2, 183]), o($Vm1, [2, 170]), o($Vm1, [2, 171]), o($Vm1, [2, 172]), o($Vm1, [2, 173]), o($Vm1, [2, 174]), o($Vm1, [2, 175]), o($Vm1, [2, 176]), o($Vm1, [2, 177]), o($Vm1, [2, 178]), o($Vm1, [2, 179]), o($Vm1, [2, 180]), { 44: $Vd, 47: 169, 60: $Ve, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 41, 114: $Vq, 115: $Vr, 116: $Vs }, { 30: 170, 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 30: 178, 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 30: 180, 50: [1, 179], 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 30: 181, 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 30: 182, 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 30: 183, 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 109: [1, 184] }, { 30: 185, 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 30: 186, 65: [1, 187], 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 30: 188, 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 30: 189, 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 30: 190, 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, o($VR, [2, 182]), o($V3, [2, 20]), o($VS, [2, 25]), o($VC, [2, 46], { 39: 191, 18: 192, 10: $Vx, 40: $VD }), o($VT, [2, 73], { 10: [1, 193] }), { 10: [1, 194] }, { 30: 195, 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 77: [1, 196], 79: 197, 116: $VW, 119: $VX }, o($Vt1, [2, 79]), o($Vt1, [2, 81]), o($Vt1, [2, 82]), o($Vt1, [2, 168]), o($Vt1, [2, 169]), { 76: 198, 79: 120, 80: $VU, 81: $VV, 116: $VW, 119: $VX }, o($VY, [2, 84]), { 8: $Vz, 9: $VA, 10: $VZ, 11: $VB, 12: $V_, 14: $V$, 21: 200, 27: $V01, 29: [1, 199], 32: $V11, 44: $V21, 60: $V31, 75: $V41, 83: 140, 84: $V51, 85: $V61, 86: $V71, 87: $V81, 88: $V91, 89: $Va1, 90: $Vb1, 91: 201, 105: $Vc1, 109: $Vd1, 111: $Ve1, 114: $Vf1, 115: $Vg1, 116: $Vh1 }, o($Vu1, [2, 101]), o($Vu1, [2, 103]), o($Vu1, [2, 104]), o($Vu1, [2, 157]), o($Vu1, [2, 158]), o($Vu1, [2, 159]), o($Vu1, [2, 160]), o($Vu1, [2, 161]), o($Vu1, [2, 162]), o($Vu1, [2, 163]), o($Vu1, [2, 164]), o($Vu1, [2, 165]), o($Vu1, [2, 166]), o($Vu1, [2, 167]), o($Vu1, [2, 90]), o($Vu1, [2, 91]), o($Vu1, [2, 92]), o($Vu1, [2, 93]), o($Vu1, [2, 94]), o($Vu1, [2, 95]), o($Vu1, [2, 96]), o($Vu1, [2, 97]), o($Vu1, [2, 98]), o($Vu1, [2, 99]), o($Vu1, [2, 100]), { 6: 11, 7: 12, 8: $V5, 9: $V6, 10: $V7, 11: $V8, 20: 17, 22: 18, 23: 19, 24: 20, 25: 21, 26: 22, 27: $V9, 32: [1, 202], 33: 24, 34: $Va, 36: $Vb, 38: $Vc, 42: 28, 43: 38, 44: $Vd, 45: 39, 47: 40, 60: $Ve, 84: $Vf, 85: $Vg, 86: $Vh, 87: $Vi, 88: $Vj, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 41, 114: $Vq, 115: $Vr, 116: $Vs, 121: $Vt, 122: $Vu, 123: $Vv, 124: $Vw }, { 10: $Vx, 18: 203 }, { 44: [1, 204] }, o($VP, [2, 43]), { 10: [1, 205], 44: $Vd, 60: $Ve, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 112, 114: $Vq, 115: $Vr, 116: $Vs }, { 10: [1, 206] }, { 10: [1, 207], 106: [1, 208] }, o($Vv1, [2, 128]), { 10: [1, 209], 44: $Vd, 60: $Ve, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 112, 114: $Vq, 115: $Vr, 116: $Vs }, { 10: [1, 210], 44: $Vd, 60: $Ve, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 112, 114: $Vq, 115: $Vr, 116: $Vs }, { 80: [1, 211] }, o($Vl1, [2, 109], { 10: [1, 212] }), o($Vl1, [2, 111], { 10: [1, 213] }), { 80: [1, 214] }, o($Vm1, [2, 184]), { 80: [1, 215], 98: [1, 216] }, o($VP, [2, 55], { 113: 112, 44: $Vd, 60: $Ve, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 114: $Vq, 115: $Vr, 116: $Vs }), { 31: [1, 217], 67: $Vn1, 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, o($Vw1, [2, 86]), o($Vw1, [2, 88]), o($Vw1, [2, 89]), o($Vw1, [2, 153]), o($Vw1, [2, 154]), o($Vw1, [2, 155]), o($Vw1, [2, 156]), { 49: [1, 219], 67: $Vn1, 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 30: 220, 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 51: [1, 221], 67: $Vn1, 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 53: [1, 222], 67: $Vn1, 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 55: [1, 223], 67: $Vn1, 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 57: [1, 224], 67: $Vn1, 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 60: [1, 225] }, { 64: [1, 226], 67: $Vn1, 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 66: [1, 227], 67: $Vn1, 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 30: 228, 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 31: [1, 229], 67: $Vn1, 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 67: $Vn1, 69: [1, 230], 71: [1, 231], 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 67: $Vn1, 69: [1, 233], 71: [1, 232], 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, o($VC, [2, 45], { 18: 155, 10: $Vx, 40: $Vk1 }), o($VC, [2, 47], { 44: $Vj1 }), o($VT, [2, 75]), o($VT, [2, 74]), { 62: [1, 234], 67: $Vn1, 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, o($VT, [2, 77]), o($Vt1, [2, 80]), { 77: [1, 235], 79: 197, 116: $VW, 119: $VX }, { 30: 236, 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, o($Vi1, $V4, { 5: 237 }), o($Vu1, [2, 102]), o($Vy, [2, 35]), { 43: 238, 44: $Vd, 45: 39, 47: 40, 60: $Ve, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 41, 114: $Vq, 115: $Vr, 116: $Vs }, { 10: $Vx, 18: 239 }, { 10: $Vx1, 60: $Vy1, 84: $Vz1, 92: 240, 105: $VA1, 107: 241, 108: 242, 109: $VB1, 110: $VC1, 111: $VD1, 112: $VE1 }, { 10: $Vx1, 60: $Vy1, 84: $Vz1, 92: 251, 104: [1, 252], 105: $VA1, 107: 241, 108: 242, 109: $VB1, 110: $VC1, 111: $VD1, 112: $VE1 }, { 10: $Vx1, 60: $Vy1, 84: $Vz1, 92: 253, 104: [1, 254], 105: $VA1, 107: 241, 108: 242, 109: $VB1, 110: $VC1, 111: $VD1, 112: $VE1 }, { 105: [1, 255] }, { 10: $Vx1, 60: $Vy1, 84: $Vz1, 92: 256, 105: $VA1, 107: 241, 108: 242, 109: $VB1, 110: $VC1, 111: $VD1, 112: $VE1 }, { 44: $Vd, 47: 257, 60: $Ve, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 41, 114: $Vq, 115: $Vr, 116: $Vs }, o($Vl1, [2, 108]), { 80: [1, 258] }, { 80: [1, 259], 98: [1, 260] }, o($Vl1, [2, 116]), o($Vl1, [2, 118], { 10: [1, 261] }), o($Vl1, [2, 119]), o($VQ, [2, 56]), o($Vw1, [2, 87]), o($VQ, [2, 57]), { 51: [1, 262], 67: $Vn1, 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, o($VQ, [2, 64]), o($VQ, [2, 59]), o($VQ, [2, 60]), o($VQ, [2, 61]), { 109: [1, 263] }, o($VQ, [2, 63]), o($VQ, [2, 65]), { 66: [1, 264], 67: $Vn1, 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, o($VQ, [2, 67]), o($VQ, [2, 68]), o($VQ, [2, 70]), o($VQ, [2, 69]), o($VQ, [2, 71]), o([10, 44, 60, 89, 102, 105, 106, 109, 111, 114, 115, 116], [2, 85]), o($VT, [2, 78]), { 31: [1, 265], 67: $Vn1, 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 6: 11, 7: 12, 8: $V5, 9: $V6, 10: $V7, 11: $V8, 20: 17, 22: 18, 23: 19, 24: 20, 25: 21, 26: 22, 27: $V9, 32: [1, 266], 33: 24, 34: $Va, 36: $Vb, 38: $Vc, 42: 28, 43: 38, 44: $Vd, 45: 39, 47: 40, 60: $Ve, 84: $Vf, 85: $Vg, 86: $Vh, 87: $Vi, 88: $Vj, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 41, 114: $Vq, 115: $Vr, 116: $Vs, 121: $Vt, 122: $Vu, 123: $Vv, 124: $Vw }, o($VP, [2, 53]), { 43: 267, 44: $Vd, 45: 39, 47: 40, 60: $Ve, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 41, 114: $Vq, 115: $Vr, 116: $Vs }, o($Vl1, [2, 121], { 106: $VF1 }), o($VG1, [2, 130], { 108: 269, 10: $Vx1, 60: $Vy1, 84: $Vz1, 105: $VA1, 109: $VB1, 110: $VC1, 111: $VD1, 112: $VE1 }), o($VH1, [2, 132]), o($VH1, [2, 134]), o($VH1, [2, 135]), o($VH1, [2, 136]), o($VH1, [2, 137]), o($VH1, [2, 138]), o($VH1, [2, 139]), o($VH1, [2, 140]), o($VH1, [2, 141]), o($Vl1, [2, 122], { 106: $VF1 }), { 10: [1, 270] }, o($Vl1, [2, 123], { 106: $VF1 }), { 10: [1, 271] }, o($Vv1, [2, 129]), o($Vl1, [2, 105], { 106: $VF1 }), o($Vl1, [2, 106], { 113: 112, 44: $Vd, 60: $Ve, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 114: $Vq, 115: $Vr, 116: $Vs }), o($Vl1, [2, 110]), o($Vl1, [2, 112], { 10: [1, 272] }), o($Vl1, [2, 113]), { 98: [1, 273] }, { 51: [1, 274] }, { 62: [1, 275] }, { 66: [1, 276] }, { 8: $Vz, 9: $VA, 11: $VB, 21: 277 }, o($Vy, [2, 34]), o($VP, [2, 52]), { 10: $Vx1, 60: $Vy1, 84: $Vz1, 105: $VA1, 107: 278, 108: 242, 109: $VB1, 110: $VC1, 111: $VD1, 112: $VE1 }, o($VH1, [2, 133]), { 14: $VE, 44: $VF, 60: $VG, 89: $VH, 101: 279, 105: $VI, 106: $VJ, 109: $VK, 111: $VL, 114: $VM, 115: $VN, 116: $VO, 120: 87 }, { 14: $VE, 44: $VF, 60: $VG, 89: $VH, 101: 280, 105: $VI, 106: $VJ, 109: $VK, 111: $VL, 114: $VM, 115: $VN, 116: $VO, 120: 87 }, { 98: [1, 281] }, o($Vl1, [2, 120]), o($VQ, [2, 58]), { 30: 282, 67: $Vn1, 80: $Vo1, 81: $Vp1, 82: 171, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, o($VQ, [2, 66]), o($Vi1, $V4, { 5: 283 }), o($VG1, [2, 131], { 108: 269, 10: $Vx1, 60: $Vy1, 84: $Vz1, 105: $VA1, 109: $VB1, 110: $VC1, 111: $VD1, 112: $VE1 }), o($Vl1, [2, 126], { 120: 167, 10: [1, 284], 14: $VE, 44: $VF, 60: $VG, 89: $VH, 105: $VI, 106: $VJ, 109: $VK, 111: $VL, 114: $VM, 115: $VN, 116: $VO }), o($Vl1, [2, 127], { 120: 167, 10: [1, 285], 14: $VE, 44: $VF, 60: $VG, 89: $VH, 105: $VI, 106: $VJ, 109: $VK, 111: $VL, 114: $VM, 115: $VN, 116: $VO }), o($Vl1, [2, 114]), { 31: [1, 286], 67: $Vn1, 82: 218, 116: $Vq1, 117: $Vr1, 118: $Vs1 }, { 6: 11, 7: 12, 8: $V5, 9: $V6, 10: $V7, 11: $V8, 20: 17, 22: 18, 23: 19, 24: 20, 25: 21, 26: 22, 27: $V9, 32: [1, 287], 33: 24, 34: $Va, 36: $Vb, 38: $Vc, 42: 28, 43: 38, 44: $Vd, 45: 39, 47: 40, 60: $Ve, 84: $Vf, 85: $Vg, 86: $Vh, 87: $Vi, 88: $Vj, 89: $Vk, 102: $Vl, 105: $Vm, 106: $Vn, 109: $Vo, 111: $Vp, 113: 41, 114: $Vq, 115: $Vr, 116: $Vs, 121: $Vt, 122: $Vu, 123: $Vv, 124: $Vw }, { 10: $Vx1, 60: $Vy1, 84: $Vz1, 92: 288, 105: $VA1, 107: 241, 108: 242, 109: $VB1, 110: $VC1, 111: $VD1, 112: $VE1 }, { 10: $Vx1, 60: $Vy1, 84: $Vz1, 92: 289, 105: $VA1, 107: 241, 108: 242, 109: $VB1, 110: $VC1, 111: $VD1, 112: $VE1 }, o($VQ, [2, 62]), o($Vy, [2, 33]), o($Vl1, [2, 124], { 106: $VF1 }), o($Vl1, [2, 125], { 106: $VF1 })],\n    defaultActions: {},\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: {},\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            this.begin("acc_title");\n            return 34;\n            // removed by dead control flow\n\n          case 1:\n            this.popState();\n            return "acc_title_value";\n            // removed by dead control flow\n\n          case 2:\n            this.begin("acc_descr");\n            return 36;\n            // removed by dead control flow\n\n          case 3:\n            this.popState();\n            return "acc_descr_value";\n            // removed by dead control flow\n\n          case 4:\n            this.begin("acc_descr_multiline");\n            break;\n          case 5:\n            this.popState();\n            break;\n          case 6:\n            return "acc_descr_multiline_value";\n            // removed by dead control flow\n\n          case 7:\n            this.pushState("shapeData");\n            yy_.yytext = "";\n            return 40;\n            // removed by dead control flow\n\n          case 8:\n            this.pushState("shapeDataStr");\n            return 40;\n            // removed by dead control flow\n\n          case 9:\n            this.popState();\n            return 40;\n            // removed by dead control flow\n\n          case 10:\n            const re = /\\n\\s*/g;\n            yy_.yytext = yy_.yytext.replace(re, "<br/>");\n            return 40;\n            // removed by dead control flow\n\n          case 11:\n            return 40;\n            // removed by dead control flow\n\n          case 12:\n            this.popState();\n            break;\n          case 13:\n            this.begin("callbackname");\n            break;\n          case 14:\n            this.popState();\n            break;\n          case 15:\n            this.popState();\n            this.begin("callbackargs");\n            break;\n          case 16:\n            return 95;\n            // removed by dead control flow\n\n          case 17:\n            this.popState();\n            break;\n          case 18:\n            return 96;\n            // removed by dead control flow\n\n          case 19:\n            return "MD_STR";\n            // removed by dead control flow\n\n          case 20:\n            this.popState();\n            break;\n          case 21:\n            this.begin("md_string");\n            break;\n          case 22:\n            return "STR";\n            // removed by dead control flow\n\n          case 23:\n            this.popState();\n            break;\n          case 24:\n            this.pushState("string");\n            break;\n          case 25:\n            return 84;\n            // removed by dead control flow\n\n          case 26:\n            return 102;\n            // removed by dead control flow\n\n          case 27:\n            return 85;\n            // removed by dead control flow\n\n          case 28:\n            return 104;\n            // removed by dead control flow\n\n          case 29:\n            return 86;\n            // removed by dead control flow\n\n          case 30:\n            return 87;\n            // removed by dead control flow\n\n          case 31:\n            return 97;\n            // removed by dead control flow\n\n          case 32:\n            this.begin("click");\n            break;\n          case 33:\n            this.popState();\n            break;\n          case 34:\n            return 88;\n            // removed by dead control flow\n\n          case 35:\n            if (yy.lex.firstGraph()) {\n              this.begin("dir");\n            }\n            return 12;\n            // removed by dead control flow\n\n          case 36:\n            if (yy.lex.firstGraph()) {\n              this.begin("dir");\n            }\n            return 12;\n            // removed by dead control flow\n\n          case 37:\n            if (yy.lex.firstGraph()) {\n              this.begin("dir");\n            }\n            return 12;\n            // removed by dead control flow\n\n          case 38:\n            return 27;\n            // removed by dead control flow\n\n          case 39:\n            return 32;\n            // removed by dead control flow\n\n          case 40:\n            return 98;\n            // removed by dead control flow\n\n          case 41:\n            return 98;\n            // removed by dead control flow\n\n          case 42:\n            return 98;\n            // removed by dead control flow\n\n          case 43:\n            return 98;\n            // removed by dead control flow\n\n          case 44:\n            this.popState();\n            return 13;\n            // removed by dead control flow\n\n          case 45:\n            this.popState();\n            return 14;\n            // removed by dead control flow\n\n          case 46:\n            this.popState();\n            return 14;\n            // removed by dead control flow\n\n          case 47:\n            this.popState();\n            return 14;\n            // removed by dead control flow\n\n          case 48:\n            this.popState();\n            return 14;\n            // removed by dead control flow\n\n          case 49:\n            this.popState();\n            return 14;\n            // removed by dead control flow\n\n          case 50:\n            this.popState();\n            return 14;\n            // removed by dead control flow\n\n          case 51:\n            this.popState();\n            return 14;\n            // removed by dead control flow\n\n          case 52:\n            this.popState();\n            return 14;\n            // removed by dead control flow\n\n          case 53:\n            this.popState();\n            return 14;\n            // removed by dead control flow\n\n          case 54:\n            this.popState();\n            return 14;\n            // removed by dead control flow\n\n          case 55:\n            return 121;\n            // removed by dead control flow\n\n          case 56:\n            return 122;\n            // removed by dead control flow\n\n          case 57:\n            return 123;\n            // removed by dead control flow\n\n          case 58:\n            return 124;\n            // removed by dead control flow\n\n          case 59:\n            return 78;\n            // removed by dead control flow\n\n          case 60:\n            return 105;\n            // removed by dead control flow\n\n          case 61:\n            return 111;\n            // removed by dead control flow\n\n          case 62:\n            return 46;\n            // removed by dead control flow\n\n          case 63:\n            return 60;\n            // removed by dead control flow\n\n          case 64:\n            return 44;\n            // removed by dead control flow\n\n          case 65:\n            return 8;\n            // removed by dead control flow\n\n          case 66:\n            return 106;\n            // removed by dead control flow\n\n          case 67:\n            return 115;\n            // removed by dead control flow\n\n          case 68:\n            this.popState();\n            return 77;\n            // removed by dead control flow\n\n          case 69:\n            this.pushState("edgeText");\n            return 75;\n            // removed by dead control flow\n\n          case 70:\n            return 119;\n            // removed by dead control flow\n\n          case 71:\n            this.popState();\n            return 77;\n            // removed by dead control flow\n\n          case 72:\n            this.pushState("thickEdgeText");\n            return 75;\n            // removed by dead control flow\n\n          case 73:\n            return 119;\n            // removed by dead control flow\n\n          case 74:\n            this.popState();\n            return 77;\n            // removed by dead control flow\n\n          case 75:\n            this.pushState("dottedEdgeText");\n            return 75;\n            // removed by dead control flow\n\n          case 76:\n            return 119;\n            // removed by dead control flow\n\n          case 77:\n            return 77;\n            // removed by dead control flow\n\n          case 78:\n            this.popState();\n            return 53;\n            // removed by dead control flow\n\n          case 79:\n            return "TEXT";\n            // removed by dead control flow\n\n          case 80:\n            this.pushState("ellipseText");\n            return 52;\n            // removed by dead control flow\n\n          case 81:\n            this.popState();\n            return 55;\n            // removed by dead control flow\n\n          case 82:\n            this.pushState("text");\n            return 54;\n            // removed by dead control flow\n\n          case 83:\n            this.popState();\n            return 57;\n            // removed by dead control flow\n\n          case 84:\n            this.pushState("text");\n            return 56;\n            // removed by dead control flow\n\n          case 85:\n            return 58;\n            // removed by dead control flow\n\n          case 86:\n            this.pushState("text");\n            return 67;\n            // removed by dead control flow\n\n          case 87:\n            this.popState();\n            return 64;\n            // removed by dead control flow\n\n          case 88:\n            this.pushState("text");\n            return 63;\n            // removed by dead control flow\n\n          case 89:\n            this.popState();\n            return 49;\n            // removed by dead control flow\n\n          case 90:\n            this.pushState("text");\n            return 48;\n            // removed by dead control flow\n\n          case 91:\n            this.popState();\n            return 69;\n            // removed by dead control flow\n\n          case 92:\n            this.popState();\n            return 71;\n            // removed by dead control flow\n\n          case 93:\n            return 117;\n            // removed by dead control flow\n\n          case 94:\n            this.pushState("trapText");\n            return 68;\n            // removed by dead control flow\n\n          case 95:\n            this.pushState("trapText");\n            return 70;\n            // removed by dead control flow\n\n          case 96:\n            return 118;\n            // removed by dead control flow\n\n          case 97:\n            return 67;\n            // removed by dead control flow\n\n          case 98:\n            return 90;\n            // removed by dead control flow\n\n          case 99:\n            return "SEP";\n            // removed by dead control flow\n\n          case 100:\n            return 89;\n            // removed by dead control flow\n\n          case 101:\n            return 115;\n            // removed by dead control flow\n\n          case 102:\n            return 111;\n            // removed by dead control flow\n\n          case 103:\n            return 44;\n            // removed by dead control flow\n\n          case 104:\n            return 109;\n            // removed by dead control flow\n\n          case 105:\n            return 114;\n            // removed by dead control flow\n\n          case 106:\n            return 116;\n            // removed by dead control flow\n\n          case 107:\n            this.popState();\n            return 62;\n            // removed by dead control flow\n\n          case 108:\n            this.pushState("text");\n            return 62;\n            // removed by dead control flow\n\n          case 109:\n            this.popState();\n            return 51;\n            // removed by dead control flow\n\n          case 110:\n            this.pushState("text");\n            return 50;\n            // removed by dead control flow\n\n          case 111:\n            this.popState();\n            return 31;\n            // removed by dead control flow\n\n          case 112:\n            this.pushState("text");\n            return 29;\n            // removed by dead control flow\n\n          case 113:\n            this.popState();\n            return 66;\n            // removed by dead control flow\n\n          case 114:\n            this.pushState("text");\n            return 65;\n            // removed by dead control flow\n\n          case 115:\n            return "TEXT";\n            // removed by dead control flow\n\n          case 116:\n            return "QUOTE";\n            // removed by dead control flow\n\n          case 117:\n            return 9;\n            // removed by dead control flow\n\n          case 118:\n            return 10;\n            // removed by dead control flow\n\n          case 119:\n            return 11;\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:accTitle\\s*:\\s*)/, /^(?:(?!\\n||)*[^\\n]*)/, /^(?:accDescr\\s*:\\s*)/, /^(?:(?!\\n||)*[^\\n]*)/, /^(?:accDescr\\s*\\{\\s*)/, /^(?:[\\}])/, /^(?:[^\\}]*)/, /^(?:@\\{)/, /^(?:["])/, /^(?:["])/, /^(?:[^\\"]+)/, /^(?:[^}^"]+)/, /^(?:\\})/, /^(?:call[\\s]+)/, /^(?:\\([\\s]*\\))/, /^(?:\\()/, /^(?:[^(]*)/, /^(?:\\))/, /^(?:[^)]*)/, /^(?:[^`"]+)/, /^(?:[`]["])/, /^(?:["][`])/, /^(?:[^"]+)/, /^(?:["])/, /^(?:["])/, /^(?:style\\b)/, /^(?:default\\b)/, /^(?:linkStyle\\b)/, /^(?:interpolate\\b)/, /^(?:classDef\\b)/, /^(?:class\\b)/, /^(?:href[\\s])/, /^(?:click[\\s]+)/, /^(?:[\\s\\n])/, /^(?:[^\\s\\n]*)/, /^(?:flowchart-elk\\b)/, /^(?:graph\\b)/, /^(?:flowchart\\b)/, /^(?:subgraph\\b)/, /^(?:end\\b\\s*)/, /^(?:_self\\b)/, /^(?:_blank\\b)/, /^(?:_parent\\b)/, /^(?:_top\\b)/, /^(?:(\\r?\\n)*\\s*\\n)/, /^(?:\\s*LR\\b)/, /^(?:\\s*RL\\b)/, /^(?:\\s*TB\\b)/, /^(?:\\s*BT\\b)/, /^(?:\\s*TD\\b)/, /^(?:\\s*BR\\b)/, /^(?:\\s*<)/, /^(?:\\s*>)/, /^(?:\\s*\\^)/, /^(?:\\s*v\\b)/, /^(?:.*direction\\s+TB[^\\n]*)/, /^(?:.*direction\\s+BT[^\\n]*)/, /^(?:.*direction\\s+RL[^\\n]*)/, /^(?:.*direction\\s+LR[^\\n]*)/, /^(?:[^\\s\\"]+@(?=[^\\{\\"]))/, /^(?:[0-9]+)/, /^(?:#)/, /^(?::::)/, /^(?::)/, /^(?:&)/, /^(?:;)/, /^(?:,)/, /^(?:\\*)/, /^(?:\\s*[xo<]?--+[-xo>]\\s*)/, /^(?:\\s*[xo<]?--\\s*)/, /^(?:[^-]|-(?!-)+)/, /^(?:\\s*[xo<]?==+[=xo>]\\s*)/, /^(?:\\s*[xo<]?==\\s*)/, /^(?:[^=]|=(?!))/, /^(?:\\s*[xo<]?-?\\.+-[xo>]?\\s*)/, /^(?:\\s*[xo<]?-\\.\\s*)/, /^(?:[^\\.]|\\.(?!))/, /^(?:\\s*~~[\\~]+\\s*)/, /^(?:[-/\\)][\\)])/, /^(?:[^\\(\\)\\[\\]\\{\\}]|!\\)+)/, /^(?:\\(-)/, /^(?:\\]\\))/, /^(?:\\(\\[)/, /^(?:\\]\\])/, /^(?:\\[\\[)/, /^(?:\\[\\|)/, /^(?:>)/, /^(?:\\)\\])/, /^(?:\\[\\()/, /^(?:\\)\\)\\))/, /^(?:\\(\\(\\()/, /^(?:[\\\\(?=\\])][\\]])/, /^(?:\\/(?=\\])\\])/, /^(?:\\/(?!\\])|\\\\(?!\\])|[^\\\\\\[\\]\\(\\)\\{\\}\\/]+)/, /^(?:\\[\\/)/, /^(?:\\[\\\\)/, /^(?:<)/, /^(?:>)/, /^(?:\\^)/, /^(?:\\\\\\|)/, /^(?:v\\b)/, /^(?:\\*)/, /^(?:#)/, /^(?:&)/, /^(?:([A-Za-z0-9!"\\#$%&\'*+\\.`?\\\\_\\/]|-(?=[^\\>\\-\\.])|(?!))+)/, /^(?:-)/, /^(?:[\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6]|[\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377]|[\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5]|[\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA]|[\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE]|[\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA]|[\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0]|[\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977]|[\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2]|[\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A]|[\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39]|[\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8]|[\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C]|[\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C]|[\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99]|[\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0]|[\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D]|[\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3]|[\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10]|[\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1]|[\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81]|[\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3]|[\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6]|[\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A]|[\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081]|[\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D]|[\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0]|[\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310]|[\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C]|[\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711]|[\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7]|[\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C]|[\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16]|[\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF]|[\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC]|[\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D]|[\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D]|[\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3]|[\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F]|[\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128]|[\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184]|[\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3]|[\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6]|[\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE]|[\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C]|[\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D]|[\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC]|[\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B]|[\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788]|[\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805]|[\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB]|[\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28]|[\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5]|[\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4]|[\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E]|[\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D]|[\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36]|[\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D]|[\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC]|[\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF]|[\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC])/, /^(?:\\|)/, /^(?:\\|)/, /^(?:\\))/, /^(?:\\()/, /^(?:\\])/, /^(?:\\[)/, /^(?:(\\}))/, /^(?:\\{)/, /^(?:[^\\[\\]\\(\\)\\{\\}\\|\\"]+)/, /^(?:")/, /^(?:(\\r?\\n)+)/, /^(?:\\s)/, /^(?:$)/],\n      conditions: { "shapeDataEndBracket": { "rules": [21, 24, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "shapeDataStr": { "rules": [9, 10, 21, 24, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "shapeData": { "rules": [8, 11, 12, 21, 24, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "callbackargs": { "rules": [17, 18, 21, 24, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "callbackname": { "rules": [14, 15, 16, 21, 24, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "href": { "rules": [21, 24, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "click": { "rules": [21, 24, 33, 34, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "dottedEdgeText": { "rules": [21, 24, 74, 76, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "thickEdgeText": { "rules": [21, 24, 71, 73, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "edgeText": { "rules": [21, 24, 68, 70, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "trapText": { "rules": [21, 24, 77, 80, 82, 84, 88, 90, 91, 92, 93, 94, 95, 108, 110, 112, 114], "inclusive": false }, "ellipseText": { "rules": [21, 24, 77, 78, 79, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "text": { "rules": [21, 24, 77, 80, 81, 82, 83, 84, 87, 88, 89, 90, 94, 95, 107, 108, 109, 110, 111, 112, 113, 114, 115], "inclusive": false }, "vertex": { "rules": [21, 24, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "dir": { "rules": [21, 24, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "acc_descr_multiline": { "rules": [5, 6, 21, 24, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "acc_descr": { "rules": [3, 21, 24, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "acc_title": { "rules": [1, 21, 24, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "md_string": { "rules": [19, 20, 21, 24, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "string": { "rules": [21, 22, 23, 24, 77, 80, 82, 84, 88, 90, 94, 95, 108, 110, 112, 114], "inclusive": false }, "INITIAL": { "rules": [0, 2, 4, 7, 13, 21, 24, 25, 26, 27, 28, 29, 30, 31, 32, 35, 36, 37, 38, 39, 40, 41, 42, 43, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 71, 72, 74, 75, 77, 80, 82, 84, 85, 86, 88, 90, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 108, 110, 112, 114, 116, 117, 118, 119], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar flow_default = parser;\n\n// src/diagrams/flowchart/parser/flowParser.ts\nvar newParser = Object.assign({}, flow_default);\nnewParser.parse = (src) => {\n  const newSrc = src.replace(/}\\s*\\n/g, "}\\n");\n  return flow_default.parse(newSrc);\n};\nvar flowParser_default = newParser;\n\n// src/diagrams/flowchart/styles.ts\n\nvar fade = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)((color, opacity) => {\n  const channel2 = khroma__WEBPACK_IMPORTED_MODULE_16__["default"];\n  const r = channel2(color, "r");\n  const g = channel2(color, "g");\n  const b = channel2(color, "b");\n  return khroma__WEBPACK_IMPORTED_MODULE_15__["default"](r, g, b, opacity);\n}, "fade");\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)((options) => `.label {\n    font-family: ${options.fontFamily};\n    color: ${options.nodeTextColor || options.textColor};\n  }\n  .cluster-label text {\n    fill: ${options.titleColor};\n  }\n  .cluster-label span {\n    color: ${options.titleColor};\n  }\n  .cluster-label span p {\n    background-color: transparent;\n  }\n\n  .label text,span {\n    fill: ${options.nodeTextColor || options.textColor};\n    color: ${options.nodeTextColor || options.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${options.mainBkg};\n    stroke: ${options.nodeBorder};\n    stroke-width: 1px;\n  }\n  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {\n    text-anchor: middle;\n  }\n  // .flowchart-label .text-outer-tspan {\n  //   text-anchor: middle;\n  // }\n  // .flowchart-label .text-inner-tspan {\n  //   text-anchor: start;\n  // }\n\n  .node .katex path {\n    fill: #000;\n    stroke: #000;\n    stroke-width: 1px;\n  }\n\n  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n\n  .root .anchor path {\n    fill: ${options.lineColor} !important;\n    stroke-width: 0;\n    stroke: ${options.lineColor};\n  }\n\n  .arrowheadPath {\n    fill: ${options.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${options.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${options.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${options.edgeLabelBackground};\n    p {\n      background-color: ${options.edgeLabelBackground};\n    }\n    rect {\n      opacity: 0.5;\n      background-color: ${options.edgeLabelBackground};\n      fill: ${options.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  /* For html labels only */\n  .labelBkg {\n    background-color: ${fade(options.edgeLabelBackground, 0.5)};\n    // background-color:\n  }\n\n  .cluster rect {\n    fill: ${options.clusterBkg};\n    stroke: ${options.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${options.titleColor};\n  }\n\n  .cluster span {\n    color: ${options.titleColor};\n  }\n  /* .cluster div {\n    color: ${options.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${options.fontFamily};\n    font-size: 12px;\n    background: ${options.tertiaryColor};\n    border: 1px solid ${options.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${options.textColor};\n  }\n\n  rect.text {\n    fill: none;\n    stroke-width: 0;\n  }\n\n  .icon-shape, .image-shape {\n    background-color: ${options.edgeLabelBackground};\n    p {\n      background-color: ${options.edgeLabelBackground};\n      padding: 2px;\n    }\n    rect {\n      opacity: 0.5;\n      background-color: ${options.edgeLabelBackground};\n      fill: ${options.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n  ${(0,_chunk_FMBD7UC4_mjs__WEBPACK_IMPORTED_MODULE_0__.getIconStyles)()}\n`, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/flowchart/flowDiagram.ts\nvar diagram = {\n  parser: flowParser_default,\n  get db() {\n    return new FlowDB();\n  },\n  renderer: flowRenderer_v3_unified_default,\n  styles: styles_default,\n  init: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_13__.__name)((cnf) => {\n    if (!cnf.flowchart) {\n      cnf.flowchart = {};\n    }\n    if (cnf.layout) {\n      (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.setConfig2)({ layout: cnf.layout });\n    }\n    cnf.flowchart.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_12__.setConfig2)({ flowchart: { arrowMarkerAbsolute: cnf.arrowMarkerAbsolute } });\n  }, "init")\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/flowDiagram-NV44I4VS.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/ganttDiagram-LVOFAZNH.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @braintree/sanitize-url */ "./node_modules/@braintree/sanitize-url/dist/index.js");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs */ "./node_modules/dayjs/dayjs.min.js");\n/* harmony import */ var dayjs_plugin_isoWeek_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dayjs/plugin/isoWeek.js */ "./node_modules/dayjs/plugin/isoWeek.js");\n/* harmony import */ var dayjs_plugin_customParseFormat_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! dayjs/plugin/customParseFormat.js */ "./node_modules/dayjs/plugin/customParseFormat.js");\n/* harmony import */ var dayjs_plugin_advancedFormat_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! dayjs/plugin/advancedFormat.js */ "./node_modules/dayjs/plugin/advancedFormat.js");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n\n\n\n\n// src/diagrams/gantt/parser/gantt.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [6, 8, 10, 12, 13, 14, 15, 16, 17, 18, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 33, 35, 36, 38, 40], $V1 = [1, 26], $V2 = [1, 27], $V3 = [1, 28], $V4 = [1, 29], $V5 = [1, 30], $V6 = [1, 31], $V7 = [1, 32], $V8 = [1, 33], $V9 = [1, 34], $Va = [1, 9], $Vb = [1, 10], $Vc = [1, 11], $Vd = [1, 12], $Ve = [1, 13], $Vf = [1, 14], $Vg = [1, 15], $Vh = [1, 16], $Vi = [1, 19], $Vj = [1, 20], $Vk = [1, 21], $Vl = [1, 22], $Vm = [1, 23], $Vn = [1, 25], $Vo = [1, 35];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "start": 3, "gantt": 4, "document": 5, "EOF": 6, "line": 7, "SPACE": 8, "statement": 9, "NL": 10, "weekday": 11, "weekday_monday": 12, "weekday_tuesday": 13, "weekday_wednesday": 14, "weekday_thursday": 15, "weekday_friday": 16, "weekday_saturday": 17, "weekday_sunday": 18, "weekend": 19, "weekend_friday": 20, "weekend_saturday": 21, "dateFormat": 22, "inclusiveEndDates": 23, "topAxis": 24, "axisFormat": 25, "tickInterval": 26, "excludes": 27, "includes": 28, "todayMarker": 29, "title": 30, "acc_title": 31, "acc_title_value": 32, "acc_descr": 33, "acc_descr_value": 34, "acc_descr_multiline_value": 35, "section": 36, "clickStatement": 37, "taskTxt": 38, "taskData": 39, "click": 40, "callbackname": 41, "callbackargs": 42, "href": 43, "clickStatementDebug": 44, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 4: "gantt", 6: "EOF", 8: "SPACE", 10: "NL", 12: "weekday_monday", 13: "weekday_tuesday", 14: "weekday_wednesday", 15: "weekday_thursday", 16: "weekday_friday", 17: "weekday_saturday", 18: "weekday_sunday", 20: "weekend_friday", 21: "weekend_saturday", 22: "dateFormat", 23: "inclusiveEndDates", 24: "topAxis", 25: "axisFormat", 26: "tickInterval", 27: "excludes", 28: "includes", 29: "todayMarker", 30: "title", 31: "acc_title", 32: "acc_title_value", 33: "acc_descr", 34: "acc_descr_value", 35: "acc_descr_multiline_value", 36: "section", 38: "taskTxt", 39: "taskData", 40: "click", 41: "callbackname", 42: "callbackargs", 43: "href" },\n    productions_: [0, [3, 3], [5, 0], [5, 2], [7, 2], [7, 1], [7, 1], [7, 1], [11, 1], [11, 1], [11, 1], [11, 1], [11, 1], [11, 1], [11, 1], [19, 1], [19, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 2], [9, 2], [9, 1], [9, 1], [9, 1], [9, 2], [37, 2], [37, 3], [37, 3], [37, 4], [37, 3], [37, 4], [37, 2], [44, 2], [44, 3], [44, 3], [44, 4], [44, 3], [44, 4], [44, 2]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 1:\n          return $$[$0 - 1];\n          // removed by dead control flow\n\n        case 2:\n          this.$ = [];\n          break;\n        case 3:\n          $$[$0 - 1].push($$[$0]);\n          this.$ = $$[$0 - 1];\n          break;\n        case 4:\n        case 5:\n          this.$ = $$[$0];\n          break;\n        case 6:\n        case 7:\n          this.$ = [];\n          break;\n        case 8:\n          yy.setWeekday("monday");\n          break;\n        case 9:\n          yy.setWeekday("tuesday");\n          break;\n        case 10:\n          yy.setWeekday("wednesday");\n          break;\n        case 11:\n          yy.setWeekday("thursday");\n          break;\n        case 12:\n          yy.setWeekday("friday");\n          break;\n        case 13:\n          yy.setWeekday("saturday");\n          break;\n        case 14:\n          yy.setWeekday("sunday");\n          break;\n        case 15:\n          yy.setWeekend("friday");\n          break;\n        case 16:\n          yy.setWeekend("saturday");\n          break;\n        case 17:\n          yy.setDateFormat($$[$0].substr(11));\n          this.$ = $$[$0].substr(11);\n          break;\n        case 18:\n          yy.enableInclusiveEndDates();\n          this.$ = $$[$0].substr(18);\n          break;\n        case 19:\n          yy.TopAxis();\n          this.$ = $$[$0].substr(8);\n          break;\n        case 20:\n          yy.setAxisFormat($$[$0].substr(11));\n          this.$ = $$[$0].substr(11);\n          break;\n        case 21:\n          yy.setTickInterval($$[$0].substr(13));\n          this.$ = $$[$0].substr(13);\n          break;\n        case 22:\n          yy.setExcludes($$[$0].substr(9));\n          this.$ = $$[$0].substr(9);\n          break;\n        case 23:\n          yy.setIncludes($$[$0].substr(9));\n          this.$ = $$[$0].substr(9);\n          break;\n        case 24:\n          yy.setTodayMarker($$[$0].substr(12));\n          this.$ = $$[$0].substr(12);\n          break;\n        case 27:\n          yy.setDiagramTitle($$[$0].substr(6));\n          this.$ = $$[$0].substr(6);\n          break;\n        case 28:\n          this.$ = $$[$0].trim();\n          yy.setAccTitle(this.$);\n          break;\n        case 29:\n        case 30:\n          this.$ = $$[$0].trim();\n          yy.setAccDescription(this.$);\n          break;\n        case 31:\n          yy.addSection($$[$0].substr(8));\n          this.$ = $$[$0].substr(8);\n          break;\n        case 33:\n          yy.addTask($$[$0 - 1], $$[$0]);\n          this.$ = "task";\n          break;\n        case 34:\n          this.$ = $$[$0 - 1];\n          yy.setClickEvent($$[$0 - 1], $$[$0], null);\n          break;\n        case 35:\n          this.$ = $$[$0 - 2];\n          yy.setClickEvent($$[$0 - 2], $$[$0 - 1], $$[$0]);\n          break;\n        case 36:\n          this.$ = $$[$0 - 2];\n          yy.setClickEvent($$[$0 - 2], $$[$0 - 1], null);\n          yy.setLink($$[$0 - 2], $$[$0]);\n          break;\n        case 37:\n          this.$ = $$[$0 - 3];\n          yy.setClickEvent($$[$0 - 3], $$[$0 - 2], $$[$0 - 1]);\n          yy.setLink($$[$0 - 3], $$[$0]);\n          break;\n        case 38:\n          this.$ = $$[$0 - 2];\n          yy.setClickEvent($$[$0 - 2], $$[$0], null);\n          yy.setLink($$[$0 - 2], $$[$0 - 1]);\n          break;\n        case 39:\n          this.$ = $$[$0 - 3];\n          yy.setClickEvent($$[$0 - 3], $$[$0 - 1], $$[$0]);\n          yy.setLink($$[$0 - 3], $$[$0 - 2]);\n          break;\n        case 40:\n          this.$ = $$[$0 - 1];\n          yy.setLink($$[$0 - 1], $$[$0]);\n          break;\n        case 41:\n        case 47:\n          this.$ = $$[$0 - 1] + " " + $$[$0];\n          break;\n        case 42:\n        case 43:\n        case 45:\n          this.$ = $$[$0 - 2] + " " + $$[$0 - 1] + " " + $$[$0];\n          break;\n        case 44:\n        case 46:\n          this.$ = $$[$0 - 3] + " " + $$[$0 - 2] + " " + $$[$0 - 1] + " " + $$[$0];\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, o($V0, [2, 2], { 5: 3 }), { 6: [1, 4], 7: 5, 8: [1, 6], 9: 7, 10: [1, 8], 11: 17, 12: $V1, 13: $V2, 14: $V3, 15: $V4, 16: $V5, 17: $V6, 18: $V7, 19: 18, 20: $V8, 21: $V9, 22: $Va, 23: $Vb, 24: $Vc, 25: $Vd, 26: $Ve, 27: $Vf, 28: $Vg, 29: $Vh, 30: $Vi, 31: $Vj, 33: $Vk, 35: $Vl, 36: $Vm, 37: 24, 38: $Vn, 40: $Vo }, o($V0, [2, 7], { 1: [2, 1] }), o($V0, [2, 3]), { 9: 36, 11: 17, 12: $V1, 13: $V2, 14: $V3, 15: $V4, 16: $V5, 17: $V6, 18: $V7, 19: 18, 20: $V8, 21: $V9, 22: $Va, 23: $Vb, 24: $Vc, 25: $Vd, 26: $Ve, 27: $Vf, 28: $Vg, 29: $Vh, 30: $Vi, 31: $Vj, 33: $Vk, 35: $Vl, 36: $Vm, 37: 24, 38: $Vn, 40: $Vo }, o($V0, [2, 5]), o($V0, [2, 6]), o($V0, [2, 17]), o($V0, [2, 18]), o($V0, [2, 19]), o($V0, [2, 20]), o($V0, [2, 21]), o($V0, [2, 22]), o($V0, [2, 23]), o($V0, [2, 24]), o($V0, [2, 25]), o($V0, [2, 26]), o($V0, [2, 27]), { 32: [1, 37] }, { 34: [1, 38] }, o($V0, [2, 30]), o($V0, [2, 31]), o($V0, [2, 32]), { 39: [1, 39] }, o($V0, [2, 8]), o($V0, [2, 9]), o($V0, [2, 10]), o($V0, [2, 11]), o($V0, [2, 12]), o($V0, [2, 13]), o($V0, [2, 14]), o($V0, [2, 15]), o($V0, [2, 16]), { 41: [1, 40], 43: [1, 41] }, o($V0, [2, 4]), o($V0, [2, 28]), o($V0, [2, 29]), o($V0, [2, 33]), o($V0, [2, 34], { 42: [1, 42], 43: [1, 43] }), o($V0, [2, 40], { 41: [1, 44] }), o($V0, [2, 35], { 43: [1, 45] }), o($V0, [2, 36]), o($V0, [2, 38], { 42: [1, 46] }), o($V0, [2, 37]), o($V0, [2, 39])],\n    defaultActions: {},\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: { "case-insensitive": true },\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            this.begin("open_directive");\n            return "open_directive";\n            // removed by dead control flow\n\n          case 1:\n            this.begin("acc_title");\n            return 31;\n            // removed by dead control flow\n\n          case 2:\n            this.popState();\n            return "acc_title_value";\n            // removed by dead control flow\n\n          case 3:\n            this.begin("acc_descr");\n            return 33;\n            // removed by dead control flow\n\n          case 4:\n            this.popState();\n            return "acc_descr_value";\n            // removed by dead control flow\n\n          case 5:\n            this.begin("acc_descr_multiline");\n            break;\n          case 6:\n            this.popState();\n            break;\n          case 7:\n            return "acc_descr_multiline_value";\n            // removed by dead control flow\n\n          case 8:\n            break;\n          case 9:\n            break;\n          case 10:\n            break;\n          case 11:\n            return 10;\n            // removed by dead control flow\n\n          case 12:\n            break;\n          case 13:\n            break;\n          case 14:\n            this.begin("href");\n            break;\n          case 15:\n            this.popState();\n            break;\n          case 16:\n            return 43;\n            // removed by dead control flow\n\n          case 17:\n            this.begin("callbackname");\n            break;\n          case 18:\n            this.popState();\n            break;\n          case 19:\n            this.popState();\n            this.begin("callbackargs");\n            break;\n          case 20:\n            return 41;\n            // removed by dead control flow\n\n          case 21:\n            this.popState();\n            break;\n          case 22:\n            return 42;\n            // removed by dead control flow\n\n          case 23:\n            this.begin("click");\n            break;\n          case 24:\n            this.popState();\n            break;\n          case 25:\n            return 40;\n            // removed by dead control flow\n\n          case 26:\n            return 4;\n            // removed by dead control flow\n\n          case 27:\n            return 22;\n            // removed by dead control flow\n\n          case 28:\n            return 23;\n            // removed by dead control flow\n\n          case 29:\n            return 24;\n            // removed by dead control flow\n\n          case 30:\n            return 25;\n            // removed by dead control flow\n\n          case 31:\n            return 26;\n            // removed by dead control flow\n\n          case 32:\n            return 28;\n            // removed by dead control flow\n\n          case 33:\n            return 27;\n            // removed by dead control flow\n\n          case 34:\n            return 29;\n            // removed by dead control flow\n\n          case 35:\n            return 12;\n            // removed by dead control flow\n\n          case 36:\n            return 13;\n            // removed by dead control flow\n\n          case 37:\n            return 14;\n            // removed by dead control flow\n\n          case 38:\n            return 15;\n            // removed by dead control flow\n\n          case 39:\n            return 16;\n            // removed by dead control flow\n\n          case 40:\n            return 17;\n            // removed by dead control flow\n\n          case 41:\n            return 18;\n            // removed by dead control flow\n\n          case 42:\n            return 20;\n            // removed by dead control flow\n\n          case 43:\n            return 21;\n            // removed by dead control flow\n\n          case 44:\n            return "date";\n            // removed by dead control flow\n\n          case 45:\n            return 30;\n            // removed by dead control flow\n\n          case 46:\n            return "accDescription";\n            // removed by dead control flow\n\n          case 47:\n            return 36;\n            // removed by dead control flow\n\n          case 48:\n            return 38;\n            // removed by dead control flow\n\n          case 49:\n            return 39;\n            // removed by dead control flow\n\n          case 50:\n            return ":";\n            // removed by dead control flow\n\n          case 51:\n            return 6;\n            // removed by dead control flow\n\n          case 52:\n            return "INVALID";\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:%%\\{)/i, /^(?:accTitle\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*\\{\\s*)/i, /^(?:[\\}])/i, /^(?:[^\\}]*)/i, /^(?:%%(?!\\{)*[^\\n]*)/i, /^(?:[^\\}]%%*[^\\n]*)/i, /^(?:%%*[^\\n]*[\\n]*)/i, /^(?:[\\n]+)/i, /^(?:\\s+)/i, /^(?:%[^\\n]*)/i, /^(?:href[\\s]+["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:call[\\s]+)/i, /^(?:\\([\\s]*\\))/i, /^(?:\\()/i, /^(?:[^(]*)/i, /^(?:\\))/i, /^(?:[^)]*)/i, /^(?:click[\\s]+)/i, /^(?:[\\s\\n])/i, /^(?:[^\\s\\n]*)/i, /^(?:gantt\\b)/i, /^(?:dateFormat\\s[^#\\n;]+)/i, /^(?:inclusiveEndDates\\b)/i, /^(?:topAxis\\b)/i, /^(?:axisFormat\\s[^#\\n;]+)/i, /^(?:tickInterval\\s[^#\\n;]+)/i, /^(?:includes\\s[^#\\n;]+)/i, /^(?:excludes\\s[^#\\n;]+)/i, /^(?:todayMarker\\s[^\\n;]+)/i, /^(?:weekday\\s+monday\\b)/i, /^(?:weekday\\s+tuesday\\b)/i, /^(?:weekday\\s+wednesday\\b)/i, /^(?:weekday\\s+thursday\\b)/i, /^(?:weekday\\s+friday\\b)/i, /^(?:weekday\\s+saturday\\b)/i, /^(?:weekday\\s+sunday\\b)/i, /^(?:weekend\\s+friday\\b)/i, /^(?:weekend\\s+saturday\\b)/i, /^(?:\\d\\d\\d\\d-\\d\\d-\\d\\d\\b)/i, /^(?:title\\s[^\\n]+)/i, /^(?:accDescription\\s[^#\\n;]+)/i, /^(?:section\\s[^\\n]+)/i, /^(?:[^:\\n]+)/i, /^(?::[^#\\n;]+)/i, /^(?::)/i, /^(?:$)/i, /^(?:.)/i],\n      conditions: { "acc_descr_multiline": { "rules": [6, 7], "inclusive": false }, "acc_descr": { "rules": [4], "inclusive": false }, "acc_title": { "rules": [2], "inclusive": false }, "callbackargs": { "rules": [21, 22], "inclusive": false }, "callbackname": { "rules": [18, 19, 20], "inclusive": false }, "href": { "rules": [15, 16], "inclusive": false }, "click": { "rules": [24, 25], "inclusive": false }, "INITIAL": { "rules": [0, 1, 3, 5, 8, 9, 10, 11, 12, 13, 14, 17, 23, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar gantt_default = parser;\n\n// src/diagrams/gantt/ganttDb.js\n\n\n\n\n\ndayjs__WEBPACK_IMPORTED_MODULE_4__.extend(dayjs_plugin_isoWeek_js__WEBPACK_IMPORTED_MODULE_5__);\ndayjs__WEBPACK_IMPORTED_MODULE_4__.extend(dayjs_plugin_customParseFormat_js__WEBPACK_IMPORTED_MODULE_6__);\ndayjs__WEBPACK_IMPORTED_MODULE_4__.extend(dayjs_plugin_advancedFormat_js__WEBPACK_IMPORTED_MODULE_7__);\nvar WEEKEND_START_DAY = { friday: 5, saturday: 6 };\nvar dateFormat = "";\nvar axisFormat = "";\nvar tickInterval = void 0;\nvar todayMarker = "";\nvar includes = [];\nvar excludes = [];\nvar links = /* @__PURE__ */ new Map();\nvar sections = [];\nvar tasks = [];\nvar currentSection = "";\nvar displayMode = "";\nvar tags = ["active", "done", "crit", "milestone", "vert"];\nvar funs = [];\nvar inclusiveEndDates = false;\nvar topAxis = false;\nvar weekday = "sunday";\nvar weekend = "saturday";\nvar lastOrder = 0;\nvar clear2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  sections = [];\n  tasks = [];\n  currentSection = "";\n  funs = [];\n  taskCnt = 0;\n  lastTask = void 0;\n  lastTaskID = void 0;\n  rawTasks = [];\n  dateFormat = "";\n  axisFormat = "";\n  displayMode = "";\n  tickInterval = void 0;\n  todayMarker = "";\n  includes = [];\n  excludes = [];\n  inclusiveEndDates = false;\n  topAxis = false;\n  lastOrder = 0;\n  links = /* @__PURE__ */ new Map();\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.clear)();\n  weekday = "sunday";\n  weekend = "saturday";\n}, "clear");\nvar setAxisFormat = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(txt) {\n  axisFormat = txt;\n}, "setAxisFormat");\nvar getAxisFormat = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  return axisFormat;\n}, "getAxisFormat");\nvar setTickInterval = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(txt) {\n  tickInterval = txt;\n}, "setTickInterval");\nvar getTickInterval = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  return tickInterval;\n}, "getTickInterval");\nvar setTodayMarker = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(txt) {\n  todayMarker = txt;\n}, "setTodayMarker");\nvar getTodayMarker = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  return todayMarker;\n}, "getTodayMarker");\nvar setDateFormat = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(txt) {\n  dateFormat = txt;\n}, "setDateFormat");\nvar enableInclusiveEndDates = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  inclusiveEndDates = true;\n}, "enableInclusiveEndDates");\nvar endDatesAreInclusive = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  return inclusiveEndDates;\n}, "endDatesAreInclusive");\nvar enableTopAxis = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  topAxis = true;\n}, "enableTopAxis");\nvar topAxisEnabled = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  return topAxis;\n}, "topAxisEnabled");\nvar setDisplayMode = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(txt) {\n  displayMode = txt;\n}, "setDisplayMode");\nvar getDisplayMode = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  return displayMode;\n}, "getDisplayMode");\nvar getDateFormat = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  return dateFormat;\n}, "getDateFormat");\nvar setIncludes = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(txt) {\n  includes = txt.toLowerCase().split(/[\\s,]+/);\n}, "setIncludes");\nvar getIncludes = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  return includes;\n}, "getIncludes");\nvar setExcludes = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(txt) {\n  excludes = txt.toLowerCase().split(/[\\s,]+/);\n}, "setExcludes");\nvar getExcludes = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  return excludes;\n}, "getExcludes");\nvar getLinks = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  return links;\n}, "getLinks");\nvar addSection = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(txt) {\n  currentSection = txt;\n  sections.push(txt);\n}, "addSection");\nvar getSections = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  return sections;\n}, "getSections");\nvar getTasks = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  let allItemsProcessed = compileTasks();\n  const maxDepth = 10;\n  let iterationCount = 0;\n  while (!allItemsProcessed && iterationCount < maxDepth) {\n    allItemsProcessed = compileTasks();\n    iterationCount++;\n  }\n  tasks = rawTasks;\n  return tasks;\n}, "getTasks");\nvar isInvalidDate = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(date, dateFormat2, excludes2, includes2) {\n  const formattedDate = date.format(dateFormat2.trim());\n  const dateOnly = date.format("YYYY-MM-DD");\n  if (includes2.includes(formattedDate) || includes2.includes(dateOnly)) {\n    return false;\n  }\n  if (excludes2.includes("weekends") && (date.isoWeekday() === WEEKEND_START_DAY[weekend] || date.isoWeekday() === WEEKEND_START_DAY[weekend] + 1)) {\n    return true;\n  }\n  if (excludes2.includes(date.format("dddd").toLowerCase())) {\n    return true;\n  }\n  return excludes2.includes(formattedDate) || excludes2.includes(dateOnly);\n}, "isInvalidDate");\nvar setWeekday = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(txt) {\n  weekday = txt;\n}, "setWeekday");\nvar getWeekday = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  return weekday;\n}, "getWeekday");\nvar setWeekend = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(startDay) {\n  weekend = startDay;\n}, "setWeekend");\nvar checkTaskDates = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(task, dateFormat2, excludes2, includes2) {\n  if (!excludes2.length || task.manualEndTime) {\n    return;\n  }\n  let startTime;\n  if (task.startTime instanceof Date) {\n    startTime = dayjs__WEBPACK_IMPORTED_MODULE_4__(task.startTime);\n  } else {\n    startTime = dayjs__WEBPACK_IMPORTED_MODULE_4__(task.startTime, dateFormat2, true);\n  }\n  startTime = startTime.add(1, "d");\n  let originalEndTime;\n  if (task.endTime instanceof Date) {\n    originalEndTime = dayjs__WEBPACK_IMPORTED_MODULE_4__(task.endTime);\n  } else {\n    originalEndTime = dayjs__WEBPACK_IMPORTED_MODULE_4__(task.endTime, dateFormat2, true);\n  }\n  const [fixedEndTime, renderEndTime] = fixTaskDates(\n    startTime,\n    originalEndTime,\n    dateFormat2,\n    excludes2,\n    includes2\n  );\n  task.endTime = fixedEndTime.toDate();\n  task.renderEndTime = renderEndTime;\n}, "checkTaskDates");\nvar fixTaskDates = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(startTime, endTime, dateFormat2, excludes2, includes2) {\n  let invalid = false;\n  let renderEndTime = null;\n  while (startTime <= endTime) {\n    if (!invalid) {\n      renderEndTime = endTime.toDate();\n    }\n    invalid = isInvalidDate(startTime, dateFormat2, excludes2, includes2);\n    if (invalid) {\n      endTime = endTime.add(1, "d");\n    }\n    startTime = startTime.add(1, "d");\n  }\n  return [endTime, renderEndTime];\n}, "fixTaskDates");\nvar getStartDate = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(prevTime, dateFormat2, str) {\n  str = str.trim();\n  if ((dateFormat2.trim() === "x" || dateFormat2.trim() === "X") && /^\\d+$/.test(str)) {\n    return new Date(Number(str));\n  }\n  const afterRePattern = /^after\\s+(?<ids>[\\d\\w- ]+)/;\n  const afterStatement = afterRePattern.exec(str);\n  if (afterStatement !== null) {\n    let latestTask = null;\n    for (const id of afterStatement.groups.ids.split(" ")) {\n      let task = findTaskById(id);\n      if (task !== void 0 && (!latestTask || task.endTime > latestTask.endTime)) {\n        latestTask = task;\n      }\n    }\n    if (latestTask) {\n      return latestTask.endTime;\n    }\n    const today = /* @__PURE__ */ new Date();\n    today.setHours(0, 0, 0, 0);\n    return today;\n  }\n  let mDate = dayjs__WEBPACK_IMPORTED_MODULE_4__(str, dateFormat2.trim(), true);\n  if (mDate.isValid()) {\n    return mDate.toDate();\n  } else {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.log.debug("Invalid date:" + str);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.log.debug("With date format:" + dateFormat2.trim());\n    const d = new Date(str);\n    if (d === void 0 || isNaN(d.getTime()) || // WebKit browsers can mis-parse invalid dates to be ridiculously\n    // huge numbers, e.g. new Date(\'202304\') gets parsed as January 1, 202304.\n    // This can cause virtually infinite loops while rendering, so for the\n    // purposes of Gantt charts we\'ll just treat any date beyond 10,000 AD/BC as\n    // invalid.\n    d.getFullYear() < -1e4 || d.getFullYear() > 1e4) {\n      throw new Error("Invalid date:" + str);\n    }\n    return d;\n  }\n}, "getStartDate");\nvar parseDuration = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(str) {\n  const statement = /^(\\d+(?:\\.\\d+)?)([Mdhmswy]|ms)$/.exec(str.trim());\n  if (statement !== null) {\n    return [Number.parseFloat(statement[1]), statement[2]];\n  }\n  return [NaN, "ms"];\n}, "parseDuration");\nvar getEndDate = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(prevTime, dateFormat2, str, inclusive = false) {\n  str = str.trim();\n  const untilRePattern = /^until\\s+(?<ids>[\\d\\w- ]+)/;\n  const untilStatement = untilRePattern.exec(str);\n  if (untilStatement !== null) {\n    let earliestTask = null;\n    for (const id of untilStatement.groups.ids.split(" ")) {\n      let task = findTaskById(id);\n      if (task !== void 0 && (!earliestTask || task.startTime < earliestTask.startTime)) {\n        earliestTask = task;\n      }\n    }\n    if (earliestTask) {\n      return earliestTask.startTime;\n    }\n    const today = /* @__PURE__ */ new Date();\n    today.setHours(0, 0, 0, 0);\n    return today;\n  }\n  let parsedDate = dayjs__WEBPACK_IMPORTED_MODULE_4__(str, dateFormat2.trim(), true);\n  if (parsedDate.isValid()) {\n    if (inclusive) {\n      parsedDate = parsedDate.add(1, "d");\n    }\n    return parsedDate.toDate();\n  }\n  let endTime = dayjs__WEBPACK_IMPORTED_MODULE_4__(prevTime);\n  const [durationValue, durationUnit] = parseDuration(str);\n  if (!Number.isNaN(durationValue)) {\n    const newEndTime = endTime.add(durationValue, durationUnit);\n    if (newEndTime.isValid()) {\n      endTime = newEndTime;\n    }\n  }\n  return endTime.toDate();\n}, "getEndDate");\nvar taskCnt = 0;\nvar parseId = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(idStr) {\n  if (idStr === void 0) {\n    taskCnt = taskCnt + 1;\n    return "task" + taskCnt;\n  }\n  return idStr;\n}, "parseId");\nvar compileData = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(prevTask, dataStr) {\n  let ds;\n  if (dataStr.substr(0, 1) === ":") {\n    ds = dataStr.substr(1, dataStr.length);\n  } else {\n    ds = dataStr;\n  }\n  const data = ds.split(",");\n  const task = {};\n  getTaskTags(data, task, tags);\n  for (let i = 0; i < data.length; i++) {\n    data[i] = data[i].trim();\n  }\n  let endTimeData = "";\n  switch (data.length) {\n    case 1:\n      task.id = parseId();\n      task.startTime = prevTask.endTime;\n      endTimeData = data[0];\n      break;\n    case 2:\n      task.id = parseId();\n      task.startTime = getStartDate(void 0, dateFormat, data[0]);\n      endTimeData = data[1];\n      break;\n    case 3:\n      task.id = parseId(data[0]);\n      task.startTime = getStartDate(void 0, dateFormat, data[1]);\n      endTimeData = data[2];\n      break;\n    default:\n  }\n  if (endTimeData) {\n    task.endTime = getEndDate(task.startTime, dateFormat, endTimeData, inclusiveEndDates);\n    task.manualEndTime = dayjs__WEBPACK_IMPORTED_MODULE_4__(endTimeData, "YYYY-MM-DD", true).isValid();\n    checkTaskDates(task, dateFormat, excludes, includes);\n  }\n  return task;\n}, "compileData");\nvar parseData = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(prevTaskId, dataStr) {\n  let ds;\n  if (dataStr.substr(0, 1) === ":") {\n    ds = dataStr.substr(1, dataStr.length);\n  } else {\n    ds = dataStr;\n  }\n  const data = ds.split(",");\n  const task = {};\n  getTaskTags(data, task, tags);\n  for (let i = 0; i < data.length; i++) {\n    data[i] = data[i].trim();\n  }\n  switch (data.length) {\n    case 1:\n      task.id = parseId();\n      task.startTime = {\n        type: "prevTaskEnd",\n        id: prevTaskId\n      };\n      task.endTime = {\n        data: data[0]\n      };\n      break;\n    case 2:\n      task.id = parseId();\n      task.startTime = {\n        type: "getStartDate",\n        startData: data[0]\n      };\n      task.endTime = {\n        data: data[1]\n      };\n      break;\n    case 3:\n      task.id = parseId(data[0]);\n      task.startTime = {\n        type: "getStartDate",\n        startData: data[1]\n      };\n      task.endTime = {\n        data: data[2]\n      };\n      break;\n    default:\n  }\n  return task;\n}, "parseData");\nvar lastTask;\nvar lastTaskID;\nvar rawTasks = [];\nvar taskDb = {};\nvar addTask = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(descr, data) {\n  const rawTask = {\n    section: currentSection,\n    type: currentSection,\n    processed: false,\n    manualEndTime: false,\n    renderEndTime: null,\n    raw: { data },\n    task: descr,\n    classes: []\n  };\n  const taskInfo = parseData(lastTaskID, data);\n  rawTask.raw.startTime = taskInfo.startTime;\n  rawTask.raw.endTime = taskInfo.endTime;\n  rawTask.id = taskInfo.id;\n  rawTask.prevTaskId = lastTaskID;\n  rawTask.active = taskInfo.active;\n  rawTask.done = taskInfo.done;\n  rawTask.crit = taskInfo.crit;\n  rawTask.milestone = taskInfo.milestone;\n  rawTask.vert = taskInfo.vert;\n  rawTask.order = lastOrder;\n  lastOrder++;\n  const pos = rawTasks.push(rawTask);\n  lastTaskID = rawTask.id;\n  taskDb[rawTask.id] = pos - 1;\n}, "addTask");\nvar findTaskById = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(id) {\n  const pos = taskDb[id];\n  return rawTasks[pos];\n}, "findTaskById");\nvar addTaskOrg = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(descr, data) {\n  const newTask = {\n    section: currentSection,\n    type: currentSection,\n    description: descr,\n    task: descr,\n    classes: []\n  };\n  const taskInfo = compileData(lastTask, data);\n  newTask.startTime = taskInfo.startTime;\n  newTask.endTime = taskInfo.endTime;\n  newTask.id = taskInfo.id;\n  newTask.active = taskInfo.active;\n  newTask.done = taskInfo.done;\n  newTask.crit = taskInfo.crit;\n  newTask.milestone = taskInfo.milestone;\n  newTask.vert = taskInfo.vert;\n  lastTask = newTask;\n  tasks.push(newTask);\n}, "addTaskOrg");\nvar compileTasks = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  const compileTask = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(pos) {\n    const task = rawTasks[pos];\n    let startTime = "";\n    switch (rawTasks[pos].raw.startTime.type) {\n      case "prevTaskEnd": {\n        const prevTask = findTaskById(task.prevTaskId);\n        task.startTime = prevTask.endTime;\n        break;\n      }\n      case "getStartDate":\n        startTime = getStartDate(void 0, dateFormat, rawTasks[pos].raw.startTime.startData);\n        if (startTime) {\n          rawTasks[pos].startTime = startTime;\n        }\n        break;\n    }\n    if (rawTasks[pos].startTime) {\n      rawTasks[pos].endTime = getEndDate(\n        rawTasks[pos].startTime,\n        dateFormat,\n        rawTasks[pos].raw.endTime.data,\n        inclusiveEndDates\n      );\n      if (rawTasks[pos].endTime) {\n        rawTasks[pos].processed = true;\n        rawTasks[pos].manualEndTime = dayjs__WEBPACK_IMPORTED_MODULE_4__(\n          rawTasks[pos].raw.endTime.data,\n          "YYYY-MM-DD",\n          true\n        ).isValid();\n        checkTaskDates(rawTasks[pos], dateFormat, excludes, includes);\n      }\n    }\n    return rawTasks[pos].processed;\n  }, "compileTask");\n  let allProcessed = true;\n  for (const [i, rawTask] of rawTasks.entries()) {\n    compileTask(i);\n    allProcessed = allProcessed && rawTask.processed;\n  }\n  return allProcessed;\n}, "compileTasks");\nvar setLink = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(ids, _linkStr) {\n  let linkStr = _linkStr;\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.getConfig2)().securityLevel !== "loose") {\n    linkStr = (0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_3__.sanitizeUrl)(_linkStr);\n  }\n  ids.split(",").forEach(function(id) {\n    let rawTask = findTaskById(id);\n    if (rawTask !== void 0) {\n      pushFun(id, () => {\n        window.open(linkStr, "_self");\n      });\n      links.set(id, linkStr);\n    }\n  });\n  setClass(ids, "clickable");\n}, "setLink");\nvar setClass = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(ids, className) {\n  ids.split(",").forEach(function(id) {\n    let rawTask = findTaskById(id);\n    if (rawTask !== void 0) {\n      rawTask.classes.push(className);\n    }\n  });\n}, "setClass");\nvar setClickFun = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(id, functionName, functionArgs) {\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.getConfig2)().securityLevel !== "loose") {\n    return;\n  }\n  if (functionName === void 0) {\n    return;\n  }\n  let argList = [];\n  if (typeof functionArgs === "string") {\n    argList = functionArgs.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);\n    for (let i = 0; i < argList.length; i++) {\n      let item = argList[i].trim();\n      if (item.startsWith(\'"\') && item.endsWith(\'"\')) {\n        item = item.substr(1, item.length - 2);\n      }\n      argList[i] = item;\n    }\n  }\n  if (argList.length === 0) {\n    argList.push(id);\n  }\n  let rawTask = findTaskById(id);\n  if (rawTask !== void 0) {\n    pushFun(id, () => {\n      _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_0__.utils_default.runFunc(functionName, ...argList);\n    });\n  }\n}, "setClickFun");\nvar pushFun = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(id, callbackFunction) {\n  funs.push(\n    function() {\n      const elem = document.querySelector(`[id="${id}"]`);\n      if (elem !== null) {\n        elem.addEventListener("click", function() {\n          callbackFunction();\n        });\n      }\n    },\n    function() {\n      const elem = document.querySelector(`[id="${id}-text"]`);\n      if (elem !== null) {\n        elem.addEventListener("click", function() {\n          callbackFunction();\n        });\n      }\n    }\n  );\n}, "pushFun");\nvar setClickEvent = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(ids, functionName, functionArgs) {\n  ids.split(",").forEach(function(id) {\n    setClickFun(id, functionName, functionArgs);\n  });\n  setClass(ids, "clickable");\n}, "setClickEvent");\nvar bindFunctions = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(element) {\n  funs.forEach(function(fun) {\n    fun(element);\n  });\n}, "bindFunctions");\nvar ganttDb_default = {\n  getConfig: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(() => (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.getConfig2)().gantt, "getConfig"),\n  clear: clear2,\n  setDateFormat,\n  getDateFormat,\n  enableInclusiveEndDates,\n  endDatesAreInclusive,\n  enableTopAxis,\n  topAxisEnabled,\n  setAxisFormat,\n  getAxisFormat,\n  setTickInterval,\n  getTickInterval,\n  setTodayMarker,\n  getTodayMarker,\n  setAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.setAccTitle,\n  getAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.getAccTitle,\n  setDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.setDiagramTitle,\n  getDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.getDiagramTitle,\n  setDisplayMode,\n  getDisplayMode,\n  setAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.setAccDescription,\n  getAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.getAccDescription,\n  addSection,\n  getSections,\n  getTasks,\n  addTask,\n  findTaskById,\n  addTaskOrg,\n  setIncludes,\n  getIncludes,\n  setExcludes,\n  getExcludes,\n  setClickEvent,\n  setLink,\n  getLinks,\n  bindFunctions,\n  parseDuration,\n  isInvalidDate,\n  setWeekday,\n  getWeekday,\n  setWeekend\n};\nfunction getTaskTags(data, task, tags2) {\n  let matchFound = true;\n  while (matchFound) {\n    matchFound = false;\n    tags2.forEach(function(t) {\n      const pattern = "^\\\\s*" + t + "\\\\s*$";\n      const regex = new RegExp(pattern);\n      if (data[0].match(regex)) {\n        task[t] = true;\n        data.shift(1);\n        matchFound = true;\n      }\n    });\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(getTaskTags, "getTaskTags");\n\n// src/diagrams/gantt/ganttRenderer.js\n\n\nvar setConf = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function() {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.log.debug("Something is calling, setConf, remove the call");\n}, "setConf");\nvar mapWeekdayToTimeFunction = {\n  monday: d3__WEBPACK_IMPORTED_MODULE_8__.timeMonday,\n  tuesday: d3__WEBPACK_IMPORTED_MODULE_8__.timeTuesday,\n  wednesday: d3__WEBPACK_IMPORTED_MODULE_8__.timeWednesday,\n  thursday: d3__WEBPACK_IMPORTED_MODULE_8__.timeThursday,\n  friday: d3__WEBPACK_IMPORTED_MODULE_8__.timeFriday,\n  saturday: d3__WEBPACK_IMPORTED_MODULE_8__.timeSaturday,\n  sunday: d3__WEBPACK_IMPORTED_MODULE_8__.timeSunday\n};\nvar getMaxIntersections = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((tasks2, orderOffset) => {\n  let timeline = [...tasks2].map(() => -Infinity);\n  let sorted = [...tasks2].sort((a, b) => a.startTime - b.startTime || a.order - b.order);\n  let maxIntersections = 0;\n  for (const element of sorted) {\n    for (let j = 0; j < timeline.length; j++) {\n      if (element.startTime >= timeline[j]) {\n        timeline[j] = element.endTime;\n        element.order = j + orderOffset;\n        if (j > maxIntersections) {\n          maxIntersections = j;\n        }\n        break;\n      }\n    }\n  }\n  return maxIntersections;\n}, "getMaxIntersections");\nvar w;\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(function(text, id, version, diagObj) {\n  const conf = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.getConfig2)().gantt;\n  const securityLevel = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.getConfig2)().securityLevel;\n  let sandboxElement;\n  if (securityLevel === "sandbox") {\n    sandboxElement = (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)("#i" + id);\n  }\n  const root = securityLevel === "sandbox" ? (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)("body");\n  const doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;\n  const elem = doc.getElementById(id);\n  w = elem.parentElement.offsetWidth;\n  if (w === void 0) {\n    w = 1200;\n  }\n  if (conf.useWidth !== void 0) {\n    w = conf.useWidth;\n  }\n  const taskArray = diagObj.db.getTasks();\n  let categories = [];\n  for (const element of taskArray) {\n    categories.push(element.type);\n  }\n  categories = checkUnique(categories);\n  const categoryHeights = {};\n  let h = 2 * conf.topPadding;\n  if (diagObj.db.getDisplayMode() === "compact" || conf.displayMode === "compact") {\n    const categoryElements = {};\n    for (const element of taskArray) {\n      if (categoryElements[element.section] === void 0) {\n        categoryElements[element.section] = [element];\n      } else {\n        categoryElements[element.section].push(element);\n      }\n    }\n    let intersections = 0;\n    for (const category of Object.keys(categoryElements)) {\n      const categoryHeight = getMaxIntersections(categoryElements[category], intersections) + 1;\n      intersections += categoryHeight;\n      h += categoryHeight * (conf.barHeight + conf.barGap);\n      categoryHeights[category] = categoryHeight;\n    }\n  } else {\n    h += taskArray.length * (conf.barHeight + conf.barGap);\n    for (const category of categories) {\n      categoryHeights[category] = taskArray.filter((task) => task.type === category).length;\n    }\n  }\n  elem.setAttribute("viewBox", "0 0 " + w + " " + h);\n  const svg = root.select(`[id="${id}"]`);\n  const timeScale = (0,d3__WEBPACK_IMPORTED_MODULE_8__.scaleTime)().domain([\n    (0,d3__WEBPACK_IMPORTED_MODULE_8__.min)(taskArray, function(d) {\n      return d.startTime;\n    }),\n    (0,d3__WEBPACK_IMPORTED_MODULE_8__.max)(taskArray, function(d) {\n      return d.endTime;\n    })\n  ]).rangeRound([0, w - conf.leftPadding - conf.rightPadding]);\n  function taskCompare(a, b) {\n    const taskA = a.startTime;\n    const taskB = b.startTime;\n    let result = 0;\n    if (taskA > taskB) {\n      result = 1;\n    } else if (taskA < taskB) {\n      result = -1;\n    }\n    return result;\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(taskCompare, "taskCompare");\n  taskArray.sort(taskCompare);\n  makeGantt(taskArray, w, h);\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.configureSvgSize)(svg, h, w, conf.useMaxWidth);\n  svg.append("text").text(diagObj.db.getDiagramTitle()).attr("x", w / 2).attr("y", conf.titleTopMargin).attr("class", "titleText");\n  function makeGantt(tasks2, pageWidth, pageHeight) {\n    const barHeight = conf.barHeight;\n    const gap = barHeight + conf.barGap;\n    const topPadding = conf.topPadding;\n    const leftPadding = conf.leftPadding;\n    const colorScale = (0,d3__WEBPACK_IMPORTED_MODULE_8__.scaleLinear)().domain([0, categories.length]).range(["#00B9FA", "#F95002"]).interpolate(d3__WEBPACK_IMPORTED_MODULE_8__.interpolateHcl);\n    drawExcludeDays(\n      gap,\n      topPadding,\n      leftPadding,\n      pageWidth,\n      pageHeight,\n      tasks2,\n      diagObj.db.getExcludes(),\n      diagObj.db.getIncludes()\n    );\n    makeGrid(leftPadding, topPadding, pageWidth, pageHeight);\n    drawRects(tasks2, gap, topPadding, leftPadding, barHeight, colorScale, pageWidth, pageHeight);\n    vertLabels(gap, topPadding, leftPadding, barHeight, colorScale);\n    drawToday(leftPadding, topPadding, pageWidth, pageHeight);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(makeGantt, "makeGantt");\n  function drawRects(theArray, theGap, theTopPad, theSidePad, theBarHeight, theColorScale, w2) {\n    theArray.sort((a, b) => a.vert === b.vert ? 0 : a.vert ? 1 : -1);\n    const uniqueTaskOrderIds = [...new Set(theArray.map((item) => item.order))];\n    const uniqueTasks = uniqueTaskOrderIds.map((id2) => theArray.find((item) => item.order === id2));\n    svg.append("g").selectAll("rect").data(uniqueTasks).enter().append("rect").attr("x", 0).attr("y", function(d, i) {\n      i = d.order;\n      return i * theGap + theTopPad - 2;\n    }).attr("width", function() {\n      return w2 - conf.rightPadding / 2;\n    }).attr("height", theGap).attr("class", function(d) {\n      for (const [i, category] of categories.entries()) {\n        if (d.type === category) {\n          return "section section" + i % conf.numberSectionStyles;\n        }\n      }\n      return "section section0";\n    }).enter();\n    const rectangles = svg.append("g").selectAll("rect").data(theArray).enter();\n    const links2 = diagObj.db.getLinks();\n    rectangles.append("rect").attr("id", function(d) {\n      return d.id;\n    }).attr("rx", 3).attr("ry", 3).attr("x", function(d) {\n      if (d.milestone) {\n        return timeScale(d.startTime) + theSidePad + 0.5 * (timeScale(d.endTime) - timeScale(d.startTime)) - 0.5 * theBarHeight;\n      }\n      return timeScale(d.startTime) + theSidePad;\n    }).attr("y", function(d, i) {\n      i = d.order;\n      if (d.vert) {\n        return conf.gridLineStartPadding;\n      }\n      return i * theGap + theTopPad;\n    }).attr("width", function(d) {\n      if (d.milestone) {\n        return theBarHeight;\n      }\n      if (d.vert) {\n        return 0.08 * theBarHeight;\n      }\n      return timeScale(d.renderEndTime || d.endTime) - timeScale(d.startTime);\n    }).attr("height", function(d) {\n      if (d.vert) {\n        return taskArray.length * (conf.barHeight + conf.barGap) + conf.barHeight * 2;\n      }\n      return theBarHeight;\n    }).attr("transform-origin", function(d, i) {\n      i = d.order;\n      return (timeScale(d.startTime) + theSidePad + 0.5 * (timeScale(d.endTime) - timeScale(d.startTime))).toString() + "px " + (i * theGap + theTopPad + 0.5 * theBarHeight).toString() + "px";\n    }).attr("class", function(d) {\n      const res = "task";\n      let classStr = "";\n      if (d.classes.length > 0) {\n        classStr = d.classes.join(" ");\n      }\n      let secNum = 0;\n      for (const [i, category] of categories.entries()) {\n        if (d.type === category) {\n          secNum = i % conf.numberSectionStyles;\n        }\n      }\n      let taskClass = "";\n      if (d.active) {\n        if (d.crit) {\n          taskClass += " activeCrit";\n        } else {\n          taskClass = " active";\n        }\n      } else if (d.done) {\n        if (d.crit) {\n          taskClass = " doneCrit";\n        } else {\n          taskClass = " done";\n        }\n      } else {\n        if (d.crit) {\n          taskClass += " crit";\n        }\n      }\n      if (taskClass.length === 0) {\n        taskClass = " task";\n      }\n      if (d.milestone) {\n        taskClass = " milestone " + taskClass;\n      }\n      if (d.vert) {\n        taskClass = " vert " + taskClass;\n      }\n      taskClass += secNum;\n      taskClass += " " + classStr;\n      return res + taskClass;\n    });\n    rectangles.append("text").attr("id", function(d) {\n      return d.id + "-text";\n    }).text(function(d) {\n      return d.task;\n    }).attr("font-size", conf.fontSize).attr("x", function(d) {\n      let startX = timeScale(d.startTime);\n      let endX = timeScale(d.renderEndTime || d.endTime);\n      if (d.milestone) {\n        startX += 0.5 * (timeScale(d.endTime) - timeScale(d.startTime)) - 0.5 * theBarHeight;\n        endX = startX + theBarHeight;\n      }\n      if (d.vert) {\n        return timeScale(d.startTime) + theSidePad;\n      }\n      const textWidth = this.getBBox().width;\n      if (textWidth > endX - startX) {\n        if (endX + textWidth + 1.5 * conf.leftPadding > w2) {\n          return startX + theSidePad - 5;\n        } else {\n          return endX + theSidePad + 5;\n        }\n      } else {\n        return (endX - startX) / 2 + startX + theSidePad;\n      }\n    }).attr("y", function(d, i) {\n      if (d.vert) {\n        return conf.gridLineStartPadding + taskArray.length * (conf.barHeight + conf.barGap) + 60;\n      }\n      i = d.order;\n      return i * theGap + conf.barHeight / 2 + (conf.fontSize / 2 - 2) + theTopPad;\n    }).attr("text-height", theBarHeight).attr("class", function(d) {\n      const startX = timeScale(d.startTime);\n      let endX = timeScale(d.endTime);\n      if (d.milestone) {\n        endX = startX + theBarHeight;\n      }\n      const textWidth = this.getBBox().width;\n      let classStr = "";\n      if (d.classes.length > 0) {\n        classStr = d.classes.join(" ");\n      }\n      let secNum = 0;\n      for (const [i, category] of categories.entries()) {\n        if (d.type === category) {\n          secNum = i % conf.numberSectionStyles;\n        }\n      }\n      let taskType = "";\n      if (d.active) {\n        if (d.crit) {\n          taskType = "activeCritText" + secNum;\n        } else {\n          taskType = "activeText" + secNum;\n        }\n      }\n      if (d.done) {\n        if (d.crit) {\n          taskType = taskType + " doneCritText" + secNum;\n        } else {\n          taskType = taskType + " doneText" + secNum;\n        }\n      } else {\n        if (d.crit) {\n          taskType = taskType + " critText" + secNum;\n        }\n      }\n      if (d.milestone) {\n        taskType += " milestoneText";\n      }\n      if (d.vert) {\n        taskType += " vertText";\n      }\n      if (textWidth > endX - startX) {\n        if (endX + textWidth + 1.5 * conf.leftPadding > w2) {\n          return classStr + " taskTextOutsideLeft taskTextOutside" + secNum + " " + taskType;\n        } else {\n          return classStr + " taskTextOutsideRight taskTextOutside" + secNum + " " + taskType + " width-" + textWidth;\n        }\n      } else {\n        return classStr + " taskText taskText" + secNum + " " + taskType + " width-" + textWidth;\n      }\n    });\n    const securityLevel2 = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.getConfig2)().securityLevel;\n    if (securityLevel2 === "sandbox") {\n      let sandboxElement2;\n      sandboxElement2 = (0,d3__WEBPACK_IMPORTED_MODULE_8__.select)("#i" + id);\n      const doc2 = sandboxElement2.nodes()[0].contentDocument;\n      rectangles.filter(function(d) {\n        return links2.has(d.id);\n      }).each(function(o) {\n        var taskRect = doc2.querySelector("#" + o.id);\n        var taskText = doc2.querySelector("#" + o.id + "-text");\n        const oldParent = taskRect.parentNode;\n        var Link = doc2.createElement("a");\n        Link.setAttribute("xlink:href", links2.get(o.id));\n        Link.setAttribute("target", "_top");\n        oldParent.appendChild(Link);\n        Link.appendChild(taskRect);\n        Link.appendChild(taskText);\n      });\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(drawRects, "drawRects");\n  function drawExcludeDays(theGap, theTopPad, theSidePad, w2, h2, tasks2, excludes2, includes2) {\n    if (excludes2.length === 0 && includes2.length === 0) {\n      return;\n    }\n    let minTime;\n    let maxTime;\n    for (const { startTime, endTime } of tasks2) {\n      if (minTime === void 0 || startTime < minTime) {\n        minTime = startTime;\n      }\n      if (maxTime === void 0 || endTime > maxTime) {\n        maxTime = endTime;\n      }\n    }\n    if (!minTime || !maxTime) {\n      return;\n    }\n    if (dayjs__WEBPACK_IMPORTED_MODULE_4__(maxTime).diff(dayjs__WEBPACK_IMPORTED_MODULE_4__(minTime), "year") > 5) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.log.warn(\n        "The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days."\n      );\n      return;\n    }\n    const dateFormat2 = diagObj.db.getDateFormat();\n    const excludeRanges = [];\n    let range = null;\n    let d = dayjs__WEBPACK_IMPORTED_MODULE_4__(minTime);\n    while (d.valueOf() <= maxTime) {\n      if (diagObj.db.isInvalidDate(d, dateFormat2, excludes2, includes2)) {\n        if (!range) {\n          range = {\n            start: d,\n            end: d\n          };\n        } else {\n          range.end = d;\n        }\n      } else {\n        if (range) {\n          excludeRanges.push(range);\n          range = null;\n        }\n      }\n      d = d.add(1, "d");\n    }\n    const rectangles = svg.append("g").selectAll("rect").data(excludeRanges).enter();\n    rectangles.append("rect").attr("id", (d2) => "exclude-" + d2.start.format("YYYY-MM-DD")).attr("x", (d2) => timeScale(d2.start.startOf("day")) + theSidePad).attr("y", conf.gridLineStartPadding).attr("width", (d2) => timeScale(d2.end.endOf("day")) - timeScale(d2.start.startOf("day"))).attr("height", h2 - theTopPad - conf.gridLineStartPadding).attr("transform-origin", function(d2, i) {\n      return (timeScale(d2.start) + theSidePad + 0.5 * (timeScale(d2.end) - timeScale(d2.start))).toString() + "px " + (i * theGap + 0.5 * h2).toString() + "px";\n    }).attr("class", "exclude-range");\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(drawExcludeDays, "drawExcludeDays");\n  function makeGrid(theSidePad, theTopPad, w2, h2) {\n    const dateFormat2 = diagObj.db.getDateFormat();\n    const userAxisFormat = diagObj.db.getAxisFormat();\n    let axisFormat2;\n    if (userAxisFormat) {\n      axisFormat2 = userAxisFormat;\n    } else if (dateFormat2 === "D") {\n      axisFormat2 = "%d";\n    } else {\n      axisFormat2 = conf.axisFormat ?? "%Y-%m-%d";\n    }\n    let bottomXAxis = (0,d3__WEBPACK_IMPORTED_MODULE_8__.axisBottom)(timeScale).tickSize(-h2 + theTopPad + conf.gridLineStartPadding).tickFormat((0,d3__WEBPACK_IMPORTED_MODULE_8__.timeFormat)(axisFormat2));\n    const reTickInterval = /^([1-9]\\d*)(millisecond|second|minute|hour|day|week|month)$/;\n    const resultTickInterval = reTickInterval.exec(\n      diagObj.db.getTickInterval() || conf.tickInterval\n    );\n    if (resultTickInterval !== null) {\n      const every = resultTickInterval[1];\n      const interval = resultTickInterval[2];\n      const weekday2 = diagObj.db.getWeekday() || conf.weekday;\n      switch (interval) {\n        case "millisecond":\n          bottomXAxis.ticks(d3__WEBPACK_IMPORTED_MODULE_8__.timeMillisecond.every(every));\n          break;\n        case "second":\n          bottomXAxis.ticks(d3__WEBPACK_IMPORTED_MODULE_8__.timeSecond.every(every));\n          break;\n        case "minute":\n          bottomXAxis.ticks(d3__WEBPACK_IMPORTED_MODULE_8__.timeMinute.every(every));\n          break;\n        case "hour":\n          bottomXAxis.ticks(d3__WEBPACK_IMPORTED_MODULE_8__.timeHour.every(every));\n          break;\n        case "day":\n          bottomXAxis.ticks(d3__WEBPACK_IMPORTED_MODULE_8__.timeDay.every(every));\n          break;\n        case "week":\n          bottomXAxis.ticks(mapWeekdayToTimeFunction[weekday2].every(every));\n          break;\n        case "month":\n          bottomXAxis.ticks(d3__WEBPACK_IMPORTED_MODULE_8__.timeMonth.every(every));\n          break;\n      }\n    }\n    svg.append("g").attr("class", "grid").attr("transform", "translate(" + theSidePad + ", " + (h2 - 50) + ")").call(bottomXAxis).selectAll("text").style("text-anchor", "middle").attr("fill", "#000").attr("stroke", "none").attr("font-size", 10).attr("dy", "1em");\n    if (diagObj.db.topAxisEnabled() || conf.topAxis) {\n      let topXAxis = (0,d3__WEBPACK_IMPORTED_MODULE_8__.axisTop)(timeScale).tickSize(-h2 + theTopPad + conf.gridLineStartPadding).tickFormat((0,d3__WEBPACK_IMPORTED_MODULE_8__.timeFormat)(axisFormat2));\n      if (resultTickInterval !== null) {\n        const every = resultTickInterval[1];\n        const interval = resultTickInterval[2];\n        const weekday2 = diagObj.db.getWeekday() || conf.weekday;\n        switch (interval) {\n          case "millisecond":\n            topXAxis.ticks(d3__WEBPACK_IMPORTED_MODULE_8__.timeMillisecond.every(every));\n            break;\n          case "second":\n            topXAxis.ticks(d3__WEBPACK_IMPORTED_MODULE_8__.timeSecond.every(every));\n            break;\n          case "minute":\n            topXAxis.ticks(d3__WEBPACK_IMPORTED_MODULE_8__.timeMinute.every(every));\n            break;\n          case "hour":\n            topXAxis.ticks(d3__WEBPACK_IMPORTED_MODULE_8__.timeHour.every(every));\n            break;\n          case "day":\n            topXAxis.ticks(d3__WEBPACK_IMPORTED_MODULE_8__.timeDay.every(every));\n            break;\n          case "week":\n            topXAxis.ticks(mapWeekdayToTimeFunction[weekday2].every(every));\n            break;\n          case "month":\n            topXAxis.ticks(d3__WEBPACK_IMPORTED_MODULE_8__.timeMonth.every(every));\n            break;\n        }\n      }\n      svg.append("g").attr("class", "grid").attr("transform", "translate(" + theSidePad + ", " + theTopPad + ")").call(topXAxis).selectAll("text").style("text-anchor", "middle").attr("fill", "#000").attr("stroke", "none").attr("font-size", 10);\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(makeGrid, "makeGrid");\n  function vertLabels(theGap, theTopPad) {\n    let prevGap = 0;\n    const numOccurrences = Object.keys(categoryHeights).map((d) => [d, categoryHeights[d]]);\n    svg.append("g").selectAll("text").data(numOccurrences).enter().append(function(d) {\n      const rows = d[0].split(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_1__.common_default.lineBreakRegex);\n      const dy = -(rows.length - 1) / 2;\n      const svgLabel = doc.createElementNS("http://www.w3.org/2000/svg", "text");\n      svgLabel.setAttribute("dy", dy + "em");\n      for (const [j, row] of rows.entries()) {\n        const tspan = doc.createElementNS("http://www.w3.org/2000/svg", "tspan");\n        tspan.setAttribute("alignment-baseline", "central");\n        tspan.setAttribute("x", "10");\n        if (j > 0) {\n          tspan.setAttribute("dy", "1em");\n        }\n        tspan.textContent = row;\n        svgLabel.appendChild(tspan);\n      }\n      return svgLabel;\n    }).attr("x", 10).attr("y", function(d, i) {\n      if (i > 0) {\n        for (let j = 0; j < i; j++) {\n          prevGap += numOccurrences[i - 1][1];\n          return d[1] * theGap / 2 + prevGap * theGap + theTopPad;\n        }\n      } else {\n        return d[1] * theGap / 2 + theTopPad;\n      }\n    }).attr("font-size", conf.sectionFontSize).attr("class", function(d) {\n      for (const [i, category] of categories.entries()) {\n        if (d[0] === category) {\n          return "sectionTitle sectionTitle" + i % conf.numberSectionStyles;\n        }\n      }\n      return "sectionTitle";\n    });\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(vertLabels, "vertLabels");\n  function drawToday(theSidePad, theTopPad, w2, h2) {\n    const todayMarker2 = diagObj.db.getTodayMarker();\n    if (todayMarker2 === "off") {\n      return;\n    }\n    const todayG = svg.append("g").attr("class", "today");\n    const today = /* @__PURE__ */ new Date();\n    const todayLine = todayG.append("line");\n    todayLine.attr("x1", timeScale(today) + theSidePad).attr("x2", timeScale(today) + theSidePad).attr("y1", conf.titleTopMargin).attr("y2", h2 - conf.titleTopMargin).attr("class", "today");\n    if (todayMarker2 !== "") {\n      todayLine.attr("style", todayMarker2.replace(/,/g, ";"));\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(drawToday, "drawToday");\n  function checkUnique(arr) {\n    const hash = {};\n    const result = [];\n    for (let i = 0, l = arr.length; i < l; ++i) {\n      if (!Object.prototype.hasOwnProperty.call(hash, arr[i])) {\n        hash[arr[i]] = true;\n        result.push(arr[i]);\n      }\n    }\n    return result;\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(checkUnique, "checkUnique");\n}, "draw");\nvar ganttRenderer_default = {\n  setConf,\n  draw\n};\n\n// src/diagrams/gantt/styles.js\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((options) => `\n  .mermaid-main-font {\n        font-family: ${options.fontFamily};\n  }\n\n  .exclude-range {\n    fill: ${options.excludeBkgColor};\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: ${options.sectionBkgColor};\n  }\n\n  .section2 {\n    fill: ${options.sectionBkgColor2};\n  }\n\n  .section1,\n  .section3 {\n    fill: ${options.altSectionBkgColor};\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ${options.titleColor};\n  }\n\n  .sectionTitle1 {\n    fill: ${options.titleColor};\n  }\n\n  .sectionTitle2 {\n    fill: ${options.titleColor};\n  }\n\n  .sectionTitle3 {\n    fill: ${options.titleColor};\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    font-family: ${options.fontFamily};\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ${options.gridColor};\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n  }\n\n  .grid .tick text {\n    font-family: ${options.fontFamily};\n    fill: ${options.textColor};\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ${options.todayLineColor};\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: ${options.fontFamily};\n  }\n\n  .taskTextOutsideRight {\n    fill: ${options.taskTextDarkColor};\n    text-anchor: start;\n    font-family: ${options.fontFamily};\n  }\n\n  .taskTextOutsideLeft {\n    fill: ${options.taskTextDarkColor};\n    text-anchor: end;\n  }\n\n\n  /* Special case clickable */\n\n  .task.clickable {\n    cursor: pointer;\n  }\n\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ${options.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ${options.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ${options.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ${options.taskTextColor};\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ${options.taskBkgColor};\n    stroke: ${options.taskBorderColor};\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ${options.taskTextOutsideColor};\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ${options.taskTextOutsideColor};\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ${options.activeTaskBkgColor};\n    stroke: ${options.activeTaskBorderColor};\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ${options.taskTextDarkColor} !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ${options.doneTaskBorderColor};\n    fill: ${options.doneTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ${options.taskTextDarkColor} !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ${options.critBorderColor};\n    fill: ${options.critBkgColor};\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ${options.critBorderColor};\n    fill: ${options.activeTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ${options.critBorderColor};\n    fill: ${options.doneTaskBkgColor};\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ${options.taskTextDarkColor} !important;\n  }\n\n  .vert {\n    stroke: ${options.vertLineColor};\n  }\n\n  .vertText {\n    font-size: 15px;\n    text-anchor: middle;\n    fill: ${options.vertLineColor} !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ${options.taskTextDarkColor} !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${options.titleColor || options.textColor};\n    font-family: ${options.fontFamily};\n  }\n`, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/gantt/ganttDiagram.ts\nvar diagram = {\n  parser: gantt_default,\n  db: ganttDb_default,\n  renderer: ganttRenderer_default,\n  styles: styles_default\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/ganttDiagram-LVOFAZNH.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/gitGraphDiagram-NY62KEGX.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_4BX2VUAB_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-4BX2VUAB.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-4BX2VUAB.mjs");\n/* harmony import */ var _chunk_QZHKN3VN_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-QZHKN3VN.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QZHKN3VN.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var _mermaid_js_parser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mermaid-js/parser */ "./node_modules/@mermaid-js/parser/dist/mermaid-parser.core.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n\n\n\n\n\n\n// src/diagrams/git/gitGraphParser.ts\n\n\n// src/diagrams/git/gitGraphTypes.ts\nvar commitType = {\n  NORMAL: 0,\n  REVERSE: 1,\n  HIGHLIGHT: 2,\n  MERGE: 3,\n  CHERRY_PICK: 4\n};\n\n// src/diagrams/git/gitGraphAst.ts\nvar DEFAULT_GITGRAPH_CONFIG = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.defaultConfig_default.gitGraph;\nvar getConfig3 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(() => {\n  const config = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__.cleanAndMerge)({\n    ...DEFAULT_GITGRAPH_CONFIG,\n    ...(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig)().gitGraph\n  });\n  return config;\n}, "getConfig");\nvar state = new _chunk_QZHKN3VN_mjs__WEBPACK_IMPORTED_MODULE_1__.ImperativeState(() => {\n  const config = getConfig3();\n  const mainBranchName = config.mainBranchName;\n  const mainBranchOrder = config.mainBranchOrder;\n  return {\n    mainBranchName,\n    commits: /* @__PURE__ */ new Map(),\n    head: null,\n    branchConfig: /* @__PURE__ */ new Map([[mainBranchName, { name: mainBranchName, order: mainBranchOrder }]]),\n    branches: /* @__PURE__ */ new Map([[mainBranchName, null]]),\n    currBranch: mainBranchName,\n    direction: "LR",\n    seq: 0,\n    options: {}\n  };\n});\nfunction getID() {\n  return (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__.random)({ length: 7 });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getID, "getID");\nfunction uniqBy(list, fn) {\n  const recordMap = /* @__PURE__ */ Object.create(null);\n  return list.reduce((out, item) => {\n    const key = fn(item);\n    if (!recordMap[key]) {\n      recordMap[key] = true;\n      out.push(item);\n    }\n    return out;\n  }, []);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(uniqBy, "uniqBy");\nvar setDirection = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function(dir2) {\n  state.records.direction = dir2;\n}, "setDirection");\nvar setOptions = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function(rawOptString) {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug("options str", rawOptString);\n  rawOptString = rawOptString?.trim();\n  rawOptString = rawOptString || "{}";\n  try {\n    state.records.options = JSON.parse(rawOptString);\n  } catch (e) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.error("error while parsing gitGraph options", e.message);\n  }\n}, "setOptions");\nvar getOptions = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n  return state.records.options;\n}, "getOptions");\nvar commit = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function(commitDB) {\n  let msg = commitDB.msg;\n  let id = commitDB.id;\n  const type = commitDB.type;\n  let tags = commitDB.tags;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.info("commit", msg, id, type, tags);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug("Entering commit:", msg, id, type, tags);\n  const config = getConfig3();\n  id = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(id, config);\n  msg = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(msg, config);\n  tags = tags?.map((tag) => _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(tag, config));\n  const newCommit = {\n    id: id ? id : state.records.seq + "-" + getID(),\n    message: msg,\n    seq: state.records.seq++,\n    type: type ?? commitType.NORMAL,\n    tags: tags ?? [],\n    parents: state.records.head == null ? [] : [state.records.head.id],\n    branch: state.records.currBranch\n  };\n  state.records.head = newCommit;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.info("main branch", config.mainBranchName);\n  if (state.records.commits.has(newCommit.id)) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.warn(`Commit ID ${newCommit.id} already exists`);\n  }\n  state.records.commits.set(newCommit.id, newCommit);\n  state.records.branches.set(state.records.currBranch, newCommit.id);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug("in pushCommit " + newCommit.id);\n}, "commit");\nvar branch = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function(branchDB) {\n  let name = branchDB.name;\n  const order = branchDB.order;\n  name = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(name, getConfig3());\n  if (state.records.branches.has(name)) {\n    throw new Error(\n      `Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${name}")`\n    );\n  }\n  state.records.branches.set(name, state.records.head != null ? state.records.head.id : null);\n  state.records.branchConfig.set(name, { name, order });\n  checkout(name);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug("in createBranch");\n}, "branch");\nvar merge = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((mergeDB) => {\n  let otherBranch = mergeDB.branch;\n  let customId = mergeDB.id;\n  const overrideType = mergeDB.type;\n  const customTags = mergeDB.tags;\n  const config = getConfig3();\n  otherBranch = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(otherBranch, config);\n  if (customId) {\n    customId = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(customId, config);\n  }\n  const currentBranchCheck = state.records.branches.get(state.records.currBranch);\n  const otherBranchCheck = state.records.branches.get(otherBranch);\n  const currentCommit = currentBranchCheck ? state.records.commits.get(currentBranchCheck) : void 0;\n  const otherCommit = otherBranchCheck ? state.records.commits.get(otherBranchCheck) : void 0;\n  if (currentCommit && otherCommit && currentCommit.branch === otherBranch) {\n    throw new Error(`Cannot merge branch \'${otherBranch}\' into itself.`);\n  }\n  if (state.records.currBranch === otherBranch) {\n    const error = new Error(\'Incorrect usage of "merge". Cannot merge a branch to itself\');\n    error.hash = {\n      text: `merge ${otherBranch}`,\n      token: `merge ${otherBranch}`,\n      expected: ["branch abc"]\n    };\n    throw error;\n  }\n  if (currentCommit === void 0 || !currentCommit) {\n    const error = new Error(\n      `Incorrect usage of "merge". Current branch (${state.records.currBranch})has no commits`\n    );\n    error.hash = {\n      text: `merge ${otherBranch}`,\n      token: `merge ${otherBranch}`,\n      expected: ["commit"]\n    };\n    throw error;\n  }\n  if (!state.records.branches.has(otherBranch)) {\n    const error = new Error(\n      \'Incorrect usage of "merge". Branch to be merged (\' + otherBranch + ") does not exist"\n    );\n    error.hash = {\n      text: `merge ${otherBranch}`,\n      token: `merge ${otherBranch}`,\n      expected: [`branch ${otherBranch}`]\n    };\n    throw error;\n  }\n  if (otherCommit === void 0 || !otherCommit) {\n    const error = new Error(\n      \'Incorrect usage of "merge". Branch to be merged (\' + otherBranch + ") has no commits"\n    );\n    error.hash = {\n      text: `merge ${otherBranch}`,\n      token: `merge ${otherBranch}`,\n      expected: [\'"commit"\']\n    };\n    throw error;\n  }\n  if (currentCommit === otherCommit) {\n    const error = new Error(\'Incorrect usage of "merge". Both branches have same head\');\n    error.hash = {\n      text: `merge ${otherBranch}`,\n      token: `merge ${otherBranch}`,\n      expected: ["branch abc"]\n    };\n    throw error;\n  }\n  if (customId && state.records.commits.has(customId)) {\n    const error = new Error(\n      \'Incorrect usage of "merge". Commit with id:\' + customId + " already exists, use different custom id"\n    );\n    error.hash = {\n      text: `merge ${otherBranch} ${customId} ${overrideType} ${customTags?.join(" ")}`,\n      token: `merge ${otherBranch} ${customId} ${overrideType} ${customTags?.join(" ")}`,\n      expected: [\n        `merge ${otherBranch} ${customId}_UNIQUE ${overrideType} ${customTags?.join(" ")}`\n      ]\n    };\n    throw error;\n  }\n  const verifiedBranch = otherBranchCheck ? otherBranchCheck : "";\n  const commit2 = {\n    id: customId || `${state.records.seq}-${getID()}`,\n    message: `merged branch ${otherBranch} into ${state.records.currBranch}`,\n    seq: state.records.seq++,\n    parents: state.records.head == null ? [] : [state.records.head.id, verifiedBranch],\n    branch: state.records.currBranch,\n    type: commitType.MERGE,\n    customType: overrideType,\n    customId: customId ? true : false,\n    tags: customTags ?? []\n  };\n  state.records.head = commit2;\n  state.records.commits.set(commit2.id, commit2);\n  state.records.branches.set(state.records.currBranch, commit2.id);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug(state.records.branches);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug("in mergeBranch");\n}, "merge");\nvar cherryPick = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function(cherryPickDB) {\n  let sourceId = cherryPickDB.id;\n  let targetId = cherryPickDB.targetId;\n  let tags = cherryPickDB.tags;\n  let parentCommitId = cherryPickDB.parent;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug("Entering cherryPick:", sourceId, targetId, tags);\n  const config = getConfig3();\n  sourceId = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(sourceId, config);\n  targetId = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(targetId, config);\n  tags = tags?.map((tag) => _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(tag, config));\n  parentCommitId = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(parentCommitId, config);\n  if (!sourceId || !state.records.commits.has(sourceId)) {\n    const error = new Error(\n      \'Incorrect usage of "cherryPick". Source commit id should exist and provided\'\n    );\n    error.hash = {\n      text: `cherryPick ${sourceId} ${targetId}`,\n      token: `cherryPick ${sourceId} ${targetId}`,\n      expected: ["cherry-pick abc"]\n    };\n    throw error;\n  }\n  const sourceCommit = state.records.commits.get(sourceId);\n  if (sourceCommit === void 0 || !sourceCommit) {\n    throw new Error(\'Incorrect usage of "cherryPick". Source commit id should exist and provided\');\n  }\n  if (parentCommitId && !(Array.isArray(sourceCommit.parents) && sourceCommit.parents.includes(parentCommitId))) {\n    const error = new Error(\n      "Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit."\n    );\n    throw error;\n  }\n  const sourceCommitBranch = sourceCommit.branch;\n  if (sourceCommit.type === commitType.MERGE && !parentCommitId) {\n    const error = new Error(\n      "Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified."\n    );\n    throw error;\n  }\n  if (!targetId || !state.records.commits.has(targetId)) {\n    if (sourceCommitBranch === state.records.currBranch) {\n      const error = new Error(\n        \'Incorrect usage of "cherryPick". Source commit is already on current branch\'\n      );\n      error.hash = {\n        text: `cherryPick ${sourceId} ${targetId}`,\n        token: `cherryPick ${sourceId} ${targetId}`,\n        expected: ["cherry-pick abc"]\n      };\n      throw error;\n    }\n    const currentCommitId = state.records.branches.get(state.records.currBranch);\n    if (currentCommitId === void 0 || !currentCommitId) {\n      const error = new Error(\n        `Incorrect usage of "cherry-pick". Current branch (${state.records.currBranch})has no commits`\n      );\n      error.hash = {\n        text: `cherryPick ${sourceId} ${targetId}`,\n        token: `cherryPick ${sourceId} ${targetId}`,\n        expected: ["cherry-pick abc"]\n      };\n      throw error;\n    }\n    const currentCommit = state.records.commits.get(currentCommitId);\n    if (currentCommit === void 0 || !currentCommit) {\n      const error = new Error(\n        `Incorrect usage of "cherry-pick". Current branch (${state.records.currBranch})has no commits`\n      );\n      error.hash = {\n        text: `cherryPick ${sourceId} ${targetId}`,\n        token: `cherryPick ${sourceId} ${targetId}`,\n        expected: ["cherry-pick abc"]\n      };\n      throw error;\n    }\n    const commit2 = {\n      id: state.records.seq + "-" + getID(),\n      message: `cherry-picked ${sourceCommit?.message} into ${state.records.currBranch}`,\n      seq: state.records.seq++,\n      parents: state.records.head == null ? [] : [state.records.head.id, sourceCommit.id],\n      branch: state.records.currBranch,\n      type: commitType.CHERRY_PICK,\n      tags: tags ? tags.filter(Boolean) : [\n        `cherry-pick:${sourceCommit.id}${sourceCommit.type === commitType.MERGE ? `|parent:${parentCommitId}` : ""}`\n      ]\n    };\n    state.records.head = commit2;\n    state.records.commits.set(commit2.id, commit2);\n    state.records.branches.set(state.records.currBranch, commit2.id);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug(state.records.branches);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug("in cherryPick");\n  }\n}, "cherryPick");\nvar checkout = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function(branch2) {\n  branch2 = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(branch2, getConfig3());\n  if (!state.records.branches.has(branch2)) {\n    const error = new Error(\n      `Trying to checkout branch which is not yet created. (Help try using "branch ${branch2}")`\n    );\n    error.hash = {\n      text: `checkout ${branch2}`,\n      token: `checkout ${branch2}`,\n      expected: [`branch ${branch2}`]\n    };\n    throw error;\n  } else {\n    state.records.currBranch = branch2;\n    const id = state.records.branches.get(state.records.currBranch);\n    if (id === void 0 || !id) {\n      state.records.head = null;\n    } else {\n      state.records.head = state.records.commits.get(id) ?? null;\n    }\n  }\n}, "checkout");\nfunction upsert(arr, key, newVal) {\n  const index = arr.indexOf(key);\n  if (index === -1) {\n    arr.push(newVal);\n  } else {\n    arr.splice(index, 1, newVal);\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(upsert, "upsert");\nfunction prettyPrintCommitHistory(commitArr) {\n  const commit2 = commitArr.reduce((out, commit3) => {\n    if (out.seq > commit3.seq) {\n      return out;\n    }\n    return commit3;\n  }, commitArr[0]);\n  let line = "";\n  commitArr.forEach(function(c) {\n    if (c === commit2) {\n      line += "\t*";\n    } else {\n      line += "\t|";\n    }\n  });\n  const label = [line, commit2.id, commit2.seq];\n  for (const branch2 in state.records.branches) {\n    if (state.records.branches.get(branch2) === commit2.id) {\n      label.push(branch2);\n    }\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug(label.join(" "));\n  if (commit2.parents && commit2.parents.length == 2 && commit2.parents[0] && commit2.parents[1]) {\n    const newCommit = state.records.commits.get(commit2.parents[0]);\n    upsert(commitArr, commit2, newCommit);\n    if (commit2.parents[1]) {\n      commitArr.push(state.records.commits.get(commit2.parents[1]));\n    }\n  } else if (commit2.parents.length == 0) {\n    return;\n  } else {\n    if (commit2.parents[0]) {\n      const newCommit = state.records.commits.get(commit2.parents[0]);\n      upsert(commitArr, commit2, newCommit);\n    }\n  }\n  commitArr = uniqBy(commitArr, (c) => c.id);\n  prettyPrintCommitHistory(commitArr);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(prettyPrintCommitHistory, "prettyPrintCommitHistory");\nvar prettyPrint = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug(state.records.commits);\n  const node = getCommitsArray()[0];\n  prettyPrintCommitHistory([node]);\n}, "prettyPrint");\nvar clear2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n  state.reset();\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.clear)();\n}, "clear");\nvar getBranchesAsObjArray = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n  const branchesArray = [...state.records.branchConfig.values()].map((branchConfig, i) => {\n    if (branchConfig.order !== null && branchConfig.order !== void 0) {\n      return branchConfig;\n    }\n    return {\n      ...branchConfig,\n      order: parseFloat(`0.${i}`)\n    };\n  }).sort((a, b) => (a.order ?? 0) - (b.order ?? 0)).map(({ name }) => ({ name }));\n  return branchesArray;\n}, "getBranchesAsObjArray");\nvar getBranches = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n  return state.records.branches;\n}, "getBranches");\nvar getCommits = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n  return state.records.commits;\n}, "getCommits");\nvar getCommitsArray = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n  const commitArr = [...state.records.commits.values()];\n  commitArr.forEach(function(o) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug(o.id);\n  });\n  commitArr.sort((a, b) => a.seq - b.seq);\n  return commitArr;\n}, "getCommitsArray");\nvar getCurrentBranch = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n  return state.records.currBranch;\n}, "getCurrentBranch");\nvar getDirection = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n  return state.records.direction;\n}, "getDirection");\nvar getHead = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n  return state.records.head;\n}, "getHead");\nvar db = {\n  commitType,\n  getConfig: getConfig3,\n  setDirection,\n  setOptions,\n  getOptions,\n  commit,\n  branch,\n  merge,\n  cherryPick,\n  checkout,\n  //reset,\n  prettyPrint,\n  clear: clear2,\n  getBranchesAsObjArray,\n  getBranches,\n  getCommits,\n  getCommitsArray,\n  getCurrentBranch,\n  getDirection,\n  getHead,\n  setAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setAccTitle,\n  getAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getAccTitle,\n  getAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getAccDescription,\n  setAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setAccDescription,\n  setDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setDiagramTitle,\n  getDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getDiagramTitle\n};\n\n// src/diagrams/git/gitGraphParser.ts\nvar populate = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((ast, db2) => {\n  (0,_chunk_4BX2VUAB_mjs__WEBPACK_IMPORTED_MODULE_0__.populateCommonDb)(ast, db2);\n  if (ast.dir) {\n    db2.setDirection(ast.dir);\n  }\n  for (const statement of ast.statements) {\n    parseStatement(statement, db2);\n  }\n}, "populate");\nvar parseStatement = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((statement, db2) => {\n  const parsers = {\n    Commit: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((stmt) => db2.commit(parseCommit(stmt)), "Commit"),\n    Branch: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((stmt) => db2.branch(parseBranch(stmt)), "Branch"),\n    Merge: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((stmt) => db2.merge(parseMerge(stmt)), "Merge"),\n    Checkout: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((stmt) => db2.checkout(parseCheckout(stmt)), "Checkout"),\n    CherryPicking: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((stmt) => db2.cherryPick(parseCherryPicking(stmt)), "CherryPicking")\n  };\n  const parser2 = parsers[statement.$type];\n  if (parser2) {\n    parser2(statement);\n  } else {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.error(`Unknown statement type: ${statement.$type}`);\n  }\n}, "parseStatement");\nvar parseCommit = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((commit2) => {\n  const commitDB = {\n    id: commit2.id,\n    msg: commit2.message ?? "",\n    type: commit2.type !== void 0 ? commitType[commit2.type] : commitType.NORMAL,\n    tags: commit2.tags ?? void 0\n  };\n  return commitDB;\n}, "parseCommit");\nvar parseBranch = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((branch2) => {\n  const branchDB = {\n    name: branch2.name,\n    order: branch2.order ?? 0\n  };\n  return branchDB;\n}, "parseBranch");\nvar parseMerge = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((merge2) => {\n  const mergeDB = {\n    branch: merge2.branch,\n    id: merge2.id ?? "",\n    type: merge2.type !== void 0 ? commitType[merge2.type] : void 0,\n    tags: merge2.tags ?? void 0\n  };\n  return mergeDB;\n}, "parseMerge");\nvar parseCheckout = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((checkout2) => {\n  const branch2 = checkout2.branch;\n  return branch2;\n}, "parseCheckout");\nvar parseCherryPicking = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((cherryPicking) => {\n  const cherryPickDB = {\n    id: cherryPicking.id,\n    targetId: "",\n    tags: cherryPicking.tags?.length === 0 ? void 0 : cherryPicking.tags,\n    parent: cherryPicking.parent\n  };\n  return cherryPickDB;\n}, "parseCherryPicking");\nvar parser = {\n  parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(async (input) => {\n    const ast = await (0,_mermaid_js_parser__WEBPACK_IMPORTED_MODULE_5__.parse)("gitGraph", input);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug(ast);\n    populate(ast, db);\n  }, "parse")\n};\nif (void 0) {\n  const { it, expect, describe } = void 0;\n  const mockDB = {\n    commitType,\n    setDirection: vi.fn(),\n    commit: vi.fn(),\n    branch: vi.fn(),\n    merge: vi.fn(),\n    cherryPick: vi.fn(),\n    checkout: vi.fn()\n  };\n  describe("GitGraph Parser", () => {\n    it("should parse a commit statement", () => {\n      const commit2 = {\n        $type: "Commit",\n        id: "1",\n        message: "test",\n        tags: ["tag1", "tag2"],\n        type: "NORMAL"\n      };\n      parseStatement(commit2, mockDB);\n      expect(mockDB.commit).toHaveBeenCalledWith({\n        id: "1",\n        msg: "test",\n        tags: ["tag1", "tag2"],\n        type: 0\n      });\n    });\n    it("should parse a branch statement", () => {\n      const branch2 = {\n        $type: "Branch",\n        name: "newBranch",\n        order: 1\n      };\n      parseStatement(branch2, mockDB);\n      expect(mockDB.branch).toHaveBeenCalledWith({ name: "newBranch", order: 1 });\n    });\n    it("should parse a checkout statement", () => {\n      const checkout2 = {\n        $type: "Checkout",\n        branch: "newBranch"\n      };\n      parseStatement(checkout2, mockDB);\n      expect(mockDB.checkout).toHaveBeenCalledWith("newBranch");\n    });\n    it("should parse a merge statement", () => {\n      const merge2 = {\n        $type: "Merge",\n        branch: "newBranch",\n        id: "1",\n        tags: ["tag1", "tag2"],\n        type: "NORMAL"\n      };\n      parseStatement(merge2, mockDB);\n      expect(mockDB.merge).toHaveBeenCalledWith({\n        branch: "newBranch",\n        id: "1",\n        tags: ["tag1", "tag2"],\n        type: 0\n      });\n    });\n    it("should parse a cherry picking statement", () => {\n      const cherryPick2 = {\n        $type: "CherryPicking",\n        id: "1",\n        tags: ["tag1", "tag2"],\n        parent: "2"\n      };\n      parseStatement(cherryPick2, mockDB);\n      expect(mockDB.cherryPick).toHaveBeenCalledWith({\n        id: "1",\n        targetId: "",\n        parent: "2",\n        tags: ["tag1", "tag2"]\n      });\n    });\n    it("should parse a langium generated gitGraph ast", () => {\n      const dummy = {\n        $type: "GitGraph",\n        statements: []\n      };\n      const gitGraphAst = {\n        $type: "GitGraph",\n        statements: [\n          {\n            $container: dummy,\n            $type: "Commit",\n            id: "1",\n            message: "test",\n            tags: ["tag1", "tag2"],\n            type: "NORMAL"\n          },\n          {\n            $container: dummy,\n            $type: "Branch",\n            name: "newBranch",\n            order: 1\n          },\n          {\n            $container: dummy,\n            $type: "Merge",\n            branch: "newBranch",\n            id: "1",\n            tags: ["tag1", "tag2"],\n            type: "NORMAL"\n          },\n          {\n            $container: dummy,\n            $type: "Checkout",\n            branch: "newBranch"\n          },\n          {\n            $container: dummy,\n            $type: "CherryPicking",\n            id: "1",\n            tags: ["tag1", "tag2"],\n            parent: "2"\n          }\n        ]\n      };\n      populate(gitGraphAst, mockDB);\n      expect(mockDB.commit).toHaveBeenCalledWith({\n        id: "1",\n        msg: "test",\n        tags: ["tag1", "tag2"],\n        type: 0\n      });\n      expect(mockDB.branch).toHaveBeenCalledWith({ name: "newBranch", order: 1 });\n      expect(mockDB.merge).toHaveBeenCalledWith({\n        branch: "newBranch",\n        id: "1",\n        tags: ["tag1", "tag2"],\n        type: 0\n      });\n      expect(mockDB.checkout).toHaveBeenCalledWith("newBranch");\n    });\n  });\n}\n\n// src/diagrams/git/gitGraphRenderer.ts\n\nvar DEFAULT_CONFIG = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)();\nvar DEFAULT_GITGRAPH_CONFIG2 = DEFAULT_CONFIG?.gitGraph;\nvar LAYOUT_OFFSET = 10;\nvar COMMIT_STEP = 40;\nvar PX = 4;\nvar PY = 2;\nvar THEME_COLOR_LIMIT = 8;\nvar branchPos = /* @__PURE__ */ new Map();\nvar commitPos = /* @__PURE__ */ new Map();\nvar defaultPos = 30;\nvar allCommitsDict = /* @__PURE__ */ new Map();\nvar lanes = [];\nvar maxPos = 0;\nvar dir = "LR";\nvar clear3 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(() => {\n  branchPos.clear();\n  commitPos.clear();\n  allCommitsDict.clear();\n  maxPos = 0;\n  lanes = [];\n  dir = "LR";\n}, "clear");\nvar drawText = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((txt) => {\n  const svgLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");\n  const rows = typeof txt === "string" ? txt.split(/\\\\n|\\n|<br\\s*\\/?>/gi) : txt;\n  rows.forEach((row) => {\n    const tspan = document.createElementNS("http://www.w3.org/2000/svg", "tspan");\n    tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve");\n    tspan.setAttribute("dy", "1em");\n    tspan.setAttribute("x", "0");\n    tspan.setAttribute("class", "row");\n    tspan.textContent = row.trim();\n    svgLabel.appendChild(tspan);\n  });\n  return svgLabel;\n}, "drawText");\nvar findClosestParent = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((parents) => {\n  let closestParent;\n  let comparisonFunc;\n  let targetPosition;\n  if (dir === "BT") {\n    comparisonFunc = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((a, b) => a <= b, "comparisonFunc");\n    targetPosition = Infinity;\n  } else {\n    comparisonFunc = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((a, b) => a >= b, "comparisonFunc");\n    targetPosition = 0;\n  }\n  parents.forEach((parent) => {\n    const parentPosition = dir === "TB" || dir == "BT" ? commitPos.get(parent)?.y : commitPos.get(parent)?.x;\n    if (parentPosition !== void 0 && comparisonFunc(parentPosition, targetPosition)) {\n      closestParent = parent;\n      targetPosition = parentPosition;\n    }\n  });\n  return closestParent;\n}, "findClosestParent");\nvar findClosestParentBT = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((parents) => {\n  let closestParent = "";\n  let maxPosition = Infinity;\n  parents.forEach((parent) => {\n    const parentPosition = commitPos.get(parent).y;\n    if (parentPosition <= maxPosition) {\n      closestParent = parent;\n      maxPosition = parentPosition;\n    }\n  });\n  return closestParent || void 0;\n}, "findClosestParentBT");\nvar setParallelBTPos = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((sortedKeys, commits, defaultPos2) => {\n  let curPos = defaultPos2;\n  let maxPosition = defaultPos2;\n  const roots = [];\n  sortedKeys.forEach((key) => {\n    const commit2 = commits.get(key);\n    if (!commit2) {\n      throw new Error(`Commit not found for key ${key}`);\n    }\n    if (commit2.parents.length) {\n      curPos = calculateCommitPosition(commit2);\n      maxPosition = Math.max(curPos, maxPosition);\n    } else {\n      roots.push(commit2);\n    }\n    setCommitPosition(commit2, curPos);\n  });\n  curPos = maxPosition;\n  roots.forEach((commit2) => {\n    setRootPosition(commit2, curPos, defaultPos2);\n  });\n  sortedKeys.forEach((key) => {\n    const commit2 = commits.get(key);\n    if (commit2?.parents.length) {\n      const closestParent = findClosestParentBT(commit2.parents);\n      curPos = commitPos.get(closestParent).y - COMMIT_STEP;\n      if (curPos <= maxPosition) {\n        maxPosition = curPos;\n      }\n      const x = branchPos.get(commit2.branch).pos;\n      const y = curPos - LAYOUT_OFFSET;\n      commitPos.set(commit2.id, { x, y });\n    }\n  });\n}, "setParallelBTPos");\nvar findClosestParentPos = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((commit2) => {\n  const closestParent = findClosestParent(commit2.parents.filter((p) => p !== null));\n  if (!closestParent) {\n    throw new Error(`Closest parent not found for commit ${commit2.id}`);\n  }\n  const closestParentPos = commitPos.get(closestParent)?.y;\n  if (closestParentPos === void 0) {\n    throw new Error(`Closest parent position not found for commit ${commit2.id}`);\n  }\n  return closestParentPos;\n}, "findClosestParentPos");\nvar calculateCommitPosition = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((commit2) => {\n  const closestParentPos = findClosestParentPos(commit2);\n  return closestParentPos + COMMIT_STEP;\n}, "calculateCommitPosition");\nvar setCommitPosition = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((commit2, curPos) => {\n  const branch2 = branchPos.get(commit2.branch);\n  if (!branch2) {\n    throw new Error(`Branch not found for commit ${commit2.id}`);\n  }\n  const x = branch2.pos;\n  const y = curPos + LAYOUT_OFFSET;\n  commitPos.set(commit2.id, { x, y });\n  return { x, y };\n}, "setCommitPosition");\nvar setRootPosition = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((commit2, curPos, defaultPos2) => {\n  const branch2 = branchPos.get(commit2.branch);\n  if (!branch2) {\n    throw new Error(`Branch not found for commit ${commit2.id}`);\n  }\n  const y = curPos + defaultPos2;\n  const x = branch2.pos;\n  commitPos.set(commit2.id, { x, y });\n}, "setRootPosition");\nvar drawCommitBullet = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((gBullets, commit2, commitPosition, typeClass, branchIndex, commitSymbolType) => {\n  if (commitSymbolType === commitType.HIGHLIGHT) {\n    gBullets.append("rect").attr("x", commitPosition.x - 10).attr("y", commitPosition.y - 10).attr("width", 20).attr("height", 20).attr(\n      "class",\n      `commit ${commit2.id} commit-highlight${branchIndex % THEME_COLOR_LIMIT} ${typeClass}-outer`\n    );\n    gBullets.append("rect").attr("x", commitPosition.x - 6).attr("y", commitPosition.y - 6).attr("width", 12).attr("height", 12).attr(\n      "class",\n      `commit ${commit2.id} commit${branchIndex % THEME_COLOR_LIMIT} ${typeClass}-inner`\n    );\n  } else if (commitSymbolType === commitType.CHERRY_PICK) {\n    gBullets.append("circle").attr("cx", commitPosition.x).attr("cy", commitPosition.y).attr("r", 10).attr("class", `commit ${commit2.id} ${typeClass}`);\n    gBullets.append("circle").attr("cx", commitPosition.x - 3).attr("cy", commitPosition.y + 2).attr("r", 2.75).attr("fill", "#fff").attr("class", `commit ${commit2.id} ${typeClass}`);\n    gBullets.append("circle").attr("cx", commitPosition.x + 3).attr("cy", commitPosition.y + 2).attr("r", 2.75).attr("fill", "#fff").attr("class", `commit ${commit2.id} ${typeClass}`);\n    gBullets.append("line").attr("x1", commitPosition.x + 3).attr("y1", commitPosition.y + 1).attr("x2", commitPosition.x).attr("y2", commitPosition.y - 5).attr("stroke", "#fff").attr("class", `commit ${commit2.id} ${typeClass}`);\n    gBullets.append("line").attr("x1", commitPosition.x - 3).attr("y1", commitPosition.y + 1).attr("x2", commitPosition.x).attr("y2", commitPosition.y - 5).attr("stroke", "#fff").attr("class", `commit ${commit2.id} ${typeClass}`);\n  } else {\n    const circle = gBullets.append("circle");\n    circle.attr("cx", commitPosition.x);\n    circle.attr("cy", commitPosition.y);\n    circle.attr("r", commit2.type === commitType.MERGE ? 9 : 10);\n    circle.attr("class", `commit ${commit2.id} commit${branchIndex % THEME_COLOR_LIMIT}`);\n    if (commitSymbolType === commitType.MERGE) {\n      const circle2 = gBullets.append("circle");\n      circle2.attr("cx", commitPosition.x);\n      circle2.attr("cy", commitPosition.y);\n      circle2.attr("r", 6);\n      circle2.attr(\n        "class",\n        `commit ${typeClass} ${commit2.id} commit${branchIndex % THEME_COLOR_LIMIT}`\n      );\n    }\n    if (commitSymbolType === commitType.REVERSE) {\n      const cross = gBullets.append("path");\n      cross.attr(\n        "d",\n        `M ${commitPosition.x - 5},${commitPosition.y - 5}L${commitPosition.x + 5},${commitPosition.y + 5}M${commitPosition.x - 5},${commitPosition.y + 5}L${commitPosition.x + 5},${commitPosition.y - 5}`\n      ).attr("class", `commit ${typeClass} ${commit2.id} commit${branchIndex % THEME_COLOR_LIMIT}`);\n    }\n  }\n}, "drawCommitBullet");\nvar drawCommitLabel = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((gLabels, commit2, commitPosition, pos) => {\n  if (commit2.type !== commitType.CHERRY_PICK && (commit2.customId && commit2.type === commitType.MERGE || commit2.type !== commitType.MERGE) && DEFAULT_GITGRAPH_CONFIG2?.showCommitLabel) {\n    const wrapper = gLabels.append("g");\n    const labelBkg = wrapper.insert("rect").attr("class", "commit-label-bkg");\n    const text = wrapper.append("text").attr("x", pos).attr("y", commitPosition.y + 25).attr("class", "commit-label").text(commit2.id);\n    const bbox = text.node()?.getBBox();\n    if (bbox) {\n      labelBkg.attr("x", commitPosition.posWithOffset - bbox.width / 2 - PY).attr("y", commitPosition.y + 13.5).attr("width", bbox.width + 2 * PY).attr("height", bbox.height + 2 * PY);\n      if (dir === "TB" || dir === "BT") {\n        labelBkg.attr("x", commitPosition.x - (bbox.width + 4 * PX + 5)).attr("y", commitPosition.y - 12);\n        text.attr("x", commitPosition.x - (bbox.width + 4 * PX)).attr("y", commitPosition.y + bbox.height - 12);\n      } else {\n        text.attr("x", commitPosition.posWithOffset - bbox.width / 2);\n      }\n      if (DEFAULT_GITGRAPH_CONFIG2.rotateCommitLabel) {\n        if (dir === "TB" || dir === "BT") {\n          text.attr(\n            "transform",\n            "rotate(-45, " + commitPosition.x + ", " + commitPosition.y + ")"\n          );\n          labelBkg.attr(\n            "transform",\n            "rotate(-45, " + commitPosition.x + ", " + commitPosition.y + ")"\n          );\n        } else {\n          const r_x = -7.5 - (bbox.width + 10) / 25 * 9.5;\n          const r_y = 10 + bbox.width / 25 * 8.5;\n          wrapper.attr(\n            "transform",\n            "translate(" + r_x + ", " + r_y + ") rotate(-45, " + pos + ", " + commitPosition.y + ")"\n          );\n        }\n      }\n    }\n  }\n}, "drawCommitLabel");\nvar drawCommitTags = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((gLabels, commit2, commitPosition, pos) => {\n  if (commit2.tags.length > 0) {\n    let yOffset = 0;\n    let maxTagBboxWidth = 0;\n    let maxTagBboxHeight = 0;\n    const tagElements = [];\n    for (const tagValue of commit2.tags.reverse()) {\n      const rect = gLabels.insert("polygon");\n      const hole = gLabels.append("circle");\n      const tag = gLabels.append("text").attr("y", commitPosition.y - 16 - yOffset).attr("class", "tag-label").text(tagValue);\n      const tagBbox = tag.node()?.getBBox();\n      if (!tagBbox) {\n        throw new Error("Tag bbox not found");\n      }\n      maxTagBboxWidth = Math.max(maxTagBboxWidth, tagBbox.width);\n      maxTagBboxHeight = Math.max(maxTagBboxHeight, tagBbox.height);\n      tag.attr("x", commitPosition.posWithOffset - tagBbox.width / 2);\n      tagElements.push({\n        tag,\n        hole,\n        rect,\n        yOffset\n      });\n      yOffset += 20;\n    }\n    for (const { tag, hole, rect, yOffset: yOffset2 } of tagElements) {\n      const h2 = maxTagBboxHeight / 2;\n      const ly = commitPosition.y - 19.2 - yOffset2;\n      rect.attr("class", "tag-label-bkg").attr(\n        "points",\n        `\n      ${pos - maxTagBboxWidth / 2 - PX / 2},${ly + PY}  \n      ${pos - maxTagBboxWidth / 2 - PX / 2},${ly - PY}\n      ${commitPosition.posWithOffset - maxTagBboxWidth / 2 - PX},${ly - h2 - PY}\n      ${commitPosition.posWithOffset + maxTagBboxWidth / 2 + PX},${ly - h2 - PY}\n      ${commitPosition.posWithOffset + maxTagBboxWidth / 2 + PX},${ly + h2 + PY}\n      ${commitPosition.posWithOffset - maxTagBboxWidth / 2 - PX},${ly + h2 + PY}`\n      );\n      hole.attr("cy", ly).attr("cx", pos - maxTagBboxWidth / 2 + PX / 2).attr("r", 1.5).attr("class", "tag-hole");\n      if (dir === "TB" || dir === "BT") {\n        const yOrigin = pos + yOffset2;\n        rect.attr("class", "tag-label-bkg").attr(\n          "points",\n          `\n        ${commitPosition.x},${yOrigin + 2}\n        ${commitPosition.x},${yOrigin - 2}\n        ${commitPosition.x + LAYOUT_OFFSET},${yOrigin - h2 - 2}\n        ${commitPosition.x + LAYOUT_OFFSET + maxTagBboxWidth + 4},${yOrigin - h2 - 2}\n        ${commitPosition.x + LAYOUT_OFFSET + maxTagBboxWidth + 4},${yOrigin + h2 + 2}\n        ${commitPosition.x + LAYOUT_OFFSET},${yOrigin + h2 + 2}`\n        ).attr("transform", "translate(12,12) rotate(45, " + commitPosition.x + "," + pos + ")");\n        hole.attr("cx", commitPosition.x + PX / 2).attr("cy", yOrigin).attr("transform", "translate(12,12) rotate(45, " + commitPosition.x + "," + pos + ")");\n        tag.attr("x", commitPosition.x + 5).attr("y", yOrigin + 3).attr("transform", "translate(14,14) rotate(45, " + commitPosition.x + "," + pos + ")");\n      }\n    }\n  }\n}, "drawCommitTags");\nvar getCommitClassType = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((commit2) => {\n  const commitSymbolType = commit2.customType ?? commit2.type;\n  switch (commitSymbolType) {\n    case commitType.NORMAL:\n      return "commit-normal";\n    case commitType.REVERSE:\n      return "commit-reverse";\n    case commitType.HIGHLIGHT:\n      return "commit-highlight";\n    case commitType.MERGE:\n      return "commit-merge";\n    case commitType.CHERRY_PICK:\n      return "commit-cherry-pick";\n    default:\n      return "commit-normal";\n  }\n}, "getCommitClassType");\nvar calculatePosition = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((commit2, dir2, pos, commitPos2) => {\n  const defaultCommitPosition = { x: 0, y: 0 };\n  if (commit2.parents.length > 0) {\n    const closestParent = findClosestParent(commit2.parents);\n    if (closestParent) {\n      const parentPosition = commitPos2.get(closestParent) ?? defaultCommitPosition;\n      if (dir2 === "TB") {\n        return parentPosition.y + COMMIT_STEP;\n      } else if (dir2 === "BT") {\n        const currentPosition = commitPos2.get(commit2.id) ?? defaultCommitPosition;\n        return currentPosition.y - COMMIT_STEP;\n      } else {\n        return parentPosition.x + COMMIT_STEP;\n      }\n    }\n  } else {\n    if (dir2 === "TB") {\n      return defaultPos;\n    } else if (dir2 === "BT") {\n      const currentPosition = commitPos2.get(commit2.id) ?? defaultCommitPosition;\n      return currentPosition.y - COMMIT_STEP;\n    } else {\n      return 0;\n    }\n  }\n  return 0;\n}, "calculatePosition");\nvar getCommitPosition = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((commit2, pos, isParallelCommits) => {\n  const posWithOffset = dir === "BT" && isParallelCommits ? pos : pos + LAYOUT_OFFSET;\n  const y = dir === "TB" || dir === "BT" ? posWithOffset : branchPos.get(commit2.branch)?.pos;\n  const x = dir === "TB" || dir === "BT" ? branchPos.get(commit2.branch)?.pos : posWithOffset;\n  if (x === void 0 || y === void 0) {\n    throw new Error(`Position were undefined for commit ${commit2.id}`);\n  }\n  return { x, y, posWithOffset };\n}, "getCommitPosition");\nvar drawCommits = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((svg, commits, modifyGraph) => {\n  if (!DEFAULT_GITGRAPH_CONFIG2) {\n    throw new Error("GitGraph config not found");\n  }\n  const gBullets = svg.append("g").attr("class", "commit-bullets");\n  const gLabels = svg.append("g").attr("class", "commit-labels");\n  let pos = dir === "TB" || dir === "BT" ? defaultPos : 0;\n  const keys = [...commits.keys()];\n  const isParallelCommits = DEFAULT_GITGRAPH_CONFIG2?.parallelCommits ?? false;\n  const sortKeys = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((a, b) => {\n    const seqA = commits.get(a)?.seq;\n    const seqB = commits.get(b)?.seq;\n    return seqA !== void 0 && seqB !== void 0 ? seqA - seqB : 0;\n  }, "sortKeys");\n  let sortedKeys = keys.sort(sortKeys);\n  if (dir === "BT") {\n    if (isParallelCommits) {\n      setParallelBTPos(sortedKeys, commits, pos);\n    }\n    sortedKeys = sortedKeys.reverse();\n  }\n  sortedKeys.forEach((key) => {\n    const commit2 = commits.get(key);\n    if (!commit2) {\n      throw new Error(`Commit not found for key ${key}`);\n    }\n    if (isParallelCommits) {\n      pos = calculatePosition(commit2, dir, pos, commitPos);\n    }\n    const commitPosition = getCommitPosition(commit2, pos, isParallelCommits);\n    if (modifyGraph) {\n      const typeClass = getCommitClassType(commit2);\n      const commitSymbolType = commit2.customType ?? commit2.type;\n      const branchIndex = branchPos.get(commit2.branch)?.index ?? 0;\n      drawCommitBullet(gBullets, commit2, commitPosition, typeClass, branchIndex, commitSymbolType);\n      drawCommitLabel(gLabels, commit2, commitPosition, pos);\n      drawCommitTags(gLabels, commit2, commitPosition, pos);\n    }\n    if (dir === "TB" || dir === "BT") {\n      commitPos.set(commit2.id, { x: commitPosition.x, y: commitPosition.posWithOffset });\n    } else {\n      commitPos.set(commit2.id, { x: commitPosition.posWithOffset, y: commitPosition.y });\n    }\n    pos = dir === "BT" && isParallelCommits ? pos + COMMIT_STEP : pos + COMMIT_STEP + LAYOUT_OFFSET;\n    if (pos > maxPos) {\n      maxPos = pos;\n    }\n  });\n}, "drawCommits");\nvar shouldRerouteArrow = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((commitA, commitB, p1, p2, allCommits) => {\n  const commitBIsFurthest = dir === "TB" || dir === "BT" ? p1.x < p2.x : p1.y < p2.y;\n  const branchToGetCurve = commitBIsFurthest ? commitB.branch : commitA.branch;\n  const isOnBranchToGetCurve = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((x) => x.branch === branchToGetCurve, "isOnBranchToGetCurve");\n  const isBetweenCommits = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((x) => x.seq > commitA.seq && x.seq < commitB.seq, "isBetweenCommits");\n  return [...allCommits.values()].some((commitX) => {\n    return isBetweenCommits(commitX) && isOnBranchToGetCurve(commitX);\n  });\n}, "shouldRerouteArrow");\nvar findLane = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((y1, y2, depth = 0) => {\n  const candidate = y1 + Math.abs(y1 - y2) / 2;\n  if (depth > 5) {\n    return candidate;\n  }\n  const ok = lanes.every((lane) => Math.abs(lane - candidate) >= 10);\n  if (ok) {\n    lanes.push(candidate);\n    return candidate;\n  }\n  const diff = Math.abs(y1 - y2);\n  return findLane(y1, y2 - diff / 5, depth + 1);\n}, "findLane");\nvar drawArrow = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((svg, commitA, commitB, allCommits) => {\n  const p1 = commitPos.get(commitA.id);\n  const p2 = commitPos.get(commitB.id);\n  if (p1 === void 0 || p2 === void 0) {\n    throw new Error(`Commit positions not found for commits ${commitA.id} and ${commitB.id}`);\n  }\n  const arrowNeedsRerouting = shouldRerouteArrow(commitA, commitB, p1, p2, allCommits);\n  let arc = "";\n  let arc2 = "";\n  let radius = 0;\n  let offset = 0;\n  let colorClassNum = branchPos.get(commitB.branch)?.index;\n  if (commitB.type === commitType.MERGE && commitA.id !== commitB.parents[0]) {\n    colorClassNum = branchPos.get(commitA.branch)?.index;\n  }\n  let lineDef;\n  if (arrowNeedsRerouting) {\n    arc = "A 10 10, 0, 0, 0,";\n    arc2 = "A 10 10, 0, 0, 1,";\n    radius = 10;\n    offset = 10;\n    const lineY = p1.y < p2.y ? findLane(p1.y, p2.y) : findLane(p2.y, p1.y);\n    const lineX = p1.x < p2.x ? findLane(p1.x, p2.x) : findLane(p2.x, p1.x);\n    if (dir === "TB") {\n      if (p1.x < p2.x) {\n        lineDef = `M ${p1.x} ${p1.y} L ${lineX - radius} ${p1.y} ${arc2} ${lineX} ${p1.y + offset} L ${lineX} ${p2.y - radius} ${arc} ${lineX + offset} ${p2.y} L ${p2.x} ${p2.y}`;\n      } else {\n        colorClassNum = branchPos.get(commitA.branch)?.index;\n        lineDef = `M ${p1.x} ${p1.y} L ${lineX + radius} ${p1.y} ${arc} ${lineX} ${p1.y + offset} L ${lineX} ${p2.y - radius} ${arc2} ${lineX - offset} ${p2.y} L ${p2.x} ${p2.y}`;\n      }\n    } else if (dir === "BT") {\n      if (p1.x < p2.x) {\n        lineDef = `M ${p1.x} ${p1.y} L ${lineX - radius} ${p1.y} ${arc} ${lineX} ${p1.y - offset} L ${lineX} ${p2.y + radius} ${arc2} ${lineX + offset} ${p2.y} L ${p2.x} ${p2.y}`;\n      } else {\n        colorClassNum = branchPos.get(commitA.branch)?.index;\n        lineDef = `M ${p1.x} ${p1.y} L ${lineX + radius} ${p1.y} ${arc2} ${lineX} ${p1.y - offset} L ${lineX} ${p2.y + radius} ${arc} ${lineX - offset} ${p2.y} L ${p2.x} ${p2.y}`;\n      }\n    } else {\n      if (p1.y < p2.y) {\n        lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${lineY - radius} ${arc} ${p1.x + offset} ${lineY} L ${p2.x - radius} ${lineY} ${arc2} ${p2.x} ${lineY + offset} L ${p2.x} ${p2.y}`;\n      } else {\n        colorClassNum = branchPos.get(commitA.branch)?.index;\n        lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${lineY + radius} ${arc2} ${p1.x + offset} ${lineY} L ${p2.x - radius} ${lineY} ${arc} ${p2.x} ${lineY - offset} L ${p2.x} ${p2.y}`;\n      }\n    }\n  } else {\n    arc = "A 20 20, 0, 0, 0,";\n    arc2 = "A 20 20, 0, 0, 1,";\n    radius = 20;\n    offset = 20;\n    if (dir === "TB") {\n      if (p1.x < p2.x) {\n        if (commitB.type === commitType.MERGE && commitA.id !== commitB.parents[0]) {\n          lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${p2.y - radius} ${arc} ${p1.x + offset} ${p2.y} L ${p2.x} ${p2.y}`;\n        } else {\n          lineDef = `M ${p1.x} ${p1.y} L ${p2.x - radius} ${p1.y} ${arc2} ${p2.x} ${p1.y + offset} L ${p2.x} ${p2.y}`;\n        }\n      }\n      if (p1.x > p2.x) {\n        arc = "A 20 20, 0, 0, 0,";\n        arc2 = "A 20 20, 0, 0, 1,";\n        radius = 20;\n        offset = 20;\n        if (commitB.type === commitType.MERGE && commitA.id !== commitB.parents[0]) {\n          lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${p2.y - radius} ${arc2} ${p1.x - offset} ${p2.y} L ${p2.x} ${p2.y}`;\n        } else {\n          lineDef = `M ${p1.x} ${p1.y} L ${p2.x + radius} ${p1.y} ${arc} ${p2.x} ${p1.y + offset} L ${p2.x} ${p2.y}`;\n        }\n      }\n      if (p1.x === p2.x) {\n        lineDef = `M ${p1.x} ${p1.y} L ${p2.x} ${p2.y}`;\n      }\n    } else if (dir === "BT") {\n      if (p1.x < p2.x) {\n        if (commitB.type === commitType.MERGE && commitA.id !== commitB.parents[0]) {\n          lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${p2.y + radius} ${arc2} ${p1.x + offset} ${p2.y} L ${p2.x} ${p2.y}`;\n        } else {\n          lineDef = `M ${p1.x} ${p1.y} L ${p2.x - radius} ${p1.y} ${arc} ${p2.x} ${p1.y - offset} L ${p2.x} ${p2.y}`;\n        }\n      }\n      if (p1.x > p2.x) {\n        arc = "A 20 20, 0, 0, 0,";\n        arc2 = "A 20 20, 0, 0, 1,";\n        radius = 20;\n        offset = 20;\n        if (commitB.type === commitType.MERGE && commitA.id !== commitB.parents[0]) {\n          lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${p2.y + radius} ${arc} ${p1.x - offset} ${p2.y} L ${p2.x} ${p2.y}`;\n        } else {\n          lineDef = `M ${p1.x} ${p1.y} L ${p2.x - radius} ${p1.y} ${arc} ${p2.x} ${p1.y - offset} L ${p2.x} ${p2.y}`;\n        }\n      }\n      if (p1.x === p2.x) {\n        lineDef = `M ${p1.x} ${p1.y} L ${p2.x} ${p2.y}`;\n      }\n    } else {\n      if (p1.y < p2.y) {\n        if (commitB.type === commitType.MERGE && commitA.id !== commitB.parents[0]) {\n          lineDef = `M ${p1.x} ${p1.y} L ${p2.x - radius} ${p1.y} ${arc2} ${p2.x} ${p1.y + offset} L ${p2.x} ${p2.y}`;\n        } else {\n          lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${p2.y - radius} ${arc} ${p1.x + offset} ${p2.y} L ${p2.x} ${p2.y}`;\n        }\n      }\n      if (p1.y > p2.y) {\n        if (commitB.type === commitType.MERGE && commitA.id !== commitB.parents[0]) {\n          lineDef = `M ${p1.x} ${p1.y} L ${p2.x - radius} ${p1.y} ${arc} ${p2.x} ${p1.y - offset} L ${p2.x} ${p2.y}`;\n        } else {\n          lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${p2.y + radius} ${arc2} ${p1.x + offset} ${p2.y} L ${p2.x} ${p2.y}`;\n        }\n      }\n      if (p1.y === p2.y) {\n        lineDef = `M ${p1.x} ${p1.y} L ${p2.x} ${p2.y}`;\n      }\n    }\n  }\n  if (lineDef === void 0) {\n    throw new Error("Line definition not found");\n  }\n  svg.append("path").attr("d", lineDef).attr("class", "arrow arrow" + colorClassNum % THEME_COLOR_LIMIT);\n}, "drawArrow");\nvar drawArrows = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((svg, commits) => {\n  const gArrows = svg.append("g").attr("class", "commit-arrows");\n  [...commits.keys()].forEach((key) => {\n    const commit2 = commits.get(key);\n    if (commit2.parents && commit2.parents.length > 0) {\n      commit2.parents.forEach((parent) => {\n        drawArrow(gArrows, commits.get(parent), commit2, commits);\n      });\n    }\n  });\n}, "drawArrows");\nvar drawBranches = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((svg, branches) => {\n  const g = svg.append("g");\n  branches.forEach((branch2, index) => {\n    const adjustIndexForTheme = index % THEME_COLOR_LIMIT;\n    const pos = branchPos.get(branch2.name)?.pos;\n    if (pos === void 0) {\n      throw new Error(`Position not found for branch ${branch2.name}`);\n    }\n    const line = g.append("line");\n    line.attr("x1", 0);\n    line.attr("y1", pos);\n    line.attr("x2", maxPos);\n    line.attr("y2", pos);\n    line.attr("class", "branch branch" + adjustIndexForTheme);\n    if (dir === "TB") {\n      line.attr("y1", defaultPos);\n      line.attr("x1", pos);\n      line.attr("y2", maxPos);\n      line.attr("x2", pos);\n    } else if (dir === "BT") {\n      line.attr("y1", maxPos);\n      line.attr("x1", pos);\n      line.attr("y2", defaultPos);\n      line.attr("x2", pos);\n    }\n    lanes.push(pos);\n    const name = branch2.name;\n    const labelElement = drawText(name);\n    const bkg = g.insert("rect");\n    const branchLabel = g.insert("g").attr("class", "branchLabel");\n    const label = branchLabel.insert("g").attr("class", "label branch-label" + adjustIndexForTheme);\n    label.node().appendChild(labelElement);\n    const bbox = labelElement.getBBox();\n    bkg.attr("class", "branchLabelBkg label" + adjustIndexForTheme).attr("rx", 4).attr("ry", 4).attr("x", -bbox.width - 4 - (DEFAULT_GITGRAPH_CONFIG2?.rotateCommitLabel === true ? 30 : 0)).attr("y", -bbox.height / 2 + 8).attr("width", bbox.width + 18).attr("height", bbox.height + 4);\n    label.attr(\n      "transform",\n      "translate(" + (-bbox.width - 14 - (DEFAULT_GITGRAPH_CONFIG2?.rotateCommitLabel === true ? 30 : 0)) + ", " + (pos - bbox.height / 2 - 1) + ")"\n    );\n    if (dir === "TB") {\n      bkg.attr("x", pos - bbox.width / 2 - 10).attr("y", 0);\n      label.attr("transform", "translate(" + (pos - bbox.width / 2 - 5) + ", 0)");\n    } else if (dir === "BT") {\n      bkg.attr("x", pos - bbox.width / 2 - 10).attr("y", maxPos);\n      label.attr("transform", "translate(" + (pos - bbox.width / 2 - 5) + ", " + maxPos + ")");\n    } else {\n      bkg.attr("transform", "translate(-19, " + (pos - bbox.height / 2) + ")");\n    }\n  });\n}, "drawBranches");\nvar setBranchPosition = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function(name, pos, index, bbox, rotateCommitLabel) {\n  branchPos.set(name, { pos, index });\n  pos += 50 + (rotateCommitLabel ? 40 : 0) + (dir === "TB" || dir === "BT" ? bbox.width / 2 : 0);\n  return pos;\n}, "setBranchPosition");\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function(txt, id, ver, diagObj) {\n  clear3();\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug("in gitgraph renderer", txt + "\\n", "id:", id, ver);\n  if (!DEFAULT_GITGRAPH_CONFIG2) {\n    throw new Error("GitGraph config not found");\n  }\n  const rotateCommitLabel = DEFAULT_GITGRAPH_CONFIG2.rotateCommitLabel ?? false;\n  const db2 = diagObj.db;\n  allCommitsDict = db2.getCommits();\n  const branches = db2.getBranchesAsObjArray();\n  dir = db2.getDirection();\n  const diagram2 = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(`[id="${id}"]`);\n  let pos = 0;\n  branches.forEach((branch2, index) => {\n    const labelElement = drawText(branch2.name);\n    const g = diagram2.append("g");\n    const branchLabel = g.insert("g").attr("class", "branchLabel");\n    const label = branchLabel.insert("g").attr("class", "label branch-label");\n    label.node()?.appendChild(labelElement);\n    const bbox = labelElement.getBBox();\n    pos = setBranchPosition(branch2.name, pos, index, bbox, rotateCommitLabel);\n    label.remove();\n    branchLabel.remove();\n    g.remove();\n  });\n  drawCommits(diagram2, allCommitsDict, false);\n  if (DEFAULT_GITGRAPH_CONFIG2.showBranches) {\n    drawBranches(diagram2, branches);\n  }\n  drawArrows(diagram2, allCommitsDict);\n  drawCommits(diagram2, allCommitsDict, true);\n  _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__.utils_default.insertTitle(\n    diagram2,\n    "gitTitleText",\n    DEFAULT_GITGRAPH_CONFIG2.titleTopMargin ?? 0,\n    db2.getDiagramTitle()\n  );\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setupGraphViewbox2)(\n    void 0,\n    diagram2,\n    DEFAULT_GITGRAPH_CONFIG2.diagramPadding,\n    DEFAULT_GITGRAPH_CONFIG2.useMaxWidth\n  );\n}, "draw");\nvar gitGraphRenderer_default = {\n  draw\n};\nif (void 0) {\n  const { it, expect, describe } = void 0;\n  describe("drawText", () => {\n    it("should drawText", () => {\n      const svgLabel = drawText("main");\n      expect(svgLabel).toBeDefined();\n      expect(svgLabel.children[0].innerHTML).toBe("main");\n    });\n  });\n  describe("branchPosition", () => {\n    const bbox = {\n      x: 0,\n      y: 0,\n      width: 10,\n      height: 10,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      toJSON: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(() => "", "toJSON")\n    };\n    it("should setBranchPositions LR with two branches", () => {\n      dir = "LR";\n      const pos = setBranchPosition("main", 0, 0, bbox, true);\n      expect(pos).toBe(90);\n      expect(branchPos.get("main")).toEqual({ pos: 0, index: 0 });\n      const posNext = setBranchPosition("develop", pos, 1, bbox, true);\n      expect(posNext).toBe(180);\n      expect(branchPos.get("develop")).toEqual({ pos, index: 1 });\n    });\n    it("should setBranchPositions TB with two branches", () => {\n      dir = "TB";\n      bbox.width = 34.9921875;\n      const pos = setBranchPosition("main", 0, 0, bbox, true);\n      expect(pos).toBe(107.49609375);\n      expect(branchPos.get("main")).toEqual({ pos: 0, index: 0 });\n      bbox.width = 56.421875;\n      const posNext = setBranchPosition("develop", pos, 1, bbox, true);\n      expect(posNext).toBe(225.70703125);\n      expect(branchPos.get("develop")).toEqual({ pos, index: 1 });\n    });\n  });\n  describe("commitPosition", () => {\n    const commits = /* @__PURE__ */ new Map([\n      [\n        "commitZero",\n        {\n          id: "ZERO",\n          message: "",\n          seq: 0,\n          type: commitType.NORMAL,\n          tags: [],\n          parents: [],\n          branch: "main"\n        }\n      ],\n      [\n        "commitA",\n        {\n          id: "A",\n          message: "",\n          seq: 1,\n          type: commitType.NORMAL,\n          tags: [],\n          parents: ["ZERO"],\n          branch: "feature"\n        }\n      ],\n      [\n        "commitB",\n        {\n          id: "B",\n          message: "",\n          seq: 2,\n          type: commitType.NORMAL,\n          tags: [],\n          parents: ["A"],\n          branch: "feature"\n        }\n      ],\n      [\n        "commitM",\n        {\n          id: "M",\n          message: "merged branch feature into main",\n          seq: 3,\n          type: commitType.MERGE,\n          tags: [],\n          parents: ["ZERO", "B"],\n          branch: "main",\n          customId: true\n        }\n      ],\n      [\n        "commitC",\n        {\n          id: "C",\n          message: "",\n          seq: 4,\n          type: commitType.NORMAL,\n          tags: [],\n          parents: ["ZERO"],\n          branch: "release"\n        }\n      ],\n      [\n        "commit5_8928ea0",\n        {\n          id: "5-8928ea0",\n          message: "cherry-picked [object Object] into release",\n          seq: 5,\n          type: commitType.CHERRY_PICK,\n          tags: [],\n          parents: ["C", "M"],\n          branch: "release"\n        }\n      ],\n      [\n        "commitD",\n        {\n          id: "D",\n          message: "",\n          seq: 6,\n          type: commitType.NORMAL,\n          tags: [],\n          parents: ["5-8928ea0"],\n          branch: "release"\n        }\n      ],\n      [\n        "commit7_ed848ba",\n        {\n          id: "7-ed848ba",\n          message: "cherry-picked [object Object] into release",\n          seq: 7,\n          type: commitType.CHERRY_PICK,\n          tags: [],\n          parents: ["D", "M"],\n          branch: "release"\n        }\n      ]\n    ]);\n    let pos = 0;\n    branchPos.set("main", { pos: 0, index: 0 });\n    branchPos.set("feature", { pos: 107.49609375, index: 1 });\n    branchPos.set("release", { pos: 224.03515625, index: 2 });\n    describe("TB", () => {\n      pos = 30;\n      dir = "TB";\n      const expectedCommitPositionTB = /* @__PURE__ */ new Map([\n        ["commitZero", { x: 0, y: 40, posWithOffset: 40 }],\n        ["commitA", { x: 107.49609375, y: 90, posWithOffset: 90 }],\n        ["commitB", { x: 107.49609375, y: 140, posWithOffset: 140 }],\n        ["commitM", { x: 0, y: 190, posWithOffset: 190 }],\n        ["commitC", { x: 224.03515625, y: 240, posWithOffset: 240 }],\n        ["commit5_8928ea0", { x: 224.03515625, y: 290, posWithOffset: 290 }],\n        ["commitD", { x: 224.03515625, y: 340, posWithOffset: 340 }],\n        ["commit7_ed848ba", { x: 224.03515625, y: 390, posWithOffset: 390 }]\n      ]);\n      commits.forEach((commit2, key) => {\n        it(`should give the correct position for commit ${key}`, () => {\n          const position = getCommitPosition(commit2, pos, false);\n          expect(position).toEqual(expectedCommitPositionTB.get(key));\n          pos += 50;\n        });\n      });\n    });\n    describe("LR", () => {\n      let pos2 = 30;\n      dir = "LR";\n      const expectedCommitPositionLR = /* @__PURE__ */ new Map([\n        ["commitZero", { x: 0, y: 40, posWithOffset: 40 }],\n        ["commitA", { x: 107.49609375, y: 90, posWithOffset: 90 }],\n        ["commitB", { x: 107.49609375, y: 140, posWithOffset: 140 }],\n        ["commitM", { x: 0, y: 190, posWithOffset: 190 }],\n        ["commitC", { x: 224.03515625, y: 240, posWithOffset: 240 }],\n        ["commit5_8928ea0", { x: 224.03515625, y: 290, posWithOffset: 290 }],\n        ["commitD", { x: 224.03515625, y: 340, posWithOffset: 340 }],\n        ["commit7_ed848ba", { x: 224.03515625, y: 390, posWithOffset: 390 }]\n      ]);\n      commits.forEach((commit2, key) => {\n        it(`should give the correct position for commit ${key}`, () => {\n          const position = getCommitPosition(commit2, pos2, false);\n          expect(position).toEqual(expectedCommitPositionLR.get(key));\n          pos2 += 50;\n        });\n      });\n    });\n    describe("getCommitClassType", () => {\n      const expectedCommitClassType = /* @__PURE__ */ new Map([\n        ["commitZero", "commit-normal"],\n        ["commitA", "commit-normal"],\n        ["commitB", "commit-normal"],\n        ["commitM", "commit-merge"],\n        ["commitC", "commit-normal"],\n        ["commit5_8928ea0", "commit-cherry-pick"],\n        ["commitD", "commit-normal"],\n        ["commit7_ed848ba", "commit-cherry-pick"]\n      ]);\n      commits.forEach((commit2, key) => {\n        it(`should give the correct class type for commit ${key}`, () => {\n          const classType = getCommitClassType(commit2);\n          expect(classType).toBe(expectedCommitClassType.get(key));\n        });\n      });\n    });\n  });\n  describe("building BT parallel commit diagram", () => {\n    const commits = /* @__PURE__ */ new Map([\n      [\n        "1-abcdefg",\n        {\n          id: "1-abcdefg",\n          message: "",\n          seq: 0,\n          type: 0,\n          tags: [],\n          parents: [],\n          branch: "main"\n        }\n      ],\n      [\n        "2-abcdefg",\n        {\n          id: "2-abcdefg",\n          message: "",\n          seq: 1,\n          type: 0,\n          tags: [],\n          parents: ["1-abcdefg"],\n          branch: "main"\n        }\n      ],\n      [\n        "3-abcdefg",\n        {\n          id: "3-abcdefg",\n          message: "",\n          seq: 2,\n          type: 0,\n          tags: [],\n          parents: ["2-abcdefg"],\n          branch: "develop"\n        }\n      ],\n      [\n        "4-abcdefg",\n        {\n          id: "4-abcdefg",\n          message: "",\n          seq: 3,\n          type: 0,\n          tags: [],\n          parents: ["3-abcdefg"],\n          branch: "develop"\n        }\n      ],\n      [\n        "5-abcdefg",\n        {\n          id: "5-abcdefg",\n          message: "",\n          seq: 4,\n          type: 0,\n          tags: [],\n          parents: ["2-abcdefg"],\n          branch: "feature"\n        }\n      ],\n      [\n        "6-abcdefg",\n        {\n          id: "6-abcdefg",\n          message: "",\n          seq: 5,\n          type: 0,\n          tags: [],\n          parents: ["5-abcdefg"],\n          branch: "feature"\n        }\n      ],\n      [\n        "7-abcdefg",\n        {\n          id: "7-abcdefg",\n          message: "",\n          seq: 6,\n          type: 0,\n          tags: [],\n          parents: ["2-abcdefg"],\n          branch: "main"\n        }\n      ],\n      [\n        "8-abcdefg",\n        {\n          id: "8-abcdefg",\n          message: "",\n          seq: 7,\n          type: 0,\n          tags: [],\n          parents: ["7-abcdefg"],\n          branch: "main"\n        }\n      ]\n    ]);\n    const expectedCommitPosition = /* @__PURE__ */ new Map([\n      ["1-abcdefg", { x: 0, y: 40 }],\n      ["2-abcdefg", { x: 0, y: 90 }],\n      ["3-abcdefg", { x: 107.49609375, y: 140 }],\n      ["4-abcdefg", { x: 107.49609375, y: 190 }],\n      ["5-abcdefg", { x: 225.70703125, y: 140 }],\n      ["6-abcdefg", { x: 225.70703125, y: 190 }],\n      ["7-abcdefg", { x: 0, y: 140 }],\n      ["8-abcdefg", { x: 0, y: 190 }]\n    ]);\n    const expectedCommitPositionAfterParallel = /* @__PURE__ */ new Map([\n      ["1-abcdefg", { x: 0, y: 210 }],\n      ["2-abcdefg", { x: 0, y: 160 }],\n      ["3-abcdefg", { x: 107.49609375, y: 110 }],\n      ["4-abcdefg", { x: 107.49609375, y: 60 }],\n      ["5-abcdefg", { x: 225.70703125, y: 110 }],\n      ["6-abcdefg", { x: 225.70703125, y: 60 }],\n      ["7-abcdefg", { x: 0, y: 110 }],\n      ["8-abcdefg", { x: 0, y: 60 }]\n    ]);\n    const expectedCommitCurrentPosition = /* @__PURE__ */ new Map([\n      ["1-abcdefg", 30],\n      ["2-abcdefg", 80],\n      ["3-abcdefg", 130],\n      ["4-abcdefg", 180],\n      ["5-abcdefg", 130],\n      ["6-abcdefg", 180],\n      ["7-abcdefg", 130],\n      ["8-abcdefg", 180]\n    ]);\n    const sortedKeys = [...expectedCommitPosition.keys()];\n    it("should get the correct commit position and current position", () => {\n      dir = "BT";\n      let curPos = 30;\n      commitPos.clear();\n      branchPos.clear();\n      branchPos.set("main", { pos: 0, index: 0 });\n      branchPos.set("develop", { pos: 107.49609375, index: 1 });\n      branchPos.set("feature", { pos: 225.70703125, index: 2 });\n      DEFAULT_GITGRAPH_CONFIG2.parallelCommits = true;\n      commits.forEach((commit2, key) => {\n        if (commit2.parents.length > 0) {\n          curPos = calculateCommitPosition(commit2);\n        }\n        const position = setCommitPosition(commit2, curPos);\n        expect(position).toEqual(expectedCommitPosition.get(key));\n        expect(curPos).toEqual(expectedCommitCurrentPosition.get(key));\n      });\n    });\n    it("should get the correct commit position after parallel commits", () => {\n      commitPos.clear();\n      branchPos.clear();\n      dir = "BT";\n      const curPos = 30;\n      commitPos.clear();\n      branchPos.clear();\n      branchPos.set("main", { pos: 0, index: 0 });\n      branchPos.set("develop", { pos: 107.49609375, index: 1 });\n      branchPos.set("feature", { pos: 225.70703125, index: 2 });\n      setParallelBTPos(sortedKeys, commits, curPos);\n      sortedKeys.forEach((commit2) => {\n        const position = commitPos.get(commit2);\n        expect(position).toEqual(expectedCommitPositionAfterParallel.get(commit2));\n      });\n    });\n  });\n  DEFAULT_GITGRAPH_CONFIG2.parallelCommits = false;\n  it("add", () => {\n    commitPos.set("parent1", { x: 1, y: 1 });\n    commitPos.set("parent2", { x: 2, y: 2 });\n    commitPos.set("parent3", { x: 3, y: 3 });\n    dir = "LR";\n    const parents = ["parent1", "parent2", "parent3"];\n    const closestParent = findClosestParent(parents);\n    expect(closestParent).toBe("parent3");\n    commitPos.clear();\n  });\n}\n\n// src/diagrams/git/styles.js\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((options) => `\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: \'trebuchet ms\', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  ${[0, 1, 2, 3, 4, 5, 6, 7].map(\n  (i) => `\n        .branch-label${i} { fill: ${options["gitBranchLabel" + i]}; }\n        .commit${i} { stroke: ${options["git" + i]}; fill: ${options["git" + i]}; }\n        .commit-highlight${i} { stroke: ${options["gitInv" + i]}; fill: ${options["gitInv" + i]}; }\n        .label${i}  { fill: ${options["git" + i]}; }\n        .arrow${i} { stroke: ${options["git" + i]}; }\n        `\n).join("\\n")}\n\n  .branch {\n    stroke-width: 1;\n    stroke: ${options.lineColor};\n    stroke-dasharray: 2;\n  }\n  .commit-label { font-size: ${options.commitLabelFontSize}; fill: ${options.commitLabelColor};}\n  .commit-label-bkg { font-size: ${options.commitLabelFontSize}; fill: ${options.commitLabelBackground}; opacity: 0.5; }\n  .tag-label { font-size: ${options.tagLabelFontSize}; fill: ${options.tagLabelColor};}\n  .tag-label-bkg { fill: ${options.tagLabelBackground}; stroke: ${options.tagLabelBorder}; }\n  .tag-hole { fill: ${options.textColor}; }\n\n  .commit-merge {\n    stroke: ${options.primaryColor};\n    fill: ${options.primaryColor};\n  }\n  .commit-reverse {\n    stroke: ${options.primaryColor};\n    fill: ${options.primaryColor};\n    stroke-width: 3;\n  }\n  .commit-highlight-outer {\n  }\n  .commit-highlight-inner {\n    stroke: ${options.primaryColor};\n    fill: ${options.primaryColor};\n  }\n\n  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}\n  .gitTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${options.textColor};\n  }\n`, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/git/gitGraphDiagram.ts\nvar diagram = {\n  parser,\n  db,\n  renderer: gitGraphRenderer_default,\n  styles: styles_default\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/gitGraphDiagram-NY62KEGX.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/infoDiagram-F6ZHWCRC.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_KS23V3DP_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-KS23V3DP.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-KS23V3DP.mjs");\n/* harmony import */ var _chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-EXTU4WIE.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-EXTU4WIE.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var _mermaid_js_parser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mermaid-js/parser */ "./node_modules/@mermaid-js/parser/dist/mermaid-parser.core.mjs");\n\n\n\n\n\n// src/diagrams/info/infoParser.ts\n\nvar parser = {\n  parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(async (input) => {\n    const ast = await (0,_mermaid_js_parser__WEBPACK_IMPORTED_MODULE_4__.parse)("info", input);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(ast);\n  }, "parse")\n};\n\n// src/diagrams/info/infoDb.ts\nvar DEFAULT_INFO_DB = {\n  version: _chunk_KS23V3DP_mjs__WEBPACK_IMPORTED_MODULE_0__.package_default.version + ( true ? "" : 0)\n};\nvar getVersion = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(() => DEFAULT_INFO_DB.version, "getVersion");\nvar db = {\n  getVersion\n};\n\n// src/diagrams/info/infoRenderer.ts\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((text, id, version) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug("rendering info diagram\\n" + text);\n  const svg = (0,_chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_1__.selectSvgElement)(id);\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.configureSvgSize)(svg, 100, 400, true);\n  const group = svg.append("g");\n  group.append("text").attr("x", 100).attr("y", 40).attr("class", "version").attr("font-size", 32).style("text-anchor", "middle").text(`v${version}`);\n}, "draw");\nvar renderer = { draw };\n\n// src/diagrams/info/infoDiagram.ts\nvar diagram = {\n  parser,\n  db,\n  renderer\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/infoDiagram-F6ZHWCRC.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/journeyDiagram-XKPGCS4Q.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-TZMSLE5B.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-TZMSLE5B.mjs");\n/* harmony import */ var _chunk_FMBD7UC4_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-FMBD7UC4.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-FMBD7UC4.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n\n\n\n\n\n// src/diagrams/user-journey/parser/journey.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [6, 8, 10, 11, 12, 14, 16, 17, 18], $V1 = [1, 9], $V2 = [1, 10], $V3 = [1, 11], $V4 = [1, 12], $V5 = [1, 13], $V6 = [1, 14];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "start": 3, "journey": 4, "document": 5, "EOF": 6, "line": 7, "SPACE": 8, "statement": 9, "NEWLINE": 10, "title": 11, "acc_title": 12, "acc_title_value": 13, "acc_descr": 14, "acc_descr_value": 15, "acc_descr_multiline_value": 16, "section": 17, "taskName": 18, "taskData": 19, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 4: "journey", 6: "EOF", 8: "SPACE", 10: "NEWLINE", 11: "title", 12: "acc_title", 13: "acc_title_value", 14: "acc_descr", 15: "acc_descr_value", 16: "acc_descr_multiline_value", 17: "section", 18: "taskName", 19: "taskData" },\n    productions_: [0, [3, 3], [5, 0], [5, 2], [7, 2], [7, 1], [7, 1], [7, 1], [9, 1], [9, 2], [9, 2], [9, 1], [9, 1], [9, 2]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 1:\n          return $$[$0 - 1];\n          // removed by dead control flow\n\n        case 2:\n          this.$ = [];\n          break;\n        case 3:\n          $$[$0 - 1].push($$[$0]);\n          this.$ = $$[$0 - 1];\n          break;\n        case 4:\n        case 5:\n          this.$ = $$[$0];\n          break;\n        case 6:\n        case 7:\n          this.$ = [];\n          break;\n        case 8:\n          yy.setDiagramTitle($$[$0].substr(6));\n          this.$ = $$[$0].substr(6);\n          break;\n        case 9:\n          this.$ = $$[$0].trim();\n          yy.setAccTitle(this.$);\n          break;\n        case 10:\n        case 11:\n          this.$ = $$[$0].trim();\n          yy.setAccDescription(this.$);\n          break;\n        case 12:\n          yy.addSection($$[$0].substr(8));\n          this.$ = $$[$0].substr(8);\n          break;\n        case 13:\n          yy.addTask($$[$0 - 1], $$[$0]);\n          this.$ = "task";\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, o($V0, [2, 2], { 5: 3 }), { 6: [1, 4], 7: 5, 8: [1, 6], 9: 7, 10: [1, 8], 11: $V1, 12: $V2, 14: $V3, 16: $V4, 17: $V5, 18: $V6 }, o($V0, [2, 7], { 1: [2, 1] }), o($V0, [2, 3]), { 9: 15, 11: $V1, 12: $V2, 14: $V3, 16: $V4, 17: $V5, 18: $V6 }, o($V0, [2, 5]), o($V0, [2, 6]), o($V0, [2, 8]), { 13: [1, 16] }, { 15: [1, 17] }, o($V0, [2, 11]), o($V0, [2, 12]), { 19: [1, 18] }, o($V0, [2, 4]), o($V0, [2, 9]), o($V0, [2, 10]), o($V0, [2, 13])],\n    defaultActions: {},\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: { "case-insensitive": true },\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            break;\n          case 1:\n            break;\n          case 2:\n            return 10;\n            // removed by dead control flow\n\n          case 3:\n            break;\n          case 4:\n            break;\n          case 5:\n            return 4;\n            // removed by dead control flow\n\n          case 6:\n            return 11;\n            // removed by dead control flow\n\n          case 7:\n            this.begin("acc_title");\n            return 12;\n            // removed by dead control flow\n\n          case 8:\n            this.popState();\n            return "acc_title_value";\n            // removed by dead control flow\n\n          case 9:\n            this.begin("acc_descr");\n            return 14;\n            // removed by dead control flow\n\n          case 10:\n            this.popState();\n            return "acc_descr_value";\n            // removed by dead control flow\n\n          case 11:\n            this.begin("acc_descr_multiline");\n            break;\n          case 12:\n            this.popState();\n            break;\n          case 13:\n            return "acc_descr_multiline_value";\n            // removed by dead control flow\n\n          case 14:\n            return 17;\n            // removed by dead control flow\n\n          case 15:\n            return 18;\n            // removed by dead control flow\n\n          case 16:\n            return 19;\n            // removed by dead control flow\n\n          case 17:\n            return ":";\n            // removed by dead control flow\n\n          case 18:\n            return 6;\n            // removed by dead control flow\n\n          case 19:\n            return "INVALID";\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:%(?!\\{)[^\\n]*)/i, /^(?:[^\\}]%%[^\\n]*)/i, /^(?:[\\n]+)/i, /^(?:\\s+)/i, /^(?:#[^\\n]*)/i, /^(?:journey\\b)/i, /^(?:title\\s[^#\\n;]+)/i, /^(?:accTitle\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*\\{\\s*)/i, /^(?:[\\}])/i, /^(?:[^\\}]*)/i, /^(?:section\\s[^#:\\n;]+)/i, /^(?:[^#:\\n;]+)/i, /^(?::[^#\\n;]+)/i, /^(?::)/i, /^(?:$)/i, /^(?:.)/i],\n      conditions: { "acc_descr_multiline": { "rules": [12, 13], "inclusive": false }, "acc_descr": { "rules": [10], "inclusive": false }, "acc_title": { "rules": [8], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 18, 19], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar journey_default = parser;\n\n// src/diagrams/user-journey/journeyDb.js\nvar currentSection = "";\nvar sections = [];\nvar tasks = [];\nvar rawTasks = [];\nvar clear2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  sections.length = 0;\n  tasks.length = 0;\n  currentSection = "";\n  rawTasks.length = 0;\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.clear)();\n}, "clear");\nvar addSection = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(txt) {\n  currentSection = txt;\n  sections.push(txt);\n}, "addSection");\nvar getSections = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return sections;\n}, "getSections");\nvar getTasks = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  let allItemsProcessed = compileTasks();\n  const maxDepth = 100;\n  let iterationCount = 0;\n  while (!allItemsProcessed && iterationCount < maxDepth) {\n    allItemsProcessed = compileTasks();\n    iterationCount++;\n  }\n  tasks.push(...rawTasks);\n  return tasks;\n}, "getTasks");\nvar updateActors = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  const tempActors = [];\n  tasks.forEach((task) => {\n    if (task.people) {\n      tempActors.push(...task.people);\n    }\n  });\n  const unique = new Set(tempActors);\n  return [...unique].sort();\n}, "updateActors");\nvar addTask = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(descr, taskData) {\n  const pieces = taskData.substr(1).split(":");\n  let score = 0;\n  let peeps = [];\n  if (pieces.length === 1) {\n    score = Number(pieces[0]);\n    peeps = [];\n  } else {\n    score = Number(pieces[0]);\n    peeps = pieces[1].split(",");\n  }\n  const peopleList = peeps.map((s) => s.trim());\n  const rawTask = {\n    section: currentSection,\n    type: currentSection,\n    people: peopleList,\n    task: descr,\n    score\n  };\n  rawTasks.push(rawTask);\n}, "addTask");\nvar addTaskOrg = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(descr) {\n  const newTask = {\n    section: currentSection,\n    type: currentSection,\n    description: descr,\n    task: descr,\n    classes: []\n  };\n  tasks.push(newTask);\n}, "addTaskOrg");\nvar compileTasks = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  const compileTask = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(pos) {\n    return rawTasks[pos].processed;\n  }, "compileTask");\n  let allProcessed = true;\n  for (const [i, rawTask] of rawTasks.entries()) {\n    compileTask(i);\n    allProcessed = allProcessed && rawTask.processed;\n  }\n  return allProcessed;\n}, "compileTasks");\nvar getActors = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return updateActors();\n}, "getActors");\nvar journeyDb_default = {\n  getConfig: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(() => (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().journey, "getConfig"),\n  clear: clear2,\n  setDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.setDiagramTitle,\n  getDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getDiagramTitle,\n  setAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.setAccTitle,\n  getAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getAccTitle,\n  setAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.setAccDescription,\n  getAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getAccDescription,\n  addSection,\n  getSections,\n  getTasks,\n  addTask,\n  addTaskOrg,\n  getActors\n};\n\n// src/diagrams/user-journey/styles.js\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((options) => `.label {\n    font-family: ${options.fontFamily};\n    color: ${options.textColor};\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ${options.textColor}\n  }\n\n  .legend {\n    fill: ${options.textColor};\n    font-family: ${options.fontFamily};\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ${options.textColor}\n  }\n\n  .face {\n    ${options.faceColor ? `fill: ${options.faceColor}` : "fill: #FFF8DC"};\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${options.mainBkg};\n    stroke: ${options.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${options.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${options.lineColor};\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ${options.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${options.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ${options.titleColor};\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${options.fontFamily};\n    font-size: 12px;\n    background: ${options.tertiaryColor};\n    border: 1px solid ${options.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ${options.fillType0 ? `fill: ${options.fillType0}` : ""};\n  }\n  .task-type-1, .section-type-1  {\n    ${options.fillType0 ? `fill: ${options.fillType1}` : ""};\n  }\n  .task-type-2, .section-type-2  {\n    ${options.fillType0 ? `fill: ${options.fillType2}` : ""};\n  }\n  .task-type-3, .section-type-3  {\n    ${options.fillType0 ? `fill: ${options.fillType3}` : ""};\n  }\n  .task-type-4, .section-type-4  {\n    ${options.fillType0 ? `fill: ${options.fillType4}` : ""};\n  }\n  .task-type-5, .section-type-5  {\n    ${options.fillType0 ? `fill: ${options.fillType5}` : ""};\n  }\n  .task-type-6, .section-type-6  {\n    ${options.fillType0 ? `fill: ${options.fillType6}` : ""};\n  }\n  .task-type-7, .section-type-7  {\n    ${options.fillType0 ? `fill: ${options.fillType7}` : ""};\n  }\n\n  .actor-0 {\n    ${options.actor0 ? `fill: ${options.actor0}` : ""};\n  }\n  .actor-1 {\n    ${options.actor1 ? `fill: ${options.actor1}` : ""};\n  }\n  .actor-2 {\n    ${options.actor2 ? `fill: ${options.actor2}` : ""};\n  }\n  .actor-3 {\n    ${options.actor3 ? `fill: ${options.actor3}` : ""};\n  }\n  .actor-4 {\n    ${options.actor4 ? `fill: ${options.actor4}` : ""};\n  }\n  .actor-5 {\n    ${options.actor5 ? `fill: ${options.actor5}` : ""};\n  }\n  ${(0,_chunk_FMBD7UC4_mjs__WEBPACK_IMPORTED_MODULE_1__.getIconStyles)()}\n`, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/user-journey/journeyRenderer.ts\n\n\n// src/diagrams/user-journey/svgDraw.js\n\nvar drawRect2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem, rectData) {\n  return (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.drawRect)(elem, rectData);\n}, "drawRect");\nvar drawFace = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(element, faceData) {\n  const radius = 15;\n  const circleElement = element.append("circle").attr("cx", faceData.cx).attr("cy", faceData.cy).attr("class", "face").attr("r", radius).attr("stroke-width", 2).attr("overflow", "visible");\n  const face = element.append("g");\n  face.append("circle").attr("cx", faceData.cx - radius / 3).attr("cy", faceData.cy - radius / 3).attr("r", 1.5).attr("stroke-width", 2).attr("fill", "#666").attr("stroke", "#666");\n  face.append("circle").attr("cx", faceData.cx + radius / 3).attr("cy", faceData.cy - radius / 3).attr("r", 1.5).attr("stroke-width", 2).attr("fill", "#666").attr("stroke", "#666");\n  function smile(face2) {\n    const arc = (0,d3__WEBPACK_IMPORTED_MODULE_4__.arc)().startAngle(Math.PI / 2).endAngle(3 * (Math.PI / 2)).innerRadius(radius / 2).outerRadius(radius / 2.2);\n    face2.append("path").attr("class", "mouth").attr("d", arc).attr("transform", "translate(" + faceData.cx + "," + (faceData.cy + 2) + ")");\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(smile, "smile");\n  function sad(face2) {\n    const arc = (0,d3__WEBPACK_IMPORTED_MODULE_4__.arc)().startAngle(3 * Math.PI / 2).endAngle(5 * (Math.PI / 2)).innerRadius(radius / 2).outerRadius(radius / 2.2);\n    face2.append("path").attr("class", "mouth").attr("d", arc).attr("transform", "translate(" + faceData.cx + "," + (faceData.cy + 7) + ")");\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(sad, "sad");\n  function ambivalent(face2) {\n    face2.append("line").attr("class", "mouth").attr("stroke", 2).attr("x1", faceData.cx - 5).attr("y1", faceData.cy + 7).attr("x2", faceData.cx + 5).attr("y2", faceData.cy + 7).attr("class", "mouth").attr("stroke-width", "1px").attr("stroke", "#666");\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(ambivalent, "ambivalent");\n  if (faceData.score > 3) {\n    smile(face);\n  } else if (faceData.score < 3) {\n    sad(face);\n  } else {\n    ambivalent(face);\n  }\n  return circleElement;\n}, "drawFace");\nvar drawCircle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(element, circleData) {\n  const circleElement = element.append("circle");\n  circleElement.attr("cx", circleData.cx);\n  circleElement.attr("cy", circleData.cy);\n  circleElement.attr("class", "actor-" + circleData.pos);\n  circleElement.attr("fill", circleData.fill);\n  circleElement.attr("stroke", circleData.stroke);\n  circleElement.attr("r", circleData.r);\n  if (circleElement.class !== void 0) {\n    circleElement.attr("class", circleElement.class);\n  }\n  if (circleData.title !== void 0) {\n    circleElement.append("title").text(circleData.title);\n  }\n  return circleElement;\n}, "drawCircle");\nvar drawText2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem, textData) {\n  return (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.drawText)(elem, textData);\n}, "drawText");\nvar drawLabel = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem, txtObject) {\n  function genPoints(x, y, width, height, cut) {\n    return x + "," + y + " " + (x + width) + "," + y + " " + (x + width) + "," + (y + height - cut) + " " + (x + width - cut * 1.2) + "," + (y + height) + " " + x + "," + (y + height);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(genPoints, "genPoints");\n  const polygon = elem.append("polygon");\n  polygon.attr("points", genPoints(txtObject.x, txtObject.y, 50, 20, 7));\n  polygon.attr("class", "labelBox");\n  txtObject.y = txtObject.y + txtObject.labelMargin;\n  txtObject.x = txtObject.x + 0.5 * txtObject.labelMargin;\n  drawText2(elem, txtObject);\n}, "drawLabel");\nvar drawSection = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem, section, conf2) {\n  const g = elem.append("g");\n  const rect = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getNoteRect)();\n  rect.x = section.x;\n  rect.y = section.y;\n  rect.fill = section.fill;\n  rect.width = conf2.width * section.taskCount + // width of the tasks\n  conf2.diagramMarginX * (section.taskCount - 1);\n  rect.height = conf2.height;\n  rect.class = "journey-section section-type-" + section.num;\n  rect.rx = 3;\n  rect.ry = 3;\n  drawRect2(g, rect);\n  _drawTextCandidateFunc(conf2)(\n    section.text,\n    g,\n    rect.x,\n    rect.y,\n    rect.width,\n    rect.height,\n    { class: "journey-section section-type-" + section.num },\n    conf2,\n    section.colour\n  );\n}, "drawSection");\nvar taskCount = -1;\nvar drawTask = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem, task, conf2) {\n  const center = task.x + conf2.width / 2;\n  const g = elem.append("g");\n  taskCount++;\n  const maxHeight = 300 + 5 * 30;\n  g.append("line").attr("id", "task" + taskCount).attr("x1", center).attr("y1", task.y).attr("x2", center).attr("y2", maxHeight).attr("class", "task-line").attr("stroke-width", "1px").attr("stroke-dasharray", "4 2").attr("stroke", "#666");\n  drawFace(g, {\n    cx: center,\n    cy: 300 + (5 - task.score) * 30,\n    score: task.score\n  });\n  const rect = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getNoteRect)();\n  rect.x = task.x;\n  rect.y = task.y;\n  rect.fill = task.fill;\n  rect.width = conf2.width;\n  rect.height = conf2.height;\n  rect.class = "task task-type-" + task.num;\n  rect.rx = 3;\n  rect.ry = 3;\n  drawRect2(g, rect);\n  let xPos = task.x + 14;\n  task.people.forEach((person) => {\n    const colour = task.actors[person].color;\n    const circle = {\n      cx: xPos,\n      cy: task.y,\n      r: 7,\n      fill: colour,\n      stroke: "#000",\n      title: person,\n      pos: task.actors[person].position\n    };\n    drawCircle(g, circle);\n    xPos += 10;\n  });\n  _drawTextCandidateFunc(conf2)(\n    task.task,\n    g,\n    rect.x,\n    rect.y,\n    rect.width,\n    rect.height,\n    { class: "task" },\n    conf2,\n    task.colour\n  );\n}, "drawTask");\nvar drawBackgroundRect2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(elem, bounds2) {\n  (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.drawBackgroundRect)(elem, bounds2);\n}, "drawBackgroundRect");\nvar _drawTextCandidateFunc = /* @__PURE__ */ (function() {\n  function byText(content, g, x, y, width, height, textAttrs, colour) {\n    const text = g.append("text").attr("x", x + width / 2).attr("y", y + height / 2 + 5).style("font-color", colour).style("text-anchor", "middle").text(content);\n    _setTextAttrs(text, textAttrs);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(byText, "byText");\n  function byTspan(content, g, x, y, width, height, textAttrs, conf2, colour) {\n    const { taskFontSize, taskFontFamily } = conf2;\n    const lines = content.split(/<br\\s*\\/?>/gi);\n    for (let i = 0; i < lines.length; i++) {\n      const dy = i * taskFontSize - taskFontSize * (lines.length - 1) / 2;\n      const text = g.append("text").attr("x", x + width / 2).attr("y", y).attr("fill", colour).style("text-anchor", "middle").style("font-size", taskFontSize).style("font-family", taskFontFamily);\n      text.append("tspan").attr("x", x + width / 2).attr("dy", dy).text(lines[i]);\n      text.attr("y", y + height / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central");\n      _setTextAttrs(text, textAttrs);\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(byTspan, "byTspan");\n  function byFo(content, g, x, y, width, height, textAttrs, conf2) {\n    const body = g.append("switch");\n    const f = body.append("foreignObject").attr("x", x).attr("y", y).attr("width", width).attr("height", height).attr("position", "fixed");\n    const text = f.append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");\n    text.append("div").attr("class", "label").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(content);\n    byTspan(content, body, x, y, width, height, textAttrs, conf2);\n    _setTextAttrs(text, textAttrs);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(byFo, "byFo");\n  function _setTextAttrs(toText, fromTextAttrsDict) {\n    for (const key in fromTextAttrsDict) {\n      if (key in fromTextAttrsDict) {\n        toText.attr(key, fromTextAttrsDict[key]);\n      }\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(_setTextAttrs, "_setTextAttrs");\n  return function(conf2) {\n    return conf2.textPlacement === "fo" ? byFo : conf2.textPlacement === "old" ? byText : byTspan;\n  };\n})();\nvar initGraphics = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(graphics) {\n  graphics.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 5).attr("refY", 2).attr("markerWidth", 6).attr("markerHeight", 4).attr("orient", "auto").append("path").attr("d", "M 0,0 V 4 L6,2 Z");\n}, "initGraphics");\nvar svgDraw_default = {\n  drawRect: drawRect2,\n  drawCircle,\n  drawSection,\n  drawText: drawText2,\n  drawLabel,\n  drawTask,\n  drawBackgroundRect: drawBackgroundRect2,\n  initGraphics\n};\n\n// src/diagrams/user-journey/journeyRenderer.ts\nvar setConf = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(cnf) {\n  const keys = Object.keys(cnf);\n  keys.forEach(function(key) {\n    conf[key] = cnf[key];\n  });\n}, "setConf");\nvar actors = {};\nvar maxWidth = 0;\nfunction drawActorLegend(diagram2) {\n  const conf2 = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().journey;\n  const maxLabelWidth = conf2.maxLabelWidth;\n  maxWidth = 0;\n  let yPos = 60;\n  Object.keys(actors).forEach((person) => {\n    const colour = actors[person].color;\n    const circleData = {\n      cx: 20,\n      cy: yPos,\n      r: 7,\n      fill: colour,\n      stroke: "#000",\n      pos: actors[person].position\n    };\n    svgDraw_default.drawCircle(diagram2, circleData);\n    let measureText = diagram2.append("text").attr("visibility", "hidden").text(person);\n    const fullTextWidth = measureText.node().getBoundingClientRect().width;\n    measureText.remove();\n    let lines = [];\n    if (fullTextWidth <= maxLabelWidth) {\n      lines = [person];\n    } else {\n      const words = person.split(" ");\n      let currentLine = "";\n      measureText = diagram2.append("text").attr("visibility", "hidden");\n      words.forEach((word) => {\n        const testLine = currentLine ? `${currentLine} ${word}` : word;\n        measureText.text(testLine);\n        const textWidth = measureText.node().getBoundingClientRect().width;\n        if (textWidth > maxLabelWidth) {\n          if (currentLine) {\n            lines.push(currentLine);\n          }\n          currentLine = word;\n          measureText.text(word);\n          if (measureText.node().getBoundingClientRect().width > maxLabelWidth) {\n            let brokenWord = "";\n            for (const char of word) {\n              brokenWord += char;\n              measureText.text(brokenWord + "-");\n              if (measureText.node().getBoundingClientRect().width > maxLabelWidth) {\n                lines.push(brokenWord.slice(0, -1) + "-");\n                brokenWord = char;\n              }\n            }\n            currentLine = brokenWord;\n          }\n        } else {\n          currentLine = testLine;\n        }\n      });\n      if (currentLine) {\n        lines.push(currentLine);\n      }\n      measureText.remove();\n    }\n    lines.forEach((line, index) => {\n      const labelData = {\n        x: 40,\n        y: yPos + 7 + index * 20,\n        fill: "#666",\n        text: line,\n        textMargin: conf2.boxTextMargin ?? 5\n      };\n      const textElement = svgDraw_default.drawText(diagram2, labelData);\n      const lineWidth = textElement.node().getBoundingClientRect().width;\n      if (lineWidth > maxWidth && lineWidth > conf2.leftMargin - lineWidth) {\n        maxWidth = lineWidth;\n      }\n    });\n    yPos += Math.max(20, lines.length * 20);\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(drawActorLegend, "drawActorLegend");\nvar conf = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().journey;\nvar leftMargin = 0;\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(text, id, version, diagObj) {\n  const configObject = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)();\n  const titleColor = configObject.journey.titleColor;\n  const titleFontSize = configObject.journey.titleFontSize;\n  const titleFontFamily = configObject.journey.titleFontFamily;\n  const securityLevel = configObject.securityLevel;\n  let sandboxElement;\n  if (securityLevel === "sandbox") {\n    sandboxElement = (0,d3__WEBPACK_IMPORTED_MODULE_4__.select)("#i" + id);\n  }\n  const root = securityLevel === "sandbox" ? (0,d3__WEBPACK_IMPORTED_MODULE_4__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0,d3__WEBPACK_IMPORTED_MODULE_4__.select)("body");\n  bounds.init();\n  const diagram2 = root.select("#" + id);\n  svgDraw_default.initGraphics(diagram2);\n  const tasks2 = diagObj.db.getTasks();\n  const title = diagObj.db.getDiagramTitle();\n  const actorNames = diagObj.db.getActors();\n  for (const member in actors) {\n    delete actors[member];\n  }\n  let actorPos = 0;\n  actorNames.forEach((actorName) => {\n    actors[actorName] = {\n      color: conf.actorColours[actorPos % conf.actorColours.length],\n      position: actorPos\n    };\n    actorPos++;\n  });\n  drawActorLegend(diagram2);\n  leftMargin = conf.leftMargin + maxWidth;\n  bounds.insert(0, 0, leftMargin, Object.keys(actors).length * 50);\n  drawTasks(diagram2, tasks2, 0);\n  const box = bounds.getBounds();\n  if (title) {\n    diagram2.append("text").text(title).attr("x", leftMargin).attr("font-size", titleFontSize).attr("font-weight", "bold").attr("y", 25).attr("fill", titleColor).attr("font-family", titleFontFamily);\n  }\n  const height = box.stopy - box.starty + 2 * conf.diagramMarginY;\n  const width = leftMargin + box.stopx + 2 * conf.diagramMarginX;\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.configureSvgSize)(diagram2, height, width, conf.useMaxWidth);\n  diagram2.append("line").attr("x1", leftMargin).attr("y1", conf.height * 4).attr("x2", width - leftMargin - 4).attr("y2", conf.height * 4).attr("stroke-width", 4).attr("stroke", "black").attr("marker-end", "url(#arrowhead)");\n  const extraVertForTitle = title ? 70 : 0;\n  diagram2.attr("viewBox", `${box.startx} -25 ${width} ${height + extraVertForTitle}`);\n  diagram2.attr("preserveAspectRatio", "xMinYMin meet");\n  diagram2.attr("height", height + extraVertForTitle + 25);\n}, "draw");\nvar bounds = {\n  data: {\n    startx: void 0,\n    stopx: void 0,\n    starty: void 0,\n    stopy: void 0\n  },\n  verticalPos: 0,\n  sequenceItems: [],\n  init: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n    this.sequenceItems = [];\n    this.data = {\n      startx: void 0,\n      stopx: void 0,\n      starty: void 0,\n      stopy: void 0\n    };\n    this.verticalPos = 0;\n  }, "init"),\n  updateVal: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(obj, key, val, fun) {\n    if (obj[key] === void 0) {\n      obj[key] = val;\n    } else {\n      obj[key] = fun(val, obj[key]);\n    }\n  }, "updateVal"),\n  updateBounds: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(startx, starty, stopx, stopy) {\n    const conf2 = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().journey;\n    const _self = this;\n    let cnt = 0;\n    function updateFn(type) {\n      return /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function updateItemBounds(item) {\n        cnt++;\n        const n = _self.sequenceItems.length - cnt + 1;\n        _self.updateVal(item, "starty", starty - n * conf2.boxMargin, Math.min);\n        _self.updateVal(item, "stopy", stopy + n * conf2.boxMargin, Math.max);\n        _self.updateVal(bounds.data, "startx", startx - n * conf2.boxMargin, Math.min);\n        _self.updateVal(bounds.data, "stopx", stopx + n * conf2.boxMargin, Math.max);\n        if (!(type === "activation")) {\n          _self.updateVal(item, "startx", startx - n * conf2.boxMargin, Math.min);\n          _self.updateVal(item, "stopx", stopx + n * conf2.boxMargin, Math.max);\n          _self.updateVal(bounds.data, "starty", starty - n * conf2.boxMargin, Math.min);\n          _self.updateVal(bounds.data, "stopy", stopy + n * conf2.boxMargin, Math.max);\n        }\n      }, "updateItemBounds");\n    }\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(updateFn, "updateFn");\n    this.sequenceItems.forEach(updateFn());\n  }, "updateBounds"),\n  insert: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(startx, starty, stopx, stopy) {\n    const _startx = Math.min(startx, stopx);\n    const _stopx = Math.max(startx, stopx);\n    const _starty = Math.min(starty, stopy);\n    const _stopy = Math.max(starty, stopy);\n    this.updateVal(bounds.data, "startx", _startx, Math.min);\n    this.updateVal(bounds.data, "starty", _starty, Math.min);\n    this.updateVal(bounds.data, "stopx", _stopx, Math.max);\n    this.updateVal(bounds.data, "stopy", _stopy, Math.max);\n    this.updateBounds(_startx, _starty, _stopx, _stopy);\n  }, "insert"),\n  bumpVerticalPos: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(bump) {\n    this.verticalPos = this.verticalPos + bump;\n    this.data.stopy = this.verticalPos;\n  }, "bumpVerticalPos"),\n  getVerticalPos: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n    return this.verticalPos;\n  }, "getVerticalPos"),\n  getBounds: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n    return this.data;\n  }, "getBounds")\n};\nvar fills = conf.sectionFills;\nvar textColours = conf.sectionColours;\nvar drawTasks = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(diagram2, tasks2, verticalPos) {\n  const conf2 = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().journey;\n  let lastSection = "";\n  const sectionVHeight = conf2.height * 2 + conf2.diagramMarginY;\n  const taskPos = verticalPos + sectionVHeight;\n  let sectionNumber = 0;\n  let fill = "#CCC";\n  let colour = "black";\n  let num = 0;\n  for (const [i, task] of tasks2.entries()) {\n    if (lastSection !== task.section) {\n      fill = fills[sectionNumber % fills.length];\n      num = sectionNumber % fills.length;\n      colour = textColours[sectionNumber % textColours.length];\n      let taskInSectionCount = 0;\n      const currentSection2 = task.section;\n      for (let taskIndex = i; taskIndex < tasks2.length; taskIndex++) {\n        if (tasks2[taskIndex].section == currentSection2) {\n          taskInSectionCount = taskInSectionCount + 1;\n        } else {\n          break;\n        }\n      }\n      const section = {\n        x: i * conf2.taskMargin + i * conf2.width + leftMargin,\n        y: 50,\n        text: task.section,\n        fill,\n        num,\n        colour,\n        taskCount: taskInSectionCount\n      };\n      svgDraw_default.drawSection(diagram2, section, conf2);\n      lastSection = task.section;\n      sectionNumber++;\n    }\n    const taskActors = task.people.reduce((acc, actorName) => {\n      if (actors[actorName]) {\n        acc[actorName] = actors[actorName];\n      }\n      return acc;\n    }, {});\n    task.x = i * conf2.taskMargin + i * conf2.width + leftMargin;\n    task.y = taskPos;\n    task.width = conf2.diagramMarginX;\n    task.height = conf2.diagramMarginY;\n    task.colour = colour;\n    task.fill = fill;\n    task.num = num;\n    task.actors = taskActors;\n    svgDraw_default.drawTask(diagram2, task, conf2);\n    bounds.insert(task.x, task.y, task.x + task.width + conf2.taskMargin, 300 + 5 * 30);\n  }\n}, "drawTasks");\nvar journeyRenderer_default = {\n  setConf,\n  draw\n};\n\n// src/diagrams/user-journey/journeyDiagram.ts\nvar diagram = {\n  parser: journey_default,\n  db: journeyDb_default,\n  renderer: journeyRenderer_default,\n  styles: styles_default,\n  init: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((cnf) => {\n    journeyRenderer_default.setConf(cnf.journey);\n    journeyDb_default.clear();\n  }, "init")\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/journeyDiagram-XKPGCS4Q.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/kanban-definition-3W4ZIXB7.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-EXTU4WIE.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-EXTU4WIE.mjs");\n/* harmony import */ var _chunk_FMBD7UC4_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-FMBD7UC4.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-FMBD7UC4.mjs");\n/* harmony import */ var _chunk_MI3HLSF2_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-MI3HLSF2.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-MI3HLSF2.mjs");\n/* harmony import */ var _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-JZLCHNYA.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs");\n/* harmony import */ var _chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-CVBHYZKI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs");\n/* harmony import */ var _chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-ATLVNIR6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/is_dark.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/lighten.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/darken.js");\n\n\n\n\n\n\n\n\n\n\n\n// src/diagrams/kanban/parser/kanban.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [1, 4], $V1 = [1, 13], $V2 = [1, 12], $V3 = [1, 15], $V4 = [1, 16], $V5 = [1, 20], $V6 = [1, 19], $V7 = [6, 7, 8], $V8 = [1, 26], $V9 = [1, 24], $Va = [1, 25], $Vb = [6, 7, 11], $Vc = [1, 31], $Vd = [6, 7, 11, 24], $Ve = [1, 6, 13, 16, 17, 20, 23], $Vf = [1, 35], $Vg = [1, 36], $Vh = [1, 6, 7, 11, 13, 16, 17, 20, 23], $Vi = [1, 38];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "start": 3, "mindMap": 4, "spaceLines": 5, "SPACELINE": 6, "NL": 7, "KANBAN": 8, "document": 9, "stop": 10, "EOF": 11, "statement": 12, "SPACELIST": 13, "node": 14, "shapeData": 15, "ICON": 16, "CLASS": 17, "nodeWithId": 18, "nodeWithoutId": 19, "NODE_DSTART": 20, "NODE_DESCR": 21, "NODE_DEND": 22, "NODE_ID": 23, "SHAPE_DATA": 24, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 6: "SPACELINE", 7: "NL", 8: "KANBAN", 11: "EOF", 13: "SPACELIST", 16: "ICON", 17: "CLASS", 20: "NODE_DSTART", 21: "NODE_DESCR", 22: "NODE_DEND", 23: "NODE_ID", 24: "SHAPE_DATA" },\n    productions_: [0, [3, 1], [3, 2], [5, 1], [5, 2], [5, 2], [4, 2], [4, 3], [10, 1], [10, 1], [10, 1], [10, 2], [10, 2], [9, 3], [9, 2], [12, 3], [12, 2], [12, 2], [12, 2], [12, 1], [12, 2], [12, 1], [12, 1], [12, 1], [12, 1], [14, 1], [14, 1], [19, 3], [18, 1], [18, 4], [15, 2], [15, 1]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 6:\n        case 7:\n          return yy;\n          // removed by dead control flow\n\n        case 8:\n          yy.getLogger().trace("Stop NL ");\n          break;\n        case 9:\n          yy.getLogger().trace("Stop EOF ");\n          break;\n        case 11:\n          yy.getLogger().trace("Stop NL2 ");\n          break;\n        case 12:\n          yy.getLogger().trace("Stop EOF2 ");\n          break;\n        case 15:\n          yy.getLogger().info("Node: ", $$[$0 - 1].id);\n          yy.addNode($$[$0 - 2].length, $$[$0 - 1].id, $$[$0 - 1].descr, $$[$0 - 1].type, $$[$0]);\n          break;\n        case 16:\n          yy.getLogger().info("Node: ", $$[$0].id);\n          yy.addNode($$[$0 - 1].length, $$[$0].id, $$[$0].descr, $$[$0].type);\n          break;\n        case 17:\n          yy.getLogger().trace("Icon: ", $$[$0]);\n          yy.decorateNode({ icon: $$[$0] });\n          break;\n        case 18:\n        case 23:\n          yy.decorateNode({ class: $$[$0] });\n          break;\n        case 19:\n          yy.getLogger().trace("SPACELIST");\n          break;\n        case 20:\n          yy.getLogger().trace("Node: ", $$[$0 - 1].id);\n          yy.addNode(0, $$[$0 - 1].id, $$[$0 - 1].descr, $$[$0 - 1].type, $$[$0]);\n          break;\n        case 21:\n          yy.getLogger().trace("Node: ", $$[$0].id);\n          yy.addNode(0, $$[$0].id, $$[$0].descr, $$[$0].type);\n          break;\n        case 22:\n          yy.decorateNode({ icon: $$[$0] });\n          break;\n        case 27:\n          yy.getLogger().trace("node found ..", $$[$0 - 2]);\n          this.$ = { id: $$[$0 - 1], descr: $$[$0 - 1], type: yy.getType($$[$0 - 2], $$[$0]) };\n          break;\n        case 28:\n          this.$ = { id: $$[$0], descr: $$[$0], type: 0 };\n          break;\n        case 29:\n          yy.getLogger().trace("node found ..", $$[$0 - 3]);\n          this.$ = { id: $$[$0 - 3], descr: $$[$0 - 1], type: yy.getType($$[$0 - 2], $$[$0]) };\n          break;\n        case 30:\n          this.$ = $$[$0 - 1] + $$[$0];\n          break;\n        case 31:\n          this.$ = $$[$0];\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 3: 1, 4: 2, 5: 3, 6: [1, 5], 8: $V0 }, { 1: [3] }, { 1: [2, 1] }, { 4: 6, 6: [1, 7], 7: [1, 8], 8: $V0 }, { 6: $V1, 7: [1, 10], 9: 9, 12: 11, 13: $V2, 14: 14, 16: $V3, 17: $V4, 18: 17, 19: 18, 20: $V5, 23: $V6 }, o($V7, [2, 3]), { 1: [2, 2] }, o($V7, [2, 4]), o($V7, [2, 5]), { 1: [2, 6], 6: $V1, 12: 21, 13: $V2, 14: 14, 16: $V3, 17: $V4, 18: 17, 19: 18, 20: $V5, 23: $V6 }, { 6: $V1, 9: 22, 12: 11, 13: $V2, 14: 14, 16: $V3, 17: $V4, 18: 17, 19: 18, 20: $V5, 23: $V6 }, { 6: $V8, 7: $V9, 10: 23, 11: $Va }, o($Vb, [2, 24], { 18: 17, 19: 18, 14: 27, 16: [1, 28], 17: [1, 29], 20: $V5, 23: $V6 }), o($Vb, [2, 19]), o($Vb, [2, 21], { 15: 30, 24: $Vc }), o($Vb, [2, 22]), o($Vb, [2, 23]), o($Vd, [2, 25]), o($Vd, [2, 26]), o($Vd, [2, 28], { 20: [1, 32] }), { 21: [1, 33] }, { 6: $V8, 7: $V9, 10: 34, 11: $Va }, { 1: [2, 7], 6: $V1, 12: 21, 13: $V2, 14: 14, 16: $V3, 17: $V4, 18: 17, 19: 18, 20: $V5, 23: $V6 }, o($Ve, [2, 14], { 7: $Vf, 11: $Vg }), o($Vh, [2, 8]), o($Vh, [2, 9]), o($Vh, [2, 10]), o($Vb, [2, 16], { 15: 37, 24: $Vc }), o($Vb, [2, 17]), o($Vb, [2, 18]), o($Vb, [2, 20], { 24: $Vi }), o($Vd, [2, 31]), { 21: [1, 39] }, { 22: [1, 40] }, o($Ve, [2, 13], { 7: $Vf, 11: $Vg }), o($Vh, [2, 11]), o($Vh, [2, 12]), o($Vb, [2, 15], { 24: $Vi }), o($Vd, [2, 30]), { 22: [1, 41] }, o($Vd, [2, 27]), o($Vd, [2, 29])],\n    defaultActions: { 2: [2, 1], 6: [2, 2] },\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: { "case-insensitive": true },\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            this.pushState("shapeData");\n            yy_.yytext = "";\n            return 24;\n            // removed by dead control flow\n\n          case 1:\n            this.pushState("shapeDataStr");\n            return 24;\n            // removed by dead control flow\n\n          case 2:\n            this.popState();\n            return 24;\n            // removed by dead control flow\n\n          case 3:\n            const re = /\\n\\s*/g;\n            yy_.yytext = yy_.yytext.replace(re, "<br/>");\n            return 24;\n            // removed by dead control flow\n\n          case 4:\n            return 24;\n            // removed by dead control flow\n\n          case 5:\n            this.popState();\n            break;\n          case 6:\n            yy.getLogger().trace("Found comment", yy_.yytext);\n            return 6;\n            // removed by dead control flow\n\n          case 7:\n            return 8;\n            // removed by dead control flow\n\n          case 8:\n            this.begin("CLASS");\n            break;\n          case 9:\n            this.popState();\n            return 17;\n            // removed by dead control flow\n\n          case 10:\n            this.popState();\n            break;\n          case 11:\n            yy.getLogger().trace("Begin icon");\n            this.begin("ICON");\n            break;\n          case 12:\n            yy.getLogger().trace("SPACELINE");\n            return 6;\n            // removed by dead control flow\n\n          case 13:\n            return 7;\n            // removed by dead control flow\n\n          case 14:\n            return 16;\n            // removed by dead control flow\n\n          case 15:\n            yy.getLogger().trace("end icon");\n            this.popState();\n            break;\n          case 16:\n            yy.getLogger().trace("Exploding node");\n            this.begin("NODE");\n            return 20;\n            // removed by dead control flow\n\n          case 17:\n            yy.getLogger().trace("Cloud");\n            this.begin("NODE");\n            return 20;\n            // removed by dead control flow\n\n          case 18:\n            yy.getLogger().trace("Explosion Bang");\n            this.begin("NODE");\n            return 20;\n            // removed by dead control flow\n\n          case 19:\n            yy.getLogger().trace("Cloud Bang");\n            this.begin("NODE");\n            return 20;\n            // removed by dead control flow\n\n          case 20:\n            this.begin("NODE");\n            return 20;\n            // removed by dead control flow\n\n          case 21:\n            this.begin("NODE");\n            return 20;\n            // removed by dead control flow\n\n          case 22:\n            this.begin("NODE");\n            return 20;\n            // removed by dead control flow\n\n          case 23:\n            this.begin("NODE");\n            return 20;\n            // removed by dead control flow\n\n          case 24:\n            return 13;\n            // removed by dead control flow\n\n          case 25:\n            return 23;\n            // removed by dead control flow\n\n          case 26:\n            return 11;\n            // removed by dead control flow\n\n          case 27:\n            this.begin("NSTR2");\n            break;\n          case 28:\n            return "NODE_DESCR";\n            // removed by dead control flow\n\n          case 29:\n            this.popState();\n            break;\n          case 30:\n            yy.getLogger().trace("Starting NSTR");\n            this.begin("NSTR");\n            break;\n          case 31:\n            yy.getLogger().trace("description:", yy_.yytext);\n            return "NODE_DESCR";\n            // removed by dead control flow\n\n          case 32:\n            this.popState();\n            break;\n          case 33:\n            this.popState();\n            yy.getLogger().trace("node end ))");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 34:\n            this.popState();\n            yy.getLogger().trace("node end )");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 35:\n            this.popState();\n            yy.getLogger().trace("node end ...", yy_.yytext);\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 36:\n            this.popState();\n            yy.getLogger().trace("node end ((");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 37:\n            this.popState();\n            yy.getLogger().trace("node end (-");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 38:\n            this.popState();\n            yy.getLogger().trace("node end (-");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 39:\n            this.popState();\n            yy.getLogger().trace("node end ((");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 40:\n            this.popState();\n            yy.getLogger().trace("node end ((");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 41:\n            yy.getLogger().trace("Long description:", yy_.yytext);\n            return 21;\n            // removed by dead control flow\n\n          case 42:\n            yy.getLogger().trace("Long description:", yy_.yytext);\n            return 21;\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:@\\{)/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^\\"]+)/i, /^(?:[^}^"]+)/i, /^(?:\\})/i, /^(?:\\s*%%.*)/i, /^(?:kanban\\b)/i, /^(?::::)/i, /^(?:.+)/i, /^(?:\\n)/i, /^(?:::icon\\()/i, /^(?:[\\s]+[\\n])/i, /^(?:[\\n]+)/i, /^(?:[^\\)]+)/i, /^(?:\\))/i, /^(?:-\\))/i, /^(?:\\(-)/i, /^(?:\\)\\))/i, /^(?:\\))/i, /^(?:\\(\\()/i, /^(?:\\{\\{)/i, /^(?:\\()/i, /^(?:\\[)/i, /^(?:[\\s]+)/i, /^(?:[^\\(\\[\\n\\)\\{\\}@]+)/i, /^(?:$)/i, /^(?:["][`])/i, /^(?:[^`"]+)/i, /^(?:[`]["])/i, /^(?:["])/i, /^(?:[^"]+)/i, /^(?:["])/i, /^(?:[\\)]\\))/i, /^(?:[\\)])/i, /^(?:[\\]])/i, /^(?:\\}\\})/i, /^(?:\\(-)/i, /^(?:-\\))/i, /^(?:\\(\\()/i, /^(?:\\()/i, /^(?:[^\\)\\]\\(\\}]+)/i, /^(?:.+(?!\\(\\())/i],\n      conditions: { "shapeDataEndBracket": { "rules": [], "inclusive": false }, "shapeDataStr": { "rules": [2, 3], "inclusive": false }, "shapeData": { "rules": [1, 4, 5], "inclusive": false }, "CLASS": { "rules": [9, 10], "inclusive": false }, "ICON": { "rules": [14, 15], "inclusive": false }, "NSTR2": { "rules": [28, 29], "inclusive": false }, "NSTR": { "rules": [31, 32], "inclusive": false }, "NODE": { "rules": [27, 30, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42], "inclusive": false }, "INITIAL": { "rules": [0, 6, 7, 8, 11, 12, 13, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar kanban_default = parser;\n\n// src/diagrams/kanban/kanbanDb.ts\nvar nodes = [];\nvar sections = [];\nvar cnt = 0;\nvar elements = {};\nvar clear = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(() => {\n  nodes = [];\n  sections = [];\n  cnt = 0;\n  elements = {};\n}, "clear");\nvar getSection = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)((level) => {\n  if (nodes.length === 0) {\n    return null;\n  }\n  const sectionLevel = nodes[0].level;\n  let lastSection = null;\n  for (let i = nodes.length - 1; i >= 0; i--) {\n    if (nodes[i].level === sectionLevel && !lastSection) {\n      lastSection = nodes[i];\n    }\n    if (nodes[i].level < sectionLevel) {\n      throw new Error(\'Items without section detected, found section ("\' + nodes[i].label + \'")\');\n    }\n  }\n  if (level === lastSection?.level) {\n    return null;\n  }\n  return lastSection;\n}, "getSection");\nvar getSections = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function() {\n  return sections;\n}, "getSections");\nvar getData = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(function() {\n  const edges = [];\n  const _nodes = [];\n  const sections2 = getSections();\n  const conf = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.getConfig2)();\n  for (const section of sections2) {\n    const node = {\n      id: section.id,\n      label: (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.sanitizeText)(section.label ?? "", conf),\n      isGroup: true,\n      ticket: section.ticket,\n      shape: "kanbanSection",\n      level: section.level,\n      look: conf.look\n    };\n    _nodes.push(node);\n    const children = nodes.filter((n) => n.parentId === section.id);\n    for (const item of children) {\n      const childNode = {\n        id: item.id,\n        parentId: section.id,\n        label: (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.sanitizeText)(item.label ?? "", conf),\n        isGroup: false,\n        ticket: item?.ticket,\n        priority: item?.priority,\n        assigned: item?.assigned,\n        icon: item?.icon,\n        shape: "kanbanItem",\n        level: item.level,\n        rx: 5,\n        ry: 5,\n        cssStyles: ["text-align: left"]\n      };\n      _nodes.push(childNode);\n    }\n  }\n  return { nodes: _nodes, edges, other: {}, config: (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.getConfig2)() };\n}, "getData");\nvar addNode = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)((level, id, descr, type, shapeData) => {\n  const conf = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.getConfig2)();\n  let padding = conf.mindmap?.padding ?? _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.defaultConfig_default.mindmap.padding;\n  switch (type) {\n    case nodeType.ROUNDED_RECT:\n    case nodeType.RECT:\n    case nodeType.HEXAGON:\n      padding *= 2;\n  }\n  const node = {\n    id: (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.sanitizeText)(id, conf) || "kbn" + cnt++,\n    level,\n    label: (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.sanitizeText)(descr, conf),\n    width: conf.mindmap?.maxNodeWidth ?? _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.defaultConfig_default.mindmap.maxNodeWidth,\n    padding,\n    isGroup: false\n  };\n  if (shapeData !== void 0) {\n    let yamlData;\n    if (!shapeData.includes("\\n")) {\n      yamlData = "{\\n" + shapeData + "\\n}";\n    } else {\n      yamlData = shapeData + "\\n";\n    }\n    const doc = (0,_chunk_MI3HLSF2_mjs__WEBPACK_IMPORTED_MODULE_2__.load)(yamlData, { schema: _chunk_MI3HLSF2_mjs__WEBPACK_IMPORTED_MODULE_2__.JSON_SCHEMA });\n    if (doc.shape && (doc.shape !== doc.shape.toLowerCase() || doc.shape.includes("_"))) {\n      throw new Error(`No such shape: ${doc.shape}. Shape names should be lowercase.`);\n    }\n    if (doc?.shape && doc.shape === "kanbanItem") {\n      node.shape = doc?.shape;\n    }\n    if (doc?.label) {\n      node.label = doc?.label;\n    }\n    if (doc?.icon) {\n      node.icon = doc?.icon.toString();\n    }\n    if (doc?.assigned) {\n      node.assigned = doc?.assigned.toString();\n    }\n    if (doc?.ticket) {\n      node.ticket = doc?.ticket.toString();\n    }\n    if (doc?.priority) {\n      node.priority = doc?.priority;\n    }\n  }\n  const section = getSection(level);\n  if (section) {\n    node.parentId = section.id || "kbn" + cnt++;\n  } else {\n    sections.push(node);\n  }\n  nodes.push(node);\n}, "addNode");\nvar nodeType = {\n  DEFAULT: 0,\n  NO_BORDER: 0,\n  ROUNDED_RECT: 1,\n  RECT: 2,\n  CIRCLE: 3,\n  CLOUD: 4,\n  BANG: 5,\n  HEXAGON: 6\n};\nvar getType = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)((startStr, endStr) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.log.debug("In get type", startStr, endStr);\n  switch (startStr) {\n    case "[":\n      return nodeType.RECT;\n    case "(":\n      return endStr === ")" ? nodeType.ROUNDED_RECT : nodeType.CLOUD;\n    case "((":\n      return nodeType.CIRCLE;\n    case ")":\n      return nodeType.CLOUD;\n    case "))":\n      return nodeType.BANG;\n    case "{{":\n      return nodeType.HEXAGON;\n    default:\n      return nodeType.DEFAULT;\n  }\n}, "getType");\nvar setElementForId = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)((id, element) => {\n  elements[id] = element;\n}, "setElementForId");\nvar decorateNode = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)((decoration) => {\n  if (!decoration) {\n    return;\n  }\n  const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.getConfig2)();\n  const node = nodes[nodes.length - 1];\n  if (decoration.icon) {\n    node.icon = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.sanitizeText)(decoration.icon, config);\n  }\n  if (decoration.class) {\n    node.cssClasses = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.sanitizeText)(decoration.class, config);\n  }\n}, "decorateNode");\nvar type2Str = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)((type) => {\n  switch (type) {\n    case nodeType.DEFAULT:\n      return "no-border";\n    case nodeType.RECT:\n      return "rect";\n    case nodeType.ROUNDED_RECT:\n      return "rounded-rect";\n    case nodeType.CIRCLE:\n      return "circle";\n    case nodeType.CLOUD:\n      return "cloud";\n    case nodeType.BANG:\n      return "bang";\n    case nodeType.HEXAGON:\n      return "hexgon";\n    // cspell: disable-line\n    default:\n      return "no-border";\n  }\n}, "type2Str");\nvar getLogger = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(() => _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.log, "getLogger");\nvar getElementById = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)((id) => elements[id], "getElementById");\nvar db = {\n  clear,\n  addNode,\n  getSections,\n  getData,\n  nodeType,\n  getType,\n  setElementForId,\n  decorateNode,\n  type2Str,\n  getLogger,\n  getElementById\n};\nvar kanbanDb_default = db;\n\n// src/diagrams/kanban/kanbanRenderer.ts\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)(async (text, id, _version, diagObj) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.log.debug("Rendering kanban diagram\\n" + text);\n  const db2 = diagObj.db;\n  const data4Layout = db2.getData();\n  const conf = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.getConfig2)();\n  conf.htmlLabels = false;\n  const svg = (0,_chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__.selectSvgElement)(id);\n  const sectionsElem = svg.append("g");\n  sectionsElem.attr("class", "sections");\n  const nodesElem = svg.append("g");\n  nodesElem.attr("class", "items");\n  const sections2 = data4Layout.nodes.filter(\n    // TODO: TypeScript 5.5 will infer this predicate automatically\n    (node) => node.isGroup\n  );\n  let cnt2 = 0;\n  const padding = 10;\n  const sectionObjects = [];\n  let maxLabelHeight = 25;\n  for (const section of sections2) {\n    const WIDTH = conf?.kanban?.sectionWidth || 200;\n    cnt2 = cnt2 + 1;\n    section.x = WIDTH * cnt2 + (cnt2 - 1) * padding / 2;\n    section.width = WIDTH;\n    section.y = 0;\n    section.height = WIDTH * 3;\n    section.rx = 5;\n    section.ry = 5;\n    section.cssClasses = section.cssClasses + " section-" + cnt2;\n    const sectionObj = await (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_3__.insertCluster)(sectionsElem, section);\n    maxLabelHeight = Math.max(maxLabelHeight, sectionObj?.labelBBox?.height);\n    sectionObjects.push(sectionObj);\n  }\n  let i = 0;\n  for (const section of sections2) {\n    const sectionObj = sectionObjects[i];\n    i = i + 1;\n    const WIDTH = conf?.kanban?.sectionWidth || 200;\n    const top = -WIDTH * 3 / 2 + maxLabelHeight;\n    let y = top;\n    const sectionItems = data4Layout.nodes.filter((node) => node.parentId === section.id);\n    for (const item of sectionItems) {\n      if (item.isGroup) {\n        throw new Error("Groups within groups are not allowed in Kanban diagrams");\n      }\n      item.x = section.x;\n      item.width = WIDTH - 1.5 * padding;\n      const nodeEl = await (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_3__.insertNode)(nodesElem, item, { config: conf });\n      const bbox = nodeEl.node().getBBox();\n      item.y = y + bbox.height / 2;\n      await (0,_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_3__.positionNode)(item);\n      y = item.y + bbox.height / 2 + padding / 2;\n    }\n    const rect = sectionObj.cluster.select("rect");\n    const height = Math.max(y - top + 3 * padding, 50) + (maxLabelHeight - 25);\n    rect.attr("height", height);\n  }\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.setupGraphViewbox)(\n    void 0,\n    svg,\n    conf.mindmap?.padding ?? _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.defaultConfig_default.kanban.padding,\n    conf.mindmap?.useMaxWidth ?? _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_8__.defaultConfig_default.kanban.useMaxWidth\n  );\n}, "draw");\nvar kanbanRenderer_default = {\n  draw\n};\n\n// src/diagrams/kanban/styles.ts\n\nvar genSections = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)((options) => {\n  let sections2 = "";\n  for (let i = 0; i < options.THEME_COLOR_LIMIT; i++) {\n    options["lineColor" + i] = options["lineColor" + i] || options["cScaleInv" + i];\n    if ((0,khroma__WEBPACK_IMPORTED_MODULE_10__["default"])(options["lineColor" + i])) {\n      options["lineColor" + i] = (0,khroma__WEBPACK_IMPORTED_MODULE_11__["default"])(options["lineColor" + i], 20);\n    } else {\n      options["lineColor" + i] = (0,khroma__WEBPACK_IMPORTED_MODULE_12__["default"])(options["lineColor" + i], 20);\n    }\n  }\n  const adjuster = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)((color, level) => options.darkMode ? (0,khroma__WEBPACK_IMPORTED_MODULE_12__["default"])(color, level) : (0,khroma__WEBPACK_IMPORTED_MODULE_11__["default"])(color, level), "adjuster");\n  for (let i = 0; i < options.THEME_COLOR_LIMIT; i++) {\n    const sw = "" + (17 - 3 * i);\n    sections2 += `\n    .section-${i - 1} rect, .section-${i - 1} path, .section-${i - 1} circle, .section-${i - 1} polygon, .section-${i - 1} path  {\n      fill: ${adjuster(options["cScale" + i], 10)};\n      stroke: ${adjuster(options["cScale" + i], 10)};\n\n    }\n    .section-${i - 1} text {\n     fill: ${options["cScaleLabel" + i]};\n    }\n    .node-icon-${i - 1} {\n      font-size: 40px;\n      color: ${options["cScaleLabel" + i]};\n    }\n    .section-edge-${i - 1}{\n      stroke: ${options["cScale" + i]};\n    }\n    .edge-depth-${i - 1}{\n      stroke-width: ${sw};\n    }\n    .section-${i - 1} line {\n      stroke: ${options["cScaleInv" + i]} ;\n      stroke-width: 3;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${options.background};\n    stroke: ${options.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .kanban-ticket-link {\n    fill: ${options.background};\n    stroke: ${options.nodeBorder};\n    text-decoration: underline;\n  }\n    `;\n  }\n  return sections2;\n}, "genSections");\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_9__.__name)((options) => `\n  .edge {\n    stroke-width: 3;\n  }\n  ${genSections(options)}\n  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {\n    fill: ${options.git0};\n  }\n  .section-root text {\n    fill: ${options.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .cluster-label, .label {\n    color: ${options.textColor};\n    fill: ${options.textColor};\n    }\n  .kanban-label {\n    dy: 1em;\n    alignment-baseline: middle;\n    text-anchor: middle;\n    dominant-baseline: middle;\n    text-align: center;\n  }\n    ${(0,_chunk_FMBD7UC4_mjs__WEBPACK_IMPORTED_MODULE_1__.getIconStyles)()}\n`, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/kanban/kanban-definition.ts\nvar diagram = {\n  db: kanbanDb_default,\n  renderer: kanbanRenderer_default,\n  parser: kanban_default,\n  styles: styles_default\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/kanban-definition-3W4ZIXB7.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/mindmap-definition-VGOIOE7T.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-55IACEB6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-55IACEB6.mjs");\n/* harmony import */ var _chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-QN33PNHL.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs");\n/* harmony import */ var _chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-N4CR4FBY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-N4CR4FBY.mjs");\n/* harmony import */ var _chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-QXUST7PY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QXUST7PY.mjs");\n/* harmony import */ var _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-HN2XXSSU.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HN2XXSSU.mjs");\n/* harmony import */ var _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-JZLCHNYA.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs");\n/* harmony import */ var _chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-CVBHYZKI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs");\n/* harmony import */ var _chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-ATLVNIR6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! uuid */ "./node_modules/uuid/dist/esm-browser/v4.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/is_dark.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/lighten.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/darken.js");\n\n\n\n\n\n\n\n\n\n\n\n\n\n// src/diagrams/mindmap/parser/mindmap.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [1, 4], $V1 = [1, 13], $V2 = [1, 12], $V3 = [1, 15], $V4 = [1, 16], $V5 = [1, 20], $V6 = [1, 19], $V7 = [6, 7, 8], $V8 = [1, 26], $V9 = [1, 24], $Va = [1, 25], $Vb = [6, 7, 11], $Vc = [1, 6, 13, 15, 16, 19, 22], $Vd = [1, 33], $Ve = [1, 34], $Vf = [1, 6, 7, 11, 13, 15, 16, 19, 22];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "start": 3, "mindMap": 4, "spaceLines": 5, "SPACELINE": 6, "NL": 7, "MINDMAP": 8, "document": 9, "stop": 10, "EOF": 11, "statement": 12, "SPACELIST": 13, "node": 14, "ICON": 15, "CLASS": 16, "nodeWithId": 17, "nodeWithoutId": 18, "NODE_DSTART": 19, "NODE_DESCR": 20, "NODE_DEND": 21, "NODE_ID": 22, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 6: "SPACELINE", 7: "NL", 8: "MINDMAP", 11: "EOF", 13: "SPACELIST", 15: "ICON", 16: "CLASS", 19: "NODE_DSTART", 20: "NODE_DESCR", 21: "NODE_DEND", 22: "NODE_ID" },\n    productions_: [0, [3, 1], [3, 2], [5, 1], [5, 2], [5, 2], [4, 2], [4, 3], [10, 1], [10, 1], [10, 1], [10, 2], [10, 2], [9, 3], [9, 2], [12, 2], [12, 2], [12, 2], [12, 1], [12, 1], [12, 1], [12, 1], [12, 1], [14, 1], [14, 1], [18, 3], [17, 1], [17, 4]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 6:\n        case 7:\n          return yy;\n          // removed by dead control flow\n\n        case 8:\n          yy.getLogger().trace("Stop NL ");\n          break;\n        case 9:\n          yy.getLogger().trace("Stop EOF ");\n          break;\n        case 11:\n          yy.getLogger().trace("Stop NL2 ");\n          break;\n        case 12:\n          yy.getLogger().trace("Stop EOF2 ");\n          break;\n        case 15:\n          yy.getLogger().info("Node: ", $$[$0].id);\n          yy.addNode($$[$0 - 1].length, $$[$0].id, $$[$0].descr, $$[$0].type);\n          break;\n        case 16:\n          yy.getLogger().trace("Icon: ", $$[$0]);\n          yy.decorateNode({ icon: $$[$0] });\n          break;\n        case 17:\n        case 21:\n          yy.decorateNode({ class: $$[$0] });\n          break;\n        case 18:\n          yy.getLogger().trace("SPACELIST");\n          break;\n        case 19:\n          yy.getLogger().trace("Node: ", $$[$0].id);\n          yy.addNode(0, $$[$0].id, $$[$0].descr, $$[$0].type);\n          break;\n        case 20:\n          yy.decorateNode({ icon: $$[$0] });\n          break;\n        case 25:\n          yy.getLogger().trace("node found ..", $$[$0 - 2]);\n          this.$ = { id: $$[$0 - 1], descr: $$[$0 - 1], type: yy.getType($$[$0 - 2], $$[$0]) };\n          break;\n        case 26:\n          this.$ = { id: $$[$0], descr: $$[$0], type: yy.nodeType.DEFAULT };\n          break;\n        case 27:\n          yy.getLogger().trace("node found ..", $$[$0 - 3]);\n          this.$ = { id: $$[$0 - 3], descr: $$[$0 - 1], type: yy.getType($$[$0 - 2], $$[$0]) };\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 3: 1, 4: 2, 5: 3, 6: [1, 5], 8: $V0 }, { 1: [3] }, { 1: [2, 1] }, { 4: 6, 6: [1, 7], 7: [1, 8], 8: $V0 }, { 6: $V1, 7: [1, 10], 9: 9, 12: 11, 13: $V2, 14: 14, 15: $V3, 16: $V4, 17: 17, 18: 18, 19: $V5, 22: $V6 }, o($V7, [2, 3]), { 1: [2, 2] }, o($V7, [2, 4]), o($V7, [2, 5]), { 1: [2, 6], 6: $V1, 12: 21, 13: $V2, 14: 14, 15: $V3, 16: $V4, 17: 17, 18: 18, 19: $V5, 22: $V6 }, { 6: $V1, 9: 22, 12: 11, 13: $V2, 14: 14, 15: $V3, 16: $V4, 17: 17, 18: 18, 19: $V5, 22: $V6 }, { 6: $V8, 7: $V9, 10: 23, 11: $Va }, o($Vb, [2, 22], { 17: 17, 18: 18, 14: 27, 15: [1, 28], 16: [1, 29], 19: $V5, 22: $V6 }), o($Vb, [2, 18]), o($Vb, [2, 19]), o($Vb, [2, 20]), o($Vb, [2, 21]), o($Vb, [2, 23]), o($Vb, [2, 24]), o($Vb, [2, 26], { 19: [1, 30] }), { 20: [1, 31] }, { 6: $V8, 7: $V9, 10: 32, 11: $Va }, { 1: [2, 7], 6: $V1, 12: 21, 13: $V2, 14: 14, 15: $V3, 16: $V4, 17: 17, 18: 18, 19: $V5, 22: $V6 }, o($Vc, [2, 14], { 7: $Vd, 11: $Ve }), o($Vf, [2, 8]), o($Vf, [2, 9]), o($Vf, [2, 10]), o($Vb, [2, 15]), o($Vb, [2, 16]), o($Vb, [2, 17]), { 20: [1, 35] }, { 21: [1, 36] }, o($Vc, [2, 13], { 7: $Vd, 11: $Ve }), o($Vf, [2, 11]), o($Vf, [2, 12]), { 21: [1, 37] }, o($Vb, [2, 25]), o($Vb, [2, 27])],\n    defaultActions: { 2: [2, 1], 6: [2, 2] },\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: { "case-insensitive": true },\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            yy.getLogger().trace("Found comment", yy_.yytext);\n            return 6;\n            // removed by dead control flow\n\n          case 1:\n            return 8;\n            // removed by dead control flow\n\n          case 2:\n            this.begin("CLASS");\n            break;\n          case 3:\n            this.popState();\n            return 16;\n            // removed by dead control flow\n\n          case 4:\n            this.popState();\n            break;\n          case 5:\n            yy.getLogger().trace("Begin icon");\n            this.begin("ICON");\n            break;\n          case 6:\n            yy.getLogger().trace("SPACELINE");\n            return 6;\n            // removed by dead control flow\n\n          case 7:\n            return 7;\n            // removed by dead control flow\n\n          case 8:\n            return 15;\n            // removed by dead control flow\n\n          case 9:\n            yy.getLogger().trace("end icon");\n            this.popState();\n            break;\n          case 10:\n            yy.getLogger().trace("Exploding node");\n            this.begin("NODE");\n            return 19;\n            // removed by dead control flow\n\n          case 11:\n            yy.getLogger().trace("Cloud");\n            this.begin("NODE");\n            return 19;\n            // removed by dead control flow\n\n          case 12:\n            yy.getLogger().trace("Explosion Bang");\n            this.begin("NODE");\n            return 19;\n            // removed by dead control flow\n\n          case 13:\n            yy.getLogger().trace("Cloud Bang");\n            this.begin("NODE");\n            return 19;\n            // removed by dead control flow\n\n          case 14:\n            this.begin("NODE");\n            return 19;\n            // removed by dead control flow\n\n          case 15:\n            this.begin("NODE");\n            return 19;\n            // removed by dead control flow\n\n          case 16:\n            this.begin("NODE");\n            return 19;\n            // removed by dead control flow\n\n          case 17:\n            this.begin("NODE");\n            return 19;\n            // removed by dead control flow\n\n          case 18:\n            return 13;\n            // removed by dead control flow\n\n          case 19:\n            return 22;\n            // removed by dead control flow\n\n          case 20:\n            return 11;\n            // removed by dead control flow\n\n          case 21:\n            this.begin("NSTR2");\n            break;\n          case 22:\n            return "NODE_DESCR";\n            // removed by dead control flow\n\n          case 23:\n            this.popState();\n            break;\n          case 24:\n            yy.getLogger().trace("Starting NSTR");\n            this.begin("NSTR");\n            break;\n          case 25:\n            yy.getLogger().trace("description:", yy_.yytext);\n            return "NODE_DESCR";\n            // removed by dead control flow\n\n          case 26:\n            this.popState();\n            break;\n          case 27:\n            this.popState();\n            yy.getLogger().trace("node end ))");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 28:\n            this.popState();\n            yy.getLogger().trace("node end )");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 29:\n            this.popState();\n            yy.getLogger().trace("node end ...", yy_.yytext);\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 30:\n            this.popState();\n            yy.getLogger().trace("node end ((");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 31:\n            this.popState();\n            yy.getLogger().trace("node end (-");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 32:\n            this.popState();\n            yy.getLogger().trace("node end (-");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 33:\n            this.popState();\n            yy.getLogger().trace("node end ((");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 34:\n            this.popState();\n            yy.getLogger().trace("node end ((");\n            return "NODE_DEND";\n            // removed by dead control flow\n\n          case 35:\n            yy.getLogger().trace("Long description:", yy_.yytext);\n            return 20;\n            // removed by dead control flow\n\n          case 36:\n            yy.getLogger().trace("Long description:", yy_.yytext);\n            return 20;\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:\\s*%%.*)/i, /^(?:mindmap\\b)/i, /^(?::::)/i, /^(?:.+)/i, /^(?:\\n)/i, /^(?:::icon\\()/i, /^(?:[\\s]+[\\n])/i, /^(?:[\\n]+)/i, /^(?:[^\\)]+)/i, /^(?:\\))/i, /^(?:-\\))/i, /^(?:\\(-)/i, /^(?:\\)\\))/i, /^(?:\\))/i, /^(?:\\(\\()/i, /^(?:\\{\\{)/i, /^(?:\\()/i, /^(?:\\[)/i, /^(?:[\\s]+)/i, /^(?:[^\\(\\[\\n\\)\\{\\}]+)/i, /^(?:$)/i, /^(?:["][`])/i, /^(?:[^`"]+)/i, /^(?:[`]["])/i, /^(?:["])/i, /^(?:[^"]+)/i, /^(?:["])/i, /^(?:[\\)]\\))/i, /^(?:[\\)])/i, /^(?:[\\]])/i, /^(?:\\}\\})/i, /^(?:\\(-)/i, /^(?:-\\))/i, /^(?:\\(\\()/i, /^(?:\\()/i, /^(?:[^\\)\\]\\(\\}]+)/i, /^(?:.+(?!\\(\\())/i],\n      conditions: { "CLASS": { "rules": [3, 4], "inclusive": false }, "ICON": { "rules": [8, 9], "inclusive": false }, "NSTR2": { "rules": [22, 23], "inclusive": false }, "NSTR": { "rules": [25, 26], "inclusive": false }, "NODE": { "rules": [21, 24, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 5, 6, 7, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar mindmap_default = parser;\n\n// src/diagrams/mindmap/mindmapDb.ts\n\nvar nodeType = {\n  DEFAULT: 0,\n  NO_BORDER: 0,\n  ROUNDED_RECT: 1,\n  RECT: 2,\n  CIRCLE: 3,\n  CLOUD: 4,\n  BANG: 5,\n  HEXAGON: 6\n};\nvar MindmapDB = class {\n  constructor() {\n    this.nodes = [];\n    this.count = 0;\n    this.elements = {};\n    this.getLogger = this.getLogger.bind(this);\n    this.nodeType = nodeType;\n    this.clear();\n    this.getType = this.getType.bind(this);\n    this.getElementById = this.getElementById.bind(this);\n    this.getParent = this.getParent.bind(this);\n    this.getMindmap = this.getMindmap.bind(this);\n    this.addNode = this.addNode.bind(this);\n    this.decorateNode = this.decorateNode.bind(this);\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(this, "MindmapDB");\n  }\n  clear() {\n    this.nodes = [];\n    this.count = 0;\n    this.elements = {};\n    this.baseLevel = void 0;\n  }\n  getParent(level) {\n    for (let i = this.nodes.length - 1; i >= 0; i--) {\n      if (this.nodes[i].level < level) {\n        return this.nodes[i];\n      }\n    }\n    return null;\n  }\n  getMindmap() {\n    return this.nodes.length > 0 ? this.nodes[0] : null;\n  }\n  addNode(level, id, descr, type) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log.info("addNode", level, id, descr, type);\n    let isRoot = false;\n    if (this.nodes.length === 0) {\n      this.baseLevel = level;\n      level = 0;\n      isRoot = true;\n    } else if (this.baseLevel !== void 0) {\n      level = level - this.baseLevel;\n      isRoot = false;\n    }\n    const conf = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getConfig2)();\n    let padding = conf.mindmap?.padding ?? _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.defaultConfig_default.mindmap.padding;\n    switch (type) {\n      case this.nodeType.ROUNDED_RECT:\n      case this.nodeType.RECT:\n      case this.nodeType.HEXAGON:\n        padding *= 2;\n        break;\n    }\n    const node = {\n      id: this.count++,\n      nodeId: (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.sanitizeText)(id, conf),\n      level,\n      descr: (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.sanitizeText)(descr, conf),\n      type,\n      children: [],\n      width: conf.mindmap?.maxNodeWidth ?? _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.defaultConfig_default.mindmap.maxNodeWidth,\n      padding,\n      isRoot\n    };\n    const parent = this.getParent(level);\n    if (parent) {\n      parent.children.push(node);\n      this.nodes.push(node);\n    } else {\n      if (isRoot) {\n        this.nodes.push(node);\n      } else {\n        throw new Error(\n          `There can be only one root. No parent could be found for ("${node.descr}")`\n        );\n      }\n    }\n  }\n  getType(startStr, endStr) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log.debug("In get type", startStr, endStr);\n    switch (startStr) {\n      case "[":\n        return this.nodeType.RECT;\n      case "(":\n        return endStr === ")" ? this.nodeType.ROUNDED_RECT : this.nodeType.CLOUD;\n      case "((":\n        return this.nodeType.CIRCLE;\n      case ")":\n        return this.nodeType.CLOUD;\n      case "))":\n        return this.nodeType.BANG;\n      case "{{":\n        return this.nodeType.HEXAGON;\n      default:\n        return this.nodeType.DEFAULT;\n    }\n  }\n  setElementForId(id, element) {\n    this.elements[id] = element;\n  }\n  getElementById(id) {\n    return this.elements[id];\n  }\n  decorateNode(decoration) {\n    if (!decoration) {\n      return;\n    }\n    const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getConfig2)();\n    const node = this.nodes[this.nodes.length - 1];\n    if (decoration.icon) {\n      node.icon = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.sanitizeText)(decoration.icon, config);\n    }\n    if (decoration.class) {\n      node.class = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.sanitizeText)(decoration.class, config);\n    }\n  }\n  type2Str(type) {\n    switch (type) {\n      case this.nodeType.DEFAULT:\n        return "no-border";\n      case this.nodeType.RECT:\n        return "rect";\n      case this.nodeType.ROUNDED_RECT:\n        return "rounded-rect";\n      case this.nodeType.CIRCLE:\n        return "circle";\n      case this.nodeType.CLOUD:\n        return "cloud";\n      case this.nodeType.BANG:\n        return "bang";\n      case this.nodeType.HEXAGON:\n        return "hexgon";\n      // cspell: disable-line\n      default:\n        return "no-border";\n    }\n  }\n  /**\n   * Assign section numbers to nodes based on their position relative to root\n   * @param node - The mindmap node to process\n   * @param sectionNumber - The section number to assign (undefined for root)\n   */\n  assignSections(node, sectionNumber) {\n    if (node.level === 0) {\n      node.section = void 0;\n    } else {\n      node.section = sectionNumber;\n    }\n    if (node.children) {\n      for (const [index, child] of node.children.entries()) {\n        const childSectionNumber = node.level === 0 ? index : sectionNumber;\n        this.assignSections(child, childSectionNumber);\n      }\n    }\n  }\n  /**\n   * Convert mindmap tree structure to flat array of nodes\n   * @param node - The mindmap node to process\n   * @param processedNodes - Array to collect processed nodes\n   */\n  flattenNodes(node, processedNodes) {\n    const cssClasses = ["mindmap-node"];\n    if (node.isRoot === true) {\n      cssClasses.push("section-root", "section--1");\n    } else if (node.section !== void 0) {\n      cssClasses.push(`section-${node.section}`);\n    }\n    if (node.class) {\n      cssClasses.push(node.class);\n    }\n    const classes = cssClasses.join(" ");\n    const getShapeFromType = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)((type) => {\n      switch (type) {\n        case nodeType.CIRCLE:\n          return "mindmapCircle";\n        case nodeType.RECT:\n          return "rect";\n        case nodeType.ROUNDED_RECT:\n          return "rounded";\n        case nodeType.CLOUD:\n          return "cloud";\n        case nodeType.BANG:\n          return "bang";\n        case nodeType.HEXAGON:\n          return "hexagon";\n        case nodeType.DEFAULT:\n          return "defaultMindmapNode";\n        case nodeType.NO_BORDER:\n        default:\n          return "rect";\n      }\n    }, "getShapeFromType");\n    const processedNode = {\n      id: node.id.toString(),\n      domId: "node_" + node.id.toString(),\n      label: node.descr,\n      isGroup: false,\n      shape: getShapeFromType(node.type),\n      width: node.width,\n      height: node.height ?? 0,\n      padding: node.padding,\n      cssClasses: classes,\n      cssStyles: [],\n      look: "default",\n      icon: node.icon,\n      x: node.x,\n      y: node.y,\n      // Mindmap-specific properties\n      level: node.level,\n      nodeId: node.nodeId,\n      type: node.type,\n      section: node.section\n    };\n    processedNodes.push(processedNode);\n    if (node.children) {\n      for (const child of node.children) {\n        this.flattenNodes(child, processedNodes);\n      }\n    }\n  }\n  /**\n   * Generate edges from parent-child relationships in mindmap tree\n   * @param node - The mindmap node to process\n   * @param edges - Array to collect edges\n   */\n  generateEdges(node, edges) {\n    if (!node.children) {\n      return;\n    }\n    for (const child of node.children) {\n      let edgeClasses = "edge";\n      if (child.section !== void 0) {\n        edgeClasses += ` section-edge-${child.section}`;\n      }\n      const edgeDepth = node.level + 1;\n      edgeClasses += ` edge-depth-${edgeDepth}`;\n      const edge = {\n        id: `edge_${node.id}_${child.id}`,\n        start: node.id.toString(),\n        end: child.id.toString(),\n        type: "normal",\n        curve: "basis",\n        thickness: "normal",\n        look: "default",\n        classes: edgeClasses,\n        // Store mindmap-specific data\n        depth: node.level,\n        section: child.section\n      };\n      edges.push(edge);\n      this.generateEdges(child, edges);\n    }\n  }\n  /**\n   * Get structured data for layout algorithms\n   * Following the pattern established by ER diagrams\n   * @returns Structured data containing nodes, edges, and config\n   */\n  getData() {\n    const mindmapRoot = this.getMindmap();\n    const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getConfig2)();\n    const userDefinedConfig = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getUserDefinedConfig)();\n    const hasUserDefinedLayout = userDefinedConfig.layout !== void 0;\n    const finalConfig = config;\n    if (!hasUserDefinedLayout) {\n      finalConfig.layout = "cose-bilkent";\n    }\n    if (!mindmapRoot) {\n      return {\n        nodes: [],\n        edges: [],\n        config: finalConfig\n      };\n    }\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log.debug("getData: mindmapRoot", mindmapRoot, config);\n    this.assignSections(mindmapRoot);\n    const processedNodes = [];\n    const processedEdges = [];\n    this.flattenNodes(mindmapRoot, processedNodes);\n    this.generateEdges(mindmapRoot, processedEdges);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log.debug(\n      `getData: processed ${processedNodes.length} nodes and ${processedEdges.length} edges`\n    );\n    const shapes = /* @__PURE__ */ new Map();\n    for (const node of processedNodes) {\n      shapes.set(node.id, {\n        shape: node.shape,\n        width: node.width,\n        height: node.height,\n        padding: node.padding\n      });\n    }\n    return {\n      nodes: processedNodes,\n      edges: processedEdges,\n      config: finalConfig,\n      // Store the root node for mindmap-specific layout algorithms\n      rootNode: mindmapRoot,\n      // Properties required by dagre layout algorithm\n      markers: ["point"],\n      // Mindmaps don\'t use markers\n      direction: "TB",\n      // Top-to-bottom direction for mindmaps\n      nodeSpacing: 50,\n      // Default spacing between nodes\n      rankSpacing: 50,\n      // Default spacing between ranks\n      // Add shapes for ELK compatibility\n      shapes: Object.fromEntries(shapes),\n      // Additional properties that layout algorithms might expect\n      type: "mindmap",\n      diagramId: "mindmap-" + (0,uuid__WEBPACK_IMPORTED_MODULE_12__["default"])()\n    };\n  }\n  // Expose logger to grammar\n  getLogger() {\n    return _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log;\n  }\n};\n\n// src/diagrams/mindmap/mindmapRenderer.ts\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(async (text, id, _version, diagObj) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log.debug("Rendering mindmap diagram\\n" + text);\n  const db = diagObj.db;\n  const data4Layout = db.getData();\n  const svg = (0,_chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_0__.getDiagramElement)(id, data4Layout.config.securityLevel);\n  data4Layout.type = diagObj.type;\n  data4Layout.layoutAlgorithm = (0,_chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_2__.getRegisteredLayoutAlgorithm)(data4Layout.config.layout, {\n    fallback: "cose-bilkent"\n  });\n  data4Layout.diagramId = id;\n  const mm = db.getMindmap();\n  if (!mm) {\n    return;\n  }\n  data4Layout.nodes.forEach((node) => {\n    if (node.shape === "rounded") {\n      node.radius = 15;\n      node.taper = 15;\n      node.stroke = "none";\n      node.width = 0;\n      node.padding = 15;\n    } else if (node.shape === "circle") {\n      node.padding = 10;\n    } else if (node.shape === "rect") {\n      node.width = 0;\n      node.padding = 10;\n    }\n  });\n  await (0,_chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_2__.render)(data4Layout, svg);\n  (0,_chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_1__.setupViewPortForSVG)(\n    svg,\n    data4Layout.config.mindmap?.padding ?? _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.defaultConfig_default.mindmap.padding,\n    "mindmapDiagram",\n    data4Layout.config.mindmap?.useMaxWidth ?? _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.defaultConfig_default.mindmap.useMaxWidth\n  );\n}, "draw");\nvar mindmapRenderer_default = {\n  draw\n};\n\n// src/diagrams/mindmap/styles.ts\n\nvar genSections = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)((options) => {\n  let sections = "";\n  for (let i = 0; i < options.THEME_COLOR_LIMIT; i++) {\n    options["lineColor" + i] = options["lineColor" + i] || options["cScaleInv" + i];\n    if ((0,khroma__WEBPACK_IMPORTED_MODULE_13__["default"])(options["lineColor" + i])) {\n      options["lineColor" + i] = (0,khroma__WEBPACK_IMPORTED_MODULE_14__["default"])(options["lineColor" + i], 20);\n    } else {\n      options["lineColor" + i] = (0,khroma__WEBPACK_IMPORTED_MODULE_15__["default"])(options["lineColor" + i], 20);\n    }\n  }\n  for (let i = 0; i < options.THEME_COLOR_LIMIT; i++) {\n    const sw = "" + (17 - 3 * i);\n    sections += `\n    .section-${i - 1} rect, .section-${i - 1} path, .section-${i - 1} circle, .section-${i - 1} polygon, .section-${i - 1} path  {\n      fill: ${options["cScale" + i]};\n    }\n    .section-${i - 1} text {\n     fill: ${options["cScaleLabel" + i]};\n    }\n    .node-icon-${i - 1} {\n      font-size: 40px;\n      color: ${options["cScaleLabel" + i]};\n    }\n    .section-edge-${i - 1}{\n      stroke: ${options["cScale" + i]};\n    }\n    .edge-depth-${i - 1}{\n      stroke-width: ${sw};\n    }\n    .section-${i - 1} line {\n      stroke: ${options["cScaleInv" + i]} ;\n      stroke-width: 3;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    `;\n  }\n  return sections;\n}, "genSections");\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)((options) => `\n  .edge {\n    stroke-width: 3;\n  }\n  ${genSections(options)}\n  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {\n    fill: ${options.git0};\n  }\n  .section-root text {\n    fill: ${options.gitBranchLabel0};\n  }\n  .section-root span {\n    color: ${options.gitBranchLabel0};\n  }\n  .section-2 span {\n    color: ${options.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .mindmap-node-label {\n    dy: 1em;\n    alignment-baseline: middle;\n    text-anchor: middle;\n    dominant-baseline: middle;\n    text-align: center;\n  }\n`, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/mindmap/mindmap-definition.ts\nvar diagram = {\n  get db() {\n    return new MindmapDB();\n  },\n  renderer: mindmapRenderer_default,\n  parser: mindmap_default,\n  styles: styles_default\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/mindmap-definition-VGOIOE7T.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/pieDiagram-ADFJNKIX.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-EXTU4WIE.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-EXTU4WIE.mjs");\n/* harmony import */ var _chunk_4BX2VUAB_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-4BX2VUAB.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-4BX2VUAB.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var _mermaid_js_parser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mermaid-js/parser */ "./node_modules/@mermaid-js/parser/dist/mermaid-parser.core.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n\n\n\n\n\n\n// src/diagrams/pie/pieParser.ts\n\n\n// src/diagrams/pie/pieDb.ts\nvar DEFAULT_PIE_CONFIG = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.defaultConfig_default.pie;\nvar DEFAULT_PIE_DB = {\n  sections: /* @__PURE__ */ new Map(),\n  showData: false,\n  config: DEFAULT_PIE_CONFIG\n};\nvar sections = DEFAULT_PIE_DB.sections;\nvar showData = DEFAULT_PIE_DB.showData;\nvar config = structuredClone(DEFAULT_PIE_CONFIG);\nvar getConfig2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(() => structuredClone(config), "getConfig");\nvar clear2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(() => {\n  sections = /* @__PURE__ */ new Map();\n  showData = DEFAULT_PIE_DB.showData;\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.clear)();\n}, "clear");\nvar addSection = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(({ label, value }) => {\n  if (value < 0) {\n    throw new Error(\n      `"${label}" has invalid value: ${value}. Negative values are not allowed in pie charts. All slice values must be >= 0.`\n    );\n  }\n  if (!sections.has(label)) {\n    sections.set(label, value);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug(`added new section: ${label}, with value: ${value}`);\n  }\n}, "addSection");\nvar getSections = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(() => sections, "getSections");\nvar setShowData = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((toggle) => {\n  showData = toggle;\n}, "setShowData");\nvar getShowData = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(() => showData, "getShowData");\nvar db = {\n  getConfig: getConfig2,\n  clear: clear2,\n  setDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setDiagramTitle,\n  getDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getDiagramTitle,\n  setAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setAccTitle,\n  getAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getAccTitle,\n  setAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setAccDescription,\n  getAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getAccDescription,\n  addSection,\n  getSections,\n  setShowData,\n  getShowData\n};\n\n// src/diagrams/pie/pieParser.ts\nvar populateDb = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((ast, db2) => {\n  (0,_chunk_4BX2VUAB_mjs__WEBPACK_IMPORTED_MODULE_1__.populateCommonDb)(ast, db2);\n  db2.setShowData(ast.showData);\n  ast.sections.map(db2.addSection);\n}, "populateDb");\nvar parser = {\n  parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(async (input) => {\n    const ast = await (0,_mermaid_js_parser__WEBPACK_IMPORTED_MODULE_5__.parse)("pie", input);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug(ast);\n    populateDb(ast, db);\n  }, "parse")\n};\n\n// src/diagrams/pie/pieStyles.ts\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((options) => `\n  .pieCircle{\n    stroke: ${options.pieStrokeColor};\n    stroke-width : ${options.pieStrokeWidth};\n    opacity : ${options.pieOpacity};\n  }\n  .pieOuterCircle{\n    stroke: ${options.pieOuterStrokeColor};\n    stroke-width: ${options.pieOuterStrokeWidth};\n    fill: none;\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${options.pieTitleTextSize};\n    fill: ${options.pieTitleTextColor};\n    font-family: ${options.fontFamily};\n  }\n  .slice {\n    font-family: ${options.fontFamily};\n    fill: ${options.pieSectionTextColor};\n    font-size:${options.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${options.pieLegendTextColor};\n    font-family: ${options.fontFamily};\n    font-size: ${options.pieLegendTextSize};\n  }\n`, "getStyles");\nvar pieStyles_default = getStyles;\n\n// src/diagrams/pie/pieRenderer.ts\n\nvar createPieArcs = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((sections2) => {\n  const sum = [...sections2.values()].reduce((acc, val) => acc + val, 0);\n  const pieData = [...sections2.entries()].map(([label, value]) => ({ label, value })).filter((d) => d.value / sum * 100 >= 1).sort((a, b) => b.value - a.value);\n  const pie = (0,d3__WEBPACK_IMPORTED_MODULE_6__.pie)().value((d) => d.value);\n  return pie(pieData);\n}, "createPieArcs");\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((text, id, _version, diagObj) => {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug("rendering pie chart\\n" + text);\n  const db2 = diagObj.db;\n  const globalConfig = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)();\n  const pieConfig = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__.cleanAndMerge)(db2.getConfig(), globalConfig.pie);\n  const MARGIN = 40;\n  const LEGEND_RECT_SIZE = 18;\n  const LEGEND_SPACING = 4;\n  const height = 450;\n  const pieWidth = height;\n  const svg = (0,_chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__.selectSvgElement)(id);\n  const group = svg.append("g");\n  group.attr("transform", "translate(" + pieWidth / 2 + "," + height / 2 + ")");\n  const { themeVariables } = globalConfig;\n  let [outerStrokeWidth] = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__.parseFontSize)(themeVariables.pieOuterStrokeWidth);\n  outerStrokeWidth ??= 2;\n  const textPosition = pieConfig.textPosition;\n  const radius = Math.min(pieWidth, height) / 2 - MARGIN;\n  const arcGenerator = (0,d3__WEBPACK_IMPORTED_MODULE_6__.arc)().innerRadius(0).outerRadius(radius);\n  const labelArcGenerator = (0,d3__WEBPACK_IMPORTED_MODULE_6__.arc)().innerRadius(radius * textPosition).outerRadius(radius * textPosition);\n  group.append("circle").attr("cx", 0).attr("cy", 0).attr("r", radius + outerStrokeWidth / 2).attr("class", "pieOuterCircle");\n  const sections2 = db2.getSections();\n  const arcs = createPieArcs(sections2);\n  const myGeneratedColors = [\n    themeVariables.pie1,\n    themeVariables.pie2,\n    themeVariables.pie3,\n    themeVariables.pie4,\n    themeVariables.pie5,\n    themeVariables.pie6,\n    themeVariables.pie7,\n    themeVariables.pie8,\n    themeVariables.pie9,\n    themeVariables.pie10,\n    themeVariables.pie11,\n    themeVariables.pie12\n  ];\n  let sum = 0;\n  sections2.forEach((section) => {\n    sum += section;\n  });\n  const filteredArcs = arcs.filter((datum) => (datum.data.value / sum * 100).toFixed(0) !== "0");\n  const color = (0,d3__WEBPACK_IMPORTED_MODULE_6__.scaleOrdinal)(myGeneratedColors);\n  group.selectAll("mySlices").data(filteredArcs).enter().append("path").attr("d", arcGenerator).attr("fill", (datum) => {\n    return color(datum.data.label);\n  }).attr("class", "pieCircle");\n  group.selectAll("mySlices").data(filteredArcs).enter().append("text").text((datum) => {\n    return (datum.data.value / sum * 100).toFixed(0) + "%";\n  }).attr("transform", (datum) => {\n    return "translate(" + labelArcGenerator.centroid(datum) + ")";\n  }).style("text-anchor", "middle").attr("class", "slice");\n  group.append("text").text(db2.getDiagramTitle()).attr("x", 0).attr("y", -(height - 50) / 2).attr("class", "pieTitleText");\n  const allSectionData = [...sections2.entries()].map(([label, value]) => ({\n    label,\n    value\n  }));\n  const legend = group.selectAll(".legend").data(allSectionData).enter().append("g").attr("class", "legend").attr("transform", (_datum, index) => {\n    const height2 = LEGEND_RECT_SIZE + LEGEND_SPACING;\n    const offset = height2 * allSectionData.length / 2;\n    const horizontal = 12 * LEGEND_RECT_SIZE;\n    const vertical = index * height2 - offset;\n    return "translate(" + horizontal + "," + vertical + ")";\n  });\n  legend.append("rect").attr("width", LEGEND_RECT_SIZE).attr("height", LEGEND_RECT_SIZE).style("fill", (d) => color(d.label)).style("stroke", (d) => color(d.label));\n  legend.append("text").attr("x", LEGEND_RECT_SIZE + LEGEND_SPACING).attr("y", LEGEND_RECT_SIZE - LEGEND_SPACING).text((d) => {\n    if (db2.getShowData()) {\n      return `${d.label} [${d.value}]`;\n    }\n    return d.label;\n  });\n  const longestTextWidth = Math.max(\n    ...legend.selectAll("text").nodes().map((node) => node?.getBoundingClientRect().width ?? 0)\n  );\n  const totalWidth = pieWidth + MARGIN + LEGEND_RECT_SIZE + LEGEND_SPACING + longestTextWidth;\n  svg.attr("viewBox", `0 0 ${totalWidth} ${height}`);\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.configureSvgSize)(svg, height, totalWidth, pieConfig.useMaxWidth);\n}, "draw");\nvar renderer = { draw };\n\n// src/diagrams/pie/pieDiagram.ts\nvar diagram = {\n  parser,\n  db,\n  renderer,\n  styles: pieStyles_default\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/pieDiagram-ADFJNKIX.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/quadrantDiagram-AYHSOK5B.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n\n\n\n// src/diagrams/quadrant-chart/parser/quadrant.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [1, 3], $V1 = [1, 4], $V2 = [1, 5], $V3 = [1, 6], $V4 = [1, 7], $V5 = [1, 4, 5, 10, 12, 13, 14, 18, 25, 35, 37, 39, 41, 42, 48, 50, 51, 52, 53, 54, 55, 56, 57, 60, 61, 63, 64, 65, 66, 67], $V6 = [1, 4, 5, 10, 12, 13, 14, 18, 25, 28, 35, 37, 39, 41, 42, 48, 50, 51, 52, 53, 54, 55, 56, 57, 60, 61, 63, 64, 65, 66, 67], $V7 = [55, 56, 57], $V8 = [2, 36], $V9 = [1, 37], $Va = [1, 36], $Vb = [1, 38], $Vc = [1, 35], $Vd = [1, 43], $Ve = [1, 41], $Vf = [1, 14], $Vg = [1, 23], $Vh = [1, 18], $Vi = [1, 19], $Vj = [1, 20], $Vk = [1, 21], $Vl = [1, 22], $Vm = [1, 24], $Vn = [1, 25], $Vo = [1, 26], $Vp = [1, 27], $Vq = [1, 28], $Vr = [1, 29], $Vs = [1, 32], $Vt = [1, 33], $Vu = [1, 34], $Vv = [1, 39], $Vw = [1, 40], $Vx = [1, 42], $Vy = [1, 44], $Vz = [1, 62], $VA = [1, 61], $VB = [4, 5, 8, 10, 12, 13, 14, 18, 44, 47, 49, 55, 56, 57, 63, 64, 65, 66, 67], $VC = [1, 65], $VD = [1, 66], $VE = [1, 67], $VF = [1, 68], $VG = [1, 69], $VH = [1, 70], $VI = [1, 71], $VJ = [1, 72], $VK = [1, 73], $VL = [1, 74], $VM = [1, 75], $VN = [1, 76], $VO = [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 18], $VP = [1, 90], $VQ = [1, 91], $VR = [1, 92], $VS = [1, 99], $VT = [1, 93], $VU = [1, 96], $VV = [1, 94], $VW = [1, 95], $VX = [1, 97], $VY = [1, 98], $VZ = [1, 102], $V_ = [10, 55, 56, 57], $V$ = [4, 5, 6, 8, 10, 11, 13, 17, 18, 19, 20, 55, 56, 57];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "idStringToken": 3, "ALPHA": 4, "NUM": 5, "NODE_STRING": 6, "DOWN": 7, "MINUS": 8, "DEFAULT": 9, "COMMA": 10, "COLON": 11, "AMP": 12, "BRKT": 13, "MULT": 14, "UNICODE_TEXT": 15, "styleComponent": 16, "UNIT": 17, "SPACE": 18, "STYLE": 19, "PCT": 20, "idString": 21, "style": 22, "stylesOpt": 23, "classDefStatement": 24, "CLASSDEF": 25, "start": 26, "eol": 27, "QUADRANT": 28, "document": 29, "line": 30, "statement": 31, "axisDetails": 32, "quadrantDetails": 33, "points": 34, "title": 35, "title_value": 36, "acc_title": 37, "acc_title_value": 38, "acc_descr": 39, "acc_descr_value": 40, "acc_descr_multiline_value": 41, "section": 42, "text": 43, "point_start": 44, "point_x": 45, "point_y": 46, "class_name": 47, "X-AXIS": 48, "AXIS-TEXT-DELIMITER": 49, "Y-AXIS": 50, "QUADRANT_1": 51, "QUADRANT_2": 52, "QUADRANT_3": 53, "QUADRANT_4": 54, "NEWLINE": 55, "SEMI": 56, "EOF": 57, "alphaNumToken": 58, "textNoTagsToken": 59, "STR": 60, "MD_STR": 61, "alphaNum": 62, "PUNCTUATION": 63, "PLUS": 64, "EQUALS": 65, "DOT": 66, "UNDERSCORE": 67, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 4: "ALPHA", 5: "NUM", 6: "NODE_STRING", 7: "DOWN", 8: "MINUS", 9: "DEFAULT", 10: "COMMA", 11: "COLON", 12: "AMP", 13: "BRKT", 14: "MULT", 15: "UNICODE_TEXT", 17: "UNIT", 18: "SPACE", 19: "STYLE", 20: "PCT", 25: "CLASSDEF", 28: "QUADRANT", 35: "title", 36: "title_value", 37: "acc_title", 38: "acc_title_value", 39: "acc_descr", 40: "acc_descr_value", 41: "acc_descr_multiline_value", 42: "section", 44: "point_start", 45: "point_x", 46: "point_y", 47: "class_name", 48: "X-AXIS", 49: "AXIS-TEXT-DELIMITER", 50: "Y-AXIS", 51: "QUADRANT_1", 52: "QUADRANT_2", 53: "QUADRANT_3", 54: "QUADRANT_4", 55: "NEWLINE", 56: "SEMI", 57: "EOF", 60: "STR", 61: "MD_STR", 63: "PUNCTUATION", 64: "PLUS", 65: "EQUALS", 66: "DOT", 67: "UNDERSCORE" },\n    productions_: [0, [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [21, 1], [21, 2], [22, 1], [22, 2], [23, 1], [23, 3], [24, 5], [26, 2], [26, 2], [26, 2], [29, 0], [29, 2], [30, 2], [31, 0], [31, 1], [31, 2], [31, 1], [31, 1], [31, 1], [31, 2], [31, 2], [31, 2], [31, 1], [31, 1], [34, 4], [34, 5], [34, 5], [34, 6], [32, 4], [32, 3], [32, 2], [32, 4], [32, 3], [32, 2], [33, 2], [33, 2], [33, 2], [33, 2], [27, 1], [27, 1], [27, 1], [43, 1], [43, 2], [43, 1], [43, 1], [62, 1], [62, 2], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [59, 1], [59, 1], [59, 1]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 23:\n          this.$ = $$[$0];\n          break;\n        case 24:\n          this.$ = $$[$0 - 1] + "" + $$[$0];\n          break;\n        case 26:\n          this.$ = $$[$0 - 1] + $$[$0];\n          break;\n        case 27:\n          this.$ = [$$[$0].trim()];\n          break;\n        case 28:\n          $$[$0 - 2].push($$[$0].trim());\n          this.$ = $$[$0 - 2];\n          break;\n        case 29:\n          this.$ = $$[$0 - 4];\n          yy.addClass($$[$0 - 2], $$[$0]);\n          break;\n        case 37:\n          this.$ = [];\n          break;\n        case 42:\n          this.$ = $$[$0].trim();\n          yy.setDiagramTitle(this.$);\n          break;\n        case 43:\n          this.$ = $$[$0].trim();\n          yy.setAccTitle(this.$);\n          break;\n        case 44:\n        case 45:\n          this.$ = $$[$0].trim();\n          yy.setAccDescription(this.$);\n          break;\n        case 46:\n          yy.addSection($$[$0].substr(8));\n          this.$ = $$[$0].substr(8);\n          break;\n        case 47:\n          yy.addPoint($$[$0 - 3], "", $$[$0 - 1], $$[$0], []);\n          break;\n        case 48:\n          yy.addPoint($$[$0 - 4], $$[$0 - 3], $$[$0 - 1], $$[$0], []);\n          break;\n        case 49:\n          yy.addPoint($$[$0 - 4], "", $$[$0 - 2], $$[$0 - 1], $$[$0]);\n          break;\n        case 50:\n          yy.addPoint($$[$0 - 5], $$[$0 - 4], $$[$0 - 2], $$[$0 - 1], $$[$0]);\n          break;\n        case 51:\n          yy.setXAxisLeftText($$[$0 - 2]);\n          yy.setXAxisRightText($$[$0]);\n          break;\n        case 52:\n          $$[$0 - 1].text += " \\u27F6 ";\n          yy.setXAxisLeftText($$[$0 - 1]);\n          break;\n        case 53:\n          yy.setXAxisLeftText($$[$0]);\n          break;\n        case 54:\n          yy.setYAxisBottomText($$[$0 - 2]);\n          yy.setYAxisTopText($$[$0]);\n          break;\n        case 55:\n          $$[$0 - 1].text += " \\u27F6 ";\n          yy.setYAxisBottomText($$[$0 - 1]);\n          break;\n        case 56:\n          yy.setYAxisBottomText($$[$0]);\n          break;\n        case 57:\n          yy.setQuadrant1Text($$[$0]);\n          break;\n        case 58:\n          yy.setQuadrant2Text($$[$0]);\n          break;\n        case 59:\n          yy.setQuadrant3Text($$[$0]);\n          break;\n        case 60:\n          yy.setQuadrant4Text($$[$0]);\n          break;\n        case 64:\n          this.$ = { text: $$[$0], type: "text" };\n          break;\n        case 65:\n          this.$ = { text: $$[$0 - 1].text + "" + $$[$0], type: $$[$0 - 1].type };\n          break;\n        case 66:\n          this.$ = { text: $$[$0], type: "text" };\n          break;\n        case 67:\n          this.$ = { text: $$[$0], type: "markdown" };\n          break;\n        case 68:\n          this.$ = $$[$0];\n          break;\n        case 69:\n          this.$ = $$[$0 - 1] + "" + $$[$0];\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 18: $V0, 26: 1, 27: 2, 28: $V1, 55: $V2, 56: $V3, 57: $V4 }, { 1: [3] }, { 18: $V0, 26: 8, 27: 2, 28: $V1, 55: $V2, 56: $V3, 57: $V4 }, { 18: $V0, 26: 9, 27: 2, 28: $V1, 55: $V2, 56: $V3, 57: $V4 }, o($V5, [2, 33], { 29: 10 }), o($V6, [2, 61]), o($V6, [2, 62]), o($V6, [2, 63]), { 1: [2, 30] }, { 1: [2, 31] }, o($V7, $V8, { 30: 11, 31: 12, 24: 13, 32: 15, 33: 16, 34: 17, 43: 30, 58: 31, 1: [2, 32], 4: $V9, 5: $Va, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 18: $Vf, 25: $Vg, 35: $Vh, 37: $Vi, 39: $Vj, 41: $Vk, 42: $Vl, 48: $Vm, 50: $Vn, 51: $Vo, 52: $Vp, 53: $Vq, 54: $Vr, 60: $Vs, 61: $Vt, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }), o($V5, [2, 34]), { 27: 45, 55: $V2, 56: $V3, 57: $V4 }, o($V7, [2, 37]), o($V7, $V8, { 24: 13, 32: 15, 33: 16, 34: 17, 43: 30, 58: 31, 31: 46, 4: $V9, 5: $Va, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 18: $Vf, 25: $Vg, 35: $Vh, 37: $Vi, 39: $Vj, 41: $Vk, 42: $Vl, 48: $Vm, 50: $Vn, 51: $Vo, 52: $Vp, 53: $Vq, 54: $Vr, 60: $Vs, 61: $Vt, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }), o($V7, [2, 39]), o($V7, [2, 40]), o($V7, [2, 41]), { 36: [1, 47] }, { 38: [1, 48] }, { 40: [1, 49] }, o($V7, [2, 45]), o($V7, [2, 46]), { 18: [1, 50] }, { 4: $V9, 5: $Va, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 43: 51, 58: 31, 60: $Vs, 61: $Vt, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }, { 4: $V9, 5: $Va, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 43: 52, 58: 31, 60: $Vs, 61: $Vt, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }, { 4: $V9, 5: $Va, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 43: 53, 58: 31, 60: $Vs, 61: $Vt, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }, { 4: $V9, 5: $Va, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 43: 54, 58: 31, 60: $Vs, 61: $Vt, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }, { 4: $V9, 5: $Va, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 43: 55, 58: 31, 60: $Vs, 61: $Vt, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }, { 4: $V9, 5: $Va, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 43: 56, 58: 31, 60: $Vs, 61: $Vt, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }, { 4: $V9, 5: $Va, 8: $Vz, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 18: $VA, 44: [1, 57], 47: [1, 58], 58: 60, 59: 59, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }, o($VB, [2, 64]), o($VB, [2, 66]), o($VB, [2, 67]), o($VB, [2, 70]), o($VB, [2, 71]), o($VB, [2, 72]), o($VB, [2, 73]), o($VB, [2, 74]), o($VB, [2, 75]), o($VB, [2, 76]), o($VB, [2, 77]), o($VB, [2, 78]), o($VB, [2, 79]), o($VB, [2, 80]), o($V5, [2, 35]), o($V7, [2, 38]), o($V7, [2, 42]), o($V7, [2, 43]), o($V7, [2, 44]), { 3: 64, 4: $VC, 5: $VD, 6: $VE, 7: $VF, 8: $VG, 9: $VH, 10: $VI, 11: $VJ, 12: $VK, 13: $VL, 14: $VM, 15: $VN, 21: 63 }, o($V7, [2, 53], { 59: 59, 58: 60, 4: $V9, 5: $Va, 8: $Vz, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 18: $VA, 49: [1, 77], 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }), o($V7, [2, 56], { 59: 59, 58: 60, 4: $V9, 5: $Va, 8: $Vz, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 18: $VA, 49: [1, 78], 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }), o($V7, [2, 57], { 59: 59, 58: 60, 4: $V9, 5: $Va, 8: $Vz, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 18: $VA, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }), o($V7, [2, 58], { 59: 59, 58: 60, 4: $V9, 5: $Va, 8: $Vz, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 18: $VA, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }), o($V7, [2, 59], { 59: 59, 58: 60, 4: $V9, 5: $Va, 8: $Vz, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 18: $VA, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }), o($V7, [2, 60], { 59: 59, 58: 60, 4: $V9, 5: $Va, 8: $Vz, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 18: $VA, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }), { 45: [1, 79] }, { 44: [1, 80] }, o($VB, [2, 65]), o($VB, [2, 81]), o($VB, [2, 82]), o($VB, [2, 83]), { 3: 82, 4: $VC, 5: $VD, 6: $VE, 7: $VF, 8: $VG, 9: $VH, 10: $VI, 11: $VJ, 12: $VK, 13: $VL, 14: $VM, 15: $VN, 18: [1, 81] }, o($VO, [2, 23]), o($VO, [2, 1]), o($VO, [2, 2]), o($VO, [2, 3]), o($VO, [2, 4]), o($VO, [2, 5]), o($VO, [2, 6]), o($VO, [2, 7]), o($VO, [2, 8]), o($VO, [2, 9]), o($VO, [2, 10]), o($VO, [2, 11]), o($VO, [2, 12]), o($V7, [2, 52], { 58: 31, 43: 83, 4: $V9, 5: $Va, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 60: $Vs, 61: $Vt, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }), o($V7, [2, 55], { 58: 31, 43: 84, 4: $V9, 5: $Va, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 60: $Vs, 61: $Vt, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }), { 46: [1, 85] }, { 45: [1, 86] }, { 4: $VP, 5: $VQ, 6: $VR, 8: $VS, 11: $VT, 13: $VU, 16: 89, 17: $VV, 18: $VW, 19: $VX, 20: $VY, 22: 88, 23: 87 }, o($VO, [2, 24]), o($V7, [2, 51], { 59: 59, 58: 60, 4: $V9, 5: $Va, 8: $Vz, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 18: $VA, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }), o($V7, [2, 54], { 59: 59, 58: 60, 4: $V9, 5: $Va, 8: $Vz, 10: $Vb, 12: $Vc, 13: $Vd, 14: $Ve, 18: $VA, 63: $Vu, 64: $Vv, 65: $Vw, 66: $Vx, 67: $Vy }), o($V7, [2, 47], { 22: 88, 16: 89, 23: 100, 4: $VP, 5: $VQ, 6: $VR, 8: $VS, 11: $VT, 13: $VU, 17: $VV, 18: $VW, 19: $VX, 20: $VY }), { 46: [1, 101] }, o($V7, [2, 29], { 10: $VZ }), o($V_, [2, 27], { 16: 103, 4: $VP, 5: $VQ, 6: $VR, 8: $VS, 11: $VT, 13: $VU, 17: $VV, 18: $VW, 19: $VX, 20: $VY }), o($V$, [2, 25]), o($V$, [2, 13]), o($V$, [2, 14]), o($V$, [2, 15]), o($V$, [2, 16]), o($V$, [2, 17]), o($V$, [2, 18]), o($V$, [2, 19]), o($V$, [2, 20]), o($V$, [2, 21]), o($V$, [2, 22]), o($V7, [2, 49], { 10: $VZ }), o($V7, [2, 48], { 22: 88, 16: 89, 23: 104, 4: $VP, 5: $VQ, 6: $VR, 8: $VS, 11: $VT, 13: $VU, 17: $VV, 18: $VW, 19: $VX, 20: $VY }), { 4: $VP, 5: $VQ, 6: $VR, 8: $VS, 11: $VT, 13: $VU, 16: 89, 17: $VV, 18: $VW, 19: $VX, 20: $VY, 22: 105 }, o($V$, [2, 26]), o($V7, [2, 50], { 10: $VZ }), o($V_, [2, 28], { 16: 103, 4: $VP, 5: $VQ, 6: $VR, 8: $VS, 11: $VT, 13: $VU, 17: $VV, 18: $VW, 19: $VX, 20: $VY })],\n    defaultActions: { 8: [2, 30], 9: [2, 31] },\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: { "case-insensitive": true },\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            break;\n          case 1:\n            break;\n          case 2:\n            return 55;\n            // removed by dead control flow\n\n          case 3:\n            break;\n          case 4:\n            this.begin("title");\n            return 35;\n            // removed by dead control flow\n\n          case 5:\n            this.popState();\n            return "title_value";\n            // removed by dead control flow\n\n          case 6:\n            this.begin("acc_title");\n            return 37;\n            // removed by dead control flow\n\n          case 7:\n            this.popState();\n            return "acc_title_value";\n            // removed by dead control flow\n\n          case 8:\n            this.begin("acc_descr");\n            return 39;\n            // removed by dead control flow\n\n          case 9:\n            this.popState();\n            return "acc_descr_value";\n            // removed by dead control flow\n\n          case 10:\n            this.begin("acc_descr_multiline");\n            break;\n          case 11:\n            this.popState();\n            break;\n          case 12:\n            return "acc_descr_multiline_value";\n            // removed by dead control flow\n\n          case 13:\n            return 48;\n            // removed by dead control flow\n\n          case 14:\n            return 50;\n            // removed by dead control flow\n\n          case 15:\n            return 49;\n            // removed by dead control flow\n\n          case 16:\n            return 51;\n            // removed by dead control flow\n\n          case 17:\n            return 52;\n            // removed by dead control flow\n\n          case 18:\n            return 53;\n            // removed by dead control flow\n\n          case 19:\n            return 54;\n            // removed by dead control flow\n\n          case 20:\n            return 25;\n            // removed by dead control flow\n\n          case 21:\n            this.begin("md_string");\n            break;\n          case 22:\n            return "MD_STR";\n            // removed by dead control flow\n\n          case 23:\n            this.popState();\n            break;\n          case 24:\n            this.begin("string");\n            break;\n          case 25:\n            this.popState();\n            break;\n          case 26:\n            return "STR";\n            // removed by dead control flow\n\n          case 27:\n            this.begin("class_name");\n            break;\n          case 28:\n            this.popState();\n            return 47;\n            // removed by dead control flow\n\n          case 29:\n            this.begin("point_start");\n            return 44;\n            // removed by dead control flow\n\n          case 30:\n            this.begin("point_x");\n            return 45;\n            // removed by dead control flow\n\n          case 31:\n            this.popState();\n            break;\n          case 32:\n            this.popState();\n            this.begin("point_y");\n            break;\n          case 33:\n            this.popState();\n            return 46;\n            // removed by dead control flow\n\n          case 34:\n            return 28;\n            // removed by dead control flow\n\n          case 35:\n            return 4;\n            // removed by dead control flow\n\n          case 36:\n            return 11;\n            // removed by dead control flow\n\n          case 37:\n            return 64;\n            // removed by dead control flow\n\n          case 38:\n            return 10;\n            // removed by dead control flow\n\n          case 39:\n            return 65;\n            // removed by dead control flow\n\n          case 40:\n            return 65;\n            // removed by dead control flow\n\n          case 41:\n            return 14;\n            // removed by dead control flow\n\n          case 42:\n            return 13;\n            // removed by dead control flow\n\n          case 43:\n            return 67;\n            // removed by dead control flow\n\n          case 44:\n            return 66;\n            // removed by dead control flow\n\n          case 45:\n            return 12;\n            // removed by dead control flow\n\n          case 46:\n            return 8;\n            // removed by dead control flow\n\n          case 47:\n            return 5;\n            // removed by dead control flow\n\n          case 48:\n            return 18;\n            // removed by dead control flow\n\n          case 49:\n            return 56;\n            // removed by dead control flow\n\n          case 50:\n            return 63;\n            // removed by dead control flow\n\n          case 51:\n            return 57;\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:%%(?!\\{)[^\\n]*)/i, /^(?:[^\\}]%%[^\\n]*)/i, /^(?:[\\n\\r]+)/i, /^(?:%%[^\\n]*)/i, /^(?:title\\b)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accTitle\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*\\{\\s*)/i, /^(?:[\\}])/i, /^(?:[^\\}]*)/i, /^(?: *x-axis *)/i, /^(?: *y-axis *)/i, /^(?: *--+> *)/i, /^(?: *quadrant-1 *)/i, /^(?: *quadrant-2 *)/i, /^(?: *quadrant-3 *)/i, /^(?: *quadrant-4 *)/i, /^(?:classDef\\b)/i, /^(?:["][`])/i, /^(?:[^`"]+)/i, /^(?:[`]["])/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?::::)/i, /^(?:^\\w+)/i, /^(?:\\s*:\\s*\\[\\s*)/i, /^(?:(1)|(0(.\\d+)?))/i, /^(?:\\s*\\] *)/i, /^(?:\\s*,\\s*)/i, /^(?:(1)|(0(.\\d+)?))/i, /^(?: *quadrantChart *)/i, /^(?:[A-Za-z]+)/i, /^(?::)/i, /^(?:\\+)/i, /^(?:,)/i, /^(?:=)/i, /^(?:=)/i, /^(?:\\*)/i, /^(?:#)/i, /^(?:[\\_])/i, /^(?:\\.)/i, /^(?:&)/i, /^(?:-)/i, /^(?:[0-9]+)/i, /^(?:\\s)/i, /^(?:;)/i, /^(?:[!"#$%&\'*+,-.`?\\\\_/])/i, /^(?:$)/i],\n      conditions: { "class_name": { "rules": [28], "inclusive": false }, "point_y": { "rules": [33], "inclusive": false }, "point_x": { "rules": [32], "inclusive": false }, "point_start": { "rules": [30, 31], "inclusive": false }, "acc_descr_multiline": { "rules": [11, 12], "inclusive": false }, "acc_descr": { "rules": [9], "inclusive": false }, "acc_title": { "rules": [7], "inclusive": false }, "title": { "rules": [5], "inclusive": false }, "md_string": { "rules": [22, 23], "inclusive": false }, "string": { "rules": [25, 26], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 3, 4, 6, 8, 10, 13, 14, 15, 16, 17, 18, 19, 20, 21, 24, 27, 29, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar quadrant_default = parser;\n\n// src/diagrams/quadrant-chart/quadrantBuilder.ts\n\nvar defaultThemeVariables = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getThemeVariables)();\nvar QuadrantBuilder = class {\n  constructor() {\n    this.classes = /* @__PURE__ */ new Map();\n    this.config = this.getDefaultConfig();\n    this.themeConfig = this.getDefaultThemeConfig();\n    this.data = this.getDefaultData();\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(this, "QuadrantBuilder");\n  }\n  getDefaultData() {\n    return {\n      titleText: "",\n      quadrant1Text: "",\n      quadrant2Text: "",\n      quadrant3Text: "",\n      quadrant4Text: "",\n      xAxisLeftText: "",\n      xAxisRightText: "",\n      yAxisBottomText: "",\n      yAxisTopText: "",\n      points: []\n    };\n  }\n  getDefaultConfig() {\n    return {\n      showXAxis: true,\n      showYAxis: true,\n      showTitle: true,\n      chartHeight: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.chartWidth || 500,\n      chartWidth: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.chartHeight || 500,\n      titlePadding: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.titlePadding || 10,\n      titleFontSize: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.titleFontSize || 20,\n      quadrantPadding: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.quadrantPadding || 5,\n      xAxisLabelPadding: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.xAxisLabelPadding || 5,\n      yAxisLabelPadding: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.yAxisLabelPadding || 5,\n      xAxisLabelFontSize: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.xAxisLabelFontSize || 16,\n      yAxisLabelFontSize: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.yAxisLabelFontSize || 16,\n      quadrantLabelFontSize: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.quadrantLabelFontSize || 16,\n      quadrantTextTopPadding: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.quadrantTextTopPadding || 5,\n      pointTextPadding: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.pointTextPadding || 5,\n      pointLabelFontSize: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.pointLabelFontSize || 12,\n      pointRadius: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.pointRadius || 5,\n      xAxisPosition: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.xAxisPosition || "top",\n      yAxisPosition: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.yAxisPosition || "left",\n      quadrantInternalBorderStrokeWidth: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.quadrantInternalBorderStrokeWidth || 1,\n      quadrantExternalBorderStrokeWidth: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig_default.quadrantChart?.quadrantExternalBorderStrokeWidth || 2\n    };\n  }\n  getDefaultThemeConfig() {\n    return {\n      quadrant1Fill: defaultThemeVariables.quadrant1Fill,\n      quadrant2Fill: defaultThemeVariables.quadrant2Fill,\n      quadrant3Fill: defaultThemeVariables.quadrant3Fill,\n      quadrant4Fill: defaultThemeVariables.quadrant4Fill,\n      quadrant1TextFill: defaultThemeVariables.quadrant1TextFill,\n      quadrant2TextFill: defaultThemeVariables.quadrant2TextFill,\n      quadrant3TextFill: defaultThemeVariables.quadrant3TextFill,\n      quadrant4TextFill: defaultThemeVariables.quadrant4TextFill,\n      quadrantPointFill: defaultThemeVariables.quadrantPointFill,\n      quadrantPointTextFill: defaultThemeVariables.quadrantPointTextFill,\n      quadrantXAxisTextFill: defaultThemeVariables.quadrantXAxisTextFill,\n      quadrantYAxisTextFill: defaultThemeVariables.quadrantYAxisTextFill,\n      quadrantTitleFill: defaultThemeVariables.quadrantTitleFill,\n      quadrantInternalBorderStrokeFill: defaultThemeVariables.quadrantInternalBorderStrokeFill,\n      quadrantExternalBorderStrokeFill: defaultThemeVariables.quadrantExternalBorderStrokeFill\n    };\n  }\n  clear() {\n    this.config = this.getDefaultConfig();\n    this.themeConfig = this.getDefaultThemeConfig();\n    this.data = this.getDefaultData();\n    this.classes = /* @__PURE__ */ new Map();\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.info("clear called");\n  }\n  setData(data) {\n    this.data = { ...this.data, ...data };\n  }\n  addPoints(points) {\n    this.data.points = [...points, ...this.data.points];\n  }\n  addClass(className, styles) {\n    this.classes.set(className, styles);\n  }\n  setConfig(config2) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.trace("setConfig called with: ", config2);\n    this.config = { ...this.config, ...config2 };\n  }\n  setThemeConfig(themeConfig) {\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.trace("setThemeConfig called with: ", themeConfig);\n    this.themeConfig = { ...this.themeConfig, ...themeConfig };\n  }\n  calculateSpace(xAxisPosition, showXAxis, showYAxis, showTitle) {\n    const xAxisSpaceCalculation = this.config.xAxisLabelPadding * 2 + this.config.xAxisLabelFontSize;\n    const xAxisSpace = {\n      top: xAxisPosition === "top" && showXAxis ? xAxisSpaceCalculation : 0,\n      bottom: xAxisPosition === "bottom" && showXAxis ? xAxisSpaceCalculation : 0\n    };\n    const yAxisSpaceCalculation = this.config.yAxisLabelPadding * 2 + this.config.yAxisLabelFontSize;\n    const yAxisSpace = {\n      left: this.config.yAxisPosition === "left" && showYAxis ? yAxisSpaceCalculation : 0,\n      right: this.config.yAxisPosition === "right" && showYAxis ? yAxisSpaceCalculation : 0\n    };\n    const titleSpaceCalculation = this.config.titleFontSize + this.config.titlePadding * 2;\n    const titleSpace = {\n      top: showTitle ? titleSpaceCalculation : 0\n    };\n    const quadrantLeft = this.config.quadrantPadding + yAxisSpace.left;\n    const quadrantTop = this.config.quadrantPadding + xAxisSpace.top + titleSpace.top;\n    const quadrantWidth = this.config.chartWidth - this.config.quadrantPadding * 2 - yAxisSpace.left - yAxisSpace.right;\n    const quadrantHeight = this.config.chartHeight - this.config.quadrantPadding * 2 - xAxisSpace.top - xAxisSpace.bottom - titleSpace.top;\n    const quadrantHalfWidth = quadrantWidth / 2;\n    const quadrantHalfHeight = quadrantHeight / 2;\n    const quadrantSpace = {\n      quadrantLeft,\n      quadrantTop,\n      quadrantWidth,\n      quadrantHalfWidth,\n      quadrantHeight,\n      quadrantHalfHeight\n    };\n    return {\n      xAxisSpace,\n      yAxisSpace,\n      titleSpace,\n      quadrantSpace\n    };\n  }\n  getAxisLabels(xAxisPosition, showXAxis, showYAxis, spaceData) {\n    const { quadrantSpace, titleSpace } = spaceData;\n    const {\n      quadrantHalfHeight,\n      quadrantHeight,\n      quadrantLeft,\n      quadrantHalfWidth,\n      quadrantTop,\n      quadrantWidth\n    } = quadrantSpace;\n    const drawXAxisLabelsInMiddle = Boolean(this.data.xAxisRightText);\n    const drawYAxisLabelsInMiddle = Boolean(this.data.yAxisTopText);\n    const axisLabels = [];\n    if (this.data.xAxisLeftText && showXAxis) {\n      axisLabels.push({\n        text: this.data.xAxisLeftText,\n        fill: this.themeConfig.quadrantXAxisTextFill,\n        x: quadrantLeft + (drawXAxisLabelsInMiddle ? quadrantHalfWidth / 2 : 0),\n        y: xAxisPosition === "top" ? this.config.xAxisLabelPadding + titleSpace.top : this.config.xAxisLabelPadding + quadrantTop + quadrantHeight + this.config.quadrantPadding,\n        fontSize: this.config.xAxisLabelFontSize,\n        verticalPos: drawXAxisLabelsInMiddle ? "center" : "left",\n        horizontalPos: "top",\n        rotation: 0\n      });\n    }\n    if (this.data.xAxisRightText && showXAxis) {\n      axisLabels.push({\n        text: this.data.xAxisRightText,\n        fill: this.themeConfig.quadrantXAxisTextFill,\n        x: quadrantLeft + quadrantHalfWidth + (drawXAxisLabelsInMiddle ? quadrantHalfWidth / 2 : 0),\n        y: xAxisPosition === "top" ? this.config.xAxisLabelPadding + titleSpace.top : this.config.xAxisLabelPadding + quadrantTop + quadrantHeight + this.config.quadrantPadding,\n        fontSize: this.config.xAxisLabelFontSize,\n        verticalPos: drawXAxisLabelsInMiddle ? "center" : "left",\n        horizontalPos: "top",\n        rotation: 0\n      });\n    }\n    if (this.data.yAxisBottomText && showYAxis) {\n      axisLabels.push({\n        text: this.data.yAxisBottomText,\n        fill: this.themeConfig.quadrantYAxisTextFill,\n        x: this.config.yAxisPosition === "left" ? this.config.yAxisLabelPadding : this.config.yAxisLabelPadding + quadrantLeft + quadrantWidth + this.config.quadrantPadding,\n        y: quadrantTop + quadrantHeight - (drawYAxisLabelsInMiddle ? quadrantHalfHeight / 2 : 0),\n        fontSize: this.config.yAxisLabelFontSize,\n        verticalPos: drawYAxisLabelsInMiddle ? "center" : "left",\n        horizontalPos: "top",\n        rotation: -90\n      });\n    }\n    if (this.data.yAxisTopText && showYAxis) {\n      axisLabels.push({\n        text: this.data.yAxisTopText,\n        fill: this.themeConfig.quadrantYAxisTextFill,\n        x: this.config.yAxisPosition === "left" ? this.config.yAxisLabelPadding : this.config.yAxisLabelPadding + quadrantLeft + quadrantWidth + this.config.quadrantPadding,\n        y: quadrantTop + quadrantHalfHeight - (drawYAxisLabelsInMiddle ? quadrantHalfHeight / 2 : 0),\n        fontSize: this.config.yAxisLabelFontSize,\n        verticalPos: drawYAxisLabelsInMiddle ? "center" : "left",\n        horizontalPos: "top",\n        rotation: -90\n      });\n    }\n    return axisLabels;\n  }\n  getQuadrants(spaceData) {\n    const { quadrantSpace } = spaceData;\n    const { quadrantHalfHeight, quadrantLeft, quadrantHalfWidth, quadrantTop } = quadrantSpace;\n    const quadrants = [\n      {\n        text: {\n          text: this.data.quadrant1Text,\n          fill: this.themeConfig.quadrant1TextFill,\n          x: 0,\n          y: 0,\n          fontSize: this.config.quadrantLabelFontSize,\n          verticalPos: "center",\n          horizontalPos: "middle",\n          rotation: 0\n        },\n        x: quadrantLeft + quadrantHalfWidth,\n        y: quadrantTop,\n        width: quadrantHalfWidth,\n        height: quadrantHalfHeight,\n        fill: this.themeConfig.quadrant1Fill\n      },\n      {\n        text: {\n          text: this.data.quadrant2Text,\n          fill: this.themeConfig.quadrant2TextFill,\n          x: 0,\n          y: 0,\n          fontSize: this.config.quadrantLabelFontSize,\n          verticalPos: "center",\n          horizontalPos: "middle",\n          rotation: 0\n        },\n        x: quadrantLeft,\n        y: quadrantTop,\n        width: quadrantHalfWidth,\n        height: quadrantHalfHeight,\n        fill: this.themeConfig.quadrant2Fill\n      },\n      {\n        text: {\n          text: this.data.quadrant3Text,\n          fill: this.themeConfig.quadrant3TextFill,\n          x: 0,\n          y: 0,\n          fontSize: this.config.quadrantLabelFontSize,\n          verticalPos: "center",\n          horizontalPos: "middle",\n          rotation: 0\n        },\n        x: quadrantLeft,\n        y: quadrantTop + quadrantHalfHeight,\n        width: quadrantHalfWidth,\n        height: quadrantHalfHeight,\n        fill: this.themeConfig.quadrant3Fill\n      },\n      {\n        text: {\n          text: this.data.quadrant4Text,\n          fill: this.themeConfig.quadrant4TextFill,\n          x: 0,\n          y: 0,\n          fontSize: this.config.quadrantLabelFontSize,\n          verticalPos: "center",\n          horizontalPos: "middle",\n          rotation: 0\n        },\n        x: quadrantLeft + quadrantHalfWidth,\n        y: quadrantTop + quadrantHalfHeight,\n        width: quadrantHalfWidth,\n        height: quadrantHalfHeight,\n        fill: this.themeConfig.quadrant4Fill\n      }\n    ];\n    for (const quadrant of quadrants) {\n      quadrant.text.x = quadrant.x + quadrant.width / 2;\n      if (this.data.points.length === 0) {\n        quadrant.text.y = quadrant.y + quadrant.height / 2;\n        quadrant.text.horizontalPos = "middle";\n      } else {\n        quadrant.text.y = quadrant.y + this.config.quadrantTextTopPadding;\n        quadrant.text.horizontalPos = "top";\n      }\n    }\n    return quadrants;\n  }\n  getQuadrantPoints(spaceData) {\n    const { quadrantSpace } = spaceData;\n    const { quadrantHeight, quadrantLeft, quadrantTop, quadrantWidth } = quadrantSpace;\n    const xAxis = (0,d3__WEBPACK_IMPORTED_MODULE_2__.scaleLinear)().domain([0, 1]).range([quadrantLeft, quadrantWidth + quadrantLeft]);\n    const yAxis = (0,d3__WEBPACK_IMPORTED_MODULE_2__.scaleLinear)().domain([0, 1]).range([quadrantHeight + quadrantTop, quadrantTop]);\n    const points = this.data.points.map((point) => {\n      const classStyles = this.classes.get(point.className);\n      if (classStyles) {\n        point = { ...classStyles, ...point };\n      }\n      const props = {\n        x: xAxis(point.x),\n        y: yAxis(point.y),\n        fill: point.color ?? this.themeConfig.quadrantPointFill,\n        radius: point.radius ?? this.config.pointRadius,\n        text: {\n          text: point.text,\n          fill: this.themeConfig.quadrantPointTextFill,\n          x: xAxis(point.x),\n          y: yAxis(point.y) + this.config.pointTextPadding,\n          verticalPos: "center",\n          horizontalPos: "top",\n          fontSize: this.config.pointLabelFontSize,\n          rotation: 0\n        },\n        strokeColor: point.strokeColor ?? this.themeConfig.quadrantPointFill,\n        strokeWidth: point.strokeWidth ?? "0px"\n      };\n      return props;\n    });\n    return points;\n  }\n  getBorders(spaceData) {\n    const halfExternalBorderWidth = this.config.quadrantExternalBorderStrokeWidth / 2;\n    const { quadrantSpace } = spaceData;\n    const {\n      quadrantHalfHeight,\n      quadrantHeight,\n      quadrantLeft,\n      quadrantHalfWidth,\n      quadrantTop,\n      quadrantWidth\n    } = quadrantSpace;\n    const borderLines = [\n      // top border\n      {\n        strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill,\n        strokeWidth: this.config.quadrantExternalBorderStrokeWidth,\n        x1: quadrantLeft - halfExternalBorderWidth,\n        y1: quadrantTop,\n        x2: quadrantLeft + quadrantWidth + halfExternalBorderWidth,\n        y2: quadrantTop\n      },\n      // right border\n      {\n        strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill,\n        strokeWidth: this.config.quadrantExternalBorderStrokeWidth,\n        x1: quadrantLeft + quadrantWidth,\n        y1: quadrantTop + halfExternalBorderWidth,\n        x2: quadrantLeft + quadrantWidth,\n        y2: quadrantTop + quadrantHeight - halfExternalBorderWidth\n      },\n      // bottom border\n      {\n        strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill,\n        strokeWidth: this.config.quadrantExternalBorderStrokeWidth,\n        x1: quadrantLeft - halfExternalBorderWidth,\n        y1: quadrantTop + quadrantHeight,\n        x2: quadrantLeft + quadrantWidth + halfExternalBorderWidth,\n        y2: quadrantTop + quadrantHeight\n      },\n      // left border\n      {\n        strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill,\n        strokeWidth: this.config.quadrantExternalBorderStrokeWidth,\n        x1: quadrantLeft,\n        y1: quadrantTop + halfExternalBorderWidth,\n        x2: quadrantLeft,\n        y2: quadrantTop + quadrantHeight - halfExternalBorderWidth\n      },\n      // vertical inner border\n      {\n        strokeFill: this.themeConfig.quadrantInternalBorderStrokeFill,\n        strokeWidth: this.config.quadrantInternalBorderStrokeWidth,\n        x1: quadrantLeft + quadrantHalfWidth,\n        y1: quadrantTop + halfExternalBorderWidth,\n        x2: quadrantLeft + quadrantHalfWidth,\n        y2: quadrantTop + quadrantHeight - halfExternalBorderWidth\n      },\n      // horizontal inner border\n      {\n        strokeFill: this.themeConfig.quadrantInternalBorderStrokeFill,\n        strokeWidth: this.config.quadrantInternalBorderStrokeWidth,\n        x1: quadrantLeft + halfExternalBorderWidth,\n        y1: quadrantTop + quadrantHalfHeight,\n        x2: quadrantLeft + quadrantWidth - halfExternalBorderWidth,\n        y2: quadrantTop + quadrantHalfHeight\n      }\n    ];\n    return borderLines;\n  }\n  getTitle(showTitle) {\n    if (showTitle) {\n      return {\n        text: this.data.titleText,\n        fill: this.themeConfig.quadrantTitleFill,\n        fontSize: this.config.titleFontSize,\n        horizontalPos: "top",\n        verticalPos: "center",\n        rotation: 0,\n        y: this.config.titlePadding,\n        x: this.config.chartWidth / 2\n      };\n    }\n    return;\n  }\n  build() {\n    const showXAxis = this.config.showXAxis && !!(this.data.xAxisLeftText || this.data.xAxisRightText);\n    const showYAxis = this.config.showYAxis && !!(this.data.yAxisTopText || this.data.yAxisBottomText);\n    const showTitle = this.config.showTitle && !!this.data.titleText;\n    const xAxisPosition = this.data.points.length > 0 ? "bottom" : this.config.xAxisPosition;\n    const calculatedSpace = this.calculateSpace(xAxisPosition, showXAxis, showYAxis, showTitle);\n    return {\n      points: this.getQuadrantPoints(calculatedSpace),\n      quadrants: this.getQuadrants(calculatedSpace),\n      axisLabels: this.getAxisLabels(xAxisPosition, showXAxis, showYAxis, calculatedSpace),\n      borderLines: this.getBorders(calculatedSpace),\n      title: this.getTitle(showTitle)\n    };\n  }\n};\n\n// src/diagrams/quadrant-chart/utils.ts\nvar InvalidStyleError = class extends Error {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(this, "InvalidStyleError");\n  }\n  constructor(style, value, type) {\n    super(`value for ${style} ${value} is invalid, please use a valid ${type}`);\n    this.name = "InvalidStyleError";\n  }\n};\nfunction validateHexCode(value) {\n  return !/^#?([\\dA-Fa-f]{6}|[\\dA-Fa-f]{3})$/.test(value);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(validateHexCode, "validateHexCode");\nfunction validateNumber(value) {\n  return !/^\\d+$/.test(value);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(validateNumber, "validateNumber");\nfunction validateSizeInPixels(value) {\n  return !/^\\d+px$/.test(value);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(validateSizeInPixels, "validateSizeInPixels");\n\n// src/diagrams/quadrant-chart/quadrantDb.ts\nvar config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getConfig2)();\nfunction textSanitizer(text) {\n  return (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.sanitizeText)(text.trim(), config);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(textSanitizer, "textSanitizer");\nvar quadrantBuilder = new QuadrantBuilder();\nfunction setQuadrant1Text(textObj) {\n  quadrantBuilder.setData({ quadrant1Text: textSanitizer(textObj.text) });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(setQuadrant1Text, "setQuadrant1Text");\nfunction setQuadrant2Text(textObj) {\n  quadrantBuilder.setData({ quadrant2Text: textSanitizer(textObj.text) });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(setQuadrant2Text, "setQuadrant2Text");\nfunction setQuadrant3Text(textObj) {\n  quadrantBuilder.setData({ quadrant3Text: textSanitizer(textObj.text) });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(setQuadrant3Text, "setQuadrant3Text");\nfunction setQuadrant4Text(textObj) {\n  quadrantBuilder.setData({ quadrant4Text: textSanitizer(textObj.text) });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(setQuadrant4Text, "setQuadrant4Text");\nfunction setXAxisLeftText(textObj) {\n  quadrantBuilder.setData({ xAxisLeftText: textSanitizer(textObj.text) });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(setXAxisLeftText, "setXAxisLeftText");\nfunction setXAxisRightText(textObj) {\n  quadrantBuilder.setData({ xAxisRightText: textSanitizer(textObj.text) });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(setXAxisRightText, "setXAxisRightText");\nfunction setYAxisTopText(textObj) {\n  quadrantBuilder.setData({ yAxisTopText: textSanitizer(textObj.text) });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(setYAxisTopText, "setYAxisTopText");\nfunction setYAxisBottomText(textObj) {\n  quadrantBuilder.setData({ yAxisBottomText: textSanitizer(textObj.text) });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(setYAxisBottomText, "setYAxisBottomText");\nfunction parseStyles(styles) {\n  const stylesObject = {};\n  for (const style of styles) {\n    const [key, value] = style.trim().split(/\\s*:\\s*/);\n    if (key === "radius") {\n      if (validateNumber(value)) {\n        throw new InvalidStyleError(key, value, "number");\n      }\n      stylesObject.radius = parseInt(value);\n    } else if (key === "color") {\n      if (validateHexCode(value)) {\n        throw new InvalidStyleError(key, value, "hex code");\n      }\n      stylesObject.color = value;\n    } else if (key === "stroke-color") {\n      if (validateHexCode(value)) {\n        throw new InvalidStyleError(key, value, "hex code");\n      }\n      stylesObject.strokeColor = value;\n    } else if (key === "stroke-width") {\n      if (validateSizeInPixels(value)) {\n        throw new InvalidStyleError(key, value, "number of pixels (eg. 10px)");\n      }\n      stylesObject.strokeWidth = value;\n    } else {\n      throw new Error(`style named ${key} is not supported.`);\n    }\n  }\n  return stylesObject;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(parseStyles, "parseStyles");\nfunction addPoint(textObj, className, x, y, styles) {\n  const stylesObject = parseStyles(styles);\n  quadrantBuilder.addPoints([\n    {\n      x,\n      y,\n      text: textSanitizer(textObj.text),\n      className,\n      ...stylesObject\n    }\n  ]);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(addPoint, "addPoint");\nfunction addClass(className, styles) {\n  quadrantBuilder.addClass(className, parseStyles(styles));\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(addClass, "addClass");\nfunction setWidth(width) {\n  quadrantBuilder.setConfig({ chartWidth: width });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(setWidth, "setWidth");\nfunction setHeight(height) {\n  quadrantBuilder.setConfig({ chartHeight: height });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(setHeight, "setHeight");\nfunction getQuadrantData() {\n  const config2 = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getConfig2)();\n  const { themeVariables, quadrantChart: quadrantChartConfig } = config2;\n  if (quadrantChartConfig) {\n    quadrantBuilder.setConfig(quadrantChartConfig);\n  }\n  quadrantBuilder.setThemeConfig({\n    quadrant1Fill: themeVariables.quadrant1Fill,\n    quadrant2Fill: themeVariables.quadrant2Fill,\n    quadrant3Fill: themeVariables.quadrant3Fill,\n    quadrant4Fill: themeVariables.quadrant4Fill,\n    quadrant1TextFill: themeVariables.quadrant1TextFill,\n    quadrant2TextFill: themeVariables.quadrant2TextFill,\n    quadrant3TextFill: themeVariables.quadrant3TextFill,\n    quadrant4TextFill: themeVariables.quadrant4TextFill,\n    quadrantPointFill: themeVariables.quadrantPointFill,\n    quadrantPointTextFill: themeVariables.quadrantPointTextFill,\n    quadrantXAxisTextFill: themeVariables.quadrantXAxisTextFill,\n    quadrantYAxisTextFill: themeVariables.quadrantYAxisTextFill,\n    quadrantExternalBorderStrokeFill: themeVariables.quadrantExternalBorderStrokeFill,\n    quadrantInternalBorderStrokeFill: themeVariables.quadrantInternalBorderStrokeFill,\n    quadrantTitleFill: themeVariables.quadrantTitleFill\n  });\n  quadrantBuilder.setData({ titleText: (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getDiagramTitle)() });\n  return quadrantBuilder.build();\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(getQuadrantData, "getQuadrantData");\nvar clear2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n  quadrantBuilder.clear();\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.clear)();\n}, "clear");\nvar quadrantDb_default = {\n  setWidth,\n  setHeight,\n  setQuadrant1Text,\n  setQuadrant2Text,\n  setQuadrant3Text,\n  setQuadrant4Text,\n  setXAxisLeftText,\n  setXAxisRightText,\n  setYAxisTopText,\n  setYAxisBottomText,\n  parseStyles,\n  addPoint,\n  addClass,\n  getQuadrantData,\n  clear: clear2,\n  setAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.setAccTitle,\n  getAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getAccTitle,\n  setDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.setDiagramTitle,\n  getDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getDiagramTitle,\n  getAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getAccDescription,\n  setAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.setAccDescription\n};\n\n// src/diagrams/quadrant-chart/quadrantRenderer.ts\n\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((txt, id, _version, diagObj) => {\n  function getDominantBaseLine(horizontalPos) {\n    return horizontalPos === "top" ? "hanging" : "middle";\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(getDominantBaseLine, "getDominantBaseLine");\n  function getTextAnchor(verticalPos) {\n    return verticalPos === "left" ? "start" : "middle";\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(getTextAnchor, "getTextAnchor");\n  function getTransformation(data) {\n    return `translate(${data.x}, ${data.y}) rotate(${data.rotation || 0})`;\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(getTransformation, "getTransformation");\n  const conf = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getConfig2)();\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("Rendering quadrant chart\\n" + txt);\n  const securityLevel = conf.securityLevel;\n  let sandboxElement;\n  if (securityLevel === "sandbox") {\n    sandboxElement = (0,d3__WEBPACK_IMPORTED_MODULE_2__.select)("#i" + id);\n  }\n  const root = securityLevel === "sandbox" ? (0,d3__WEBPACK_IMPORTED_MODULE_2__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0,d3__WEBPACK_IMPORTED_MODULE_2__.select)("body");\n  const svg = root.select(`[id="${id}"]`);\n  const group = svg.append("g").attr("class", "main");\n  const width = conf.quadrantChart?.chartWidth ?? 500;\n  const height = conf.quadrantChart?.chartHeight ?? 500;\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.configureSvgSize)(svg, height, width, conf.quadrantChart?.useMaxWidth ?? true);\n  svg.attr("viewBox", "0 0 " + width + " " + height);\n  diagObj.db.setHeight(height);\n  diagObj.db.setWidth(width);\n  const quadrantData = diagObj.db.getQuadrantData();\n  const quadrantsGroup = group.append("g").attr("class", "quadrants");\n  const borderGroup = group.append("g").attr("class", "border");\n  const dataPointGroup = group.append("g").attr("class", "data-points");\n  const labelGroup = group.append("g").attr("class", "labels");\n  const titleGroup = group.append("g").attr("class", "title");\n  if (quadrantData.title) {\n    titleGroup.append("text").attr("x", 0).attr("y", 0).attr("fill", quadrantData.title.fill).attr("font-size", quadrantData.title.fontSize).attr("dominant-baseline", getDominantBaseLine(quadrantData.title.horizontalPos)).attr("text-anchor", getTextAnchor(quadrantData.title.verticalPos)).attr("transform", getTransformation(quadrantData.title)).text(quadrantData.title.text);\n  }\n  if (quadrantData.borderLines) {\n    borderGroup.selectAll("line").data(quadrantData.borderLines).enter().append("line").attr("x1", (data) => data.x1).attr("y1", (data) => data.y1).attr("x2", (data) => data.x2).attr("y2", (data) => data.y2).style("stroke", (data) => data.strokeFill).style("stroke-width", (data) => data.strokeWidth);\n  }\n  const quadrants = quadrantsGroup.selectAll("g.quadrant").data(quadrantData.quadrants).enter().append("g").attr("class", "quadrant");\n  quadrants.append("rect").attr("x", (data) => data.x).attr("y", (data) => data.y).attr("width", (data) => data.width).attr("height", (data) => data.height).attr("fill", (data) => data.fill);\n  quadrants.append("text").attr("x", 0).attr("y", 0).attr("fill", (data) => data.text.fill).attr("font-size", (data) => data.text.fontSize).attr(\n    "dominant-baseline",\n    (data) => getDominantBaseLine(data.text.horizontalPos)\n  ).attr("text-anchor", (data) => getTextAnchor(data.text.verticalPos)).attr("transform", (data) => getTransformation(data.text)).text((data) => data.text.text);\n  const labels = labelGroup.selectAll("g.label").data(quadrantData.axisLabels).enter().append("g").attr("class", "label");\n  labels.append("text").attr("x", 0).attr("y", 0).text((data) => data.text).attr("fill", (data) => data.fill).attr("font-size", (data) => data.fontSize).attr("dominant-baseline", (data) => getDominantBaseLine(data.horizontalPos)).attr("text-anchor", (data) => getTextAnchor(data.verticalPos)).attr("transform", (data) => getTransformation(data));\n  const dataPoints = dataPointGroup.selectAll("g.data-point").data(quadrantData.points).enter().append("g").attr("class", "data-point");\n  dataPoints.append("circle").attr("cx", (data) => data.x).attr("cy", (data) => data.y).attr("r", (data) => data.radius).attr("fill", (data) => data.fill).attr("stroke", (data) => data.strokeColor).attr("stroke-width", (data) => data.strokeWidth);\n  dataPoints.append("text").attr("x", 0).attr("y", 0).text((data) => data.text.text).attr("fill", (data) => data.text.fill).attr("font-size", (data) => data.text.fontSize).attr(\n    "dominant-baseline",\n    (data) => getDominantBaseLine(data.text.horizontalPos)\n  ).attr("text-anchor", (data) => getTextAnchor(data.text.verticalPos)).attr("transform", (data) => getTransformation(data.text));\n}, "draw");\nvar quadrantRenderer_default = {\n  draw\n};\n\n// src/diagrams/quadrant-chart/quadrantDiagram.ts\nvar diagram = {\n  parser: quadrant_default,\n  db: quadrantDb_default,\n  renderer: quadrantRenderer_default,\n  styles: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(() => "", "styles")\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/quadrantDiagram-AYHSOK5B.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/requirementDiagram-UZGBJVZJ.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-55IACEB6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-55IACEB6.mjs");\n/* harmony import */ var _chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-QN33PNHL.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs");\n/* harmony import */ var _chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-N4CR4FBY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-N4CR4FBY.mjs");\n/* harmony import */ var _chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-QXUST7PY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QXUST7PY.mjs");\n/* harmony import */ var _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-HN2XXSSU.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HN2XXSSU.mjs");\n/* harmony import */ var _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-JZLCHNYA.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs");\n/* harmony import */ var _chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-CVBHYZKI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs");\n/* harmony import */ var _chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-ATLVNIR6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n\n\n\n\n\n\n\n\n\n\n\n\n\n// src/diagrams/requirement/parser/requirementDiagram.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [1, 3], $V1 = [1, 4], $V2 = [1, 5], $V3 = [1, 6], $V4 = [5, 6, 8, 9, 11, 13, 21, 22, 23, 24, 41, 42, 43, 44, 45, 46, 54, 72, 74, 77, 89, 90], $V5 = [1, 22], $V6 = [2, 7], $V7 = [1, 26], $V8 = [1, 27], $V9 = [1, 28], $Va = [1, 29], $Vb = [1, 33], $Vc = [1, 34], $Vd = [1, 35], $Ve = [1, 36], $Vf = [1, 37], $Vg = [1, 38], $Vh = [1, 24], $Vi = [1, 31], $Vj = [1, 32], $Vk = [1, 30], $Vl = [1, 39], $Vm = [1, 40], $Vn = [5, 8, 9, 11, 13, 21, 22, 23, 24, 41, 42, 43, 44, 45, 46, 54, 72, 74, 77, 89, 90], $Vo = [1, 61], $Vp = [89, 90], $Vq = [5, 8, 9, 11, 13, 21, 22, 23, 24, 27, 29, 41, 42, 43, 44, 45, 46, 54, 61, 63, 72, 74, 75, 76, 77, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90], $Vr = [27, 29], $Vs = [1, 70], $Vt = [1, 71], $Vu = [1, 72], $Vv = [1, 73], $Vw = [1, 74], $Vx = [1, 75], $Vy = [1, 76], $Vz = [1, 83], $VA = [1, 80], $VB = [1, 84], $VC = [1, 85], $VD = [1, 86], $VE = [1, 87], $VF = [1, 88], $VG = [1, 89], $VH = [1, 90], $VI = [1, 91], $VJ = [1, 92], $VK = [5, 8, 9, 11, 13, 21, 22, 23, 24, 27, 41, 42, 43, 44, 45, 46, 54, 72, 74, 75, 76, 77, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90], $VL = [63, 64], $VM = [1, 101], $VN = [5, 8, 9, 11, 13, 21, 22, 23, 24, 41, 42, 43, 44, 45, 46, 54, 72, 74, 76, 77, 89, 90], $VO = [5, 8, 9, 11, 13, 21, 22, 23, 24, 41, 42, 43, 44, 45, 46, 54, 72, 74, 75, 76, 77, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90], $VP = [1, 110], $VQ = [1, 106], $VR = [1, 107], $VS = [1, 108], $VT = [1, 109], $VU = [1, 111], $VV = [1, 116], $VW = [1, 117], $VX = [1, 114], $VY = [1, 115];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "start": 3, "directive": 4, "NEWLINE": 5, "RD": 6, "diagram": 7, "EOF": 8, "acc_title": 9, "acc_title_value": 10, "acc_descr": 11, "acc_descr_value": 12, "acc_descr_multiline_value": 13, "requirementDef": 14, "elementDef": 15, "relationshipDef": 16, "direction": 17, "styleStatement": 18, "classDefStatement": 19, "classStatement": 20, "direction_tb": 21, "direction_bt": 22, "direction_rl": 23, "direction_lr": 24, "requirementType": 25, "requirementName": 26, "STRUCT_START": 27, "requirementBody": 28, "STYLE_SEPARATOR": 29, "idList": 30, "ID": 31, "COLONSEP": 32, "id": 33, "TEXT": 34, "text": 35, "RISK": 36, "riskLevel": 37, "VERIFYMTHD": 38, "verifyType": 39, "STRUCT_STOP": 40, "REQUIREMENT": 41, "FUNCTIONAL_REQUIREMENT": 42, "INTERFACE_REQUIREMENT": 43, "PERFORMANCE_REQUIREMENT": 44, "PHYSICAL_REQUIREMENT": 45, "DESIGN_CONSTRAINT": 46, "LOW_RISK": 47, "MED_RISK": 48, "HIGH_RISK": 49, "VERIFY_ANALYSIS": 50, "VERIFY_DEMONSTRATION": 51, "VERIFY_INSPECTION": 52, "VERIFY_TEST": 53, "ELEMENT": 54, "elementName": 55, "elementBody": 56, "TYPE": 57, "type": 58, "DOCREF": 59, "ref": 60, "END_ARROW_L": 61, "relationship": 62, "LINE": 63, "END_ARROW_R": 64, "CONTAINS": 65, "COPIES": 66, "DERIVES": 67, "SATISFIES": 68, "VERIFIES": 69, "REFINES": 70, "TRACES": 71, "CLASSDEF": 72, "stylesOpt": 73, "CLASS": 74, "ALPHA": 75, "COMMA": 76, "STYLE": 77, "style": 78, "styleComponent": 79, "NUM": 80, "COLON": 81, "UNIT": 82, "SPACE": 83, "BRKT": 84, "PCT": 85, "MINUS": 86, "LABEL": 87, "SEMICOLON": 88, "unqString": 89, "qString": 90, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 5: "NEWLINE", 6: "RD", 8: "EOF", 9: "acc_title", 10: "acc_title_value", 11: "acc_descr", 12: "acc_descr_value", 13: "acc_descr_multiline_value", 21: "direction_tb", 22: "direction_bt", 23: "direction_rl", 24: "direction_lr", 27: "STRUCT_START", 29: "STYLE_SEPARATOR", 31: "ID", 32: "COLONSEP", 34: "TEXT", 36: "RISK", 38: "VERIFYMTHD", 40: "STRUCT_STOP", 41: "REQUIREMENT", 42: "FUNCTIONAL_REQUIREMENT", 43: "INTERFACE_REQUIREMENT", 44: "PERFORMANCE_REQUIREMENT", 45: "PHYSICAL_REQUIREMENT", 46: "DESIGN_CONSTRAINT", 47: "LOW_RISK", 48: "MED_RISK", 49: "HIGH_RISK", 50: "VERIFY_ANALYSIS", 51: "VERIFY_DEMONSTRATION", 52: "VERIFY_INSPECTION", 53: "VERIFY_TEST", 54: "ELEMENT", 57: "TYPE", 59: "DOCREF", 61: "END_ARROW_L", 63: "LINE", 64: "END_ARROW_R", 65: "CONTAINS", 66: "COPIES", 67: "DERIVES", 68: "SATISFIES", 69: "VERIFIES", 70: "REFINES", 71: "TRACES", 72: "CLASSDEF", 74: "CLASS", 75: "ALPHA", 76: "COMMA", 77: "STYLE", 80: "NUM", 81: "COLON", 82: "UNIT", 83: "SPACE", 84: "BRKT", 85: "PCT", 86: "MINUS", 87: "LABEL", 88: "SEMICOLON", 89: "unqString", 90: "qString" },\n    productions_: [0, [3, 3], [3, 2], [3, 4], [4, 2], [4, 2], [4, 1], [7, 0], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [17, 1], [17, 1], [17, 1], [17, 1], [14, 5], [14, 7], [28, 5], [28, 5], [28, 5], [28, 5], [28, 2], [28, 1], [25, 1], [25, 1], [25, 1], [25, 1], [25, 1], [25, 1], [37, 1], [37, 1], [37, 1], [39, 1], [39, 1], [39, 1], [39, 1], [15, 5], [15, 7], [56, 5], [56, 5], [56, 2], [56, 1], [16, 5], [16, 5], [62, 1], [62, 1], [62, 1], [62, 1], [62, 1], [62, 1], [62, 1], [19, 3], [20, 3], [20, 3], [30, 1], [30, 3], [30, 1], [30, 3], [18, 3], [73, 1], [73, 3], [78, 1], [78, 2], [79, 1], [79, 1], [79, 1], [79, 1], [79, 1], [79, 1], [79, 1], [79, 1], [79, 1], [79, 1], [26, 1], [26, 1], [33, 1], [33, 1], [35, 1], [35, 1], [55, 1], [55, 1], [58, 1], [58, 1], [60, 1], [60, 1]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 4:\n          this.$ = $$[$0].trim();\n          yy.setAccTitle(this.$);\n          break;\n        case 5:\n        case 6:\n          this.$ = $$[$0].trim();\n          yy.setAccDescription(this.$);\n          break;\n        case 7:\n          this.$ = [];\n          break;\n        case 17:\n          yy.setDirection("TB");\n          break;\n        case 18:\n          yy.setDirection("BT");\n          break;\n        case 19:\n          yy.setDirection("RL");\n          break;\n        case 20:\n          yy.setDirection("LR");\n          break;\n        case 21:\n          yy.addRequirement($$[$0 - 3], $$[$0 - 4]);\n          break;\n        case 22:\n          yy.addRequirement($$[$0 - 5], $$[$0 - 6]);\n          yy.setClass([$$[$0 - 5]], $$[$0 - 3]);\n          break;\n        case 23:\n          yy.setNewReqId($$[$0 - 2]);\n          break;\n        case 24:\n          yy.setNewReqText($$[$0 - 2]);\n          break;\n        case 25:\n          yy.setNewReqRisk($$[$0 - 2]);\n          break;\n        case 26:\n          yy.setNewReqVerifyMethod($$[$0 - 2]);\n          break;\n        case 29:\n          this.$ = yy.RequirementType.REQUIREMENT;\n          break;\n        case 30:\n          this.$ = yy.RequirementType.FUNCTIONAL_REQUIREMENT;\n          break;\n        case 31:\n          this.$ = yy.RequirementType.INTERFACE_REQUIREMENT;\n          break;\n        case 32:\n          this.$ = yy.RequirementType.PERFORMANCE_REQUIREMENT;\n          break;\n        case 33:\n          this.$ = yy.RequirementType.PHYSICAL_REQUIREMENT;\n          break;\n        case 34:\n          this.$ = yy.RequirementType.DESIGN_CONSTRAINT;\n          break;\n        case 35:\n          this.$ = yy.RiskLevel.LOW_RISK;\n          break;\n        case 36:\n          this.$ = yy.RiskLevel.MED_RISK;\n          break;\n        case 37:\n          this.$ = yy.RiskLevel.HIGH_RISK;\n          break;\n        case 38:\n          this.$ = yy.VerifyType.VERIFY_ANALYSIS;\n          break;\n        case 39:\n          this.$ = yy.VerifyType.VERIFY_DEMONSTRATION;\n          break;\n        case 40:\n          this.$ = yy.VerifyType.VERIFY_INSPECTION;\n          break;\n        case 41:\n          this.$ = yy.VerifyType.VERIFY_TEST;\n          break;\n        case 42:\n          yy.addElement($$[$0 - 3]);\n          break;\n        case 43:\n          yy.addElement($$[$0 - 5]);\n          yy.setClass([$$[$0 - 5]], $$[$0 - 3]);\n          break;\n        case 44:\n          yy.setNewElementType($$[$0 - 2]);\n          break;\n        case 45:\n          yy.setNewElementDocRef($$[$0 - 2]);\n          break;\n        case 48:\n          yy.addRelationship($$[$0 - 2], $$[$0], $$[$0 - 4]);\n          break;\n        case 49:\n          yy.addRelationship($$[$0 - 2], $$[$0 - 4], $$[$0]);\n          break;\n        case 50:\n          this.$ = yy.Relationships.CONTAINS;\n          break;\n        case 51:\n          this.$ = yy.Relationships.COPIES;\n          break;\n        case 52:\n          this.$ = yy.Relationships.DERIVES;\n          break;\n        case 53:\n          this.$ = yy.Relationships.SATISFIES;\n          break;\n        case 54:\n          this.$ = yy.Relationships.VERIFIES;\n          break;\n        case 55:\n          this.$ = yy.Relationships.REFINES;\n          break;\n        case 56:\n          this.$ = yy.Relationships.TRACES;\n          break;\n        case 57:\n          this.$ = $$[$0 - 2];\n          yy.defineClass($$[$0 - 1], $$[$0]);\n          break;\n        case 58:\n          yy.setClass($$[$0 - 1], $$[$0]);\n          break;\n        case 59:\n          yy.setClass([$$[$0 - 2]], $$[$0]);\n          break;\n        case 60:\n        case 62:\n          this.$ = [$$[$0]];\n          break;\n        case 61:\n        case 63:\n          this.$ = $$[$0 - 2].concat([$$[$0]]);\n          break;\n        case 64:\n          this.$ = $$[$0 - 2];\n          yy.setCssStyle($$[$0 - 1], $$[$0]);\n          break;\n        case 65:\n          this.$ = [$$[$0]];\n          break;\n        case 66:\n          $$[$0 - 2].push($$[$0]);\n          this.$ = $$[$0 - 2];\n          break;\n        case 68:\n          this.$ = $$[$0 - 1] + $$[$0];\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 3: 1, 4: 2, 6: $V0, 9: $V1, 11: $V2, 13: $V3 }, { 1: [3] }, { 3: 8, 4: 2, 5: [1, 7], 6: $V0, 9: $V1, 11: $V2, 13: $V3 }, { 5: [1, 9] }, { 10: [1, 10] }, { 12: [1, 11] }, o($V4, [2, 6]), { 3: 12, 4: 2, 6: $V0, 9: $V1, 11: $V2, 13: $V3 }, { 1: [2, 2] }, { 4: 17, 5: $V5, 7: 13, 8: $V6, 9: $V1, 11: $V2, 13: $V3, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: $V7, 22: $V8, 23: $V9, 24: $Va, 25: 23, 33: 25, 41: $Vb, 42: $Vc, 43: $Vd, 44: $Ve, 45: $Vf, 46: $Vg, 54: $Vh, 72: $Vi, 74: $Vj, 77: $Vk, 89: $Vl, 90: $Vm }, o($V4, [2, 4]), o($V4, [2, 5]), { 1: [2, 1] }, { 8: [1, 41] }, { 4: 17, 5: $V5, 7: 42, 8: $V6, 9: $V1, 11: $V2, 13: $V3, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: $V7, 22: $V8, 23: $V9, 24: $Va, 25: 23, 33: 25, 41: $Vb, 42: $Vc, 43: $Vd, 44: $Ve, 45: $Vf, 46: $Vg, 54: $Vh, 72: $Vi, 74: $Vj, 77: $Vk, 89: $Vl, 90: $Vm }, { 4: 17, 5: $V5, 7: 43, 8: $V6, 9: $V1, 11: $V2, 13: $V3, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: $V7, 22: $V8, 23: $V9, 24: $Va, 25: 23, 33: 25, 41: $Vb, 42: $Vc, 43: $Vd, 44: $Ve, 45: $Vf, 46: $Vg, 54: $Vh, 72: $Vi, 74: $Vj, 77: $Vk, 89: $Vl, 90: $Vm }, { 4: 17, 5: $V5, 7: 44, 8: $V6, 9: $V1, 11: $V2, 13: $V3, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: $V7, 22: $V8, 23: $V9, 24: $Va, 25: 23, 33: 25, 41: $Vb, 42: $Vc, 43: $Vd, 44: $Ve, 45: $Vf, 46: $Vg, 54: $Vh, 72: $Vi, 74: $Vj, 77: $Vk, 89: $Vl, 90: $Vm }, { 4: 17, 5: $V5, 7: 45, 8: $V6, 9: $V1, 11: $V2, 13: $V3, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: $V7, 22: $V8, 23: $V9, 24: $Va, 25: 23, 33: 25, 41: $Vb, 42: $Vc, 43: $Vd, 44: $Ve, 45: $Vf, 46: $Vg, 54: $Vh, 72: $Vi, 74: $Vj, 77: $Vk, 89: $Vl, 90: $Vm }, { 4: 17, 5: $V5, 7: 46, 8: $V6, 9: $V1, 11: $V2, 13: $V3, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: $V7, 22: $V8, 23: $V9, 24: $Va, 25: 23, 33: 25, 41: $Vb, 42: $Vc, 43: $Vd, 44: $Ve, 45: $Vf, 46: $Vg, 54: $Vh, 72: $Vi, 74: $Vj, 77: $Vk, 89: $Vl, 90: $Vm }, { 4: 17, 5: $V5, 7: 47, 8: $V6, 9: $V1, 11: $V2, 13: $V3, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: $V7, 22: $V8, 23: $V9, 24: $Va, 25: 23, 33: 25, 41: $Vb, 42: $Vc, 43: $Vd, 44: $Ve, 45: $Vf, 46: $Vg, 54: $Vh, 72: $Vi, 74: $Vj, 77: $Vk, 89: $Vl, 90: $Vm }, { 4: 17, 5: $V5, 7: 48, 8: $V6, 9: $V1, 11: $V2, 13: $V3, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: $V7, 22: $V8, 23: $V9, 24: $Va, 25: 23, 33: 25, 41: $Vb, 42: $Vc, 43: $Vd, 44: $Ve, 45: $Vf, 46: $Vg, 54: $Vh, 72: $Vi, 74: $Vj, 77: $Vk, 89: $Vl, 90: $Vm }, { 4: 17, 5: $V5, 7: 49, 8: $V6, 9: $V1, 11: $V2, 13: $V3, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: $V7, 22: $V8, 23: $V9, 24: $Va, 25: 23, 33: 25, 41: $Vb, 42: $Vc, 43: $Vd, 44: $Ve, 45: $Vf, 46: $Vg, 54: $Vh, 72: $Vi, 74: $Vj, 77: $Vk, 89: $Vl, 90: $Vm }, { 4: 17, 5: $V5, 7: 50, 8: $V6, 9: $V1, 11: $V2, 13: $V3, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: $V7, 22: $V8, 23: $V9, 24: $Va, 25: 23, 33: 25, 41: $Vb, 42: $Vc, 43: $Vd, 44: $Ve, 45: $Vf, 46: $Vg, 54: $Vh, 72: $Vi, 74: $Vj, 77: $Vk, 89: $Vl, 90: $Vm }, { 26: 51, 89: [1, 52], 90: [1, 53] }, { 55: 54, 89: [1, 55], 90: [1, 56] }, { 29: [1, 59], 61: [1, 57], 63: [1, 58] }, o($Vn, [2, 17]), o($Vn, [2, 18]), o($Vn, [2, 19]), o($Vn, [2, 20]), { 30: 60, 33: 62, 75: $Vo, 89: $Vl, 90: $Vm }, { 30: 63, 33: 62, 75: $Vo, 89: $Vl, 90: $Vm }, { 30: 64, 33: 62, 75: $Vo, 89: $Vl, 90: $Vm }, o($Vp, [2, 29]), o($Vp, [2, 30]), o($Vp, [2, 31]), o($Vp, [2, 32]), o($Vp, [2, 33]), o($Vp, [2, 34]), o($Vq, [2, 81]), o($Vq, [2, 82]), { 1: [2, 3] }, { 8: [2, 8] }, { 8: [2, 9] }, { 8: [2, 10] }, { 8: [2, 11] }, { 8: [2, 12] }, { 8: [2, 13] }, { 8: [2, 14] }, { 8: [2, 15] }, { 8: [2, 16] }, { 27: [1, 65], 29: [1, 66] }, o($Vr, [2, 79]), o($Vr, [2, 80]), { 27: [1, 67], 29: [1, 68] }, o($Vr, [2, 85]), o($Vr, [2, 86]), { 62: 69, 65: $Vs, 66: $Vt, 67: $Vu, 68: $Vv, 69: $Vw, 70: $Vx, 71: $Vy }, { 62: 77, 65: $Vs, 66: $Vt, 67: $Vu, 68: $Vv, 69: $Vw, 70: $Vx, 71: $Vy }, { 30: 78, 33: 62, 75: $Vo, 89: $Vl, 90: $Vm }, { 73: 79, 75: $Vz, 76: $VA, 78: 81, 79: 82, 80: $VB, 81: $VC, 82: $VD, 83: $VE, 84: $VF, 85: $VG, 86: $VH, 87: $VI, 88: $VJ }, o($VK, [2, 60]), o($VK, [2, 62]), { 73: 93, 75: $Vz, 76: $VA, 78: 81, 79: 82, 80: $VB, 81: $VC, 82: $VD, 83: $VE, 84: $VF, 85: $VG, 86: $VH, 87: $VI, 88: $VJ }, { 30: 94, 33: 62, 75: $Vo, 76: $VA, 89: $Vl, 90: $Vm }, { 5: [1, 95] }, { 30: 96, 33: 62, 75: $Vo, 89: $Vl, 90: $Vm }, { 5: [1, 97] }, { 30: 98, 33: 62, 75: $Vo, 89: $Vl, 90: $Vm }, { 63: [1, 99] }, o($VL, [2, 50]), o($VL, [2, 51]), o($VL, [2, 52]), o($VL, [2, 53]), o($VL, [2, 54]), o($VL, [2, 55]), o($VL, [2, 56]), { 64: [1, 100] }, o($Vn, [2, 59], { 76: $VA }), o($Vn, [2, 64], { 76: $VM }), { 33: 103, 75: [1, 102], 89: $Vl, 90: $Vm }, o($VN, [2, 65], { 79: 104, 75: $Vz, 80: $VB, 81: $VC, 82: $VD, 83: $VE, 84: $VF, 85: $VG, 86: $VH, 87: $VI, 88: $VJ }), o($VO, [2, 67]), o($VO, [2, 69]), o($VO, [2, 70]), o($VO, [2, 71]), o($VO, [2, 72]), o($VO, [2, 73]), o($VO, [2, 74]), o($VO, [2, 75]), o($VO, [2, 76]), o($VO, [2, 77]), o($VO, [2, 78]), o($Vn, [2, 57], { 76: $VM }), o($Vn, [2, 58], { 76: $VA }), { 5: $VP, 28: 105, 31: $VQ, 34: $VR, 36: $VS, 38: $VT, 40: $VU }, { 27: [1, 112], 76: $VA }, { 5: $VV, 40: $VW, 56: 113, 57: $VX, 59: $VY }, { 27: [1, 118], 76: $VA }, { 33: 119, 89: $Vl, 90: $Vm }, { 33: 120, 89: $Vl, 90: $Vm }, { 75: $Vz, 78: 121, 79: 82, 80: $VB, 81: $VC, 82: $VD, 83: $VE, 84: $VF, 85: $VG, 86: $VH, 87: $VI, 88: $VJ }, o($VK, [2, 61]), o($VK, [2, 63]), o($VO, [2, 68]), o($Vn, [2, 21]), { 32: [1, 122] }, { 32: [1, 123] }, { 32: [1, 124] }, { 32: [1, 125] }, { 5: $VP, 28: 126, 31: $VQ, 34: $VR, 36: $VS, 38: $VT, 40: $VU }, o($Vn, [2, 28]), { 5: [1, 127] }, o($Vn, [2, 42]), { 32: [1, 128] }, { 32: [1, 129] }, { 5: $VV, 40: $VW, 56: 130, 57: $VX, 59: $VY }, o($Vn, [2, 47]), { 5: [1, 131] }, o($Vn, [2, 48]), o($Vn, [2, 49]), o($VN, [2, 66], { 79: 104, 75: $Vz, 80: $VB, 81: $VC, 82: $VD, 83: $VE, 84: $VF, 85: $VG, 86: $VH, 87: $VI, 88: $VJ }), { 33: 132, 89: $Vl, 90: $Vm }, { 35: 133, 89: [1, 134], 90: [1, 135] }, { 37: 136, 47: [1, 137], 48: [1, 138], 49: [1, 139] }, { 39: 140, 50: [1, 141], 51: [1, 142], 52: [1, 143], 53: [1, 144] }, o($Vn, [2, 27]), { 5: $VP, 28: 145, 31: $VQ, 34: $VR, 36: $VS, 38: $VT, 40: $VU }, { 58: 146, 89: [1, 147], 90: [1, 148] }, { 60: 149, 89: [1, 150], 90: [1, 151] }, o($Vn, [2, 46]), { 5: $VV, 40: $VW, 56: 152, 57: $VX, 59: $VY }, { 5: [1, 153] }, { 5: [1, 154] }, { 5: [2, 83] }, { 5: [2, 84] }, { 5: [1, 155] }, { 5: [2, 35] }, { 5: [2, 36] }, { 5: [2, 37] }, { 5: [1, 156] }, { 5: [2, 38] }, { 5: [2, 39] }, { 5: [2, 40] }, { 5: [2, 41] }, o($Vn, [2, 22]), { 5: [1, 157] }, { 5: [2, 87] }, { 5: [2, 88] }, { 5: [1, 158] }, { 5: [2, 89] }, { 5: [2, 90] }, o($Vn, [2, 43]), { 5: $VP, 28: 159, 31: $VQ, 34: $VR, 36: $VS, 38: $VT, 40: $VU }, { 5: $VP, 28: 160, 31: $VQ, 34: $VR, 36: $VS, 38: $VT, 40: $VU }, { 5: $VP, 28: 161, 31: $VQ, 34: $VR, 36: $VS, 38: $VT, 40: $VU }, { 5: $VP, 28: 162, 31: $VQ, 34: $VR, 36: $VS, 38: $VT, 40: $VU }, { 5: $VV, 40: $VW, 56: 163, 57: $VX, 59: $VY }, { 5: $VV, 40: $VW, 56: 164, 57: $VX, 59: $VY }, o($Vn, [2, 23]), o($Vn, [2, 24]), o($Vn, [2, 25]), o($Vn, [2, 26]), o($Vn, [2, 44]), o($Vn, [2, 45])],\n    defaultActions: { 8: [2, 2], 12: [2, 1], 41: [2, 3], 42: [2, 8], 43: [2, 9], 44: [2, 10], 45: [2, 11], 46: [2, 12], 47: [2, 13], 48: [2, 14], 49: [2, 15], 50: [2, 16], 134: [2, 83], 135: [2, 84], 137: [2, 35], 138: [2, 36], 139: [2, 37], 141: [2, 38], 142: [2, 39], 143: [2, 40], 144: [2, 41], 147: [2, 87], 148: [2, 88], 150: [2, 89], 151: [2, 90] },\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: { "case-insensitive": true },\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            return "title";\n            // removed by dead control flow\n\n          case 1:\n            this.begin("acc_title");\n            return 9;\n            // removed by dead control flow\n\n          case 2:\n            this.popState();\n            return "acc_title_value";\n            // removed by dead control flow\n\n          case 3:\n            this.begin("acc_descr");\n            return 11;\n            // removed by dead control flow\n\n          case 4:\n            this.popState();\n            return "acc_descr_value";\n            // removed by dead control flow\n\n          case 5:\n            this.begin("acc_descr_multiline");\n            break;\n          case 6:\n            this.popState();\n            break;\n          case 7:\n            return "acc_descr_multiline_value";\n            // removed by dead control flow\n\n          case 8:\n            return 21;\n            // removed by dead control flow\n\n          case 9:\n            return 22;\n            // removed by dead control flow\n\n          case 10:\n            return 23;\n            // removed by dead control flow\n\n          case 11:\n            return 24;\n            // removed by dead control flow\n\n          case 12:\n            return 5;\n            // removed by dead control flow\n\n          case 13:\n            break;\n          case 14:\n            break;\n          case 15:\n            break;\n          case 16:\n            return 8;\n            // removed by dead control flow\n\n          case 17:\n            return 6;\n            // removed by dead control flow\n\n          case 18:\n            return 27;\n            // removed by dead control flow\n\n          case 19:\n            return 40;\n            // removed by dead control flow\n\n          case 20:\n            return 29;\n            // removed by dead control flow\n\n          case 21:\n            return 32;\n            // removed by dead control flow\n\n          case 22:\n            return 31;\n            // removed by dead control flow\n\n          case 23:\n            return 34;\n            // removed by dead control flow\n\n          case 24:\n            return 36;\n            // removed by dead control flow\n\n          case 25:\n            return 38;\n            // removed by dead control flow\n\n          case 26:\n            return 41;\n            // removed by dead control flow\n\n          case 27:\n            return 42;\n            // removed by dead control flow\n\n          case 28:\n            return 43;\n            // removed by dead control flow\n\n          case 29:\n            return 44;\n            // removed by dead control flow\n\n          case 30:\n            return 45;\n            // removed by dead control flow\n\n          case 31:\n            return 46;\n            // removed by dead control flow\n\n          case 32:\n            return 47;\n            // removed by dead control flow\n\n          case 33:\n            return 48;\n            // removed by dead control flow\n\n          case 34:\n            return 49;\n            // removed by dead control flow\n\n          case 35:\n            return 50;\n            // removed by dead control flow\n\n          case 36:\n            return 51;\n            // removed by dead control flow\n\n          case 37:\n            return 52;\n            // removed by dead control flow\n\n          case 38:\n            return 53;\n            // removed by dead control flow\n\n          case 39:\n            return 54;\n            // removed by dead control flow\n\n          case 40:\n            return 65;\n            // removed by dead control flow\n\n          case 41:\n            return 66;\n            // removed by dead control flow\n\n          case 42:\n            return 67;\n            // removed by dead control flow\n\n          case 43:\n            return 68;\n            // removed by dead control flow\n\n          case 44:\n            return 69;\n            // removed by dead control flow\n\n          case 45:\n            return 70;\n            // removed by dead control flow\n\n          case 46:\n            return 71;\n            // removed by dead control flow\n\n          case 47:\n            return 57;\n            // removed by dead control flow\n\n          case 48:\n            return 59;\n            // removed by dead control flow\n\n          case 49:\n            this.begin("style");\n            return 77;\n            // removed by dead control flow\n\n          case 50:\n            return 75;\n            // removed by dead control flow\n\n          case 51:\n            return 81;\n            // removed by dead control flow\n\n          case 52:\n            return 88;\n            // removed by dead control flow\n\n          case 53:\n            return "PERCENT";\n            // removed by dead control flow\n\n          case 54:\n            return 86;\n            // removed by dead control flow\n\n          case 55:\n            return 84;\n            // removed by dead control flow\n\n          case 56:\n            break;\n          case 57:\n            this.begin("string");\n            break;\n          case 58:\n            this.popState();\n            break;\n          case 59:\n            this.begin("style");\n            return 72;\n            // removed by dead control flow\n\n          case 60:\n            this.begin("style");\n            return 74;\n            // removed by dead control flow\n\n          case 61:\n            return 61;\n            // removed by dead control flow\n\n          case 62:\n            return 64;\n            // removed by dead control flow\n\n          case 63:\n            return 63;\n            // removed by dead control flow\n\n          case 64:\n            this.begin("string");\n            break;\n          case 65:\n            this.popState();\n            break;\n          case 66:\n            return "qString";\n            // removed by dead control flow\n\n          case 67:\n            yy_.yytext = yy_.yytext.trim();\n            return 89;\n            // removed by dead control flow\n\n          case 68:\n            return 75;\n            // removed by dead control flow\n\n          case 69:\n            return 80;\n            // removed by dead control flow\n\n          case 70:\n            return 76;\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:title\\s[^#\\n;]+)/i, /^(?:accTitle\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*\\{\\s*)/i, /^(?:[\\}])/i, /^(?:[^\\}]*)/i, /^(?:.*direction\\s+TB[^\\n]*)/i, /^(?:.*direction\\s+BT[^\\n]*)/i, /^(?:.*direction\\s+RL[^\\n]*)/i, /^(?:.*direction\\s+LR[^\\n]*)/i, /^(?:(\\r?\\n)+)/i, /^(?:\\s+)/i, /^(?:#[^\\n]*)/i, /^(?:%[^\\n]*)/i, /^(?:$)/i, /^(?:requirementDiagram\\b)/i, /^(?:\\{)/i, /^(?:\\})/i, /^(?::{3})/i, /^(?::)/i, /^(?:id\\b)/i, /^(?:text\\b)/i, /^(?:risk\\b)/i, /^(?:verifyMethod\\b)/i, /^(?:requirement\\b)/i, /^(?:functionalRequirement\\b)/i, /^(?:interfaceRequirement\\b)/i, /^(?:performanceRequirement\\b)/i, /^(?:physicalRequirement\\b)/i, /^(?:designConstraint\\b)/i, /^(?:low\\b)/i, /^(?:medium\\b)/i, /^(?:high\\b)/i, /^(?:analysis\\b)/i, /^(?:demonstration\\b)/i, /^(?:inspection\\b)/i, /^(?:test\\b)/i, /^(?:element\\b)/i, /^(?:contains\\b)/i, /^(?:copies\\b)/i, /^(?:derives\\b)/i, /^(?:satisfies\\b)/i, /^(?:verifies\\b)/i, /^(?:refines\\b)/i, /^(?:traces\\b)/i, /^(?:type\\b)/i, /^(?:docref\\b)/i, /^(?:style\\b)/i, /^(?:\\w+)/i, /^(?::)/i, /^(?:;)/i, /^(?:%)/i, /^(?:-)/i, /^(?:#)/i, /^(?: )/i, /^(?:["])/i, /^(?:\\n)/i, /^(?:classDef\\b)/i, /^(?:class\\b)/i, /^(?:<-)/i, /^(?:->)/i, /^(?:-)/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[\\w][^:,\\r\\n\\{\\<\\>\\-\\=]*)/i, /^(?:\\w+)/i, /^(?:[0-9]+)/i, /^(?:,)/i],\n      conditions: { "acc_descr_multiline": { "rules": [6, 7, 68, 69, 70], "inclusive": false }, "acc_descr": { "rules": [4, 68, 69, 70], "inclusive": false }, "acc_title": { "rules": [2, 68, 69, 70], "inclusive": false }, "style": { "rules": [50, 51, 52, 53, 54, 55, 56, 57, 58, 68, 69, 70], "inclusive": false }, "unqString": { "rules": [68, 69, 70], "inclusive": false }, "token": { "rules": [68, 69, 70], "inclusive": false }, "string": { "rules": [65, 66, 68, 69, 70], "inclusive": false }, "INITIAL": { "rules": [0, 1, 3, 5, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 59, 60, 61, 62, 63, 64, 67, 68, 69, 70], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar requirementDiagram_default = parser;\n\n// src/diagrams/requirement/requirementDb.ts\nvar RequirementDB = class {\n  constructor() {\n    this.relations = [];\n    this.latestRequirement = this.getInitialRequirement();\n    this.requirements = /* @__PURE__ */ new Map();\n    this.latestElement = this.getInitialElement();\n    this.elements = /* @__PURE__ */ new Map();\n    this.classes = /* @__PURE__ */ new Map();\n    this.direction = "TB";\n    this.RequirementType = {\n      REQUIREMENT: "Requirement",\n      FUNCTIONAL_REQUIREMENT: "Functional Requirement",\n      INTERFACE_REQUIREMENT: "Interface Requirement",\n      PERFORMANCE_REQUIREMENT: "Performance Requirement",\n      PHYSICAL_REQUIREMENT: "Physical Requirement",\n      DESIGN_CONSTRAINT: "Design Constraint"\n    };\n    this.RiskLevel = {\n      LOW_RISK: "Low",\n      MED_RISK: "Medium",\n      HIGH_RISK: "High"\n    };\n    this.VerifyType = {\n      VERIFY_ANALYSIS: "Analysis",\n      VERIFY_DEMONSTRATION: "Demonstration",\n      VERIFY_INSPECTION: "Inspection",\n      VERIFY_TEST: "Test"\n    };\n    this.Relationships = {\n      CONTAINS: "contains",\n      COPIES: "copies",\n      DERIVES: "derives",\n      SATISFIES: "satisfies",\n      VERIFIES: "verifies",\n      REFINES: "refines",\n      TRACES: "traces"\n    };\n    this.setAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.setAccTitle;\n    this.getAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getAccTitle;\n    this.setAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.setAccDescription;\n    this.getAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getAccDescription;\n    this.setDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.setDiagramTitle;\n    this.getDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getDiagramTitle;\n    this.getConfig = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(() => (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getConfig2)().requirement, "getConfig");\n    this.clear();\n    this.setDirection = this.setDirection.bind(this);\n    this.addRequirement = this.addRequirement.bind(this);\n    this.setNewReqId = this.setNewReqId.bind(this);\n    this.setNewReqRisk = this.setNewReqRisk.bind(this);\n    this.setNewReqText = this.setNewReqText.bind(this);\n    this.setNewReqVerifyMethod = this.setNewReqVerifyMethod.bind(this);\n    this.addElement = this.addElement.bind(this);\n    this.setNewElementType = this.setNewElementType.bind(this);\n    this.setNewElementDocRef = this.setNewElementDocRef.bind(this);\n    this.addRelationship = this.addRelationship.bind(this);\n    this.setCssStyle = this.setCssStyle.bind(this);\n    this.setClass = this.setClass.bind(this);\n    this.defineClass = this.defineClass.bind(this);\n    this.setAccTitle = this.setAccTitle.bind(this);\n    this.setAccDescription = this.setAccDescription.bind(this);\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(this, "RequirementDB");\n  }\n  getDirection() {\n    return this.direction;\n  }\n  setDirection(dir) {\n    this.direction = dir;\n  }\n  resetLatestRequirement() {\n    this.latestRequirement = this.getInitialRequirement();\n  }\n  resetLatestElement() {\n    this.latestElement = this.getInitialElement();\n  }\n  getInitialRequirement() {\n    return {\n      requirementId: "",\n      text: "",\n      risk: "",\n      verifyMethod: "",\n      name: "",\n      type: "",\n      cssStyles: [],\n      classes: ["default"]\n    };\n  }\n  getInitialElement() {\n    return {\n      name: "",\n      type: "",\n      docRef: "",\n      cssStyles: [],\n      classes: ["default"]\n    };\n  }\n  addRequirement(name, type) {\n    if (!this.requirements.has(name)) {\n      this.requirements.set(name, {\n        name,\n        type,\n        requirementId: this.latestRequirement.requirementId,\n        text: this.latestRequirement.text,\n        risk: this.latestRequirement.risk,\n        verifyMethod: this.latestRequirement.verifyMethod,\n        cssStyles: [],\n        classes: ["default"]\n      });\n    }\n    this.resetLatestRequirement();\n    return this.requirements.get(name);\n  }\n  getRequirements() {\n    return this.requirements;\n  }\n  setNewReqId(id) {\n    if (this.latestRequirement !== void 0) {\n      this.latestRequirement.requirementId = id;\n    }\n  }\n  setNewReqText(text) {\n    if (this.latestRequirement !== void 0) {\n      this.latestRequirement.text = text;\n    }\n  }\n  setNewReqRisk(risk) {\n    if (this.latestRequirement !== void 0) {\n      this.latestRequirement.risk = risk;\n    }\n  }\n  setNewReqVerifyMethod(verifyMethod) {\n    if (this.latestRequirement !== void 0) {\n      this.latestRequirement.verifyMethod = verifyMethod;\n    }\n  }\n  addElement(name) {\n    if (!this.elements.has(name)) {\n      this.elements.set(name, {\n        name,\n        type: this.latestElement.type,\n        docRef: this.latestElement.docRef,\n        cssStyles: [],\n        classes: ["default"]\n      });\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log.info("Added new element: ", name);\n    }\n    this.resetLatestElement();\n    return this.elements.get(name);\n  }\n  getElements() {\n    return this.elements;\n  }\n  setNewElementType(type) {\n    if (this.latestElement !== void 0) {\n      this.latestElement.type = type;\n    }\n  }\n  setNewElementDocRef(docRef) {\n    if (this.latestElement !== void 0) {\n      this.latestElement.docRef = docRef;\n    }\n  }\n  addRelationship(type, src, dst) {\n    this.relations.push({\n      type,\n      src,\n      dst\n    });\n  }\n  getRelationships() {\n    return this.relations;\n  }\n  clear() {\n    this.relations = [];\n    this.resetLatestRequirement();\n    this.requirements = /* @__PURE__ */ new Map();\n    this.resetLatestElement();\n    this.elements = /* @__PURE__ */ new Map();\n    this.classes = /* @__PURE__ */ new Map();\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.clear)();\n  }\n  setCssStyle(ids, styles) {\n    for (const id of ids) {\n      const node = this.requirements.get(id) ?? this.elements.get(id);\n      if (!styles || !node) {\n        return;\n      }\n      for (const s of styles) {\n        if (s.includes(",")) {\n          node.cssStyles.push(...s.split(","));\n        } else {\n          node.cssStyles.push(s);\n        }\n      }\n    }\n  }\n  setClass(ids, classNames) {\n    for (const id of ids) {\n      const node = this.requirements.get(id) ?? this.elements.get(id);\n      if (node) {\n        for (const _class of classNames) {\n          node.classes.push(_class);\n          const styles = this.classes.get(_class)?.styles;\n          if (styles) {\n            node.cssStyles.push(...styles);\n          }\n        }\n      }\n    }\n  }\n  defineClass(ids, style) {\n    for (const id of ids) {\n      let styleClass = this.classes.get(id);\n      if (styleClass === void 0) {\n        styleClass = { id, styles: [], textStyles: [] };\n        this.classes.set(id, styleClass);\n      }\n      if (style) {\n        style.forEach(function(s) {\n          if (/color/.exec(s)) {\n            const newStyle = s.replace("fill", "bgFill");\n            styleClass.textStyles.push(newStyle);\n          }\n          styleClass.styles.push(s);\n        });\n      }\n      this.requirements.forEach((value) => {\n        if (value.classes.includes(id)) {\n          value.cssStyles.push(...style.flatMap((s) => s.split(",")));\n        }\n      });\n      this.elements.forEach((value) => {\n        if (value.classes.includes(id)) {\n          value.cssStyles.push(...style.flatMap((s) => s.split(",")));\n        }\n      });\n    }\n  }\n  getClasses() {\n    return this.classes;\n  }\n  getData() {\n    const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getConfig2)();\n    const nodes = [];\n    const edges = [];\n    for (const requirement of this.requirements.values()) {\n      const node = requirement;\n      node.id = requirement.name;\n      node.cssStyles = requirement.cssStyles;\n      node.cssClasses = requirement.classes.join(" ");\n      node.shape = "requirementBox";\n      node.look = config.look;\n      nodes.push(node);\n    }\n    for (const element of this.elements.values()) {\n      const node = element;\n      node.shape = "requirementBox";\n      node.look = config.look;\n      node.id = element.name;\n      node.cssStyles = element.cssStyles;\n      node.cssClasses = element.classes.join(" ");\n      nodes.push(node);\n    }\n    for (const relation of this.relations) {\n      let counter = 0;\n      const isContains = relation.type === this.Relationships.CONTAINS;\n      const edge = {\n        id: `${relation.src}-${relation.dst}-${counter}`,\n        start: this.requirements.get(relation.src)?.name ?? this.elements.get(relation.src)?.name,\n        end: this.requirements.get(relation.dst)?.name ?? this.elements.get(relation.dst)?.name,\n        label: `&lt;&lt;${relation.type}&gt;&gt;`,\n        classes: "relationshipLine",\n        style: ["fill:none", isContains ? "" : "stroke-dasharray: 10,7"],\n        labelpos: "c",\n        thickness: "normal",\n        type: "normal",\n        pattern: isContains ? "normal" : "dashed",\n        arrowTypeStart: isContains ? "requirement_contains" : "",\n        arrowTypeEnd: isContains ? "" : "requirement_arrow",\n        look: config.look\n      };\n      edges.push(edge);\n      counter++;\n    }\n    return { nodes, edges, other: {}, config, direction: this.getDirection() };\n  }\n};\n\n// src/diagrams/requirement/styles.js\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)((options) => `\n\n  marker {\n    fill: ${options.relationColor};\n    stroke: ${options.relationColor};\n  }\n\n  marker.cross {\n    stroke: ${options.lineColor};\n  }\n\n  svg {\n    font-family: ${options.fontFamily};\n    font-size: ${options.fontSize};\n  }\n\n  .reqBox {\n    fill: ${options.requirementBackground};\n    fill-opacity: 1.0;\n    stroke: ${options.requirementBorderColor};\n    stroke-width: ${options.requirementBorderSize};\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ${options.requirementTextColor};\n  }\n  .reqLabelBox {\n    fill: ${options.relationLabelBackground};\n    fill-opacity: 1.0;\n  }\n\n  .req-title-line {\n    stroke: ${options.requirementBorderColor};\n    stroke-width: ${options.requirementBorderSize};\n  }\n  .relationshipLine {\n    stroke: ${options.relationColor};\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ${options.relationLabelColor};\n  }\n  .divider {\n    stroke: ${options.nodeBorder};\n    stroke-width: 1;\n  }\n  .label {\n    font-family: ${options.fontFamily};\n    color: ${options.nodeTextColor || options.textColor};\n  }\n  .label text,span {\n    fill: ${options.nodeTextColor || options.textColor};\n    color: ${options.nodeTextColor || options.textColor};\n  }\n  .labelBkg {\n    background-color: ${options.edgeLabelBackground};\n  }\n\n`, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/requirement/requirementRenderer.ts\nvar requirementRenderer_exports = {};\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__export)(requirementRenderer_exports, {\n  draw: () => draw\n});\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.__name)(async function(text, id, _version, diag) {\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log.info("REF0:");\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_11__.log.info("Drawing requirement diagram (unified)", id);\n  const { securityLevel, state: conf, layout } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_10__.getConfig2)();\n  const data4Layout = diag.db.getData();\n  const svg = (0,_chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_0__.getDiagramElement)(id, securityLevel);\n  data4Layout.type = diag.type;\n  data4Layout.layoutAlgorithm = (0,_chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_2__.getRegisteredLayoutAlgorithm)(layout);\n  data4Layout.nodeSpacing = conf?.nodeSpacing ?? 50;\n  data4Layout.rankSpacing = conf?.rankSpacing ?? 50;\n  data4Layout.markers = ["requirement_contains", "requirement_arrow"];\n  data4Layout.diagramId = id;\n  await (0,_chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_2__.render)(data4Layout, svg);\n  const padding = 8;\n  _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_9__.utils_default.insertTitle(\n    svg,\n    "requirementDiagramTitleText",\n    conf?.titleTopMargin ?? 25,\n    diag.db.getDiagramTitle()\n  );\n  (0,_chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_1__.setupViewPortForSVG)(svg, padding, "requirementDiagram", conf?.useMaxWidth ?? true);\n}, "draw");\n\n// src/diagrams/requirement/requirementDiagram.ts\nvar diagram = {\n  parser: requirementDiagram_default,\n  get db() {\n    return new RequirementDB();\n  },\n  renderer: requirementRenderer_exports,\n  styles: styles_default\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/requirementDiagram-UZGBJVZJ.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/sankeyDiagram-TZEHDZUN.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n/* harmony import */ var d3_sankey__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3-sankey */ "./node_modules/d3-sankey/src/sankey.js");\n/* harmony import */ var d3_sankey__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! d3-sankey */ "./node_modules/d3-sankey/src/align.js");\n/* harmony import */ var d3_sankey__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! d3-sankey */ "./node_modules/d3-sankey/src/sankeyLinkHorizontal.js");\n\n\n\n// src/diagrams/sankey/parser/sankey.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [1, 9], $V1 = [1, 10], $V2 = [1, 5, 10, 12];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "start": 3, "SANKEY": 4, "NEWLINE": 5, "csv": 6, "opt_eof": 7, "record": 8, "csv_tail": 9, "EOF": 10, "field[source]": 11, "COMMA": 12, "field[target]": 13, "field[value]": 14, "field": 15, "escaped": 16, "non_escaped": 17, "DQUOTE": 18, "ESCAPED_TEXT": 19, "NON_ESCAPED_TEXT": 20, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 4: "SANKEY", 5: "NEWLINE", 10: "EOF", 11: "field[source]", 12: "COMMA", 13: "field[target]", 14: "field[value]", 18: "DQUOTE", 19: "ESCAPED_TEXT", 20: "NON_ESCAPED_TEXT" },\n    productions_: [0, [3, 4], [6, 2], [9, 2], [9, 0], [7, 1], [7, 0], [8, 5], [15, 1], [15, 1], [16, 3], [17, 1]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 7:\n          const source = yy.findOrCreateNode($$[$0 - 4].trim().replaceAll(\'""\', \'"\'));\n          const target = yy.findOrCreateNode($$[$0 - 2].trim().replaceAll(\'""\', \'"\'));\n          const value = parseFloat($$[$0].trim());\n          yy.addLink(source, target, value);\n          break;\n        case 8:\n        case 9:\n        case 11:\n          this.$ = $$[$0];\n          break;\n        case 10:\n          this.$ = $$[$0 - 1];\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, { 5: [1, 3] }, { 6: 4, 8: 5, 15: 6, 16: 7, 17: 8, 18: $V0, 20: $V1 }, { 1: [2, 6], 7: 11, 10: [1, 12] }, o($V1, [2, 4], { 9: 13, 5: [1, 14] }), { 12: [1, 15] }, o($V2, [2, 8]), o($V2, [2, 9]), { 19: [1, 16] }, o($V2, [2, 11]), { 1: [2, 1] }, { 1: [2, 5] }, o($V1, [2, 2]), { 6: 17, 8: 5, 15: 6, 16: 7, 17: 8, 18: $V0, 20: $V1 }, { 15: 18, 16: 7, 17: 8, 18: $V0, 20: $V1 }, { 18: [1, 19] }, o($V1, [2, 3]), { 12: [1, 20] }, o($V2, [2, 10]), { 15: 21, 16: 7, 17: 8, 18: $V0, 20: $V1 }, o([1, 5, 10], [2, 7])],\n    defaultActions: { 11: [2, 1], 12: [2, 5] },\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: { "case-insensitive": true },\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            this.pushState("csv");\n            return 4;\n            // removed by dead control flow\n\n          case 1:\n            this.pushState("csv");\n            return 4;\n            // removed by dead control flow\n\n          case 2:\n            return 10;\n            // removed by dead control flow\n\n          case 3:\n            return 5;\n            // removed by dead control flow\n\n          case 4:\n            return 12;\n            // removed by dead control flow\n\n          case 5:\n            this.pushState("escaped_text");\n            return 18;\n            // removed by dead control flow\n\n          case 6:\n            return 20;\n            // removed by dead control flow\n\n          case 7:\n            this.popState("escaped_text");\n            return 18;\n            // removed by dead control flow\n\n          case 8:\n            return 19;\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:sankey-beta\\b)/i, /^(?:sankey\\b)/i, /^(?:$)/i, /^(?:((\\u000D\\u000A)|(\\u000A)))/i, /^(?:(\\u002C))/i, /^(?:(\\u0022))/i, /^(?:([\\u0020-\\u0021\\u0023-\\u002B\\u002D-\\u007E])*)/i, /^(?:(\\u0022)(?!(\\u0022)))/i, /^(?:(([\\u0020-\\u0021\\u0023-\\u002B\\u002D-\\u007E])|(\\u002C)|(\\u000D)|(\\u000A)|(\\u0022)(\\u0022))*)/i],\n      conditions: { "csv": { "rules": [2, 3, 4, 5, 6, 7, 8], "inclusive": false }, "escaped_text": { "rules": [7, 8], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 3, 4, 5, 6, 7, 8], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar sankey_default = parser;\n\n// src/diagrams/sankey/sankeyDB.ts\nvar links = [];\nvar nodes = [];\nvar nodesMap = /* @__PURE__ */ new Map();\nvar clear2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(() => {\n  links = [];\n  nodes = [];\n  nodesMap = /* @__PURE__ */ new Map();\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.clear)();\n}, "clear");\nvar SankeyLink = class {\n  constructor(source, target, value = 0) {\n    this.source = source;\n    this.target = target;\n    this.value = value;\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(this, "SankeyLink");\n  }\n};\nvar addLink = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((source, target, value) => {\n  links.push(new SankeyLink(source, target, value));\n}, "addLink");\nvar SankeyNode = class {\n  constructor(ID) {\n    this.ID = ID;\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(this, "SankeyNode");\n  }\n};\nvar findOrCreateNode = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((ID) => {\n  ID = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.common_default.sanitizeText(ID, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getConfig2)());\n  let node = nodesMap.get(ID);\n  if (node === void 0) {\n    node = new SankeyNode(ID);\n    nodesMap.set(ID, node);\n    nodes.push(node);\n  }\n  return node;\n}, "findOrCreateNode");\nvar getNodes = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(() => nodes, "getNodes");\nvar getLinks = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(() => links, "getLinks");\nvar getGraph = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(() => ({\n  nodes: nodes.map((node) => ({ id: node.ID })),\n  links: links.map((link) => ({\n    source: link.source.ID,\n    target: link.target.ID,\n    value: link.value\n  }))\n}), "getGraph");\nvar sankeyDB_default = {\n  nodesMap,\n  getConfig: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(() => (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getConfig2)().sankey, "getConfig"),\n  getNodes,\n  getLinks,\n  getGraph,\n  addLink,\n  findOrCreateNode,\n  getAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getAccTitle,\n  setAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.setAccTitle,\n  getAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getAccDescription,\n  setAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.setAccDescription,\n  getDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getDiagramTitle,\n  setDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.setDiagramTitle,\n  clear: clear2\n};\n\n// src/diagrams/sankey/sankeyRenderer.ts\n\n\n\n// src/rendering-util/uid.ts\nvar Uid = class _Uid {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(this, "Uid");\n  }\n  static {\n    this.count = 0;\n  }\n  static next(name) {\n    return new _Uid(name + ++_Uid.count);\n  }\n  constructor(id) {\n    this.id = id;\n    this.href = `#${id}`;\n  }\n  toString() {\n    return "url(" + this.href + ")";\n  }\n};\n\n// src/diagrams/sankey/sankeyRenderer.ts\nvar alignmentsMap = {\n  left: d3_sankey__WEBPACK_IMPORTED_MODULE_4__.left,\n  right: d3_sankey__WEBPACK_IMPORTED_MODULE_4__.right,\n  center: d3_sankey__WEBPACK_IMPORTED_MODULE_4__.center,\n  justify: d3_sankey__WEBPACK_IMPORTED_MODULE_4__.justify\n};\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(text, id, _version, diagObj) {\n  const { securityLevel, sankey: conf } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getConfig2)();\n  const defaultSankeyConfig = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultConfig2.sankey;\n  let sandboxElement;\n  if (securityLevel === "sandbox") {\n    sandboxElement = (0,d3__WEBPACK_IMPORTED_MODULE_2__.select)("#i" + id);\n  }\n  const root = securityLevel === "sandbox" ? (0,d3__WEBPACK_IMPORTED_MODULE_2__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0,d3__WEBPACK_IMPORTED_MODULE_2__.select)("body");\n  const svg = securityLevel === "sandbox" ? root.select(`[id="${id}"]`) : (0,d3__WEBPACK_IMPORTED_MODULE_2__.select)(`[id="${id}"]`);\n  const width = conf?.width ?? defaultSankeyConfig.width;\n  const height = conf?.height ?? defaultSankeyConfig.width;\n  const useMaxWidth = conf?.useMaxWidth ?? defaultSankeyConfig.useMaxWidth;\n  const nodeAlignment = conf?.nodeAlignment ?? defaultSankeyConfig.nodeAlignment;\n  const prefix = conf?.prefix ?? defaultSankeyConfig.prefix;\n  const suffix = conf?.suffix ?? defaultSankeyConfig.suffix;\n  const showValues = conf?.showValues ?? defaultSankeyConfig.showValues;\n  const graph = diagObj.db.getGraph();\n  const nodeAlign = alignmentsMap[nodeAlignment];\n  const nodeWidth = 10;\n  const sankey = (0,d3_sankey__WEBPACK_IMPORTED_MODULE_3__["default"])().nodeId((d) => d.id).nodeWidth(nodeWidth).nodePadding(10 + (showValues ? 15 : 0)).nodeAlign(nodeAlign).extent([\n    [0, 0],\n    [width, height]\n  ]);\n  sankey(graph);\n  const colorScheme = (0,d3__WEBPACK_IMPORTED_MODULE_2__.scaleOrdinal)(d3__WEBPACK_IMPORTED_MODULE_2__.schemeTableau10);\n  svg.append("g").attr("class", "nodes").selectAll(".node").data(graph.nodes).join("g").attr("class", "node").attr("id", (d) => (d.uid = Uid.next("node-")).id).attr("transform", function(d) {\n    return "translate(" + d.x0 + "," + d.y0 + ")";\n  }).attr("x", (d) => d.x0).attr("y", (d) => d.y0).append("rect").attr("height", (d) => {\n    return d.y1 - d.y0;\n  }).attr("width", (d) => d.x1 - d.x0).attr("fill", (d) => colorScheme(d.id));\n  const getText = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(({ id: id2, value }) => {\n    if (!showValues) {\n      return id2;\n    }\n    return `${id2}\n${prefix}${Math.round(value * 100) / 100}${suffix}`;\n  }, "getText");\n  svg.append("g").attr("class", "node-labels").attr("font-size", 14).selectAll("text").data(graph.nodes).join("text").attr("x", (d) => d.x0 < width / 2 ? d.x1 + 6 : d.x0 - 6).attr("y", (d) => (d.y1 + d.y0) / 2).attr("dy", `${showValues ? "0" : "0.35"}em`).attr("text-anchor", (d) => d.x0 < width / 2 ? "start" : "end").text(getText);\n  const link = svg.append("g").attr("class", "links").attr("fill", "none").attr("stroke-opacity", 0.5).selectAll(".link").data(graph.links).join("g").attr("class", "link").style("mix-blend-mode", "multiply");\n  const linkColor = conf?.linkColor ?? "gradient";\n  if (linkColor === "gradient") {\n    const gradient = link.append("linearGradient").attr("id", (d) => (d.uid = Uid.next("linearGradient-")).id).attr("gradientUnits", "userSpaceOnUse").attr("x1", (d) => d.source.x1).attr("x2", (d) => d.target.x0);\n    gradient.append("stop").attr("offset", "0%").attr("stop-color", (d) => colorScheme(d.source.id));\n    gradient.append("stop").attr("offset", "100%").attr("stop-color", (d) => colorScheme(d.target.id));\n  }\n  let coloring;\n  switch (linkColor) {\n    case "gradient":\n      coloring = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((d) => d.uid, "coloring");\n      break;\n    case "source":\n      coloring = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((d) => colorScheme(d.source.id), "coloring");\n      break;\n    case "target":\n      coloring = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((d) => colorScheme(d.target.id), "coloring");\n      break;\n    default:\n      coloring = linkColor;\n  }\n  link.append("path").attr("d", (0,d3_sankey__WEBPACK_IMPORTED_MODULE_5__["default"])()).attr("stroke", coloring).attr("stroke-width", (d) => Math.max(1, d.width));\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.setupGraphViewbox)(void 0, svg, 0, useMaxWidth);\n}, "draw");\nvar sankeyRenderer_default = {\n  draw\n};\n\n// src/diagrams/sankey/sankeyUtils.ts\nvar prepareTextForParsing = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((text) => {\n  const textToParse = text.replaceAll(/^[^\\S\\n\\r]+|[^\\S\\n\\r]+$/g, "").replaceAll(/([\\n\\r])+/g, "\\n").trim();\n  return textToParse;\n}, "prepareTextForParsing");\n\n// src/diagrams/sankey/styles.js\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((options) => `.label {\n      font-family: ${options.fontFamily};\n    }`, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/sankey/sankeyDiagram.ts\nvar originalParse = sankey_default.parse.bind(sankey_default);\nsankey_default.parse = (text) => originalParse(prepareTextForParsing(text));\nvar diagram = {\n  styles: styles_default,\n  parser: sankey_default,\n  db: sankeyDB_default,\n  renderer: sankeyRenderer_default\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/sankeyDiagram-TZEHDZUN.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/sequenceDiagram-WL72ISMW.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-TZMSLE5B.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-TZMSLE5B.mjs");\n/* harmony import */ var _chunk_MI3HLSF2_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-MI3HLSF2.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-MI3HLSF2.mjs");\n/* harmony import */ var _chunk_QZHKN3VN_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-QZHKN3VN.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QZHKN3VN.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n/* harmony import */ var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @braintree/sanitize-url */ "./node_modules/@braintree/sanitize-url/dist/index.js");\n\n\n\n\n\n\n\n// src/diagrams/sequence/parser/sequenceDiagram.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [1, 2], $V1 = [1, 3], $V2 = [1, 4], $V3 = [2, 4], $V4 = [1, 9], $V5 = [1, 11], $V6 = [1, 13], $V7 = [1, 14], $V8 = [1, 16], $V9 = [1, 17], $Va = [1, 18], $Vb = [1, 24], $Vc = [1, 25], $Vd = [1, 26], $Ve = [1, 27], $Vf = [1, 28], $Vg = [1, 29], $Vh = [1, 30], $Vi = [1, 31], $Vj = [1, 32], $Vk = [1, 33], $Vl = [1, 34], $Vm = [1, 35], $Vn = [1, 36], $Vo = [1, 37], $Vp = [1, 38], $Vq = [1, 39], $Vr = [1, 41], $Vs = [1, 42], $Vt = [1, 43], $Vu = [1, 44], $Vv = [1, 45], $Vw = [1, 46], $Vx = [1, 4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 47, 48, 49, 50, 52, 53, 55, 60, 61, 62, 63, 71], $Vy = [2, 71], $Vz = [4, 5, 16, 50, 52, 53], $VA = [4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 50, 52, 53, 55, 60, 61, 62, 63, 71], $VB = [4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 49, 50, 52, 53, 55, 60, 61, 62, 63, 71], $VC = [4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 48, 50, 52, 53, 55, 60, 61, 62, 63, 71], $VD = [4, 5, 13, 14, 16, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 47, 50, 52, 53, 55, 60, 61, 62, 63, 71], $VE = [69, 70, 71], $VF = [1, 127];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "start": 3, "SPACE": 4, "NEWLINE": 5, "SD": 6, "document": 7, "line": 8, "statement": 9, "box_section": 10, "box_line": 11, "participant_statement": 12, "create": 13, "box": 14, "restOfLine": 15, "end": 16, "signal": 17, "autonumber": 18, "NUM": 19, "off": 20, "activate": 21, "actor": 22, "deactivate": 23, "note_statement": 24, "links_statement": 25, "link_statement": 26, "properties_statement": 27, "details_statement": 28, "title": 29, "legacy_title": 30, "acc_title": 31, "acc_title_value": 32, "acc_descr": 33, "acc_descr_value": 34, "acc_descr_multiline_value": 35, "loop": 36, "rect": 37, "opt": 38, "alt": 39, "else_sections": 40, "par": 41, "par_sections": 42, "par_over": 43, "critical": 44, "option_sections": 45, "break": 46, "option": 47, "and": 48, "else": 49, "participant": 50, "AS": 51, "participant_actor": 52, "destroy": 53, "actor_with_config": 54, "note": 55, "placement": 56, "text2": 57, "over": 58, "actor_pair": 59, "links": 60, "link": 61, "properties": 62, "details": 63, "spaceList": 64, ",": 65, "left_of": 66, "right_of": 67, "signaltype": 68, "+": 69, "-": 70, "ACTOR": 71, "config_object": 72, "CONFIG_START": 73, "CONFIG_CONTENT": 74, "CONFIG_END": 75, "SOLID_OPEN_ARROW": 76, "DOTTED_OPEN_ARROW": 77, "SOLID_ARROW": 78, "BIDIRECTIONAL_SOLID_ARROW": 79, "DOTTED_ARROW": 80, "BIDIRECTIONAL_DOTTED_ARROW": 81, "SOLID_CROSS": 82, "DOTTED_CROSS": 83, "SOLID_POINT": 84, "DOTTED_POINT": 85, "TXT": 86, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 4: "SPACE", 5: "NEWLINE", 6: "SD", 13: "create", 14: "box", 15: "restOfLine", 16: "end", 18: "autonumber", 19: "NUM", 20: "off", 21: "activate", 23: "deactivate", 29: "title", 30: "legacy_title", 31: "acc_title", 32: "acc_title_value", 33: "acc_descr", 34: "acc_descr_value", 35: "acc_descr_multiline_value", 36: "loop", 37: "rect", 38: "opt", 39: "alt", 41: "par", 43: "par_over", 44: "critical", 46: "break", 47: "option", 48: "and", 49: "else", 50: "participant", 51: "AS", 52: "participant_actor", 53: "destroy", 55: "note", 58: "over", 60: "links", 61: "link", 62: "properties", 63: "details", 65: ",", 66: "left_of", 67: "right_of", 69: "+", 70: "-", 71: "ACTOR", 73: "CONFIG_START", 74: "CONFIG_CONTENT", 75: "CONFIG_END", 76: "SOLID_OPEN_ARROW", 77: "DOTTED_OPEN_ARROW", 78: "SOLID_ARROW", 79: "BIDIRECTIONAL_SOLID_ARROW", 80: "DOTTED_ARROW", 81: "BIDIRECTIONAL_DOTTED_ARROW", 82: "SOLID_CROSS", 83: "DOTTED_CROSS", 84: "SOLID_POINT", 85: "DOTTED_POINT", 86: "TXT" },\n    productions_: [0, [3, 2], [3, 2], [3, 2], [7, 0], [7, 2], [8, 2], [8, 1], [8, 1], [10, 0], [10, 2], [11, 2], [11, 1], [11, 1], [9, 1], [9, 2], [9, 4], [9, 2], [9, 4], [9, 3], [9, 3], [9, 2], [9, 3], [9, 3], [9, 2], [9, 2], [9, 2], [9, 2], [9, 2], [9, 1], [9, 1], [9, 2], [9, 2], [9, 1], [9, 4], [9, 4], [9, 4], [9, 4], [9, 4], [9, 4], [9, 4], [9, 4], [45, 1], [45, 4], [42, 1], [42, 4], [40, 1], [40, 4], [12, 5], [12, 3], [12, 5], [12, 3], [12, 3], [12, 3], [24, 4], [24, 4], [25, 3], [26, 3], [27, 3], [28, 3], [64, 2], [64, 1], [59, 3], [59, 1], [56, 1], [56, 1], [17, 5], [17, 5], [17, 4], [54, 2], [72, 3], [22, 1], [68, 1], [68, 1], [68, 1], [68, 1], [68, 1], [68, 1], [68, 1], [68, 1], [68, 1], [68, 1], [57, 1]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 3:\n          yy.apply($$[$0]);\n          return $$[$0];\n          // removed by dead control flow\n\n        case 4:\n        case 9:\n          this.$ = [];\n          break;\n        case 5:\n        case 10:\n          $$[$0 - 1].push($$[$0]);\n          this.$ = $$[$0 - 1];\n          break;\n        case 6:\n        case 7:\n        case 11:\n        case 12:\n          this.$ = $$[$0];\n          break;\n        case 8:\n        case 13:\n          this.$ = [];\n          break;\n        case 15:\n          $$[$0].type = "createParticipant";\n          this.$ = $$[$0];\n          break;\n        case 16:\n          $$[$0 - 1].unshift({ type: "boxStart", boxData: yy.parseBoxData($$[$0 - 2]) });\n          $$[$0 - 1].push({ type: "boxEnd", boxText: $$[$0 - 2] });\n          this.$ = $$[$0 - 1];\n          break;\n        case 18:\n          this.$ = { type: "sequenceIndex", sequenceIndex: Number($$[$0 - 2]), sequenceIndexStep: Number($$[$0 - 1]), sequenceVisible: true, signalType: yy.LINETYPE.AUTONUMBER };\n          break;\n        case 19:\n          this.$ = { type: "sequenceIndex", sequenceIndex: Number($$[$0 - 1]), sequenceIndexStep: 1, sequenceVisible: true, signalType: yy.LINETYPE.AUTONUMBER };\n          break;\n        case 20:\n          this.$ = { type: "sequenceIndex", sequenceVisible: false, signalType: yy.LINETYPE.AUTONUMBER };\n          break;\n        case 21:\n          this.$ = { type: "sequenceIndex", sequenceVisible: true, signalType: yy.LINETYPE.AUTONUMBER };\n          break;\n        case 22:\n          this.$ = { type: "activeStart", signalType: yy.LINETYPE.ACTIVE_START, actor: $$[$0 - 1].actor };\n          break;\n        case 23:\n          this.$ = { type: "activeEnd", signalType: yy.LINETYPE.ACTIVE_END, actor: $$[$0 - 1].actor };\n          break;\n        case 29:\n          yy.setDiagramTitle($$[$0].substring(6));\n          this.$ = $$[$0].substring(6);\n          break;\n        case 30:\n          yy.setDiagramTitle($$[$0].substring(7));\n          this.$ = $$[$0].substring(7);\n          break;\n        case 31:\n          this.$ = $$[$0].trim();\n          yy.setAccTitle(this.$);\n          break;\n        case 32:\n        case 33:\n          this.$ = $$[$0].trim();\n          yy.setAccDescription(this.$);\n          break;\n        case 34:\n          $$[$0 - 1].unshift({ type: "loopStart", loopText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.LOOP_START });\n          $$[$0 - 1].push({ type: "loopEnd", loopText: $$[$0 - 2], signalType: yy.LINETYPE.LOOP_END });\n          this.$ = $$[$0 - 1];\n          break;\n        case 35:\n          $$[$0 - 1].unshift({ type: "rectStart", color: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.RECT_START });\n          $$[$0 - 1].push({ type: "rectEnd", color: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.RECT_END });\n          this.$ = $$[$0 - 1];\n          break;\n        case 36:\n          $$[$0 - 1].unshift({ type: "optStart", optText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.OPT_START });\n          $$[$0 - 1].push({ type: "optEnd", optText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.OPT_END });\n          this.$ = $$[$0 - 1];\n          break;\n        case 37:\n          $$[$0 - 1].unshift({ type: "altStart", altText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.ALT_START });\n          $$[$0 - 1].push({ type: "altEnd", signalType: yy.LINETYPE.ALT_END });\n          this.$ = $$[$0 - 1];\n          break;\n        case 38:\n          $$[$0 - 1].unshift({ type: "parStart", parText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.PAR_START });\n          $$[$0 - 1].push({ type: "parEnd", signalType: yy.LINETYPE.PAR_END });\n          this.$ = $$[$0 - 1];\n          break;\n        case 39:\n          $$[$0 - 1].unshift({ type: "parStart", parText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.PAR_OVER_START });\n          $$[$0 - 1].push({ type: "parEnd", signalType: yy.LINETYPE.PAR_END });\n          this.$ = $$[$0 - 1];\n          break;\n        case 40:\n          $$[$0 - 1].unshift({ type: "criticalStart", criticalText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.CRITICAL_START });\n          $$[$0 - 1].push({ type: "criticalEnd", signalType: yy.LINETYPE.CRITICAL_END });\n          this.$ = $$[$0 - 1];\n          break;\n        case 41:\n          $$[$0 - 1].unshift({ type: "breakStart", breakText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.BREAK_START });\n          $$[$0 - 1].push({ type: "breakEnd", optText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.BREAK_END });\n          this.$ = $$[$0 - 1];\n          break;\n        case 43:\n          this.$ = $$[$0 - 3].concat([{ type: "option", optionText: yy.parseMessage($$[$0 - 1]), signalType: yy.LINETYPE.CRITICAL_OPTION }, $$[$0]]);\n          break;\n        case 45:\n          this.$ = $$[$0 - 3].concat([{ type: "and", parText: yy.parseMessage($$[$0 - 1]), signalType: yy.LINETYPE.PAR_AND }, $$[$0]]);\n          break;\n        case 47:\n          this.$ = $$[$0 - 3].concat([{ type: "else", altText: yy.parseMessage($$[$0 - 1]), signalType: yy.LINETYPE.ALT_ELSE }, $$[$0]]);\n          break;\n        case 48:\n          $$[$0 - 3].draw = "participant";\n          $$[$0 - 3].type = "addParticipant";\n          $$[$0 - 3].description = yy.parseMessage($$[$0 - 1]);\n          this.$ = $$[$0 - 3];\n          break;\n        case 49:\n          $$[$0 - 1].draw = "participant";\n          $$[$0 - 1].type = "addParticipant";\n          this.$ = $$[$0 - 1];\n          break;\n        case 50:\n          $$[$0 - 3].draw = "actor";\n          $$[$0 - 3].type = "addParticipant";\n          $$[$0 - 3].description = yy.parseMessage($$[$0 - 1]);\n          this.$ = $$[$0 - 3];\n          break;\n        case 51:\n          $$[$0 - 1].draw = "actor";\n          $$[$0 - 1].type = "addParticipant";\n          this.$ = $$[$0 - 1];\n          break;\n        case 52:\n          $$[$0 - 1].type = "destroyParticipant";\n          this.$ = $$[$0 - 1];\n          break;\n        case 53:\n          $$[$0 - 1].draw = "participant";\n          $$[$0 - 1].type = "addParticipant";\n          this.$ = $$[$0 - 1];\n          break;\n        case 54:\n          this.$ = [$$[$0 - 1], { type: "addNote", placement: $$[$0 - 2], actor: $$[$0 - 1].actor, text: $$[$0] }];\n          break;\n        case 55:\n          $$[$0 - 2] = [].concat($$[$0 - 1], $$[$0 - 1]).slice(0, 2);\n          $$[$0 - 2][0] = $$[$0 - 2][0].actor;\n          $$[$0 - 2][1] = $$[$0 - 2][1].actor;\n          this.$ = [$$[$0 - 1], { type: "addNote", placement: yy.PLACEMENT.OVER, actor: $$[$0 - 2].slice(0, 2), text: $$[$0] }];\n          break;\n        case 56:\n          this.$ = [$$[$0 - 1], { type: "addLinks", actor: $$[$0 - 1].actor, text: $$[$0] }];\n          break;\n        case 57:\n          this.$ = [$$[$0 - 1], { type: "addALink", actor: $$[$0 - 1].actor, text: $$[$0] }];\n          break;\n        case 58:\n          this.$ = [$$[$0 - 1], { type: "addProperties", actor: $$[$0 - 1].actor, text: $$[$0] }];\n          break;\n        case 59:\n          this.$ = [$$[$0 - 1], { type: "addDetails", actor: $$[$0 - 1].actor, text: $$[$0] }];\n          break;\n        case 62:\n          this.$ = [$$[$0 - 2], $$[$0]];\n          break;\n        case 63:\n          this.$ = $$[$0];\n          break;\n        case 64:\n          this.$ = yy.PLACEMENT.LEFTOF;\n          break;\n        case 65:\n          this.$ = yy.PLACEMENT.RIGHTOF;\n          break;\n        case 66:\n          this.$ = [\n            $$[$0 - 4],\n            $$[$0 - 1],\n            { type: "addMessage", from: $$[$0 - 4].actor, to: $$[$0 - 1].actor, signalType: $$[$0 - 3], msg: $$[$0], activate: true },\n            { type: "activeStart", signalType: yy.LINETYPE.ACTIVE_START, actor: $$[$0 - 1].actor }\n          ];\n          break;\n        case 67:\n          this.$ = [\n            $$[$0 - 4],\n            $$[$0 - 1],\n            { type: "addMessage", from: $$[$0 - 4].actor, to: $$[$0 - 1].actor, signalType: $$[$0 - 3], msg: $$[$0] },\n            { type: "activeEnd", signalType: yy.LINETYPE.ACTIVE_END, actor: $$[$0 - 4].actor }\n          ];\n          break;\n        case 68:\n          this.$ = [$$[$0 - 3], $$[$0 - 1], { type: "addMessage", from: $$[$0 - 3].actor, to: $$[$0 - 1].actor, signalType: $$[$0 - 2], msg: $$[$0] }];\n          break;\n        case 69:\n          this.$ = {\n            type: "addParticipant",\n            actor: $$[$0 - 1],\n            config: $$[$0]\n          };\n          break;\n        case 70:\n          this.$ = $$[$0 - 1].trim();\n          break;\n        case 71:\n          this.$ = { type: "addParticipant", actor: $$[$0] };\n          break;\n        case 72:\n          this.$ = yy.LINETYPE.SOLID_OPEN;\n          break;\n        case 73:\n          this.$ = yy.LINETYPE.DOTTED_OPEN;\n          break;\n        case 74:\n          this.$ = yy.LINETYPE.SOLID;\n          break;\n        case 75:\n          this.$ = yy.LINETYPE.BIDIRECTIONAL_SOLID;\n          break;\n        case 76:\n          this.$ = yy.LINETYPE.DOTTED;\n          break;\n        case 77:\n          this.$ = yy.LINETYPE.BIDIRECTIONAL_DOTTED;\n          break;\n        case 78:\n          this.$ = yy.LINETYPE.SOLID_CROSS;\n          break;\n        case 79:\n          this.$ = yy.LINETYPE.DOTTED_CROSS;\n          break;\n        case 80:\n          this.$ = yy.LINETYPE.SOLID_POINT;\n          break;\n        case 81:\n          this.$ = yy.LINETYPE.DOTTED_POINT;\n          break;\n        case 82:\n          this.$ = yy.parseMessage($$[$0].trim().substring(1));\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 3: 1, 4: $V0, 5: $V1, 6: $V2 }, { 1: [3] }, { 3: 5, 4: $V0, 5: $V1, 6: $V2 }, { 3: 6, 4: $V0, 5: $V1, 6: $V2 }, o([1, 4, 5, 13, 14, 18, 21, 23, 29, 30, 31, 33, 35, 36, 37, 38, 39, 41, 43, 44, 46, 50, 52, 53, 55, 60, 61, 62, 63, 71], $V3, { 7: 7 }), { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3], 4: $V4, 5: $V5, 8: 8, 9: 10, 12: 12, 13: $V6, 14: $V7, 17: 15, 18: $V8, 21: $V9, 22: 40, 23: $Va, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: $Vb, 30: $Vc, 31: $Vd, 33: $Ve, 35: $Vf, 36: $Vg, 37: $Vh, 38: $Vi, 39: $Vj, 41: $Vk, 43: $Vl, 44: $Vm, 46: $Vn, 50: $Vo, 52: $Vp, 53: $Vq, 55: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 71: $Vw }, o($Vx, [2, 5]), { 9: 47, 12: 12, 13: $V6, 14: $V7, 17: 15, 18: $V8, 21: $V9, 22: 40, 23: $Va, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: $Vb, 30: $Vc, 31: $Vd, 33: $Ve, 35: $Vf, 36: $Vg, 37: $Vh, 38: $Vi, 39: $Vj, 41: $Vk, 43: $Vl, 44: $Vm, 46: $Vn, 50: $Vo, 52: $Vp, 53: $Vq, 55: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 71: $Vw }, o($Vx, [2, 7]), o($Vx, [2, 8]), o($Vx, [2, 14]), { 12: 48, 50: $Vo, 52: $Vp, 53: $Vq }, { 15: [1, 49] }, { 5: [1, 50] }, { 5: [1, 53], 19: [1, 51], 20: [1, 52] }, { 22: 54, 71: $Vw }, { 22: 55, 71: $Vw }, { 5: [1, 56] }, { 5: [1, 57] }, { 5: [1, 58] }, { 5: [1, 59] }, { 5: [1, 60] }, o($Vx, [2, 29]), o($Vx, [2, 30]), { 32: [1, 61] }, { 34: [1, 62] }, o($Vx, [2, 33]), { 15: [1, 63] }, { 15: [1, 64] }, { 15: [1, 65] }, { 15: [1, 66] }, { 15: [1, 67] }, { 15: [1, 68] }, { 15: [1, 69] }, { 15: [1, 70] }, { 22: 71, 54: 72, 71: [1, 73] }, { 22: 74, 71: $Vw }, { 22: 75, 71: $Vw }, { 68: 76, 76: [1, 77], 77: [1, 78], 78: [1, 79], 79: [1, 80], 80: [1, 81], 81: [1, 82], 82: [1, 83], 83: [1, 84], 84: [1, 85], 85: [1, 86] }, { 56: 87, 58: [1, 88], 66: [1, 89], 67: [1, 90] }, { 22: 91, 71: $Vw }, { 22: 92, 71: $Vw }, { 22: 93, 71: $Vw }, { 22: 94, 71: $Vw }, o([5, 51, 65, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86], $Vy), o($Vx, [2, 6]), o($Vx, [2, 15]), o($Vz, [2, 9], { 10: 95 }), o($Vx, [2, 17]), { 5: [1, 97], 19: [1, 96] }, { 5: [1, 98] }, o($Vx, [2, 21]), { 5: [1, 99] }, { 5: [1, 100] }, o($Vx, [2, 24]), o($Vx, [2, 25]), o($Vx, [2, 26]), o($Vx, [2, 27]), o($Vx, [2, 28]), o($Vx, [2, 31]), o($Vx, [2, 32]), o($VA, $V3, { 7: 101 }), o($VA, $V3, { 7: 102 }), o($VA, $V3, { 7: 103 }), o($VB, $V3, { 40: 104, 7: 105 }), o($VC, $V3, { 42: 106, 7: 107 }), o($VC, $V3, { 7: 107, 42: 108 }), o($VD, $V3, { 45: 109, 7: 110 }), o($VA, $V3, { 7: 111 }), { 5: [1, 113], 51: [1, 112] }, { 5: [1, 114] }, o([5, 51], $Vy, { 72: 115, 73: [1, 116] }), { 5: [1, 118], 51: [1, 117] }, { 5: [1, 119] }, { 22: 122, 69: [1, 120], 70: [1, 121], 71: $Vw }, o($VE, [2, 72]), o($VE, [2, 73]), o($VE, [2, 74]), o($VE, [2, 75]), o($VE, [2, 76]), o($VE, [2, 77]), o($VE, [2, 78]), o($VE, [2, 79]), o($VE, [2, 80]), o($VE, [2, 81]), { 22: 123, 71: $Vw }, { 22: 125, 59: 124, 71: $Vw }, { 71: [2, 64] }, { 71: [2, 65] }, { 57: 126, 86: $VF }, { 57: 128, 86: $VF }, { 57: 129, 86: $VF }, { 57: 130, 86: $VF }, { 4: [1, 133], 5: [1, 135], 11: 132, 12: 134, 16: [1, 131], 50: $Vo, 52: $Vp, 53: $Vq }, { 5: [1, 136] }, o($Vx, [2, 19]), o($Vx, [2, 20]), o($Vx, [2, 22]), o($Vx, [2, 23]), { 4: $V4, 5: $V5, 8: 8, 9: 10, 12: 12, 13: $V6, 14: $V7, 16: [1, 137], 17: 15, 18: $V8, 21: $V9, 22: 40, 23: $Va, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: $Vb, 30: $Vc, 31: $Vd, 33: $Ve, 35: $Vf, 36: $Vg, 37: $Vh, 38: $Vi, 39: $Vj, 41: $Vk, 43: $Vl, 44: $Vm, 46: $Vn, 50: $Vo, 52: $Vp, 53: $Vq, 55: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 71: $Vw }, { 4: $V4, 5: $V5, 8: 8, 9: 10, 12: 12, 13: $V6, 14: $V7, 16: [1, 138], 17: 15, 18: $V8, 21: $V9, 22: 40, 23: $Va, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: $Vb, 30: $Vc, 31: $Vd, 33: $Ve, 35: $Vf, 36: $Vg, 37: $Vh, 38: $Vi, 39: $Vj, 41: $Vk, 43: $Vl, 44: $Vm, 46: $Vn, 50: $Vo, 52: $Vp, 53: $Vq, 55: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 71: $Vw }, { 4: $V4, 5: $V5, 8: 8, 9: 10, 12: 12, 13: $V6, 14: $V7, 16: [1, 139], 17: 15, 18: $V8, 21: $V9, 22: 40, 23: $Va, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: $Vb, 30: $Vc, 31: $Vd, 33: $Ve, 35: $Vf, 36: $Vg, 37: $Vh, 38: $Vi, 39: $Vj, 41: $Vk, 43: $Vl, 44: $Vm, 46: $Vn, 50: $Vo, 52: $Vp, 53: $Vq, 55: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 71: $Vw }, { 16: [1, 140] }, { 4: $V4, 5: $V5, 8: 8, 9: 10, 12: 12, 13: $V6, 14: $V7, 16: [2, 46], 17: 15, 18: $V8, 21: $V9, 22: 40, 23: $Va, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: $Vb, 30: $Vc, 31: $Vd, 33: $Ve, 35: $Vf, 36: $Vg, 37: $Vh, 38: $Vi, 39: $Vj, 41: $Vk, 43: $Vl, 44: $Vm, 46: $Vn, 49: [1, 141], 50: $Vo, 52: $Vp, 53: $Vq, 55: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 71: $Vw }, { 16: [1, 142] }, { 4: $V4, 5: $V5, 8: 8, 9: 10, 12: 12, 13: $V6, 14: $V7, 16: [2, 44], 17: 15, 18: $V8, 21: $V9, 22: 40, 23: $Va, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: $Vb, 30: $Vc, 31: $Vd, 33: $Ve, 35: $Vf, 36: $Vg, 37: $Vh, 38: $Vi, 39: $Vj, 41: $Vk, 43: $Vl, 44: $Vm, 46: $Vn, 48: [1, 143], 50: $Vo, 52: $Vp, 53: $Vq, 55: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 71: $Vw }, { 16: [1, 144] }, { 16: [1, 145] }, { 4: $V4, 5: $V5, 8: 8, 9: 10, 12: 12, 13: $V6, 14: $V7, 16: [2, 42], 17: 15, 18: $V8, 21: $V9, 22: 40, 23: $Va, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: $Vb, 30: $Vc, 31: $Vd, 33: $Ve, 35: $Vf, 36: $Vg, 37: $Vh, 38: $Vi, 39: $Vj, 41: $Vk, 43: $Vl, 44: $Vm, 46: $Vn, 47: [1, 146], 50: $Vo, 52: $Vp, 53: $Vq, 55: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 71: $Vw }, { 4: $V4, 5: $V5, 8: 8, 9: 10, 12: 12, 13: $V6, 14: $V7, 16: [1, 147], 17: 15, 18: $V8, 21: $V9, 22: 40, 23: $Va, 24: 19, 25: 20, 26: 21, 27: 22, 28: 23, 29: $Vb, 30: $Vc, 31: $Vd, 33: $Ve, 35: $Vf, 36: $Vg, 37: $Vh, 38: $Vi, 39: $Vj, 41: $Vk, 43: $Vl, 44: $Vm, 46: $Vn, 50: $Vo, 52: $Vp, 53: $Vq, 55: $Vr, 60: $Vs, 61: $Vt, 62: $Vu, 63: $Vv, 71: $Vw }, { 15: [1, 148] }, o($Vx, [2, 49]), o($Vx, [2, 53]), { 5: [2, 69] }, { 74: [1, 149] }, { 15: [1, 150] }, o($Vx, [2, 51]), o($Vx, [2, 52]), { 22: 151, 71: $Vw }, { 22: 152, 71: $Vw }, { 57: 153, 86: $VF }, { 57: 154, 86: $VF }, { 57: 155, 86: $VF }, { 65: [1, 156], 86: [2, 63] }, { 5: [2, 56] }, { 5: [2, 82] }, { 5: [2, 57] }, { 5: [2, 58] }, { 5: [2, 59] }, o($Vx, [2, 16]), o($Vz, [2, 10]), { 12: 157, 50: $Vo, 52: $Vp, 53: $Vq }, o($Vz, [2, 12]), o($Vz, [2, 13]), o($Vx, [2, 18]), o($Vx, [2, 34]), o($Vx, [2, 35]), o($Vx, [2, 36]), o($Vx, [2, 37]), { 15: [1, 158] }, o($Vx, [2, 38]), { 15: [1, 159] }, o($Vx, [2, 39]), o($Vx, [2, 40]), { 15: [1, 160] }, o($Vx, [2, 41]), { 5: [1, 161] }, { 75: [1, 162] }, { 5: [1, 163] }, { 57: 164, 86: $VF }, { 57: 165, 86: $VF }, { 5: [2, 68] }, { 5: [2, 54] }, { 5: [2, 55] }, { 22: 166, 71: $Vw }, o($Vz, [2, 11]), o($VB, $V3, { 7: 105, 40: 167 }), o($VC, $V3, { 7: 107, 42: 168 }), o($VD, $V3, { 7: 110, 45: 169 }), o($Vx, [2, 48]), { 5: [2, 70] }, o($Vx, [2, 50]), { 5: [2, 66] }, { 5: [2, 67] }, { 86: [2, 62] }, { 16: [2, 47] }, { 16: [2, 45] }, { 16: [2, 43] }],\n    defaultActions: { 5: [2, 1], 6: [2, 2], 89: [2, 64], 90: [2, 65], 115: [2, 69], 126: [2, 56], 127: [2, 82], 128: [2, 57], 129: [2, 58], 130: [2, 59], 153: [2, 68], 154: [2, 54], 155: [2, 55], 162: [2, 70], 164: [2, 66], 165: [2, 67], 166: [2, 62], 167: [2, 47], 168: [2, 45], 169: [2, 43] },\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: { "case-insensitive": true },\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            return 5;\n            // removed by dead control flow\n\n          case 1:\n            break;\n          case 2:\n            break;\n          case 3:\n            break;\n          case 4:\n            break;\n          case 5:\n            break;\n          case 6:\n            return 19;\n            // removed by dead control flow\n\n          case 7:\n            this.begin("CONFIG");\n            return 73;\n            // removed by dead control flow\n\n          case 8:\n            return 74;\n            // removed by dead control flow\n\n          case 9:\n            this.popState();\n            this.popState();\n            return 75;\n            // removed by dead control flow\n\n          case 10:\n            yy_.yytext = yy_.yytext.trim();\n            return 71;\n            // removed by dead control flow\n\n          case 11:\n            yy_.yytext = yy_.yytext.trim();\n            this.begin("ALIAS");\n            return 71;\n            // removed by dead control flow\n\n          case 12:\n            this.begin("LINE");\n            return 14;\n            // removed by dead control flow\n\n          case 13:\n            this.begin("ID");\n            return 50;\n            // removed by dead control flow\n\n          case 14:\n            this.begin("ID");\n            return 52;\n            // removed by dead control flow\n\n          case 15:\n            return 13;\n            // removed by dead control flow\n\n          case 16:\n            this.begin("ID");\n            return 53;\n            // removed by dead control flow\n\n          case 17:\n            yy_.yytext = yy_.yytext.trim();\n            this.begin("ALIAS");\n            return 71;\n            // removed by dead control flow\n\n          case 18:\n            this.popState();\n            this.popState();\n            this.begin("LINE");\n            return 51;\n            // removed by dead control flow\n\n          case 19:\n            this.popState();\n            this.popState();\n            return 5;\n            // removed by dead control flow\n\n          case 20:\n            this.begin("LINE");\n            return 36;\n            // removed by dead control flow\n\n          case 21:\n            this.begin("LINE");\n            return 37;\n            // removed by dead control flow\n\n          case 22:\n            this.begin("LINE");\n            return 38;\n            // removed by dead control flow\n\n          case 23:\n            this.begin("LINE");\n            return 39;\n            // removed by dead control flow\n\n          case 24:\n            this.begin("LINE");\n            return 49;\n            // removed by dead control flow\n\n          case 25:\n            this.begin("LINE");\n            return 41;\n            // removed by dead control flow\n\n          case 26:\n            this.begin("LINE");\n            return 43;\n            // removed by dead control flow\n\n          case 27:\n            this.begin("LINE");\n            return 48;\n            // removed by dead control flow\n\n          case 28:\n            this.begin("LINE");\n            return 44;\n            // removed by dead control flow\n\n          case 29:\n            this.begin("LINE");\n            return 47;\n            // removed by dead control flow\n\n          case 30:\n            this.begin("LINE");\n            return 46;\n            // removed by dead control flow\n\n          case 31:\n            this.popState();\n            return 15;\n            // removed by dead control flow\n\n          case 32:\n            return 16;\n            // removed by dead control flow\n\n          case 33:\n            return 66;\n            // removed by dead control flow\n\n          case 34:\n            return 67;\n            // removed by dead control flow\n\n          case 35:\n            return 60;\n            // removed by dead control flow\n\n          case 36:\n            return 61;\n            // removed by dead control flow\n\n          case 37:\n            return 62;\n            // removed by dead control flow\n\n          case 38:\n            return 63;\n            // removed by dead control flow\n\n          case 39:\n            return 58;\n            // removed by dead control flow\n\n          case 40:\n            return 55;\n            // removed by dead control flow\n\n          case 41:\n            this.begin("ID");\n            return 21;\n            // removed by dead control flow\n\n          case 42:\n            this.begin("ID");\n            return 23;\n            // removed by dead control flow\n\n          case 43:\n            return 29;\n            // removed by dead control flow\n\n          case 44:\n            return 30;\n            // removed by dead control flow\n\n          case 45:\n            this.begin("acc_title");\n            return 31;\n            // removed by dead control flow\n\n          case 46:\n            this.popState();\n            return "acc_title_value";\n            // removed by dead control flow\n\n          case 47:\n            this.begin("acc_descr");\n            return 33;\n            // removed by dead control flow\n\n          case 48:\n            this.popState();\n            return "acc_descr_value";\n            // removed by dead control flow\n\n          case 49:\n            this.begin("acc_descr_multiline");\n            break;\n          case 50:\n            this.popState();\n            break;\n          case 51:\n            return "acc_descr_multiline_value";\n            // removed by dead control flow\n\n          case 52:\n            return 6;\n            // removed by dead control flow\n\n          case 53:\n            return 18;\n            // removed by dead control flow\n\n          case 54:\n            return 20;\n            // removed by dead control flow\n\n          case 55:\n            return 65;\n            // removed by dead control flow\n\n          case 56:\n            return 5;\n            // removed by dead control flow\n\n          case 57:\n            yy_.yytext = yy_.yytext.trim();\n            return 71;\n            // removed by dead control flow\n\n          case 58:\n            return 78;\n            // removed by dead control flow\n\n          case 59:\n            return 79;\n            // removed by dead control flow\n\n          case 60:\n            return 80;\n            // removed by dead control flow\n\n          case 61:\n            return 81;\n            // removed by dead control flow\n\n          case 62:\n            return 76;\n            // removed by dead control flow\n\n          case 63:\n            return 77;\n            // removed by dead control flow\n\n          case 64:\n            return 82;\n            // removed by dead control flow\n\n          case 65:\n            return 83;\n            // removed by dead control flow\n\n          case 66:\n            return 84;\n            // removed by dead control flow\n\n          case 67:\n            return 85;\n            // removed by dead control flow\n\n          case 68:\n            return 86;\n            // removed by dead control flow\n\n          case 69:\n            return 86;\n            // removed by dead control flow\n\n          case 70:\n            return 69;\n            // removed by dead control flow\n\n          case 71:\n            return 70;\n            // removed by dead control flow\n\n          case 72:\n            return 5;\n            // removed by dead control flow\n\n          case 73:\n            return "INVALID";\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:[\\n]+)/i, /^(?:\\s+)/i, /^(?:((?!\\n)\\s)+)/i, /^(?:#[^\\n]*)/i, /^(?:%(?!\\{)[^\\n]*)/i, /^(?:[^\\}]%%[^\\n]*)/i, /^(?:[0-9]+(?=[ \\n]+))/i, /^(?:@\\{)/i, /^(?:[^\\}]+)/i, /^(?:\\})/i, /^(?:[^\\<->\\->:\\n,;@\\s]+(?=@\\{))/i, /^(?:[^\\<->\\->:\\n,;@]+?([\\-]*[^\\<->\\->:\\n,;@]+?)*?(?=((?!\\n)\\s)+as(?!\\n)\\s|[#\\n;]|$))/i, /^(?:box\\b)/i, /^(?:participant\\b)/i, /^(?:actor\\b)/i, /^(?:create\\b)/i, /^(?:destroy\\b)/i, /^(?:[^<\\->\\->:\\n,;]+?([\\-]*[^<\\->\\->:\\n,;]+?)*?(?=((?!\\n)\\s)+as(?!\\n)\\s|[#\\n;]|$))/i, /^(?:as\\b)/i, /^(?:(?:))/i, /^(?:loop\\b)/i, /^(?:rect\\b)/i, /^(?:opt\\b)/i, /^(?:alt\\b)/i, /^(?:else\\b)/i, /^(?:par\\b)/i, /^(?:par_over\\b)/i, /^(?:and\\b)/i, /^(?:critical\\b)/i, /^(?:option\\b)/i, /^(?:break\\b)/i, /^(?:(?:[:]?(?:no)?wrap)?[^#\\n;]*)/i, /^(?:end\\b)/i, /^(?:left of\\b)/i, /^(?:right of\\b)/i, /^(?:links\\b)/i, /^(?:link\\b)/i, /^(?:properties\\b)/i, /^(?:details\\b)/i, /^(?:over\\b)/i, /^(?:note\\b)/i, /^(?:activate\\b)/i, /^(?:deactivate\\b)/i, /^(?:title\\s[^#\\n;]+)/i, /^(?:title:\\s[^#\\n;]+)/i, /^(?:accTitle\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*\\{\\s*)/i, /^(?:[\\}])/i, /^(?:[^\\}]*)/i, /^(?:sequenceDiagram\\b)/i, /^(?:autonumber\\b)/i, /^(?:off\\b)/i, /^(?:,)/i, /^(?:;)/i, /^(?:[^+<\\->\\->:\\n,;]+((?!(-x|--x|-\\)|--\\)))[\\-]*[^\\+<\\->\\->:\\n,;]+)*)/i, /^(?:->>)/i, /^(?:<<->>)/i, /^(?:--\x3e>)/i, /^(?:<<--\x3e>)/i, /^(?:->)/i, /^(?:--\x3e)/i, /^(?:-[x])/i, /^(?:--[x])/i, /^(?:-[\\)])/i, /^(?:--[\\)])/i, /^(?::(?:(?:no)?wrap)?[^#\\n;]*)/i, /^(?::)/i, /^(?:\\+)/i, /^(?:-)/i, /^(?:$)/i, /^(?:.)/i],\n      conditions: { "acc_descr_multiline": { "rules": [50, 51], "inclusive": false }, "acc_descr": { "rules": [48], "inclusive": false }, "acc_title": { "rules": [46], "inclusive": false }, "ID": { "rules": [2, 3, 7, 10, 11, 17], "inclusive": false }, "ALIAS": { "rules": [2, 3, 18, 19], "inclusive": false }, "LINE": { "rules": [2, 3, 31], "inclusive": false }, "CONFIG": { "rules": [8, 9], "inclusive": false }, "CONFIG_DATA": { "rules": [], "inclusive": false }, "INITIAL": { "rules": [0, 1, 3, 4, 5, 6, 12, 13, 14, 15, 16, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 47, 49, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar sequenceDiagram_default = parser;\n\n// src/diagrams/sequence/sequenceDb.ts\nvar LINETYPE = {\n  SOLID: 0,\n  DOTTED: 1,\n  NOTE: 2,\n  SOLID_CROSS: 3,\n  DOTTED_CROSS: 4,\n  SOLID_OPEN: 5,\n  DOTTED_OPEN: 6,\n  LOOP_START: 10,\n  LOOP_END: 11,\n  ALT_START: 12,\n  ALT_ELSE: 13,\n  ALT_END: 14,\n  OPT_START: 15,\n  OPT_END: 16,\n  ACTIVE_START: 17,\n  ACTIVE_END: 18,\n  PAR_START: 19,\n  PAR_AND: 20,\n  PAR_END: 21,\n  RECT_START: 22,\n  RECT_END: 23,\n  SOLID_POINT: 24,\n  DOTTED_POINT: 25,\n  AUTONUMBER: 26,\n  CRITICAL_START: 27,\n  CRITICAL_OPTION: 28,\n  CRITICAL_END: 29,\n  BREAK_START: 30,\n  BREAK_END: 31,\n  PAR_OVER_START: 32,\n  BIDIRECTIONAL_SOLID: 33,\n  BIDIRECTIONAL_DOTTED: 34\n};\nvar ARROWTYPE = {\n  FILLED: 0,\n  OPEN: 1\n};\nvar PLACEMENT = {\n  LEFTOF: 0,\n  RIGHTOF: 1,\n  OVER: 2\n};\nvar PARTICIPANT_TYPE = {\n  ACTOR: "actor",\n  BOUNDARY: "boundary",\n  COLLECTIONS: "collections",\n  CONTROL: "control",\n  DATABASE: "database",\n  ENTITY: "entity",\n  PARTICIPANT: "participant",\n  QUEUE: "queue"\n};\nvar SequenceDB = class {\n  constructor() {\n    this.state = new _chunk_QZHKN3VN_mjs__WEBPACK_IMPORTED_MODULE_2__.ImperativeState(() => ({\n      prevActor: void 0,\n      actors: /* @__PURE__ */ new Map(),\n      createdActors: /* @__PURE__ */ new Map(),\n      destroyedActors: /* @__PURE__ */ new Map(),\n      boxes: [],\n      messages: [],\n      notes: [],\n      sequenceNumbersEnabled: false,\n      wrapEnabled: void 0,\n      currentBox: void 0,\n      lastCreated: void 0,\n      lastDestroyed: void 0\n    }));\n    this.setAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.setAccTitle;\n    this.setAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.setAccDescription;\n    this.setDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.setDiagramTitle;\n    this.getAccTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getAccTitle;\n    this.getAccDescription = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getAccDescription;\n    this.getDiagramTitle = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getDiagramTitle;\n    this.apply = this.apply.bind(this);\n    this.parseBoxData = this.parseBoxData.bind(this);\n    this.parseMessage = this.parseMessage.bind(this);\n    this.clear();\n    this.setWrap((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)().wrap);\n    this.LINETYPE = LINETYPE;\n    this.ARROWTYPE = ARROWTYPE;\n    this.PLACEMENT = PLACEMENT;\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(this, "SequenceDB");\n  }\n  addBox(data) {\n    this.state.records.boxes.push({\n      name: data.text,\n      wrap: data.wrap ?? this.autoWrap(),\n      fill: data.color,\n      actorKeys: []\n    });\n    this.state.records.currentBox = this.state.records.boxes.slice(-1)[0];\n  }\n  addActor(id, name, description, type, metadata) {\n    let assignedBox = this.state.records.currentBox;\n    let doc;\n    if (metadata !== void 0) {\n      let yamlData;\n      if (!metadata.includes("\\n")) {\n        yamlData = "{\\n" + metadata + "\\n}";\n      } else {\n        yamlData = metadata + "\\n";\n      }\n      doc = (0,_chunk_MI3HLSF2_mjs__WEBPACK_IMPORTED_MODULE_1__.load)(yamlData, { schema: _chunk_MI3HLSF2_mjs__WEBPACK_IMPORTED_MODULE_1__.JSON_SCHEMA });\n    }\n    type = doc?.type ?? type;\n    const old = this.state.records.actors.get(id);\n    if (old) {\n      if (this.state.records.currentBox && old.box && this.state.records.currentBox !== old.box) {\n        throw new Error(\n          `A same participant should only be defined in one Box: ${old.name} can\'t be in \'${old.box.name}\' and in \'${this.state.records.currentBox.name}\' at the same time.`\n        );\n      }\n      assignedBox = old.box ? old.box : this.state.records.currentBox;\n      old.box = assignedBox;\n      if (old && name === old.name && description == null) {\n        return;\n      }\n    }\n    if (description?.text == null) {\n      description = { text: name, type };\n    }\n    if (type == null || description.text == null) {\n      description = { text: name, type };\n    }\n    this.state.records.actors.set(id, {\n      box: assignedBox,\n      name,\n      description: description.text,\n      wrap: description.wrap ?? this.autoWrap(),\n      prevActor: this.state.records.prevActor,\n      links: {},\n      properties: {},\n      actorCnt: null,\n      rectData: null,\n      type: type ?? "participant"\n    });\n    if (this.state.records.prevActor) {\n      const prevActorInRecords = this.state.records.actors.get(this.state.records.prevActor);\n      if (prevActorInRecords) {\n        prevActorInRecords.nextActor = id;\n      }\n    }\n    if (this.state.records.currentBox) {\n      this.state.records.currentBox.actorKeys.push(id);\n    }\n    this.state.records.prevActor = id;\n  }\n  activationCount(part) {\n    let i;\n    let count = 0;\n    if (!part) {\n      return 0;\n    }\n    for (i = 0; i < this.state.records.messages.length; i++) {\n      if (this.state.records.messages[i].type === this.LINETYPE.ACTIVE_START && this.state.records.messages[i].from === part) {\n        count++;\n      }\n      if (this.state.records.messages[i].type === this.LINETYPE.ACTIVE_END && this.state.records.messages[i].from === part) {\n        count--;\n      }\n    }\n    return count;\n  }\n  addMessage(idFrom, idTo, message, answer) {\n    this.state.records.messages.push({\n      id: this.state.records.messages.length.toString(),\n      from: idFrom,\n      to: idTo,\n      message: message.text,\n      wrap: message.wrap ?? this.autoWrap(),\n      answer\n    });\n  }\n  addSignal(idFrom, idTo, message, messageType, activate = false) {\n    if (messageType === this.LINETYPE.ACTIVE_END) {\n      const cnt = this.activationCount(idFrom ?? "");\n      if (cnt < 1) {\n        const error = new Error("Trying to inactivate an inactive participant (" + idFrom + ")");\n        error.hash = {\n          text: "->>-",\n          token: "->>-",\n          line: "1",\n          loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },\n          expected: ["\'ACTIVE_PARTICIPANT\'"]\n        };\n        throw error;\n      }\n    }\n    this.state.records.messages.push({\n      id: this.state.records.messages.length.toString(),\n      from: idFrom,\n      to: idTo,\n      message: message?.text ?? "",\n      wrap: message?.wrap ?? this.autoWrap(),\n      type: messageType,\n      activate\n    });\n    return true;\n  }\n  hasAtLeastOneBox() {\n    return this.state.records.boxes.length > 0;\n  }\n  hasAtLeastOneBoxWithTitle() {\n    return this.state.records.boxes.some((b) => b.name);\n  }\n  getMessages() {\n    return this.state.records.messages;\n  }\n  getBoxes() {\n    return this.state.records.boxes;\n  }\n  getActors() {\n    return this.state.records.actors;\n  }\n  getCreatedActors() {\n    return this.state.records.createdActors;\n  }\n  getDestroyedActors() {\n    return this.state.records.destroyedActors;\n  }\n  getActor(id) {\n    return this.state.records.actors.get(id);\n  }\n  getActorKeys() {\n    return [...this.state.records.actors.keys()];\n  }\n  enableSequenceNumbers() {\n    this.state.records.sequenceNumbersEnabled = true;\n  }\n  disableSequenceNumbers() {\n    this.state.records.sequenceNumbersEnabled = false;\n  }\n  showSequenceNumbers() {\n    return this.state.records.sequenceNumbersEnabled;\n  }\n  setWrap(wrapSetting) {\n    this.state.records.wrapEnabled = wrapSetting;\n  }\n  extractWrap(text) {\n    if (text === void 0) {\n      return {};\n    }\n    text = text.trim();\n    const wrap = /^:?wrap:/.exec(text) !== null ? true : /^:?nowrap:/.exec(text) !== null ? false : void 0;\n    const cleanedText = (wrap === void 0 ? text : text.replace(/^:?(?:no)?wrap:/, "")).trim();\n    return { cleanedText, wrap };\n  }\n  autoWrap() {\n    if (this.state.records.wrapEnabled !== void 0) {\n      return this.state.records.wrapEnabled;\n    }\n    return (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)().sequence?.wrap ?? false;\n  }\n  clear() {\n    this.state.reset();\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.clear)();\n  }\n  parseMessage(str) {\n    const trimmedStr = str.trim();\n    const { wrap, cleanedText } = this.extractWrap(trimmedStr);\n    const message = {\n      text: cleanedText,\n      wrap\n    };\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.debug(`parseMessage: ${JSON.stringify(message)}`);\n    return message;\n  }\n  // We expect the box statement to be color first then description\n  // The color can be rgb,rgba,hsl,hsla, or css code names  #hex codes are not supported for now because of the way the char # is handled\n  // We extract first segment as color, the rest of the line is considered as text\n  parseBoxData(str) {\n    const match = /^((?:rgba?|hsla?)\\s*\\(.*\\)|\\w*)(.*)$/.exec(str);\n    let color = match?.[1] ? match[1].trim() : "transparent";\n    let title = match?.[2] ? match[2].trim() : void 0;\n    if (window?.CSS) {\n      if (!window.CSS.supports("color", color)) {\n        color = "transparent";\n        title = str.trim();\n      }\n    } else {\n      const style = new Option().style;\n      style.color = color;\n      if (style.color !== color) {\n        color = "transparent";\n        title = str.trim();\n      }\n    }\n    const { wrap, cleanedText } = this.extractWrap(title);\n    return {\n      text: cleanedText ? (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.sanitizeText)(cleanedText, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()) : void 0,\n      color,\n      wrap\n    };\n  }\n  addNote(actor, placement, message) {\n    const note = {\n      actor,\n      placement,\n      message: message.text,\n      wrap: message.wrap ?? this.autoWrap()\n    };\n    const actors = [].concat(actor, actor);\n    this.state.records.notes.push(note);\n    this.state.records.messages.push({\n      id: this.state.records.messages.length.toString(),\n      from: actors[0],\n      to: actors[1],\n      message: message.text,\n      wrap: message.wrap ?? this.autoWrap(),\n      type: this.LINETYPE.NOTE,\n      placement\n    });\n  }\n  addLinks(actorId, text) {\n    const actor = this.getActor(actorId);\n    try {\n      let sanitizedText = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.sanitizeText)(text.text, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)());\n      sanitizedText = sanitizedText.replace(/&equals;/g, "=");\n      sanitizedText = sanitizedText.replace(/&amp;/g, "&");\n      const links = JSON.parse(sanitizedText);\n      this.insertLinks(actor, links);\n    } catch (e) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.error("error while parsing actor link text", e);\n    }\n  }\n  addALink(actorId, text) {\n    const actor = this.getActor(actorId);\n    try {\n      const links = {};\n      let sanitizedText = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.sanitizeText)(text.text, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)());\n      const sep = sanitizedText.indexOf("@");\n      sanitizedText = sanitizedText.replace(/&equals;/g, "=");\n      sanitizedText = sanitizedText.replace(/&amp;/g, "&");\n      const label = sanitizedText.slice(0, sep - 1).trim();\n      const link = sanitizedText.slice(sep + 1).trim();\n      links[label] = link;\n      this.insertLinks(actor, links);\n    } catch (e) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.error("error while parsing actor link text", e);\n    }\n  }\n  insertLinks(actor, links) {\n    if (actor.links == null) {\n      actor.links = links;\n    } else {\n      for (const key in links) {\n        actor.links[key] = links[key];\n      }\n    }\n  }\n  addProperties(actorId, text) {\n    const actor = this.getActor(actorId);\n    try {\n      const sanitizedText = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.sanitizeText)(text.text, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)());\n      const properties = JSON.parse(sanitizedText);\n      this.insertProperties(actor, properties);\n    } catch (e) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.error("error while parsing actor properties text", e);\n    }\n  }\n  insertProperties(actor, properties) {\n    if (actor.properties == null) {\n      actor.properties = properties;\n    } else {\n      for (const key in properties) {\n        actor.properties[key] = properties[key];\n      }\n    }\n  }\n  boxEnd() {\n    this.state.records.currentBox = void 0;\n  }\n  addDetails(actorId, text) {\n    const actor = this.getActor(actorId);\n    const elem = document.getElementById(text.text);\n    try {\n      const text2 = elem.innerHTML;\n      const details = JSON.parse(text2);\n      if (details.properties) {\n        this.insertProperties(actor, details.properties);\n      }\n      if (details.links) {\n        this.insertLinks(actor, details.links);\n      }\n    } catch (e) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.error("error while parsing actor details text", e);\n    }\n  }\n  getActorProperty(actor, key) {\n    if (actor?.properties !== void 0) {\n      return actor.properties[key];\n    }\n    return void 0;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-redundant-type-constituents\n  apply(param) {\n    if (Array.isArray(param)) {\n      param.forEach((item) => {\n        this.apply(item);\n      });\n    } else {\n      switch (param.type) {\n        case "sequenceIndex":\n          this.state.records.messages.push({\n            id: this.state.records.messages.length.toString(),\n            from: void 0,\n            to: void 0,\n            message: {\n              start: param.sequenceIndex,\n              step: param.sequenceIndexStep,\n              visible: param.sequenceVisible\n            },\n            wrap: false,\n            type: param.signalType\n          });\n          break;\n        case "addParticipant":\n          this.addActor(param.actor, param.actor, param.description, param.draw, param.config);\n          break;\n        case "createParticipant":\n          if (this.state.records.actors.has(param.actor)) {\n            throw new Error(\n              "It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use \'AS\' aliases to simulate the behavior"\n            );\n          }\n          this.state.records.lastCreated = param.actor;\n          this.addActor(param.actor, param.actor, param.description, param.draw, param.config);\n          this.state.records.createdActors.set(param.actor, this.state.records.messages.length);\n          break;\n        case "destroyParticipant":\n          this.state.records.lastDestroyed = param.actor;\n          this.state.records.destroyedActors.set(param.actor, this.state.records.messages.length);\n          break;\n        case "activeStart":\n          this.addSignal(param.actor, void 0, void 0, param.signalType);\n          break;\n        case "activeEnd":\n          this.addSignal(param.actor, void 0, void 0, param.signalType);\n          break;\n        case "addNote":\n          this.addNote(param.actor, param.placement, param.text);\n          break;\n        case "addLinks":\n          this.addLinks(param.actor, param.text);\n          break;\n        case "addALink":\n          this.addALink(param.actor, param.text);\n          break;\n        case "addProperties":\n          this.addProperties(param.actor, param.text);\n          break;\n        case "addDetails":\n          this.addDetails(param.actor, param.text);\n          break;\n        case "addMessage":\n          if (this.state.records.lastCreated) {\n            if (param.to !== this.state.records.lastCreated) {\n              throw new Error(\n                "The created participant " + this.state.records.lastCreated.name + " does not have an associated creating message after its declaration. Please check the sequence diagram."\n              );\n            } else {\n              this.state.records.lastCreated = void 0;\n            }\n          } else if (this.state.records.lastDestroyed) {\n            if (param.to !== this.state.records.lastDestroyed && param.from !== this.state.records.lastDestroyed) {\n              throw new Error(\n                "The destroyed participant " + this.state.records.lastDestroyed.name + " does not have an associated destroying message after its declaration. Please check the sequence diagram."\n              );\n            } else {\n              this.state.records.lastDestroyed = void 0;\n            }\n          }\n          this.addSignal(param.from, param.to, param.msg, param.signalType, param.activate);\n          break;\n        case "boxStart":\n          this.addBox(param.boxData);\n          break;\n        case "boxEnd":\n          this.boxEnd();\n          break;\n        case "loopStart":\n          this.addSignal(void 0, void 0, param.loopText, param.signalType);\n          break;\n        case "loopEnd":\n          this.addSignal(void 0, void 0, void 0, param.signalType);\n          break;\n        case "rectStart":\n          this.addSignal(void 0, void 0, param.color, param.signalType);\n          break;\n        case "rectEnd":\n          this.addSignal(void 0, void 0, void 0, param.signalType);\n          break;\n        case "optStart":\n          this.addSignal(void 0, void 0, param.optText, param.signalType);\n          break;\n        case "optEnd":\n          this.addSignal(void 0, void 0, void 0, param.signalType);\n          break;\n        case "altStart":\n          this.addSignal(void 0, void 0, param.altText, param.signalType);\n          break;\n        case "else":\n          this.addSignal(void 0, void 0, param.altText, param.signalType);\n          break;\n        case "altEnd":\n          this.addSignal(void 0, void 0, void 0, param.signalType);\n          break;\n        case "setAccTitle":\n          (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.setAccTitle)(param.text);\n          break;\n        case "parStart":\n          this.addSignal(void 0, void 0, param.parText, param.signalType);\n          break;\n        case "and":\n          this.addSignal(void 0, void 0, param.parText, param.signalType);\n          break;\n        case "parEnd":\n          this.addSignal(void 0, void 0, void 0, param.signalType);\n          break;\n        case "criticalStart":\n          this.addSignal(void 0, void 0, param.criticalText, param.signalType);\n          break;\n        case "option":\n          this.addSignal(void 0, void 0, param.optionText, param.signalType);\n          break;\n        case "criticalEnd":\n          this.addSignal(void 0, void 0, void 0, param.signalType);\n          break;\n        case "breakStart":\n          this.addSignal(void 0, void 0, param.breakText, param.signalType);\n          break;\n        case "breakEnd":\n          this.addSignal(void 0, void 0, void 0, param.signalType);\n          break;\n      }\n    }\n  }\n  getConfig() {\n    return (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)().sequence;\n  }\n};\n\n// src/diagrams/sequence/styles.js\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((options) => `.actor {\n    stroke: ${options.actorBorder};\n    fill: ${options.actorBkg};\n  }\n\n  text.actor > tspan {\n    fill: ${options.actorTextColor};\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ${options.actorLineColor};\n  }\n  \n  .innerArc {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ${options.signalColor};\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ${options.signalColor};\n  }\n\n  #arrowhead path {\n    fill: ${options.signalColor};\n    stroke: ${options.signalColor};\n  }\n\n  .sequenceNumber {\n    fill: ${options.sequenceNumberColor};\n  }\n\n  #sequencenumber {\n    fill: ${options.signalColor};\n  }\n\n  #crosshead path {\n    fill: ${options.signalColor};\n    stroke: ${options.signalColor};\n  }\n\n  .messageText {\n    fill: ${options.signalTextColor};\n    stroke: none;\n  }\n\n  .labelBox {\n    stroke: ${options.labelBoxBorderColor};\n    fill: ${options.labelBoxBkgColor};\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ${options.labelTextColor};\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ${options.loopTextColor};\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ${options.labelBoxBorderColor};\n    fill: ${options.labelBoxBorderColor};\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ${options.noteBorderColor};\n    fill: ${options.noteBkgColor};\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ${options.noteTextColor};\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ${options.activationBkgColor};\n    stroke: ${options.activationBorderColor};\n  }\n\n  .activation1 {\n    fill: ${options.activationBkgColor};\n    stroke: ${options.activationBorderColor};\n  }\n\n  .activation2 {\n    fill: ${options.activationBkgColor};\n    stroke: ${options.activationBorderColor};\n  }\n\n  .actorPopupMenu {\n    position: absolute;\n  }\n\n  .actorPopupMenuPanel {\n    position: absolute;\n    fill: ${options.actorBkg};\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\n}\n  .actor-man line {\n    stroke: ${options.actorBorder};\n    fill: ${options.actorBkg};\n  }\n  .actor-man circle, line {\n    stroke: ${options.actorBorder};\n    fill: ${options.actorBkg};\n    stroke-width: 2px;\n  }\n\n`, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/sequence/sequenceRenderer.ts\n\n\n// src/diagrams/sequence/svgDraw.js\n\nvar ACTOR_TYPE_WIDTH = 18 * 2;\nvar TOP_ACTOR_CLASS = "actor-top";\nvar BOTTOM_ACTOR_CLASS = "actor-bottom";\nvar ACTOR_BOX_CLASS = "actor-box";\nvar ACTOR_MAN_FIGURE_CLASS = "actor-man";\nvar drawRect2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, rectData) {\n  return (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.drawRect)(elem, rectData);\n}, "drawRect");\nvar drawPopup = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, actor, minMenuWidth, textAttrs, forceMenus) {\n  if (actor.links === void 0 || actor.links === null || Object.keys(actor.links).length === 0) {\n    return { height: 0, width: 0 };\n  }\n  const links = actor.links;\n  const actorCnt2 = actor.actorCnt;\n  const rectData = actor.rectData;\n  var displayValue = "none";\n  if (forceMenus) {\n    displayValue = "block !important";\n  }\n  const g = elem.append("g");\n  g.attr("id", "actor" + actorCnt2 + "_popup");\n  g.attr("class", "actorPopupMenu");\n  g.attr("display", displayValue);\n  var actorClass = "";\n  if (rectData.class !== void 0) {\n    actorClass = " " + rectData.class;\n  }\n  let menuWidth = rectData.width > minMenuWidth ? rectData.width : minMenuWidth;\n  const rectElem = g.append("rect");\n  rectElem.attr("class", "actorPopupMenuPanel" + actorClass);\n  rectElem.attr("x", rectData.x);\n  rectElem.attr("y", rectData.height);\n  rectElem.attr("fill", rectData.fill);\n  rectElem.attr("stroke", rectData.stroke);\n  rectElem.attr("width", menuWidth);\n  rectElem.attr("height", rectData.height);\n  rectElem.attr("rx", rectData.rx);\n  rectElem.attr("ry", rectData.ry);\n  if (links != null) {\n    var linkY = 20;\n    for (let key in links) {\n      var linkElem = g.append("a");\n      var sanitizedLink = (0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_7__.sanitizeUrl)(links[key]);\n      linkElem.attr("xlink:href", sanitizedLink);\n      linkElem.attr("target", "_blank");\n      _drawMenuItemTextCandidateFunc(textAttrs)(\n        key,\n        linkElem,\n        rectData.x + 10,\n        rectData.height + linkY,\n        menuWidth,\n        20,\n        { class: "actor" },\n        textAttrs\n      );\n      linkY += 30;\n    }\n  }\n  rectElem.attr("height", linkY);\n  return { height: rectData.height + linkY, width: menuWidth };\n}, "drawPopup");\nvar popupMenuToggle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(popId) {\n  return "var pu = document.getElementById(\'" + popId + "\'); if (pu != null) { pu.style.display = pu.style.display == \'block\' ? \'none\' : \'block\'; }";\n}, "popupMenuToggle");\nvar drawKatex = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async function(elem, textData, msgModel = null) {\n  let textElem = elem.append("foreignObject");\n  const linesSanitized = await (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.renderKatexSanitized)(textData.text, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig)());\n  const divElem = textElem.append("xhtml:div").attr("style", "width: fit-content;").attr("xmlns", "http://www.w3.org/1999/xhtml").html(linesSanitized);\n  const dim = divElem.node().getBoundingClientRect();\n  textElem.attr("height", Math.round(dim.height)).attr("width", Math.round(dim.width));\n  if (textData.class === "noteText") {\n    const rectElem = elem.node().firstChild;\n    rectElem.setAttribute("height", dim.height + 2 * textData.textMargin);\n    const rectDim = rectElem.getBBox();\n    textElem.attr("x", Math.round(rectDim.x + rectDim.width / 2 - dim.width / 2)).attr("y", Math.round(rectDim.y + rectDim.height / 2 - dim.height / 2));\n  } else if (msgModel) {\n    let { startx, stopx, starty } = msgModel;\n    if (startx > stopx) {\n      const temp = startx;\n      startx = stopx;\n      stopx = temp;\n    }\n    textElem.attr("x", Math.round(startx + Math.abs(startx - stopx) / 2 - dim.width / 2));\n    if (textData.class === "loopText") {\n      textElem.attr("y", Math.round(starty));\n    } else {\n      textElem.attr("y", Math.round(starty - dim.height));\n    }\n  }\n  return [textElem];\n}, "drawKatex");\nvar drawText = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, textData) {\n  let prevTextHeight = 0;\n  let textHeight = 0;\n  const lines = textData.text.split(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.lineBreakRegex);\n  const [_textFontSize, _textFontSizePx] = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.parseFontSize)(textData.fontSize);\n  let textElems = [];\n  let dy = 0;\n  let yfunc = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(() => textData.y, "yfunc");\n  if (textData.valign !== void 0 && textData.textMargin !== void 0 && textData.textMargin > 0) {\n    switch (textData.valign) {\n      case "top":\n      case "start":\n        yfunc = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(() => Math.round(textData.y + textData.textMargin), "yfunc");\n        break;\n      case "middle":\n      case "center":\n        yfunc = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(() => Math.round(textData.y + (prevTextHeight + textHeight + textData.textMargin) / 2), "yfunc");\n        break;\n      case "bottom":\n      case "end":\n        yfunc = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(() => Math.round(\n          textData.y + (prevTextHeight + textHeight + 2 * textData.textMargin) - textData.textMargin\n        ), "yfunc");\n        break;\n    }\n  }\n  if (textData.anchor !== void 0 && textData.textMargin !== void 0 && textData.width !== void 0) {\n    switch (textData.anchor) {\n      case "left":\n      case "start":\n        textData.x = Math.round(textData.x + textData.textMargin);\n        textData.anchor = "start";\n        textData.dominantBaseline = "middle";\n        textData.alignmentBaseline = "middle";\n        break;\n      case "middle":\n      case "center":\n        textData.x = Math.round(textData.x + textData.width / 2);\n        textData.anchor = "middle";\n        textData.dominantBaseline = "middle";\n        textData.alignmentBaseline = "middle";\n        break;\n      case "right":\n      case "end":\n        textData.x = Math.round(textData.x + textData.width - textData.textMargin);\n        textData.anchor = "end";\n        textData.dominantBaseline = "middle";\n        textData.alignmentBaseline = "middle";\n        break;\n    }\n  }\n  for (let [i, line] of lines.entries()) {\n    if (textData.textMargin !== void 0 && textData.textMargin === 0 && _textFontSize !== void 0) {\n      dy = i * _textFontSize;\n    }\n    const textElem = elem.append("text");\n    textElem.attr("x", textData.x);\n    textElem.attr("y", yfunc());\n    if (textData.anchor !== void 0) {\n      textElem.attr("text-anchor", textData.anchor).attr("dominant-baseline", textData.dominantBaseline).attr("alignment-baseline", textData.alignmentBaseline);\n    }\n    if (textData.fontFamily !== void 0) {\n      textElem.style("font-family", textData.fontFamily);\n    }\n    if (_textFontSizePx !== void 0) {\n      textElem.style("font-size", _textFontSizePx);\n    }\n    if (textData.fontWeight !== void 0) {\n      textElem.style("font-weight", textData.fontWeight);\n    }\n    if (textData.fill !== void 0) {\n      textElem.attr("fill", textData.fill);\n    }\n    if (textData.class !== void 0) {\n      textElem.attr("class", textData.class);\n    }\n    if (textData.dy !== void 0) {\n      textElem.attr("dy", textData.dy);\n    } else if (dy !== 0) {\n      textElem.attr("dy", dy);\n    }\n    const text = line || _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.ZERO_WIDTH_SPACE;\n    if (textData.tspan) {\n      const span = textElem.append("tspan");\n      span.attr("x", textData.x);\n      if (textData.fill !== void 0) {\n        span.attr("fill", textData.fill);\n      }\n      span.text(text);\n    } else {\n      textElem.text(text);\n    }\n    if (textData.valign !== void 0 && textData.textMargin !== void 0 && textData.textMargin > 0) {\n      textHeight += (textElem._groups || textElem)[0][0].getBBox().height;\n      prevTextHeight = textHeight;\n    }\n    textElems.push(textElem);\n  }\n  return textElems;\n}, "drawText");\nvar drawLabel = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, txtObject) {\n  function genPoints(x, y, width, height, cut) {\n    return x + "," + y + " " + (x + width) + "," + y + " " + (x + width) + "," + (y + height - cut) + " " + (x + width - cut * 1.2) + "," + (y + height) + " " + x + "," + (y + height);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(genPoints, "genPoints");\n  const polygon = elem.append("polygon");\n  polygon.attr("points", genPoints(txtObject.x, txtObject.y, txtObject.width, txtObject.height, 7));\n  polygon.attr("class", "labelBox");\n  txtObject.y = txtObject.y + txtObject.height / 2;\n  drawText(elem, txtObject);\n  return polygon;\n}, "drawLabel");\nvar actorCnt = -1;\nvar fixLifeLineHeights = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((diagram2, actors, actorKeys, conf2) => {\n  if (!diagram2.select) {\n    return;\n  }\n  actorKeys.forEach((actorKey) => {\n    const actor = actors.get(actorKey);\n    const actorDOM = diagram2.select("#actor" + actor.actorCnt);\n    if (!conf2.mirrorActors && actor.stopy) {\n      actorDOM.attr("y2", actor.stopy + actor.height / 2);\n    } else if (conf2.mirrorActors) {\n      actorDOM.attr("y2", actor.stopy);\n    }\n  });\n}, "fixLifeLineHeights");\nvar drawActorTypeParticipant = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, actor, conf2, isFooter) {\n  const actorY = isFooter ? actor.stopy : actor.starty;\n  const center = actor.x + actor.width / 2;\n  const centerY = actorY + actor.height;\n  const boxplusLineGroup = elem.append("g").lower();\n  var g = boxplusLineGroup;\n  if (!isFooter) {\n    actorCnt++;\n    if (Object.keys(actor.links || {}).length && !conf2.forceMenus) {\n      g.attr("onclick", popupMenuToggle(`actor${actorCnt}_popup`)).attr("cursor", "pointer");\n    }\n    g.append("line").attr("id", "actor" + actorCnt).attr("x1", center).attr("y1", centerY).attr("x2", center).attr("y2", 2e3).attr("class", "actor-line 200").attr("stroke-width", "0.5px").attr("stroke", "#999").attr("name", actor.name);\n    g = boxplusLineGroup.append("g");\n    actor.actorCnt = actorCnt;\n    if (actor.links != null) {\n      g.attr("id", "root-" + actorCnt);\n    }\n  }\n  const rect = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getNoteRect)();\n  var cssclass = "actor";\n  if (actor.properties?.class) {\n    cssclass = actor.properties.class;\n  } else {\n    rect.fill = "#eaeaea";\n  }\n  if (isFooter) {\n    cssclass += ` ${BOTTOM_ACTOR_CLASS}`;\n  } else {\n    cssclass += ` ${TOP_ACTOR_CLASS}`;\n  }\n  rect.x = actor.x;\n  rect.y = actorY;\n  rect.width = actor.width;\n  rect.height = actor.height;\n  rect.class = cssclass;\n  rect.rx = 3;\n  rect.ry = 3;\n  rect.name = actor.name;\n  const rectElem = drawRect2(g, rect);\n  actor.rectData = rect;\n  if (actor.properties?.icon) {\n    const iconSrc = actor.properties.icon.trim();\n    if (iconSrc.charAt(0) === "@") {\n      (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.drawEmbeddedImage)(g, rect.x + rect.width - 20, rect.y + 10, iconSrc.substr(1));\n    } else {\n      (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.drawImage)(g, rect.x + rect.width - 20, rect.y + 10, iconSrc);\n    }\n  }\n  _drawTextCandidateFunc(conf2, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(actor.description))(\n    actor.description,\n    g,\n    rect.x,\n    rect.y,\n    rect.width,\n    rect.height,\n    { class: `actor ${ACTOR_BOX_CLASS}` },\n    conf2\n  );\n  let height = actor.height;\n  if (rectElem.node) {\n    const bounds2 = rectElem.node().getBBox();\n    actor.height = bounds2.height;\n    height = bounds2.height;\n  }\n  return height;\n}, "drawActorTypeParticipant");\nvar drawActorTypeCollections = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, actor, conf2, isFooter) {\n  const actorY = isFooter ? actor.stopy : actor.starty;\n  const center = actor.x + actor.width / 2;\n  const centerY = actorY + actor.height;\n  const boxplusLineGroup = elem.append("g").lower();\n  var g = boxplusLineGroup;\n  if (!isFooter) {\n    actorCnt++;\n    if (Object.keys(actor.links || {}).length && !conf2.forceMenus) {\n      g.attr("onclick", popupMenuToggle(`actor${actorCnt}_popup`)).attr("cursor", "pointer");\n    }\n    g.append("line").attr("id", "actor" + actorCnt).attr("x1", center).attr("y1", centerY).attr("x2", center).attr("y2", 2e3).attr("class", "actor-line 200").attr("stroke-width", "0.5px").attr("stroke", "#999").attr("name", actor.name);\n    g = boxplusLineGroup.append("g");\n    actor.actorCnt = actorCnt;\n    if (actor.links != null) {\n      g.attr("id", "root-" + actorCnt);\n    }\n  }\n  const rect = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getNoteRect)();\n  var cssclass = "actor";\n  if (actor.properties?.class) {\n    cssclass = actor.properties.class;\n  } else {\n    rect.fill = "#eaeaea";\n  }\n  if (isFooter) {\n    cssclass += ` ${BOTTOM_ACTOR_CLASS}`;\n  } else {\n    cssclass += ` ${TOP_ACTOR_CLASS}`;\n  }\n  rect.x = actor.x;\n  rect.y = actorY;\n  rect.width = actor.width;\n  rect.height = actor.height;\n  rect.class = cssclass;\n  rect.name = actor.name;\n  const offset = 6;\n  const shadowRect = {\n    ...rect,\n    x: rect.x + (isFooter ? -offset : -offset),\n    y: rect.y + (isFooter ? +offset : +offset),\n    class: "actor"\n  };\n  const rectElem = drawRect2(g, rect);\n  drawRect2(g, shadowRect);\n  actor.rectData = rect;\n  if (actor.properties?.icon) {\n    const iconSrc = actor.properties.icon.trim();\n    if (iconSrc.charAt(0) === "@") {\n      (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.drawEmbeddedImage)(g, rect.x + rect.width - 20, rect.y + 10, iconSrc.substr(1));\n    } else {\n      (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.drawImage)(g, rect.x + rect.width - 20, rect.y + 10, iconSrc);\n    }\n  }\n  _drawTextCandidateFunc(conf2, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(actor.description))(\n    actor.description,\n    g,\n    rect.x - offset,\n    rect.y + offset,\n    rect.width,\n    rect.height,\n    { class: `actor ${ACTOR_BOX_CLASS}` },\n    conf2\n  );\n  let height = actor.height;\n  if (rectElem.node) {\n    const bounds2 = rectElem.node().getBBox();\n    actor.height = bounds2.height;\n    height = bounds2.height;\n  }\n  return height;\n}, "drawActorTypeCollections");\nvar drawActorTypeQueue = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, actor, conf2, isFooter) {\n  const actorY = isFooter ? actor.stopy : actor.starty;\n  const center = actor.x + actor.width / 2;\n  const centerY = actorY + actor.height;\n  const boxplusLineGroup = elem.append("g").lower();\n  let g = boxplusLineGroup;\n  if (!isFooter) {\n    actorCnt++;\n    if (Object.keys(actor.links || {}).length && !conf2.forceMenus) {\n      g.attr("onclick", popupMenuToggle(`actor${actorCnt}_popup`)).attr("cursor", "pointer");\n    }\n    g.append("line").attr("id", "actor" + actorCnt).attr("x1", center).attr("y1", centerY).attr("x2", center).attr("y2", 2e3).attr("class", "actor-line 200").attr("stroke-width", "0.5px").attr("stroke", "#999").attr("name", actor.name);\n    g = boxplusLineGroup.append("g");\n    actor.actorCnt = actorCnt;\n    if (actor.links != null) {\n      g.attr("id", "root-" + actorCnt);\n    }\n  }\n  const rect = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getNoteRect)();\n  let cssclass = "actor";\n  if (actor.properties?.class) {\n    cssclass = actor.properties.class;\n  } else {\n    rect.fill = "#eaeaea";\n  }\n  if (isFooter) {\n    cssclass += ` ${BOTTOM_ACTOR_CLASS}`;\n  } else {\n    cssclass += ` ${TOP_ACTOR_CLASS}`;\n  }\n  rect.x = actor.x;\n  rect.y = actorY;\n  rect.width = actor.width;\n  rect.height = actor.height;\n  rect.class = cssclass;\n  rect.name = actor.name;\n  const ry = rect.height / 2;\n  const rx = ry / (2.5 + rect.height / 50);\n  const cylinderGroup = g.append("g");\n  const cylinderArc = g.append("g");\n  cylinderGroup.append("path").attr(\n    "d",\n    `M ${rect.x},${rect.y + ry}\n    a ${rx},${ry} 0 0 0 0,${rect.height}\n    h ${rect.width - 2 * rx}\n    a ${rx},${ry} 0 0 0 0,-${rect.height}\n    Z\n  `\n  ).attr("class", cssclass);\n  cylinderArc.append("path").attr(\n    "d",\n    `M ${rect.x},${rect.y + ry}\n      a ${rx},${ry} 0 0 0 0,${rect.height}`\n  ).attr("stroke", "#666").attr("stroke-width", "1px").attr("class", cssclass);\n  cylinderGroup.attr("transform", `translate(${rx}, ${-(rect.height / 2)})`);\n  cylinderArc.attr("transform", `translate(${rect.width - rx}, ${-rect.height / 2})`);\n  actor.rectData = rect;\n  if (actor.properties?.icon) {\n    const iconSrc = actor.properties.icon.trim();\n    const iconX = rect.x + rect.width - 20;\n    const iconY = rect.y + 10;\n    if (iconSrc.charAt(0) === "@") {\n      (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.drawEmbeddedImage)(g, iconX, iconY, iconSrc.substr(1));\n    } else {\n      (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.drawImage)(g, iconX, iconY, iconSrc);\n    }\n  }\n  _drawTextCandidateFunc(conf2, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(actor.description))(\n    actor.description,\n    g,\n    rect.x,\n    rect.y,\n    rect.width,\n    rect.height,\n    { class: `actor ${ACTOR_BOX_CLASS}` },\n    conf2\n  );\n  let height = actor.height;\n  const lastPath = cylinderGroup.select("path:last-child");\n  if (lastPath.node()) {\n    const bounds2 = lastPath.node().getBBox();\n    actor.height = bounds2.height;\n    height = bounds2.height;\n  }\n  return height;\n}, "drawActorTypeQueue");\nvar drawActorTypeControl = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, actor, conf2, isFooter) {\n  const actorY = isFooter ? actor.stopy : actor.starty;\n  const center = actor.x + actor.width / 2;\n  const centerY = actorY + 75;\n  const line = elem.append("g").lower();\n  if (!isFooter) {\n    actorCnt++;\n    line.append("line").attr("id", "actor" + actorCnt).attr("x1", center).attr("y1", centerY).attr("x2", center).attr("y2", 2e3).attr("class", "actor-line 200").attr("stroke-width", "0.5px").attr("stroke", "#999").attr("name", actor.name);\n    actor.actorCnt = actorCnt;\n  }\n  const actElem = elem.append("g");\n  let cssClass = ACTOR_MAN_FIGURE_CLASS;\n  if (isFooter) {\n    cssClass += ` ${BOTTOM_ACTOR_CLASS}`;\n  } else {\n    cssClass += ` ${TOP_ACTOR_CLASS}`;\n  }\n  actElem.attr("class", cssClass);\n  actElem.attr("name", actor.name);\n  const rect = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getNoteRect)();\n  rect.x = actor.x;\n  rect.y = actorY;\n  rect.fill = "#eaeaea";\n  rect.width = actor.width;\n  rect.height = actor.height;\n  rect.class = "actor";\n  const cx = actor.x + actor.width / 2;\n  const cy = actorY + 30;\n  const r = 18;\n  actElem.append("defs").append("marker").attr("id", "filled-head-control").attr("refX", 11).attr("refY", 5.8).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "172.5").append("path").attr("d", "M 14.4 5.6 L 7.2 10.4 L 8.8 5.6 L 7.2 0.8 Z");\n  actElem.append("circle").attr("cx", cx).attr("cy", cy).attr("r", r).attr("fill", "#eaeaf7").attr("stroke", "#666").attr("stroke-width", 1.2);\n  actElem.append("line").attr("marker-end", "url(#filled-head-control)").attr("transform", `translate(${cx}, ${cy - r})`);\n  const bounds2 = actElem.node().getBBox();\n  actor.height = bounds2.height + 2 * (conf2?.sequence?.labelBoxHeight ?? 0);\n  _drawTextCandidateFunc(conf2, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(actor.description))(\n    actor.description,\n    actElem,\n    rect.x,\n    rect.y + r + (isFooter ? 5 : 10),\n    rect.width,\n    rect.height,\n    { class: `actor ${ACTOR_MAN_FIGURE_CLASS}` },\n    conf2\n  );\n  return actor.height;\n}, "drawActorTypeControl");\nvar drawActorTypeEntity = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, actor, conf2, isFooter) {\n  const actorY = isFooter ? actor.stopy : actor.starty;\n  const center = actor.x + actor.width / 2;\n  const centerY = actorY + 75;\n  const line = elem.append("g").lower();\n  const actElem = elem.append("g");\n  let cssClass = ACTOR_MAN_FIGURE_CLASS;\n  if (isFooter) {\n    cssClass += ` ${BOTTOM_ACTOR_CLASS}`;\n  } else {\n    cssClass += ` ${TOP_ACTOR_CLASS}`;\n  }\n  actElem.attr("class", cssClass);\n  actElem.attr("name", actor.name);\n  const rect = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getNoteRect)();\n  rect.x = actor.x;\n  rect.y = actorY;\n  rect.fill = "#eaeaea";\n  rect.width = actor.width;\n  rect.height = actor.height;\n  rect.class = "actor";\n  const cx = actor.x + actor.width / 2;\n  const cy = actorY + (!isFooter ? 25 : 10);\n  const r = 18;\n  actElem.append("circle").attr("cx", cx).attr("cy", cy).attr("r", r).attr("width", actor.width).attr("height", actor.height);\n  actElem.append("line").attr("x1", cx - r).attr("x2", cx + r).attr("y1", cy + r).attr("y2", cy + r).attr("stroke", "#333").attr("stroke-width", 2);\n  const bounds2 = actElem.node().getBBox();\n  actor.height = bounds2.height + (conf2?.sequence?.labelBoxHeight ?? 0);\n  if (!isFooter) {\n    actorCnt++;\n    line.append("line").attr("id", "actor" + actorCnt).attr("x1", center).attr("y1", centerY).attr("x2", center).attr("y2", 2e3).attr("class", "actor-line 200").attr("stroke-width", "0.5px").attr("stroke", "#999").attr("name", actor.name);\n    actor.actorCnt = actorCnt;\n  }\n  _drawTextCandidateFunc(conf2, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(actor.description))(\n    actor.description,\n    actElem,\n    rect.x,\n    rect.y + (!isFooter ? (cy + r - actorY) / 2 : (cy - actorY + r - 5) / 2),\n    rect.width,\n    rect.height,\n    { class: `actor ${ACTOR_MAN_FIGURE_CLASS}` },\n    conf2\n  );\n  if (!isFooter) {\n    actElem.attr("transform", `translate(${0}, ${r / 2})`);\n  } else {\n    actElem.attr("transform", `translate(${0}, ${r / 2})`);\n  }\n  return actor.height;\n}, "drawActorTypeEntity");\nvar drawActorTypeDatabase = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, actor, conf2, isFooter) {\n  const actorY = isFooter ? actor.stopy : actor.starty;\n  const center = actor.x + actor.width / 2;\n  const centerY = actorY + actor.height + 2 * conf2.boxTextMargin;\n  const boxplusLineGroup = elem.append("g").lower();\n  let g = boxplusLineGroup;\n  if (!isFooter) {\n    actorCnt++;\n    if (Object.keys(actor.links || {}).length && !conf2.forceMenus) {\n      g.attr("onclick", popupMenuToggle(`actor${actorCnt}_popup`)).attr("cursor", "pointer");\n    }\n    g.append("line").attr("id", "actor" + actorCnt).attr("x1", center).attr("y1", centerY).attr("x2", center).attr("y2", 2e3).attr("class", "actor-line 200").attr("stroke-width", "0.5px").attr("stroke", "#999").attr("name", actor.name);\n    g = boxplusLineGroup.append("g");\n    actor.actorCnt = actorCnt;\n    if (actor.links != null) {\n      g.attr("id", "root-" + actorCnt);\n    }\n  }\n  const rect = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getNoteRect)();\n  let cssclass = "actor";\n  if (actor.properties?.class) {\n    cssclass = actor.properties.class;\n  } else {\n    rect.fill = "#eaeaea";\n  }\n  if (isFooter) {\n    cssclass += ` ${BOTTOM_ACTOR_CLASS}`;\n  } else {\n    cssclass += ` ${TOP_ACTOR_CLASS}`;\n  }\n  rect.x = actor.x;\n  rect.y = actorY;\n  rect.width = actor.width;\n  rect.height = actor.height;\n  rect.class = cssclass;\n  rect.name = actor.name;\n  rect.x = actor.x;\n  rect.y = actorY;\n  const w = rect.width / 4;\n  const h = rect.width / 4;\n  const rx = w / 2;\n  const ry = rx / (2.5 + w / 50);\n  const cylinderGroup = g.append("g");\n  const d = `\n  M ${rect.x},${rect.y + ry}\n  a ${rx},${ry} 0 0 0 ${w},0\n  a ${rx},${ry} 0 0 0 -${w},0\n  l 0,${h - 2 * ry}\n  a ${rx},${ry} 0 0 0 ${w},0\n  l 0,-${h - 2 * ry}\n`;\n  cylinderGroup.append("path").attr("d", d).attr("fill", "#eaeaea").attr("stroke", "#000").attr("stroke-width", 1).attr("class", cssclass);\n  if (!isFooter) {\n    cylinderGroup.attr("transform", `translate(${w * 1.5}, ${(rect.height + ry) / 4})`);\n  } else {\n    cylinderGroup.attr("transform", `translate(${w * 1.5}, ${rect.height / 4 - 2 * ry})`);\n  }\n  actor.rectData = rect;\n  _drawTextCandidateFunc(conf2, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(actor.description))(\n    actor.description,\n    g,\n    rect.x,\n    rect.y + (!isFooter ? (rect.height + ry) / 2 : (rect.height + h) / 4),\n    rect.width,\n    rect.height,\n    { class: `actor ${ACTOR_BOX_CLASS}` },\n    conf2\n  );\n  const lastPath = cylinderGroup.select("path:last-child");\n  if (lastPath.node()) {\n    const bounds2 = lastPath.node().getBBox();\n    actor.height = bounds2.height + (conf2.sequence.labelBoxHeight ?? 0);\n  }\n  return actor.height;\n}, "drawActorTypeDatabase");\nvar drawActorTypeBoundary = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, actor, conf2, isFooter) {\n  const actorY = isFooter ? actor.stopy : actor.starty;\n  const center = actor.x + actor.width / 2;\n  const centerY = actorY + 80;\n  const radius = 30;\n  const line = elem.append("g").lower();\n  if (!isFooter) {\n    actorCnt++;\n    line.append("line").attr("id", "actor" + actorCnt).attr("x1", center).attr("y1", centerY).attr("x2", center).attr("y2", 2e3).attr("class", "actor-line 200").attr("stroke-width", "0.5px").attr("stroke", "#999").attr("name", actor.name);\n    actor.actorCnt = actorCnt;\n  }\n  const actElem = elem.append("g");\n  let cssClass = ACTOR_MAN_FIGURE_CLASS;\n  if (isFooter) {\n    cssClass += ` ${BOTTOM_ACTOR_CLASS}`;\n  } else {\n    cssClass += ` ${TOP_ACTOR_CLASS}`;\n  }\n  actElem.attr("class", cssClass);\n  actElem.attr("name", actor.name);\n  const rect = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getNoteRect)();\n  rect.x = actor.x;\n  rect.y = actorY;\n  rect.fill = "#eaeaea";\n  rect.width = actor.width;\n  rect.height = actor.height;\n  rect.class = "actor";\n  actElem.append("line").attr("id", "actor-man-torso" + actorCnt).attr("x1", actor.x + actor.width / 2 - radius * 2.5).attr("y1", actorY + 10).attr("x2", actor.x + actor.width / 2 - 15).attr("y2", actorY + 10);\n  actElem.append("line").attr("id", "actor-man-arms" + actorCnt).attr("x1", actor.x + actor.width / 2 - radius * 2.5).attr("y1", actorY + 0).attr("x2", actor.x + actor.width / 2 - radius * 2.5).attr("y2", actorY + 20);\n  actElem.append("circle").attr("cx", actor.x + actor.width / 2).attr("cy", actorY + 10).attr("r", radius);\n  const bounds2 = actElem.node().getBBox();\n  actor.height = bounds2.height + (conf2.sequence.labelBoxHeight ?? 0);\n  _drawTextCandidateFunc(conf2, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(actor.description))(\n    actor.description,\n    actElem,\n    rect.x,\n    rect.y + (!isFooter ? radius / 2 + 3 : radius / 2 - 4),\n    rect.width,\n    rect.height,\n    { class: `actor ${ACTOR_MAN_FIGURE_CLASS}` },\n    conf2\n  );\n  if (!isFooter) {\n    actElem.attr("transform", `translate(0,${radius / 2 + 7})`);\n  } else {\n    actElem.attr("transform", `translate(0,${radius / 2 + 7})`);\n  }\n  return actor.height;\n}, "drawActorTypeBoundary");\nvar drawActorTypeActor = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, actor, conf2, isFooter) {\n  const actorY = isFooter ? actor.stopy : actor.starty;\n  const center = actor.x + actor.width / 2;\n  const centerY = actorY + 80;\n  const line = elem.append("g").lower();\n  if (!isFooter) {\n    actorCnt++;\n    line.append("line").attr("id", "actor" + actorCnt).attr("x1", center).attr("y1", centerY).attr("x2", center).attr("y2", 2e3).attr("class", "actor-line 200").attr("stroke-width", "0.5px").attr("stroke", "#999").attr("name", actor.name);\n    actor.actorCnt = actorCnt;\n  }\n  const actElem = elem.append("g");\n  let cssClass = ACTOR_MAN_FIGURE_CLASS;\n  if (isFooter) {\n    cssClass += ` ${BOTTOM_ACTOR_CLASS}`;\n  } else {\n    cssClass += ` ${TOP_ACTOR_CLASS}`;\n  }\n  actElem.attr("class", cssClass);\n  actElem.attr("name", actor.name);\n  const rect = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getNoteRect)();\n  rect.x = actor.x;\n  rect.y = actorY;\n  rect.fill = "#eaeaea";\n  rect.width = actor.width;\n  rect.height = actor.height;\n  rect.class = "actor";\n  rect.rx = 3;\n  rect.ry = 3;\n  actElem.append("line").attr("id", "actor-man-torso" + actorCnt).attr("x1", center).attr("y1", actorY + 25).attr("x2", center).attr("y2", actorY + 45);\n  actElem.append("line").attr("id", "actor-man-arms" + actorCnt).attr("x1", center - ACTOR_TYPE_WIDTH / 2).attr("y1", actorY + 33).attr("x2", center + ACTOR_TYPE_WIDTH / 2).attr("y2", actorY + 33);\n  actElem.append("line").attr("x1", center - ACTOR_TYPE_WIDTH / 2).attr("y1", actorY + 60).attr("x2", center).attr("y2", actorY + 45);\n  actElem.append("line").attr("x1", center).attr("y1", actorY + 45).attr("x2", center + ACTOR_TYPE_WIDTH / 2 - 2).attr("y2", actorY + 60);\n  const circle = actElem.append("circle");\n  circle.attr("cx", actor.x + actor.width / 2);\n  circle.attr("cy", actorY + 10);\n  circle.attr("r", 15);\n  circle.attr("width", actor.width);\n  circle.attr("height", actor.height);\n  const bounds2 = actElem.node().getBBox();\n  actor.height = bounds2.height;\n  _drawTextCandidateFunc(conf2, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(actor.description))(\n    actor.description,\n    actElem,\n    rect.x,\n    rect.y + 35,\n    rect.width,\n    rect.height,\n    { class: `actor ${ACTOR_MAN_FIGURE_CLASS}` },\n    conf2\n  );\n  return actor.height;\n}, "drawActorTypeActor");\nvar drawActor = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async function(elem, actor, conf2, isFooter) {\n  switch (actor.type) {\n    case "actor":\n      return await drawActorTypeActor(elem, actor, conf2, isFooter);\n    case "participant":\n      return await drawActorTypeParticipant(elem, actor, conf2, isFooter);\n    case "boundary":\n      return await drawActorTypeBoundary(elem, actor, conf2, isFooter);\n    case "control":\n      return await drawActorTypeControl(elem, actor, conf2, isFooter);\n    case "entity":\n      return await drawActorTypeEntity(elem, actor, conf2, isFooter);\n    case "database":\n      return await drawActorTypeDatabase(elem, actor, conf2, isFooter);\n    case "collections":\n      return await drawActorTypeCollections(elem, actor, conf2, isFooter);\n    case "queue":\n      return await drawActorTypeQueue(elem, actor, conf2, isFooter);\n  }\n}, "drawActor");\nvar drawBox = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, box, conf2) {\n  const boxplusTextGroup = elem.append("g");\n  const g = boxplusTextGroup;\n  drawBackgroundRect2(g, box);\n  if (box.name) {\n    _drawTextCandidateFunc(conf2)(\n      box.name,\n      g,\n      box.x,\n      box.y + conf2.boxTextMargin + (box.textMaxHeight || 0) / 2,\n      box.width,\n      0,\n      { class: "text" },\n      conf2\n    );\n  }\n  g.lower();\n}, "drawBox");\nvar anchorElement = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem) {\n  return elem.append("g");\n}, "anchorElement");\nvar drawActivation = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, bounds2, verticalPos, conf2, actorActivations2) {\n  const rect = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getNoteRect)();\n  const g = bounds2.anchored;\n  rect.x = bounds2.startx;\n  rect.y = bounds2.starty;\n  rect.class = "activation" + actorActivations2 % 3;\n  rect.width = bounds2.stopx - bounds2.startx;\n  rect.height = verticalPos - bounds2.starty;\n  drawRect2(g, rect);\n}, "drawActivation");\nvar drawLoop = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async function(elem, loopModel, labelText, conf2) {\n  const {\n    boxMargin,\n    boxTextMargin,\n    labelBoxHeight,\n    labelBoxWidth,\n    messageFontFamily: fontFamily,\n    messageFontSize: fontSize,\n    messageFontWeight: fontWeight\n  } = conf2;\n  const g = elem.append("g");\n  const drawLoopLine = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(startx, starty, stopx, stopy) {\n    return g.append("line").attr("x1", startx).attr("y1", starty).attr("x2", stopx).attr("y2", stopy).attr("class", "loopLine");\n  }, "drawLoopLine");\n  drawLoopLine(loopModel.startx, loopModel.starty, loopModel.stopx, loopModel.starty);\n  drawLoopLine(loopModel.stopx, loopModel.starty, loopModel.stopx, loopModel.stopy);\n  drawLoopLine(loopModel.startx, loopModel.stopy, loopModel.stopx, loopModel.stopy);\n  drawLoopLine(loopModel.startx, loopModel.starty, loopModel.startx, loopModel.stopy);\n  if (loopModel.sections !== void 0) {\n    loopModel.sections.forEach(function(item) {\n      drawLoopLine(loopModel.startx, item.y, loopModel.stopx, item.y).style(\n        "stroke-dasharray",\n        "3, 3"\n      );\n    });\n  }\n  let txt = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getTextObj)();\n  txt.text = labelText;\n  txt.x = loopModel.startx;\n  txt.y = loopModel.starty;\n  txt.fontFamily = fontFamily;\n  txt.fontSize = fontSize;\n  txt.fontWeight = fontWeight;\n  txt.anchor = "middle";\n  txt.valign = "middle";\n  txt.tspan = false;\n  txt.width = labelBoxWidth || 50;\n  txt.height = labelBoxHeight || 20;\n  txt.textMargin = boxTextMargin;\n  txt.class = "labelText";\n  drawLabel(g, txt);\n  txt = getTextObj2();\n  txt.text = loopModel.title;\n  txt.x = loopModel.startx + labelBoxWidth / 2 + (loopModel.stopx - loopModel.startx) / 2;\n  txt.y = loopModel.starty + boxMargin + boxTextMargin;\n  txt.anchor = "middle";\n  txt.valign = "middle";\n  txt.textMargin = boxTextMargin;\n  txt.class = "loopText";\n  txt.fontFamily = fontFamily;\n  txt.fontSize = fontSize;\n  txt.fontWeight = fontWeight;\n  txt.wrap = true;\n  let textElem = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(txt.text) ? await drawKatex(g, txt, loopModel) : drawText(g, txt);\n  if (loopModel.sectionTitles !== void 0) {\n    for (const [idx, item] of Object.entries(loopModel.sectionTitles)) {\n      if (item.message) {\n        txt.text = item.message;\n        txt.x = loopModel.startx + (loopModel.stopx - loopModel.startx) / 2;\n        txt.y = loopModel.sections[idx].y + boxMargin + boxTextMargin;\n        txt.class = "loopText";\n        txt.anchor = "middle";\n        txt.valign = "middle";\n        txt.tspan = false;\n        txt.fontFamily = fontFamily;\n        txt.fontSize = fontSize;\n        txt.fontWeight = fontWeight;\n        txt.wrap = loopModel.wrap;\n        if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(txt.text)) {\n          loopModel.starty = loopModel.sections[idx].y;\n          await drawKatex(g, txt, loopModel);\n        } else {\n          drawText(g, txt);\n        }\n        let sectionHeight = Math.round(\n          textElem.map((te) => (te._groups || te)[0][0].getBBox().height).reduce((acc, curr) => acc + curr)\n        );\n        loopModel.sections[idx].height += sectionHeight - (boxMargin + boxTextMargin);\n      }\n    }\n  }\n  loopModel.height = Math.round(loopModel.stopy - loopModel.starty);\n  return g;\n}, "drawLoop");\nvar drawBackgroundRect2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem, bounds2) {\n  (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.drawBackgroundRect)(elem, bounds2);\n}, "drawBackgroundRect");\nvar insertDatabaseIcon = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem) {\n  elem.append("defs").append("symbol").attr("id", "database").attr("fill-rule", "evenodd").attr("clip-rule", "evenodd").append("path").attr("transform", "scale(.5)").attr(\n    "d",\n    "M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z"\n  );\n}, "insertDatabaseIcon");\nvar insertComputerIcon = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem) {\n  elem.append("defs").append("symbol").attr("id", "computer").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr(\n    "d",\n    "M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z"\n  );\n}, "insertComputerIcon");\nvar insertClockIcon = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem) {\n  elem.append("defs").append("symbol").attr("id", "clock").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr(\n    "d",\n    "M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z"\n  );\n}, "insertClockIcon");\nvar insertArrowHead = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem) {\n  elem.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 7.9).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto-start-reverse").append("path").attr("d", "M -1 0 L 10 5 L 0 10 z");\n}, "insertArrowHead");\nvar insertArrowFilledHead = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem) {\n  elem.append("defs").append("marker").attr("id", "filled-head").attr("refX", 15.5).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");\n}, "insertArrowFilledHead");\nvar insertSequenceNumber = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem) {\n  elem.append("defs").append("marker").attr("id", "sequencenumber").attr("refX", 15).attr("refY", 15).attr("markerWidth", 60).attr("markerHeight", 40).attr("orient", "auto").append("circle").attr("cx", 15).attr("cy", 15).attr("r", 6);\n}, "insertSequenceNumber");\nvar insertArrowCrossHead = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(elem) {\n  const defs = elem.append("defs");\n  const marker = defs.append("marker").attr("id", "crosshead").attr("markerWidth", 15).attr("markerHeight", 8).attr("orient", "auto").attr("refX", 4).attr("refY", 4.5);\n  marker.append("path").attr("fill", "none").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1pt").attr("d", "M 1,2 L 6,7 M 6,2 L 1,7");\n}, "insertArrowCrossHead");\nvar getTextObj2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n  return {\n    x: 0,\n    y: 0,\n    fill: void 0,\n    anchor: void 0,\n    style: "#666",\n    width: void 0,\n    height: void 0,\n    textMargin: 0,\n    rx: 0,\n    ry: 0,\n    tspan: true,\n    valign: void 0\n  };\n}, "getTextObj");\nvar getNoteRect2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n  return {\n    x: 0,\n    y: 0,\n    fill: "#EDF2AE",\n    stroke: "#666",\n    width: 100,\n    anchor: "start",\n    height: 100,\n    rx: 0,\n    ry: 0\n  };\n}, "getNoteRect");\nvar _drawTextCandidateFunc = /* @__PURE__ */ (function() {\n  function byText(content, g, x, y, width, height, textAttrs) {\n    const text = g.append("text").attr("x", x + width / 2).attr("y", y + height / 2 + 5).style("text-anchor", "middle").text(content);\n    _setTextAttrs(text, textAttrs);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(byText, "byText");\n  function byTspan(content, g, x, y, width, height, textAttrs, conf2) {\n    const { actorFontSize, actorFontFamily, actorFontWeight } = conf2;\n    const [_actorFontSize, _actorFontSizePx] = (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.parseFontSize)(actorFontSize);\n    const lines = content.split(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.lineBreakRegex);\n    for (let i = 0; i < lines.length; i++) {\n      const dy = i * _actorFontSize - _actorFontSize * (lines.length - 1) / 2;\n      const text = g.append("text").attr("x", x + width / 2).attr("y", y).style("text-anchor", "middle").style("font-size", _actorFontSizePx).style("font-weight", actorFontWeight).style("font-family", actorFontFamily);\n      text.append("tspan").attr("x", x + width / 2).attr("dy", dy).text(lines[i]);\n      text.attr("y", y + height / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central");\n      _setTextAttrs(text, textAttrs);\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(byTspan, "byTspan");\n  function byFo(content, g, x, y, width, height, textAttrs, conf2) {\n    const s = g.append("switch");\n    const f = s.append("foreignObject").attr("x", x).attr("y", y).attr("width", width).attr("height", height);\n    const text = f.append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");\n    text.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(content);\n    byTspan(content, s, x, y, width, height, textAttrs, conf2);\n    _setTextAttrs(text, textAttrs);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(byFo, "byFo");\n  async function byKatex(content, g, x, y, width, height, textAttrs, conf2) {\n    const dim = await (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.calculateMathMLDimensions)(content, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig)());\n    const s = g.append("switch");\n    const f = s.append("foreignObject").attr("x", x + width / 2 - dim.width / 2).attr("y", y + height / 2 - dim.height / 2).attr("width", dim.width).attr("height", dim.height);\n    const text = f.append("xhtml:div").style("height", "100%").style("width", "100%");\n    text.append("div").style("text-align", "center").style("vertical-align", "middle").html(await (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.renderKatexSanitized)(content, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig)()));\n    byTspan(content, s, x, y, width, height, textAttrs, conf2);\n    _setTextAttrs(text, textAttrs);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(byKatex, "byKatex");\n  function _setTextAttrs(toText, fromTextAttrsDict) {\n    for (const key in fromTextAttrsDict) {\n      if (fromTextAttrsDict.hasOwnProperty(key)) {\n        toText.attr(key, fromTextAttrsDict[key]);\n      }\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(_setTextAttrs, "_setTextAttrs");\n  return function(conf2, hasKatex2 = false) {\n    if (hasKatex2) {\n      return byKatex;\n    }\n    return conf2.textPlacement === "fo" ? byFo : conf2.textPlacement === "old" ? byText : byTspan;\n  };\n})();\nvar _drawMenuItemTextCandidateFunc = /* @__PURE__ */ (function() {\n  function byText(content, g, x, y, width, height, textAttrs) {\n    const text = g.append("text").attr("x", x).attr("y", y).style("text-anchor", "start").text(content);\n    _setTextAttrs(text, textAttrs);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(byText, "byText");\n  function byTspan(content, g, x, y, width, height, textAttrs, conf2) {\n    const { actorFontSize, actorFontFamily, actorFontWeight } = conf2;\n    const lines = content.split(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.lineBreakRegex);\n    for (let i = 0; i < lines.length; i++) {\n      const dy = i * actorFontSize - actorFontSize * (lines.length - 1) / 2;\n      const text = g.append("text").attr("x", x).attr("y", y).style("text-anchor", "start").style("font-size", actorFontSize).style("font-weight", actorFontWeight).style("font-family", actorFontFamily);\n      text.append("tspan").attr("x", x).attr("dy", dy).text(lines[i]);\n      text.attr("y", y + height / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central");\n      _setTextAttrs(text, textAttrs);\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(byTspan, "byTspan");\n  function byFo(content, g, x, y, width, height, textAttrs, conf2) {\n    const s = g.append("switch");\n    const f = s.append("foreignObject").attr("x", x).attr("y", y).attr("width", width).attr("height", height);\n    const text = f.append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");\n    text.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(content);\n    byTspan(content, s, x, y, width, height, textAttrs, conf2);\n    _setTextAttrs(text, textAttrs);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(byFo, "byFo");\n  function _setTextAttrs(toText, fromTextAttrsDict) {\n    for (const key in fromTextAttrsDict) {\n      if (fromTextAttrsDict.hasOwnProperty(key)) {\n        toText.attr(key, fromTextAttrsDict[key]);\n      }\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(_setTextAttrs, "_setTextAttrs");\n  return function(conf2) {\n    return conf2.textPlacement === "fo" ? byFo : conf2.textPlacement === "old" ? byText : byTspan;\n  };\n})();\nvar svgDraw_default = {\n  drawRect: drawRect2,\n  drawText,\n  drawLabel,\n  drawActor,\n  drawBox,\n  drawPopup,\n  anchorElement,\n  drawActivation,\n  drawLoop,\n  drawBackgroundRect: drawBackgroundRect2,\n  insertArrowHead,\n  insertArrowFilledHead,\n  insertSequenceNumber,\n  insertArrowCrossHead,\n  insertDatabaseIcon,\n  insertComputerIcon,\n  insertClockIcon,\n  getTextObj: getTextObj2,\n  getNoteRect: getNoteRect2,\n  fixLifeLineHeights,\n  sanitizeUrl: _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_7__.sanitizeUrl\n};\n\n// src/diagrams/sequence/sequenceRenderer.ts\nvar conf = {};\nvar bounds = {\n  data: {\n    startx: void 0,\n    stopx: void 0,\n    starty: void 0,\n    stopy: void 0\n  },\n  verticalPos: 0,\n  sequenceItems: [],\n  activations: [],\n  models: {\n    getHeight: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n      return Math.max.apply(\n        null,\n        this.actors.length === 0 ? [0] : this.actors.map((actor) => actor.height || 0)\n      ) + (this.loops.length === 0 ? 0 : this.loops.map((it) => it.height || 0).reduce((acc, h) => acc + h)) + (this.messages.length === 0 ? 0 : this.messages.map((it) => it.height || 0).reduce((acc, h) => acc + h)) + (this.notes.length === 0 ? 0 : this.notes.map((it) => it.height || 0).reduce((acc, h) => acc + h));\n    }, "getHeight"),\n    clear: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n      this.actors = [];\n      this.boxes = [];\n      this.loops = [];\n      this.messages = [];\n      this.notes = [];\n    }, "clear"),\n    addBox: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(boxModel) {\n      this.boxes.push(boxModel);\n    }, "addBox"),\n    addActor: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(actorModel) {\n      this.actors.push(actorModel);\n    }, "addActor"),\n    addLoop: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(loopModel) {\n      this.loops.push(loopModel);\n    }, "addLoop"),\n    addMessage: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(msgModel) {\n      this.messages.push(msgModel);\n    }, "addMessage"),\n    addNote: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(noteModel) {\n      this.notes.push(noteModel);\n    }, "addNote"),\n    lastActor: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n      return this.actors[this.actors.length - 1];\n    }, "lastActor"),\n    lastLoop: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n      return this.loops[this.loops.length - 1];\n    }, "lastLoop"),\n    lastMessage: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n      return this.messages[this.messages.length - 1];\n    }, "lastMessage"),\n    lastNote: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n      return this.notes[this.notes.length - 1];\n    }, "lastNote"),\n    actors: [],\n    boxes: [],\n    loops: [],\n    messages: [],\n    notes: []\n  },\n  init: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n    this.sequenceItems = [];\n    this.activations = [];\n    this.models.clear();\n    this.data = {\n      startx: void 0,\n      stopx: void 0,\n      starty: void 0,\n      stopy: void 0\n    };\n    this.verticalPos = 0;\n    setConf((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)());\n  }, "init"),\n  updateVal: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(obj, key, val, fun) {\n    if (obj[key] === void 0) {\n      obj[key] = val;\n    } else {\n      obj[key] = fun(val, obj[key]);\n    }\n  }, "updateVal"),\n  updateBounds: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(startx, starty, stopx, stopy) {\n    const _self = this;\n    let cnt = 0;\n    function updateFn(type) {\n      return /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function updateItemBounds(item) {\n        cnt++;\n        const n = _self.sequenceItems.length - cnt + 1;\n        _self.updateVal(item, "starty", starty - n * conf.boxMargin, Math.min);\n        _self.updateVal(item, "stopy", stopy + n * conf.boxMargin, Math.max);\n        _self.updateVal(bounds.data, "startx", startx - n * conf.boxMargin, Math.min);\n        _self.updateVal(bounds.data, "stopx", stopx + n * conf.boxMargin, Math.max);\n        if (!(type === "activation")) {\n          _self.updateVal(item, "startx", startx - n * conf.boxMargin, Math.min);\n          _self.updateVal(item, "stopx", stopx + n * conf.boxMargin, Math.max);\n          _self.updateVal(bounds.data, "starty", starty - n * conf.boxMargin, Math.min);\n          _self.updateVal(bounds.data, "stopy", stopy + n * conf.boxMargin, Math.max);\n        }\n      }, "updateItemBounds");\n    }\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(updateFn, "updateFn");\n    this.sequenceItems.forEach(updateFn());\n    this.activations.forEach(updateFn("activation"));\n  }, "updateBounds"),\n  insert: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(startx, starty, stopx, stopy) {\n    const _startx = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMin(startx, stopx);\n    const _stopx = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(startx, stopx);\n    const _starty = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMin(starty, stopy);\n    const _stopy = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(starty, stopy);\n    this.updateVal(bounds.data, "startx", _startx, Math.min);\n    this.updateVal(bounds.data, "starty", _starty, Math.min);\n    this.updateVal(bounds.data, "stopx", _stopx, Math.max);\n    this.updateVal(bounds.data, "stopy", _stopy, Math.max);\n    this.updateBounds(_startx, _starty, _stopx, _stopy);\n  }, "insert"),\n  newActivation: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(message, diagram2, actors) {\n    const actorRect = actors.get(message.from);\n    const stackedSize = actorActivations(message.from).length || 0;\n    const x = actorRect.x + actorRect.width / 2 + (stackedSize - 1) * conf.activationWidth / 2;\n    this.activations.push({\n      startx: x,\n      starty: this.verticalPos + 2,\n      stopx: x + conf.activationWidth,\n      stopy: void 0,\n      actor: message.from,\n      anchored: svgDraw_default.anchorElement(diagram2)\n    });\n  }, "newActivation"),\n  endActivation: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(message) {\n    const lastActorActivationIdx = this.activations.map(function(activation) {\n      return activation.actor;\n    }).lastIndexOf(message.from);\n    return this.activations.splice(lastActorActivationIdx, 1)[0];\n  }, "endActivation"),\n  createLoop: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(title = { message: void 0, wrap: false, width: void 0 }, fill) {\n    return {\n      startx: void 0,\n      starty: this.verticalPos,\n      stopx: void 0,\n      stopy: void 0,\n      title: title.message,\n      wrap: title.wrap,\n      width: title.width,\n      height: 0,\n      fill\n    };\n  }, "createLoop"),\n  newLoop: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(title = { message: void 0, wrap: false, width: void 0 }, fill) {\n    this.sequenceItems.push(this.createLoop(title, fill));\n  }, "newLoop"),\n  endLoop: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n    return this.sequenceItems.pop();\n  }, "endLoop"),\n  isLoopOverlap: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n    return this.sequenceItems.length ? this.sequenceItems[this.sequenceItems.length - 1].overlap : false;\n  }, "isLoopOverlap"),\n  addSectionToLoop: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(message) {\n    const loop = this.sequenceItems.pop();\n    loop.sections = loop.sections || [];\n    loop.sectionTitles = loop.sectionTitles || [];\n    loop.sections.push({ y: bounds.getVerticalPos(), height: 0 });\n    loop.sectionTitles.push(message);\n    this.sequenceItems.push(loop);\n  }, "addSectionToLoop"),\n  saveVerticalPos: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n    if (this.isLoopOverlap()) {\n      this.savedVerticalPos = this.verticalPos;\n    }\n  }, "saveVerticalPos"),\n  resetVerticalPos: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n    if (this.isLoopOverlap()) {\n      this.verticalPos = this.savedVerticalPos;\n    }\n  }, "resetVerticalPos"),\n  bumpVerticalPos: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(bump) {\n    this.verticalPos = this.verticalPos + bump;\n    this.data.stopy = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(this.data.stopy, this.verticalPos);\n  }, "bumpVerticalPos"),\n  getVerticalPos: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n    return this.verticalPos;\n  }, "getVerticalPos"),\n  getBounds: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function() {\n    return { bounds: this.data, models: this.models };\n  }, "getBounds")\n};\nvar drawNote = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async function(elem, noteModel) {\n  bounds.bumpVerticalPos(conf.boxMargin);\n  noteModel.height = conf.boxMargin;\n  noteModel.starty = bounds.getVerticalPos();\n  const rect = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getNoteRect)();\n  rect.x = noteModel.startx;\n  rect.y = noteModel.starty;\n  rect.width = noteModel.width || conf.width;\n  rect.class = "note";\n  const g = elem.append("g");\n  const rectElem = svgDraw_default.drawRect(g, rect);\n  const textObj = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getTextObj)();\n  textObj.x = noteModel.startx;\n  textObj.y = noteModel.starty;\n  textObj.width = rect.width;\n  textObj.dy = "1em";\n  textObj.text = noteModel.message;\n  textObj.class = "noteText";\n  textObj.fontFamily = conf.noteFontFamily;\n  textObj.fontSize = conf.noteFontSize;\n  textObj.fontWeight = conf.noteFontWeight;\n  textObj.anchor = conf.noteAlign;\n  textObj.textMargin = conf.noteMargin;\n  textObj.valign = "center";\n  const textElem = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(textObj.text) ? await drawKatex(g, textObj) : drawText(g, textObj);\n  const textHeight = Math.round(\n    textElem.map((te) => (te._groups || te)[0][0].getBBox().height).reduce((acc, curr) => acc + curr)\n  );\n  rectElem.attr("height", textHeight + 2 * conf.noteMargin);\n  noteModel.height += textHeight + 2 * conf.noteMargin;\n  bounds.bumpVerticalPos(textHeight + 2 * conf.noteMargin);\n  noteModel.stopy = noteModel.starty + textHeight + 2 * conf.noteMargin;\n  noteModel.stopx = noteModel.startx + rect.width;\n  bounds.insert(noteModel.startx, noteModel.starty, noteModel.stopx, noteModel.stopy);\n  bounds.models.addNote(noteModel);\n}, "drawNote");\nvar messageFont = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((cnf) => {\n  return {\n    fontFamily: cnf.messageFontFamily,\n    fontSize: cnf.messageFontSize,\n    fontWeight: cnf.messageFontWeight\n  };\n}, "messageFont");\nvar noteFont = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((cnf) => {\n  return {\n    fontFamily: cnf.noteFontFamily,\n    fontSize: cnf.noteFontSize,\n    fontWeight: cnf.noteFontWeight\n  };\n}, "noteFont");\nvar actorFont = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((cnf) => {\n  return {\n    fontFamily: cnf.actorFontFamily,\n    fontSize: cnf.actorFontSize,\n    fontWeight: cnf.actorFontWeight\n  };\n}, "actorFont");\nasync function boundMessage(_diagram, msgModel) {\n  bounds.bumpVerticalPos(10);\n  const { startx, stopx, message } = msgModel;\n  const lines = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.splitBreaks(message).length;\n  const isKatexMsg = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(message);\n  const textDims = isKatexMsg ? await (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.calculateMathMLDimensions)(message, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()) : _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.calculateTextDimensions(message, messageFont(conf));\n  if (!isKatexMsg) {\n    const lineHeight = textDims.height / lines;\n    msgModel.height += lineHeight;\n    bounds.bumpVerticalPos(lineHeight);\n  }\n  let lineStartY;\n  let totalOffset = textDims.height - 10;\n  const textWidth = textDims.width;\n  if (startx === stopx) {\n    lineStartY = bounds.getVerticalPos() + totalOffset;\n    if (!conf.rightAngles) {\n      totalOffset += conf.boxMargin;\n      lineStartY = bounds.getVerticalPos() + totalOffset;\n    }\n    totalOffset += 30;\n    const dx = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(textWidth / 2, conf.width / 2);\n    bounds.insert(\n      startx - dx,\n      bounds.getVerticalPos() - 10 + totalOffset,\n      stopx + dx,\n      bounds.getVerticalPos() + 30 + totalOffset\n    );\n  } else {\n    totalOffset += conf.boxMargin;\n    lineStartY = bounds.getVerticalPos() + totalOffset;\n    bounds.insert(startx, lineStartY - 10, stopx, lineStartY);\n  }\n  bounds.bumpVerticalPos(totalOffset);\n  msgModel.height += totalOffset;\n  msgModel.stopy = msgModel.starty + msgModel.height;\n  bounds.insert(msgModel.fromBounds, msgModel.starty, msgModel.toBounds, msgModel.stopy);\n  return lineStartY;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(boundMessage, "boundMessage");\nvar drawMessage = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async function(diagram2, msgModel, lineStartY, diagObj) {\n  const { startx, stopx, starty, message, type, sequenceIndex, sequenceVisible } = msgModel;\n  const textDims = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.calculateTextDimensions(message, messageFont(conf));\n  const textObj = (0,_chunk_TZMSLE5B_mjs__WEBPACK_IMPORTED_MODULE_0__.getTextObj)();\n  textObj.x = startx;\n  textObj.y = starty + 10;\n  textObj.width = stopx - startx;\n  textObj.class = "messageText";\n  textObj.dy = "1em";\n  textObj.text = message;\n  textObj.fontFamily = conf.messageFontFamily;\n  textObj.fontSize = conf.messageFontSize;\n  textObj.fontWeight = conf.messageFontWeight;\n  textObj.anchor = conf.messageAlign;\n  textObj.valign = "center";\n  textObj.textMargin = conf.wrapPadding;\n  textObj.tspan = false;\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(textObj.text)) {\n    await drawKatex(diagram2, textObj, { startx, stopx, starty: lineStartY });\n  } else {\n    drawText(diagram2, textObj);\n  }\n  const textWidth = textDims.width;\n  let line;\n  if (startx === stopx) {\n    if (conf.rightAngles) {\n      line = diagram2.append("path").attr(\n        "d",\n        `M  ${startx},${lineStartY} H ${startx + _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(conf.width / 2, textWidth / 2)} V ${lineStartY + 25} H ${startx}`\n      );\n    } else {\n      line = diagram2.append("path").attr(\n        "d",\n        "M " + startx + "," + lineStartY + " C " + (startx + 60) + "," + (lineStartY - 10) + " " + (startx + 60) + "," + (lineStartY + 30) + " " + startx + "," + (lineStartY + 20)\n      );\n    }\n  } else {\n    line = diagram2.append("line");\n    line.attr("x1", startx);\n    line.attr("y1", lineStartY);\n    line.attr("x2", stopx);\n    line.attr("y2", lineStartY);\n  }\n  if (type === diagObj.db.LINETYPE.DOTTED || type === diagObj.db.LINETYPE.DOTTED_CROSS || type === diagObj.db.LINETYPE.DOTTED_POINT || type === diagObj.db.LINETYPE.DOTTED_OPEN || type === diagObj.db.LINETYPE.BIDIRECTIONAL_DOTTED) {\n    line.style("stroke-dasharray", "3, 3");\n    line.attr("class", "messageLine1");\n  } else {\n    line.attr("class", "messageLine0");\n  }\n  let url = "";\n  if (conf.arrowMarkerAbsolute) {\n    url = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getUrl)(true);\n  }\n  line.attr("stroke-width", 2);\n  line.attr("stroke", "none");\n  line.style("fill", "none");\n  if (type === diagObj.db.LINETYPE.SOLID || type === diagObj.db.LINETYPE.DOTTED) {\n    line.attr("marker-end", "url(" + url + "#arrowhead)");\n  }\n  if (type === diagObj.db.LINETYPE.BIDIRECTIONAL_SOLID || type === diagObj.db.LINETYPE.BIDIRECTIONAL_DOTTED) {\n    line.attr("marker-start", "url(" + url + "#arrowhead)");\n    line.attr("marker-end", "url(" + url + "#arrowhead)");\n  }\n  if (type === diagObj.db.LINETYPE.SOLID_POINT || type === diagObj.db.LINETYPE.DOTTED_POINT) {\n    line.attr("marker-end", "url(" + url + "#filled-head)");\n  }\n  if (type === diagObj.db.LINETYPE.SOLID_CROSS || type === diagObj.db.LINETYPE.DOTTED_CROSS) {\n    line.attr("marker-end", "url(" + url + "#crosshead)");\n  }\n  if (sequenceVisible || conf.showSequenceNumbers) {\n    const isBidirectional = type === diagObj.db.LINETYPE.BIDIRECTIONAL_SOLID || type === diagObj.db.LINETYPE.BIDIRECTIONAL_DOTTED;\n    if (isBidirectional) {\n      const SEQUENCE_NUMBER_RADIUS = 6;\n      if (startx < stopx) {\n        line.attr("x1", startx + 2 * SEQUENCE_NUMBER_RADIUS);\n      } else {\n        line.attr("x1", startx + SEQUENCE_NUMBER_RADIUS);\n      }\n    }\n    diagram2.append("line").attr("x1", startx).attr("y1", lineStartY).attr("x2", startx).attr("y2", lineStartY).attr("stroke-width", 0).attr("marker-start", "url(" + url + "#sequencenumber)");\n    diagram2.append("text").attr("x", startx).attr("y", lineStartY + 4).attr("font-family", "sans-serif").attr("font-size", "12px").attr("text-anchor", "middle").attr("class", "sequenceNumber").text(sequenceIndex);\n  }\n}, "drawMessage");\nvar addActorRenderingData = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(diagram2, actors, createdActors, actorKeys, verticalPos, messages, isFooter) {\n  let prevWidth = 0;\n  let prevMargin = 0;\n  let prevBox = void 0;\n  let maxHeight = 0;\n  for (const actorKey of actorKeys) {\n    const actor = actors.get(actorKey);\n    const box = actor.box;\n    if (prevBox && prevBox != box) {\n      if (!isFooter) {\n        bounds.models.addBox(prevBox);\n      }\n      prevMargin += conf.boxMargin + prevBox.margin;\n    }\n    if (box && box != prevBox) {\n      if (!isFooter) {\n        box.x = prevWidth + prevMargin;\n        box.y = verticalPos;\n      }\n      prevMargin += box.margin;\n    }\n    actor.width = actor.width || conf.width;\n    actor.height = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(actor.height || conf.height, conf.height);\n    actor.margin = actor.margin || conf.actorMargin;\n    maxHeight = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(maxHeight, actor.height);\n    if (createdActors.get(actor.name)) {\n      prevMargin += actor.width / 2;\n    }\n    actor.x = prevWidth + prevMargin;\n    actor.starty = bounds.getVerticalPos();\n    bounds.insert(actor.x, verticalPos, actor.x + actor.width, actor.height);\n    prevWidth += actor.width + prevMargin;\n    if (actor.box) {\n      actor.box.width = prevWidth + box.margin - actor.box.x;\n    }\n    prevMargin = actor.margin;\n    prevBox = actor.box;\n    bounds.models.addActor(actor);\n  }\n  if (prevBox && !isFooter) {\n    bounds.models.addBox(prevBox);\n  }\n  bounds.bumpVerticalPos(maxHeight);\n}, "addActorRenderingData");\nvar drawActors = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async function(diagram2, actors, actorKeys, isFooter) {\n  if (!isFooter) {\n    for (const actorKey of actorKeys) {\n      const actor = actors.get(actorKey);\n      await svgDraw_default.drawActor(diagram2, actor, conf, false);\n    }\n  } else {\n    let maxHeight = 0;\n    bounds.bumpVerticalPos(conf.boxMargin * 2);\n    for (const actorKey of actorKeys) {\n      const actor = actors.get(actorKey);\n      if (!actor.stopy) {\n        actor.stopy = bounds.getVerticalPos();\n      }\n      const height = await svgDraw_default.drawActor(diagram2, actor, conf, true);\n      maxHeight = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(maxHeight, height);\n    }\n    bounds.bumpVerticalPos(maxHeight + conf.boxMargin);\n  }\n}, "drawActors");\nvar drawActorsPopup = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(diagram2, actors, actorKeys, doc) {\n  let maxHeight = 0;\n  let maxWidth = 0;\n  for (const actorKey of actorKeys) {\n    const actor = actors.get(actorKey);\n    const minMenuWidth = getRequiredPopupWidth(actor);\n    const menuDimensions = svgDraw_default.drawPopup(\n      diagram2,\n      actor,\n      minMenuWidth,\n      conf,\n      conf.forceMenus,\n      doc\n    );\n    if (menuDimensions.height > maxHeight) {\n      maxHeight = menuDimensions.height;\n    }\n    if (menuDimensions.width + actor.x > maxWidth) {\n      maxWidth = menuDimensions.width + actor.x;\n    }\n  }\n  return { maxHeight, maxWidth };\n}, "drawActorsPopup");\nvar setConf = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(cnf) {\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.assignWithDepth_default)(conf, cnf);\n  if (cnf.fontFamily) {\n    conf.actorFontFamily = conf.noteFontFamily = conf.messageFontFamily = cnf.fontFamily;\n  }\n  if (cnf.fontSize) {\n    conf.actorFontSize = conf.noteFontSize = conf.messageFontSize = cnf.fontSize;\n  }\n  if (cnf.fontWeight) {\n    conf.actorFontWeight = conf.noteFontWeight = conf.messageFontWeight = cnf.fontWeight;\n  }\n}, "setConf");\nvar actorActivations = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(actor) {\n  return bounds.activations.filter(function(activation) {\n    return activation.actor === actor;\n  });\n}, "actorActivations");\nvar activationBounds = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(actor, actors) {\n  const actorObj = actors.get(actor);\n  const activations = actorActivations(actor);\n  const left = activations.reduce(\n    function(acc, activation) {\n      return _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMin(acc, activation.startx);\n    },\n    actorObj.x + actorObj.width / 2 - 1\n  );\n  const right = activations.reduce(\n    function(acc, activation) {\n      return _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(acc, activation.stopx);\n    },\n    actorObj.x + actorObj.width / 2 + 1\n  );\n  return [left, right];\n}, "activationBounds");\nfunction adjustLoopHeightForWrap(loopWidths, msg, preMargin, postMargin, addLoopFn) {\n  bounds.bumpVerticalPos(preMargin);\n  let heightAdjust = postMargin;\n  if (msg.id && msg.message && loopWidths[msg.id]) {\n    const loopWidth = loopWidths[msg.id].width;\n    const textConf = messageFont(conf);\n    msg.message = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.wrapLabel(`[${msg.message}]`, loopWidth - 2 * conf.wrapPadding, textConf);\n    msg.width = loopWidth;\n    msg.wrap = true;\n    const textDims = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.calculateTextDimensions(msg.message, textConf);\n    const totalOffset = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(textDims.height, conf.labelBoxHeight);\n    heightAdjust = postMargin + totalOffset;\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.debug(`${totalOffset} - ${msg.message}`);\n  }\n  addLoopFn(msg);\n  bounds.bumpVerticalPos(heightAdjust);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(adjustLoopHeightForWrap, "adjustLoopHeightForWrap");\nfunction adjustCreatedDestroyedData(msg, msgModel, lineStartY, index, actors, createdActors, destroyedActors) {\n  function receiverAdjustment(actor, adjustment) {\n    if (actor.x < actors.get(msg.from).x) {\n      bounds.insert(\n        msgModel.stopx - adjustment,\n        msgModel.starty,\n        msgModel.startx,\n        msgModel.stopy + actor.height / 2 + conf.noteMargin\n      );\n      msgModel.stopx = msgModel.stopx + adjustment;\n    } else {\n      bounds.insert(\n        msgModel.startx,\n        msgModel.starty,\n        msgModel.stopx + adjustment,\n        msgModel.stopy + actor.height / 2 + conf.noteMargin\n      );\n      msgModel.stopx = msgModel.stopx - adjustment;\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(receiverAdjustment, "receiverAdjustment");\n  function senderAdjustment(actor, adjustment) {\n    if (actor.x < actors.get(msg.to).x) {\n      bounds.insert(\n        msgModel.startx - adjustment,\n        msgModel.starty,\n        msgModel.stopx,\n        msgModel.stopy + actor.height / 2 + conf.noteMargin\n      );\n      msgModel.startx = msgModel.startx + adjustment;\n    } else {\n      bounds.insert(\n        msgModel.stopx,\n        msgModel.starty,\n        msgModel.startx + adjustment,\n        msgModel.stopy + actor.height / 2 + conf.noteMargin\n      );\n      msgModel.startx = msgModel.startx - adjustment;\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(senderAdjustment, "senderAdjustment");\n  const actorArray = [\n    PARTICIPANT_TYPE.ACTOR,\n    PARTICIPANT_TYPE.CONTROL,\n    PARTICIPANT_TYPE.ENTITY,\n    PARTICIPANT_TYPE.DATABASE\n  ];\n  if (createdActors.get(msg.to) == index) {\n    const actor = actors.get(msg.to);\n    const adjustment = actorArray.includes(actor.type) ? ACTOR_TYPE_WIDTH / 2 + 3 : actor.width / 2 + 3;\n    receiverAdjustment(actor, adjustment);\n    actor.starty = lineStartY - actor.height / 2;\n    bounds.bumpVerticalPos(actor.height / 2);\n  } else if (destroyedActors.get(msg.from) == index) {\n    const actor = actors.get(msg.from);\n    if (conf.mirrorActors) {\n      const adjustment = actorArray.includes(actor.type) ? ACTOR_TYPE_WIDTH / 2 : actor.width / 2;\n      senderAdjustment(actor, adjustment);\n    }\n    actor.stopy = lineStartY - actor.height / 2;\n    bounds.bumpVerticalPos(actor.height / 2);\n  } else if (destroyedActors.get(msg.to) == index) {\n    const actor = actors.get(msg.to);\n    if (conf.mirrorActors) {\n      const adjustment = actorArray.includes(actor.type) ? ACTOR_TYPE_WIDTH / 2 + 3 : actor.width / 2 + 3;\n      receiverAdjustment(actor, adjustment);\n    }\n    actor.stopy = lineStartY - actor.height / 2;\n    bounds.bumpVerticalPos(actor.height / 2);\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(adjustCreatedDestroyedData, "adjustCreatedDestroyedData");\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async function(_text, id, _version, diagObj) {\n  const { securityLevel, sequence } = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)();\n  conf = sequence;\n  let sandboxElement;\n  if (securityLevel === "sandbox") {\n    sandboxElement = (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)("#i" + id);\n  }\n  const root = securityLevel === "sandbox" ? (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)("body");\n  const doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;\n  bounds.init();\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.debug(diagObj.db);\n  const diagram2 = securityLevel === "sandbox" ? root.select(`[id="${id}"]`) : (0,d3__WEBPACK_IMPORTED_MODULE_6__.select)(`[id="${id}"]`);\n  const actors = diagObj.db.getActors();\n  const createdActors = diagObj.db.getCreatedActors();\n  const destroyedActors = diagObj.db.getDestroyedActors();\n  const boxes = diagObj.db.getBoxes();\n  let actorKeys = diagObj.db.getActorKeys();\n  const messages = diagObj.db.getMessages();\n  const title = diagObj.db.getDiagramTitle();\n  const hasBoxes = diagObj.db.hasAtLeastOneBox();\n  const hasBoxTitles = diagObj.db.hasAtLeastOneBoxWithTitle();\n  const maxMessageWidthPerActor = await getMaxMessageWidthPerActor(actors, messages, diagObj);\n  conf.height = await calculateActorMargins(actors, maxMessageWidthPerActor, boxes);\n  svgDraw_default.insertComputerIcon(diagram2);\n  svgDraw_default.insertDatabaseIcon(diagram2);\n  svgDraw_default.insertClockIcon(diagram2);\n  if (hasBoxes) {\n    bounds.bumpVerticalPos(conf.boxMargin);\n    if (hasBoxTitles) {\n      bounds.bumpVerticalPos(boxes[0].textMaxHeight);\n    }\n  }\n  if (conf.hideUnusedParticipants === true) {\n    const newActors = /* @__PURE__ */ new Set();\n    messages.forEach((message) => {\n      newActors.add(message.from);\n      newActors.add(message.to);\n    });\n    actorKeys = actorKeys.filter((actorKey) => newActors.has(actorKey));\n  }\n  addActorRenderingData(diagram2, actors, createdActors, actorKeys, 0, messages, false);\n  const loopWidths = await calculateLoopBounds(messages, actors, maxMessageWidthPerActor, diagObj);\n  svgDraw_default.insertArrowHead(diagram2);\n  svgDraw_default.insertArrowCrossHead(diagram2);\n  svgDraw_default.insertArrowFilledHead(diagram2);\n  svgDraw_default.insertSequenceNumber(diagram2);\n  function activeEnd(msg, verticalPos) {\n    const activationData = bounds.endActivation(msg);\n    if (activationData.starty + 18 > verticalPos) {\n      activationData.starty = verticalPos - 6;\n      verticalPos += 12;\n    }\n    svgDraw_default.drawActivation(\n      diagram2,\n      activationData,\n      verticalPos,\n      conf,\n      actorActivations(msg.from).length\n    );\n    bounds.insert(activationData.startx, verticalPos - 10, activationData.stopx, verticalPos);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(activeEnd, "activeEnd");\n  let sequenceIndex = 1;\n  let sequenceIndexStep = 1;\n  const messagesToDraw = [];\n  const backgrounds = [];\n  let index = 0;\n  for (const msg of messages) {\n    let loopModel, noteModel, msgModel;\n    switch (msg.type) {\n      case diagObj.db.LINETYPE.NOTE:\n        bounds.resetVerticalPos();\n        noteModel = msg.noteModel;\n        await drawNote(diagram2, noteModel);\n        break;\n      case diagObj.db.LINETYPE.ACTIVE_START:\n        bounds.newActivation(msg, diagram2, actors);\n        break;\n      case diagObj.db.LINETYPE.ACTIVE_END:\n        activeEnd(msg, bounds.getVerticalPos());\n        break;\n      case diagObj.db.LINETYPE.LOOP_START:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin,\n          conf.boxMargin + conf.boxTextMargin,\n          (message) => bounds.newLoop(message)\n        );\n        break;\n      case diagObj.db.LINETYPE.LOOP_END:\n        loopModel = bounds.endLoop();\n        await svgDraw_default.drawLoop(diagram2, loopModel, "loop", conf);\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n        bounds.models.addLoop(loopModel);\n        break;\n      case diagObj.db.LINETYPE.RECT_START:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin,\n          conf.boxMargin,\n          (message) => bounds.newLoop(void 0, message.message)\n        );\n        break;\n      case diagObj.db.LINETYPE.RECT_END:\n        loopModel = bounds.endLoop();\n        backgrounds.push(loopModel);\n        bounds.models.addLoop(loopModel);\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n        break;\n      case diagObj.db.LINETYPE.OPT_START:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin,\n          conf.boxMargin + conf.boxTextMargin,\n          (message) => bounds.newLoop(message)\n        );\n        break;\n      case diagObj.db.LINETYPE.OPT_END:\n        loopModel = bounds.endLoop();\n        await svgDraw_default.drawLoop(diagram2, loopModel, "opt", conf);\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n        bounds.models.addLoop(loopModel);\n        break;\n      case diagObj.db.LINETYPE.ALT_START:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin,\n          conf.boxMargin + conf.boxTextMargin,\n          (message) => bounds.newLoop(message)\n        );\n        break;\n      case diagObj.db.LINETYPE.ALT_ELSE:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin + conf.boxTextMargin,\n          conf.boxMargin,\n          (message) => bounds.addSectionToLoop(message)\n        );\n        break;\n      case diagObj.db.LINETYPE.ALT_END:\n        loopModel = bounds.endLoop();\n        await svgDraw_default.drawLoop(diagram2, loopModel, "alt", conf);\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n        bounds.models.addLoop(loopModel);\n        break;\n      case diagObj.db.LINETYPE.PAR_START:\n      case diagObj.db.LINETYPE.PAR_OVER_START:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin,\n          conf.boxMargin + conf.boxTextMargin,\n          (message) => bounds.newLoop(message)\n        );\n        bounds.saveVerticalPos();\n        break;\n      case diagObj.db.LINETYPE.PAR_AND:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin + conf.boxTextMargin,\n          conf.boxMargin,\n          (message) => bounds.addSectionToLoop(message)\n        );\n        break;\n      case diagObj.db.LINETYPE.PAR_END:\n        loopModel = bounds.endLoop();\n        await svgDraw_default.drawLoop(diagram2, loopModel, "par", conf);\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n        bounds.models.addLoop(loopModel);\n        break;\n      case diagObj.db.LINETYPE.AUTONUMBER:\n        sequenceIndex = msg.message.start || sequenceIndex;\n        sequenceIndexStep = msg.message.step || sequenceIndexStep;\n        if (msg.message.visible) {\n          diagObj.db.enableSequenceNumbers();\n        } else {\n          diagObj.db.disableSequenceNumbers();\n        }\n        break;\n      case diagObj.db.LINETYPE.CRITICAL_START:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin,\n          conf.boxMargin + conf.boxTextMargin,\n          (message) => bounds.newLoop(message)\n        );\n        break;\n      case diagObj.db.LINETYPE.CRITICAL_OPTION:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin + conf.boxTextMargin,\n          conf.boxMargin,\n          (message) => bounds.addSectionToLoop(message)\n        );\n        break;\n      case diagObj.db.LINETYPE.CRITICAL_END:\n        loopModel = bounds.endLoop();\n        await svgDraw_default.drawLoop(diagram2, loopModel, "critical", conf);\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n        bounds.models.addLoop(loopModel);\n        break;\n      case diagObj.db.LINETYPE.BREAK_START:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin,\n          conf.boxMargin + conf.boxTextMargin,\n          (message) => bounds.newLoop(message)\n        );\n        break;\n      case diagObj.db.LINETYPE.BREAK_END:\n        loopModel = bounds.endLoop();\n        await svgDraw_default.drawLoop(diagram2, loopModel, "break", conf);\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n        bounds.models.addLoop(loopModel);\n        break;\n      default:\n        try {\n          msgModel = msg.msgModel;\n          msgModel.starty = bounds.getVerticalPos();\n          msgModel.sequenceIndex = sequenceIndex;\n          msgModel.sequenceVisible = diagObj.db.showSequenceNumbers();\n          const lineStartY = await boundMessage(diagram2, msgModel);\n          adjustCreatedDestroyedData(\n            msg,\n            msgModel,\n            lineStartY,\n            index,\n            actors,\n            createdActors,\n            destroyedActors\n          );\n          messagesToDraw.push({ messageModel: msgModel, lineStartY });\n          bounds.models.addMessage(msgModel);\n        } catch (e) {\n          _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.error("error while drawing message", e);\n        }\n    }\n    if ([\n      diagObj.db.LINETYPE.SOLID_OPEN,\n      diagObj.db.LINETYPE.DOTTED_OPEN,\n      diagObj.db.LINETYPE.SOLID,\n      diagObj.db.LINETYPE.DOTTED,\n      diagObj.db.LINETYPE.SOLID_CROSS,\n      diagObj.db.LINETYPE.DOTTED_CROSS,\n      diagObj.db.LINETYPE.SOLID_POINT,\n      diagObj.db.LINETYPE.DOTTED_POINT,\n      diagObj.db.LINETYPE.BIDIRECTIONAL_SOLID,\n      diagObj.db.LINETYPE.BIDIRECTIONAL_DOTTED\n    ].includes(msg.type)) {\n      sequenceIndex = sequenceIndex + sequenceIndexStep;\n    }\n    index++;\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.debug("createdActors", createdActors);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.debug("destroyedActors", destroyedActors);\n  await drawActors(diagram2, actors, actorKeys, false);\n  for (const e of messagesToDraw) {\n    await drawMessage(diagram2, e.messageModel, e.lineStartY, diagObj);\n  }\n  if (conf.mirrorActors) {\n    await drawActors(diagram2, actors, actorKeys, true);\n  }\n  backgrounds.forEach((e) => svgDraw_default.drawBackgroundRect(diagram2, e));\n  fixLifeLineHeights(diagram2, actors, actorKeys, conf);\n  for (const box2 of bounds.models.boxes) {\n    box2.height = bounds.getVerticalPos() - box2.y;\n    bounds.insert(box2.x, box2.y, box2.x + box2.width, box2.height);\n    const boxPadding = conf.boxMargin * 2;\n    box2.startx = box2.x - boxPadding;\n    box2.starty = box2.y - boxPadding * 0.25;\n    box2.stopx = box2.startx + box2.width + 2 * boxPadding;\n    box2.stopy = box2.starty + box2.height + boxPadding * 0.75;\n    box2.stroke = "rgb(0,0,0, 0.5)";\n    svgDraw_default.drawBox(diagram2, box2, conf);\n  }\n  if (hasBoxes) {\n    bounds.bumpVerticalPos(conf.boxMargin);\n  }\n  const requiredBoxSize = drawActorsPopup(diagram2, actors, actorKeys, doc);\n  const { bounds: box } = bounds.getBounds();\n  if (box.startx === void 0) {\n    box.startx = 0;\n  }\n  if (box.starty === void 0) {\n    box.starty = 0;\n  }\n  if (box.stopx === void 0) {\n    box.stopx = 0;\n  }\n  if (box.stopy === void 0) {\n    box.stopy = 0;\n  }\n  let boxHeight = box.stopy - box.starty;\n  if (boxHeight < requiredBoxSize.maxHeight) {\n    boxHeight = requiredBoxSize.maxHeight;\n  }\n  let height = boxHeight + 2 * conf.diagramMarginY;\n  if (conf.mirrorActors) {\n    height = height - conf.boxMargin + conf.bottomMarginAdj;\n  }\n  let boxWidth = box.stopx - box.startx;\n  if (boxWidth < requiredBoxSize.maxWidth) {\n    boxWidth = requiredBoxSize.maxWidth;\n  }\n  const width = boxWidth + 2 * conf.diagramMarginX;\n  if (title) {\n    diagram2.append("text").text(title).attr("x", (box.stopx - box.startx) / 2 - 2 * conf.diagramMarginX).attr("y", -25);\n  }\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.configureSvgSize)(diagram2, height, width, conf.useMaxWidth);\n  const extraVertForTitle = title ? 40 : 0;\n  diagram2.attr(\n    "viewBox",\n    box.startx - conf.diagramMarginX + " -" + (conf.diagramMarginY + extraVertForTitle) + " " + width + " " + (height + extraVertForTitle)\n  );\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.debug(`models:`, bounds.models);\n}, "draw");\nasync function getMaxMessageWidthPerActor(actors, messages, diagObj) {\n  const maxMessageWidthPerActor = {};\n  for (const msg of messages) {\n    if (actors.get(msg.to) && actors.get(msg.from)) {\n      const actor = actors.get(msg.to);\n      if (msg.placement === diagObj.db.PLACEMENT.LEFTOF && !actor.prevActor) {\n        continue;\n      }\n      if (msg.placement === diagObj.db.PLACEMENT.RIGHTOF && !actor.nextActor) {\n        continue;\n      }\n      const isNote = msg.placement !== void 0;\n      const isMessage = !isNote;\n      const textFont = isNote ? noteFont(conf) : messageFont(conf);\n      const wrappedMessage = msg.wrap ? _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.wrapLabel(msg.message, conf.width - 2 * conf.wrapPadding, textFont) : msg.message;\n      const messageDimensions = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(wrappedMessage) ? await (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.calculateMathMLDimensions)(msg.message, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()) : _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.calculateTextDimensions(wrappedMessage, textFont);\n      const messageWidth = messageDimensions.width + 2 * conf.wrapPadding;\n      if (isMessage && msg.from === actor.nextActor) {\n        maxMessageWidthPerActor[msg.to] = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(\n          maxMessageWidthPerActor[msg.to] || 0,\n          messageWidth\n        );\n      } else if (isMessage && msg.from === actor.prevActor) {\n        maxMessageWidthPerActor[msg.from] = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(\n          maxMessageWidthPerActor[msg.from] || 0,\n          messageWidth\n        );\n      } else if (isMessage && msg.from === msg.to) {\n        maxMessageWidthPerActor[msg.from] = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(\n          maxMessageWidthPerActor[msg.from] || 0,\n          messageWidth / 2\n        );\n        maxMessageWidthPerActor[msg.to] = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(\n          maxMessageWidthPerActor[msg.to] || 0,\n          messageWidth / 2\n        );\n      } else if (msg.placement === diagObj.db.PLACEMENT.RIGHTOF) {\n        maxMessageWidthPerActor[msg.from] = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(\n          maxMessageWidthPerActor[msg.from] || 0,\n          messageWidth\n        );\n      } else if (msg.placement === diagObj.db.PLACEMENT.LEFTOF) {\n        maxMessageWidthPerActor[actor.prevActor] = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(\n          maxMessageWidthPerActor[actor.prevActor] || 0,\n          messageWidth\n        );\n      } else if (msg.placement === diagObj.db.PLACEMENT.OVER) {\n        if (actor.prevActor) {\n          maxMessageWidthPerActor[actor.prevActor] = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(\n            maxMessageWidthPerActor[actor.prevActor] || 0,\n            messageWidth / 2\n          );\n        }\n        if (actor.nextActor) {\n          maxMessageWidthPerActor[msg.from] = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(\n            maxMessageWidthPerActor[msg.from] || 0,\n            messageWidth / 2\n          );\n        }\n      }\n    }\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.debug("maxMessageWidthPerActor:", maxMessageWidthPerActor);\n  return maxMessageWidthPerActor;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(getMaxMessageWidthPerActor, "getMaxMessageWidthPerActor");\nvar getRequiredPopupWidth = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(actor) {\n  let requiredPopupWidth = 0;\n  const textFont = actorFont(conf);\n  for (const key in actor.links) {\n    const labelDimensions = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.calculateTextDimensions(key, textFont);\n    const labelWidth = labelDimensions.width + 2 * conf.wrapPadding + 2 * conf.boxMargin;\n    if (requiredPopupWidth < labelWidth) {\n      requiredPopupWidth = labelWidth;\n    }\n  }\n  return requiredPopupWidth;\n}, "getRequiredPopupWidth");\nasync function calculateActorMargins(actors, actorToMessageWidth, boxes) {\n  let maxHeight = 0;\n  for (const prop of actors.keys()) {\n    const actor = actors.get(prop);\n    if (actor.wrap) {\n      actor.description = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.wrapLabel(\n        actor.description,\n        conf.width - 2 * conf.wrapPadding,\n        actorFont(conf)\n      );\n    }\n    const actDims = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(actor.description) ? await (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.calculateMathMLDimensions)(actor.description, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()) : _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.calculateTextDimensions(actor.description, actorFont(conf));\n    actor.width = actor.wrap ? conf.width : _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(conf.width, actDims.width + 2 * conf.wrapPadding);\n    actor.height = actor.wrap ? _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(actDims.height, conf.height) : conf.height;\n    maxHeight = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(maxHeight, actor.height);\n  }\n  for (const actorKey in actorToMessageWidth) {\n    const actor = actors.get(actorKey);\n    if (!actor) {\n      continue;\n    }\n    const nextActor = actors.get(actor.nextActor);\n    if (!nextActor) {\n      const messageWidth2 = actorToMessageWidth[actorKey];\n      const actorWidth2 = messageWidth2 + conf.actorMargin - actor.width / 2;\n      actor.margin = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(actorWidth2, conf.actorMargin);\n      continue;\n    }\n    const messageWidth = actorToMessageWidth[actorKey];\n    const actorWidth = messageWidth + conf.actorMargin - actor.width / 2 - nextActor.width / 2;\n    actor.margin = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(actorWidth, conf.actorMargin);\n  }\n  let maxBoxHeight = 0;\n  boxes.forEach((box) => {\n    const textFont = messageFont(conf);\n    let totalWidth = box.actorKeys.reduce((total, aKey) => {\n      return total += actors.get(aKey).width + (actors.get(aKey).margin || 0);\n    }, 0);\n    const standardBoxPadding = conf.boxMargin * 8;\n    totalWidth += standardBoxPadding;\n    totalWidth -= 2 * conf.boxTextMargin;\n    if (box.wrap) {\n      box.name = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.wrapLabel(box.name, totalWidth - 2 * conf.wrapPadding, textFont);\n    }\n    const boxMsgDimensions = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.calculateTextDimensions(box.name, textFont);\n    maxBoxHeight = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(boxMsgDimensions.height, maxBoxHeight);\n    const minWidth = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(totalWidth, boxMsgDimensions.width + 2 * conf.wrapPadding);\n    box.margin = conf.boxTextMargin;\n    if (totalWidth < minWidth) {\n      const missing = (minWidth - totalWidth) / 2;\n      box.margin += missing;\n    }\n  });\n  boxes.forEach((box) => box.textMaxHeight = maxBoxHeight);\n  return _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(maxHeight, conf.height);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(calculateActorMargins, "calculateActorMargins");\nvar buildNoteModel = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async function(msg, actors, diagObj) {\n  const fromActor = actors.get(msg.from);\n  const toActor = actors.get(msg.to);\n  const startx = fromActor.x;\n  const stopx = toActor.x;\n  const shouldWrap = msg.wrap && msg.message;\n  let textDimensions = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.hasKatex)(msg.message) ? await (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.calculateMathMLDimensions)(msg.message, (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.getConfig2)()) : _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.calculateTextDimensions(\n    shouldWrap ? _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.wrapLabel(msg.message, conf.width, noteFont(conf)) : msg.message,\n    noteFont(conf)\n  );\n  const noteModel = {\n    width: shouldWrap ? conf.width : _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(conf.width, textDimensions.width + 2 * conf.noteMargin),\n    height: 0,\n    startx: fromActor.x,\n    stopx: 0,\n    starty: 0,\n    stopy: 0,\n    message: msg.message\n  };\n  if (msg.placement === diagObj.db.PLACEMENT.RIGHTOF) {\n    noteModel.width = shouldWrap ? _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(conf.width, textDimensions.width) : _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(\n      fromActor.width / 2 + toActor.width / 2,\n      textDimensions.width + 2 * conf.noteMargin\n    );\n    noteModel.startx = startx + (fromActor.width + conf.actorMargin) / 2;\n  } else if (msg.placement === diagObj.db.PLACEMENT.LEFTOF) {\n    noteModel.width = shouldWrap ? _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(conf.width, textDimensions.width + 2 * conf.noteMargin) : _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(\n      fromActor.width / 2 + toActor.width / 2,\n      textDimensions.width + 2 * conf.noteMargin\n    );\n    noteModel.startx = startx - noteModel.width + (fromActor.width - conf.actorMargin) / 2;\n  } else if (msg.to === msg.from) {\n    textDimensions = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.calculateTextDimensions(\n      shouldWrap ? _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.wrapLabel(msg.message, _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(conf.width, fromActor.width), noteFont(conf)) : msg.message,\n      noteFont(conf)\n    );\n    noteModel.width = shouldWrap ? _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(conf.width, fromActor.width) : _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(fromActor.width, conf.width, textDimensions.width + 2 * conf.noteMargin);\n    noteModel.startx = startx + (fromActor.width - noteModel.width) / 2;\n  } else {\n    noteModel.width = Math.abs(startx + fromActor.width / 2 - (stopx + toActor.width / 2)) + conf.actorMargin;\n    noteModel.startx = startx < stopx ? startx + fromActor.width / 2 - conf.actorMargin / 2 : stopx + toActor.width / 2 - conf.actorMargin / 2;\n  }\n  if (shouldWrap) {\n    noteModel.message = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.wrapLabel(\n      msg.message,\n      noteModel.width - 2 * conf.wrapPadding,\n      noteFont(conf)\n    );\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.debug(\n    `NM:[${noteModel.startx},${noteModel.stopx},${noteModel.starty},${noteModel.stopy}:${noteModel.width},${noteModel.height}=${msg.message}]`\n  );\n  return noteModel;\n}, "buildNoteModel");\nvar buildMessageModel = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(function(msg, actors, diagObj) {\n  if (![\n    diagObj.db.LINETYPE.SOLID_OPEN,\n    diagObj.db.LINETYPE.DOTTED_OPEN,\n    diagObj.db.LINETYPE.SOLID,\n    diagObj.db.LINETYPE.DOTTED,\n    diagObj.db.LINETYPE.SOLID_CROSS,\n    diagObj.db.LINETYPE.DOTTED_CROSS,\n    diagObj.db.LINETYPE.SOLID_POINT,\n    diagObj.db.LINETYPE.DOTTED_POINT,\n    diagObj.db.LINETYPE.BIDIRECTIONAL_SOLID,\n    diagObj.db.LINETYPE.BIDIRECTIONAL_DOTTED\n  ].includes(msg.type)) {\n    return {};\n  }\n  const [fromLeft, fromRight] = activationBounds(msg.from, actors);\n  const [toLeft, toRight] = activationBounds(msg.to, actors);\n  const isArrowToRight = fromLeft <= toLeft;\n  let startx = isArrowToRight ? fromRight : fromLeft;\n  let stopx = isArrowToRight ? toLeft : toRight;\n  const isArrowToActivation = Math.abs(toLeft - toRight) > 2;\n  const adjustValue = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((value) => {\n    return isArrowToRight ? -value : value;\n  }, "adjustValue");\n  if (msg.from === msg.to) {\n    stopx = startx;\n  } else {\n    if (msg.activate && !isArrowToActivation) {\n      stopx += adjustValue(conf.activationWidth / 2 - 1);\n    }\n    if (![diagObj.db.LINETYPE.SOLID_OPEN, diagObj.db.LINETYPE.DOTTED_OPEN].includes(msg.type)) {\n      stopx += adjustValue(3);\n    }\n    if ([diagObj.db.LINETYPE.BIDIRECTIONAL_SOLID, diagObj.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(\n      msg.type\n    )) {\n      startx -= adjustValue(3);\n    }\n  }\n  const allBounds = [fromLeft, fromRight, toLeft, toRight];\n  const boundedWidth = Math.abs(startx - stopx);\n  if (msg.wrap && msg.message) {\n    msg.message = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.wrapLabel(\n      msg.message,\n      _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(boundedWidth + 2 * conf.wrapPadding, conf.width),\n      messageFont(conf)\n    );\n  }\n  const msgDims = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.utils_default.calculateTextDimensions(msg.message, messageFont(conf));\n  return {\n    width: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(\n      msg.wrap ? 0 : msgDims.width + 2 * conf.wrapPadding,\n      boundedWidth + 2 * conf.wrapPadding,\n      conf.width\n    ),\n    height: 0,\n    startx,\n    stopx,\n    starty: 0,\n    stopy: 0,\n    message: msg.message,\n    type: msg.type,\n    wrap: msg.wrap,\n    fromBounds: Math.min.apply(null, allBounds),\n    toBounds: Math.max.apply(null, allBounds)\n  };\n}, "buildMessageModel");\nvar calculateLoopBounds = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)(async function(messages, actors, _maxWidthPerActor, diagObj) {\n  const loops = {};\n  const stack = [];\n  let current, noteModel, msgModel;\n  for (const msg of messages) {\n    switch (msg.type) {\n      case diagObj.db.LINETYPE.LOOP_START:\n      case diagObj.db.LINETYPE.ALT_START:\n      case diagObj.db.LINETYPE.OPT_START:\n      case diagObj.db.LINETYPE.PAR_START:\n      case diagObj.db.LINETYPE.PAR_OVER_START:\n      case diagObj.db.LINETYPE.CRITICAL_START:\n      case diagObj.db.LINETYPE.BREAK_START:\n        stack.push({\n          id: msg.id,\n          msg: msg.message,\n          from: Number.MAX_SAFE_INTEGER,\n          to: Number.MIN_SAFE_INTEGER,\n          width: 0\n        });\n        break;\n      case diagObj.db.LINETYPE.ALT_ELSE:\n      case diagObj.db.LINETYPE.PAR_AND:\n      case diagObj.db.LINETYPE.CRITICAL_OPTION:\n        if (msg.message) {\n          current = stack.pop();\n          loops[current.id] = current;\n          loops[msg.id] = current;\n          stack.push(current);\n        }\n        break;\n      case diagObj.db.LINETYPE.LOOP_END:\n      case diagObj.db.LINETYPE.ALT_END:\n      case diagObj.db.LINETYPE.OPT_END:\n      case diagObj.db.LINETYPE.PAR_END:\n      case diagObj.db.LINETYPE.CRITICAL_END:\n      case diagObj.db.LINETYPE.BREAK_END:\n        current = stack.pop();\n        loops[current.id] = current;\n        break;\n      case diagObj.db.LINETYPE.ACTIVE_START:\n        {\n          const actorRect = actors.get(msg.from ? msg.from : msg.to.actor);\n          const stackedSize = actorActivations(msg.from ? msg.from : msg.to.actor).length;\n          const x = actorRect.x + actorRect.width / 2 + (stackedSize - 1) * conf.activationWidth / 2;\n          const toAdd = {\n            startx: x,\n            stopx: x + conf.activationWidth,\n            actor: msg.from,\n            enabled: true\n          };\n          bounds.activations.push(toAdd);\n        }\n        break;\n      case diagObj.db.LINETYPE.ACTIVE_END:\n        {\n          const lastActorActivationIdx = bounds.activations.map((a) => a.actor).lastIndexOf(msg.from);\n          bounds.activations.splice(lastActorActivationIdx, 1).splice(0, 1);\n        }\n        break;\n    }\n    const isNote = msg.placement !== void 0;\n    if (isNote) {\n      noteModel = await buildNoteModel(msg, actors, diagObj);\n      msg.noteModel = noteModel;\n      stack.forEach((stk) => {\n        current = stk;\n        current.from = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMin(current.from, noteModel.startx);\n        current.to = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(current.to, noteModel.startx + noteModel.width);\n        current.width = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(current.width, Math.abs(current.from - current.to)) - conf.labelBoxWidth;\n      });\n    } else {\n      msgModel = buildMessageModel(msg, actors, diagObj);\n      msg.msgModel = msgModel;\n      if (msgModel.startx && msgModel.stopx && stack.length > 0) {\n        stack.forEach((stk) => {\n          current = stk;\n          if (msgModel.startx === msgModel.stopx) {\n            const from = actors.get(msg.from);\n            const to = actors.get(msg.to);\n            current.from = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMin(\n              from.x - msgModel.width / 2,\n              from.x - from.width / 2,\n              current.from\n            );\n            current.to = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(\n              to.x + msgModel.width / 2,\n              to.x + from.width / 2,\n              current.to\n            );\n            current.width = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(current.width, Math.abs(current.to - current.from)) - conf.labelBoxWidth;\n          } else {\n            current.from = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMin(msgModel.startx, current.from);\n            current.to = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(msgModel.stopx, current.to);\n            current.width = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.common_default.getMax(current.width, msgModel.width) - conf.labelBoxWidth;\n          }\n        });\n      }\n    }\n  }\n  bounds.activations = [];\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.log.debug("Loop type widths:", loops);\n  return loops;\n}, "calculateLoopBounds");\nvar sequenceRenderer_default = {\n  bounds,\n  drawActors,\n  drawActorsPopup,\n  setConf,\n  draw\n};\n\n// src/diagrams/sequence/sequenceDiagram.ts\nvar diagram = {\n  parser: sequenceDiagram_default,\n  get db() {\n    return new SequenceDB();\n  },\n  renderer: sequenceRenderer_default,\n  styles: styles_default,\n  init: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.__name)((cnf) => {\n    if (!cnf.sequence) {\n      cnf.sequence = {};\n    }\n    if (cnf.wrap) {\n      cnf.sequence.wrap = cnf.wrap;\n      (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.setConfig2)({ sequence: { wrap: cnf.wrap } });\n    }\n  }, "init")\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/sequenceDiagram-WL72ISMW.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/stateDiagram-FKZM4ZOC.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_DI55MBZ5_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-DI55MBZ5.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-DI55MBZ5.mjs");\n/* harmony import */ var _chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-55IACEB6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-55IACEB6.mjs");\n/* harmony import */ var _chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-QN33PNHL.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs");\n/* harmony import */ var _chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-N4CR4FBY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-N4CR4FBY.mjs");\n/* harmony import */ var _chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-QXUST7PY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QXUST7PY.mjs");\n/* harmony import */ var _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-HN2XXSSU.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HN2XXSSU.mjs");\n/* harmony import */ var _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-JZLCHNYA.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs");\n/* harmony import */ var _chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-CVBHYZKI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs");\n/* harmony import */ var _chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-ATLVNIR6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n/* harmony import */ var dagre_d3_es_src_dagre_index_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! dagre-d3-es/src/dagre/index.js */ "./node_modules/dagre-d3-es/src/dagre/index.js");\n/* harmony import */ var dagre_d3_es_src_graphlib_index_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! dagre-d3-es/src/graphlib/index.js */ "./node_modules/dagre-d3-es/src/graphlib/index.js");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// src/diagrams/state/stateRenderer.js\n\n\n\n\n// src/diagrams/state/shapes.js\n\nvar drawStartState = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((g) => g.append("circle").attr("class", "start-state").attr("r", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.sizeUnit).attr("cx", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.sizeUnit).attr("cy", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.sizeUnit), "drawStartState");\nvar drawDivider = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((g) => g.append("line").style("stroke", "grey").style("stroke-dasharray", "3").attr("x1", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.textHeight).attr("class", "divider").attr("x2", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.textHeight * 2).attr("y1", 0).attr("y2", 0), "drawDivider");\nvar drawSimpleState = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((g, stateDef) => {\n  const state = g.append("text").attr("x", 2 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("y", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.textHeight + 2 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("font-size", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.fontSize).attr("class", "state-title").text(stateDef.id);\n  const classBox = state.node().getBBox();\n  g.insert("rect", ":first-child").attr("x", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("y", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("width", classBox.width + 2 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("height", classBox.height + 2 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("rx", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.radius);\n  return state;\n}, "drawSimpleState");\nvar drawDescrState = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((g, stateDef) => {\n  const addTspan = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(function(textEl, txt, isFirst2) {\n    const tSpan = textEl.append("tspan").attr("x", 2 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).text(txt);\n    if (!isFirst2) {\n      tSpan.attr("dy", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.textHeight);\n    }\n  }, "addTspan");\n  const title = g.append("text").attr("x", 2 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("y", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.textHeight + 1.3 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("font-size", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.fontSize).attr("class", "state-title").text(stateDef.descriptions[0]);\n  const titleBox = title.node().getBBox();\n  const titleHeight = titleBox.height;\n  const description = g.append("text").attr("x", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr(\n    "y",\n    titleHeight + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding * 0.4 + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.dividerMargin + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.textHeight\n  ).attr("class", "state-description");\n  let isFirst = true;\n  let isSecond = true;\n  stateDef.descriptions.forEach(function(descr) {\n    if (!isFirst) {\n      addTspan(description, descr, isSecond);\n      isSecond = false;\n    }\n    isFirst = false;\n  });\n  const descrLine = g.append("line").attr("x1", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("y1", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding + titleHeight + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.dividerMargin / 2).attr("y2", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding + titleHeight + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.dividerMargin / 2).attr("class", "descr-divider");\n  const descrBox = description.node().getBBox();\n  const width = Math.max(descrBox.width, titleBox.width);\n  descrLine.attr("x2", width + 3 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding);\n  g.insert("rect", ":first-child").attr("x", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("y", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("width", width + 2 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("height", descrBox.height + titleHeight + 2 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("rx", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.radius);\n  return g;\n}, "drawDescrState");\nvar addTitleAndBox = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((g, stateDef, altBkg) => {\n  const pad = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding;\n  const dblPad = 2 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding;\n  const orgBox = g.node().getBBox();\n  const orgWidth = orgBox.width;\n  const orgX = orgBox.x;\n  const title = g.append("text").attr("x", 0).attr("y", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.titleShift).attr("font-size", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.fontSize).attr("class", "state-title").text(stateDef.id);\n  const titleBox = title.node().getBBox();\n  const titleWidth = titleBox.width + dblPad;\n  let width = Math.max(titleWidth, orgWidth);\n  if (width === orgWidth) {\n    width = width + dblPad;\n  }\n  let startX;\n  const graphBox = g.node().getBBox();\n  if (stateDef.doc) {\n  }\n  startX = orgX - pad;\n  if (titleWidth > orgWidth) {\n    startX = (orgWidth - width) / 2 + pad;\n  }\n  if (Math.abs(orgX - graphBox.x) < pad && titleWidth > orgWidth) {\n    startX = orgX - (titleWidth - orgWidth) / 2;\n  }\n  const lineY = 1 - (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.textHeight;\n  g.insert("rect", ":first-child").attr("x", startX).attr("y", lineY).attr("class", altBkg ? "alt-composit" : "composit").attr("width", width).attr(\n    "height",\n    graphBox.height + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.textHeight + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.titleShift + 1\n  ).attr("rx", "0");\n  title.attr("x", startX + pad);\n  if (titleWidth <= orgWidth) {\n    title.attr("x", orgX + (width - dblPad) / 2 - titleWidth / 2 + pad);\n  }\n  g.insert("rect", ":first-child").attr("x", startX).attr(\n    "y",\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.titleShift - (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.textHeight - (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding\n  ).attr("width", width).attr("height", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.textHeight * 3).attr("rx", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.radius);\n  g.insert("rect", ":first-child").attr("x", startX).attr(\n    "y",\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.titleShift - (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.textHeight - (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding\n  ).attr("width", width).attr("height", graphBox.height + 3 + 2 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.textHeight).attr("rx", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.radius);\n  return g;\n}, "addTitleAndBox");\nvar drawEndState = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((g) => {\n  g.append("circle").attr("class", "end-state-outer").attr("r", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.sizeUnit + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.miniPadding).attr(\n    "cx",\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.sizeUnit + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.miniPadding\n  ).attr(\n    "cy",\n    (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.sizeUnit + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.miniPadding\n  );\n  return g.append("circle").attr("class", "end-state-inner").attr("r", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.sizeUnit).attr("cx", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.sizeUnit + 2).attr("cy", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.sizeUnit + 2);\n}, "drawEndState");\nvar drawForkJoinState = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((g, stateDef) => {\n  let width = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.forkWidth;\n  let height = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.forkHeight;\n  if (stateDef.parentId) {\n    let tmp = width;\n    width = height;\n    height = tmp;\n  }\n  return g.append("rect").style("stroke", "black").style("fill", "black").attr("width", width).attr("height", height).attr("x", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("y", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding);\n}, "drawForkJoinState");\nvar _drawLongText = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((_text, x, y, g) => {\n  let textHeight = 0;\n  const textElem = g.append("text");\n  textElem.style("text-anchor", "start");\n  textElem.attr("class", "noteText");\n  let text = _text.replace(/\\r\\n/g, "<br/>");\n  text = text.replace(/\\n/g, "<br/>");\n  const lines = text.split(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.common_default.lineBreakRegex);\n  let tHeight = 1.25 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.noteMargin;\n  for (const line2 of lines) {\n    const txt = line2.trim();\n    if (txt.length > 0) {\n      const span = textElem.append("tspan");\n      span.text(txt);\n      if (tHeight === 0) {\n        const textBounds = span.node().getBBox();\n        tHeight += textBounds.height;\n      }\n      textHeight += tHeight;\n      span.attr("x", x + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.noteMargin);\n      span.attr("y", y + textHeight + 1.25 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.noteMargin);\n    }\n  }\n  return { textWidth: textElem.node().getBBox().width, textHeight };\n}, "_drawLongText");\nvar drawNote = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((text, g) => {\n  g.attr("class", "state-note");\n  const note = g.append("rect").attr("x", 0).attr("y", (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding);\n  const rectElem = g.append("g");\n  const { textWidth, textHeight } = _drawLongText(text, 0, 0, rectElem);\n  note.attr("height", textHeight + 2 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.noteMargin);\n  note.attr("width", textWidth + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.noteMargin * 2);\n  return note;\n}, "drawNote");\nvar drawState = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(function(elem, stateDef) {\n  const id = stateDef.id;\n  const stateInfo = {\n    id,\n    label: stateDef.id,\n    width: 0,\n    height: 0\n  };\n  const g = elem.append("g").attr("id", id).attr("class", "stateGroup");\n  if (stateDef.type === "start") {\n    drawStartState(g);\n  }\n  if (stateDef.type === "end") {\n    drawEndState(g);\n  }\n  if (stateDef.type === "fork" || stateDef.type === "join") {\n    drawForkJoinState(g, stateDef);\n  }\n  if (stateDef.type === "note") {\n    drawNote(stateDef.note.text, g);\n  }\n  if (stateDef.type === "divider") {\n    drawDivider(g);\n  }\n  if (stateDef.type === "default" && stateDef.descriptions.length === 0) {\n    drawSimpleState(g, stateDef);\n  }\n  if (stateDef.type === "default" && stateDef.descriptions.length > 0) {\n    drawDescrState(g, stateDef);\n  }\n  const stateBox = g.node().getBBox();\n  stateInfo.width = stateBox.width + 2 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding;\n  stateInfo.height = stateBox.height + 2 * (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding;\n  return stateInfo;\n}, "drawState");\nvar edgeCount = 0;\nvar drawEdge = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(function(elem, path, relation) {\n  const getRelationType = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(function(type) {\n    switch (type) {\n      case _chunk_DI55MBZ5_mjs__WEBPACK_IMPORTED_MODULE_0__.StateDB.relationType.AGGREGATION:\n        return "aggregation";\n      case _chunk_DI55MBZ5_mjs__WEBPACK_IMPORTED_MODULE_0__.StateDB.relationType.EXTENSION:\n        return "extension";\n      case _chunk_DI55MBZ5_mjs__WEBPACK_IMPORTED_MODULE_0__.StateDB.relationType.COMPOSITION:\n        return "composition";\n      case _chunk_DI55MBZ5_mjs__WEBPACK_IMPORTED_MODULE_0__.StateDB.relationType.DEPENDENCY:\n        return "dependency";\n    }\n  }, "getRelationType");\n  path.points = path.points.filter((p) => !Number.isNaN(p.y));\n  const lineData = path.points;\n  const lineFunction = (0,d3__WEBPACK_IMPORTED_MODULE_13__.line)().x(function(d) {\n    return d.x;\n  }).y(function(d) {\n    return d.y;\n  }).curve(d3__WEBPACK_IMPORTED_MODULE_13__.curveBasis);\n  const svgPath = elem.append("path").attr("d", lineFunction(lineData)).attr("id", "edge" + edgeCount).attr("class", "transition");\n  let url = "";\n  if ((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.arrowMarkerAbsolute) {\n    url = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getUrl)(true);\n  }\n  svgPath.attr(\n    "marker-end",\n    "url(" + url + "#" + getRelationType(_chunk_DI55MBZ5_mjs__WEBPACK_IMPORTED_MODULE_0__.StateDB.relationType.DEPENDENCY) + "End)"\n  );\n  if (relation.title !== void 0) {\n    const label = elem.append("g").attr("class", "stateLabel");\n    const { x, y } = _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__.utils_default.calcLabelPosition(path.points);\n    const rows = _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.common_default.getRows(relation.title);\n    let titleHeight = 0;\n    const titleRows = [];\n    let maxWidth = 0;\n    let minX = 0;\n    for (let i = 0; i <= rows.length; i++) {\n      const title = label.append("text").attr("text-anchor", "middle").text(rows[i]).attr("x", x).attr("y", y + titleHeight);\n      const boundsTmp = title.node().getBBox();\n      maxWidth = Math.max(maxWidth, boundsTmp.width);\n      minX = Math.min(minX, boundsTmp.x);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.info(boundsTmp.x, x, y + titleHeight);\n      if (titleHeight === 0) {\n        const titleBox = title.node().getBBox();\n        titleHeight = titleBox.height;\n        _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.info("Title height", titleHeight, y);\n      }\n      titleRows.push(title);\n    }\n    let boxHeight = titleHeight * rows.length;\n    if (rows.length > 1) {\n      const heightAdj = (rows.length - 1) * titleHeight * 0.5;\n      titleRows.forEach((title, i) => title.attr("y", y + i * titleHeight - heightAdj));\n      boxHeight = titleHeight * rows.length;\n    }\n    const bounds = label.node().getBBox();\n    label.insert("rect", ":first-child").attr("class", "box").attr("x", x - maxWidth / 2 - (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding / 2).attr("y", y - boxHeight / 2 - (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding / 2 - 3.5).attr("width", maxWidth + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding).attr("height", boxHeight + (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state.padding);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.info(bounds);\n  }\n  edgeCount++;\n}, "drawEdge");\n\n// src/diagrams/state/stateRenderer.js\nvar conf;\nvar transformationLog = {};\nvar setConf = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(function() {\n}, "setConf");\nvar insertMarkers = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(function(elem) {\n  elem.append("defs").append("marker").attr("id", "dependencyEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 19,7 L9,13 L14,7 L9,1 Z");\n}, "insertMarkers");\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(function(text, id, _version, diagObj) {\n  conf = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().state;\n  const securityLevel = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig2)().securityLevel;\n  let sandboxElement;\n  if (securityLevel === "sandbox") {\n    sandboxElement = (0,d3__WEBPACK_IMPORTED_MODULE_13__.select)("#i" + id);\n  }\n  const root = securityLevel === "sandbox" ? (0,d3__WEBPACK_IMPORTED_MODULE_13__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0,d3__WEBPACK_IMPORTED_MODULE_13__.select)("body");\n  const doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug("Rendering diagram " + text);\n  const diagram2 = root.select(`[id=\'${id}\']`);\n  insertMarkers(diagram2);\n  const rootDoc = diagObj.db.getRootDoc();\n  renderDoc(rootDoc, diagram2, void 0, false, root, doc, diagObj);\n  const padding = conf.padding;\n  const bounds = diagram2.node().getBBox();\n  const width = bounds.width + padding * 2;\n  const height = bounds.height + padding * 2;\n  const svgWidth = width * 1.75;\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.configureSvgSize)(diagram2, height, svgWidth, conf.useMaxWidth);\n  diagram2.attr(\n    "viewBox",\n    `${bounds.x - conf.padding}  ${bounds.y - conf.padding} ` + width + " " + height\n  );\n}, "draw");\nvar getLabelWidth = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((text) => {\n  return text ? text.length * conf.fontSizeFactor : 1;\n}, "getLabelWidth");\nvar renderDoc = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((doc, diagram2, parentId, altBkg, root, domDocument, diagObj) => {\n  const graph = new dagre_d3_es_src_graphlib_index_js__WEBPACK_IMPORTED_MODULE_15__.Graph({\n    compound: true,\n    multigraph: true\n  });\n  let i;\n  let edgeFreeDoc = true;\n  for (i = 0; i < doc.length; i++) {\n    if (doc[i].stmt === "relation") {\n      edgeFreeDoc = false;\n      break;\n    }\n  }\n  if (parentId) {\n    graph.setGraph({\n      rankdir: "LR",\n      multigraph: true,\n      compound: true,\n      // acyclicer: \'greedy\',\n      ranker: "tight-tree",\n      ranksep: edgeFreeDoc ? 1 : conf.edgeLengthFactor,\n      nodeSep: edgeFreeDoc ? 1 : 50,\n      isMultiGraph: true\n      // ranksep: 5,\n      // nodesep: 1\n    });\n  } else {\n    graph.setGraph({\n      rankdir: "TB",\n      multigraph: true,\n      compound: true,\n      // isCompound: true,\n      // acyclicer: \'greedy\',\n      // ranker: \'longest-path\'\n      ranksep: edgeFreeDoc ? 1 : conf.edgeLengthFactor,\n      nodeSep: edgeFreeDoc ? 1 : 50,\n      ranker: "tight-tree",\n      // ranker: \'network-simplex\'\n      isMultiGraph: true\n    });\n  }\n  graph.setDefaultEdgeLabel(function() {\n    return {};\n  });\n  const states = diagObj.db.getStates();\n  const relations = diagObj.db.getRelations();\n  const keys = Object.keys(states);\n  let first = true;\n  for (const key of keys) {\n    const stateDef = states[key];\n    if (parentId) {\n      stateDef.parentId = parentId;\n    }\n    let node;\n    if (stateDef.doc) {\n      let sub = diagram2.append("g").attr("id", stateDef.id).attr("class", "stateGroup");\n      node = renderDoc(stateDef.doc, sub, stateDef.id, !altBkg, root, domDocument, diagObj);\n      if (first) {\n        sub = addTitleAndBox(sub, stateDef, altBkg);\n        let boxBounds = sub.node().getBBox();\n        node.width = boxBounds.width;\n        node.height = boxBounds.height + conf.padding / 2;\n        transformationLog[stateDef.id] = { y: conf.compositTitleSize };\n      } else {\n        let boxBounds = sub.node().getBBox();\n        node.width = boxBounds.width;\n        node.height = boxBounds.height;\n      }\n    } else {\n      node = drawState(diagram2, stateDef, graph);\n    }\n    if (stateDef.note) {\n      const noteDef = {\n        descriptions: [],\n        id: stateDef.id + "-note",\n        note: stateDef.note,\n        type: "note"\n      };\n      const note = drawState(diagram2, noteDef, graph);\n      if (stateDef.note.position === "left of") {\n        graph.setNode(node.id + "-note", note);\n        graph.setNode(node.id, node);\n      } else {\n        graph.setNode(node.id, node);\n        graph.setNode(node.id + "-note", note);\n      }\n      graph.setParent(node.id, node.id + "-group");\n      graph.setParent(node.id + "-note", node.id + "-group");\n    } else {\n      graph.setNode(node.id, node);\n    }\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug("Count=", graph.nodeCount(), graph);\n  let cnt = 0;\n  relations.forEach(function(relation) {\n    cnt++;\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug("Setting edge", relation);\n    graph.setEdge(\n      relation.id1,\n      relation.id2,\n      {\n        relation,\n        width: getLabelWidth(relation.title),\n        height: conf.labelHeight * _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.common_default.getRows(relation.title).length,\n        labelpos: "c"\n      },\n      "id" + cnt\n    );\n  });\n  (0,dagre_d3_es_src_dagre_index_js__WEBPACK_IMPORTED_MODULE_14__.layout)(graph);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug("Graph after layout", graph.nodes());\n  const svgElem = diagram2.node();\n  graph.nodes().forEach(function(v) {\n    if (v !== void 0 && graph.node(v) !== void 0) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.warn("Node " + v + ": " + JSON.stringify(graph.node(v)));\n      root.select("#" + svgElem.id + " #" + v).attr(\n        "transform",\n        "translate(" + (graph.node(v).x - graph.node(v).width / 2) + "," + (graph.node(v).y + (transformationLog[v] ? transformationLog[v].y : 0) - graph.node(v).height / 2) + " )"\n      );\n      root.select("#" + svgElem.id + " #" + v).attr("data-x-shift", graph.node(v).x - graph.node(v).width / 2);\n      const dividers = domDocument.querySelectorAll("#" + svgElem.id + " #" + v + " .divider");\n      dividers.forEach((divider) => {\n        const parent = divider.parentElement;\n        let pWidth = 0;\n        let pShift = 0;\n        if (parent) {\n          if (parent.parentElement) {\n            pWidth = parent.parentElement.getBBox().width;\n          }\n          pShift = parseInt(parent.getAttribute("data-x-shift"), 10);\n          if (Number.isNaN(pShift)) {\n            pShift = 0;\n          }\n        }\n        divider.setAttribute("x1", 0 - pShift + 8);\n        divider.setAttribute("x2", pWidth - pShift - 8);\n      });\n    } else {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug("No Node " + v + ": " + JSON.stringify(graph.node(v)));\n    }\n  });\n  let stateBox = svgElem.getBBox();\n  graph.edges().forEach(function(e) {\n    if (e !== void 0 && graph.edge(e) !== void 0) {\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(graph.edge(e)));\n      drawEdge(diagram2, graph.edge(e), graph.edge(e).relation);\n    }\n  });\n  stateBox = svgElem.getBBox();\n  const stateInfo = {\n    id: parentId ? parentId : "root",\n    label: parentId ? parentId : "root",\n    width: 0,\n    height: 0\n  };\n  stateInfo.width = stateBox.width + 2 * conf.padding;\n  stateInfo.height = stateBox.height + 2 * conf.padding;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug("Doc rendered", stateInfo, graph);\n  return stateInfo;\n}, "renderDoc");\nvar stateRenderer_default = {\n  setConf,\n  draw\n};\n\n// src/diagrams/state/stateDiagram.ts\nvar diagram = {\n  parser: _chunk_DI55MBZ5_mjs__WEBPACK_IMPORTED_MODULE_0__.stateDiagram_default,\n  get db() {\n    return new _chunk_DI55MBZ5_mjs__WEBPACK_IMPORTED_MODULE_0__.StateDB(1);\n  },\n  renderer: stateRenderer_default,\n  styles: _chunk_DI55MBZ5_mjs__WEBPACK_IMPORTED_MODULE_0__.styles_default,\n  init: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((cnf) => {\n    if (!cnf.state) {\n      cnf.state = {};\n    }\n    cnf.state.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n  }, "init")\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/stateDiagram-FKZM4ZOC.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/stateDiagram-v2-4FDKWEC3.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_DI55MBZ5_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-DI55MBZ5.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-DI55MBZ5.mjs");\n/* harmony import */ var _chunk_55IACEB6_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-55IACEB6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-55IACEB6.mjs");\n/* harmony import */ var _chunk_QN33PNHL_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-QN33PNHL.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QN33PNHL.mjs");\n/* harmony import */ var _chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-N4CR4FBY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-N4CR4FBY.mjs");\n/* harmony import */ var _chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-QXUST7PY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QXUST7PY.mjs");\n/* harmony import */ var _chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-HN2XXSSU.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HN2XXSSU.mjs");\n/* harmony import */ var _chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-JZLCHNYA.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs");\n/* harmony import */ var _chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-CVBHYZKI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs");\n/* harmony import */ var _chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-ATLVNIR6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// src/diagrams/state/stateDiagram-v2.ts\nvar diagram = {\n  parser: _chunk_DI55MBZ5_mjs__WEBPACK_IMPORTED_MODULE_0__.stateDiagram_default,\n  get db() {\n    return new _chunk_DI55MBZ5_mjs__WEBPACK_IMPORTED_MODULE_0__.StateDB(2);\n  },\n  renderer: _chunk_DI55MBZ5_mjs__WEBPACK_IMPORTED_MODULE_0__.stateRenderer_v3_unified_default,\n  styles: _chunk_DI55MBZ5_mjs__WEBPACK_IMPORTED_MODULE_0__.styles_default,\n  init: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((cnf) => {\n    if (!cnf.state) {\n      cnf.state = {};\n    }\n    cnf.state.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n  }, "init")\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/stateDiagram-v2-4FDKWEC3.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/timeline-definition-IT6M3QCI.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/is_dark.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/lighten.js");\n/* harmony import */ var khroma__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! khroma */ "./node_modules/khroma/dist/methods/darken.js");\n\n\n\n// src/diagrams/timeline/parser/timeline.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [6, 8, 10, 11, 12, 14, 16, 17, 20, 21], $V1 = [1, 9], $V2 = [1, 10], $V3 = [1, 11], $V4 = [1, 12], $V5 = [1, 13], $V6 = [1, 16], $V7 = [1, 17];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "start": 3, "timeline": 4, "document": 5, "EOF": 6, "line": 7, "SPACE": 8, "statement": 9, "NEWLINE": 10, "title": 11, "acc_title": 12, "acc_title_value": 13, "acc_descr": 14, "acc_descr_value": 15, "acc_descr_multiline_value": 16, "section": 17, "period_statement": 18, "event_statement": 19, "period": 20, "event": 21, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 4: "timeline", 6: "EOF", 8: "SPACE", 10: "NEWLINE", 11: "title", 12: "acc_title", 13: "acc_title_value", 14: "acc_descr", 15: "acc_descr_value", 16: "acc_descr_multiline_value", 17: "section", 20: "period", 21: "event" },\n    productions_: [0, [3, 3], [5, 0], [5, 2], [7, 2], [7, 1], [7, 1], [7, 1], [9, 1], [9, 2], [9, 2], [9, 1], [9, 1], [9, 1], [9, 1], [18, 1], [19, 1]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 1:\n          return $$[$0 - 1];\n          // removed by dead control flow\n\n        case 2:\n          this.$ = [];\n          break;\n        case 3:\n          $$[$0 - 1].push($$[$0]);\n          this.$ = $$[$0 - 1];\n          break;\n        case 4:\n        case 5:\n          this.$ = $$[$0];\n          break;\n        case 6:\n        case 7:\n          this.$ = [];\n          break;\n        case 8:\n          yy.getCommonDb().setDiagramTitle($$[$0].substr(6));\n          this.$ = $$[$0].substr(6);\n          break;\n        case 9:\n          this.$ = $$[$0].trim();\n          yy.getCommonDb().setAccTitle(this.$);\n          break;\n        case 10:\n        case 11:\n          this.$ = $$[$0].trim();\n          yy.getCommonDb().setAccDescription(this.$);\n          break;\n        case 12:\n          yy.addSection($$[$0].substr(8));\n          this.$ = $$[$0].substr(8);\n          break;\n        case 15:\n          yy.addTask($$[$0], 0, "");\n          this.$ = $$[$0];\n          break;\n        case 16:\n          yy.addEvent($$[$0].substr(2));\n          this.$ = $$[$0];\n          break;\n      }\n    }, "anonymous"),\n    table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, o($V0, [2, 2], { 5: 3 }), { 6: [1, 4], 7: 5, 8: [1, 6], 9: 7, 10: [1, 8], 11: $V1, 12: $V2, 14: $V3, 16: $V4, 17: $V5, 18: 14, 19: 15, 20: $V6, 21: $V7 }, o($V0, [2, 7], { 1: [2, 1] }), o($V0, [2, 3]), { 9: 18, 11: $V1, 12: $V2, 14: $V3, 16: $V4, 17: $V5, 18: 14, 19: 15, 20: $V6, 21: $V7 }, o($V0, [2, 5]), o($V0, [2, 6]), o($V0, [2, 8]), { 13: [1, 19] }, { 15: [1, 20] }, o($V0, [2, 11]), o($V0, [2, 12]), o($V0, [2, 13]), o($V0, [2, 14]), o($V0, [2, 15]), o($V0, [2, 16]), o($V0, [2, 4]), o($V0, [2, 9]), o($V0, [2, 10])],\n    defaultActions: {},\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: { "case-insensitive": true },\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            break;\n          case 1:\n            break;\n          case 2:\n            return 10;\n            // removed by dead control flow\n\n          case 3:\n            break;\n          case 4:\n            break;\n          case 5:\n            return 4;\n            // removed by dead control flow\n\n          case 6:\n            return 11;\n            // removed by dead control flow\n\n          case 7:\n            this.begin("acc_title");\n            return 12;\n            // removed by dead control flow\n\n          case 8:\n            this.popState();\n            return "acc_title_value";\n            // removed by dead control flow\n\n          case 9:\n            this.begin("acc_descr");\n            return 14;\n            // removed by dead control flow\n\n          case 10:\n            this.popState();\n            return "acc_descr_value";\n            // removed by dead control flow\n\n          case 11:\n            this.begin("acc_descr_multiline");\n            break;\n          case 12:\n            this.popState();\n            break;\n          case 13:\n            return "acc_descr_multiline_value";\n            // removed by dead control flow\n\n          case 14:\n            return 17;\n            // removed by dead control flow\n\n          case 15:\n            return 21;\n            // removed by dead control flow\n\n          case 16:\n            return 20;\n            // removed by dead control flow\n\n          case 17:\n            return 6;\n            // removed by dead control flow\n\n          case 18:\n            return "INVALID";\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:%(?!\\{)[^\\n]*)/i, /^(?:[^\\}]%%[^\\n]*)/i, /^(?:[\\n]+)/i, /^(?:\\s+)/i, /^(?:#[^\\n]*)/i, /^(?:timeline\\b)/i, /^(?:title\\s[^\\n]+)/i, /^(?:accTitle\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*\\{\\s*)/i, /^(?:[\\}])/i, /^(?:[^\\}]*)/i, /^(?:section\\s[^:\\n]+)/i, /^(?::\\s(?:[^:\\n]|:(?!\\s))+)/i, /^(?:[^#:\\n]+)/i, /^(?:$)/i, /^(?:.)/i],\n      conditions: { "acc_descr_multiline": { "rules": [12, 13], "inclusive": false }, "acc_descr": { "rules": [10], "inclusive": false }, "acc_title": { "rules": [8], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 18], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar timeline_default = parser;\n\n// src/diagrams/timeline/timelineDb.js\nvar timelineDb_exports = {};\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__export)(timelineDb_exports, {\n  addEvent: () => addEvent,\n  addSection: () => addSection,\n  addTask: () => addTask,\n  addTaskOrg: () => addTaskOrg,\n  clear: () => clear2,\n  default: () => timelineDb_default,\n  getCommonDb: () => getCommonDb,\n  getSections: () => getSections,\n  getTasks: () => getTasks\n});\nvar currentSection = "";\nvar currentTaskId = 0;\nvar sections = [];\nvar tasks = [];\nvar rawTasks = [];\nvar getCommonDb = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(() => _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.commonDb_exports, "getCommonDb");\nvar clear2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n  sections.length = 0;\n  tasks.length = 0;\n  currentSection = "";\n  rawTasks.length = 0;\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.clear)();\n}, "clear");\nvar addSection = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(txt) {\n  currentSection = txt;\n  sections.push(txt);\n}, "addSection");\nvar getSections = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n  return sections;\n}, "getSections");\nvar getTasks = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n  let allItemsProcessed = compileTasks();\n  const maxDepth = 100;\n  let iterationCount = 0;\n  while (!allItemsProcessed && iterationCount < maxDepth) {\n    allItemsProcessed = compileTasks();\n    iterationCount++;\n  }\n  tasks.push(...rawTasks);\n  return tasks;\n}, "getTasks");\nvar addTask = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(period, length, event) {\n  const rawTask = {\n    id: currentTaskId++,\n    section: currentSection,\n    type: currentSection,\n    task: period,\n    score: length ? length : 0,\n    //if event is defined, then add it the events array\n    events: event ? [event] : []\n  };\n  rawTasks.push(rawTask);\n}, "addTask");\nvar addEvent = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(event) {\n  const currentTask = rawTasks.find((task) => task.id === currentTaskId - 1);\n  currentTask.events.push(event);\n}, "addEvent");\nvar addTaskOrg = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(descr) {\n  const newTask = {\n    section: currentSection,\n    type: currentSection,\n    description: descr,\n    task: descr,\n    classes: []\n  };\n  tasks.push(newTask);\n}, "addTaskOrg");\nvar compileTasks = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n  const compileTask = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(pos) {\n    return rawTasks[pos].processed;\n  }, "compileTask");\n  let allProcessed = true;\n  for (const [i, rawTask] of rawTasks.entries()) {\n    compileTask(i);\n    allProcessed = allProcessed && rawTask.processed;\n  }\n  return allProcessed;\n}, "compileTasks");\nvar timelineDb_default = {\n  clear: clear2,\n  getCommonDb,\n  addSection,\n  getSections,\n  getTasks,\n  addTask,\n  addTaskOrg,\n  addEvent\n};\n\n// src/diagrams/timeline/timelineRenderer.ts\n\n\n// src/diagrams/timeline/svgDraw.js\n\nvar MAX_SECTIONS = 12;\nvar drawRect = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(elem, rectData) {\n  const rectElem = elem.append("rect");\n  rectElem.attr("x", rectData.x);\n  rectElem.attr("y", rectData.y);\n  rectElem.attr("fill", rectData.fill);\n  rectElem.attr("stroke", rectData.stroke);\n  rectElem.attr("width", rectData.width);\n  rectElem.attr("height", rectData.height);\n  rectElem.attr("rx", rectData.rx);\n  rectElem.attr("ry", rectData.ry);\n  if (rectData.class !== void 0) {\n    rectElem.attr("class", rectData.class);\n  }\n  return rectElem;\n}, "drawRect");\nvar drawFace = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(element, faceData) {\n  const radius = 15;\n  const circleElement = element.append("circle").attr("cx", faceData.cx).attr("cy", faceData.cy).attr("class", "face").attr("r", radius).attr("stroke-width", 2).attr("overflow", "visible");\n  const face = element.append("g");\n  face.append("circle").attr("cx", faceData.cx - radius / 3).attr("cy", faceData.cy - radius / 3).attr("r", 1.5).attr("stroke-width", 2).attr("fill", "#666").attr("stroke", "#666");\n  face.append("circle").attr("cx", faceData.cx + radius / 3).attr("cy", faceData.cy - radius / 3).attr("r", 1.5).attr("stroke-width", 2).attr("fill", "#666").attr("stroke", "#666");\n  function smile(face2) {\n    const arc = (0,d3__WEBPACK_IMPORTED_MODULE_2__.arc)().startAngle(Math.PI / 2).endAngle(3 * (Math.PI / 2)).innerRadius(radius / 2).outerRadius(radius / 2.2);\n    face2.append("path").attr("class", "mouth").attr("d", arc).attr("transform", "translate(" + faceData.cx + "," + (faceData.cy + 2) + ")");\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(smile, "smile");\n  function sad(face2) {\n    const arc = (0,d3__WEBPACK_IMPORTED_MODULE_2__.arc)().startAngle(3 * Math.PI / 2).endAngle(5 * (Math.PI / 2)).innerRadius(radius / 2).outerRadius(radius / 2.2);\n    face2.append("path").attr("class", "mouth").attr("d", arc).attr("transform", "translate(" + faceData.cx + "," + (faceData.cy + 7) + ")");\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(sad, "sad");\n  function ambivalent(face2) {\n    face2.append("line").attr("class", "mouth").attr("stroke", 2).attr("x1", faceData.cx - 5).attr("y1", faceData.cy + 7).attr("x2", faceData.cx + 5).attr("y2", faceData.cy + 7).attr("class", "mouth").attr("stroke-width", "1px").attr("stroke", "#666");\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(ambivalent, "ambivalent");\n  if (faceData.score > 3) {\n    smile(face);\n  } else if (faceData.score < 3) {\n    sad(face);\n  } else {\n    ambivalent(face);\n  }\n  return circleElement;\n}, "drawFace");\nvar drawCircle = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(element, circleData) {\n  const circleElement = element.append("circle");\n  circleElement.attr("cx", circleData.cx);\n  circleElement.attr("cy", circleData.cy);\n  circleElement.attr("class", "actor-" + circleData.pos);\n  circleElement.attr("fill", circleData.fill);\n  circleElement.attr("stroke", circleData.stroke);\n  circleElement.attr("r", circleData.r);\n  if (circleElement.class !== void 0) {\n    circleElement.attr("class", circleElement.class);\n  }\n  if (circleData.title !== void 0) {\n    circleElement.append("title").text(circleData.title);\n  }\n  return circleElement;\n}, "drawCircle");\nvar drawText = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(elem, textData) {\n  const nText = textData.text.replace(/<br\\s*\\/?>/gi, " ");\n  const textElem = elem.append("text");\n  textElem.attr("x", textData.x);\n  textElem.attr("y", textData.y);\n  textElem.attr("class", "legend");\n  textElem.style("text-anchor", textData.anchor);\n  if (textData.class !== void 0) {\n    textElem.attr("class", textData.class);\n  }\n  const span = textElem.append("tspan");\n  span.attr("x", textData.x + textData.textMargin * 2);\n  span.text(nText);\n  return textElem;\n}, "drawText");\nvar drawLabel = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(elem, txtObject) {\n  function genPoints(x, y, width, height, cut) {\n    return x + "," + y + " " + (x + width) + "," + y + " " + (x + width) + "," + (y + height - cut) + " " + (x + width - cut * 1.2) + "," + (y + height) + " " + x + "," + (y + height);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(genPoints, "genPoints");\n  const polygon = elem.append("polygon");\n  polygon.attr("points", genPoints(txtObject.x, txtObject.y, 50, 20, 7));\n  polygon.attr("class", "labelBox");\n  txtObject.y = txtObject.y + txtObject.labelMargin;\n  txtObject.x = txtObject.x + 0.5 * txtObject.labelMargin;\n  drawText(elem, txtObject);\n}, "drawLabel");\nvar drawSection = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(elem, section, conf) {\n  const g = elem.append("g");\n  const rect = getNoteRect();\n  rect.x = section.x;\n  rect.y = section.y;\n  rect.fill = section.fill;\n  rect.width = conf.width;\n  rect.height = conf.height;\n  rect.class = "journey-section section-type-" + section.num;\n  rect.rx = 3;\n  rect.ry = 3;\n  drawRect(g, rect);\n  _drawTextCandidateFunc(conf)(\n    section.text,\n    g,\n    rect.x,\n    rect.y,\n    rect.width,\n    rect.height,\n    { class: "journey-section section-type-" + section.num },\n    conf,\n    section.colour\n  );\n}, "drawSection");\nvar taskCount = -1;\nvar drawTask = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(elem, task, conf) {\n  const center = task.x + conf.width / 2;\n  const g = elem.append("g");\n  taskCount++;\n  const maxHeight = 300 + 5 * 30;\n  g.append("line").attr("id", "task" + taskCount).attr("x1", center).attr("y1", task.y).attr("x2", center).attr("y2", maxHeight).attr("class", "task-line").attr("stroke-width", "1px").attr("stroke-dasharray", "4 2").attr("stroke", "#666");\n  drawFace(g, {\n    cx: center,\n    cy: 300 + (5 - task.score) * 30,\n    score: task.score\n  });\n  const rect = getNoteRect();\n  rect.x = task.x;\n  rect.y = task.y;\n  rect.fill = task.fill;\n  rect.width = conf.width;\n  rect.height = conf.height;\n  rect.class = "task task-type-" + task.num;\n  rect.rx = 3;\n  rect.ry = 3;\n  drawRect(g, rect);\n  _drawTextCandidateFunc(conf)(\n    task.task,\n    g,\n    rect.x,\n    rect.y,\n    rect.width,\n    rect.height,\n    { class: "task" },\n    conf,\n    task.colour\n  );\n}, "drawTask");\nvar drawBackgroundRect = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(elem, bounds) {\n  const rectElem = drawRect(elem, {\n    x: bounds.startx,\n    y: bounds.starty,\n    width: bounds.stopx - bounds.startx,\n    height: bounds.stopy - bounds.starty,\n    fill: bounds.fill,\n    class: "rect"\n  });\n  rectElem.lower();\n}, "drawBackgroundRect");\nvar getTextObj = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n  return {\n    x: 0,\n    y: 0,\n    fill: void 0,\n    "text-anchor": "start",\n    width: 100,\n    height: 100,\n    textMargin: 0,\n    rx: 0,\n    ry: 0\n  };\n}, "getTextObj");\nvar getNoteRect = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function() {\n  return {\n    x: 0,\n    y: 0,\n    width: 100,\n    anchor: "start",\n    height: 100,\n    rx: 0,\n    ry: 0\n  };\n}, "getNoteRect");\nvar _drawTextCandidateFunc = /* @__PURE__ */ (function() {\n  function byText(content, g, x, y, width, height, textAttrs, colour) {\n    const text = g.append("text").attr("x", x + width / 2).attr("y", y + height / 2 + 5).style("font-color", colour).style("text-anchor", "middle").text(content);\n    _setTextAttrs(text, textAttrs);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(byText, "byText");\n  function byTspan(content, g, x, y, width, height, textAttrs, conf, colour) {\n    const { taskFontSize, taskFontFamily } = conf;\n    const lines = content.split(/<br\\s*\\/?>/gi);\n    for (let i = 0; i < lines.length; i++) {\n      const dy = i * taskFontSize - taskFontSize * (lines.length - 1) / 2;\n      const text = g.append("text").attr("x", x + width / 2).attr("y", y).attr("fill", colour).style("text-anchor", "middle").style("font-size", taskFontSize).style("font-family", taskFontFamily);\n      text.append("tspan").attr("x", x + width / 2).attr("dy", dy).text(lines[i]);\n      text.attr("y", y + height / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central");\n      _setTextAttrs(text, textAttrs);\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(byTspan, "byTspan");\n  function byFo(content, g, x, y, width, height, textAttrs, conf) {\n    const body = g.append("switch");\n    const f = body.append("foreignObject").attr("x", x).attr("y", y).attr("width", width).attr("height", height).attr("position", "fixed");\n    const text = f.append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");\n    text.append("div").attr("class", "label").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(content);\n    byTspan(content, body, x, y, width, height, textAttrs, conf);\n    _setTextAttrs(text, textAttrs);\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(byFo, "byFo");\n  function _setTextAttrs(toText, fromTextAttrsDict) {\n    for (const key in fromTextAttrsDict) {\n      if (key in fromTextAttrsDict) {\n        toText.attr(key, fromTextAttrsDict[key]);\n      }\n    }\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(_setTextAttrs, "_setTextAttrs");\n  return function(conf) {\n    return conf.textPlacement === "fo" ? byFo : conf.textPlacement === "old" ? byText : byTspan;\n  };\n})();\nvar initGraphics = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(graphics) {\n  graphics.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 5).attr("refY", 2).attr("markerWidth", 6).attr("markerHeight", 4).attr("orient", "auto").append("path").attr("d", "M 0,0 V 4 L6,2 Z");\n}, "initGraphics");\nfunction wrap(text, width) {\n  text.each(function() {\n    var text2 = (0,d3__WEBPACK_IMPORTED_MODULE_2__.select)(this), words = text2.text().split(/(\\s+|<br>)/).reverse(), word, line = [], lineHeight = 1.1, y = text2.attr("y"), dy = parseFloat(text2.attr("dy")), tspan = text2.text(null).append("tspan").attr("x", 0).attr("y", y).attr("dy", dy + "em");\n    for (let j = 0; j < words.length; j++) {\n      word = words[words.length - 1 - j];\n      line.push(word);\n      tspan.text(line.join(" ").trim());\n      if (tspan.node().getComputedTextLength() > width || word === "<br>") {\n        line.pop();\n        tspan.text(line.join(" ").trim());\n        if (word === "<br>") {\n          line = [""];\n        } else {\n          line = [word];\n        }\n        tspan = text2.append("tspan").attr("x", 0).attr("y", y).attr("dy", lineHeight + "em").text(word);\n      }\n    }\n  });\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(wrap, "wrap");\nvar drawNode = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(elem, node, fullSection, conf) {\n  const section = fullSection % MAX_SECTIONS - 1;\n  const nodeElem = elem.append("g");\n  node.section = section;\n  nodeElem.attr(\n    "class",\n    (node.class ? node.class + " " : "") + "timeline-node " + ("section-" + section)\n  );\n  const bkgElem = nodeElem.append("g");\n  const textElem = nodeElem.append("g");\n  const txt = textElem.append("text").text(node.descr).attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "middle").attr("text-anchor", "middle").call(wrap, node.width);\n  const bbox = txt.node().getBBox();\n  const fontSize = conf.fontSize?.replace ? conf.fontSize.replace("px", "") : conf.fontSize;\n  node.height = bbox.height + fontSize * 1.1 * 0.5 + node.padding;\n  node.height = Math.max(node.height, node.maxHeight);\n  node.width = node.width + 2 * node.padding;\n  textElem.attr("transform", "translate(" + node.width / 2 + ", " + node.padding / 2 + ")");\n  defaultBkg(bkgElem, node, section, conf);\n  return node;\n}, "drawNode");\nvar getVirtualNodeHeight = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(elem, node, conf) {\n  const textElem = elem.append("g");\n  const txt = textElem.append("text").text(node.descr).attr("dy", "1em").attr("alignment-baseline", "middle").attr("dominant-baseline", "middle").attr("text-anchor", "middle").call(wrap, node.width);\n  const bbox = txt.node().getBBox();\n  const fontSize = conf.fontSize?.replace ? conf.fontSize.replace("px", "") : conf.fontSize;\n  textElem.remove();\n  return bbox.height + fontSize * 1.1 * 0.5 + node.padding;\n}, "getVirtualNodeHeight");\nvar defaultBkg = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(elem, node, section) {\n  const rd = 5;\n  elem.append("path").attr("id", "node-" + node.id).attr("class", "node-bkg node-" + node.type).attr(\n    "d",\n    `M0 ${node.height - rd} v${-node.height + 2 * rd} q0,-5 5,-5 h${node.width - 2 * rd} q5,0 5,5 v${node.height - rd} H0 Z`\n  );\n  elem.append("line").attr("class", "node-line-" + section).attr("x1", 0).attr("y1", node.height).attr("x2", node.width).attr("y2", node.height);\n}, "defaultBkg");\nvar svgDraw_default = {\n  drawRect,\n  drawCircle,\n  drawSection,\n  drawText,\n  drawLabel,\n  drawTask,\n  drawBackgroundRect,\n  getTextObj,\n  getNoteRect,\n  initGraphics,\n  drawNode,\n  getVirtualNodeHeight\n};\n\n// src/diagrams/timeline/timelineRenderer.ts\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(text, id, version, diagObj) {\n  const conf = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.getConfig2)();\n  const LEFT_MARGIN = conf.timeline?.leftMargin ?? 50;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("timeline", diagObj.db);\n  const securityLevel = conf.securityLevel;\n  let sandboxElement;\n  if (securityLevel === "sandbox") {\n    sandboxElement = (0,d3__WEBPACK_IMPORTED_MODULE_2__.select)("#i" + id);\n  }\n  const root = securityLevel === "sandbox" ? (0,d3__WEBPACK_IMPORTED_MODULE_2__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0,d3__WEBPACK_IMPORTED_MODULE_2__.select)("body");\n  const svg = root.select("#" + id);\n  svg.append("g");\n  const tasks2 = diagObj.db.getTasks();\n  const title = diagObj.db.getCommonDb().getDiagramTitle();\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("task", tasks2);\n  svgDraw_default.initGraphics(svg);\n  const sections2 = diagObj.db.getSections();\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("sections", sections2);\n  let maxSectionHeight = 0;\n  let maxTaskHeight = 0;\n  let depthY = 0;\n  let sectionBeginY = 0;\n  let masterX = 50 + LEFT_MARGIN;\n  let masterY = 50;\n  sectionBeginY = 50;\n  let sectionNumber = 0;\n  let hasSections = true;\n  sections2.forEach(function(section) {\n    const sectionNode = {\n      number: sectionNumber,\n      descr: section,\n      section: sectionNumber,\n      width: 150,\n      padding: 20,\n      maxHeight: maxSectionHeight\n    };\n    const sectionHeight = svgDraw_default.getVirtualNodeHeight(svg, sectionNode, conf);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("sectionHeight before draw", sectionHeight);\n    maxSectionHeight = Math.max(maxSectionHeight, sectionHeight + 20);\n  });\n  let maxEventCount = 0;\n  let maxEventLineLength = 0;\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("tasks.length", tasks2.length);\n  for (const [i, task] of tasks2.entries()) {\n    const taskNode = {\n      number: i,\n      descr: task,\n      section: task.section,\n      width: 150,\n      padding: 20,\n      maxHeight: maxTaskHeight\n    };\n    const taskHeight = svgDraw_default.getVirtualNodeHeight(svg, taskNode, conf);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("taskHeight before draw", taskHeight);\n    maxTaskHeight = Math.max(maxTaskHeight, taskHeight + 20);\n    maxEventCount = Math.max(maxEventCount, task.events.length);\n    let maxEventLineLengthTemp = 0;\n    for (const event of task.events) {\n      const eventNode = {\n        descr: event,\n        section: task.section,\n        number: task.section,\n        width: 150,\n        padding: 20,\n        maxHeight: 50\n      };\n      maxEventLineLengthTemp += svgDraw_default.getVirtualNodeHeight(svg, eventNode, conf);\n    }\n    if (task.events.length > 0) {\n      maxEventLineLengthTemp += (task.events.length - 1) * 10;\n    }\n    maxEventLineLength = Math.max(maxEventLineLength, maxEventLineLengthTemp);\n  }\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("maxSectionHeight before draw", maxSectionHeight);\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("maxTaskHeight before draw", maxTaskHeight);\n  if (sections2 && sections2.length > 0) {\n    sections2.forEach((section) => {\n      const tasksForSection = tasks2.filter((task) => task.section === section);\n      const sectionNode = {\n        number: sectionNumber,\n        descr: section,\n        section: sectionNumber,\n        width: 200 * Math.max(tasksForSection.length, 1) - 50,\n        padding: 20,\n        maxHeight: maxSectionHeight\n      };\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("sectionNode", sectionNode);\n      const sectionNodeWrapper = svg.append("g");\n      const node = svgDraw_default.drawNode(sectionNodeWrapper, sectionNode, sectionNumber, conf);\n      _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("sectionNode output", node);\n      sectionNodeWrapper.attr("transform", `translate(${masterX}, ${sectionBeginY})`);\n      masterY += maxSectionHeight + 50;\n      if (tasksForSection.length > 0) {\n        drawTasks(\n          svg,\n          tasksForSection,\n          sectionNumber,\n          masterX,\n          masterY,\n          maxTaskHeight,\n          conf,\n          maxEventCount,\n          maxEventLineLength,\n          maxSectionHeight,\n          false\n        );\n      }\n      masterX += 200 * Math.max(tasksForSection.length, 1);\n      masterY = sectionBeginY;\n      sectionNumber++;\n    });\n  } else {\n    hasSections = false;\n    drawTasks(\n      svg,\n      tasks2,\n      sectionNumber,\n      masterX,\n      masterY,\n      maxTaskHeight,\n      conf,\n      maxEventCount,\n      maxEventLineLength,\n      maxSectionHeight,\n      true\n    );\n  }\n  const box = svg.node().getBBox();\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("bounds", box);\n  if (title) {\n    svg.append("text").text(title).attr("x", box.width / 2 - LEFT_MARGIN).attr("font-size", "4ex").attr("font-weight", "bold").attr("y", 20);\n  }\n  depthY = hasSections ? maxSectionHeight + maxTaskHeight + 150 : maxTaskHeight + 100;\n  const lineWrapper = svg.append("g").attr("class", "lineWrapper");\n  lineWrapper.append("line").attr("x1", LEFT_MARGIN).attr("y1", depthY).attr("x2", box.width + 3 * LEFT_MARGIN).attr("y2", depthY).attr("stroke-width", 4).attr("stroke", "black").attr("marker-end", "url(#arrowhead)");\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.setupGraphViewbox)(\n    void 0,\n    svg,\n    conf.timeline?.padding ?? 50,\n    conf.timeline?.useMaxWidth ?? false\n  );\n}, "draw");\nvar drawTasks = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(diagram2, tasks2, sectionColor, masterX, masterY, maxTaskHeight, conf, maxEventCount, maxEventLineLength, maxSectionHeight, isWithoutSections) {\n  for (const task of tasks2) {\n    const taskNode = {\n      descr: task.task,\n      section: sectionColor,\n      number: sectionColor,\n      width: 150,\n      padding: 20,\n      maxHeight: maxTaskHeight\n    };\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("taskNode", taskNode);\n    const taskWrapper = diagram2.append("g").attr("class", "taskWrapper");\n    const node = svgDraw_default.drawNode(taskWrapper, taskNode, sectionColor, conf);\n    const taskHeight = node.height;\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("taskHeight after draw", taskHeight);\n    taskWrapper.attr("transform", `translate(${masterX}, ${masterY})`);\n    maxTaskHeight = Math.max(maxTaskHeight, taskHeight);\n    if (task.events) {\n      const lineWrapper = diagram2.append("g").attr("class", "lineWrapper");\n      let lineLength = maxTaskHeight;\n      masterY += 100;\n      lineLength = lineLength + drawEvents(diagram2, task.events, sectionColor, masterX, masterY, conf);\n      masterY -= 100;\n      lineWrapper.append("line").attr("x1", masterX + 190 / 2).attr("y1", masterY + maxTaskHeight).attr("x2", masterX + 190 / 2).attr("y2", masterY + maxTaskHeight + 100 + maxEventLineLength + 100).attr("stroke-width", 2).attr("stroke", "black").attr("marker-end", "url(#arrowhead)").attr("stroke-dasharray", "5,5");\n    }\n    masterX = masterX + 200;\n    if (isWithoutSections && !conf.timeline?.disableMulticolor) {\n      sectionColor++;\n    }\n  }\n  masterY = masterY - 10;\n}, "drawTasks");\nvar drawEvents = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(function(diagram2, events, sectionColor, masterX, masterY, conf) {\n  let maxEventHeight = 0;\n  const eventBeginY = masterY;\n  masterY = masterY + 100;\n  for (const event of events) {\n    const eventNode = {\n      descr: event,\n      section: sectionColor,\n      number: sectionColor,\n      width: 150,\n      padding: 20,\n      maxHeight: 50\n    };\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.log.debug("eventNode", eventNode);\n    const eventWrapper = diagram2.append("g").attr("class", "eventWrapper");\n    const node = svgDraw_default.drawNode(eventWrapper, eventNode, sectionColor, conf);\n    const eventHeight = node.height;\n    maxEventHeight = maxEventHeight + eventHeight;\n    eventWrapper.attr("transform", `translate(${masterX}, ${masterY})`);\n    masterY = masterY + 10 + eventHeight;\n  }\n  masterY = eventBeginY;\n  return maxEventHeight;\n}, "drawEvents");\nvar timelineRenderer_default = {\n  setConf: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)(() => {\n  }, "setConf"),\n  draw\n};\n\n// src/diagrams/timeline/styles.js\n\nvar genSections = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((options) => {\n  let sections2 = "";\n  for (let i = 0; i < options.THEME_COLOR_LIMIT; i++) {\n    options["lineColor" + i] = options["lineColor" + i] || options["cScaleInv" + i];\n    if ((0,khroma__WEBPACK_IMPORTED_MODULE_3__["default"])(options["lineColor" + i])) {\n      options["lineColor" + i] = (0,khroma__WEBPACK_IMPORTED_MODULE_4__["default"])(options["lineColor" + i], 20);\n    } else {\n      options["lineColor" + i] = (0,khroma__WEBPACK_IMPORTED_MODULE_5__["default"])(options["lineColor" + i], 20);\n    }\n  }\n  for (let i = 0; i < options.THEME_COLOR_LIMIT; i++) {\n    const sw = "" + (17 - 3 * i);\n    sections2 += `\n    .section-${i - 1} rect, .section-${i - 1} path, .section-${i - 1} circle, .section-${i - 1} path  {\n      fill: ${options["cScale" + i]};\n    }\n    .section-${i - 1} text {\n     fill: ${options["cScaleLabel" + i]};\n    }\n    .node-icon-${i - 1} {\n      font-size: 40px;\n      color: ${options["cScaleLabel" + i]};\n    }\n    .section-edge-${i - 1}{\n      stroke: ${options["cScale" + i]};\n    }\n    .edge-depth-${i - 1}{\n      stroke-width: ${sw};\n    }\n    .section-${i - 1} line {\n      stroke: ${options["cScaleInv" + i]} ;\n      stroke-width: 3;\n    }\n\n    .lineWrapper line{\n      stroke: ${options["cScaleLabel" + i]} ;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    `;\n  }\n  return sections2;\n}, "genSections");\nvar getStyles = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.__name)((options) => `\n  .edge {\n    stroke-width: 3;\n  }\n  ${genSections(options)}\n  .section-root rect, .section-root path, .section-root circle  {\n    fill: ${options.git0};\n  }\n  .section-root text {\n    fill: ${options.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .eventWrapper  {\n   filter: brightness(120%);\n  }\n`, "getStyles");\nvar styles_default = getStyles;\n\n// src/diagrams/timeline/timeline-definition.ts\nvar diagram = {\n  db: timelineDb_exports,\n  renderer: timelineRenderer_default,\n  parser: timeline_default,\n  styles: styles_default\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/timeline-definition-IT6M3QCI.mjs?\n}')},"./node_modules/mermaid/dist/chunks/mermaid.core/xychartDiagram-PRI3JC2R.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-EXTU4WIE.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-EXTU4WIE.mjs");\n/* harmony import */ var _chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n\n\n\n\n\n\n// src/diagrams/xychart/parser/xychart.jison\nvar parser = (function() {\n  var o = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, "o"), $V0 = [1, 10, 12, 14, 16, 18, 19, 21, 23], $V1 = [2, 6], $V2 = [1, 3], $V3 = [1, 5], $V4 = [1, 6], $V5 = [1, 7], $V6 = [1, 5, 10, 12, 14, 16, 18, 19, 21, 23, 34, 35, 36], $V7 = [1, 25], $V8 = [1, 26], $V9 = [1, 28], $Va = [1, 29], $Vb = [1, 30], $Vc = [1, 31], $Vd = [1, 32], $Ve = [1, 33], $Vf = [1, 34], $Vg = [1, 35], $Vh = [1, 36], $Vi = [1, 37], $Vj = [1, 43], $Vk = [1, 42], $Vl = [1, 47], $Vm = [1, 50], $Vn = [1, 10, 12, 14, 16, 18, 19, 21, 23, 34, 35, 36], $Vo = [1, 10, 12, 14, 16, 18, 19, 21, 23, 24, 26, 27, 28, 34, 35, 36], $Vp = [1, 10, 12, 14, 16, 18, 19, 21, 23, 24, 26, 27, 28, 34, 35, 36, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50], $Vq = [1, 64];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function trace() {\n    }, "trace"),\n    yy: {},\n    symbols_: { "error": 2, "start": 3, "eol": 4, "XYCHART": 5, "chartConfig": 6, "document": 7, "CHART_ORIENTATION": 8, "statement": 9, "title": 10, "text": 11, "X_AXIS": 12, "parseXAxis": 13, "Y_AXIS": 14, "parseYAxis": 15, "LINE": 16, "plotData": 17, "BAR": 18, "acc_title": 19, "acc_title_value": 20, "acc_descr": 21, "acc_descr_value": 22, "acc_descr_multiline_value": 23, "SQUARE_BRACES_START": 24, "commaSeparatedNumbers": 25, "SQUARE_BRACES_END": 26, "NUMBER_WITH_DECIMAL": 27, "COMMA": 28, "xAxisData": 29, "bandData": 30, "ARROW_DELIMITER": 31, "commaSeparatedTexts": 32, "yAxisData": 33, "NEWLINE": 34, "SEMI": 35, "EOF": 36, "alphaNum": 37, "STR": 38, "MD_STR": 39, "alphaNumToken": 40, "AMP": 41, "NUM": 42, "ALPHA": 43, "PLUS": 44, "EQUALS": 45, "MULT": 46, "DOT": 47, "BRKT": 48, "MINUS": 49, "UNDERSCORE": 50, "$accept": 0, "$end": 1 },\n    terminals_: { 2: "error", 5: "XYCHART", 8: "CHART_ORIENTATION", 10: "title", 12: "X_AXIS", 14: "Y_AXIS", 16: "LINE", 18: "BAR", 19: "acc_title", 20: "acc_title_value", 21: "acc_descr", 22: "acc_descr_value", 23: "acc_descr_multiline_value", 24: "SQUARE_BRACES_START", 26: "SQUARE_BRACES_END", 27: "NUMBER_WITH_DECIMAL", 28: "COMMA", 31: "ARROW_DELIMITER", 34: "NEWLINE", 35: "SEMI", 36: "EOF", 38: "STR", 39: "MD_STR", 41: "AMP", 42: "NUM", 43: "ALPHA", 44: "PLUS", 45: "EQUALS", 46: "MULT", 47: "DOT", 48: "BRKT", 49: "MINUS", 50: "UNDERSCORE" },\n    productions_: [0, [3, 2], [3, 3], [3, 2], [3, 1], [6, 1], [7, 0], [7, 2], [9, 2], [9, 2], [9, 2], [9, 2], [9, 2], [9, 3], [9, 2], [9, 3], [9, 2], [9, 2], [9, 1], [17, 3], [25, 3], [25, 1], [13, 1], [13, 2], [13, 1], [29, 1], [29, 3], [30, 3], [32, 3], [32, 1], [15, 1], [15, 2], [15, 1], [33, 3], [4, 1], [4, 1], [4, 1], [11, 1], [11, 1], [11, 1], [37, 1], [37, 2], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1], [40, 1]],\n    performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 5:\n          yy.setOrientation($$[$0]);\n          break;\n        case 9:\n          yy.setDiagramTitle($$[$0].text.trim());\n          break;\n        case 12:\n          yy.setLineData({ text: "", type: "text" }, $$[$0]);\n          break;\n        case 13:\n          yy.setLineData($$[$0 - 1], $$[$0]);\n          break;\n        case 14:\n          yy.setBarData({ text: "", type: "text" }, $$[$0]);\n          break;\n        case 15:\n          yy.setBarData($$[$0 - 1], $$[$0]);\n          break;\n        case 16:\n          this.$ = $$[$0].trim();\n          yy.setAccTitle(this.$);\n          break;\n        case 17:\n        case 18:\n          this.$ = $$[$0].trim();\n          yy.setAccDescription(this.$);\n          break;\n        case 19:\n          this.$ = $$[$0 - 1];\n          break;\n        case 20:\n          this.$ = [Number($$[$0 - 2]), ...$$[$0]];\n          break;\n        case 21:\n          this.$ = [Number($$[$0])];\n          break;\n        case 22:\n          yy.setXAxisTitle($$[$0]);\n          break;\n        case 23:\n          yy.setXAxisTitle($$[$0 - 1]);\n          break;\n        case 24:\n          yy.setXAxisTitle({ type: "text", text: "" });\n          break;\n        case 25:\n          yy.setXAxisBand($$[$0]);\n          break;\n        case 26:\n          yy.setXAxisRangeData(Number($$[$0 - 2]), Number($$[$0]));\n          break;\n        case 27:\n          this.$ = $$[$0 - 1];\n          break;\n        case 28:\n          this.$ = [$$[$0 - 2], ...$$[$0]];\n          break;\n        case 29:\n          this.$ = [$$[$0]];\n          break;\n        case 30:\n          yy.setYAxisTitle($$[$0]);\n          break;\n        case 31:\n          yy.setYAxisTitle($$[$0 - 1]);\n          break;\n        case 32:\n          yy.setYAxisTitle({ type: "text", text: "" });\n          break;\n        case 33:\n          yy.setYAxisRangeData(Number($$[$0 - 2]), Number($$[$0]));\n          break;\n        case 37:\n          this.$ = { text: $$[$0], type: "text" };\n          break;\n        case 38:\n          this.$ = { text: $$[$0], type: "text" };\n          break;\n        case 39:\n          this.$ = { text: $$[$0], type: "markdown" };\n          break;\n        case 40:\n          this.$ = $$[$0];\n          break;\n        case 41:\n          this.$ = $$[$0 - 1] + "" + $$[$0];\n          break;\n      }\n    }, "anonymous"),\n    table: [o($V0, $V1, { 3: 1, 4: 2, 7: 4, 5: $V2, 34: $V3, 35: $V4, 36: $V5 }), { 1: [3] }, o($V0, $V1, { 4: 2, 7: 4, 3: 8, 5: $V2, 34: $V3, 35: $V4, 36: $V5 }), o($V0, $V1, { 4: 2, 7: 4, 6: 9, 3: 10, 5: $V2, 8: [1, 11], 34: $V3, 35: $V4, 36: $V5 }), { 1: [2, 4], 9: 12, 10: [1, 13], 12: [1, 14], 14: [1, 15], 16: [1, 16], 18: [1, 17], 19: [1, 18], 21: [1, 19], 23: [1, 20] }, o($V6, [2, 34]), o($V6, [2, 35]), o($V6, [2, 36]), { 1: [2, 1] }, o($V0, $V1, { 4: 2, 7: 4, 3: 21, 5: $V2, 34: $V3, 35: $V4, 36: $V5 }), { 1: [2, 3] }, o($V6, [2, 5]), o($V0, [2, 7], { 4: 22, 34: $V3, 35: $V4, 36: $V5 }), { 11: 23, 37: 24, 38: $V7, 39: $V8, 40: 27, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi }, { 11: 39, 13: 38, 24: $Vj, 27: $Vk, 29: 40, 30: 41, 37: 24, 38: $V7, 39: $V8, 40: 27, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi }, { 11: 45, 15: 44, 27: $Vl, 33: 46, 37: 24, 38: $V7, 39: $V8, 40: 27, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi }, { 11: 49, 17: 48, 24: $Vm, 37: 24, 38: $V7, 39: $V8, 40: 27, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi }, { 11: 52, 17: 51, 24: $Vm, 37: 24, 38: $V7, 39: $V8, 40: 27, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi }, { 20: [1, 53] }, { 22: [1, 54] }, o($Vn, [2, 18]), { 1: [2, 2] }, o($Vn, [2, 8]), o($Vn, [2, 9]), o($Vo, [2, 37], { 40: 55, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi }), o($Vo, [2, 38]), o($Vo, [2, 39]), o($Vp, [2, 40]), o($Vp, [2, 42]), o($Vp, [2, 43]), o($Vp, [2, 44]), o($Vp, [2, 45]), o($Vp, [2, 46]), o($Vp, [2, 47]), o($Vp, [2, 48]), o($Vp, [2, 49]), o($Vp, [2, 50]), o($Vp, [2, 51]), o($Vn, [2, 10]), o($Vn, [2, 22], { 30: 41, 29: 56, 24: $Vj, 27: $Vk }), o($Vn, [2, 24]), o($Vn, [2, 25]), { 31: [1, 57] }, { 11: 59, 32: 58, 37: 24, 38: $V7, 39: $V8, 40: 27, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi }, o($Vn, [2, 11]), o($Vn, [2, 30], { 33: 60, 27: $Vl }), o($Vn, [2, 32]), { 31: [1, 61] }, o($Vn, [2, 12]), { 17: 62, 24: $Vm }, { 25: 63, 27: $Vq }, o($Vn, [2, 14]), { 17: 65, 24: $Vm }, o($Vn, [2, 16]), o($Vn, [2, 17]), o($Vp, [2, 41]), o($Vn, [2, 23]), { 27: [1, 66] }, { 26: [1, 67] }, { 26: [2, 29], 28: [1, 68] }, o($Vn, [2, 31]), { 27: [1, 69] }, o($Vn, [2, 13]), { 26: [1, 70] }, { 26: [2, 21], 28: [1, 71] }, o($Vn, [2, 15]), o($Vn, [2, 26]), o($Vn, [2, 27]), { 11: 59, 32: 72, 37: 24, 38: $V7, 39: $V8, 40: 27, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 46: $Ve, 47: $Vf, 48: $Vg, 49: $Vh, 50: $Vi }, o($Vn, [2, 33]), o($Vn, [2, 19]), { 25: 73, 27: $Vq }, { 26: [2, 28] }, { 26: [2, 20] }],\n    defaultActions: { 8: [2, 1], 10: [2, 3], 21: [2, 2], 72: [2, 28], 73: [2, 20] },\n    parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, "parseError"),\n    parse: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == "undefined") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === "function") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(popStack, "popStack");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== "number") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(lex, "lex");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == "undefined") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === "undefined" || !action.length || !action[0]) {\n          var errStr = "";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push("\'" + this.terminals_[p] + "\'");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = "Parse error on line " + (yylineno + 1) + ":\\n" + lexer2.showPosition() + "\\nExpecting " + expected.join(", ") + ", got \'" + (this.terminals_[symbol] || symbol) + "\'";\n          } else {\n            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == EOF ? "end of input" : "\'" + (this.terminals_[symbol] || symbol) + "\'");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== "undefined") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, "parse")\n  };\n  var lexer = /* @__PURE__ */ (function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, "parseError"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = "";\n        this.conditionStack = ["INITIAL"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, "setInput"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, "input"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, "unput"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n        this._more = true;\n        return this;\n      }, "more"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, "reject"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, "less"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\\n/g, "");\n      }, "pastInput"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\\n/g, "");\n      }, "upcomingInput"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join("-");\n        return pre + this.upcomingInput() + "\\n" + c + "^";\n      }, "showPosition"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, "test_match"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = "";\n          this.match = "";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === "") {\n          return this.EOF;\n        } else {\n          return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\\n" + this.showPosition(), {\n            text: "",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, "next"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, "lex"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, "begin"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, "popState"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions["INITIAL"].rules;\n        }\n      }, "_currentRules"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return "INITIAL";\n        }\n      }, "topState"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, "pushState"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, "stateStackSize"),\n      options: { "case-insensitive": true },\n      performAction: /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            break;\n          case 1:\n            break;\n          case 2:\n            this.popState();\n            return 34;\n            // removed by dead control flow\n\n          case 3:\n            this.popState();\n            return 34;\n            // removed by dead control flow\n\n          case 4:\n            return 34;\n            // removed by dead control flow\n\n          case 5:\n            break;\n          case 6:\n            return 10;\n            // removed by dead control flow\n\n          case 7:\n            this.pushState("acc_title");\n            return 19;\n            // removed by dead control flow\n\n          case 8:\n            this.popState();\n            return "acc_title_value";\n            // removed by dead control flow\n\n          case 9:\n            this.pushState("acc_descr");\n            return 21;\n            // removed by dead control flow\n\n          case 10:\n            this.popState();\n            return "acc_descr_value";\n            // removed by dead control flow\n\n          case 11:\n            this.pushState("acc_descr_multiline");\n            break;\n          case 12:\n            this.popState();\n            break;\n          case 13:\n            return "acc_descr_multiline_value";\n            // removed by dead control flow\n\n          case 14:\n            return 5;\n            // removed by dead control flow\n\n          case 15:\n            return 5;\n            // removed by dead control flow\n\n          case 16:\n            return 8;\n            // removed by dead control flow\n\n          case 17:\n            this.pushState("axis_data");\n            return "X_AXIS";\n            // removed by dead control flow\n\n          case 18:\n            this.pushState("axis_data");\n            return "Y_AXIS";\n            // removed by dead control flow\n\n          case 19:\n            this.pushState("axis_band_data");\n            return 24;\n            // removed by dead control flow\n\n          case 20:\n            return 31;\n            // removed by dead control flow\n\n          case 21:\n            this.pushState("data");\n            return 16;\n            // removed by dead control flow\n\n          case 22:\n            this.pushState("data");\n            return 18;\n            // removed by dead control flow\n\n          case 23:\n            this.pushState("data_inner");\n            return 24;\n            // removed by dead control flow\n\n          case 24:\n            return 27;\n            // removed by dead control flow\n\n          case 25:\n            this.popState();\n            return 26;\n            // removed by dead control flow\n\n          case 26:\n            this.popState();\n            break;\n          case 27:\n            this.pushState("string");\n            break;\n          case 28:\n            this.popState();\n            break;\n          case 29:\n            return "STR";\n            // removed by dead control flow\n\n          case 30:\n            return 24;\n            // removed by dead control flow\n\n          case 31:\n            return 26;\n            // removed by dead control flow\n\n          case 32:\n            return 43;\n            // removed by dead control flow\n\n          case 33:\n            return "COLON";\n            // removed by dead control flow\n\n          case 34:\n            return 44;\n            // removed by dead control flow\n\n          case 35:\n            return 28;\n            // removed by dead control flow\n\n          case 36:\n            return 45;\n            // removed by dead control flow\n\n          case 37:\n            return 46;\n            // removed by dead control flow\n\n          case 38:\n            return 48;\n            // removed by dead control flow\n\n          case 39:\n            return 50;\n            // removed by dead control flow\n\n          case 40:\n            return 47;\n            // removed by dead control flow\n\n          case 41:\n            return 41;\n            // removed by dead control flow\n\n          case 42:\n            return 49;\n            // removed by dead control flow\n\n          case 43:\n            return 42;\n            // removed by dead control flow\n\n          case 44:\n            break;\n          case 45:\n            return 35;\n            // removed by dead control flow\n\n          case 46:\n            return 36;\n            // removed by dead control flow\n\n        }\n      }, "anonymous"),\n      rules: [/^(?:%%(?!\\{)[^\\n]*)/i, /^(?:[^\\}]%%[^\\n]*)/i, /^(?:(\\r?\\n))/i, /^(?:(\\r?\\n))/i, /^(?:[\\n\\r]+)/i, /^(?:%%[^\\n]*)/i, /^(?:title\\b)/i, /^(?:accTitle\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*\\{\\s*)/i, /^(?:\\{)/i, /^(?:[^\\}]*)/i, /^(?:xychart-beta\\b)/i, /^(?:xychart\\b)/i, /^(?:(?:vertical|horizontal))/i, /^(?:x-axis\\b)/i, /^(?:y-axis\\b)/i, /^(?:\\[)/i, /^(?:--\x3e)/i, /^(?:line\\b)/i, /^(?:bar\\b)/i, /^(?:\\[)/i, /^(?:[+-]?(?:\\d+(?:\\.\\d+)?|\\.\\d+))/i, /^(?:\\])/i, /^(?:(?:`\\)                                    \\{ this\\.pushState\\(md_string\\); \\}\\n<md_string>\\(\\?:\\(\\?!`"\\)\\.\\)\\+                  \\{ return MD_STR; \\}\\n<md_string>\\(\\?:`))/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:\\[)/i, /^(?:\\])/i, /^(?:[A-Za-z]+)/i, /^(?::)/i, /^(?:\\+)/i, /^(?:,)/i, /^(?:=)/i, /^(?:\\*)/i, /^(?:#)/i, /^(?:[\\_])/i, /^(?:\\.)/i, /^(?:&)/i, /^(?:-)/i, /^(?:[0-9]+)/i, /^(?:\\s+)/i, /^(?:;)/i, /^(?:$)/i],\n      conditions: { "data_inner": { "rules": [0, 1, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 18, 21, 22, 24, 25, 26, 27, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46], "inclusive": true }, "data": { "rules": [0, 1, 3, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 18, 21, 22, 23, 26, 27, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46], "inclusive": true }, "axis_band_data": { "rules": [0, 1, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 18, 21, 22, 25, 26, 27, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46], "inclusive": true }, "axis_data": { "rules": [0, 1, 2, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 18, 19, 20, 21, 22, 24, 26, 27, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46], "inclusive": true }, "acc_descr_multiline": { "rules": [12, 13], "inclusive": false }, "acc_descr": { "rules": [10], "inclusive": false }, "acc_title": { "rules": [8], "inclusive": false }, "title": { "rules": [], "inclusive": false }, "md_string": { "rules": [], "inclusive": false }, "string": { "rules": [28, 29], "inclusive": false }, "INITIAL": { "rules": [0, 1, 4, 5, 6, 7, 9, 11, 14, 15, 16, 17, 18, 21, 22, 26, 27, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46], "inclusive": true } }\n    };\n    return lexer2;\n  })();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(Parser, "Parser");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n})();\nparser.parser = parser;\nvar xychart_default = parser;\n\n// src/diagrams/xychart/chartBuilder/interfaces.ts\nfunction isBarPlot(data) {\n  return data.type === "bar";\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(isBarPlot, "isBarPlot");\nfunction isBandAxisData(data) {\n  return data.type === "band";\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(isBandAxisData, "isBandAxisData");\nfunction isLinearAxisData(data) {\n  return data.type === "linear";\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(isLinearAxisData, "isLinearAxisData");\n\n// src/diagrams/xychart/chartBuilder/textDimensionCalculator.ts\nvar TextDimensionCalculatorWithFont = class {\n  constructor(parentGroup) {\n    this.parentGroup = parentGroup;\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(this, "TextDimensionCalculatorWithFont");\n  }\n  getMaxDimension(texts, fontSize) {\n    if (!this.parentGroup) {\n      return {\n        width: texts.reduce((acc, cur) => Math.max(cur.length, acc), 0) * fontSize,\n        height: fontSize\n      };\n    }\n    const dimension = {\n      width: 0,\n      height: 0\n    };\n    const elem = this.parentGroup.append("g").attr("visibility", "hidden").attr("font-size", fontSize);\n    for (const t of texts) {\n      const bbox = (0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_1__.computeDimensionOfText)(elem, 1, t);\n      const width = bbox ? bbox.width : t.length * fontSize;\n      const height = bbox ? bbox.height : fontSize;\n      dimension.width = Math.max(dimension.width, width);\n      dimension.height = Math.max(dimension.height, height);\n    }\n    elem.remove();\n    return dimension;\n  }\n};\n\n// src/diagrams/xychart/chartBuilder/components/axis/bandAxis.ts\n\n\n// src/diagrams/xychart/chartBuilder/components/axis/baseAxis.ts\nvar BAR_WIDTH_TO_TICK_WIDTH_RATIO = 0.7;\nvar MAX_OUTER_PADDING_PERCENT_FOR_WRT_LABEL = 0.2;\nvar BaseAxis = class {\n  constructor(axisConfig, title, textDimensionCalculator, axisThemeConfig) {\n    this.axisConfig = axisConfig;\n    this.title = title;\n    this.textDimensionCalculator = textDimensionCalculator;\n    this.axisThemeConfig = axisThemeConfig;\n    this.boundingRect = { x: 0, y: 0, width: 0, height: 0 };\n    this.axisPosition = "left";\n    this.showTitle = false;\n    this.showLabel = false;\n    this.showTick = false;\n    this.showAxisLine = false;\n    this.outerPadding = 0;\n    this.titleTextHeight = 0;\n    this.labelTextHeight = 0;\n    this.range = [0, 10];\n    this.boundingRect = { x: 0, y: 0, width: 0, height: 0 };\n    this.axisPosition = "left";\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(this, "BaseAxis");\n  }\n  setRange(range) {\n    this.range = range;\n    if (this.axisPosition === "left" || this.axisPosition === "right") {\n      this.boundingRect.height = range[1] - range[0];\n    } else {\n      this.boundingRect.width = range[1] - range[0];\n    }\n    this.recalculateScale();\n  }\n  getRange() {\n    return [this.range[0] + this.outerPadding, this.range[1] - this.outerPadding];\n  }\n  setAxisPosition(axisPosition) {\n    this.axisPosition = axisPosition;\n    this.setRange(this.range);\n  }\n  getTickDistance() {\n    const range = this.getRange();\n    return Math.abs(range[0] - range[1]) / this.getTickValues().length;\n  }\n  getAxisOuterPadding() {\n    return this.outerPadding;\n  }\n  getLabelDimension() {\n    return this.textDimensionCalculator.getMaxDimension(\n      this.getTickValues().map((tick) => tick.toString()),\n      this.axisConfig.labelFontSize\n    );\n  }\n  recalculateOuterPaddingToDrawBar() {\n    if (BAR_WIDTH_TO_TICK_WIDTH_RATIO * this.getTickDistance() > this.outerPadding * 2) {\n      this.outerPadding = Math.floor(BAR_WIDTH_TO_TICK_WIDTH_RATIO * this.getTickDistance() / 2);\n    }\n    this.recalculateScale();\n  }\n  calculateSpaceIfDrawnHorizontally(availableSpace) {\n    let availableHeight = availableSpace.height;\n    if (this.axisConfig.showAxisLine && availableHeight > this.axisConfig.axisLineWidth) {\n      availableHeight -= this.axisConfig.axisLineWidth;\n      this.showAxisLine = true;\n    }\n    if (this.axisConfig.showLabel) {\n      const spaceRequired = this.getLabelDimension();\n      const maxPadding = MAX_OUTER_PADDING_PERCENT_FOR_WRT_LABEL * availableSpace.width;\n      this.outerPadding = Math.min(spaceRequired.width / 2, maxPadding);\n      const heightRequired = spaceRequired.height + this.axisConfig.labelPadding * 2;\n      this.labelTextHeight = spaceRequired.height;\n      if (heightRequired <= availableHeight) {\n        availableHeight -= heightRequired;\n        this.showLabel = true;\n      }\n    }\n    if (this.axisConfig.showTick && availableHeight >= this.axisConfig.tickLength) {\n      this.showTick = true;\n      availableHeight -= this.axisConfig.tickLength;\n    }\n    if (this.axisConfig.showTitle && this.title) {\n      const spaceRequired = this.textDimensionCalculator.getMaxDimension(\n        [this.title],\n        this.axisConfig.titleFontSize\n      );\n      const heightRequired = spaceRequired.height + this.axisConfig.titlePadding * 2;\n      this.titleTextHeight = spaceRequired.height;\n      if (heightRequired <= availableHeight) {\n        availableHeight -= heightRequired;\n        this.showTitle = true;\n      }\n    }\n    this.boundingRect.width = availableSpace.width;\n    this.boundingRect.height = availableSpace.height - availableHeight;\n  }\n  calculateSpaceIfDrawnVertical(availableSpace) {\n    let availableWidth = availableSpace.width;\n    if (this.axisConfig.showAxisLine && availableWidth > this.axisConfig.axisLineWidth) {\n      availableWidth -= this.axisConfig.axisLineWidth;\n      this.showAxisLine = true;\n    }\n    if (this.axisConfig.showLabel) {\n      const spaceRequired = this.getLabelDimension();\n      const maxPadding = MAX_OUTER_PADDING_PERCENT_FOR_WRT_LABEL * availableSpace.height;\n      this.outerPadding = Math.min(spaceRequired.height / 2, maxPadding);\n      const widthRequired = spaceRequired.width + this.axisConfig.labelPadding * 2;\n      if (widthRequired <= availableWidth) {\n        availableWidth -= widthRequired;\n        this.showLabel = true;\n      }\n    }\n    if (this.axisConfig.showTick && availableWidth >= this.axisConfig.tickLength) {\n      this.showTick = true;\n      availableWidth -= this.axisConfig.tickLength;\n    }\n    if (this.axisConfig.showTitle && this.title) {\n      const spaceRequired = this.textDimensionCalculator.getMaxDimension(\n        [this.title],\n        this.axisConfig.titleFontSize\n      );\n      const widthRequired = spaceRequired.height + this.axisConfig.titlePadding * 2;\n      this.titleTextHeight = spaceRequired.height;\n      if (widthRequired <= availableWidth) {\n        availableWidth -= widthRequired;\n        this.showTitle = true;\n      }\n    }\n    this.boundingRect.width = availableSpace.width - availableWidth;\n    this.boundingRect.height = availableSpace.height;\n  }\n  calculateSpace(availableSpace) {\n    if (this.axisPosition === "left" || this.axisPosition === "right") {\n      this.calculateSpaceIfDrawnVertical(availableSpace);\n    } else {\n      this.calculateSpaceIfDrawnHorizontally(availableSpace);\n    }\n    this.recalculateScale();\n    return {\n      width: this.boundingRect.width,\n      height: this.boundingRect.height\n    };\n  }\n  setBoundingBoxXY(point) {\n    this.boundingRect.x = point.x;\n    this.boundingRect.y = point.y;\n  }\n  getDrawableElementsForLeftAxis() {\n    const drawableElement = [];\n    if (this.showAxisLine) {\n      const x = this.boundingRect.x + this.boundingRect.width - this.axisConfig.axisLineWidth / 2;\n      drawableElement.push({\n        type: "path",\n        groupTexts: ["left-axis", "axisl-line"],\n        data: [\n          {\n            path: `M ${x},${this.boundingRect.y} L ${x},${this.boundingRect.y + this.boundingRect.height} `,\n            strokeFill: this.axisThemeConfig.axisLineColor,\n            strokeWidth: this.axisConfig.axisLineWidth\n          }\n        ]\n      });\n    }\n    if (this.showLabel) {\n      drawableElement.push({\n        type: "text",\n        groupTexts: ["left-axis", "label"],\n        data: this.getTickValues().map((tick) => ({\n          text: tick.toString(),\n          x: this.boundingRect.x + this.boundingRect.width - (this.showLabel ? this.axisConfig.labelPadding : 0) - (this.showTick ? this.axisConfig.tickLength : 0) - (this.showAxisLine ? this.axisConfig.axisLineWidth : 0),\n          y: this.getScaleValue(tick),\n          fill: this.axisThemeConfig.labelColor,\n          fontSize: this.axisConfig.labelFontSize,\n          rotation: 0,\n          verticalPos: "middle",\n          horizontalPos: "right"\n        }))\n      });\n    }\n    if (this.showTick) {\n      const x = this.boundingRect.x + this.boundingRect.width - (this.showAxisLine ? this.axisConfig.axisLineWidth : 0);\n      drawableElement.push({\n        type: "path",\n        groupTexts: ["left-axis", "ticks"],\n        data: this.getTickValues().map((tick) => ({\n          path: `M ${x},${this.getScaleValue(tick)} L ${x - this.axisConfig.tickLength},${this.getScaleValue(tick)}`,\n          strokeFill: this.axisThemeConfig.tickColor,\n          strokeWidth: this.axisConfig.tickWidth\n        }))\n      });\n    }\n    if (this.showTitle) {\n      drawableElement.push({\n        type: "text",\n        groupTexts: ["left-axis", "title"],\n        data: [\n          {\n            text: this.title,\n            x: this.boundingRect.x + this.axisConfig.titlePadding,\n            y: this.boundingRect.y + this.boundingRect.height / 2,\n            fill: this.axisThemeConfig.titleColor,\n            fontSize: this.axisConfig.titleFontSize,\n            rotation: 270,\n            verticalPos: "top",\n            horizontalPos: "center"\n          }\n        ]\n      });\n    }\n    return drawableElement;\n  }\n  getDrawableElementsForBottomAxis() {\n    const drawableElement = [];\n    if (this.showAxisLine) {\n      const y = this.boundingRect.y + this.axisConfig.axisLineWidth / 2;\n      drawableElement.push({\n        type: "path",\n        groupTexts: ["bottom-axis", "axis-line"],\n        data: [\n          {\n            path: `M ${this.boundingRect.x},${y} L ${this.boundingRect.x + this.boundingRect.width},${y}`,\n            strokeFill: this.axisThemeConfig.axisLineColor,\n            strokeWidth: this.axisConfig.axisLineWidth\n          }\n        ]\n      });\n    }\n    if (this.showLabel) {\n      drawableElement.push({\n        type: "text",\n        groupTexts: ["bottom-axis", "label"],\n        data: this.getTickValues().map((tick) => ({\n          text: tick.toString(),\n          x: this.getScaleValue(tick),\n          y: this.boundingRect.y + this.axisConfig.labelPadding + (this.showTick ? this.axisConfig.tickLength : 0) + (this.showAxisLine ? this.axisConfig.axisLineWidth : 0),\n          fill: this.axisThemeConfig.labelColor,\n          fontSize: this.axisConfig.labelFontSize,\n          rotation: 0,\n          verticalPos: "top",\n          horizontalPos: "center"\n        }))\n      });\n    }\n    if (this.showTick) {\n      const y = this.boundingRect.y + (this.showAxisLine ? this.axisConfig.axisLineWidth : 0);\n      drawableElement.push({\n        type: "path",\n        groupTexts: ["bottom-axis", "ticks"],\n        data: this.getTickValues().map((tick) => ({\n          path: `M ${this.getScaleValue(tick)},${y} L ${this.getScaleValue(tick)},${y + this.axisConfig.tickLength}`,\n          strokeFill: this.axisThemeConfig.tickColor,\n          strokeWidth: this.axisConfig.tickWidth\n        }))\n      });\n    }\n    if (this.showTitle) {\n      drawableElement.push({\n        type: "text",\n        groupTexts: ["bottom-axis", "title"],\n        data: [\n          {\n            text: this.title,\n            x: this.range[0] + (this.range[1] - this.range[0]) / 2,\n            y: this.boundingRect.y + this.boundingRect.height - this.axisConfig.titlePadding - this.titleTextHeight,\n            fill: this.axisThemeConfig.titleColor,\n            fontSize: this.axisConfig.titleFontSize,\n            rotation: 0,\n            verticalPos: "top",\n            horizontalPos: "center"\n          }\n        ]\n      });\n    }\n    return drawableElement;\n  }\n  getDrawableElementsForTopAxis() {\n    const drawableElement = [];\n    if (this.showAxisLine) {\n      const y = this.boundingRect.y + this.boundingRect.height - this.axisConfig.axisLineWidth / 2;\n      drawableElement.push({\n        type: "path",\n        groupTexts: ["top-axis", "axis-line"],\n        data: [\n          {\n            path: `M ${this.boundingRect.x},${y} L ${this.boundingRect.x + this.boundingRect.width},${y}`,\n            strokeFill: this.axisThemeConfig.axisLineColor,\n            strokeWidth: this.axisConfig.axisLineWidth\n          }\n        ]\n      });\n    }\n    if (this.showLabel) {\n      drawableElement.push({\n        type: "text",\n        groupTexts: ["top-axis", "label"],\n        data: this.getTickValues().map((tick) => ({\n          text: tick.toString(),\n          x: this.getScaleValue(tick),\n          y: this.boundingRect.y + (this.showTitle ? this.titleTextHeight + this.axisConfig.titlePadding * 2 : 0) + this.axisConfig.labelPadding,\n          fill: this.axisThemeConfig.labelColor,\n          fontSize: this.axisConfig.labelFontSize,\n          rotation: 0,\n          verticalPos: "top",\n          horizontalPos: "center"\n        }))\n      });\n    }\n    if (this.showTick) {\n      const y = this.boundingRect.y;\n      drawableElement.push({\n        type: "path",\n        groupTexts: ["top-axis", "ticks"],\n        data: this.getTickValues().map((tick) => ({\n          path: `M ${this.getScaleValue(tick)},${y + this.boundingRect.height - (this.showAxisLine ? this.axisConfig.axisLineWidth : 0)} L ${this.getScaleValue(tick)},${y + this.boundingRect.height - this.axisConfig.tickLength - (this.showAxisLine ? this.axisConfig.axisLineWidth : 0)}`,\n          strokeFill: this.axisThemeConfig.tickColor,\n          strokeWidth: this.axisConfig.tickWidth\n        }))\n      });\n    }\n    if (this.showTitle) {\n      drawableElement.push({\n        type: "text",\n        groupTexts: ["top-axis", "title"],\n        data: [\n          {\n            text: this.title,\n            x: this.boundingRect.x + this.boundingRect.width / 2,\n            y: this.boundingRect.y + this.axisConfig.titlePadding,\n            fill: this.axisThemeConfig.titleColor,\n            fontSize: this.axisConfig.titleFontSize,\n            rotation: 0,\n            verticalPos: "top",\n            horizontalPos: "center"\n          }\n        ]\n      });\n    }\n    return drawableElement;\n  }\n  getDrawableElements() {\n    if (this.axisPosition === "left") {\n      return this.getDrawableElementsForLeftAxis();\n    }\n    if (this.axisPosition === "right") {\n      throw Error("Drawing of right axis is not implemented");\n    }\n    if (this.axisPosition === "bottom") {\n      return this.getDrawableElementsForBottomAxis();\n    }\n    if (this.axisPosition === "top") {\n      return this.getDrawableElementsForTopAxis();\n    }\n    return [];\n  }\n};\n\n// src/diagrams/xychart/chartBuilder/components/axis/bandAxis.ts\nvar BandAxis = class extends BaseAxis {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(this, "BandAxis");\n  }\n  constructor(axisConfig, axisThemeConfig, categories, title, textDimensionCalculator) {\n    super(axisConfig, title, textDimensionCalculator, axisThemeConfig);\n    this.categories = categories;\n    this.scale = (0,d3__WEBPACK_IMPORTED_MODULE_5__.scaleBand)().domain(this.categories).range(this.getRange());\n  }\n  setRange(range) {\n    super.setRange(range);\n  }\n  recalculateScale() {\n    this.scale = (0,d3__WEBPACK_IMPORTED_MODULE_5__.scaleBand)().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(0.5);\n    _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.trace("BandAxis axis final categories, range: ", this.categories, this.getRange());\n  }\n  getTickValues() {\n    return this.categories;\n  }\n  getScaleValue(value) {\n    return this.scale(value) ?? this.getRange()[0];\n  }\n};\n\n// src/diagrams/xychart/chartBuilder/components/axis/linearAxis.ts\n\nvar LinearAxis = class extends BaseAxis {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(this, "LinearAxis");\n  }\n  constructor(axisConfig, axisThemeConfig, domain, title, textDimensionCalculator) {\n    super(axisConfig, title, textDimensionCalculator, axisThemeConfig);\n    this.domain = domain;\n    this.scale = (0,d3__WEBPACK_IMPORTED_MODULE_5__.scaleLinear)().domain(this.domain).range(this.getRange());\n  }\n  getTickValues() {\n    return this.scale.ticks();\n  }\n  recalculateScale() {\n    const domain = [...this.domain];\n    if (this.axisPosition === "left") {\n      domain.reverse();\n    }\n    this.scale = (0,d3__WEBPACK_IMPORTED_MODULE_5__.scaleLinear)().domain(domain).range(this.getRange());\n  }\n  getScaleValue(value) {\n    return this.scale(value);\n  }\n};\n\n// src/diagrams/xychart/chartBuilder/components/axis/index.ts\nfunction getAxis(data, axisConfig, axisThemeConfig, tmpSVGGroup2) {\n  const textDimensionCalculator = new TextDimensionCalculatorWithFont(tmpSVGGroup2);\n  if (isBandAxisData(data)) {\n    return new BandAxis(\n      axisConfig,\n      axisThemeConfig,\n      data.categories,\n      data.title,\n      textDimensionCalculator\n    );\n  }\n  return new LinearAxis(\n    axisConfig,\n    axisThemeConfig,\n    [data.min, data.max],\n    data.title,\n    textDimensionCalculator\n  );\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getAxis, "getAxis");\n\n// src/diagrams/xychart/chartBuilder/components/chartTitle.ts\nvar ChartTitle = class {\n  constructor(textDimensionCalculator, chartConfig, chartData, chartThemeConfig) {\n    this.textDimensionCalculator = textDimensionCalculator;\n    this.chartConfig = chartConfig;\n    this.chartData = chartData;\n    this.chartThemeConfig = chartThemeConfig;\n    this.boundingRect = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n    this.showChartTitle = false;\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(this, "ChartTitle");\n  }\n  setBoundingBoxXY(point) {\n    this.boundingRect.x = point.x;\n    this.boundingRect.y = point.y;\n  }\n  calculateSpace(availableSpace) {\n    const titleDimension = this.textDimensionCalculator.getMaxDimension(\n      [this.chartData.title],\n      this.chartConfig.titleFontSize\n    );\n    const widthRequired = Math.max(titleDimension.width, availableSpace.width);\n    const heightRequired = titleDimension.height + 2 * this.chartConfig.titlePadding;\n    if (titleDimension.width <= widthRequired && titleDimension.height <= heightRequired && this.chartConfig.showTitle && this.chartData.title) {\n      this.boundingRect.width = widthRequired;\n      this.boundingRect.height = heightRequired;\n      this.showChartTitle = true;\n    }\n    return {\n      width: this.boundingRect.width,\n      height: this.boundingRect.height\n    };\n  }\n  getDrawableElements() {\n    const drawableElem = [];\n    if (this.showChartTitle) {\n      drawableElem.push({\n        groupTexts: ["chart-title"],\n        type: "text",\n        data: [\n          {\n            fontSize: this.chartConfig.titleFontSize,\n            text: this.chartData.title,\n            verticalPos: "middle",\n            horizontalPos: "center",\n            x: this.boundingRect.x + this.boundingRect.width / 2,\n            y: this.boundingRect.y + this.boundingRect.height / 2,\n            fill: this.chartThemeConfig.titleColor,\n            rotation: 0\n          }\n        ]\n      });\n    }\n    return drawableElem;\n  }\n};\nfunction getChartTitleComponent(chartConfig, chartData, chartThemeConfig, tmpSVGGroup2) {\n  const textDimensionCalculator = new TextDimensionCalculatorWithFont(tmpSVGGroup2);\n  return new ChartTitle(textDimensionCalculator, chartConfig, chartData, chartThemeConfig);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getChartTitleComponent, "getChartTitleComponent");\n\n// src/diagrams/xychart/chartBuilder/components/plot/linePlot.ts\n\nvar LinePlot = class {\n  constructor(plotData, xAxis, yAxis, orientation, plotIndex2) {\n    this.plotData = plotData;\n    this.xAxis = xAxis;\n    this.yAxis = yAxis;\n    this.orientation = orientation;\n    this.plotIndex = plotIndex2;\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(this, "LinePlot");\n  }\n  getDrawableElement() {\n    const finalData = this.plotData.data.map((d) => [\n      this.xAxis.getScaleValue(d[0]),\n      this.yAxis.getScaleValue(d[1])\n    ]);\n    let path;\n    if (this.orientation === "horizontal") {\n      path = (0,d3__WEBPACK_IMPORTED_MODULE_5__.line)().y((d) => d[0]).x((d) => d[1])(finalData);\n    } else {\n      path = (0,d3__WEBPACK_IMPORTED_MODULE_5__.line)().x((d) => d[0]).y((d) => d[1])(finalData);\n    }\n    if (!path) {\n      return [];\n    }\n    return [\n      {\n        groupTexts: ["plot", `line-plot-${this.plotIndex}`],\n        type: "path",\n        data: [\n          {\n            path,\n            strokeFill: this.plotData.strokeFill,\n            strokeWidth: this.plotData.strokeWidth\n          }\n        ]\n      }\n    ];\n  }\n};\n\n// src/diagrams/xychart/chartBuilder/components/plot/barPlot.ts\nvar BarPlot = class {\n  constructor(barData, boundingRect, xAxis, yAxis, orientation, plotIndex2) {\n    this.barData = barData;\n    this.boundingRect = boundingRect;\n    this.xAxis = xAxis;\n    this.yAxis = yAxis;\n    this.orientation = orientation;\n    this.plotIndex = plotIndex2;\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(this, "BarPlot");\n  }\n  getDrawableElement() {\n    const finalData = this.barData.data.map((d) => [\n      this.xAxis.getScaleValue(d[0]),\n      this.yAxis.getScaleValue(d[1])\n    ]);\n    const barPaddingPercent = 0.05;\n    const barWidth = Math.min(this.xAxis.getAxisOuterPadding() * 2, this.xAxis.getTickDistance()) * (1 - barPaddingPercent);\n    const barWidthHalf = barWidth / 2;\n    if (this.orientation === "horizontal") {\n      return [\n        {\n          groupTexts: ["plot", `bar-plot-${this.plotIndex}`],\n          type: "rect",\n          data: finalData.map((data) => ({\n            x: this.boundingRect.x,\n            y: data[0] - barWidthHalf,\n            height: barWidth,\n            width: data[1] - this.boundingRect.x,\n            fill: this.barData.fill,\n            strokeWidth: 0,\n            strokeFill: this.barData.fill\n          }))\n        }\n      ];\n    }\n    return [\n      {\n        groupTexts: ["plot", `bar-plot-${this.plotIndex}`],\n        type: "rect",\n        data: finalData.map((data) => ({\n          x: data[0] - barWidthHalf,\n          y: data[1],\n          width: barWidth,\n          height: this.boundingRect.y + this.boundingRect.height - data[1],\n          fill: this.barData.fill,\n          strokeWidth: 0,\n          strokeFill: this.barData.fill\n        }))\n      }\n    ];\n  }\n};\n\n// src/diagrams/xychart/chartBuilder/components/plot/index.ts\nvar BasePlot = class {\n  constructor(chartConfig, chartData, chartThemeConfig) {\n    this.chartConfig = chartConfig;\n    this.chartData = chartData;\n    this.chartThemeConfig = chartThemeConfig;\n    this.boundingRect = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(this, "BasePlot");\n  }\n  setAxes(xAxis, yAxis) {\n    this.xAxis = xAxis;\n    this.yAxis = yAxis;\n  }\n  setBoundingBoxXY(point) {\n    this.boundingRect.x = point.x;\n    this.boundingRect.y = point.y;\n  }\n  calculateSpace(availableSpace) {\n    this.boundingRect.width = availableSpace.width;\n    this.boundingRect.height = availableSpace.height;\n    return {\n      width: this.boundingRect.width,\n      height: this.boundingRect.height\n    };\n  }\n  getDrawableElements() {\n    if (!(this.xAxis && this.yAxis)) {\n      throw Error("Axes must be passed to render Plots");\n    }\n    const drawableElem = [];\n    for (const [i, plot] of this.chartData.plots.entries()) {\n      switch (plot.type) {\n        case "line":\n          {\n            const linePlot = new LinePlot(\n              plot,\n              this.xAxis,\n              this.yAxis,\n              this.chartConfig.chartOrientation,\n              i\n            );\n            drawableElem.push(...linePlot.getDrawableElement());\n          }\n          break;\n        case "bar":\n          {\n            const barPlot = new BarPlot(\n              plot,\n              this.boundingRect,\n              this.xAxis,\n              this.yAxis,\n              this.chartConfig.chartOrientation,\n              i\n            );\n            drawableElem.push(...barPlot.getDrawableElement());\n          }\n          break;\n      }\n    }\n    return drawableElem;\n  }\n};\nfunction getPlotComponent(chartConfig, chartData, chartThemeConfig) {\n  return new BasePlot(chartConfig, chartData, chartThemeConfig);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getPlotComponent, "getPlotComponent");\n\n// src/diagrams/xychart/chartBuilder/orchestrator.ts\nvar Orchestrator = class {\n  constructor(chartConfig, chartData, chartThemeConfig, tmpSVGGroup2) {\n    this.chartConfig = chartConfig;\n    this.chartData = chartData;\n    this.componentStore = {\n      title: getChartTitleComponent(chartConfig, chartData, chartThemeConfig, tmpSVGGroup2),\n      plot: getPlotComponent(chartConfig, chartData, chartThemeConfig),\n      xAxis: getAxis(\n        chartData.xAxis,\n        chartConfig.xAxis,\n        {\n          titleColor: chartThemeConfig.xAxisTitleColor,\n          labelColor: chartThemeConfig.xAxisLabelColor,\n          tickColor: chartThemeConfig.xAxisTickColor,\n          axisLineColor: chartThemeConfig.xAxisLineColor\n        },\n        tmpSVGGroup2\n      ),\n      yAxis: getAxis(\n        chartData.yAxis,\n        chartConfig.yAxis,\n        {\n          titleColor: chartThemeConfig.yAxisTitleColor,\n          labelColor: chartThemeConfig.yAxisLabelColor,\n          tickColor: chartThemeConfig.yAxisTickColor,\n          axisLineColor: chartThemeConfig.yAxisLineColor\n        },\n        tmpSVGGroup2\n      )\n    };\n  }\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(this, "Orchestrator");\n  }\n  calculateVerticalSpace() {\n    let availableWidth = this.chartConfig.width;\n    let availableHeight = this.chartConfig.height;\n    let plotX = 0;\n    let plotY = 0;\n    let chartWidth = Math.floor(availableWidth * this.chartConfig.plotReservedSpacePercent / 100);\n    let chartHeight = Math.floor(\n      availableHeight * this.chartConfig.plotReservedSpacePercent / 100\n    );\n    let spaceUsed = this.componentStore.plot.calculateSpace({\n      width: chartWidth,\n      height: chartHeight\n    });\n    availableWidth -= spaceUsed.width;\n    availableHeight -= spaceUsed.height;\n    spaceUsed = this.componentStore.title.calculateSpace({\n      width: this.chartConfig.width,\n      height: availableHeight\n    });\n    plotY = spaceUsed.height;\n    availableHeight -= spaceUsed.height;\n    this.componentStore.xAxis.setAxisPosition("bottom");\n    spaceUsed = this.componentStore.xAxis.calculateSpace({\n      width: availableWidth,\n      height: availableHeight\n    });\n    availableHeight -= spaceUsed.height;\n    this.componentStore.yAxis.setAxisPosition("left");\n    spaceUsed = this.componentStore.yAxis.calculateSpace({\n      width: availableWidth,\n      height: availableHeight\n    });\n    plotX = spaceUsed.width;\n    availableWidth -= spaceUsed.width;\n    if (availableWidth > 0) {\n      chartWidth += availableWidth;\n      availableWidth = 0;\n    }\n    if (availableHeight > 0) {\n      chartHeight += availableHeight;\n      availableHeight = 0;\n    }\n    this.componentStore.plot.calculateSpace({\n      width: chartWidth,\n      height: chartHeight\n    });\n    this.componentStore.plot.setBoundingBoxXY({ x: plotX, y: plotY });\n    this.componentStore.xAxis.setRange([plotX, plotX + chartWidth]);\n    this.componentStore.xAxis.setBoundingBoxXY({ x: plotX, y: plotY + chartHeight });\n    this.componentStore.yAxis.setRange([plotY, plotY + chartHeight]);\n    this.componentStore.yAxis.setBoundingBoxXY({ x: 0, y: plotY });\n    if (this.chartData.plots.some((p) => isBarPlot(p))) {\n      this.componentStore.xAxis.recalculateOuterPaddingToDrawBar();\n    }\n  }\n  calculateHorizontalSpace() {\n    let availableWidth = this.chartConfig.width;\n    let availableHeight = this.chartConfig.height;\n    let titleYEnd = 0;\n    let plotX = 0;\n    let plotY = 0;\n    let chartWidth = Math.floor(availableWidth * this.chartConfig.plotReservedSpacePercent / 100);\n    let chartHeight = Math.floor(\n      availableHeight * this.chartConfig.plotReservedSpacePercent / 100\n    );\n    let spaceUsed = this.componentStore.plot.calculateSpace({\n      width: chartWidth,\n      height: chartHeight\n    });\n    availableWidth -= spaceUsed.width;\n    availableHeight -= spaceUsed.height;\n    spaceUsed = this.componentStore.title.calculateSpace({\n      width: this.chartConfig.width,\n      height: availableHeight\n    });\n    titleYEnd = spaceUsed.height;\n    availableHeight -= spaceUsed.height;\n    this.componentStore.xAxis.setAxisPosition("left");\n    spaceUsed = this.componentStore.xAxis.calculateSpace({\n      width: availableWidth,\n      height: availableHeight\n    });\n    availableWidth -= spaceUsed.width;\n    plotX = spaceUsed.width;\n    this.componentStore.yAxis.setAxisPosition("top");\n    spaceUsed = this.componentStore.yAxis.calculateSpace({\n      width: availableWidth,\n      height: availableHeight\n    });\n    availableHeight -= spaceUsed.height;\n    plotY = titleYEnd + spaceUsed.height;\n    if (availableWidth > 0) {\n      chartWidth += availableWidth;\n      availableWidth = 0;\n    }\n    if (availableHeight > 0) {\n      chartHeight += availableHeight;\n      availableHeight = 0;\n    }\n    this.componentStore.plot.calculateSpace({\n      width: chartWidth,\n      height: chartHeight\n    });\n    this.componentStore.plot.setBoundingBoxXY({ x: plotX, y: plotY });\n    this.componentStore.yAxis.setRange([plotX, plotX + chartWidth]);\n    this.componentStore.yAxis.setBoundingBoxXY({ x: plotX, y: titleYEnd });\n    this.componentStore.xAxis.setRange([plotY, plotY + chartHeight]);\n    this.componentStore.xAxis.setBoundingBoxXY({ x: 0, y: plotY });\n    if (this.chartData.plots.some((p) => isBarPlot(p))) {\n      this.componentStore.xAxis.recalculateOuterPaddingToDrawBar();\n    }\n  }\n  calculateSpace() {\n    if (this.chartConfig.chartOrientation === "horizontal") {\n      this.calculateHorizontalSpace();\n    } else {\n      this.calculateVerticalSpace();\n    }\n  }\n  getDrawableElement() {\n    this.calculateSpace();\n    const drawableElem = [];\n    this.componentStore.plot.setAxes(this.componentStore.xAxis, this.componentStore.yAxis);\n    for (const component of Object.values(this.componentStore)) {\n      drawableElem.push(...component.getDrawableElements());\n    }\n    return drawableElem;\n  }\n};\n\n// src/diagrams/xychart/chartBuilder/index.ts\nvar XYChartBuilder = class {\n  static {\n    (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(this, "XYChartBuilder");\n  }\n  static build(config, chartData, chartThemeConfig, tmpSVGGroup2) {\n    const orchestrator = new Orchestrator(config, chartData, chartThemeConfig, tmpSVGGroup2);\n    return orchestrator.getDrawableElement();\n  }\n};\n\n// src/diagrams/xychart/xychartDb.ts\nvar plotIndex = 0;\nvar tmpSVGGroup;\nvar xyChartConfig = getChartDefaultConfig();\nvar xyChartThemeConfig = getChartDefaultThemeConfig();\nvar xyChartData = getChartDefaultData();\nvar plotColorPalette = xyChartThemeConfig.plotColorPalette.split(",").map((color) => color.trim());\nvar hasSetXAxis = false;\nvar hasSetYAxis = false;\nfunction getChartDefaultThemeConfig() {\n  const defaultThemeVariables = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getThemeVariables)();\n  const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig)();\n  return (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__.cleanAndMerge)(defaultThemeVariables.xyChart, config.themeVariables.xyChart);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getChartDefaultThemeConfig, "getChartDefaultThemeConfig");\nfunction getChartDefaultConfig() {\n  const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig)();\n  return (0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__.cleanAndMerge)(\n    _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.defaultConfig_default.xyChart,\n    config.xyChart\n  );\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getChartDefaultConfig, "getChartDefaultConfig");\nfunction getChartDefaultData() {\n  return {\n    yAxis: {\n      type: "linear",\n      title: "",\n      min: Infinity,\n      max: -Infinity\n    },\n    xAxis: {\n      type: "band",\n      title: "",\n      categories: []\n    },\n    title: "",\n    plots: []\n  };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getChartDefaultData, "getChartDefaultData");\nfunction textSanitizer(text) {\n  const config = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig)();\n  return (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.sanitizeText)(text.trim(), config);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(textSanitizer, "textSanitizer");\nfunction setTmpSVGG(SVGG) {\n  tmpSVGGroup = SVGG;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(setTmpSVGG, "setTmpSVGG");\nfunction setOrientation(orientation) {\n  if (orientation === "horizontal") {\n    xyChartConfig.chartOrientation = "horizontal";\n  } else {\n    xyChartConfig.chartOrientation = "vertical";\n  }\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(setOrientation, "setOrientation");\nfunction setXAxisTitle(title) {\n  xyChartData.xAxis.title = textSanitizer(title.text);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(setXAxisTitle, "setXAxisTitle");\nfunction setXAxisRangeData(min, max) {\n  xyChartData.xAxis = { type: "linear", title: xyChartData.xAxis.title, min, max };\n  hasSetXAxis = true;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(setXAxisRangeData, "setXAxisRangeData");\nfunction setXAxisBand(categories) {\n  xyChartData.xAxis = {\n    type: "band",\n    title: xyChartData.xAxis.title,\n    categories: categories.map((c) => textSanitizer(c.text))\n  };\n  hasSetXAxis = true;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(setXAxisBand, "setXAxisBand");\nfunction setYAxisTitle(title) {\n  xyChartData.yAxis.title = textSanitizer(title.text);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(setYAxisTitle, "setYAxisTitle");\nfunction setYAxisRangeData(min, max) {\n  xyChartData.yAxis = { type: "linear", title: xyChartData.yAxis.title, min, max };\n  hasSetYAxis = true;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(setYAxisRangeData, "setYAxisRangeData");\nfunction setYAxisRangeFromPlotData(data) {\n  const minValue = Math.min(...data);\n  const maxValue = Math.max(...data);\n  const prevMinValue = isLinearAxisData(xyChartData.yAxis) ? xyChartData.yAxis.min : Infinity;\n  const prevMaxValue = isLinearAxisData(xyChartData.yAxis) ? xyChartData.yAxis.max : -Infinity;\n  xyChartData.yAxis = {\n    type: "linear",\n    title: xyChartData.yAxis.title,\n    min: Math.min(prevMinValue, minValue),\n    max: Math.max(prevMaxValue, maxValue)\n  };\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(setYAxisRangeFromPlotData, "setYAxisRangeFromPlotData");\nfunction transformDataWithoutCategory(data) {\n  let retData = [];\n  if (data.length === 0) {\n    return retData;\n  }\n  if (!hasSetXAxis) {\n    const prevMinValue = isLinearAxisData(xyChartData.xAxis) ? xyChartData.xAxis.min : Infinity;\n    const prevMaxValue = isLinearAxisData(xyChartData.xAxis) ? xyChartData.xAxis.max : -Infinity;\n    setXAxisRangeData(Math.min(prevMinValue, 1), Math.max(prevMaxValue, data.length));\n  }\n  if (!hasSetYAxis) {\n    setYAxisRangeFromPlotData(data);\n  }\n  if (isBandAxisData(xyChartData.xAxis)) {\n    retData = xyChartData.xAxis.categories.map((c, i) => [c, data[i]]);\n  }\n  if (isLinearAxisData(xyChartData.xAxis)) {\n    const min = xyChartData.xAxis.min;\n    const max = xyChartData.xAxis.max;\n    const step = (max - min) / (data.length - 1);\n    const categories = [];\n    for (let i = min; i <= max; i += step) {\n      categories.push(`${i}`);\n    }\n    retData = categories.map((c, i) => [c, data[i]]);\n  }\n  return retData;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(transformDataWithoutCategory, "transformDataWithoutCategory");\nfunction getPlotColorFromPalette(plotIndex2) {\n  return plotColorPalette[plotIndex2 === 0 ? 0 : plotIndex2 % plotColorPalette.length];\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getPlotColorFromPalette, "getPlotColorFromPalette");\nfunction setLineData(title, data) {\n  const plotData = transformDataWithoutCategory(data);\n  xyChartData.plots.push({\n    type: "line",\n    strokeFill: getPlotColorFromPalette(plotIndex),\n    strokeWidth: 2,\n    data: plotData\n  });\n  plotIndex++;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(setLineData, "setLineData");\nfunction setBarData(title, data) {\n  const plotData = transformDataWithoutCategory(data);\n  xyChartData.plots.push({\n    type: "bar",\n    fill: getPlotColorFromPalette(plotIndex),\n    data: plotData\n  });\n  plotIndex++;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(setBarData, "setBarData");\nfunction getDrawableElem() {\n  if (xyChartData.plots.length === 0) {\n    throw Error("No Plot to render, please provide a plot with some data");\n  }\n  xyChartData.title = (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getDiagramTitle)();\n  return XYChartBuilder.build(xyChartConfig, xyChartData, xyChartThemeConfig, tmpSVGGroup);\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getDrawableElem, "getDrawableElem");\nfunction getChartThemeConfig() {\n  return xyChartThemeConfig;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getChartThemeConfig, "getChartThemeConfig");\nfunction getChartConfig() {\n  return xyChartConfig;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getChartConfig, "getChartConfig");\nfunction getXYChartData() {\n  return xyChartData;\n}\n(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getXYChartData, "getXYChartData");\nvar clear2 = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(function() {\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.clear)();\n  plotIndex = 0;\n  xyChartConfig = getChartDefaultConfig();\n  xyChartData = getChartDefaultData();\n  xyChartThemeConfig = getChartDefaultThemeConfig();\n  plotColorPalette = xyChartThemeConfig.plotColorPalette.split(",").map((color) => color.trim());\n  hasSetXAxis = false;\n  hasSetYAxis = false;\n}, "clear");\nvar xychartDb_default = {\n  getDrawableElem,\n  clear: clear2,\n  setAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setAccTitle,\n  getAccTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getAccTitle,\n  setDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setDiagramTitle,\n  getDiagramTitle: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getDiagramTitle,\n  getAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.getAccDescription,\n  setAccDescription: _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.setAccDescription,\n  setOrientation,\n  setXAxisTitle,\n  setXAxisRangeData,\n  setXAxisBand,\n  setYAxisTitle,\n  setYAxisRangeData,\n  setLineData,\n  setBarData,\n  setTmpSVGG,\n  getChartThemeConfig,\n  getChartConfig,\n  getXYChartData\n};\n\n// src/diagrams/xychart/xychartRenderer.ts\nvar draw = /* @__PURE__ */ (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)((txt, id, _version, diagObj) => {\n  const db = diagObj.db;\n  const themeConfig = db.getChartThemeConfig();\n  const chartConfig = db.getChartConfig();\n  const labelData = db.getXYChartData().plots[0].data.map((data) => data[1]);\n  function getDominantBaseLine(horizontalPos) {\n    return horizontalPos === "top" ? "text-before-edge" : "middle";\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getDominantBaseLine, "getDominantBaseLine");\n  function getTextAnchor(verticalPos) {\n    return verticalPos === "left" ? "start" : verticalPos === "right" ? "end" : "middle";\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getTextAnchor, "getTextAnchor");\n  function getTextTransformation(data) {\n    return `translate(${data.x}, ${data.y}) rotate(${data.rotation || 0})`;\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getTextTransformation, "getTextTransformation");\n  _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.log.debug("Rendering xychart chart\\n" + txt);\n  const svg = (0,_chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_0__.selectSvgElement)(id);\n  const group = svg.append("g").attr("class", "main");\n  const background = group.append("rect").attr("width", chartConfig.width).attr("height", chartConfig.height).attr("class", "background");\n  (0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.configureSvgSize)(svg, chartConfig.height, chartConfig.width, true);\n  svg.attr("viewBox", `0 0 ${chartConfig.width} ${chartConfig.height}`);\n  background.attr("fill", themeConfig.backgroundColor);\n  db.setTmpSVGG(svg.append("g").attr("class", "mermaid-tmp-group"));\n  const shapes = db.getDrawableElem();\n  const groups = {};\n  function getGroup(gList) {\n    let elem = group;\n    let prefix = "";\n    for (const [i] of gList.entries()) {\n      let parent = group;\n      if (i > 0 && groups[prefix]) {\n        parent = groups[prefix];\n      }\n      prefix += gList[i];\n      elem = groups[prefix];\n      if (!elem) {\n        elem = groups[prefix] = parent.append("g").attr("class", gList[i]);\n      }\n    }\n    return elem;\n  }\n  (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(getGroup, "getGroup");\n  for (const shape of shapes) {\n    if (shape.data.length === 0) {\n      continue;\n    }\n    const shapeGroup = getGroup(shape.groupTexts);\n    switch (shape.type) {\n      case "rect":\n        shapeGroup.selectAll("rect").data(shape.data).enter().append("rect").attr("x", (data) => data.x).attr("y", (data) => data.y).attr("width", (data) => data.width).attr("height", (data) => data.height).attr("fill", (data) => data.fill).attr("stroke", (data) => data.strokeFill).attr("stroke-width", (data) => data.strokeWidth);\n        if (chartConfig.showDataLabel) {\n          if (chartConfig.chartOrientation === "horizontal") {\n            let fitsHorizontally2 = function(item, fontSize) {\n              const { data, label } = item;\n              const textWidth = fontSize * label.length * charWidthFactor;\n              return textWidth <= data.width - 10;\n            };\n            var fitsHorizontally = fitsHorizontally2;\n            (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(fitsHorizontally2, "fitsHorizontally");\n            const charWidthFactor = 0.7;\n            const validItems = shape.data.map((d, i) => ({ data: d, label: labelData[i].toString() })).filter((item) => item.data.width > 0 && item.data.height > 0);\n            const candidateFontSizes = validItems.map((item) => {\n              const { data } = item;\n              let fontSize = data.height * 0.7;\n              while (!fitsHorizontally2(item, fontSize) && fontSize > 0) {\n                fontSize -= 1;\n              }\n              return fontSize;\n            });\n            const uniformFontSize = Math.floor(Math.min(...candidateFontSizes));\n            shapeGroup.selectAll("text").data(validItems).enter().append("text").attr("x", (item) => item.data.x + item.data.width - 10).attr("y", (item) => item.data.y + item.data.height / 2).attr("text-anchor", "end").attr("dominant-baseline", "middle").attr("fill", "black").attr("font-size", `${uniformFontSize}px`).text((item) => item.label);\n          } else {\n            let fitsInBar2 = function(item, fontSize, yOffset2) {\n              const { data, label } = item;\n              const charWidthFactor = 0.7;\n              const textWidth = fontSize * label.length * charWidthFactor;\n              const centerX = data.x + data.width / 2;\n              const leftEdge = centerX - textWidth / 2;\n              const rightEdge = centerX + textWidth / 2;\n              const horizontalFits = leftEdge >= data.x && rightEdge <= data.x + data.width;\n              const verticalFits = data.y + yOffset2 + fontSize <= data.y + data.height;\n              return horizontalFits && verticalFits;\n            };\n            var fitsInBar = fitsInBar2;\n            (0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.__name)(fitsInBar2, "fitsInBar");\n            const yOffset = 10;\n            const validItems = shape.data.map((d, i) => ({ data: d, label: labelData[i].toString() })).filter((item) => item.data.width > 0 && item.data.height > 0);\n            const candidateFontSizes = validItems.map((item) => {\n              const { data, label } = item;\n              let fontSize = data.width / (label.length * 0.7);\n              while (!fitsInBar2(item, fontSize, yOffset) && fontSize > 0) {\n                fontSize -= 1;\n              }\n              return fontSize;\n            });\n            const uniformFontSize = Math.floor(Math.min(...candidateFontSizes));\n            shapeGroup.selectAll("text").data(validItems).enter().append("text").attr("x", (item) => item.data.x + item.data.width / 2).attr("y", (item) => item.data.y + yOffset).attr("text-anchor", "middle").attr("dominant-baseline", "hanging").attr("fill", "black").attr("font-size", `${uniformFontSize}px`).text((item) => item.label);\n          }\n        }\n        break;\n      case "text":\n        shapeGroup.selectAll("text").data(shape.data).enter().append("text").attr("x", 0).attr("y", 0).attr("fill", (data) => data.fill).attr("font-size", (data) => data.fontSize).attr("dominant-baseline", (data) => getDominantBaseLine(data.verticalPos)).attr("text-anchor", (data) => getTextAnchor(data.horizontalPos)).attr("transform", (data) => getTextTransformation(data)).text((data) => data.text);\n        break;\n      case "path":\n        shapeGroup.selectAll("path").data(shape.data).enter().append("path").attr("d", (data) => data.path).attr("fill", (data) => data.fill ? data.fill : "none").attr("stroke", (data) => data.strokeFill).attr("stroke-width", (data) => data.strokeWidth);\n        break;\n    }\n  }\n}, "draw");\nvar xychartRenderer_default = {\n  draw\n};\n\n// src/diagrams/xychart/xychartDiagram.ts\nvar diagram = {\n  parser: xychart_default,\n  db: xychartDb_default,\n  renderer: xychartRenderer_default\n};\n\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/chunks/mermaid.core/xychartDiagram-PRI3JC2R.mjs?\n}')},"./node_modules/mermaid/dist/mermaid.core.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ mermaid_default)\n/* harmony export */ });\n/* harmony import */ var _chunks_mermaid_core_chunk_KS23V3DP_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunks/mermaid.core/chunk-KS23V3DP.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-KS23V3DP.mjs");\n/* harmony import */ var _chunks_mermaid_core_chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunks/mermaid.core/chunk-EXTU4WIE.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-EXTU4WIE.mjs");\n/* harmony import */ var _chunks_mermaid_core_chunk_MI3HLSF2_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunks/mermaid.core/chunk-MI3HLSF2.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-MI3HLSF2.mjs");\n/* harmony import */ var _chunks_mermaid_core_chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunks/mermaid.core/chunk-N4CR4FBY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-N4CR4FBY.mjs");\n/* harmony import */ var _chunks_mermaid_core_chunk_QXUST7PY_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunks/mermaid.core/chunk-QXUST7PY.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-QXUST7PY.mjs");\n/* harmony import */ var _chunks_mermaid_core_chunk_HN2XXSSU_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunks/mermaid.core/chunk-HN2XXSSU.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-HN2XXSSU.mjs");\n/* harmony import */ var _chunks_mermaid_core_chunk_JZLCHNYA_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunks/mermaid.core/chunk-JZLCHNYA.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JZLCHNYA.mjs");\n/* harmony import */ var _chunks_mermaid_core_chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunks/mermaid.core/chunk-CVBHYZKI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs");\n/* harmony import */ var _chunks_mermaid_core_chunk_ATLVNIR6_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunks/mermaid.core/chunk-ATLVNIR6.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ATLVNIR6.mjs");\n/* harmony import */ var _chunks_mermaid_core_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chunks/mermaid.core/chunk-JA3XYJ7Z.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs");\n/* harmony import */ var _chunks_mermaid_core_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunks/mermaid.core/chunk-S3R3BYOJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs");\n/* harmony import */ var _chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./chunks/mermaid.core/chunk-ABZYJK2D.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs");\n/* harmony import */ var _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./chunks/mermaid.core/chunk-AGHRB4JF.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");\n/* harmony import */ var ts_dedent__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ts-dedent */ "./node_modules/ts-dedent/esm/index.js");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! d3 */ "./node_modules/d3/src/index.js");\n/* harmony import */ var stylis__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! stylis */ "./node_modules/stylis/src/Parser.js");\n/* harmony import */ var stylis__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! stylis */ "./node_modules/stylis/src/Serializer.js");\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! dompurify */ "./node_modules/dompurify/dist/purify.es.mjs");\n/* harmony import */ var lodash_es_isEmpty_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lodash-es/isEmpty.js */ "./node_modules/lodash-es/isEmpty.js");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// src/mermaid.ts\n\n\n// src/diagrams/c4/c4Detector.ts\nvar id = "c4";\nvar detector = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(txt);\n}, "detector");\nvar loader = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await __webpack_require__.e(/*! import() */ "diagram/mermaid").then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/c4Diagram-YG6GDRKO.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/c4Diagram-YG6GDRKO.mjs"));\n  return { id, diagram: diagram2 };\n}, "loader");\nvar plugin = {\n  id,\n  detector,\n  loader\n};\nvar c4Detector_default = plugin;\n\n// src/diagrams/flowchart/flowDetector.ts\nvar id2 = "flowchart";\nvar detector2 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt, config) => {\n  if (config?.flowchart?.defaultRenderer === "dagre-wrapper" || config?.flowchart?.defaultRenderer === "elk") {\n    return false;\n  }\n  return /^\\s*graph/.test(txt);\n}, "detector");\nvar loader2 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/flowDiagram-NV44I4VS.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/flowDiagram-NV44I4VS.mjs"));\n  return { id: id2, diagram: diagram2 };\n}, "loader");\nvar plugin2 = {\n  id: id2,\n  detector: detector2,\n  loader: loader2\n};\nvar flowDetector_default = plugin2;\n\n// src/diagrams/flowchart/flowDetector-v2.ts\nvar id3 = "flowchart-v2";\nvar detector3 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt, config) => {\n  if (config?.flowchart?.defaultRenderer === "dagre-d3") {\n    return false;\n  }\n  if (config?.flowchart?.defaultRenderer === "elk") {\n    config.layout = "elk";\n  }\n  if (/^\\s*graph/.test(txt) && config?.flowchart?.defaultRenderer === "dagre-wrapper") {\n    return true;\n  }\n  return /^\\s*flowchart/.test(txt);\n}, "detector");\nvar loader3 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/flowDiagram-NV44I4VS.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/flowDiagram-NV44I4VS.mjs"));\n  return { id: id3, diagram: diagram2 };\n}, "loader");\nvar plugin3 = {\n  id: id3,\n  detector: detector3,\n  loader: loader3\n};\nvar flowDetector_v2_default = plugin3;\n\n// src/diagrams/er/erDetector.ts\nvar id4 = "er";\nvar detector4 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*erDiagram/.test(txt);\n}, "detector");\nvar loader4 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/erDiagram-Q2GNP2WA.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/erDiagram-Q2GNP2WA.mjs"));\n  return { id: id4, diagram: diagram2 };\n}, "loader");\nvar plugin4 = {\n  id: id4,\n  detector: detector4,\n  loader: loader4\n};\nvar erDetector_default = plugin4;\n\n// src/diagrams/git/gitGraphDetector.ts\nvar id5 = "gitGraph";\nvar detector5 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*gitGraph/.test(txt);\n}, "detector");\nvar loader5 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/gitGraphDiagram-NY62KEGX.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/gitGraphDiagram-NY62KEGX.mjs"));\n  return { id: id5, diagram: diagram2 };\n}, "loader");\nvar plugin5 = {\n  id: id5,\n  detector: detector5,\n  loader: loader5\n};\nvar gitGraphDetector_default = plugin5;\n\n// src/diagrams/gantt/ganttDetector.ts\nvar id6 = "gantt";\nvar detector6 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*gantt/.test(txt);\n}, "detector");\nvar loader6 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/ganttDiagram-LVOFAZNH.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/ganttDiagram-LVOFAZNH.mjs"));\n  return { id: id6, diagram: diagram2 };\n}, "loader");\nvar plugin6 = {\n  id: id6,\n  detector: detector6,\n  loader: loader6\n};\nvar ganttDetector_default = plugin6;\n\n// src/diagrams/info/infoDetector.ts\nvar id7 = "info";\nvar detector7 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*info/.test(txt);\n}, "detector");\nvar loader7 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/infoDiagram-F6ZHWCRC.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/infoDiagram-F6ZHWCRC.mjs"));\n  return { id: id7, diagram: diagram2 };\n}, "loader");\nvar info = {\n  id: id7,\n  detector: detector7,\n  loader: loader7\n};\n\n// src/diagrams/pie/pieDetector.ts\nvar id8 = "pie";\nvar detector8 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*pie/.test(txt);\n}, "detector");\nvar loader8 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/pieDiagram-ADFJNKIX.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/pieDiagram-ADFJNKIX.mjs"));\n  return { id: id8, diagram: diagram2 };\n}, "loader");\nvar pie = {\n  id: id8,\n  detector: detector8,\n  loader: loader8\n};\n\n// src/diagrams/quadrant-chart/quadrantDetector.ts\nvar id9 = "quadrantChart";\nvar detector9 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*quadrantChart/.test(txt);\n}, "detector");\nvar loader9 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await __webpack_require__.e(/*! import() */ "diagram/mermaid").then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/quadrantDiagram-AYHSOK5B.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/quadrantDiagram-AYHSOK5B.mjs"));\n  return { id: id9, diagram: diagram2 };\n}, "loader");\nvar plugin7 = {\n  id: id9,\n  detector: detector9,\n  loader: loader9\n};\nvar quadrantDetector_default = plugin7;\n\n// src/diagrams/xychart/xychartDetector.ts\nvar id10 = "xychart";\nvar detector10 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*xychart(-beta)?/.test(txt);\n}, "detector");\nvar loader10 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await __webpack_require__.e(/*! import() */ "diagram/mermaid").then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/xychartDiagram-PRI3JC2R.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/xychartDiagram-PRI3JC2R.mjs"));\n  return { id: id10, diagram: diagram2 };\n}, "loader");\nvar plugin8 = {\n  id: id10,\n  detector: detector10,\n  loader: loader10\n};\nvar xychartDetector_default = plugin8;\n\n// src/diagrams/requirement/requirementDetector.ts\nvar id11 = "requirement";\nvar detector11 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*requirement(Diagram)?/.test(txt);\n}, "detector");\nvar loader11 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await __webpack_require__.e(/*! import() */ "diagram/mermaid").then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/requirementDiagram-UZGBJVZJ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/requirementDiagram-UZGBJVZJ.mjs"));\n  return { id: id11, diagram: diagram2 };\n}, "loader");\nvar plugin9 = {\n  id: id11,\n  detector: detector11,\n  loader: loader11\n};\nvar requirementDetector_default = plugin9;\n\n// src/diagrams/sequence/sequenceDetector.ts\nvar id12 = "sequence";\nvar detector12 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*sequenceDiagram/.test(txt);\n}, "detector");\nvar loader12 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await __webpack_require__.e(/*! import() */ "diagram/mermaid").then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/sequenceDiagram-WL72ISMW.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/sequenceDiagram-WL72ISMW.mjs"));\n  return { id: id12, diagram: diagram2 };\n}, "loader");\nvar plugin10 = {\n  id: id12,\n  detector: detector12,\n  loader: loader12\n};\nvar sequenceDetector_default = plugin10;\n\n// src/diagrams/class/classDetector.ts\nvar id13 = "class";\nvar detector13 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt, config) => {\n  if (config?.class?.defaultRenderer === "dagre-wrapper") {\n    return false;\n  }\n  return /^\\s*classDiagram/.test(txt);\n}, "detector");\nvar loader13 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await __webpack_require__.e(/*! import() */ "diagram/mermaid").then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/classDiagram-2ON5EDUG.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/classDiagram-2ON5EDUG.mjs"));\n  return { id: id13, diagram: diagram2 };\n}, "loader");\nvar plugin11 = {\n  id: id13,\n  detector: detector13,\n  loader: loader13\n};\nvar classDetector_default = plugin11;\n\n// src/diagrams/class/classDetector-V2.ts\nvar id14 = "classDiagram";\nvar detector14 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt, config) => {\n  if (/^\\s*classDiagram/.test(txt) && config?.class?.defaultRenderer === "dagre-wrapper") {\n    return true;\n  }\n  return /^\\s*classDiagram-v2/.test(txt);\n}, "detector");\nvar loader14 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await __webpack_require__.e(/*! import() */ "diagram/mermaid").then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/classDiagram-v2-WZHVMYZB.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/classDiagram-v2-WZHVMYZB.mjs"));\n  return { id: id14, diagram: diagram2 };\n}, "loader");\nvar plugin12 = {\n  id: id14,\n  detector: detector14,\n  loader: loader14\n};\nvar classDetector_V2_default = plugin12;\n\n// src/diagrams/state/stateDetector.ts\nvar id15 = "state";\nvar detector15 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt, config) => {\n  if (config?.state?.defaultRenderer === "dagre-wrapper") {\n    return false;\n  }\n  return /^\\s*stateDiagram/.test(txt);\n}, "detector");\nvar loader15 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/stateDiagram-FKZM4ZOC.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/stateDiagram-FKZM4ZOC.mjs"));\n  return { id: id15, diagram: diagram2 };\n}, "loader");\nvar plugin13 = {\n  id: id15,\n  detector: detector15,\n  loader: loader15\n};\nvar stateDetector_default = plugin13;\n\n// src/diagrams/state/stateDetector-V2.ts\nvar id16 = "stateDiagram";\nvar detector16 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt, config) => {\n  if (/^\\s*stateDiagram-v2/.test(txt)) {\n    return true;\n  }\n  if (/^\\s*stateDiagram/.test(txt) && config?.state?.defaultRenderer === "dagre-wrapper") {\n    return true;\n  }\n  return false;\n}, "detector");\nvar loader16 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await __webpack_require__.e(/*! import() */ "diagram/mermaid").then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/stateDiagram-v2-4FDKWEC3.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/stateDiagram-v2-4FDKWEC3.mjs"));\n  return { id: id16, diagram: diagram2 };\n}, "loader");\nvar plugin14 = {\n  id: id16,\n  detector: detector16,\n  loader: loader16\n};\nvar stateDetector_V2_default = plugin14;\n\n// src/diagrams/user-journey/journeyDetector.ts\nvar id17 = "journey";\nvar detector17 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*journey/.test(txt);\n}, "detector");\nvar loader17 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await __webpack_require__.e(/*! import() */ "diagram/mermaid").then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/journeyDiagram-XKPGCS4Q.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/journeyDiagram-XKPGCS4Q.mjs"));\n  return { id: id17, diagram: diagram2 };\n}, "loader");\nvar plugin15 = {\n  id: id17,\n  detector: detector17,\n  loader: loader17\n};\nvar journeyDetector_default = plugin15;\n\n// src/diagrams/error/errorRenderer.ts\nvar draw = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((_text, id28, version) => {\n  _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug("rendering svg for syntax error\\n");\n  const svg = (0,_chunks_mermaid_core_chunk_EXTU4WIE_mjs__WEBPACK_IMPORTED_MODULE_1__.selectSvgElement)(id28);\n  const g = svg.append("g");\n  svg.attr("viewBox", "0 0 2412 512");\n  (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.configureSvgSize)(svg, 100, 512, true);\n  g.append("path").attr("class", "error-icon").attr(\n    "d",\n    "m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"\n  );\n  g.append("path").attr("class", "error-icon").attr(\n    "d",\n    "m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"\n  );\n  g.append("path").attr("class", "error-icon").attr(\n    "d",\n    "m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"\n  );\n  g.append("path").attr("class", "error-icon").attr(\n    "d",\n    "m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"\n  );\n  g.append("path").attr("class", "error-icon").attr(\n    "d",\n    "m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"\n  );\n  g.append("path").attr("class", "error-icon").attr(\n    "d",\n    "m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"\n  );\n  g.append("text").attr("class", "error-text").attr("x", 1440).attr("y", 250).attr("font-size", "150px").style("text-anchor", "middle").text("Syntax error in text");\n  g.append("text").attr("class", "error-text").attr("x", 1250).attr("y", 400).attr("font-size", "100px").style("text-anchor", "middle").text(`mermaid version ${version}`);\n}, "draw");\nvar renderer = { draw };\nvar errorRenderer_default = renderer;\n\n// src/diagrams/error/errorDiagram.ts\nvar diagram = {\n  db: {},\n  renderer,\n  parser: {\n    parse: /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(() => {\n      return;\n    }, "parse")\n  }\n};\nvar errorDiagram_default = diagram;\n\n// src/diagrams/flowchart/elk/detector.ts\nvar id18 = "flowchart-elk";\nvar detector18 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt, config = {}) => {\n  if (\n    // If diagram explicitly states flowchart-elk\n    /^\\s*flowchart-elk/.test(txt) || // If a flowchart/graph diagram has their default renderer set to elk\n    /^\\s*(flowchart|graph)/.test(txt) && config?.flowchart?.defaultRenderer === "elk"\n  ) {\n    config.layout = "elk";\n    return true;\n  }\n  return false;\n}, "detector");\nvar loader18 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/flowDiagram-NV44I4VS.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/flowDiagram-NV44I4VS.mjs"));\n  return { id: id18, diagram: diagram2 };\n}, "loader");\nvar plugin16 = {\n  id: id18,\n  detector: detector18,\n  loader: loader18\n};\nvar detector_default = plugin16;\n\n// src/diagrams/timeline/detector.ts\nvar id19 = "timeline";\nvar detector19 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*timeline/.test(txt);\n}, "detector");\nvar loader19 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await __webpack_require__.e(/*! import() */ "diagram/mermaid").then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/timeline-definition-IT6M3QCI.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/timeline-definition-IT6M3QCI.mjs"));\n  return { id: id19, diagram: diagram2 };\n}, "loader");\nvar plugin17 = {\n  id: id19,\n  detector: detector19,\n  loader: loader19\n};\nvar detector_default2 = plugin17;\n\n// src/diagrams/mindmap/detector.ts\nvar id20 = "mindmap";\nvar detector20 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*mindmap/.test(txt);\n}, "detector");\nvar loader20 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/mindmap-definition-VGOIOE7T.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/mindmap-definition-VGOIOE7T.mjs"));\n  return { id: id20, diagram: diagram2 };\n}, "loader");\nvar plugin18 = {\n  id: id20,\n  detector: detector20,\n  loader: loader20\n};\nvar detector_default3 = plugin18;\n\n// src/diagrams/kanban/detector.ts\nvar id21 = "kanban";\nvar detector21 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*kanban/.test(txt);\n}, "detector");\nvar loader21 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await __webpack_require__.e(/*! import() */ "diagram/mermaid").then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/kanban-definition-3W4ZIXB7.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/kanban-definition-3W4ZIXB7.mjs"));\n  return { id: id21, diagram: diagram2 };\n}, "loader");\nvar plugin19 = {\n  id: id21,\n  detector: detector21,\n  loader: loader21\n};\nvar detector_default4 = plugin19;\n\n// src/diagrams/sankey/sankeyDetector.ts\nvar id22 = "sankey";\nvar detector22 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*sankey(-beta)?/.test(txt);\n}, "detector");\nvar loader22 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/sankeyDiagram-TZEHDZUN.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/sankeyDiagram-TZEHDZUN.mjs"));\n  return { id: id22, diagram: diagram2 };\n}, "loader");\nvar plugin20 = {\n  id: id22,\n  detector: detector22,\n  loader: loader22\n};\nvar sankeyDetector_default = plugin20;\n\n// src/diagrams/packet/detector.ts\nvar id23 = "packet";\nvar detector23 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*packet(-beta)?/.test(txt);\n}, "detector");\nvar loader23 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/diagram-S2PKOQOG.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/diagram-S2PKOQOG.mjs"));\n  return { id: id23, diagram: diagram2 };\n}, "loader");\nvar packet = {\n  id: id23,\n  detector: detector23,\n  loader: loader23\n};\n\n// src/diagrams/radar/detector.ts\nvar id24 = "radar";\nvar detector24 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*radar-beta/.test(txt);\n}, "detector");\nvar loader24 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/diagram-QEK2KX5R.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/diagram-QEK2KX5R.mjs"));\n  return { id: id24, diagram: diagram2 };\n}, "loader");\nvar radar = {\n  id: id24,\n  detector: detector24,\n  loader: loader24\n};\n\n// src/diagrams/block/blockDetector.ts\nvar id25 = "block";\nvar detector25 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*block(-beta)?/.test(txt);\n}, "detector");\nvar loader25 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/blockDiagram-VD42YOAC.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/blockDiagram-VD42YOAC.mjs"));\n  return { id: id25, diagram: diagram2 };\n}, "loader");\nvar plugin21 = {\n  id: id25,\n  detector: detector25,\n  loader: loader25\n};\nvar blockDetector_default = plugin21;\n\n// src/diagrams/architecture/architectureDetector.ts\nvar id26 = "architecture";\nvar detector26 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*architecture/.test(txt);\n}, "detector");\nvar loader26 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/architectureDiagram-VXUJARFQ.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/architectureDiagram-VXUJARFQ.mjs"));\n  return { id: id26, diagram: diagram2 };\n}, "loader");\nvar architecture = {\n  id: id26,\n  detector: detector26,\n  loader: loader26\n};\nvar architectureDetector_default = architecture;\n\n// src/diagrams/treemap/detector.ts\nvar id27 = "treemap";\nvar detector27 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((txt) => {\n  return /^\\s*treemap/.test(txt);\n}, "detector");\nvar loader27 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  const { diagram: diagram2 } = await Promise.all(/*! import() */[__webpack_require__.e("diagram/mermaid"), __webpack_require__.e("diagram/otherDeps")]).then(__webpack_require__.bind(__webpack_require__, /*! ./chunks/mermaid.core/diagram-PSM6KHXK.mjs */ "./node_modules/mermaid/dist/chunks/mermaid.core/diagram-PSM6KHXK.mjs"));\n  return { id: id27, diagram: diagram2 };\n}, "loader");\nvar treemap = {\n  id: id27,\n  detector: detector27,\n  loader: loader27\n};\n\n// src/diagram-api/diagram-orchestration.ts\nvar hasLoadedDiagrams = false;\nvar addDiagrams = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(() => {\n  if (hasLoadedDiagrams) {\n    return;\n  }\n  hasLoadedDiagrams = true;\n  (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.registerDiagram)("error", errorDiagram_default, (text) => {\n    return text.toLowerCase().trim() === "error";\n  });\n  (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.registerDiagram)(\n    "---",\n    // --- diagram type may appear if YAML front-matter is not parsed correctly\n    {\n      db: {\n        clear: /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(() => {\n        }, "clear")\n      },\n      styles: {},\n      // should never be used\n      renderer: {\n        draw: /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(() => {\n        }, "draw")\n      },\n      parser: {\n        parse: /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(() => {\n          throw new Error(\n            "Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you\'ve correctly opened and closed the YAML front-matter with un-indented `---` blocks"\n          );\n        }, "parse")\n      },\n      init: /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(() => null, "init")\n      // no op\n    },\n    (text) => {\n      return text.toLowerCase().trimStart().startsWith("---");\n    }\n  );\n  if (true) {\n    (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.registerLazyLoadedDiagrams)(detector_default, detector_default3, architectureDetector_default);\n  }\n  (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.registerLazyLoadedDiagrams)(\n    c4Detector_default,\n    detector_default4,\n    classDetector_V2_default,\n    classDetector_default,\n    erDetector_default,\n    ganttDetector_default,\n    info,\n    pie,\n    requirementDetector_default,\n    sequenceDetector_default,\n    flowDetector_v2_default,\n    flowDetector_default,\n    detector_default2,\n    gitGraphDetector_default,\n    stateDetector_V2_default,\n    stateDetector_default,\n    journeyDetector_default,\n    quadrantDetector_default,\n    sankeyDetector_default,\n    packet,\n    xychartDetector_default,\n    blockDetector_default,\n    radar,\n    treemap\n  );\n}, "addDiagrams");\n\n// src/diagram-api/loadDiagram.ts\nvar loadRegisteredDiagrams = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug(`Loading registered diagrams`);\n  const results = await Promise.allSettled(\n    Object.entries(_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.detectors).map(async ([key, { detector: detector28, loader: loader28 }]) => {\n      if (!loader28) {\n        return;\n      }\n      try {\n        (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getDiagram)(key);\n      } catch {\n        try {\n          const { diagram: diagram2, id: id28 } = await loader28();\n          (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.registerDiagram)(id28, diagram2, detector28);\n        } catch (err) {\n          _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.error(`Failed to load external diagram with key ${key}. Removing from detectors.`);\n          delete _chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.detectors[key];\n          throw err;\n        }\n      }\n    })\n  );\n  const failed = results.filter((result) => result.status === "rejected");\n  if (failed.length > 0) {\n    _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.error(`Failed to load ${failed.length} external diagrams`);\n    for (const res of failed) {\n      _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.error(res);\n    }\n    throw new Error(`Failed to load ${failed.length} external diagrams`);\n  }\n}, "loadRegisteredDiagrams");\n\n// src/mermaidAPI.ts\n\n\n\n\n\n// src/accessibility.ts\nvar SVG_ROLE = "graphics-document document";\nfunction setA11yDiagramInfo(svg, diagramType) {\n  svg.attr("role", SVG_ROLE);\n  if (diagramType !== "") {\n    svg.attr("aria-roledescription", diagramType);\n  }\n}\n(0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(setA11yDiagramInfo, "setA11yDiagramInfo");\nfunction addSVGa11yTitleDescription(svg, a11yTitle, a11yDesc, baseId) {\n  if (svg.insert === void 0) {\n    return;\n  }\n  if (a11yDesc) {\n    const descId = `chart-desc-${baseId}`;\n    svg.attr("aria-describedby", descId);\n    svg.insert("desc", ":first-child").attr("id", descId).text(a11yDesc);\n  }\n  if (a11yTitle) {\n    const titleId = `chart-title-${baseId}`;\n    svg.attr("aria-labelledby", titleId);\n    svg.insert("title", ":first-child").attr("id", titleId).text(a11yTitle);\n  }\n}\n(0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(addSVGa11yTitleDescription, "addSVGa11yTitleDescription");\n\n// src/Diagram.ts\nvar Diagram = class _Diagram {\n  constructor(type, text, db, parser, renderer2) {\n    this.type = type;\n    this.text = text;\n    this.db = db;\n    this.parser = parser;\n    this.renderer = renderer2;\n  }\n  static {\n    (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(this, "Diagram");\n  }\n  static async fromText(text, metadata = {}) {\n    const config = (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig)();\n    const type = (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.detectType)(text, config);\n    text = (0,_chunks_mermaid_core_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__.encodeEntities)(text) + "\\n";\n    try {\n      (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getDiagram)(type);\n    } catch {\n      const loader28 = (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getDiagramLoader)(type);\n      if (!loader28) {\n        throw new _chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.UnknownDiagramError(`Diagram ${type} not found.`);\n      }\n      const { id: id28, diagram: diagram2 } = await loader28();\n      (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.registerDiagram)(id28, diagram2);\n    }\n    const { db, parser, renderer: renderer2, init: init2 } = (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getDiagram)(type);\n    if (parser.parser) {\n      parser.parser.yy = db;\n    }\n    db.clear?.();\n    init2?.(config);\n    if (metadata.title) {\n      db.setDiagramTitle?.(metadata.title);\n    }\n    await parser.parse(text);\n    return new _Diagram(type, text, db, parser, renderer2);\n  }\n  async render(id28, version) {\n    await this.renderer.draw(this.text, id28, version, this);\n  }\n  getParser() {\n    return this.parser;\n  }\n  getType() {\n    return this.type;\n  }\n};\n\n// src/interactionDb.ts\nvar interactionFunctions = [];\nvar attachFunctions = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(() => {\n  interactionFunctions.forEach((f) => {\n    f();\n  });\n  interactionFunctions = [];\n}, "attachFunctions");\n\n// src/diagram-api/comments.ts\nvar cleanupComments = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((text) => {\n  return text.replace(/^\\s*%%(?!{)[^\\n]+\\n?/gm, "").trimStart();\n}, "cleanupComments");\n\n// src/diagram-api/frontmatter.ts\nfunction extractFrontMatter(text) {\n  const matches = text.match(_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.frontMatterRegex);\n  if (!matches) {\n    return {\n      text,\n      metadata: {}\n    };\n  }\n  let parsed = (0,_chunks_mermaid_core_chunk_MI3HLSF2_mjs__WEBPACK_IMPORTED_MODULE_2__.load)(matches[1], {\n    // To support config, we need JSON schema.\n    // https://www.yaml.org/spec/1.2/spec.html#id2803231\n    schema: _chunks_mermaid_core_chunk_MI3HLSF2_mjs__WEBPACK_IMPORTED_MODULE_2__.JSON_SCHEMA\n  }) ?? {};\n  parsed = typeof parsed === "object" && !Array.isArray(parsed) ? parsed : {};\n  const metadata = {};\n  if (parsed.displayMode) {\n    metadata.displayMode = parsed.displayMode.toString();\n  }\n  if (parsed.title) {\n    metadata.title = parsed.title.toString();\n  }\n  if (parsed.config) {\n    metadata.config = parsed.config;\n  }\n  return {\n    text: text.slice(matches[0].length),\n    metadata\n  };\n}\n(0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(extractFrontMatter, "extractFrontMatter");\n\n// src/preprocess.ts\nvar cleanupText = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((code) => {\n  return code.replace(/\\r\\n?/g, "\\n").replace(\n    /<(\\w+)([^>]*)>/g,\n    (match, tag, attributes) => "<" + tag + attributes.replace(/="([^"]*)"/g, "=\'$1\'") + ">"\n  );\n}, "cleanupText");\nvar processFrontmatter = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((code) => {\n  const { text, metadata } = extractFrontMatter(code);\n  const { displayMode, title, config = {} } = metadata;\n  if (displayMode) {\n    if (!config.gantt) {\n      config.gantt = {};\n    }\n    config.gantt.displayMode = displayMode;\n  }\n  return { title, config, text };\n}, "processFrontmatter");\nvar processDirectives = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((code) => {\n  const initDirective = _chunks_mermaid_core_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__.utils_default.detectInit(code) ?? {};\n  const wrapDirectives = _chunks_mermaid_core_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__.utils_default.detectDirective(code, "wrap");\n  if (Array.isArray(wrapDirectives)) {\n    initDirective.wrap = wrapDirectives.some(({ type }) => type === "wrap");\n  } else if (wrapDirectives?.type === "wrap") {\n    initDirective.wrap = true;\n  }\n  return {\n    text: (0,_chunks_mermaid_core_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__.removeDirectives)(code),\n    directive: initDirective\n  };\n}, "processDirectives");\nfunction preprocessDiagram(code) {\n  const cleanedCode = cleanupText(code);\n  const frontMatterResult = processFrontmatter(cleanedCode);\n  const directiveResult = processDirectives(frontMatterResult.text);\n  const config = (0,_chunks_mermaid_core_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__.cleanAndMerge)(frontMatterResult.config, directiveResult.directive);\n  code = cleanupComments(directiveResult.text);\n  return {\n    code,\n    title: frontMatterResult.title,\n    config\n  };\n}\n(0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(preprocessDiagram, "preprocessDiagram");\n\n// src/utils/base64.ts\nfunction toBase64(str) {\n  const utf8Bytes = new TextEncoder().encode(str);\n  const utf8Str = Array.from(utf8Bytes, (byte) => String.fromCodePoint(byte)).join("");\n  return btoa(utf8Str);\n}\n(0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(toBase64, "toBase64");\n\n// src/mermaidAPI.ts\nvar MAX_TEXTLENGTH = 5e4;\nvar MAX_TEXTLENGTH_EXCEEDED_MSG = "graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa";\nvar SECURITY_LVL_SANDBOX = "sandbox";\nvar SECURITY_LVL_LOOSE = "loose";\nvar XMLNS_SVG_STD = "http://www.w3.org/2000/svg";\nvar XMLNS_XLINK_STD = "http://www.w3.org/1999/xlink";\nvar XMLNS_XHTML_STD = "http://www.w3.org/1999/xhtml";\nvar IFRAME_WIDTH = "100%";\nvar IFRAME_HEIGHT = "100%";\nvar IFRAME_STYLES = "border:0;margin:0;";\nvar IFRAME_BODY_STYLE = "margin:0";\nvar IFRAME_SANDBOX_OPTS = "allow-top-navigation-by-user-activation allow-popups";\nvar IFRAME_NOT_SUPPORTED_MSG = \'The "iframe" tag is not supported by your browser.\';\nvar DOMPURIFY_TAGS = ["foreignobject"];\nvar DOMPURIFY_ATTR = ["dominant-baseline"];\nfunction processAndSetConfigs(text) {\n  const processed = preprocessDiagram(text);\n  (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.reset)();\n  (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.addDirective)(processed.config ?? {});\n  return processed;\n}\n(0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(processAndSetConfigs, "processAndSetConfigs");\nasync function parse(text, parseOptions) {\n  addDiagrams();\n  try {\n    const { code, config } = processAndSetConfigs(text);\n    const diagram2 = await getDiagramFromText(code);\n    return { diagramType: diagram2.type, config };\n  } catch (error) {\n    if (parseOptions?.suppressErrors) {\n      return false;\n    }\n    throw error;\n  }\n}\n(0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(parse, "parse");\nvar cssImportantStyles = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((cssClass, element, cssClasses = []) => {\n  return `\n.${cssClass} ${element} { ${cssClasses.join(" !important; ")} !important; }`;\n}, "cssImportantStyles");\nvar createCssStyles = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((config, classDefs = /* @__PURE__ */ new Map()) => {\n  let cssStyles = "";\n  if (config.themeCSS !== void 0) {\n    cssStyles += `\n${config.themeCSS}`;\n  }\n  if (config.fontFamily !== void 0) {\n    cssStyles += `\n:root { --mermaid-font-family: ${config.fontFamily}}`;\n  }\n  if (config.altFontFamily !== void 0) {\n    cssStyles += `\n:root { --mermaid-alt-font-family: ${config.altFontFamily}}`;\n  }\n  if (classDefs instanceof Map) {\n    const htmlLabels = config.htmlLabels ?? config.flowchart?.htmlLabels;\n    const cssHtmlElements = ["> *", "span"];\n    const cssShapeElements = ["rect", "polygon", "ellipse", "circle", "path"];\n    const cssElements = htmlLabels ? cssHtmlElements : cssShapeElements;\n    classDefs.forEach((styleClassDef) => {\n      if (!(0,lodash_es_isEmpty_js__WEBPACK_IMPORTED_MODULE_18__["default"])(styleClassDef.styles)) {\n        cssElements.forEach((cssElement) => {\n          cssStyles += cssImportantStyles(styleClassDef.id, cssElement, styleClassDef.styles);\n        });\n      }\n      if (!(0,lodash_es_isEmpty_js__WEBPACK_IMPORTED_MODULE_18__["default"])(styleClassDef.textStyles)) {\n        cssStyles += cssImportantStyles(\n          styleClassDef.id,\n          "tspan",\n          (styleClassDef?.textStyles || []).map((s) => s.replace("color", "fill"))\n        );\n      }\n    });\n  }\n  return cssStyles;\n}, "createCssStyles");\nvar createUserStyles = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((config, graphType, classDefs, svgId) => {\n  const userCSSstyles = createCssStyles(config, classDefs);\n  const allStyles = (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.styles_default)(graphType, userCSSstyles, config.themeVariables);\n  return (0,stylis__WEBPACK_IMPORTED_MODULE_16__.serialize)((0,stylis__WEBPACK_IMPORTED_MODULE_15__.compile)(`${svgId}{${allStyles}}`), stylis__WEBPACK_IMPORTED_MODULE_16__.stringify);\n}, "createUserStyles");\nvar cleanUpSvgCode = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((svgCode = "", inSandboxMode, useArrowMarkerUrls) => {\n  let cleanedUpSvg = svgCode;\n  if (!useArrowMarkerUrls && !inSandboxMode) {\n    cleanedUpSvg = cleanedUpSvg.replace(\n      /marker-end="url\\([\\d+./:=?A-Za-z-]*?#/g,\n      \'marker-end="url(#\'\n    );\n  }\n  cleanedUpSvg = (0,_chunks_mermaid_core_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__.decodeEntities)(cleanedUpSvg);\n  cleanedUpSvg = cleanedUpSvg.replace(/<br>/g, "<br/>");\n  return cleanedUpSvg;\n}, "cleanUpSvgCode");\nvar putIntoIFrame = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((svgCode = "", svgElement) => {\n  const height = svgElement?.viewBox?.baseVal?.height ? svgElement.viewBox.baseVal.height + "px" : IFRAME_HEIGHT;\n  const base64encodedSrc = toBase64(`<body style="${IFRAME_BODY_STYLE}">${svgCode}</body>`);\n  return `<iframe style="width:${IFRAME_WIDTH};height:${height};${IFRAME_STYLES}" src="data:text/html;charset=UTF-8;base64,${base64encodedSrc}" sandbox="${IFRAME_SANDBOX_OPTS}">\n  ${IFRAME_NOT_SUPPORTED_MSG}\n</iframe>`;\n}, "putIntoIFrame");\nvar appendDivSvgG = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((parentRoot, id28, enclosingDivId, divStyle, svgXlink) => {\n  const enclosingDiv = parentRoot.append("div");\n  enclosingDiv.attr("id", enclosingDivId);\n  if (divStyle) {\n    enclosingDiv.attr("style", divStyle);\n  }\n  const svgNode = enclosingDiv.append("svg").attr("id", id28).attr("width", "100%").attr("xmlns", XMLNS_SVG_STD);\n  if (svgXlink) {\n    svgNode.attr("xmlns:xlink", svgXlink);\n  }\n  svgNode.append("g");\n  return parentRoot;\n}, "appendDivSvgG");\nfunction sandboxedIframe(parentNode, iFrameId) {\n  return parentNode.append("iframe").attr("id", iFrameId).attr("style", "width: 100%; height: 100%;").attr("sandbox", "");\n}\n(0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(sandboxedIframe, "sandboxedIframe");\nvar removeExistingElements = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((doc, id28, divId, iFrameId) => {\n  doc.getElementById(id28)?.remove();\n  doc.getElementById(divId)?.remove();\n  doc.getElementById(iFrameId)?.remove();\n}, "removeExistingElements");\nvar render = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async function(id28, text, svgContainingElement) {\n  addDiagrams();\n  const processed = processAndSetConfigs(text);\n  text = processed.code;\n  const config = (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig)();\n  _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug(config);\n  if (text.length > (config?.maxTextSize ?? MAX_TEXTLENGTH)) {\n    text = MAX_TEXTLENGTH_EXCEEDED_MSG;\n  }\n  const idSelector = "#" + id28;\n  const iFrameID = "i" + id28;\n  const iFrameID_selector = "#" + iFrameID;\n  const enclosingDivID = "d" + id28;\n  const enclosingDivID_selector = "#" + enclosingDivID;\n  const removeTempElements = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(() => {\n    const tmpElementSelector = isSandboxed ? iFrameID_selector : enclosingDivID_selector;\n    const node = (0,d3__WEBPACK_IMPORTED_MODULE_14__.select)(tmpElementSelector).node();\n    if (node && "remove" in node) {\n      node.remove();\n    }\n  }, "removeTempElements");\n  let root = (0,d3__WEBPACK_IMPORTED_MODULE_14__.select)("body");\n  const isSandboxed = config.securityLevel === SECURITY_LVL_SANDBOX;\n  const isLooseSecurityLevel = config.securityLevel === SECURITY_LVL_LOOSE;\n  const fontFamily = config.fontFamily;\n  if (svgContainingElement !== void 0) {\n    if (svgContainingElement) {\n      svgContainingElement.innerHTML = "";\n    }\n    if (isSandboxed) {\n      const iframe = sandboxedIframe((0,d3__WEBPACK_IMPORTED_MODULE_14__.select)(svgContainingElement), iFrameID);\n      root = (0,d3__WEBPACK_IMPORTED_MODULE_14__.select)(iframe.nodes()[0].contentDocument.body);\n      root.node().style.margin = 0;\n    } else {\n      root = (0,d3__WEBPACK_IMPORTED_MODULE_14__.select)(svgContainingElement);\n    }\n    appendDivSvgG(root, id28, enclosingDivID, `font-family: ${fontFamily}`, XMLNS_XLINK_STD);\n  } else {\n    removeExistingElements(document, id28, enclosingDivID, iFrameID);\n    if (isSandboxed) {\n      const iframe = sandboxedIframe((0,d3__WEBPACK_IMPORTED_MODULE_14__.select)("body"), iFrameID);\n      root = (0,d3__WEBPACK_IMPORTED_MODULE_14__.select)(iframe.nodes()[0].contentDocument.body);\n      root.node().style.margin = 0;\n    } else {\n      root = (0,d3__WEBPACK_IMPORTED_MODULE_14__.select)("body");\n    }\n    appendDivSvgG(root, id28, enclosingDivID);\n  }\n  let diag;\n  let parseEncounteredException;\n  try {\n    diag = await Diagram.fromText(text, { title: processed.title });\n  } catch (error) {\n    if (config.suppressErrorRendering) {\n      removeTempElements();\n      throw error;\n    }\n    diag = await Diagram.fromText("error");\n    parseEncounteredException = error;\n  }\n  const element = root.select(enclosingDivID_selector).node();\n  const diagramType = diag.type;\n  const svg = element.firstChild;\n  const firstChild = svg.firstChild;\n  const diagramClassDefs = diag.renderer.getClasses?.(text, diag);\n  const rules = createUserStyles(config, diagramType, diagramClassDefs, idSelector);\n  const style1 = document.createElement("style");\n  style1.innerHTML = rules;\n  svg.insertBefore(style1, firstChild);\n  try {\n    await diag.renderer.draw(text, id28, _chunks_mermaid_core_chunk_KS23V3DP_mjs__WEBPACK_IMPORTED_MODULE_0__.package_default.version, diag);\n  } catch (e) {\n    if (config.suppressErrorRendering) {\n      removeTempElements();\n    } else {\n      errorRenderer_default.draw(text, id28, _chunks_mermaid_core_chunk_KS23V3DP_mjs__WEBPACK_IMPORTED_MODULE_0__.package_default.version);\n    }\n    throw e;\n  }\n  const svgNode = root.select(`${enclosingDivID_selector} svg`);\n  const a11yTitle = diag.db.getAccTitle?.();\n  const a11yDescr = diag.db.getAccDescription?.();\n  addA11yInfo(diagramType, svgNode, a11yTitle, a11yDescr);\n  root.select(`[id="${id28}"]`).selectAll("foreignobject > *").attr("xmlns", XMLNS_XHTML_STD);\n  let svgCode = root.select(enclosingDivID_selector).node().innerHTML;\n  _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug("config.arrowMarkerAbsolute", config.arrowMarkerAbsolute);\n  svgCode = cleanUpSvgCode(svgCode, isSandboxed, (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.evaluate)(config.arrowMarkerAbsolute));\n  if (isSandboxed) {\n    const svgEl = root.select(enclosingDivID_selector + " svg").node();\n    svgCode = putIntoIFrame(svgCode, svgEl);\n  } else if (!isLooseSecurityLevel) {\n    svgCode = dompurify__WEBPACK_IMPORTED_MODULE_17__["default"].sanitize(svgCode, {\n      ADD_TAGS: DOMPURIFY_TAGS,\n      ADD_ATTR: DOMPURIFY_ATTR,\n      HTML_INTEGRATION_POINTS: { foreignobject: true }\n    });\n  }\n  attachFunctions();\n  if (parseEncounteredException) {\n    throw parseEncounteredException;\n  }\n  removeTempElements();\n  return {\n    diagramType,\n    svg: svgCode,\n    bindFunctions: diag.db.bindFunctions\n  };\n}, "render");\nfunction initialize(userOptions = {}) {\n  const options = (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.assignWithDepth_default)({}, userOptions);\n  if (options?.fontFamily && !options.themeVariables?.fontFamily) {\n    if (!options.themeVariables) {\n      options.themeVariables = {};\n    }\n    options.themeVariables.fontFamily = options.fontFamily;\n  }\n  (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.saveConfigFromInitialize)(options);\n  if (options?.theme && options.theme in _chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.themes_default) {\n    options.themeVariables = _chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.themes_default[options.theme].getThemeVariables(\n      options.themeVariables\n    );\n  } else if (options) {\n    options.themeVariables = _chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.themes_default.default.getThemeVariables(options.themeVariables);\n  }\n  const config = typeof options === "object" ? (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.setSiteConfig)(options) : (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getSiteConfig)();\n  (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.setLogLevel)(config.logLevel);\n  addDiagrams();\n}\n(0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(initialize, "initialize");\nvar getDiagramFromText = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((text, metadata = {}) => {\n  const { code } = preprocessDiagram(text);\n  return Diagram.fromText(code, metadata);\n}, "getDiagramFromText");\nfunction addA11yInfo(diagramType, svgNode, a11yTitle, a11yDescr) {\n  setA11yDiagramInfo(svgNode, diagramType);\n  addSVGa11yTitleDescription(svgNode, a11yTitle, a11yDescr, svgNode.attr("id"));\n}\n(0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(addA11yInfo, "addA11yInfo");\nvar mermaidAPI = Object.freeze({\n  render,\n  parse,\n  getDiagramFromText,\n  initialize,\n  getConfig: _chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig,\n  setConfig: _chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.setConfig,\n  getSiteConfig: _chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getSiteConfig,\n  updateSiteConfig: _chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.updateSiteConfig,\n  reset: /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(() => {\n    (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.reset)();\n  }, "reset"),\n  globalReset: /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(() => {\n    (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.reset)(_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.defaultConfig);\n  }, "globalReset"),\n  defaultConfig: _chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.defaultConfig\n});\n(0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.setLogLevel)((0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig)().logLevel);\n(0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.reset)((0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.getConfig)());\n\n// src/mermaid.ts\nvar handleError = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((error, errors, parseError) => {\n  _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.warn(error);\n  if ((0,_chunks_mermaid_core_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__.isDetailedError)(error)) {\n    if (parseError) {\n      parseError(error.str, error.hash);\n    }\n    errors.push({ ...error, message: error.str, error });\n  } else {\n    if (parseError) {\n      parseError(error);\n    }\n    if (error instanceof Error) {\n      errors.push({\n        str: error.message,\n        message: error.message,\n        hash: error.name,\n        error\n      });\n    }\n  }\n}, "handleError");\nvar run = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async function(options = {\n  querySelector: ".mermaid"\n}) {\n  try {\n    await runThrowsErrors(options);\n  } catch (e) {\n    if ((0,_chunks_mermaid_core_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__.isDetailedError)(e)) {\n      _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.error(e.str);\n    }\n    if (mermaid.parseError) {\n      mermaid.parseError(e);\n    }\n    if (!options.suppressErrors) {\n      _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.error("Use the suppressErrors option to suppress these errors");\n      throw e;\n    }\n  }\n}, "run");\nvar runThrowsErrors = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async function({ postRenderCallback, querySelector, nodes } = {\n  querySelector: ".mermaid"\n}) {\n  const conf = mermaidAPI.getConfig();\n  _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug(`${!postRenderCallback ? "No " : ""}Callback function found`);\n  let nodesToProcess;\n  if (nodes) {\n    nodesToProcess = nodes;\n  } else if (querySelector) {\n    nodesToProcess = document.querySelectorAll(querySelector);\n  } else {\n    throw new Error("Nodes and querySelector are both undefined");\n  }\n  _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug(`Found ${nodesToProcess.length} diagrams`);\n  if (conf?.startOnLoad !== void 0) {\n    _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug("Start On Load: " + conf?.startOnLoad);\n    mermaidAPI.updateSiteConfig({ startOnLoad: conf?.startOnLoad });\n  }\n  const idGenerator = new _chunks_mermaid_core_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__.utils_default.InitIDGenerator(conf.deterministicIds, conf.deterministicIDSeed);\n  let txt;\n  const errors = [];\n  for (const element of Array.from(nodesToProcess)) {\n    _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.info("Rendering diagram: " + element.id);\n    if (element.getAttribute("data-processed")) {\n      continue;\n    }\n    element.setAttribute("data-processed", "true");\n    const id28 = `mermaid-${idGenerator.next()}`;\n    txt = element.innerHTML;\n    txt = (0,ts_dedent__WEBPACK_IMPORTED_MODULE_13__.dedent)(_chunks_mermaid_core_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__.utils_default.entityDecode(txt)).trim().replace(/<br\\s*\\/?>/gi, "<br/>");\n    const init2 = _chunks_mermaid_core_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_10__.utils_default.detectInit(txt);\n    if (init2) {\n      _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.debug("Detected early reinit: ", init2);\n    }\n    try {\n      const { svg, bindFunctions } = await render2(id28, txt, element);\n      element.innerHTML = svg;\n      if (postRenderCallback) {\n        await postRenderCallback(id28);\n      }\n      if (bindFunctions) {\n        bindFunctions(element);\n      }\n    } catch (error) {\n      handleError(error, errors, mermaid.parseError);\n    }\n  }\n  if (errors.length > 0) {\n    throw errors[0];\n  }\n}, "runThrowsErrors");\nvar initialize2 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(function(config) {\n  mermaidAPI.initialize(config);\n}, "initialize");\nvar init = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async function(config, nodes, callback) {\n  _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.warn("mermaid.init is deprecated. Please use run instead.");\n  if (config) {\n    initialize2(config);\n  }\n  const runOptions = { postRenderCallback: callback, querySelector: ".mermaid" };\n  if (typeof nodes === "string") {\n    runOptions.querySelector = nodes;\n  } else if (nodes) {\n    if (nodes instanceof HTMLElement) {\n      runOptions.nodes = [nodes];\n    } else {\n      runOptions.nodes = nodes;\n    }\n  }\n  await run(runOptions);\n}, "init");\nvar registerExternalDiagrams = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async (diagrams, {\n  lazyLoad = true\n} = {}) => {\n  addDiagrams();\n  (0,_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.registerLazyLoadedDiagrams)(...diagrams);\n  if (lazyLoad === false) {\n    await loadRegisteredDiagrams();\n  }\n}, "registerExternalDiagrams");\nvar contentLoaded = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(function() {\n  if (mermaid.startOnLoad) {\n    const { startOnLoad } = mermaidAPI.getConfig();\n    if (startOnLoad) {\n      mermaid.run().catch((err) => _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.error("Mermaid failed to initialize", err));\n    }\n  }\n}, "contentLoaded");\nif (typeof document !== "undefined") {\n  window.addEventListener("load", contentLoaded, false);\n}\nvar setParseErrorHandler = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(function(parseErrorHandler) {\n  mermaid.parseError = parseErrorHandler;\n}, "setParseErrorHandler");\nvar executionQueue = [];\nvar executionQueueRunning = false;\nvar executeQueue = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async () => {\n  if (executionQueueRunning) {\n    return;\n  }\n  executionQueueRunning = true;\n  while (executionQueue.length > 0) {\n    const f = executionQueue.shift();\n    if (f) {\n      try {\n        await f();\n      } catch (e) {\n        _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.error("Error executing queue", e);\n      }\n    }\n  }\n  executionQueueRunning = false;\n}, "executeQueue");\nvar parse2 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(async (text, parseOptions) => {\n  return new Promise((resolve, reject) => {\n    const performCall = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(() => new Promise((res, rej) => {\n      mermaidAPI.parse(text, parseOptions).then(\n        (r) => {\n          res(r);\n          resolve(r);\n        },\n        (e) => {\n          _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.error("Error parsing", e);\n          mermaid.parseError?.(e);\n          rej(e);\n          reject(e);\n        }\n      );\n    }), "performCall");\n    executionQueue.push(performCall);\n    executeQueue().catch(reject);\n  });\n}, "parse");\nvar render2 = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)((id28, text, container) => {\n  return new Promise((resolve, reject) => {\n    const performCall = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(() => new Promise((res, rej) => {\n      mermaidAPI.render(id28, text, container).then(\n        (r) => {\n          res(r);\n          resolve(r);\n        },\n        (e) => {\n          _chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.log.error("Error parsing", e);\n          mermaid.parseError?.(e);\n          rej(e);\n          reject(e);\n        }\n      );\n    }), "performCall");\n    executionQueue.push(performCall);\n    executeQueue().catch(reject);\n  });\n}, "render");\nvar getRegisteredDiagramsMetadata = /* @__PURE__ */ (0,_chunks_mermaid_core_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_12__.__name)(() => {\n  return Object.keys(_chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.detectors).map((id28) => ({\n    id: id28\n  }));\n}, "getRegisteredDiagramsMetadata");\nvar mermaid = {\n  startOnLoad: true,\n  mermaidAPI,\n  parse: parse2,\n  render: render2,\n  init,\n  run,\n  registerExternalDiagrams,\n  registerLayoutLoaders: _chunks_mermaid_core_chunk_N4CR4FBY_mjs__WEBPACK_IMPORTED_MODULE_3__.registerLayoutLoaders,\n  initialize: initialize2,\n  parseError: void 0,\n  contentLoaded,\n  setParseErrorHandler,\n  detectType: _chunks_mermaid_core_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_11__.detectType,\n  registerIconPacks: _chunks_mermaid_core_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_9__.registerIconPacks,\n  getRegisteredDiagramsMetadata\n};\nvar mermaid_default = mermaid;\n\n/*! Check if previously processed */\n/*!\n * Wait for document loaded before starting the execution\n */\n\n\n//# sourceURL=webpack://zolarwind/./node_modules/mermaid/dist/mermaid.core.mjs?\n}')}}]);